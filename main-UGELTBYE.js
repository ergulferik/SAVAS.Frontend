import{$ as yr,$a as tI,$b as Ss,$c as D_,A as kf,Aa as Ly,Ab as Ee,Ac as T3,B as js,Ba as Fn,Bb as Cu,Bc as A3,C as K1,Ca as qa,Cb as Mi,Cc as k3,D as Ry,Da as En,Db as Gs,Dc as M3,E as Gd,Ea as x_,Eb as Wn,Ec as Ui,Ed as q3,F as Fy,Fa as St,Fb as By,Fc as Zy,G as $n,Ga as _t,Gb as Vy,Gc as Xd,H as os,Ha as sp,Hb as se,Hc as Qa,I as Bn,Ia as At,Ib as ne,Ic as R3,J as q1,Ja as eI,Jb as je,Jc as F3,K as jo,Ka as r3,Kb as gn,Kc as ap,L as mu,La as C_,Lb as ws,Lc as P3,M as Mf,Ma as s3,Mb as Hy,Mc as L3,N as Y1,Na as tr,Nb as Et,Nc as jt,O as Jo,Oa as $o,Ob as zy,Oc as N3,P as QV,Pa as w_,Pb as xt,Pc as O_,Q as JV,Qa as $s,Qb as Un,Qc as B3,R as X1,Ra as Pf,Rb as Hi,Rc as V3,S as Kd,Sa as Lf,Sb as cn,Sc as Zd,T as gu,Ta as a3,Tb as _n,Tc as Qy,U as Z1,Ua as l3,Ub as Lt,Uc as I_,V as e3,Va as d3,Vb as Nt,Vc as Jy,W as t3,Wa as c3,Wb as v3,Wc as wu,X as i3,Xa as u3,Xb as y3,Xc as H3,Y as Q1,Ya as h3,Yb as rs,Yc as z3,Z as Py,Za as p3,Zb as me,Zc as Es,_ as Er,_a as Ws,_b as Za,_c as j3,a as Le,aa as Xi,ab as f3,ac as jy,ad as lp,b as ci,ba as eo,bb as S_,bc as $y,bd as $3,c as __,ca as Rn,cb as _e,cc as Wy,cd as Vf,d as qV,da as _u,db as oe,dc as Wt,dd as la,e as W1,ea as er,eb as bu,ec as Wi,ed as Or,f as ky,fa as rt,fb as Ya,fc as zi,fd as W3,g as is,ga as Fe,gb as m3,gc as en,gd as co,h as YV,ha as n3,hb as Nf,hc as x3,hd as zl,i as ze,ia as ct,ib as Bf,ic as C3,id as aI,j as Tf,ja as J1,jb as Hl,jc as w3,jd as Lr,k as b_,ka as ke,kb as Xa,kc as S3,l as Af,la as Ge,lb as E_,lc as Uy,m as Xn,ma as Rf,mb as iI,mc as E3,n as XV,na as v_,nb as vu,nc as Gy,o as ns,oa as y_,ob as g3,oc as Ky,p as U1,pa as $e,pb as yt,pc as oI,pd as U3,q as G1,qa as Pe,qb as _3,qc as qy,qd as T_,r as Tt,ra as Pt,rb as to,rc as rI,rd as ex,s as xs,sa as rp,sb as b3,sc as Yy,t as Vl,ta as o3,tb as nI,tc as Yd,u as Qo,ua as qd,ub as ii,uc as O3,v as Bt,va as aa,vb as Ny,vc as Xy,w as Cs,wa as on,wb as Us,wc as I3,wd as G3,x as My,xa as Xt,xb as yu,xc as D3,xd as tx,y as ZV,ya as Zt,yb as xu,yc as Vn,z as Oi,za as Ff,zb as ki,zc as sI,zd as K3}from"./chunk-JZ5RMDI6.js";var om=W1((wD,SD)=>{"use strict";(function(i,e){typeof define=="function"&&define.amd?define([],e):typeof wD<"u"?e():(e(),i.FileSaver={})})(wD,function(){"use strict";function i(a,l){return typeof l>"u"?l={autoBom:!1}:typeof l!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function e(a,l,d){var c=new XMLHttpRequest;c.open("GET",a),c.responseType="blob",c.onload=function(){s(c.response,l,d)},c.onerror=function(){console.error("could not download file")},c.send()}function t(a){var l=new XMLHttpRequest;l.open("HEAD",a,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function n(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(l)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,r=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(a,l,d){var c=o.URL||o.webkitURL,u=document.createElement("a");l=l||a.name||"download",u.download=l,u.rel="noopener",typeof a=="string"?(u.href=a,u.origin===location.origin?n(u):t(u.href)?e(a,l,d):n(u,u.target="_blank")):(u.href=c.createObjectURL(a),setTimeout(function(){c.revokeObjectURL(u.href)},4e4),setTimeout(function(){n(u)},0))}:"msSaveOrOpenBlob"in navigator?function(a,l,d){if(l=l||a.name||"download",typeof a!="string")navigator.msSaveOrOpenBlob(i(a,d),l);else if(t(a))e(a,l,d);else{var c=document.createElement("a");c.href=a,c.target="_blank",setTimeout(function(){n(c)})}}:function(a,l,d,c){if(c=c||open("","_blank"),c&&(c.document.title=c.document.body.innerText="downloading..."),typeof a=="string")return e(a,l,d);var u=a.type==="application/octet-stream",h=/constructor/i.test(o.HTMLElement)||o.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||u&&h||r)&&typeof FileReader<"u"){var p=new FileReader;p.onloadend=function(){var b=p.result;b=f?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=b:location=b,c=null},p.readAsDataURL(a)}else{var m=o.URL||o.webkitURL,g=m.createObjectURL(a);c?c.location=g:location.href=g,c=null,setTimeout(function(){m.revokeObjectURL(g)},4e4)}});o.saveAs=s.saveAs=s,typeof SD<"u"&&(SD.exports=s)})});var mp=W1((Xl,ED)=>{"use strict";(function(i,e){typeof Xl=="object"&&typeof ED<"u"?ED.exports=e():typeof define=="function"&&define.amd?define(e):(i=typeof globalThis<"u"?globalThis:i||self,i.Sweetalert2=e())})(Xl,function(){"use strict";function i(Q,H){(H==null||H>Q.length)&&(H=Q.length);for(var $=0,Z=Array(H);$<H;$++)Z[$]=Q[$];return Z}function e(Q){if(Array.isArray(Q))return Q}function t(Q){if(Array.isArray(Q))return i(Q)}function n(Q,H,$){if(typeof Q=="function"?Q===H:Q.has(H))return arguments.length<3?H:$;throw new TypeError("Private element is not present on this object")}function o(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function r(Q,H,$){return H=g(H),R(Q,x()?Reflect.construct(H,$||[],g(Q).constructor):H.apply(Q,$))}function s(Q,H){if(H.has(Q))throw new TypeError("Cannot initialize the same private elements twice on an object")}function a(Q,H){if(!(Q instanceof H))throw new TypeError("Cannot call a class as a function")}function l(Q,H){return Q.get(n(Q,H))}function d(Q,H,$){s(Q,H),H.set(Q,$)}function c(Q,H,$){return Q.set(n(Q,H),$),$}function u(Q,H,$){if(x())return Reflect.construct.apply(null,arguments);var Z=[null];Z.push.apply(Z,H);var ue=new(Q.bind.apply(Q,Z));return ue}function h(Q,H){for(var $=0;$<H.length;$++){var Z=H[$];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(Q,_(Z.key),Z)}}function f(Q,H,$){return H&&h(Q.prototype,H),Object.defineProperty(Q,"prototype",{writable:!1}),Q}function p(Q,H){var $=typeof Symbol<"u"&&Q[Symbol.iterator]||Q["@@iterator"];if(!$){if(Array.isArray(Q)||($=C(Q))||H){$&&(Q=$);var Z=0,ue=function(){};return{s:ue,n:function(){return Z>=Q.length?{done:!0}:{done:!1,value:Q[Z++]}},e:function(Vi){throw Vi},f:ue}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ne,wt=!0,Ki=!1;return{s:function(){$=$.call(Q)},n:function(){var Vi=$.next();return wt=Vi.done,Vi},e:function(Vi){Ki=!0,Ne=Vi},f:function(){try{wt||$.return==null||$.return()}finally{if(Ki)throw Ne}}}}function m(){return m=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(Q,H,$){var Z=V(Q,H);if(Z){var ue=Object.getOwnPropertyDescriptor(Z,H);return ue.get?ue.get.call(arguments.length<3?Q:$):ue.value}},m.apply(null,arguments)}function g(Q){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},g(Q)}function b(Q,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(H&&H.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),Object.defineProperty(Q,"prototype",{writable:!1}),H&&N(Q,H)}function x(){try{var Q=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x=function(){return!!Q})()}function E(Q){if(typeof Symbol<"u"&&Q[Symbol.iterator]!=null||Q["@@iterator"]!=null)return Array.from(Q)}function D(Q,H){var $=Q==null?null:typeof Symbol<"u"&&Q[Symbol.iterator]||Q["@@iterator"];if($!=null){var Z,ue,Ne,wt,Ki=[],Vi=!0,Mo=!1;try{if(Ne=($=$.call(Q)).next,H!==0)for(;!(Vi=(Z=Ne.call($)).done)&&(Ki.push(Z.value),Ki.length!==H);Vi=!0);}catch(g_){Mo=!0,ue=g_}finally{try{if(!Vi&&$.return!=null&&(wt=$.return(),Object(wt)!==wt))return}finally{if(Mo)throw ue}}return Ki}}function L(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R(Q,H){if(H&&(typeof H=="object"||typeof H=="function"))return H;if(H!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o(Q)}function N(Q,H){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,Z){return $.__proto__=Z,$},N(Q,H)}function z(Q,H){return e(Q)||D(Q,H)||C(Q,H)||L()}function V(Q,H){for(;!{}.hasOwnProperty.call(Q,H)&&(Q=g(Q))!==null;);return Q}function S(Q,H,$,Z){var ue=m(g(Q.prototype),H,$);return function(Ne){return ue.apply($,Ne)}}function T(Q){return t(Q)||E(Q)||C(Q)||k()}function B(Q,H){if(typeof Q!="object"||!Q)return Q;var $=Q[Symbol.toPrimitive];if($!==void 0){var Z=$.call(Q,H);if(typeof Z!="object")return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}function _(Q){var H=B(Q,"string");return typeof H=="symbol"?H:H+""}function v(Q){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},v(Q)}function C(Q,H){if(Q){if(typeof Q=="string")return i(Q,H);var $={}.toString.call(Q).slice(8,-1);return $==="Object"&&Q.constructor&&($=Q.constructor.name),$==="Map"||$==="Set"?Array.from(Q):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?i(Q,H):void 0}}var y=100,w={},O=function(){w.previousActiveElement instanceof HTMLElement?(w.previousActiveElement.focus(),w.previousActiveElement=null):document.body&&document.body.focus()},P=function(H){return new Promise(function($){if(!H)return $();var Z=window.scrollX,ue=window.scrollY;w.restoreFocusTimeout=setTimeout(function(){O(),$()},y),window.scrollTo(Z,ue)})},W="swal2-",G=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],K=G.reduce(function(Q,H){return Q[H]=W+H,Q},{}),F=["success","warning","info","question","error"],Y=F.reduce(function(Q,H){return Q[H]=W+H,Q},{}),M="SweetAlert2:",A=function(H){return H.charAt(0).toUpperCase()+H.slice(1)},j=function(H){console.warn("".concat(M," ").concat(v(H)==="object"?H.join(" "):H))},J=function(H){console.error("".concat(M," ").concat(H))},ae=[],ie=function(H){ae.includes(H)||(ae.push(H),j(H))},re=function(H){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;ie('"'.concat(H,'" is deprecated and will be removed in the next major release.').concat($?' Use "'.concat($,'" instead.'):""))},Ce=function(H){return typeof H=="function"?H():H},ve=function(H){return H&&typeof H.toPromise=="function"},te=function(H){return ve(H)?H.toPromise():Promise.resolve(H)},ge=function(H){return H&&Promise.resolve(H)===H},he=function(){return document.body.querySelector(".".concat(K.container))},xe=function(H){var $=he();return $?$.querySelector(H):null},Oe=function(H){return xe(".".concat(H))},we=function(){return Oe(K.popup)},Te=function(){return Oe(K.icon)},Xe=function(){return Oe(K["icon-content"])},Je=function(){return Oe(K.title)},nt=function(){return Oe(K["html-container"])},$t=function(){return Oe(K.image)},pt=function(){return Oe(K["progress-steps"])},vt=function(){return Oe(K["validation-message"])},bi=function(){return xe(".".concat(K.actions," .").concat(K.confirm))},Ht=function(){return xe(".".concat(K.actions," .").concat(K.cancel))},gt=function(){return xe(".".concat(K.actions," .").concat(K.deny))},Jt=function(){return Oe(K["input-label"])},at=function(){return xe(".".concat(K.loader))},ot=function(){return Oe(K.actions)},Ai=function(){return Oe(K.footer)},Rt=function(){return Oe(K["timer-progress-bar"])},ei=function(){return Oe(K.close)},zs=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Yt=function(){var H=we();if(!H)return[];var $=H.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),Z=Array.from($).sort(function(wt,Ki){var Vi=parseInt(wt.getAttribute("tabindex")||"0"),Mo=parseInt(Ki.getAttribute("tabindex")||"0");return Vi>Mo?1:Vi<Mo?-1:0}),ue=H.querySelectorAll(zs),Ne=Array.from(ue).filter(function(wt){return wt.getAttribute("tabindex")!=="-1"});return T(new Set(Z.concat(Ne))).filter(function(wt){return Ni(wt)})},pi=function(){return Co(document.body,K.shown)&&!Co(document.body,K["toast-shown"])&&!Co(document.body,K["no-backdrop"])},lo=function(){var H=we();return H?Co(H,K.toast):!1},Si=function(){var H=we();return H?H.hasAttribute("data-loading"):!1},ti=function(H,$){if(H.textContent="",$){var Z=new DOMParser,ue=Z.parseFromString($,"text/html"),Ne=ue.querySelector("head");Ne&&Array.from(Ne.childNodes).forEach(function(Ki){H.appendChild(Ki)});var wt=ue.querySelector("body");wt&&Array.from(wt.childNodes).forEach(function(Ki){Ki instanceof HTMLVideoElement||Ki instanceof HTMLAudioElement?H.appendChild(Ki.cloneNode(!0)):H.appendChild(Ki)})}},Co=function(H,$){if(!$)return!1;for(var Z=$.split(/\s+/),ue=0;ue<Z.length;ue++)if(!H.classList.contains(Z[ue]))return!1;return!0},_i=function(H,$){Array.from(H.classList).forEach(function(Z){!Object.values(K).includes(Z)&&!Object.values(Y).includes(Z)&&!Object.values($.showClass||{}).includes(Z)&&H.classList.remove(Z)})},zt=function(H,$,Z){if(_i(H,$),!!$.customClass){var ue=$.customClass[Z];if(ue){if(typeof ue!="string"&&!ue.forEach){j("Invalid type of customClass.".concat(Z,'! Expected string or iterable object, got "').concat(v(ue),'"'));return}Li(H,ue)}}},Ao=function(H,$){if(!$)return null;switch($){case"select":case"textarea":case"file":return H.querySelector(".".concat(K.popup," > .").concat(K[$]));case"checkbox":return H.querySelector(".".concat(K.popup," > .").concat(K.checkbox," input"));case"radio":return H.querySelector(".".concat(K.popup," > .").concat(K.radio," input:checked"))||H.querySelector(".".concat(K.popup," > .").concat(K.radio," input:first-child"));case"range":return H.querySelector(".".concat(K.popup," > .").concat(K.range," input"));default:return H.querySelector(".".concat(K.popup," > .").concat(K.input))}},Ci=function(H){if(H.focus(),H.type!=="file"){var $=H.value;H.value="",H.value=$}},fi=function(H,$,Z){!H||!$||(typeof $=="string"&&($=$.split(/\s+/).filter(Boolean)),$.forEach(function(ue){Array.isArray(H)?H.forEach(function(Ne){Z?Ne.classList.add(ue):Ne.classList.remove(ue)}):Z?H.classList.add(ue):H.classList.remove(ue)}))},Li=function(H,$){fi(H,$,!0)},di=function(H,$){fi(H,$,!1)},fe=function(H,$){for(var Z=Array.from(H.children),ue=0;ue<Z.length;ue++){var Ne=Z[ue];if(Ne instanceof HTMLElement&&Co(Ne,$))return Ne}},Me=function(H,$,Z){Z==="".concat(parseInt(Z))&&(Z=parseInt(Z)),Z||parseInt(Z)===0?H.style.setProperty($,typeof Z=="number"?"".concat(Z,"px"):Z):H.style.removeProperty($)},Re=function(H){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";H&&(H.style.display=$)},Ue=function(H){H&&(H.style.display="none")},nn=function(H){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";H&&new MutationObserver(function(){Ot(H,H.innerHTML,$)}).observe(H,{childList:!0,subtree:!0})},mt=function(H,$,Z,ue){var Ne=H.querySelector($);Ne&&Ne.style.setProperty(Z,ue)},Ot=function(H,$){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";$?Re(H,Z):Ue(H)},Ni=function(H){return!!(H&&(H.offsetWidth||H.offsetHeight||H.getClientRects().length))},si=function(){return!Ni(bi())&&!Ni(gt())&&!Ni(Ht())},Dt=function(H){return H.scrollHeight>H.clientHeight},Cn=function(H){var $=window.getComputedStyle(H),Z=parseFloat($.getPropertyValue("animation-duration")||"0"),ue=parseFloat($.getPropertyValue("transition-duration")||"0");return Z>0||ue>0},$i=function(H){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Z=Rt();Z&&Ni(Z)&&($&&(Z.style.transition="none",Z.style.width="100%"),setTimeout(function(){Z.style.transition="width ".concat(H/1e3,"s linear"),Z.style.width="0%"},10))},Yi=function(){var H=Rt();if(H){var $=parseInt(window.getComputedStyle(H).width);H.style.removeProperty("transition"),H.style.width="100%";var Z=parseInt(window.getComputedStyle(H).width),ue=$/Z*100;H.style.width="".concat(ue,"%")}},Mn=function(){return typeof window>"u"||typeof document>"u"},mo=`
 <div aria-labelledby="`.concat(K.title,'" aria-describedby="').concat(K["html-container"],'" class="').concat(K.popup,`" tabindex="-1">
   <button type="button" class="`).concat(K.close,`"></button>
   <ul class="`).concat(K["progress-steps"],`"></ul>
   <div class="`).concat(K.icon,`"></div>
   <img class="`).concat(K.image,`" />
   <h2 class="`).concat(K.title,'" id="').concat(K.title,`"></h2>
   <div class="`).concat(K["html-container"],'" id="').concat(K["html-container"],`"></div>
   <input class="`).concat(K.input,'" id="').concat(K.input,`" />
   <input type="file" class="`).concat(K.file,`" />
   <div class="`).concat(K.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(K.select,'" id="').concat(K.select,`"></select>
   <div class="`).concat(K.radio,`"></div>
   <label class="`).concat(K.checkbox,`">
     <input type="checkbox" id="`).concat(K.checkbox,`" />
     <span class="`).concat(K.label,`"></span>
   </label>
   <textarea class="`).concat(K.textarea,'" id="').concat(K.textarea,`"></textarea>
   <div class="`).concat(K["validation-message"],'" id="').concat(K["validation-message"],`"></div>
   <div class="`).concat(K.actions,`">
     <div class="`).concat(K.loader,`"></div>
     <button type="button" class="`).concat(K.confirm,`"></button>
     <button type="button" class="`).concat(K.deny,`"></button>
     <button type="button" class="`).concat(K.cancel,`"></button>
   </div>
   <div class="`).concat(K.footer,`"></div>
   <div class="`).concat(K["timer-progress-bar-container"],`">
     <div class="`).concat(K["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),Zo=function(){var H=he();return H?(H.remove(),di([document.documentElement,document.body],[K["no-backdrop"],K["toast-shown"],K["has-column"]]),!0):!1},ko=function(){w.currentInstance.resetValidationMessage()},Ho=function(){var H=we(),$=fe(H,K.input),Z=fe(H,K.file),ue=H.querySelector(".".concat(K.range," input")),Ne=H.querySelector(".".concat(K.range," output")),wt=fe(H,K.select),Ki=H.querySelector(".".concat(K.checkbox," input")),Vi=fe(H,K.textarea);$.oninput=ko,Z.onchange=ko,wt.onchange=ko,Ki.onchange=ko,Vi.oninput=ko,ue.oninput=function(){ko(),Ne.value=ue.value},ue.onchange=function(){ko(),Ne.value=ue.value}},Sr=function(H){return typeof H=="string"?document.querySelector(H):H},ce=function(H){var $=we();$.setAttribute("role",H.toast?"alert":"dialog"),$.setAttribute("aria-live",H.toast?"polite":"assertive"),H.toast||$.setAttribute("aria-modal","true")},Ae=function(H){window.getComputedStyle(H).direction==="rtl"&&Li(he(),K.rtl)},Ye=function(H){var $=Zo();if(Mn()){J("SweetAlert2 requires document to initialize");return}var Z=document.createElement("div");Z.className=K.container,$&&Li(Z,K["no-transition"]),ti(Z,mo);var ue=Sr(H.target);ue.appendChild(Z),ce(H),Ae(ue),Ho()},He=function(H,$){H instanceof HTMLElement?$.appendChild(H):v(H)==="object"?dt(H,$):H&&ti($,H)},dt=function(H,$){H.jquery?Vt($,H):ti($,H.toString())},Vt=function(H,$){if(H.textContent="",0 in $)for(var Z=0;Z in $;Z++)H.appendChild($[Z].cloneNode(!0));else H.appendChild($.cloneNode(!0))},kt=function(){if(Mn())return!1;var Q=document.createElement("div");return typeof Q.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof Q.style.animation<"u"?"animationend":!1}(),Qi=function(H,$){var Z=ot(),ue=at();!Z||!ue||(!$.showConfirmButton&&!$.showDenyButton&&!$.showCancelButton?Ue(Z):Re(Z),zt(Z,$,"actions"),Ei(Z,ue,$),ti(ue,$.loaderHtml||""),zt(ue,$,"loader"))};function Ei(Q,H,$){var Z=bi(),ue=gt(),Ne=Ht();!Z||!ue||!Ne||(wi(Z,"confirm",$),wi(ue,"deny",$),wi(Ne,"cancel",$),vi(Z,ue,Ne,$),$.reverseButtons&&($.toast?(Q.insertBefore(Ne,Z),Q.insertBefore(ue,Z)):(Q.insertBefore(Ne,H),Q.insertBefore(ue,H),Q.insertBefore(Z,H))))}function vi(Q,H,$,Z){if(!Z.buttonsStyling){di([Q,H,$],K.styled);return}Li([Q,H,$],K.styled),Z.confirmButtonColor&&(Q.style.backgroundColor=Z.confirmButtonColor,Li(Q,K["default-outline"])),Z.denyButtonColor&&(H.style.backgroundColor=Z.denyButtonColor,Li(H,K["default-outline"])),Z.cancelButtonColor&&($.style.backgroundColor=Z.cancelButtonColor,Li($,K["default-outline"]))}function wi(Q,H,$){var Z=A(H);Ot(Q,$["show".concat(Z,"Button")],"inline-block"),ti(Q,$["".concat(H,"ButtonText")]||""),Q.setAttribute("aria-label",$["".concat(H,"ButtonAriaLabel")]||""),Q.className=K[H],zt(Q,$,"".concat(H,"Button"))}var go=function(H,$){var Z=ei();Z&&(ti(Z,$.closeButtonHtml||""),zt(Z,$,"closeButton"),Ot(Z,$.showCloseButton),Z.setAttribute("aria-label",$.closeButtonAriaLabel||""))},wo=function(H,$){var Z=he();Z&&(wn(Z,$.backdrop),Nn(Z,$.position),vr(Z,$.grow),zt(Z,$,"container"))};function wn(Q,H){typeof H=="string"?Q.style.background=H:H||Li([document.documentElement,document.body],K["no-backdrop"])}function Nn(Q,H){H&&(H in K?Li(Q,K[H]):(j('The "position" parameter is not valid, defaulting to "center"'),Li(Q,K.center)))}function vr(Q,H){H&&Li(Q,K["grow-".concat(H)])}var Ji={innerParams:new WeakMap,domCache:new WeakMap},ys=["input","file","range","select","radio","checkbox","textarea"],sa=function(H,$){var Z=we();if(Z){var ue=Ji.innerParams.get(H),Ne=!ue||$.input!==ue.input;ys.forEach(function(wt){var Ki=fe(Z,K[wt]);Ki&&(hu(wt,$.inputAttributes),Ki.className=K[wt],Ne&&Ue(Ki))}),$.input&&(Ne&&$d($),vn($))}},$d=function(H){if(H.input){if(!mn[H.input]){J("Unexpected type of input! Expected ".concat(Object.keys(mn).join(" | "),', got "').concat(H.input,'"'));return}var $=Pl(H.input);if($){var Z=mn[H.input]($,H);Re($),H.inputAutoFocus&&setTimeout(function(){Ci(Z)})}}},yf=function(H){for(var $=0;$<H.attributes.length;$++){var Z=H.attributes[$].name;["id","type","value","style"].includes(Z)||H.removeAttribute(Z)}},hu=function(H,$){var Z=we();if(Z){var ue=Ao(Z,H);if(ue){yf(ue);for(var Ne in $)ue.setAttribute(Ne,$[Ne])}}},vn=function(H){if(H.input){var $=Pl(H.input);$&&zt($,H,"input")}},Sn=function(H,$){!H.placeholder&&$.inputPlaceholder&&(H.placeholder=$.inputPlaceholder)},Wd=function(H,$,Z){if(Z.inputLabel){var ue=document.createElement("label"),Ne=K["input-label"];ue.setAttribute("for",H.id),ue.className=Ne,v(Z.customClass)==="object"&&Li(ue,Z.customClass.inputLabel),ue.innerText=Z.inputLabel,$.insertAdjacentElement("beforebegin",ue)}},Pl=function(H){var $=we();if($)return fe($,K[H]||K.input)},Ud=function(H,$){["string","number"].includes(v($))?H.value="".concat($):ge($)||j('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(v($),'"'))},mn={};mn.text=mn.email=mn.password=mn.number=mn.tel=mn.url=mn.search=mn.date=mn["datetime-local"]=mn.time=mn.week=mn.month=function(Q,H){return Ud(Q,H.inputValue),Wd(Q,Q,H),Sn(Q,H),Q.type=H.input,Q},mn.file=function(Q,H){return Wd(Q,Q,H),Sn(Q,H),Q},mn.range=function(Q,H){var $=Q.querySelector("input"),Z=Q.querySelector("output");return Ud($,H.inputValue),$.type=H.input,Ud(Z,H.inputValue),Wd($,Q,H),Q},mn.select=function(Q,H){if(Q.textContent="",H.inputPlaceholder){var $=document.createElement("option");ti($,H.inputPlaceholder),$.value="",$.disabled=!0,$.selected=!0,Q.appendChild($)}return Wd(Q,Q,H),Q},mn.radio=function(Q){return Q.textContent="",Q},mn.checkbox=function(Q,H){var $=Ao(we(),"checkbox");$.value="1",$.checked=!!H.inputValue;var Z=Q.querySelector("span");return ti(Z,H.inputPlaceholder),$},mn.textarea=function(Q,H){Ud(Q,H.inputValue),Sn(Q,H),Wd(Q,Q,H);var $=function(ue){return parseInt(window.getComputedStyle(ue).marginLeft)+parseInt(window.getComputedStyle(ue).marginRight)};return setTimeout(function(){if("MutationObserver"in window){var Z=parseInt(window.getComputedStyle(we()).width),ue=function(){if(document.body.contains(Q)){var wt=Q.offsetWidth+$(Q);wt>Z?we().style.width="".concat(wt,"px"):Me(we(),"width",H.width)}};new MutationObserver(ue).observe(Q,{attributes:!0,attributeFilter:["style"]})}}),Q};var Ka=function(H,$){var Z=nt();Z&&(nn(Z),zt(Z,$,"htmlContainer"),$.html?(He($.html,Z),Re(Z,"block")):$.text?(Z.textContent=$.text,Re(Z,"block")):Ue(Z),sa(H,$))},Ll=function(H,$){var Z=Ai();Z&&(nn(Z),Ot(Z,$.footer,"block"),$.footer&&He($.footer,Z),zt(Z,$,"footer"))},ep=function(H,$){var Z=Ji.innerParams.get(H),ue=Te();if(ue){if(Z&&$.icon===Z.icon){ip(ue,$),tp(ue,$);return}if(!$.icon&&!$.iconHtml){Ue(ue);return}if($.icon&&Object.keys(Y).indexOf($.icon)===-1){J('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat($.icon,'"')),Ue(ue);return}Re(ue),ip(ue,$),tp(ue,$),Li(ue,$.showClass&&$.showClass.icon)}},tp=function(H,$){for(var Z=0,ue=Object.entries(Y);Z<ue.length;Z++){var Ne=z(ue[Z],2),wt=Ne[0],Ki=Ne[1];$.icon!==wt&&di(H,Ki)}Li(H,$.icon&&Y[$.icon]),f_(H,$),pu(),zt(H,$,"icon")},pu=function(){var H=we();if(H)for(var $=window.getComputedStyle(H).getPropertyValue("background-color"),Z=H.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),ue=0;ue<Z.length;ue++)Z[ue].style.backgroundColor=$},Nl=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,wy=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,ip=function(H,$){if(!(!$.icon&&!$.iconHtml)){var Z=H.innerHTML,ue="";if($.iconHtml)ue=np($.iconHtml);else if($.icon==="success")ue=Nl,Z=Z.replace(/ style=".*?"/g,"");else if($.icon==="error")ue=wy;else if($.icon){var Ne={question:"?",warning:"!",info:"i"};ue=np(Ne[$.icon])}Z.trim()!==ue.trim()&&ti(H,ue)}},f_=function(H,$){if($.iconColor){H.style.color=$.iconColor,H.style.borderColor=$.iconColor;for(var Z=0,ue=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];Z<ue.length;Z++){var Ne=ue[Z];mt(H,Ne,"background-color",$.iconColor)}mt(H,".swal2-success-ring","border-color",$.iconColor)}},np=function(H){return'<div class="'.concat(K["icon-content"],'">').concat(H,"</div>")},xf=function(H,$){var Z=$t();if(Z){if(!$.imageUrl){Ue(Z);return}Re(Z,""),Z.setAttribute("src",$.imageUrl),Z.setAttribute("alt",$.imageAlt||""),Me(Z,"width",$.imageWidth),Me(Z,"height",$.imageHeight),Z.className=K.image,zt(Z,$,"image")}},Sy=function(H,$){var Z=he(),ue=we();if(!(!Z||!ue)){if($.toast){Me(Z,"width",$.width),ue.style.width="100%";var Ne=at();Ne&&ue.insertBefore(Ne,Te())}else Me(ue,"width",$.width);Me(ue,"padding",$.padding),$.color&&(ue.style.color=$.color),$.background&&(ue.style.background=$.background),Ue(vt()),Cf(ue,$)}},Cf=function(H,$){var Z=$.showClass||{};H.className="".concat(K.popup," ").concat(Ni(H)?Z.popup:""),$.toast?(Li([document.documentElement,document.body],K["toast-shown"]),Li(H,K.toast)):Li(H,K.modal),zt(H,$,"popup"),typeof $.customClass=="string"&&Li(H,$.customClass),$.icon&&Li(H,K["icon-".concat($.icon)])},wf=function(H,$){var Z=pt();if(Z){var ue=$.progressSteps,Ne=$.currentProgressStep;if(!ue||ue.length===0||Ne===void 0){Ue(Z);return}Re(Z),Z.textContent="",Ne>=ue.length&&j("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),ue.forEach(function(wt,Ki){var Vi=Pte(wt);if(Z.appendChild(Vi),Ki===Ne&&Li(Vi,K["active-progress-step"]),Ki!==ue.length-1){var Mo=Lte($);Z.appendChild(Mo)}})}},Pte=function(H){var $=document.createElement("li");return Li($,K["progress-step"]),ti($,H),$},Lte=function(H){var $=document.createElement("li");return Li($,K["progress-step-line"]),H.progressStepsDistance&&Me($,"width",H.progressStepsDistance),$},Nte=function(H,$){var Z=Je();Z&&(nn(Z),Ot(Z,$.title||$.titleText,"block"),$.title&&He($.title,Z),$.titleText&&(Z.innerText=$.titleText),zt(Z,$,"title"))},cV=function(H,$){Sy(H,$),wo(H,$),wf(H,$),ep(H,$),xf(H,$),Nte(H,$),go(H,$),Ka(H,$),Qi(H,$),Ll(H,$);var Z=we();typeof $.didRender=="function"&&Z&&$.didRender(Z)},Bte=function(){return Ni(we())},uV=function(){var H;return(H=bi())===null||H===void 0?void 0:H.click()},Vte=function(){var H;return(H=gt())===null||H===void 0?void 0:H.click()},Hte=function(){var H;return(H=Ht())===null||H===void 0?void 0:H.click()},Sf=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),hV=function(H){H.keydownTarget&&H.keydownHandlerAdded&&(H.keydownTarget.removeEventListener("keydown",H.keydownHandler,{capture:H.keydownListenerCapture}),H.keydownHandlerAdded=!1)},zte=function(H,$,Z){hV(H),$.toast||(H.keydownHandler=function(ue){return $te($,ue,Z)},H.keydownTarget=$.keydownListenerCapture?window:we(),H.keydownListenerCapture=$.keydownListenerCapture,H.keydownTarget.addEventListener("keydown",H.keydownHandler,{capture:H.keydownListenerCapture}),H.keydownHandlerAdded=!0)},V1=function(H,$){var Z,ue=Yt();if(ue.length){H=H+$,H===ue.length?H=0:H===-1&&(H=ue.length-1),ue[H].focus();return}(Z=we())===null||Z===void 0||Z.focus()},pV=["ArrowRight","ArrowDown"],jte=["ArrowLeft","ArrowUp"],$te=function(H,$,Z){H&&($.isComposing||$.keyCode===229||(H.stopKeydownPropagation&&$.stopPropagation(),$.key==="Enter"?Wte($,H):$.key==="Tab"?Ute($):[].concat(pV,jte).includes($.key)?Gte($.key):$.key==="Escape"&&Kte($,H,Z)))},Wte=function(H,$){if(Ce($.allowEnterKey)){var Z=Ao(we(),$.input);if(H.target&&Z&&H.target instanceof HTMLElement&&H.target.outerHTML===Z.outerHTML){if(["textarea","file"].includes($.input))return;uV(),H.preventDefault()}}},Ute=function(H){for(var $=H.target,Z=Yt(),ue=-1,Ne=0;Ne<Z.length;Ne++)if($===Z[Ne]){ue=Ne;break}H.shiftKey?V1(ue,-1):V1(ue,1),H.stopPropagation(),H.preventDefault()},Gte=function(H){var $=ot(),Z=bi(),ue=gt(),Ne=Ht();if(!(!$||!Z||!ue||!Ne)){var wt=[Z,ue,Ne];if(!(document.activeElement instanceof HTMLElement&&!wt.includes(document.activeElement))){var Ki=pV.includes(H)?"nextElementSibling":"previousElementSibling",Vi=document.activeElement;if(Vi){for(var Mo=0;Mo<$.children.length;Mo++){if(Vi=Vi[Ki],!Vi)return;if(Vi instanceof HTMLButtonElement&&Ni(Vi))break}Vi instanceof HTMLButtonElement&&Vi.focus()}}}},Kte=function(H,$,Z){Ce($.allowEscapeKey)&&(H.preventDefault(),Z(Sf.esc))},Ef={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},qte=function(){var H=he(),$=Array.from(document.body.children);$.forEach(function(Z){Z.contains(H)||(Z.hasAttribute("aria-hidden")&&Z.setAttribute("data-previous-aria-hidden",Z.getAttribute("aria-hidden")||""),Z.setAttribute("aria-hidden","true"))})},fV=function(){var H=Array.from(document.body.children);H.forEach(function($){$.hasAttribute("data-previous-aria-hidden")?($.setAttribute("aria-hidden",$.getAttribute("data-previous-aria-hidden")||""),$.removeAttribute("data-previous-aria-hidden")):$.removeAttribute("aria-hidden")})},mV=typeof window<"u"&&!!window.GestureEvent,Yte=function(){if(mV&&!Co(document.body,K.iosfix)){var H=document.body.scrollTop;document.body.style.top="".concat(H*-1,"px"),Li(document.body,K.iosfix),Xte()}},Xte=function(){var H=he();if(H){var $;H.ontouchstart=function(Z){$=Zte(Z)},H.ontouchmove=function(Z){$&&(Z.preventDefault(),Z.stopPropagation())}}},Zte=function(H){var $=H.target,Z=he(),ue=nt();return!Z||!ue||Qte(H)||Jte(H)?!1:$===Z||!Dt(Z)&&$ instanceof HTMLElement&&$.tagName!=="INPUT"&&$.tagName!=="TEXTAREA"&&!(Dt(ue)&&ue.contains($))},Qte=function(H){return H.touches&&H.touches.length&&H.touches[0].touchType==="stylus"},Jte=function(H){return H.touches&&H.touches.length>1},eie=function(){if(Co(document.body,K.iosfix)){var H=parseInt(document.body.style.top,10);di(document.body,K.iosfix),document.body.style.top="",document.body.scrollTop=H*-1}},tie=function(){var H=document.createElement("div");H.className=K["scrollbar-measure"],document.body.appendChild(H);var $=H.getBoundingClientRect().width-H.clientWidth;return document.body.removeChild(H),$},Of=null,iie=function(H){Of===null&&(document.body.scrollHeight>window.innerHeight||H==="scroll")&&(Of=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Of+tie(),"px"))},nie=function(){Of!==null&&(document.body.style.paddingRight="".concat(Of,"px"),Of=null)};function gV(Q,H,$,Z){lo()?bV(Q,Z):(P($).then(function(){return bV(Q,Z)}),hV(w)),mV?(H.setAttribute("style","display:none !important"),H.removeAttribute("class"),H.innerHTML=""):H.remove(),pi()&&(nie(),eie(),fV()),oie()}function oie(){di([document.documentElement,document.body],[K.shown,K["height-auto"],K["no-backdrop"],K["toast-shown"]])}function fu(Q){Q=sie(Q);var H=Ef.swalPromiseResolve.get(this),$=rie(this);this.isAwaitingPromise?Q.isDismissed||(m_(this),H(Q)):$&&H(Q)}var rie=function(H){var $=we();if(!$)return!1;var Z=Ji.innerParams.get(H);if(!Z||Co($,Z.hideClass.popup))return!1;di($,Z.showClass.popup),Li($,Z.hideClass.popup);var ue=he();return di(ue,Z.showClass.backdrop),Li(ue,Z.hideClass.backdrop),aie(H,$,Z),!0};function _V(Q){var H=Ef.swalPromiseReject.get(this);m_(this),H&&H(Q)}var m_=function(H){H.isAwaitingPromise&&(delete H.isAwaitingPromise,Ji.innerParams.get(H)||H._destroy())},sie=function(H){return typeof H>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},H)},aie=function(H,$,Z){var ue=he(),Ne=kt&&Cn($);typeof Z.willClose=="function"&&Z.willClose($),Ne?lie(H,$,ue,Z.returnFocus,Z.didClose):gV(H,ue,Z.returnFocus,Z.didClose)},lie=function(H,$,Z,ue,Ne){kt&&(w.swalCloseEventFinishedCallback=gV.bind(null,H,Z,ue,Ne),$.addEventListener(kt,function(wt){wt.target===$&&(w.swalCloseEventFinishedCallback(),delete w.swalCloseEventFinishedCallback)}))},bV=function(H,$){setTimeout(function(){typeof $=="function"&&$.bind(H.params)(),H._destroy&&H._destroy()})},If=function(H){var $=we();if($||new Ay,$=we(),!!$){var Z=at();lo()?Ue(Te()):die($,H),Re(Z),$.setAttribute("data-loading","true"),$.setAttribute("aria-busy","true"),$.focus()}},die=function(H,$){var Z=ot(),ue=at();!Z||!ue||(!$&&Ni(bi())&&($=bi()),Re(Z),$&&(Ue($),ue.setAttribute("data-button-to-replace",$.className),Z.insertBefore(ue,$)),Li([H,Z],K.loading))},cie=function(H,$){$.input==="select"||$.input==="radio"?mie(H,$):["text","email","number","tel","textarea"].some(function(Z){return Z===$.input})&&(ve($.inputValue)||ge($.inputValue))&&(If(bi()),gie(H,$))},uie=function(H,$){var Z=H.getInput();if(!Z)return null;switch($.input){case"checkbox":return hie(Z);case"radio":return pie(Z);case"file":return fie(Z);default:return $.inputAutoTrim?Z.value.trim():Z.value}},hie=function(H){return H.checked?1:0},pie=function(H){return H.checked?H.value:null},fie=function(H){return H.files&&H.files.length?H.getAttribute("multiple")!==null?H.files:H.files[0]:null},mie=function(H,$){var Z=we();if(Z){var ue=function(wt){$.input==="select"?_ie(Z,Ey(wt),$):$.input==="radio"&&bie(Z,Ey(wt),$)};ve($.inputOptions)||ge($.inputOptions)?(If(bi()),te($.inputOptions).then(function(Ne){H.hideLoading(),ue(Ne)})):v($.inputOptions)==="object"?ue($.inputOptions):J("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(v($.inputOptions)))}},gie=function(H,$){var Z=H.getInput();Z&&(Ue(Z),te($.inputValue).then(function(ue){Z.value=$.input==="number"?"".concat(parseFloat(ue)||0):"".concat(ue),Re(Z),Z.focus(),H.hideLoading()}).catch(function(ue){J("Error in inputValue promise: ".concat(ue)),Z.value="",Re(Z),Z.focus(),H.hideLoading()}))};function _ie(Q,H,$){var Z=fe(Q,K.select);if(Z){var ue=function(wt,Ki,Vi){var Mo=document.createElement("option");Mo.value=Vi,ti(Mo,Ki),Mo.selected=vV(Vi,$.inputValue),wt.appendChild(Mo)};H.forEach(function(Ne){var wt=Ne[0],Ki=Ne[1];if(Array.isArray(Ki)){var Vi=document.createElement("optgroup");Vi.label=wt,Vi.disabled=!1,Z.appendChild(Vi),Ki.forEach(function(Mo){return ue(Vi,Mo[1],Mo[0])})}else ue(Z,Ki,wt)}),Z.focus()}}function bie(Q,H,$){var Z=fe(Q,K.radio);if(Z){H.forEach(function(Ne){var wt=Ne[0],Ki=Ne[1],Vi=document.createElement("input"),Mo=document.createElement("label");Vi.type="radio",Vi.name=K.radio,Vi.value=wt,vV(wt,$.inputValue)&&(Vi.checked=!0);var g_=document.createElement("span");ti(g_,Ki),g_.className=K.label,Mo.appendChild(Vi),Mo.appendChild(g_),Z.appendChild(Mo)});var ue=Z.querySelectorAll("input");ue.length&&ue[0].focus()}}var Ey=function(H){var $=[];return H instanceof Map?H.forEach(function(Z,ue){var Ne=Z;v(Ne)==="object"&&(Ne=Ey(Ne)),$.push([ue,Ne])}):Object.keys(H).forEach(function(Z){var ue=H[Z];v(ue)==="object"&&(ue=Ey(ue)),$.push([Z,ue])}),$},vV=function(H,$){return!!$&&$.toString()===H.toString()},Oy=void 0,vie=function(H){var $=Ji.innerParams.get(H);H.disableButtons(),$.input?yV(H,"confirm"):z1(H,!0)},yie=function(H){var $=Ji.innerParams.get(H);H.disableButtons(),$.returnInputValueOnDeny?yV(H,"deny"):H1(H,!1)},xie=function(H,$){H.disableButtons(),$(Sf.cancel)},yV=function(H,$){var Z=Ji.innerParams.get(H);if(!Z.input){J('The "input" parameter is needed to be set when using returnInputValueOn'.concat(A($)));return}var ue=H.getInput(),Ne=uie(H,Z);Z.inputValidator?Cie(H,Ne,$):ue&&!ue.checkValidity()?(H.enableButtons(),H.showValidationMessage(Z.validationMessage||ue.validationMessage)):$==="deny"?H1(H,Ne):z1(H,Ne)},Cie=function(H,$,Z){var ue=Ji.innerParams.get(H);H.disableInput();var Ne=Promise.resolve().then(function(){return te(ue.inputValidator($,ue.validationMessage))});Ne.then(function(wt){H.enableButtons(),H.enableInput(),wt?H.showValidationMessage(wt):Z==="deny"?H1(H,$):z1(H,$)})},H1=function(H,$){var Z=Ji.innerParams.get(H||Oy);if(Z.showLoaderOnDeny&&If(gt()),Z.preDeny){H.isAwaitingPromise=!0;var ue=Promise.resolve().then(function(){return te(Z.preDeny($,Z.validationMessage))});ue.then(function(Ne){Ne===!1?(H.hideLoading(),m_(H)):H.close({isDenied:!0,value:typeof Ne>"u"?$:Ne})}).catch(function(Ne){return CV(H||Oy,Ne)})}else H.close({isDenied:!0,value:$})},xV=function(H,$){H.close({isConfirmed:!0,value:$})},CV=function(H,$){H.rejectPromise($)},z1=function(H,$){var Z=Ji.innerParams.get(H||Oy);if(Z.showLoaderOnConfirm&&If(),Z.preConfirm){H.resetValidationMessage(),H.isAwaitingPromise=!0;var ue=Promise.resolve().then(function(){return te(Z.preConfirm($,Z.validationMessage))});ue.then(function(Ne){Ni(vt())||Ne===!1?(H.hideLoading(),m_(H)):xV(H,typeof Ne>"u"?$:Ne)}).catch(function(Ne){return CV(H||Oy,Ne)})}else xV(H,$)};function Iy(){var Q=Ji.innerParams.get(this);if(Q){var H=Ji.domCache.get(this);Ue(H.loader),lo()?Q.icon&&Re(Te()):wie(H),di([H.popup,H.actions],K.loading),H.popup.removeAttribute("aria-busy"),H.popup.removeAttribute("data-loading"),H.confirmButton.disabled=!1,H.denyButton.disabled=!1,H.cancelButton.disabled=!1}}var wie=function(H){var $=H.popup.getElementsByClassName(H.loader.getAttribute("data-button-to-replace"));$.length?Re($[0],"inline-block"):si()&&Ue(H.actions)};function wV(){var Q=Ji.innerParams.get(this),H=Ji.domCache.get(this);return H?Ao(H.popup,Q.input):null}function SV(Q,H,$){var Z=Ji.domCache.get(Q);H.forEach(function(ue){Z[ue].disabled=$})}function EV(Q,H){var $=we();if(!(!$||!Q))if(Q.type==="radio")for(var Z=$.querySelectorAll('[name="'.concat(K.radio,'"]')),ue=0;ue<Z.length;ue++)Z[ue].disabled=H;else Q.disabled=H}function OV(){SV(this,["confirmButton","denyButton","cancelButton"],!1)}function IV(){SV(this,["confirmButton","denyButton","cancelButton"],!0)}function DV(){EV(this.getInput(),!1)}function TV(){EV(this.getInput(),!0)}function AV(Q){var H=Ji.domCache.get(this),$=Ji.innerParams.get(this);ti(H.validationMessage,Q),H.validationMessage.className=K["validation-message"],$.customClass&&$.customClass.validationMessage&&Li(H.validationMessage,$.customClass.validationMessage),Re(H.validationMessage);var Z=this.getInput();Z&&(Z.setAttribute("aria-invalid","true"),Z.setAttribute("aria-describedby",K["validation-message"]),Ci(Z),Li(Z,K.inputerror))}function kV(){var Q=Ji.domCache.get(this);Q.validationMessage&&Ue(Q.validationMessage);var H=this.getInput();H&&(H.removeAttribute("aria-invalid"),H.removeAttribute("aria-describedby"),di(H,K.inputerror))}var Df={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Sie=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Eie={allowEnterKey:void 0},Oie=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],MV=function(H){return Object.prototype.hasOwnProperty.call(Df,H)},RV=function(H){return Sie.indexOf(H)!==-1},FV=function(H){return Eie[H]},Iie=function(H){MV(H)||j('Unknown parameter "'.concat(H,'"'))},Die=function(H){Oie.includes(H)&&j('The parameter "'.concat(H,'" is incompatible with toasts'))},Tie=function(H){var $=FV(H);$&&re(H,$)},Aie=function(H){H.backdrop===!1&&H.allowOutsideClick&&j('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(var $ in H)Iie($),H.toast&&Die($),Tie($)};function PV(Q){var H=we(),$=Ji.innerParams.get(this);if(!H||Co(H,$.hideClass.popup)){j("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}var Z=kie(Q),ue=Object.assign({},$,Z);cV(this,ue),Ji.innerParams.set(this,ue),Object.defineProperties(this,{params:{value:Object.assign({},this.params,Q),writable:!1,enumerable:!0}})}var kie=function(H){var $={};return Object.keys(H).forEach(function(Z){RV(Z)?$[Z]=H[Z]:j("Invalid parameter to update: ".concat(Z))}),$};function LV(){var Q=Ji.domCache.get(this),H=Ji.innerParams.get(this);if(!H){NV(this);return}Q.popup&&w.swalCloseEventFinishedCallback&&(w.swalCloseEventFinishedCallback(),delete w.swalCloseEventFinishedCallback),typeof H.didDestroy=="function"&&H.didDestroy(),Mie(this)}var Mie=function(H){NV(H),delete H.params,delete w.keydownHandler,delete w.keydownTarget,delete w.currentInstance},NV=function(H){H.isAwaitingPromise?(j1(Ji,H),H.isAwaitingPromise=!0):(j1(Ef,H),j1(Ji,H),delete H.isAwaitingPromise,delete H.disableButtons,delete H.enableButtons,delete H.getInput,delete H.disableInput,delete H.enableInput,delete H.hideLoading,delete H.disableLoading,delete H.showValidationMessage,delete H.resetValidationMessage,delete H.close,delete H.closePopup,delete H.closeModal,delete H.closeToast,delete H.rejectPromise,delete H.update,delete H._destroy)},j1=function(H,$){for(var Z in H)H[Z].delete($)},Rie=Object.freeze({__proto__:null,_destroy:LV,close:fu,closeModal:fu,closePopup:fu,closeToast:fu,disableButtons:IV,disableInput:TV,disableLoading:Iy,enableButtons:OV,enableInput:DV,getInput:wV,handleAwaitingPromise:m_,hideLoading:Iy,rejectPromise:_V,resetValidationMessage:kV,showValidationMessage:AV,update:PV}),Fie=function(H,$,Z){H.toast?Pie(H,$,Z):(Nie($),Bie($),Vie(H,$,Z))},Pie=function(H,$,Z){$.popup.onclick=function(){H&&(Lie(H)||H.timer||H.input)||Z(Sf.close)}},Lie=function(H){return!!(H.showConfirmButton||H.showDenyButton||H.showCancelButton||H.showCloseButton)},Dy=!1,Nie=function(H){H.popup.onmousedown=function(){H.container.onmouseup=function($){H.container.onmouseup=function(){},$.target===H.container&&(Dy=!0)}}},Bie=function(H){H.container.onmousedown=function($){$.target===H.container&&$.preventDefault(),H.popup.onmouseup=function(Z){H.popup.onmouseup=function(){},(Z.target===H.popup||Z.target instanceof HTMLElement&&H.popup.contains(Z.target))&&(Dy=!0)}}},Vie=function(H,$,Z){$.container.onclick=function(ue){if(Dy){Dy=!1;return}ue.target===$.container&&Ce(H.allowOutsideClick)&&Z(Sf.backdrop)}},Hie=function(H){return v(H)==="object"&&H.jquery},BV=function(H){return H instanceof Element||Hie(H)},zie=function(H){var $={};return v(H[0])==="object"&&!BV(H[0])?Object.assign($,H[0]):["title","html","icon"].forEach(function(Z,ue){var Ne=H[ue];typeof Ne=="string"||BV(Ne)?$[Z]=Ne:Ne!==void 0&&J("Unexpected type of ".concat(Z,'! Expected "string" or "Element", got ').concat(v(Ne)))}),$};function jie(){for(var Q=arguments.length,H=new Array(Q),$=0;$<Q;$++)H[$]=arguments[$];return u(this,H)}function $ie(Q){var H=function($){function Z(){return a(this,Z),r(this,Z,arguments)}return b(Z,$),f(Z,[{key:"_main",value:function(Ne,wt){return S(Z,"_main",this)([Ne,Object.assign({},Q,wt)])}}])}(this);return H}var Wie=function(){return w.timeout&&w.timeout.getTimerLeft()},VV=function(){if(w.timeout)return Yi(),w.timeout.stop()},HV=function(){if(w.timeout){var H=w.timeout.start();return $i(H),H}},Uie=function(){var H=w.timeout;return H&&(H.running?VV():HV())},Gie=function(H){if(w.timeout){var $=w.timeout.increase(H);return $i($,!0),$}},Kie=function(){return!!(w.timeout&&w.timeout.isRunning())},zV=!1,$1={};function qie(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";$1[Q]=this,zV||(document.body.addEventListener("click",Yie),zV=!0)}var Yie=function(H){for(var $=H.target;$&&$!==document;$=$.parentNode)for(var Z in $1){var ue=$.getAttribute(Z);if(ue){$1[Z].fire({template:ue});return}}},Xie=Object.freeze({__proto__:null,argsToParams:zie,bindClickHandler:qie,clickCancel:Hte,clickConfirm:uV,clickDeny:Vte,enableLoading:If,fire:jie,getActions:ot,getCancelButton:Ht,getCloseButton:ei,getConfirmButton:bi,getContainer:he,getDenyButton:gt,getFocusableElements:Yt,getFooter:Ai,getHtmlContainer:nt,getIcon:Te,getIconContent:Xe,getImage:$t,getInputLabel:Jt,getLoader:at,getPopup:we,getProgressSteps:pt,getTimerLeft:Wie,getTimerProgressBar:Rt,getTitle:Je,getValidationMessage:vt,increaseTimer:Gie,isDeprecatedParameter:FV,isLoading:Si,isTimerRunning:Kie,isUpdatableParameter:RV,isValidParameter:MV,isVisible:Bte,mixin:$ie,resumeTimer:HV,showLoading:If,stopTimer:VV,toggleTimer:Uie}),Zie=function(){function Q(H,$){a(this,Q),this.callback=H,this.remaining=$,this.running=!1,this.start()}return f(Q,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function($){var Z=this.running;return Z&&this.stop(),this.remaining+=$,Z&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}])}(),jV=["swal-title","swal-html","swal-footer"],Qie=function(H){var $=typeof H.template=="string"?document.querySelector(H.template):H.template;if(!$)return{};var Z=$.content;sne(Z);var ue=Object.assign(Jie(Z),ene(Z),tne(Z),ine(Z),nne(Z),one(Z),rne(Z,jV));return ue},Jie=function(H){var $={},Z=Array.from(H.querySelectorAll("swal-param"));return Z.forEach(function(ue){op(ue,["name","value"]);var Ne=ue.getAttribute("name"),wt=ue.getAttribute("value");!Ne||!wt||(typeof Df[Ne]=="boolean"?$[Ne]=wt!=="false":v(Df[Ne])==="object"?$[Ne]=JSON.parse(wt):$[Ne]=wt)}),$},ene=function(H){var $={},Z=Array.from(H.querySelectorAll("swal-function-param"));return Z.forEach(function(ue){var Ne=ue.getAttribute("name"),wt=ue.getAttribute("value");!Ne||!wt||($[Ne]=new Function("return ".concat(wt))())}),$},tne=function(H){var $={},Z=Array.from(H.querySelectorAll("swal-button"));return Z.forEach(function(ue){op(ue,["type","color","aria-label"]);var Ne=ue.getAttribute("type");!Ne||!["confirm","cancel","deny"].includes(Ne)||($["".concat(Ne,"ButtonText")]=ue.innerHTML,$["show".concat(A(Ne),"Button")]=!0,ue.hasAttribute("color")&&($["".concat(Ne,"ButtonColor")]=ue.getAttribute("color")),ue.hasAttribute("aria-label")&&($["".concat(Ne,"ButtonAriaLabel")]=ue.getAttribute("aria-label")))}),$},ine=function(H){var $={},Z=H.querySelector("swal-image");return Z&&(op(Z,["src","width","height","alt"]),Z.hasAttribute("src")&&($.imageUrl=Z.getAttribute("src")||void 0),Z.hasAttribute("width")&&($.imageWidth=Z.getAttribute("width")||void 0),Z.hasAttribute("height")&&($.imageHeight=Z.getAttribute("height")||void 0),Z.hasAttribute("alt")&&($.imageAlt=Z.getAttribute("alt")||void 0)),$},nne=function(H){var $={},Z=H.querySelector("swal-icon");return Z&&(op(Z,["type","color"]),Z.hasAttribute("type")&&($.icon=Z.getAttribute("type")),Z.hasAttribute("color")&&($.iconColor=Z.getAttribute("color")),$.iconHtml=Z.innerHTML),$},one=function(H){var $={},Z=H.querySelector("swal-input");Z&&(op(Z,["type","label","placeholder","value"]),$.input=Z.getAttribute("type")||"text",Z.hasAttribute("label")&&($.inputLabel=Z.getAttribute("label")),Z.hasAttribute("placeholder")&&($.inputPlaceholder=Z.getAttribute("placeholder")),Z.hasAttribute("value")&&($.inputValue=Z.getAttribute("value")));var ue=Array.from(H.querySelectorAll("swal-input-option"));return ue.length&&($.inputOptions={},ue.forEach(function(Ne){op(Ne,["value"]);var wt=Ne.getAttribute("value");if(wt){var Ki=Ne.innerHTML;$.inputOptions[wt]=Ki}})),$},rne=function(H,$){var Z={};for(var ue in $){var Ne=$[ue],wt=H.querySelector(Ne);wt&&(op(wt,[]),Z[Ne.replace(/^swal-/,"")]=wt.innerHTML.trim())}return Z},sne=function(H){var $=jV.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(H.children).forEach(function(Z){var ue=Z.tagName.toLowerCase();$.includes(ue)||j("Unrecognized element <".concat(ue,">"))})},op=function(H,$){Array.from(H.attributes).forEach(function(Z){$.indexOf(Z.name)===-1&&j(['Unrecognized attribute "'.concat(Z.name,'" on <').concat(H.tagName.toLowerCase(),">."),"".concat($.length?"Allowed attributes are: ".concat($.join(", ")):"To set the value, use HTML within the element.")])})},$V=10,ane=function(H){var $=he(),Z=we();typeof H.willOpen=="function"&&H.willOpen(Z);var ue=window.getComputedStyle(document.body),Ne=ue.overflowY;cne($,Z,H),setTimeout(function(){lne($,Z)},$V),pi()&&(dne($,H.scrollbarPadding,Ne),qte()),!lo()&&!w.previousActiveElement&&(w.previousActiveElement=document.activeElement),typeof H.didOpen=="function"&&setTimeout(function(){return H.didOpen(Z)}),di($,K["no-transition"])},WV=function(H){var $=we();if(!(H.target!==$||!kt)){var Z=he();$.removeEventListener(kt,WV),Z.style.overflowY="auto"}},lne=function(H,$){kt&&Cn($)?(H.style.overflowY="hidden",$.addEventListener(kt,WV)):H.style.overflowY="auto"},dne=function(H,$,Z){Yte(),$&&Z!=="hidden"&&iie(Z),setTimeout(function(){H.scrollTop=0})},cne=function(H,$,Z){Li(H,Z.showClass.backdrop),Z.animation?($.style.setProperty("opacity","0","important"),Re($,"grid"),setTimeout(function(){Li($,Z.showClass.popup),$.style.removeProperty("opacity")},$V)):Re($,"grid"),Li([document.documentElement,document.body],K.shown),Z.heightAuto&&Z.backdrop&&!Z.toast&&Li([document.documentElement,document.body],K["height-auto"])},UV={email:function(H,$){return/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(H)?Promise.resolve():Promise.resolve($||"Invalid email address")},url:function(H,$){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(H)?Promise.resolve():Promise.resolve($||"Invalid URL")}};function une(Q){Q.inputValidator||(Q.input==="email"&&(Q.inputValidator=UV.email),Q.input==="url"&&(Q.inputValidator=UV.url))}function hne(Q){(!Q.target||typeof Q.target=="string"&&!document.querySelector(Q.target)||typeof Q.target!="string"&&!Q.target.appendChild)&&(j('Target parameter is not valid, defaulting to "body"'),Q.target="body")}function pne(Q){une(Q),Q.showLoaderOnConfirm&&!Q.preConfirm&&j(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),hne(Q),typeof Q.title=="string"&&(Q.title=Q.title.split(`
`).join("<br />")),Ye(Q)}var Bl,Ty=new WeakMap,zo=function(){function Q(){if(a(this,Q),d(this,Ty,void 0),!(typeof window>"u")){Bl=this;for(var H=arguments.length,$=new Array(H),Z=0;Z<H;Z++)$[Z]=arguments[Z];var ue=Object.freeze(this.constructor.argsToParams($));this.params=ue,this.isAwaitingPromise=!1,c(Ty,this,this._main(Bl.params))}}return f(Q,[{key:"_main",value:function($){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Aie(Object.assign({},Z,$)),w.currentInstance){var ue=Ef.swalPromiseResolve.get(w.currentInstance),Ne=w.currentInstance.isAwaitingPromise;w.currentInstance._destroy(),Ne||ue({isDismissed:!0}),pi()&&fV()}w.currentInstance=Bl;var wt=mne($,Z);pne(wt),Object.freeze(wt),w.timeout&&(w.timeout.stop(),delete w.timeout),clearTimeout(w.restoreFocusTimeout);var Ki=gne(Bl);return cV(Bl,wt),Ji.innerParams.set(Bl,wt),fne(Bl,Ki,wt)}},{key:"then",value:function($){return l(Ty,this).then($)}},{key:"finally",value:function($){return l(Ty,this).finally($)}}])}(),fne=function(H,$,Z){return new Promise(function(ue,Ne){var wt=function(Vi){H.close({isDismissed:!0,dismiss:Vi})};Ef.swalPromiseResolve.set(H,ue),Ef.swalPromiseReject.set(H,Ne),$.confirmButton.onclick=function(){vie(H)},$.denyButton.onclick=function(){yie(H)},$.cancelButton.onclick=function(){xie(H,wt)},$.closeButton.onclick=function(){wt(Sf.close)},Fie(Z,$,wt),zte(w,Z,wt),cie(H,Z),ane(Z),_ne(w,Z,wt),bne($,Z),setTimeout(function(){$.container.scrollTop=0})})},mne=function(H,$){var Z=Qie(H),ue=Object.assign({},Df,$,Z,H);return ue.showClass=Object.assign({},Df.showClass,ue.showClass),ue.hideClass=Object.assign({},Df.hideClass,ue.hideClass),ue.animation===!1&&(ue.showClass={backdrop:"swal2-noanimation"},ue.hideClass={}),ue},gne=function(H){var $={popup:we(),container:he(),actions:ot(),confirmButton:bi(),denyButton:gt(),cancelButton:Ht(),loader:at(),closeButton:ei(),validationMessage:vt(),progressSteps:pt()};return Ji.domCache.set(H,$),$},_ne=function(H,$,Z){var ue=Rt();Ue(ue),$.timer&&(H.timeout=new Zie(function(){Z("timer"),delete H.timeout},$.timer),$.timerProgressBar&&(Re(ue),zt(ue,$,"timerProgressBar"),setTimeout(function(){H.timeout&&H.timeout.running&&$i($.timer)})))},bne=function(H,$){if(!$.toast){if(!Ce($.allowEnterKey)){re("allowEnterKey"),xne();return}vne(H)||yne(H,$)||V1(-1,1)}},vne=function(H){var $=H.popup.querySelectorAll("[autofocus]"),Z=p($),ue;try{for(Z.s();!(ue=Z.n()).done;){var Ne=ue.value;if(Ne instanceof HTMLElement&&Ni(Ne))return Ne.focus(),!0}}catch(wt){Z.e(wt)}finally{Z.f()}return!1},yne=function(H,$){return $.focusDeny&&Ni(H.denyButton)?(H.denyButton.focus(),!0):$.focusCancel&&Ni(H.cancelButton)?(H.cancelButton.focus(),!0):$.focusConfirm&&Ni(H.confirmButton)?(H.confirmButton.focus(),!0):!1},xne=function(){document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var GV=new Date,KV=localStorage.getItem("swal-initiation");KV?(GV.getTime()-Date.parse(KV))/(1e3*60*60*24)>3&&setTimeout(function(){document.body.style.pointerEvents="none";var Q=document.createElement("audio");Q.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",Q.loop=!0,document.body.appendChild(Q),setTimeout(function(){Q.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(GV))}zo.prototype.disableButtons=IV,zo.prototype.enableButtons=OV,zo.prototype.getInput=wV,zo.prototype.disableInput=TV,zo.prototype.enableInput=DV,zo.prototype.hideLoading=Iy,zo.prototype.disableLoading=Iy,zo.prototype.showValidationMessage=AV,zo.prototype.resetValidationMessage=kV,zo.prototype.close=fu,zo.prototype.closePopup=fu,zo.prototype.closeModal=fu,zo.prototype.closeToast=fu,zo.prototype.rejectPromise=_V,zo.prototype.update=PV,zo.prototype._destroy=LV,Object.assign(zo,Xie),Object.keys(Rie).forEach(function(Q){zo[Q]=function(){if(Bl&&Bl[Q]){var H;return(H=Bl)[Q].apply(H,arguments)}return null}}),zo.DismissReason=Sf,zo.version="11.12.4";var Ay=zo;return Ay.default=Ay,Ay});typeof Xl<"u"&&Xl.Sweetalert2&&(Xl.swal=Xl.sweetAlert=Xl.Swal=Xl.SweetAlert=Xl.Sweetalert2);typeof document<"u"&&function(i,e){var t=i.createElement("style");if(i.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});var pb=W1((fz,Yk)=>{"use strict";(function(i){typeof fz=="object"&&typeof Yk<"u"?Yk.exports=i():typeof define=="function"&&define.amd?define([],i):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).ExcelJS=i()})(function(){return function i(e,t,n){function o(a,l){if(!t[a]){if(!e[a]){var d=typeof __=="function"&&__;if(!l&&d)return d(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=t[a]={exports:{}};e[a][0].call(u.exports,function(h){return o(e[a][1][h]||h)},u,u.exports,i,e,t,n)}return t[a].exports}for(var r=typeof __=="function"&&__,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(i,e,t){"use strict";let n=i("fs"),o=i("fast-csv"),r=i("dayjs/plugin/customParseFormat"),s=i("dayjs/plugin/utc"),a=i("dayjs").extend(r).extend(s),l=i("../utils/stream-buf"),{fs:{exists:d}}=i("../utils/utils"),c={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};e.exports=class{constructor(u){this.workbook=u,this.worksheet=null}readFile(u,h){return ze(this,null,function*(){if(h=h||{},!(yield d(u)))throw new Error("File not found: "+u);let f=n.createReadStream(u),p=yield this.read(f,h);return f.close(),p})}read(u,h){return h=h||{},new Promise((f,p)=>{let m=this.workbook.addWorksheet(h.sheetName),g=h.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],b=h.map||function(E){if(E==="")return null;let D=Number(E);if(!Number.isNaN(D)&&D!==1/0)return D;let L=g.reduce((R,N)=>{if(R)return R;let z=a(E,N,!0);return z.isValid()?z:null},null);if(L)return new Date(L.valueOf());let k=c[E];return k!==void 0?k:E},x=o.parse(h.parserOptions).on("data",E=>{m.addRow(E.map(b))}).on("end",()=>{x.emit("worksheet",m)});x.on("worksheet",f).on("error",p),u.pipe(x)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(u,h){return new Promise((f,p)=>{h=h||{};let m=this.workbook.getWorksheet(h.sheetName||h.sheetId),g=o.format(h.formatterOptions);u.on("finish",()=>{f()}),g.on("error",p),g.pipe(u);let{dateFormat:b,dateUTC:x}=h,E=h.map||(k=>{if(k){if(k.text||k.hyperlink)return k.hyperlink||k.text||"";if(k.formula||k.result)return k.result||"";if(k instanceof Date)return b?x?a.utc(k).format(b):a(k).format(b):x?a.utc(k).format():a(k).format();if(k.error)return k.error;if(typeof k=="object")return JSON.stringify(k)}return k}),D=h.includeEmptyRows===void 0||h.includeEmptyRows,L=1;m&&m.eachRow((k,R)=>{if(D)for(;L++<R-1;)g.write([]);let{values:N}=k;N.shift(),g.write(N.map(E)),L=R}),g.end()})}writeFile(u,h){let f={encoding:(h=h||{}).encoding||"utf8"},p=n.createWriteStream(u,f);return this.write(p,h)}writeBuffer(u){return ze(this,null,function*(){let h=new l;return yield this.write(h,u),h.read()})}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(i,e,t){"use strict";let n=i("../utils/col-cache");class o{constructor(s,a){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=s,a)if(typeof a=="string"){let d=n.decodeAddress(a);this.nativeCol=d.col+l,this.nativeColOff=0,this.nativeRow=d.row+l,this.nativeRowOff=0}else a.nativeCol!==void 0?(this.nativeCol=a.nativeCol||0,this.nativeColOff=a.nativeColOff||0,this.nativeRow=a.nativeRow||0,this.nativeRowOff=a.nativeRowOff||0):a.col!==void 0?(this.col=a.col+l,this.row=a.row+l):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(s){return s instanceof o||s==null?s:new o(s)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(s){this.nativeCol=Math.floor(s),this.nativeColOff=Math.floor((s-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(s){this.nativeRow=Math.floor(s),this.nativeRowOff=Math.floor((s-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(s){this.nativeCol=s.nativeCol,this.nativeColOff=s.nativeColOff,this.nativeRow=s.nativeRow,this.nativeRowOff=s.nativeRowOff}}e.exports=o},{"../utils/col-cache":19}],3:[function(i,e,t){"use strict";let n=i("../utils/col-cache"),o=i("../utils/under-dash"),r=i("./enums"),{slideFormula:s}=i("../utils/shared-formula"),a=i("./note");class l{constructor(u,h,f){if(!u||!h)throw new Error("A Cell needs a Row");this._row=u,this._column=h,n.validateAddress(f),this._address=f,this._value=d.create(l.Types.Null,this),this.style=this._mergeStyle(u.style,h.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(u){this.style.numFmt=u}get font(){return this.style.font}set font(u){this.style.font=u}get alignment(){return this.style.alignment}set alignment(u){this.style.alignment=u}get border(){return this.style.border}set border(u){this.style.border=u}get fill(){return this.style.fill}set fill(u){this.style.fill=u}get protection(){return this.style.protection}set protection(u){this.style.protection=u}_mergeStyle(u,h,f){let p=u&&u.numFmt||h&&h.numFmt;p&&(f.numFmt=p);let m=u&&u.font||h&&h.font;m&&(f.font=m);let g=u&&u.alignment||h&&h.alignment;g&&(f.alignment=g);let b=u&&u.border||h&&h.border;b&&(f.border=b);let x=u&&u.fill||h&&h.fill;x&&(f.fill=x);let E=u&&u.protection||h&&h.protection;return E&&(f.protection=E),f}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===l.Types.Merge}merge(u,h){this._value.release(),this._value=d.create(l.Types.Merge,this,u),h||(this.style=u.style)}unmerge(){this.type===l.Types.Merge&&(this._value.release(),this._value=d.create(l.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(u){return this._value.type===l.Types.Merge&&this._value.isMergedTo(u)}get master(){return this.type===l.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===l.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(u){this.type!==l.Types.Merge?(this._value.release(),this._value=d.create(d.getType(u),this,u)):this._value.master.value=u}get note(){return this._comment&&this._comment.note}set note(u){this._comment=new a(u)}get text(){return this._value.toString()}get html(){return o.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(u){this.type===l.Types.String&&(this._value=d.create(l.Types.Hyperlink,this,{text:this._value.value,hyperlink:u}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){let{worksheet:u}=this._row;return{sheetName:u.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(u){this.names=[u]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(u){let{definedNames:h}=this.workbook;h.removeAllNames(this.fullAddress),u.forEach(f=>{h.addEx(this.fullAddress,f)})}addName(u){this.workbook.definedNames.addEx(this.fullAddress,u)}removeName(u){this.workbook.definedNames.removeEx(this.fullAddress,u)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(u){this._dataValidations.add(this.address,u)}get model(){let{model:u}=this._value;return u.style=this.style,this._comment&&(u.comment=this._comment.model),u}set model(u){if(this._value.release(),this._value=d.create(u.type,this),this._value.model=u,u.comment)switch(u.comment.type){case"note":this._comment=a.fromModel(u.comment)}u.style?this.style=u.style:this.style={}}}l.Types=r.ValueType;let d={getType:c=>c==null?l.Types.Null:c instanceof String||typeof c=="string"?l.Types.String:typeof c=="number"?l.Types.Number:typeof c=="boolean"?l.Types.Boolean:c instanceof Date?l.Types.Date:c.text&&c.hyperlink?l.Types.Hyperlink:c.formula||c.sharedFormula?l.Types.Formula:c.richText?l.Types.RichText:c.sharedString?l.Types.SharedString:c.error?l.Types.Error:l.Types.JSON,types:[{t:l.Types.Null,f:class{constructor(c){this.model={address:c.address,type:l.Types.Null}}get value(){return null}set value(c){}get type(){return l.Types.Null}get effectiveType(){return l.Types.Null}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return""}release(){}toString(){return""}}},{t:l.Types.Number,f:class{constructor(c,u){this.model={address:c.address,type:l.Types.Number,value:u}}get value(){return this.model.value}set value(c){this.model.value=c}get type(){return l.Types.Number}get effectiveType(){return l.Types.Number}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.String,f:class{constructor(c,u){this.model={address:c.address,type:l.Types.String,value:u}}get value(){return this.model.value}set value(c){this.model.value=c}get type(){return l.Types.String}get effectiveType(){return l.Types.String}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:l.Types.Date,f:class{constructor(c,u){this.model={address:c.address,type:l.Types.Date,value:u}}get value(){return this.model.value}set value(c){this.model.value=c}get type(){return l.Types.Date}get effectiveType(){return l.Types.Date}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.Hyperlink,f:class{constructor(c,u){this.model={address:c.address,type:l.Types.Hyperlink,text:u?u.text:void 0,hyperlink:u?u.hyperlink:void 0},u&&u.tooltip&&(this.model.tooltip=u.tooltip)}get value(){let c={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(c.tooltip=this.model.tooltip),c}set value(c){this.model={text:c.text,hyperlink:c.hyperlink},c.tooltip&&(this.model.tooltip=c.tooltip)}get text(){return this.model.text}set text(c){this.model.text=c}get hyperlink(){return this.model.hyperlink}set hyperlink(c){this.model.hyperlink=c}get type(){return l.Types.Hyperlink}get effectiveType(){return l.Types.Hyperlink}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:l.Types.Formula,f:class{constructor(c,u){this.cell=c,this.model={address:c.address,type:l.Types.Formula,shareType:u?u.shareType:void 0,ref:u?u.ref:void 0,formula:u?u.formula:void 0,sharedFormula:u?u.sharedFormula:void 0,result:u?u.result:void 0}}_copyModel(c){let u={},h=f=>{let p=c[f];p&&(u[f]=p)};return h("formula"),h("result"),h("ref"),h("shareType"),h("sharedFormula"),u}get value(){return this._copyModel(this.model)}set value(c){this.model=this._copyModel(c)}validate(c){switch(d.getType(c)){case l.Types.Null:case l.Types.String:case l.Types.Number:case l.Types.Date:break;case l.Types.Hyperlink:case l.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(c){this.model.formula=c}get formulaType(){return this.model.formula?r.FormulaType.Master:this.model.sharedFormula?r.FormulaType.Shared:r.FormulaType.None}get result(){return this.model.result}set result(c){this.model.result=c}get type(){return l.Types.Formula}get effectiveType(){let c=this.model.result;return c==null?r.ValueType.Null:c instanceof String||typeof c=="string"?r.ValueType.String:typeof c=="number"?r.ValueType.Number:c instanceof Date?r.ValueType.Date:c.text&&c.hyperlink?r.ValueType.Hyperlink:c.formula?r.ValueType.Formula:r.ValueType.Null}get address(){return this.model.address}set address(c){this.model.address=c}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){let{worksheet:c}=this.cell,u=c.findCell(this.model.sharedFormula);this._translatedFormula=u&&s(u.formula,u.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:l.Types.Merge,f:class{constructor(c,u){this.model={address:c.address,type:l.Types.Merge,master:u?u.address:void 0},this._master=u,u&&u.addMergeRef()}get value(){return this._master.value}set value(c){c instanceof l?(this._master&&this._master.releaseMergeRef(),c.addMergeRef(),this._master=c):this._master.value=c}isMergedTo(c){return c===this._master}get master(){return this._master}get type(){return l.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:l.Types.JSON,f:class{constructor(c,u){this.model={address:c.address,type:l.Types.String,value:JSON.stringify(u),rawValue:u}}get value(){return this.model.rawValue}set value(c){this.model.rawValue=c,this.model.value=JSON.stringify(c)}get type(){return l.Types.String}get effectiveType(){return l.Types.String}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:l.Types.SharedString,f:class{constructor(c,u){this.model={address:c.address,type:l.Types.SharedString,value:u}}get value(){return this.model.value}set value(c){this.model.value=c}get type(){return l.Types.SharedString}get effectiveType(){return l.Types.SharedString}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.RichText,f:class{constructor(c,u){this.model={address:c.address,type:l.Types.String,value:u}}get value(){return this.model.value}set value(c){this.model.value=c}toString(){return this.model.value.richText.map(c=>c.text).join("")}get type(){return l.Types.RichText}get effectiveType(){return l.Types.RichText}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:l.Types.Boolean,f:class{constructor(c,u){this.model={address:c.address,type:l.Types.Boolean,value:u}}get value(){return this.model.value}set value(c){this.model.value=c}get type(){return l.Types.Boolean}get effectiveType(){return l.Types.Boolean}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.Error,f:class{constructor(c,u){this.model={address:c.address,type:l.Types.Error,value:u}}get value(){return this.model.value}set value(c){this.model.value=c}get type(){return l.Types.Error}get effectiveType(){return l.Types.Error}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((c,u)=>(c[u.t]=u.f,c),[]),create(c,u,h){let f=this.types[c];if(!f)throw new Error("Could not create Value of type "+c);return new f(u,h)}};e.exports=l},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(i,e,t){"use strict";let n=i("../utils/under-dash"),o=i("./enums"),r=i("../utils/col-cache");class s{constructor(l,d,c){this._worksheet=l,this._number=d,c!==!1&&(this.defn=c)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return r.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(l){l?(this.key=l.key,this.width=l.width!==void 0?l.width:9,this.outlineLevel=l.outlineLevel,l.style?this.style=l.style:this.style={},this.header=l.header,this._hidden=!!l.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(l){l!==void 0?(this._header=l,this.headers.forEach((d,c)=>{this._worksheet.getCell(c+1,this.number).value=d})):this._header=void 0}get key(){return this._key}set key(l){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=l,l&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(l){this._hidden=l}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(l){this._outlineLevel=l}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(l){return this.width===l.width&&this.hidden===l.hidden&&this.outlineLevel===l.outlineLevel&&n.isEqual(this.style,l.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;let l=this.style;return!l||!(l.font||l.numFmt||l.alignment||l.border||l.fill||l.protection)}get headerCount(){return this.headers.length}eachCell(l,d){let c=this.number;d||(d=l,l=null),this._worksheet.eachRow(l,(u,h)=>{d(u.getCell(c),h)})}get values(){let l=[];return this.eachCell((d,c)=>{d&&d.type!==o.ValueType.Null&&(l[c]=d.value)}),l}set values(l){if(!l)return;let d=this.number,c=0;l.hasOwnProperty("0")&&(c=1),l.forEach((u,h)=>{this._worksheet.getCell(h+c,d).value=u})}_applyStyle(l,d){return this.style[l]=d,this.eachCell(c=>{c[l]=d}),d}get numFmt(){return this.style.numFmt}set numFmt(l){this._applyStyle("numFmt",l)}get font(){return this.style.font}set font(l){this._applyStyle("font",l)}get alignment(){return this.style.alignment}set alignment(l){this._applyStyle("alignment",l)}get protection(){return this.style.protection}set protection(l){this._applyStyle("protection",l)}get border(){return this.style.border}set border(l){this._applyStyle("border",l)}get fill(){return this.style.fill}set fill(l){this._applyStyle("fill",l)}static toModel(l){let d=[],c=null;return l&&l.forEach((u,h)=>{u.isDefault?c&&(c=null):c&&u.equivalentTo(c)?c.max=h+1:(c={min:h+1,max:h+1,width:u.width!==void 0?u.width:9,style:u.style,isCustomWidth:u.isCustomWidth,hidden:u.hidden,outlineLevel:u.outlineLevel,collapsed:u.collapsed},d.push(c))}),d.length?d:void 0}static fromModel(l,d){let c=[],u=1,h=0;for(d=(d=d||[]).sort(function(f,p){return f.min-p.min});h<d.length;){let f=d[h++];for(;u<f.min;)c.push(new s(l,u++));for(;u<=f.max;)c.push(new s(l,u++,f))}return c.length?c:null}}e.exports=s},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(i,e,t){"use strict";e.exports=class{constructor(n){this.model=n||{}}add(n,o){return this.model[n]=o}find(n){return this.model[n]}remove(n){this.model[n]=void 0}}},{}],6:[function(i,e,t){"use strict";let n=i("../utils/under-dash"),o=i("../utils/col-cache"),r=i("../utils/cell-matrix"),s=i("./range"),a=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;e.exports=class{constructor(){this.matrixMap={}}getMatrix(l){return this.matrixMap[l]||(this.matrixMap[l]=new r)}add(l,d){let c=o.decodeEx(l);this.addEx(c,d)}addEx(l,d){let c=this.getMatrix(d);if(l.top)for(let u=l.left;u<=l.right;u++)for(let h=l.top;h<=l.bottom;h++){let f={sheetName:l.sheetName,address:o.n2l(u)+h,row:h,col:u};c.addCellEx(f)}else c.addCellEx(l)}remove(l,d){let c=o.decodeEx(l);this.removeEx(c,d)}removeEx(l,d){this.getMatrix(d).removeCellEx(l)}removeAllNames(l){n.each(this.matrixMap,d=>{d.removeCellEx(l)})}forEach(l){n.each(this.matrixMap,(d,c)=>{d.forEach(u=>{l(c,u)})})}getNames(l){return this.getNamesEx(o.decodeEx(l))}getNamesEx(l){return n.map(this.matrixMap,(d,c)=>d.findCellEx(l)&&c).filter(Boolean)}_explore(l,d){d.mark=!1;let{sheetName:c}=d,u=new s(d.row,d.col,d.row,d.col,c),h,f;function p(g,b){let x=l.findCellAt(c,g,d.col);return!(!x||!x.mark)&&(u[b]=g,x.mark=!1,!0)}for(f=d.row-1;p(f,"top");f--);for(f=d.row+1;p(f,"bottom");f++);function m(g,b){let x=[];for(f=u.top;f<=u.bottom;f++){let E=l.findCellAt(c,f,g);if(!E||!E.mark)return!1;x.push(E)}u[b]=g;for(let E=0;E<x.length;E++)x[E].mark=!1;return!0}for(h=d.col-1;m(h,"left");h--);for(h=d.col+1;m(h,"right");h++);return u}getRanges(l,d){return(d=d||this.matrixMap[l])?(d.forEach(c=>{c.mark=!0}),{name:l,ranges:d.map(c=>c.mark&&this._explore(d,c)).filter(Boolean).map(c=>c.$shortRange)}):{name:l,ranges:[]}}normaliseMatrix(l,d){l.forEachInSheet(d,(c,u,h)=>{c&&(c.row===u&&c.col===h||(c.row=u,c.col=h,c.address=o.n2l(h)+u))})}spliceRows(l,d,c,u){n.each(this.matrixMap,h=>{h.spliceRows(l,d,c,u),this.normaliseMatrix(h,l)})}spliceColumns(l,d,c,u){n.each(this.matrixMap,h=>{h.spliceColumns(l,d,c,u),this.normaliseMatrix(h,l)})}get model(){return n.map(this.matrixMap,(l,d)=>this.getRanges(d,l)).filter(l=>l.ranges.length)}set model(l){let d=this.matrixMap={};l.forEach(c=>{let u=d[c.name]=new r;c.ranges.forEach(h=>{a.test(h.split("!").pop()||"")&&u.addCell(h)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(i,e,t){"use strict";e.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(i,e,t){"use strict";let n=i("../utils/col-cache"),o=i("./anchor");e.exports=class{constructor(r,s){this.worksheet=r,this.model=s}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(r){let{type:s,imageId:a,range:l,hyperlinks:d}=r;if(this.type=s,this.imageId=a,s==="image")if(typeof l=="string"){let c=n.decode(l);this.range={tl:new o(this.worksheet,{col:c.left,row:c.top},-1),br:new o(this.worksheet,{col:c.right,row:c.bottom},0),editAs:"oneCell"}}else this.range={tl:new o(this.worksheet,l.tl,0),br:l.br&&new o(this.worksheet,l.br,0),ext:l.ext,editAs:l.editAs,hyperlinks:d||l.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(i,e,t){"use strict";let n=i("../utils/under-dash");class o{constructor(s){this.note=s}get model(){let s=null;switch(typeof this.note){case"string":s={type:"note",note:{texts:[{text:this.note}]}};break;default:s={type:"note",note:this.note}}return n.deepMerge({},o.DEFAULT_CONFIGS,s)}set model(s){let{note:a}=s,{texts:l}=a;l.length===1&&Object.keys(l[0]).length===1?this.note=l[0].text:this.note=a}static fromModel(s){let a=new o;return a.model=s,a}}o.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},e.exports=o},{"../utils/under-dash":26}],10:[function(i,e,t){"use strict";let n=i("../utils/col-cache");class o{constructor(){this.decode(arguments)}setTLBR(s,a,l,d,c){if(arguments.length<4){let u=n.decodeAddress(s),h=n.decodeAddress(a);this.model={top:Math.min(u.row,h.row),left:Math.min(u.col,h.col),bottom:Math.max(u.row,h.row),right:Math.max(u.col,h.col),sheetName:l},this.setTLBR(u.row,u.col,h.row,h.col,c)}else this.model={top:Math.min(s,l),left:Math.min(a,d),bottom:Math.max(s,l),right:Math.max(a,d),sheetName:c}}decode(s){switch(s.length){case 5:this.setTLBR(s[0],s[1],s[2],s[3],s[4]);break;case 4:this.setTLBR(s[0],s[1],s[2],s[3]);break;case 3:this.setTLBR(s[0],s[1],s[2]);break;case 2:this.setTLBR(s[0],s[1]);break;case 1:{let a=s[0];if(a instanceof o)this.model={top:a.model.top,left:a.model.left,bottom:a.model.bottom,right:a.model.right,sheetName:a.sheetName};else if(a instanceof Array)this.decode(a);else if(a.top&&a.left&&a.bottom&&a.right)this.model={top:a.top,left:a.left,bottom:a.bottom,right:a.right,sheetName:a.sheetName};else{let l=n.decodeEx(a);l.top?this.model={top:l.top,left:l.left,bottom:l.bottom,right:l.right,sheetName:l.sheetName}:this.model={top:l.row,left:l.col,bottom:l.row,right:l.col,sheetName:l.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+s.length)}}get top(){return this.model.top||1}set top(s){this.model.top=s}get left(){return this.model.left||1}set left(s){this.model.left=s}get bottom(){return this.model.bottom||1}set bottom(s){this.model.bottom=s}get right(){return this.model.right||1}set right(s){this.model.right=s}get sheetName(){return this.model.sheetName}set sheetName(s){this.model.sheetName=s}get _serialisedSheetName(){let{sheetName:s}=this.model;return s?/^[a-zA-Z0-9]*$/.test(s)?s+"!":`'${s}'!`:""}expand(s,a,l,d){(!this.model.top||s<this.top)&&(this.top=s),(!this.model.left||a<this.left)&&(this.left=a),(!this.model.bottom||l>this.bottom)&&(this.bottom=l),(!this.model.right||d>this.right)&&(this.right=d)}expandRow(s){if(s){let{dimensions:a,number:l}=s;a&&this.expand(l,a.min,l,a.max)}}expandToAddress(s){let a=n.decodeEx(s);this.expand(a.row,a.col,a.row,a.col)}get tl(){return n.n2l(this.left)+this.top}get $t$l(){return`$${n.n2l(this.left)}$${this.top}`}get br(){return n.n2l(this.right)+this.bottom}get $b$r(){return`$${n.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(s){return(!s.sheetName||!this.sheetName||s.sheetName===this.sheetName)&&!(s.bottom<this.top)&&!(s.top>this.bottom)&&!(s.right<this.left)&&!(s.left>this.right)}contains(s){let a=n.decodeEx(s);return this.containsEx(a)}containsEx(s){return(!s.sheetName||!this.sheetName||s.sheetName===this.sheetName)&&s.row>=this.top&&s.row<=this.bottom&&s.col>=this.left&&s.col<=this.right}forEachAddress(s){for(let a=this.left;a<=this.right;a++)for(let l=this.top;l<=this.bottom;l++)s(n.encodeAddress(l,a),l,a)}}e.exports=o},{"../utils/col-cache":19}],11:[function(i,e,t){"use strict";let n=i("../utils/under-dash"),o=i("./enums"),r=i("../utils/col-cache"),s=i("./cell");e.exports=class{constructor(a,l){this._worksheet=a,this._number=l,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(a){return this._cells[a-1]}getCellEx(a){let l=this._cells[a.col-1];if(!l){let d=this._worksheet.getColumn(a.col);l=new s(this,d,a.address),this._cells[a.col-1]=l}return l}getCell(a){if(typeof a=="string"){let l=this._worksheet.getColumnKey(a);a=l?l.number:r.l2n(a)}return this._cells[a-1]||this.getCellEx({address:r.encodeAddress(this._number,a),row:this._number,col:a})}splice(a,l){let d=a+l;for(var c=arguments.length,u=new Array(c>2?c-2:0),h=2;h<c;h++)u[h-2]=arguments[h];let f=u.length-l,p=this._cells.length,m,g,b;if(f<0)for(m=a+u.length;m<=p;m++)b=this._cells[m-1],g=this._cells[m-f-1],g?(b=this.getCell(m),b.value=g.value,b.style=g.style,b._comment=g._comment):b&&(b.value=null,b.style={},b._comment=void 0);else if(f>0)for(m=p;m>=d;m--)g=this._cells[m-1],g?(b=this.getCell(m+f),b.value=g.value,b.style=g.style,b._comment=g._comment):this._cells[m+f-1]=void 0;for(m=0;m<u.length;m++)b=this.getCell(a+m),b.value=u[m],b.style={},b._comment=void 0}eachCell(a,l){if(l||(l=a,a=null),a&&a.includeEmpty){let d=this._cells.length;for(let c=1;c<=d;c++)l(this.getCell(c),c)}else this._cells.forEach((d,c)=>{d&&d.type!==o.ValueType.Null&&l(d,c+1)})}addPageBreak(a,l){let d=this._worksheet,c=Math.max(0,a-1)||0,u=Math.max(0,l-1)||16838,h={id:this._number,max:u,man:1};c&&(h.min=c),d.rowBreaks.push(h)}get values(){let a=[];return this._cells.forEach(l=>{l&&l.type!==o.ValueType.Null&&(a[l.col]=l.value)}),a}set values(a){if(this._cells=[],a)if(a instanceof Array){let l=0;a.hasOwnProperty("0")&&(l=1),a.forEach((d,c)=>{d!==void 0&&(this.getCellEx({address:r.encodeAddress(this._number,c+l),row:this._number,col:c+l}).value=d)})}else this._worksheet.eachColumnKey((l,d)=>{a[d]!==void 0&&(this.getCellEx({address:r.encodeAddress(this._number,l.number),row:this._number,col:l.number}).value=a[d])})}get hasValues(){return n.some(this._cells,a=>a&&a.type!==o.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let a=0;return this.eachCell(()=>{a++}),a}get dimensions(){let a=0,l=0;return this._cells.forEach(d=>{d&&d.type!==o.ValueType.Null&&((!a||a>d.col)&&(a=d.col),l<d.col&&(l=d.col))}),a>0?{min:a,max:l}:null}_applyStyle(a,l){return this.style[a]=l,this._cells.forEach(d=>{d&&(d[a]=l)}),l}get numFmt(){return this.style.numFmt}set numFmt(a){this._applyStyle("numFmt",a)}get font(){return this.style.font}set font(a){this._applyStyle("font",a)}get alignment(){return this.style.alignment}set alignment(a){this._applyStyle("alignment",a)}get protection(){return this.style.protection}set protection(a){this._applyStyle("protection",a)}get border(){return this.style.border}set border(a){this._applyStyle("border",a)}get fill(){return this.style.fill}set fill(a){this._applyStyle("fill",a)}get hidden(){return!!this._hidden}set hidden(a){this._hidden=a}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(a){this._outlineLevel=a}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){let a=[],l=0,d=0;return this._cells.forEach(c=>{if(c){let u=c.model;u&&((!l||l>c.col)&&(l=c.col),d<c.col&&(d=c.col),a.push(u))}}),this.height||a.length?{cells:a,number:this.number,min:l,max:d,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(a){if(a.number!==this._number)throw new Error("Invalid row number in model");let l;this._cells=[],a.cells.forEach(d=>{switch(d.type){case s.Types.Merge:break;default:{let c;if(d.address)c=r.decodeAddress(d.address);else if(l){let{row:u}=l,h=l.col+1;c={row:u,col:h,address:r.encodeAddress(u,h),$col$row:`$${r.n2l(h)}$${u}`}}l=c,this.getCellEx(c).model=d;break}}}),a.height?this.height=a.height:delete this.height,this.hidden=a.hidden,this.outlineLevel=a.outlineLevel||0,this.style=a.style&&JSON.parse(JSON.stringify(a.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(i,e,t){"use strict";let n=i("../utils/col-cache");class o{constructor(s,a,l){this.table=s,this.column=a,this.index=l}_set(s,a){this.table.cacheState(),this.column[s]=a}get name(){return this.column.name}set name(s){this._set("name",s)}get filterButton(){return this.column.filterButton}set filterButton(s){this.column.filterButton=s}get style(){return this.column.style}set style(s){this.column.style=s}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(s){this._set("totalsRowLabel",s)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(s){this._set("totalsRowFunction",s)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(s){this._set("totalsRowResult",s)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(s){this._set("totalsRowFormula",s)}}e.exports=class{constructor(r,s){this.worksheet=r,s&&(this.table=s,this.validate(),this.store())}getFormula(r){switch(r.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${r.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${r.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${r.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${r.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${r.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${r.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${r.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${r.name}])`;case"custom":return r.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+r.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){let{table:r}=this,s=(f,p,m)=>{f[p]===void 0&&(f[p]=m)};s(r,"headerRow",!0),s(r,"totalsRow",!1),s(r,"style",{}),s(r.style,"theme","TableStyleMedium2"),s(r.style,"showFirstColumn",!1),s(r.style,"showLastColumn",!1),s(r.style,"showRowStripes",!1),s(r.style,"showColumnStripes",!1);let a=(f,p)=>{if(!f)throw new Error(p)};a(r.ref,"Table must have ref"),a(r.columns,"Table must have column definitions"),a(r.rows,"Table must have row definitions"),r.tl=n.decodeAddress(r.ref);let{row:l,col:d}=r.tl;a(l>0,"Table must be on valid row"),a(d>0,"Table must be on valid col");let{width:c,filterHeight:u,tableHeight:h}=this;r.autoFilterRef=n.encode(l,d,l+u-1,d+c-1),r.tableRef=n.encode(l,d,l+h-1,d+c-1),r.columns.forEach((f,p)=>{a(f.name,`Column ${p} must have a name`),p===0?s(f,"totalsRowLabel","Total"):(s(f,"totalsRowFunction","none"),f.totalsRowFormula=this.getFormula(f))})}store(){let r=(u,h)=>{h&&Object.keys(h).forEach(f=>{u[f]=h[f]})},{worksheet:s,table:a}=this,{row:l,col:d}=a.tl,c=0;if(a.headerRow){let u=s.getRow(l+c++);a.columns.forEach((h,f)=>{let{style:p,name:m}=h,g=u.getCell(d+f);g.value=m,r(g,p)})}if(a.rows.forEach(u=>{let h=s.getRow(l+c++);u.forEach((f,p)=>{let m=h.getCell(d+p);m.value=f,r(m,a.columns[p].style)})}),a.totalsRow){let u=s.getRow(l+c++);a.columns.forEach((h,f)=>{let p=u.getCell(d+f);if(f===0)p.value=h.totalsRowLabel;else{let m=this.getFormula(h);p.value=m?{formula:h.totalsRowFormula,result:h.totalsRowResult}:null}r(p,h.style)})}}load(r){let{table:s}=this,{row:a,col:l}=s.tl,d=0;if(s.headerRow){let c=r.getRow(a+d++);s.columns.forEach((u,h)=>{c.getCell(l+h).value=u.name})}if(s.rows.forEach(c=>{let u=r.getRow(a+d++);c.forEach((h,f)=>{u.getCell(l+f).value=h})}),s.totalsRow){let c=r.getRow(a+d++);s.columns.forEach((u,h)=>{let f=c.getCell(l+h);h===0?f.value=u.totalsRowLabel:this.getFormula(u)&&(f.value={formula:u.totalsRowFormula,result:u.totalsRowResult})})}}get model(){return this.table}set model(r){this.table=r}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();let r=n.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let s=0;s<this._cache.tableHeight;s++){let a=this.worksheet.getRow(r.row+s);for(let l=0;l<this._cache.width;l++)a.getCell(r.col+l).value=null}else{for(let s=this.tableHeight;s<this._cache.tableHeight;s++){let a=this.worksheet.getRow(r.row+s);for(let l=0;l<this._cache.width;l++)a.getCell(r.col+l).value=null}for(let s=0;s<this.tableHeight;s++){let a=this.worksheet.getRow(r.row+s);for(let l=this.width;l<this._cache.width;l++)a.getCell(r.col+l).value=null}}this.store()}addRow(r,s){this.cacheState(),s===void 0?this.table.rows.push(r):this.table.rows.splice(s,0,r)}removeRows(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(r,s)}getColumn(r){let s=this.table.columns[r];return new o(this,s,r)}addColumn(r,s,a){this.cacheState(),a===void 0?(this.table.columns.push(r),this.table.rows.forEach((l,d)=>{l.push(s[d])})):(this.table.columns.splice(a,0,r),this.table.rows.forEach((l,d)=>{l.splice(a,0,s[d])}))}removeColumns(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(r,s),this.table.rows.forEach(a=>{a.splice(r,s)})}_assign(r,s,a){this.cacheState(),r[s]=a}get ref(){return this.table.ref}set ref(r){this._assign(this.table,"ref",r)}get name(){return this.table.name}set name(r){this.table.name=r}get displayName(){return this.table.displyName||this.table.name}set displayNamename(r){this.table.displayName=r}get headerRow(){return this.table.headerRow}set headerRow(r){this._assign(this.table,"headerRow",r)}get totalsRow(){return this.table.totalsRow}set totalsRow(r){this._assign(this.table,"totalsRow",r)}get theme(){return this.table.style.name}set theme(r){this.table.style.name=r}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(r){this.table.style.showFirstColumn=r}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(r){this.table.style.showLastColumn=r}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(r){this.table.style.showRowStripes=r}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(r){this.table.style.showColumnStripes=r}}},{"../utils/col-cache":19}],13:[function(i,e,t){"use strict";let n=i("./worksheet"),o=i("./defined-names"),r=i("../xlsx/xlsx"),s=i("../csv/csv");e.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new o}get xlsx(){return this._xlsx||(this._xlsx=new r(this)),this._xlsx}get csv(){return this._csv||(this._csv=new s(this)),this._csv}get nextId(){for(let a=1;a<this._worksheets.length;a++)if(!this._worksheets[a])return a;return this._worksheets.length||1}addWorksheet(a,l){let d=this.nextId;l&&(typeof l=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),l={properties:{tabColor:{argb:l}}}):(l.argb||l.theme||l.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),l={properties:{tabColor:l}}));let c=this._worksheets.reduce((f,p)=>(p&&p.orderNo)>f?p.orderNo:f,0),u=Object.assign({},l,{id:d,name:a,orderNo:c+1,workbook:this}),h=new n(u);return this._worksheets[d]=h,h}removeWorksheetEx(a){delete this._worksheets[a.id]}removeWorksheet(a){let l=this.getWorksheet(a);l&&l.destroy()}getWorksheet(a){return a===void 0?this._worksheets.find(Boolean):typeof a=="number"?this._worksheets[a]:typeof a=="string"?this._worksheets.find(l=>l&&l.name===a):void 0}get worksheets(){return this._worksheets.slice(1).sort((a,l)=>a.orderNo-l.orderNo).filter(Boolean)}eachSheet(a){this.worksheets.forEach(l=>{a(l,l.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(a){let l=this.media.length;return this.media.push(Object.assign({},a,{type:"image"})),l}getImage(a){return this.media[a]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(a=>a.model),sheets:this.worksheets.map(a=>a.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(a){this.creator=a.creator,this.lastModifiedBy=a.lastModifiedBy,this.lastPrinted=a.lastPrinted,this.created=a.created,this.modified=a.modified,this.company=a.company,this.manager=a.manager,this.title=a.title,this.subject=a.subject,this.keywords=a.keywords,this.category=a.category,this.description=a.description,this.language=a.language,this.revision=a.revision,this.contentStatus=a.contentStatus,this.properties=a.properties,this.calcProperties=a.calcProperties,this._worksheets=[],a.worksheets.forEach(l=>{let{id:d,name:c,state:u}=l,h=a.sheets&&a.sheets.findIndex(f=>f.id===d);(this._worksheets[d]=new n({id:d,name:c,orderNo:h,state:u,workbook:this})).model=l}),this._definedNames.model=a.definedNames,this.views=a.views,this._themes=a.themes,this.media=a.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(i,e,t){"use strict";let n=i("../utils/under-dash"),o=i("../utils/col-cache"),r=i("./range"),s=i("./row"),a=i("./column"),l=i("./enums"),d=i("./image"),c=i("./table"),u=i("./data-validations"),h=i("../utils/encryptor"),{copyStyle:f}=i("../utils/copy-style");e.exports=class{constructor(p){p=p||{},this._workbook=p.workbook,this.id=p.id,this.orderNo=p.orderNo,this.name=p.name,this.state=p.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},p.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!p.pageSetup||!p.pageSetup.fitToWidth&&!p.pageSetup.fitToHeight||p.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},p.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},p.headerFooter),this.dataValidations=new u,this.views=p.views||[],this.autoFilter=p.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(p){if(p===void 0&&(p="sheet"+this.id),this._name!==p){if(typeof p!="string")throw new Error("The name has to be a string.");if(p==="")throw new Error("The name can't be empty.");if(p==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(p))throw new Error(`Worksheet name ${p} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(p))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+p);if(p&&p.length>31&&(console.warn(`Worksheet name ${p} exceeds 31 chars. This will be truncated`),p=p.substring(0,31)),this._workbook._worksheets.find(m=>m&&m.name.toLowerCase()===p.toLowerCase()))throw new Error("Worksheet name already exists: "+p);this._name=p}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){let p=new r;return this._rows.forEach(m=>{if(m){let g=m.dimensions;g&&p.expand(m.number,g.min,m.number,g.max)}}),p}get columns(){return this._columns}set columns(p){this._headerRowCount=p.reduce((b,x)=>{let E=(x.header?1:x.headers&&x.headers.length)||0;return Math.max(b,E)},0);let m=1,g=this._columns=[];p.forEach(b=>{let x=new a(this,m++,!1);g.push(x),x.defn=b})}getColumnKey(p){return this._keys[p]}setColumnKey(p,m){this._keys[p]=m}deleteColumnKey(p){delete this._keys[p]}eachColumnKey(p){n.each(this._keys,p)}getColumn(p){if(typeof p=="string"){let m=this._keys[p];if(m)return m;p=o.l2n(p)}if(this._columns||(this._columns=[]),p>this._columns.length){let m=this._columns.length+1;for(;m<=p;)this._columns.push(new a(this,m++))}return this._columns[p-1]}spliceColumns(p,m){let g=this._rows.length;for(var b=arguments.length,x=new Array(b>2?b-2:0),E=2;E<b;E++)x[E-2]=arguments[E];if(x.length>0)for(let R=0;R<g;R++){let N=[p,m];x.forEach(V=>{N.push(V[R]||null)});let z=this.getRow(R+1);z.splice.apply(z,N)}else this._rows.forEach(R=>{R&&R.splice(p,m)});let D=x.length-m,L=p+m,k=this._columns.length;if(D<0)for(let R=p+x.length;R<=k;R++)this.getColumn(R).defn=this.getColumn(R-D).defn;else if(D>0)for(let R=k;R>=L;R--)this.getColumn(R+D).defn=this.getColumn(R).defn;for(let R=p;R<p+x.length;R++)this.getColumn(R).defn=null;this.workbook.definedNames.spliceColumns(this.name,p,m,x.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let p=0;return this.eachRow(m=>{p=Math.max(p,m.cellCount)}),p}get actualColumnCount(){let p=[],m=0;return this.eachRow(g=>{g.eachCell(b=>{let{col:x}=b;p[x]||(p[x]=!0,m++)})}),m}_commitRow(){}get _lastRowNumber(){let p=this._rows,m=p.length;for(;m>0&&p[m-1]===void 0;)m--;return m}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(p){return this._rows[p-1]}findRows(p,m){return this._rows.slice(p-1,p-1+m)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let p=0;return this.eachRow(()=>{p++}),p}getRow(p){let m=this._rows[p-1];return m||(m=this._rows[p-1]=new s(this,p)),m}getRows(p,m){if(m<1)return;let g=[];for(let b=p;b<p+m;b++)g.push(this.getRow(b));return g}addRow(p){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n",g=this._nextRow,b=this.getRow(g);return b.values=p,this._setStyleOption(g,m[0]==="i"?m:"n"),b}addRows(p){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n",g=[];return p.forEach(b=>{g.push(this.addRow(b,m))}),g}insertRow(p,m){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(p,0,m),this._setStyleOption(p,g),this.getRow(p)}insertRows(p,m){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(p,0,...m),g!=="n")for(let b=0;b<m.length;b++)g[0]==="o"&&this.findRow(m.length+p+b)!==void 0?this._copyStyle(m.length+p+b,p+b,g[1]==="+"):g[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p+b,g[1]==="+");return this.getRows(p,m.length)}_setStyleOption(p){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";m[0]==="o"&&this.findRow(p+1)!==void 0?this._copyStyle(p+1,p,m[1]==="+"):m[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p,m[1]==="+")}_copyStyle(p,m){let g=arguments.length>2&&arguments[2]!==void 0&&arguments[2],b=this.getRow(p),x=this.getRow(m);x.style=f(b.style),b.eachCell({includeEmpty:g},(E,D)=>{x.getCell(D).style=f(E.style)}),x.height=b.height}duplicateRow(p,m){let g=arguments.length>2&&arguments[2]!==void 0&&arguments[2],b=this._rows[p-1],x=new Array(m).fill(b.values);this.spliceRows(p+1,g?0:m,...x);for(let E=0;E<m;E++){let D=this._rows[p+E];D.style=b.style,D.height=b.height,b.eachCell({includeEmpty:!0},(L,k)=>{D.getCell(k).style=L.style})}}spliceRows(p,m){let g=p+m;for(var b=arguments.length,x=new Array(b>2?b-2:0),E=2;E<b;E++)x[E-2]=arguments[E];let D=x.length,L=D-m,k=this._rows.length,R,N;if(L<0)for(p===k&&(this._rows[k-1]=void 0),R=g;R<=k;R++)if(N=this._rows[R-1],N){let z=this.getRow(R+L);z.values=N.values,z.style=N.style,z.height=N.height,N.eachCell({includeEmpty:!0},(V,S)=>{z.getCell(S).style=V.style}),this._rows[R-1]=void 0}else this._rows[R+L-1]=void 0;else if(L>0)for(R=k;R>=g;R--)if(N=this._rows[R-1],N){let z=this.getRow(R+L);z.values=N.values,z.style=N.style,z.height=N.height,N.eachCell({includeEmpty:!0},(V,S)=>{if(z.getCell(S).style=V.style,V._value.constructor.name==="MergeValue"){let T=this.getRow(V._row._number+D).getCell(S),B=V._value._master,_=this.getRow(B._row._number+D).getCell(B._column._number);T.merge(_)}})}else this._rows[R+L-1]=void 0;for(R=0;R<D;R++){let z=this.getRow(p+R);z.style={},z.values=x[R]}this.workbook.definedNames.spliceRows(this.name,p,m,D)}eachRow(p,m){if(m||(m=p,p=void 0),p&&p.includeEmpty){let g=this._rows.length;for(let b=1;b<=g;b++)m(this.getRow(b),b)}else this._rows.forEach(g=>{g&&g.hasValues&&m(g,g.number)})}getSheetValues(){let p=[];return this._rows.forEach(m=>{m&&(p[m.number]=m.values)}),p}findCell(p,m){let g=o.getAddress(p,m),b=this._rows[g.row-1];return b?b.findCell(g.col):void 0}getCell(p,m){let g=o.getAddress(p,m);return this.getRow(g.row).getCellEx(g)}mergeCells(){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];let b=new r(m);this._mergeCellsInternal(b)}mergeCellsWithoutStyle(){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];let b=new r(m);this._mergeCellsInternal(b,!0)}_mergeCellsInternal(p,m){n.each(this._merges,b=>{if(b.intersects(p))throw new Error("Cannot merge already merged cells")});let g=this.getCell(p.top,p.left);for(let b=p.top;b<=p.bottom;b++)for(let x=p.left;x<=p.right;x++)(b>p.top||x>p.left)&&this.getCell(b,x).merge(g,m);this._merges[g.address]=p}_unMergeMaster(p){let m=this._merges[p.address];if(m){for(let g=m.top;g<=m.bottom;g++)for(let b=m.left;b<=m.right;b++)this.getCell(g,b).unmerge();delete this._merges[p.address]}}get hasMerges(){return n.some(this._merges,Boolean)}unMergeCells(){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];let b=new r(m);for(let x=b.top;x<=b.bottom;x++)for(let E=b.left;E<=b.right;E++){let D=this.findCell(x,E);D&&(D.type===l.ValueType.Merge?this._unMergeMaster(D.master):this._merges[D.address]&&this._unMergeMaster(D))}}fillFormula(p,m,g){let b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared",x=o.decode(p),{top:E,left:D,bottom:L,right:k}=x,R=k-D+1,N=o.encodeAddress(E,D),z=b==="shared",V;V=typeof g=="function"?g:Array.isArray(g)?Array.isArray(g[0])?(T,B)=>g[T-E][B-D]:(T,B)=>g[(T-E)*R+(B-D)]:()=>{};let S=!0;for(let T=E;T<=L;T++)for(let B=D;B<=k;B++)S?(this.getCell(T,B).value={shareType:b,formula:m,ref:p,result:V(T,B)},S=!1):this.getCell(T,B).value=z?{sharedFormula:N,result:V(T,B)}:V(T,B)}addImage(p,m){let g={type:"image",imageId:p,range:m};this._media.push(new d(this,g))}getImages(){return this._media.filter(p=>p.type==="image")}addBackgroundImage(p){let m={type:"background",imageId:p};this._media.push(new d(this,m))}getBackgroundImageId(){let p=this._media.find(m=>m.type==="background");return p&&p.imageId}protect(p,m){return new Promise(g=>{this.sheetProtection={sheet:!0},m&&"spinCount"in m&&(m.spinCount=Number.isFinite(m.spinCount)?Math.round(Math.max(0,m.spinCount)):1e5),p&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=h.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=m&&"spinCount"in m?m.spinCount:1e5,this.sheetProtection.hashValue=h.convertPasswordToHash(p,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),m&&(this.sheetProtection=Object.assign(this.sheetProtection,m),!p&&"spinCount"in m&&delete this.sheetProtection.spinCount),g()})}unprotect(){this.sheetProtection=null}addTable(p){let m=new c(this,p);return this.tables[p.name]=m,m}getTable(p){return this.tables[p]}removeTable(p){delete this.tables[p]}getTables(){return Object.values(this.tables)}addConditionalFormatting(p){this.conditionalFormattings.push(p)}removeConditionalFormatting(p){typeof p=="number"?this.conditionalFormattings.splice(p,1):this.conditionalFormattings=p instanceof Function?this.conditionalFormattings.filter(p):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(p){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=p}get model(){let p={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(b=>b.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(b=>b.model),conditionalFormattings:this.conditionalFormattings};p.cols=a.toModel(this.columns);let m=p.rows=[],g=p.dimensions=new r;return this._rows.forEach(b=>{let x=b&&b.model;x&&(g.expand(x.number,x.min,x.number,x.max),m.push(x))}),p.merges=[],n.each(this._merges,b=>{p.merges.push(b.range)}),p}_parseRows(p){this._rows=[],p.rows.forEach(m=>{let g=new s(this,m.number);this._rows[g.number-1]=g,g.model=m})}_parseMergeCells(p){n.each(p.mergeCells,m=>{this.mergeCellsWithoutStyle(m)})}set model(p){this.name=p.name,this._columns=a.fromModel(this,p.cols),this._parseRows(p),this._parseMergeCells(p),this.dataValidations=new u(p.dataValidations),this.properties=p.properties,this.pageSetup=p.pageSetup,this.headerFooter=p.headerFooter,this.views=p.views,this.autoFilter=p.autoFilter,this._media=p.media.map(m=>new d(this,m)),this.sheetProtection=p.sheetProtection,this.tables=p.tables.reduce((m,g)=>{let b=new c;return b.model=g,m[g.name]=b,m},{}),this.conditionalFormattings=p.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(i,e,t){"use strict";i("core-js/modules/es.promise"),i("core-js/modules/es.promise.finally"),i("core-js/modules/es.object.assign"),i("core-js/modules/es.object.keys"),i("core-js/modules/es.object.values"),i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.async-iterator"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.find-index"),i("core-js/modules/es.array.find"),i("core-js/modules/es.string.from-code-point"),i("core-js/modules/es.string.includes"),i("core-js/modules/es.number.is-nan"),i("regenerator-runtime/runtime");let n={Workbook:i("./doc/workbook")},o=i("./doc/enums");Object.keys(o).forEach(r=>{n[r]=o[r]}),e.exports=n},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(i,e,t){"use strict";let n=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");t.bufferToString=function(o){return typeof o=="string"?o:n?n.decode(o):o.toString()}},{}],17:[function(i,e,t){"use strict";let n=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:o}=i("buffer");t.stringToBuffer=function(r){return typeof r!="string"?r:n?o.from(n.encode(r).buffer):o.from(r)}},{buffer:220}],18:[function(i,e,t){"use strict";let n=i("./under-dash"),o=i("./col-cache");e.exports=class{constructor(r){this.template=r,this.sheets={}}addCell(r){this.addCellEx(o.decodeEx(r))}getCell(r){return this.findCellEx(o.decodeEx(r),!0)}findCell(r){return this.findCellEx(o.decodeEx(r),!1)}findCellAt(r,s,a){let l=this.sheets[r],d=l&&l[s];return d&&d[a]}addCellEx(r){if(r.top)for(let s=r.top;s<=r.bottom;s++)for(let a=r.left;a<=r.right;a++)this.getCellAt(r.sheetName,s,a);else this.findCellEx(r,!0)}getCellEx(r){return this.findCellEx(r,!0)}findCellEx(r,s){let a=this.findSheet(r,s),l=this.findSheetRow(a,r,s);return this.findRowCell(l,r,s)}getCellAt(r,s,a){let l=this.sheets[r]||(this.sheets[r]=[]),d=l[s]||(l[s]=[]);return d[a]||(d[a]={sheetName:r,address:o.n2l(a)+s,row:s,col:a})}removeCellEx(r){let s=this.findSheet(r);if(!s)return;let a=this.findSheetRow(s,r);a&&delete a[r.col]}forEachInSheet(r,s){let a=this.sheets[r];a&&a.forEach((l,d)=>{l&&l.forEach((c,u)=>{c&&s(c,d,u)})})}forEach(r){n.each(this.sheets,(s,a)=>{this.forEachInSheet(a,r)})}map(r){let s=[];return this.forEach(a=>{s.push(r(a))}),s}findSheet(r,s){let a=r.sheetName;return this.sheets[a]?this.sheets[a]:s?this.sheets[a]=[]:void 0}findSheetRow(r,s,a){let{row:l}=s;return r&&r[l]?r[l]:a?r[l]=[]:void 0}findRowCell(r,s,a){let{col:l}=s;return r&&r[l]?r[l]:a?r[l]=this.template?Object.assign(s,JSON.parse(JSON.stringify(this.template))):s:void 0}spliceRows(r,s,a,l){let d=this.sheets[r];if(d){let c=[];for(let u=0;u<l;u++)c.push([]);d.splice(s,a,...c)}}spliceColumns(r,s,a,l){let d=this.sheets[r];if(d){let c=[];for(let u=0;u<l;u++)c.push(null);n.each(d,u=>{u.splice(s,a,...c)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(i,e,t){"use strict";let n=/^[A-Z]+\d+$/,o={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:r=>r<=26?1:r<=676?2:3,_fill(r){let s,a,l,d,c,u=1;if(r>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&r>=1){for(;u<=26;)s=this._dictionary[u-1],this._n2l[u]=s,this._l2n[s]=u,u++;this._l2nFill=1}if(this._l2nFill<2&&r>=2){for(u=27;u<=702;)a=u-27,l=a%26,d=Math.floor(a/26),s=this._dictionary[d]+this._dictionary[l],this._n2l[u]=s,this._l2n[s]=u,u++;this._l2nFill=2}if(this._l2nFill<3&&r>=3){for(u=703;u<=16384;)a=u-703,l=a%26,d=Math.floor(a/26)%26,c=Math.floor(a/676),s=this._dictionary[c]+this._dictionary[d]+this._dictionary[l],this._n2l[u]=s,this._l2n[s]=u,u++;this._l2nFill=3}},l2n(r){if(this._l2n[r]||this._fill(r.length),!this._l2n[r])throw new Error("Out of bounds. Invalid column letter: "+r);return this._l2n[r]},n2l(r){if(r<1||r>16384)throw new Error(r+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[r]||this._fill(this._level(r)),this._n2l[r]},_hash:{},validateAddress(r){if(!n.test(r))throw new Error("Invalid Address: "+r);return!0},decodeAddress(r){let s=r.length<5&&this._hash[r];if(s)return s;let a=!1,l="",d=0,c=!1,u="",h=0;for(let p,m=0;m<r.length;m++)if(p=r.charCodeAt(m),!c&&p>=65&&p<=90)a=!0,l+=r[m],d=26*d+p-64;else if(p>=48&&p<=57)c=!0,u+=r[m],h=10*h+p-48;else if(c&&a&&p!==36)break;if(a){if(d>16384)throw new Error("Out of bounds. Invalid column letter: "+l)}else d=void 0;c||(h=void 0);let f={address:r=l+u,col:d,row:h,$col$row:`$${l}$${u}`};return d<=100&&h<=100&&(this._hash[r]=f,this._hash[f.$col$row]=f),f},getAddress(r,s){if(s){let a=this.n2l(s)+r;return this.decodeAddress(a)}return this.decodeAddress(r)},decode(r){let s=r.split(":");if(s.length===2){let a=this.decodeAddress(s[0]),l=this.decodeAddress(s[1]),d={top:Math.min(a.row,l.row),left:Math.min(a.col,l.col),bottom:Math.max(a.row,l.row),right:Math.max(a.col,l.col)};return d.tl=this.n2l(d.left)+d.top,d.br=this.n2l(d.right)+d.bottom,d.dimensions=`${d.tl}:${d.br}`,d}return this.decodeAddress(r)},decodeEx(r){let s=r.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),a=s[1]||s[2],l=s[3],d=l.split(":");if(d.length>1){let u=this.decodeAddress(d[0]),h=this.decodeAddress(d[1]),f=Math.min(u.row,h.row),p=Math.min(u.col,h.col),m=Math.max(u.row,h.row),g=Math.max(u.col,h.col);return u=this.n2l(p)+f,h=this.n2l(g)+m,{top:f,left:p,bottom:m,right:g,sheetName:a,tl:{address:u,col:p,row:f,$col$row:`$${this.n2l(p)}$${f}`,sheetName:a},br:{address:h,col:g,row:m,$col$row:`$${this.n2l(g)}$${m}`,sheetName:a},dimensions:`${u}:${h}`}}if(l.startsWith("#"))return a?{sheetName:a,error:l}:{error:l};let c=this.decodeAddress(l);return a?Le({sheetName:a},c):c},encodeAddress:(r,s)=>o.n2l(s)+r,encode(){switch(arguments.length){case 2:return o.encodeAddress(arguments[0],arguments[1]);case 4:return`${o.encodeAddress(arguments[0],arguments[1])}:${o.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(r,s){let[a,l,,d,c]=r,[u,h]=s;return u>=a&&u<=d&&h>=l&&h<=c}};e.exports=o},{}],20:[function(i,e,t){"use strict";let n=(r,s)=>Le(Le({},r),s.reduce((a,l)=>(r[l]&&(a[l]=Le({},r[l])),a),{})),o=function(r,s,a){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];r[a]&&(s[a]=n(r[a],l))};t.copyStyle=r=>{if(!r)return r;if(s=r,Object.keys(s).length===0)return{};var s;let a=Le({},r);return o(r,a,"font",["color"]),o(r,a,"alignment"),o(r,a,"protection"),r.border&&(o(r,a,"border"),o(r.border,a.border,"top",["color"]),o(r.border,a.border,"left",["color"]),o(r.border,a.border,"bottom",["color"]),o(r.border,a.border,"right",["color"]),o(r.border,a.border,"diagonal",["color"])),r.fill&&(o(r,a,"fill",["fgColor","bgColor","center"]),r.fill.stops&&(a.fill.stops=r.fill.stops.map(l=>n(l,["color"])))),a}},{}],21:[function(i,e,t){(function(n){(function(){"use strict";let o=i("crypto"),r={hash(s){let a=o.createHash(s);for(var l=arguments.length,d=new Array(l>1?l-1:0),c=1;c<l;c++)d[c-1]=arguments[c];return a.update(n.concat(d)),a.digest()},convertPasswordToHash(s,a,l,d){if(a=a.toLowerCase(),o.getHashes().indexOf(a)<0)throw new Error(`Hash algorithm '${a}' not supported!`);let c=n.from(s,"utf16le"),u=this.hash(a,n.from(l,"base64"),c);for(let h=0;h<d;h++){let f=n.alloc(4);f.writeUInt32LE(h,0),u=this.hash(a,u,f)}return u.toString("base64")},randomBytes:s=>o.randomBytes(s)};e.exports=r}).call(this)}).call(this,i("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(i,e,t){"use strict";let{SaxesParser:n}=i("saxes"),{PassThrough:o}=i("readable-stream"),{bufferToString:r}=i("./browser-buffer-decode");e.exports=function(s){return b_(this,null,function*(){s.pipe&&!s[Symbol.asyncIterator]&&(s=s.pipe(new o));let a=new n,l;a.on("error",p=>{l=p});let d=[];a.on("opentag",p=>d.push({eventType:"opentag",value:p})),a.on("text",p=>d.push({eventType:"text",value:p})),a.on("closetag",p=>d.push({eventType:"closetag",value:p}));try{for(var c=Af(s),u,h,f;u=!(h=yield new Tf(c.next())).done;u=!1){let p=h.value;if(a.write(r(p)),l)throw l;yield d,d=[]}}catch{f=[h]}finally{try{u&&(h=c.return)&&(yield new Tf(h.call(c)))}finally{if(f)throw f[0]}}})}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(i,e,t){"use strict";let n=i("./col-cache"),o=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,r=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;e.exports={slideFormula:function(s,a,l){let d=n.decode(a),c=n.decode(l);return s.replace(o,(u,h,f,p,m)=>{if(m)return u;let g=r.exec(p);if(g){let b=g[1],x=g[2].toUpperCase(),E=g[3],D=g[4];if(x.length>3||x.length===3&&x>"XFD")return u;let L=n.l2n(x),k=parseInt(D,10);return b||(L+=c.col-d.col),E||(k+=c.row-d.row),(h||"")+(b||"")+n.n2l(L)+(E||"")+k}return u})}}},{"./col-cache":19}],24:[function(i,e,t){(function(n,o){(function(){"use strict";let r=i("readable-stream"),s=i("./utils"),a=i("./string-buf");class l{constructor(m,g){this._data=m,this._encoding=g}get length(){return this.toBuffer().length}copy(m,g,b,x){return this.toBuffer().copy(m,g,b,x)}toBuffer(){return this._buffer||(this._buffer=o.from(this._data,this._encoding)),this._buffer}}class d{constructor(m){this._data=m}get length(){return this._data.length}copy(m,g,b,x){return this._data._buf.copy(m,g,b,x)}toBuffer(){return this._data.toBuffer()}}class c{constructor(m){this._data=m}get length(){return this._data.length}copy(m,g,b,x){this._data.copy(m,g,b,x)}toBuffer(){return this._data}}class u{constructor(m){this.size=m,this.buffer=o.alloc(m),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;let m=o.alloc(this.iWrite-this.iRead);return this.buffer.copy(m,0,this.iRead,this.iWrite),m}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(m){let g;return m===0?null:m===void 0||m>=this.length?(g=this.toBuffer(),this.iRead=this.iWrite,g):(g=o.alloc(m),this.buffer.copy(g,0,this.iRead,m),this.iRead+=m,g)}write(m,g,b){let x=Math.min(b,this.size-this.iWrite);return m.copy(this.buffer,this.iWrite,g,g+x),this.iWrite+=x,x}}let h=function(p){p=p||{},this.bufSize=p.bufSize||1048576,this.buffers=[],this.batch=p.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};s.inherits(h,r.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return o.concat(this.buffers.map(p=>p.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){let m=this.buffers[this.buffers.length-1];if(!m.full)return m}let p=new u(this.bufSize);return this.buffers.push(p),p},_pipe(p){return ze(this,null,function*(){yield Promise.all(this.pipes.map(function(m){return new Promise(g=>{m.write(p.toBuffer(),()=>{g()})})}))})},_writeToBuffers(p){let m=0,g=p.length;for(;m<g;)m+=this._getWritableBuffer().write(p,m,g-m)},write(p,m,g){return ze(this,null,function*(){let b;if(m instanceof Function&&(g=m,m="utf8"),g=g||s.nop,p instanceof a)b=new d(p);else if(p instanceof o)b=new c(p);else{if(!(typeof p=="string"||p instanceof String||p instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");b=new l(p,m)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(b);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(b),n.nextTick(g)):(yield this._pipe(b),g());else this.paused||this.emit("data",b.toBuffer()),this._writeToBuffers(b),this.emit("readable");return!0})},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(p,m,g){let b=x=>{x?g(x):(this._flush(),this.pipes.forEach(E=>{E.end()}),this.emit("finish"))};p?this.write(p,m,b):b()},read(p){let m;if(p){for(m=[];p&&this.buffers.length&&!this.buffers[0].eod;){let g=this.buffers[0],b=g.read(p);p-=b.length,m.push(b),g.eod&&g.full&&this.buffers.shift()}return o.concat(m)}return m=this.buffers.map(g=>g.toBuffer()).filter(Boolean),this.buffers=[],o.concat(m)},setEncoding(p){this.encoding=p},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(p){this.pipes.push(p),!this.paused&&this.buffers.length&&this.end()},unpipe(p){this.pipes=this.pipes.filter(m=>m!==p)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),e.exports=h}).call(this)}).call(this,i("_process"),i("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(i,e,t){(function(n){(function(){"use strict";e.exports=class{constructor(o){this._buf=n.alloc(o&&o.size||16384),this._encoding=o&&o.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=n.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(o){o=o||0,this._buffer=void 0,this._inPos=o}_grow(o){let r=2*this._buf.length;for(;r<o;)r*=2;let s=n.alloc(r);this._buf.copy(s,0),this._buf=s}addText(o){this._buffer=void 0;let r=this._inPos+this._buf.write(o,this._inPos,this._encoding);for(;r>=this._buf.length-4;)this._grow(this._inPos+o.length),r=this._inPos+this._buf.write(o,this._inPos,this._encoding);this._inPos=r}addStringBuf(o){o.length&&(this._buffer=void 0,this.length+o.length>this.capacity&&this._grow(this.length+o.length),o._buf.copy(this._buf,this._inPos,0,o.length),this._inPos+=o.length)}}}).call(this)}).call(this,i("buffer").Buffer)},{buffer:220}],26:[function(i,e,t){"use strict";let{toString:n}=Object.prototype,o=/["&<>]/,r={each:function(s,a){s&&(Array.isArray(s)?s.forEach(a):Object.keys(s).forEach(l=>{a(s[l],l)}))},some:function(s,a){return!!s&&(Array.isArray(s)?s.some(a):Object.keys(s).some(l=>a(s[l],l)))},every:function(s,a){return!s||(Array.isArray(s)?s.every(a):Object.keys(s).every(l=>a(s[l],l)))},map:function(s,a){return s?Array.isArray(s)?s.map(a):Object.keys(s).map(l=>a(s[l],l)):[]},keyBy:(s,a)=>s.reduce((l,d)=>(l[d[a]]=d,l),{}),isEqual:function(s,a){let l=typeof s,d=typeof a,c=Array.isArray(s),u=Array.isArray(a),h;if(l!==d)return!1;switch(typeof s){case"object":if(c||u)return!(!c||!u)&&s.length===a.length&&s.every((f,p)=>{let m=a[p];return r.isEqual(f,m)});if(s===null||a===null)return s===a;if(h=Object.keys(s),Object.keys(a).length!==h.length)return!1;for(let f of h)if(!a.hasOwnProperty(f))return!1;return r.every(s,(f,p)=>{let m=a[p];return r.isEqual(f,m)});default:return s===a}},escapeHtml(s){let a=o.exec(s);if(!a)return s;let l="",d="",c=0,u=a.index;for(;u<s.length;u++){switch(s.charAt(u)){case'"':d="&quot;";break;case"&":d="&amp;";break;case"'":d="&apos;";break;case"<":d="&lt;";break;case">":d="&gt;";break;default:continue}c!==u&&(l+=s.substring(c,u)),c=u+1,l+=d}return c!==u?l+s.substring(c,u):l},strcmp:(s,a)=>s<a?-1:s>a?1:0,isUndefined:s=>n.call(s)==="[object Undefined]",isObject:s=>n.call(s)==="[object Object]",deepMerge(){let s=arguments[0]||{},{length:a}=arguments,l,d,c;function u(h,f){l=s[f],c=Array.isArray(h),r.isObject(h)||c?(c?(c=!1,d=l&&Array.isArray(l)?l:[]):d=l&&r.isObject(l)?l:{},s[f]=r.deepMerge(d,h)):r.isUndefined(h)||(s[f]=h)}for(let h=0;h<a;h++)r.each(arguments[h],u);return s}};e.exports=r},{}],27:[function(i,e,t){(function(n,o){(function(){"use strict";let r=i("fs"),s=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,a={nop(){},promiseImmediate:l=>new Promise(d=>{n.setImmediate?o(()=>{d(l)}):setTimeout(()=>{d(l)},1)}),inherits:function(l,d,c,u){l.super_=d,u||(u=c,c=null),c&&Object.keys(c).forEach(f=>{Object.defineProperty(l,f,Object.getOwnPropertyDescriptor(c,f))});let h={constructor:{value:l,enumerable:!1,writable:!1,configurable:!0}};u&&Object.keys(u).forEach(f=>{h[f]=Object.getOwnPropertyDescriptor(u,f)}),l.prototype=Object.create(d.prototype,h)},dateToExcel:(l,d)=>25569+l.getTime()/864e5-(d?1462:0),excelToDate(l,d){let c=Math.round(24*(l-25569+(d?1462:0))*3600*1e3);return new Date(c)},parsePath(l){let d=l.lastIndexOf("/");return{path:l.substring(0,d),name:l.substring(d+1)}},getRelsPath(l){let d=a.parsePath(l);return`${d.path}/_rels/${d.name}.rels`},xmlEncode(l){let d=s.exec(l);if(!d)return l;let c="",u="",h=0,f=d.index;for(;f<l.length;f++){let p=l.charCodeAt(f);switch(p){case 34:u="&quot;";break;case 38:u="&amp;";break;case 39:u="&apos;";break;case 60:u="&lt;";break;case 62:u="&gt;";break;case 127:u="";break;default:if(p<=31&&(p<=8||p>=11&&p!==13)){u="";break}continue}h!==f&&(c+=l.substring(h,f)),h=f+1,u&&(c+=u)}return h!==f?c+l.substring(h,f):c},xmlDecode:l=>l.replace(/&([a-z]*);/g,d=>{switch(d){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return d}}),validInt(l){let d=parseInt(l,10);return Number.isNaN(d)?0:d},isDateFmt(l){return l?(l=(l=l.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:l=>new Promise(d=>{r.access(l,r.constants.F_OK,c=>{d(!c)})})},toIsoDateString:l=>l.toIsoString().subsstr(0,10),parseBoolean:l=>l===!0||l==="true"||l===1||l==="1"};e.exports=a}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},i("timers").setImmediate)},{fs:216,timers:523}],28:[function(i,e,t){"use strict";let n=i("./under-dash"),o=i("./utils");function r(l,d,c){l.push(` ${d}="${o.xmlEncode(c.toString())}"`)}function s(l,d){if(d){let c=[];n.each(d,(u,h)=>{u!==void 0&&r(c,h,u)}),l.push(c.join(""))}}class a{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(d){let c=this._xml;c.push("<?xml"),s(c,d),c.push(`?>
`)}openNode(d,c){let u=this.tos,h=this._xml;u&&this.open&&h.push(">"),this._stack.push(d),h.push("<"),h.push(d),s(h,c),this.leaf=!0,this.open=!0}addAttribute(d,c){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");c!==void 0&&r(this._xml,d,c)}addAttributes(d){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");s(this._xml,d)}writeText(d){let c=this._xml;this.open&&(c.push(">"),this.open=!1),this.leaf=!1,c.push(o.xmlEncode(d.toString()))}writeXml(d){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(d)}closeNode(){let d=this._stack.pop(),c=this._xml;this.leaf?c.push("/>"):(c.push("</"),c.push(d),c.push(">")),this.open=!1,this.leaf=!1}leafNode(d,c,u){this.openNode(d,c),u!==void 0&&this.writeText(u),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){let d=this._rollbacks.pop();this._xml.length>d.xml&&this._xml.splice(d.xml,this._xml.length-d.xml),this._stack.length>d.stack&&this._stack.splice(d.stack,this._stack.length-d.stack),this.leaf=d.leaf,this.open=d.open}get xml(){return this.closeAll(),this._xml.join("")}}a.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},e.exports=a},{"./under-dash":26,"./utils":27}],29:[function(i,e,t){(function(n){(function(){"use strict";let o=i("events"),r=i("jszip"),s=i("./stream-buf"),{stringToBuffer:a}=i("./browser-buffer-encode");class l extends o.EventEmitter{constructor(c){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},c),this.zip=new r,this.stream=new s}append(c,u){u.hasOwnProperty("base64")&&u.base64?this.zip.file(u.name,c,{base64:!0}):(n.browser&&typeof c=="string"&&(c=a(c)),this.zip.file(u.name,c))}finalize(){return ze(this,null,function*(){let c=yield this.zip.generateAsync(this.options);this.stream.end(c),this.emit("finish")})}read(c){return this.stream.read(c)}setEncoding(c){return this.stream.setEncoding(c)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(c,u){return this.stream.pipe(c,u)}unpipe(c){return this.stream.unpipe(c)}unshift(c){return this.stream.unshift(c)}wrap(c){return this.stream.wrap(c)}}e.exports={ZipWriter:l}}).call(this)}).call(this,i("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(i,e,t){"use strict";e.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},28:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"ja-jp":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":'yyyy"\uB144" mm"\uC6D4" dd"\uC77C"'},32:{"zh-tw":'hh"\u6642"mm"\u5206"',"zh-cn":'h"\u65F6"mm"\u5206"',"ja-jp":'h"\u6642"mm"\u5206"',"ko-kr":'h"\uC2DC" mm"\uBD84"'},33:{"zh-tw":'hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'h"\u6642"mm"\u5206"ss"\u79D2"',"ko-kr":'h"\uC2DC" mm"\uBD84" ss"\uCD08"'},34:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},51:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},52:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},55:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},58:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(i,e,t){"use strict";e.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(i,e,t){"use strict";let n=i("../../utils/parse-sax"),o=i("../../utils/xml-stream");class r{prepare(){}render(){}parseOpen(a){}parseText(a){}parseClose(a){}reconcile(a,l){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(a=>{a instanceof r?a.reset():a.xform&&a.xform.reset()})}mergeModel(a){this.model=Object.assign(this.model||{},a)}parse(a){return ze(this,null,function*(){try{for(var l=Af(a),d,c,u;d=!(c=yield l.next()).done;d=!1){let h=c.value;for(let{eventType:f,value:p}of h)if(f==="opentag")this.parseOpen(p);else if(f==="text")this.parseText(p);else if(f==="closetag"&&!this.parseClose(p.name))return this.model}}catch{u=[c]}finally{try{d&&(c=l.return)&&(yield c.call(l))}finally{if(u)throw u[0]}}return this.model})}parseStream(a){return ze(this,null,function*(){return this.parse(n(a))})}get xml(){return this.toXml(this.model)}toXml(a){let l=new o;return this.render(l,a),l.xml}static toAttribute(a,l){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(d)return l}else if(d||a!==l)return a.toString()}static toStringAttribute(a,l){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return r.toAttribute(a,l,d)}static toStringValue(a,l){return a===void 0?l:a}static toBoolAttribute(a,l){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(d)return l}else if(d||a!==l)return a?"1":"0"}static toBoolValue(a,l){return a===void 0?l:a==="1"}static toIntAttribute(a,l){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return r.toAttribute(a,l,d)}static toIntValue(a,l){return a===void 0?l:parseInt(a,10)}static toFloatAttribute(a,l){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return r.toAttribute(a,l,d)}static toFloatValue(a,l){return a===void 0?l:parseFloat(a)}}e.exports=r},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(i,e,t){"use strict";let n=i("../base-xform"),o=i("../../../utils/col-cache");function r(a){try{return o.decodeEx(a),!0}catch{return!1}}function s(a){let l=[],d=!1,c="";return a.split(",").forEach(u=>{if(!u)return;let h=(u.match(/'/g)||[]).length;if(!h)return void(d?c+=u+",":r(u)&&l.push(u));let f=h%2==0;!d&&f&&r(u)?l.push(u):d&&!f?(d=!1,r(c+u)&&l.push(c+u),c=""):(d=!0,c+=u+",")}),l}e.exports=class extends n{render(a,l){a.openNode("definedName",{name:l.name,localSheetId:l.localSheetId}),a.writeText(l.ranges.join(",")),a.closeNode()}parseOpen(a){switch(a.name){case"definedName":return this._parsedName=a.attributes.name,this._parsedLocalSheetId=a.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(a){this._parsedText.push(a)}parseClose(){return this.model={name:this._parsedName,ranges:s(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(i,e,t){"use strict";let n=i("../../../utils/utils"),o=i("../base-xform");e.exports=class extends o{render(r,s){r.leafNode("sheet",{sheetId:s.id,name:s.name,state:s.state,"r:id":s.rId})}parseOpen(r){return r.name==="sheet"&&(this.model={name:n.xmlDecode(r.attributes.name),id:parseInt(r.attributes.sheetId,10),state:r.attributes.state,rId:r.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{render(o,r){o.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:r.fullCalcOnLoad?1:void 0})}parseOpen(o){return o.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{render(o,r){o.leafNode("workbookPr",{date1904:r.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(o){return o.name==="workbookPr"&&(this.model={date1904:o.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{render(o,r){let s={xWindow:r.x||0,yWindow:r.y||0,windowWidth:r.width||12e3,windowHeight:r.height||24e3,firstSheet:r.firstSheet,activeTab:r.activeTab};r.visibility&&r.visibility!=="visible"&&(s.visibility=r.visibility),o.leafNode("workbookView",s)}parseOpen(o){if(o.name==="workbookView"){let r=this.model={},s=function(l,d,c){let u=d!==void 0?r[l]=d:c;u!==void 0&&(r[l]=u)},a=function(l,d,c){let u=d!==void 0?r[l]=parseInt(d,10):c;u!==void 0&&(r[l]=u)};return a("x",o.attributes.xWindow,0),a("y",o.attributes.yWindow,0),a("width",o.attributes.windowWidth,25e3),a("height",o.attributes.windowHeight,1e4),s("visibility",o.attributes.visibility,"visible"),a("activeTab",o.attributes.activeTab,void 0),a("firstSheet",o.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(i,e,t){"use strict";let n=i("../../../utils/under-dash"),o=i("../../../utils/col-cache"),r=i("../../../utils/xml-stream"),s=i("../base-xform"),a=i("../static-xform"),l=i("../list-xform"),d=i("./defined-name-xform"),c=i("./sheet-xform"),u=i("./workbook-view-xform"),h=i("./workbook-properties-xform"),f=i("./workbook-calc-properties-xform");class p extends s{constructor(){super(),this.map={fileVersion:p.STATIC_XFORMS.fileVersion,workbookPr:new h,bookViews:new l({tag:"bookViews",count:!1,childXform:new u}),sheets:new l({tag:"sheets",count:!1,childXform:new c}),definedNames:new l({tag:"definedNames",count:!1,childXform:new d}),calcPr:new f}}prepare(g){g.sheets=g.worksheets;let b=[],x=0;g.sheets.forEach(E=>{if(E.pageSetup&&E.pageSetup.printArea&&E.pageSetup.printArea.split("&&").forEach(D=>{let L=D.split(":"),k={name:"_xlnm.Print_Area",ranges:[`'${E.name}'!$${L[0]}:$${L[1]}`],localSheetId:x};b.push(k)}),E.pageSetup&&(E.pageSetup.printTitlesRow||E.pageSetup.printTitlesColumn)){let D=[];if(E.pageSetup.printTitlesColumn){let k=E.pageSetup.printTitlesColumn.split(":");D.push(`'${E.name}'!$${k[0]}:$${k[1]}`)}if(E.pageSetup.printTitlesRow){let k=E.pageSetup.printTitlesRow.split(":");D.push(`'${E.name}'!$${k[0]}:$${k[1]}`)}let L={name:"_xlnm.Print_Titles",ranges:D,localSheetId:x};b.push(L)}x++}),b.length&&(g.definedNames=g.definedNames.concat(b)),(g.media||[]).forEach((E,D)=>{E.name=E.type+(D+1)})}render(g,b){g.openXml(r.StdDocAttributes),g.openNode("workbook",p.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(g),this.map.workbookPr.render(g,b.properties),this.map.bookViews.render(g,b.views),this.map.sheets.render(g,b.sheets),this.map.definedNames.render(g,b.definedNames),this.map.calcPr.render(g,b.calcProperties),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;switch(g.name){case"workbook":return!0;default:return this.parser=this.map[g.name],this.parser&&this.parser.parseOpen(g),!0}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser)return this.parser.parseClose(g)||(this.parser=void 0),!0;switch(g){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(g){let b=(g.workbookRels||[]).reduce((k,R)=>(k[R.Id]=R,k),{}),x=[],E,D=0;(g.sheets||[]).forEach(k=>{let R=b[k.rId];R&&(E=g.worksheetHash["xl/"+R.Target.replace(/^(\s|\/xl\/)+/,"")],E&&(E.name=k.name,E.id=k.id,E.state=k.state,x[D++]=E))});let L=[];n.each(g.definedNames,k=>{if(k.name==="_xlnm.Print_Area"){if(E=x[k.localSheetId],E){E.pageSetup||(E.pageSetup={});let R=o.decodeEx(k.ranges[0]);E.pageSetup.printArea=E.pageSetup.printArea?`${E.pageSetup.printArea}&&${R.dimensions}`:R.dimensions}}else if(k.name==="_xlnm.Print_Titles"){if(E=x[k.localSheetId],E){E.pageSetup||(E.pageSetup={});let R=k.ranges.join(","),N=/\$/g,z=/\$\d+:\$\d+/,V=R.match(z);if(V&&V.length){let B=V[0];E.pageSetup.printTitlesRow=B.replace(N,"")}let S=/\$[A-Z]+:\$[A-Z]+/,T=R.match(S);if(T&&T.length){let B=T[0];E.pageSetup.printTitlesColumn=B.replace(N,"")}}}else L.push(k)}),g.definedNames=L,g.media.forEach((k,R)=>{k.index=R})}}p.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},p.STATIC_XFORMS={fileVersion:new a({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},e.exports=p},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(i,e,t){"use strict";let n=i("../strings/rich-text-xform"),o=i("../../../utils/utils"),r=i("../base-xform"),s=e.exports=function(a){this.model=a};o.inherits(s,r,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new n),this._richTextXform},render(a,l){l=l||this.model,a.openNode("comment",{ref:l.ref,authorId:0}),a.openNode("text"),l&&l.note&&l.note.texts&&l.note.texts.forEach(d=>{this.richTextXform.render(a,d)}),a.closeNode(),a.closeNode()},parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"comment":return this.model=Le({type:"note",note:{texts:[]}},a.attributes),!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(a),!0;default:return!1}},parseText(a){this.parser&&this.parser.parseText(a)},parseClose(a){switch(a){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(a),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(i,e,t){"use strict";let n=i("../../../utils/xml-stream"),o=i("../../../utils/utils"),r=i("../base-xform"),s=i("./comment-xform"),a=e.exports=function(){this.map={comment:new s}};o.inherits(a,r,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(l,d){d=d||this.model,l.openXml(n.StdDocAttributes),l.openNode("comments",a.COMMENTS_ATTRIBUTES),l.openNode("authors"),l.leafNode("author",null,"Author"),l.closeNode(),l.openNode("commentList"),d.comments.forEach(c=>{this.map.comment.render(l,c)}),l.closeNode(),l.closeNode()},parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(l),!0;default:return!1}},parseText(l){this.parser&&this.parser.parseText(l)},parseClose(l){switch(l){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(l),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(i,e,t){"use strict";let n=i("../../base-xform");e.exports=class extends n{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,r,s){(r===s[2]||this.tag==="x:SizeWithCells"&&r===s[1])&&o.leafNode(this.tag)}parseOpen(o){switch(o.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(i,e,t){"use strict";let n=i("../../base-xform");e.exports=class extends n{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,r){o.leafNode(this.tag,null,r)}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{get tag(){return"x:Anchor"}getAnchorRect(o){let r=Math.floor(o.left),s=Math.floor(68*(o.left-r)),a=Math.floor(o.top),l=Math.floor(18*(o.top-a)),d=Math.floor(o.right),c=Math.floor(68*(o.right-d)),u=Math.floor(o.bottom);return[r,s,a,l,d,c,u,Math.floor(18*(o.bottom-u))]}getDefaultRect(o){let r=o.col,s=Math.max(o.row-2,0);return[r,6,s,14,r+2,2,s+4,16]}render(o,r){let s=r.anchor?this.getAnchorRect(r.anchor):this.getDefaultRect(r.refAddress);o.leafNode("x:Anchor",null,s.join(", "))}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../base-xform":32}],44:[function(i,e,t){"use strict";let n=i("../base-xform"),o=i("./vml-anchor-xform"),r=i("./style/vml-protection-xform"),s=i("./style/vml-position-xform"),a=["twoCells","oneCells","absolute"];e.exports=class extends n{constructor(){super(),this.map={"x:Anchor":new o,"x:Locked":new r({tag:"x:Locked"}),"x:LockText":new r({tag:"x:LockText"}),"x:SizeWithCells":new s({tag:"x:SizeWithCells"}),"x:MoveWithCells":new s({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(l,d){let{protection:c,editAs:u}=d.note;l.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(l,u,a),this.map["x:SizeWithCells"].render(l,u,a),this.map["x:Anchor"].render(l,d),this.map["x:Locked"].render(l,c.locked),l.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(l,c.lockText),l.leafNode("x:Row",null,d.refAddress.row-1),l.leafNode("x:Column",null,d.refAddress.col-1),l.closeNode()}parseOpen(l){switch(l.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){let l=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),d=Object.keys(l).length;this.model.editAs=a[d],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(i,e,t){"use strict";let n=i("../../../utils/xml-stream"),o=i("../base-xform"),r=i("./vml-shape-xform");class s extends o{constructor(){super(),this.map={"v:shape":new r}}get tag(){return"xml"}render(l,d){l.openXml(n.StdDocAttributes),l.openNode(this.tag,s.DRAWING_ATTRIBUTES),l.openNode("o:shapelayout",{"v:ext":"edit"}),l.leafNode("o:idmap",{"v:ext":"edit",data:1}),l.closeNode(),l.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),l.leafNode("v:stroke",{joinstyle:"miter"}),l.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),l.closeNode(),d.comments.forEach((c,u)=>{this.map["v:shape"].render(l,c,u)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:return!0}}reconcile(l,d){l.anchors.forEach(c=>{c.br?this.map["xdr:twoCellAnchor"].reconcile(c,d):this.map["xdr:oneCellAnchor"].reconcile(c,d)})}}s.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},e.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(i,e,t){"use strict";let n=i("../base-xform"),o=i("./vml-textbox-xform"),r=i("./vml-client-data-xform");class s extends n{constructor(){super(),this.map={"v:textbox":new o,"x:ClientData":new r}}get tag(){return"v:shape"}render(l,d,c){l.openNode("v:shape",s.V_SHAPE_ATTRIBUTES(d,c)),l.leafNode("v:fill",{color2:"infoBackground [80]"}),l.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),l.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(l,d),this.map["x:ClientData"].render(l,d),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset(),this.model={margins:{insetmode:l.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}s.V_SHAPE_ATTRIBUTES=(a,l)=>({id:"_x0000_s"+(1025+l),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":a.note.margins&&a.note.margins.insetmode}),e.exports=s},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{get tag(){return"v:textbox"}conversionUnit(o,r,s){return`${parseFloat(o)*r.toFixed(2)}${s}`}reverseConversionUnit(o){return(o||"").split(",").map(r=>Number(parseFloat(this.conversionUnit(parseFloat(r),.1,"")).toFixed(2)))}render(o,r){let s={style:"mso-direction-alt:auto"};if(r&&r.note){let{inset:a}=r.note&&r.note.margins;Array.isArray(a)&&(a=a.map(l=>this.conversionUnit(l,10,"mm")).join(",")),a&&(s.inset=a)}o.openNode("v:textbox",s),o.leafNode("div",{style:"text-align:left"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:return this.model={inset:this.reverseConversionUnit(o.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(i,e,t){"use strict";let n=i("./base-xform");e.exports=class extends n{createNewModel(o){return{}}parseOpen(o){return this.parser=this.parser||this.map[o.name],this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag&&(this.model=this.createNewModel(o),!0)}parseText(o){this.parser&&this.parser.parseText(o)}onParserClose(o,r){this.model[o]=r.model}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.onParserClose(o,this.parser),this.parser=void 0),!0):o!==this.tag}}},{"./base-xform":32}],49:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{render(o,r){o.openNode("HeadingPairs"),o.openNode("vt:vector",{size:2,baseType:"variant"}),o.openNode("vt:variant"),o.leafNode("vt:lpstr",void 0,"Worksheets"),o.closeNode(),o.openNode("vt:variant"),o.leafNode("vt:i4",void 0,r.length),o.closeNode(),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="HeadingPairs"}parseText(){}parseClose(o){return o!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{render(o,r){o.openNode("TitlesOfParts"),o.openNode("vt:vector",{size:r.length,baseType:"lpstr"}),r.forEach(s=>{o.leafNode("vt:lpstr",void 0,s.name)}),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="TitlesOfParts"}parseText(){}parseClose(o){return o!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(i,e,t){"use strict";let n=i("../../../utils/xml-stream"),o=i("../base-xform"),r=i("../simple/string-xform"),s=i("./app-heading-pairs-xform"),a=i("./app-titles-of-parts-xform");class l extends o{constructor(){super(),this.map={Company:new r({tag:"Company"}),Manager:new r({tag:"Manager"}),HeadingPairs:new s,TitleOfParts:new a}}render(c,u){c.openXml(n.StdDocAttributes),c.openNode("Properties",l.PROPERTY_ATTRIBUTES),c.leafNode("Application",void 0,"Microsoft Excel"),c.leafNode("DocSecurity",void 0,"0"),c.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(c,u.worksheets),this.map.TitleOfParts.render(c,u.worksheets),this.map.Company.render(c,u.company||""),this.map.Manager.render(c,u.manager),c.leafNode("LinksUpToDate",void 0,"false"),c.leafNode("SharedDoc",void 0,"false"),c.leafNode("HyperlinksChanged",void 0,"false"),c.leafNode("AppVersion",void 0,"16.0300"),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"Properties":return!0;default:return this.parser=this.map[c.name],!!this.parser&&(this.parser.parseOpen(c),!0)}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}l.DateFormat=function(d){return d.toISOString().replace(/[.]\d{3,6}/,"")},l.DateAttrs={"xsi:type":"dcterms:W3CDTF"},l.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},e.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(i,e,t){"use strict";let n=i("../../../utils/xml-stream"),o=i("../base-xform");class r extends o{render(a,l){a.openXml(n.StdDocAttributes),a.openNode("Types",r.PROPERTY_ATTRIBUTES);let d={};(l.media||[]).forEach(c=>{if(c.type==="image"){let u=c.extension;d[u]||(d[u]=!0,a.leafNode("Default",{Extension:u,ContentType:"image/"+u}))}}),a.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),a.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),a.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),l.worksheets.forEach(c=>{let u=`/xl/worksheets/sheet${c.id}.xml`;a.leafNode("Override",{PartName:u,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),a.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),a.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),l.sharedStrings&&l.sharedStrings.count&&a.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),l.tables&&l.tables.forEach(c=>{a.leafNode("Override",{PartName:"/xl/tables/"+c.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),l.drawings&&l.drawings.forEach(c=>{a.leafNode("Override",{PartName:`/xl/drawings/${c.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),l.commentRefs&&(a.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),l.commentRefs.forEach(c=>{let{commentName:u}=c;a.leafNode("Override",{PartName:`/xl/${u}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),a.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),a.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),a.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}r.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},e.exports=r},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(i,e,t){"use strict";let n=i("../../../utils/xml-stream"),o=i("../base-xform"),r=i("../simple/date-xform"),s=i("../simple/string-xform"),a=i("../simple/integer-xform");class l extends o{constructor(){super(),this.map={"dc:creator":new s({tag:"dc:creator"}),"dc:title":new s({tag:"dc:title"}),"dc:subject":new s({tag:"dc:subject"}),"dc:description":new s({tag:"dc:description"}),"dc:identifier":new s({tag:"dc:identifier"}),"dc:language":new s({tag:"dc:language"}),"cp:keywords":new s({tag:"cp:keywords"}),"cp:category":new s({tag:"cp:category"}),"cp:lastModifiedBy":new s({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new r({tag:"cp:lastPrinted",format:l.DateFormat}),"cp:revision":new a({tag:"cp:revision"}),"cp:version":new s({tag:"cp:version"}),"cp:contentStatus":new s({tag:"cp:contentStatus"}),"cp:contentType":new s({tag:"cp:contentType"}),"dcterms:created":new r({tag:"dcterms:created",attrs:l.DateAttrs,format:l.DateFormat}),"dcterms:modified":new r({tag:"dcterms:modified",attrs:l.DateAttrs,format:l.DateFormat})}}render(c,u){c.openXml(n.StdDocAttributes),c.openNode("cp:coreProperties",l.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(c,u.creator),this.map["dc:title"].render(c,u.title),this.map["dc:subject"].render(c,u.subject),this.map["dc:description"].render(c,u.description),this.map["dc:identifier"].render(c,u.identifier),this.map["dc:language"].render(c,u.language),this.map["cp:keywords"].render(c,u.keywords),this.map["cp:category"].render(c,u.category),this.map["cp:lastModifiedBy"].render(c,u.lastModifiedBy),this.map["cp:lastPrinted"].render(c,u.lastPrinted),this.map["cp:revision"].render(c,u.revision),this.map["cp:version"].render(c,u.version),this.map["cp:contentStatus"].render(c,u.contentStatus),this.map["cp:contentType"].render(c,u.contentType),this.map["dcterms:created"].render(c,u.created),this.map["dcterms:modified"].render(c,u.modified),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[c.name],this.parser)return this.parser.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}l.DateFormat=function(d){return d.toISOString().replace(/[.]\d{3}/,"")},l.DateAttrs={"xsi:type":"dcterms:W3CDTF"},l.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},e.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{render(o,r){o.leafNode("Relationship",r)}parseOpen(o){switch(o.name){case"Relationship":return this.model=o.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(i,e,t){"use strict";let n=i("../../../utils/xml-stream"),o=i("../base-xform"),r=i("./relationship-xform");class s extends o{constructor(){super(),this.map={Relationship:new r}}render(l,d){d=d||this._values,l.openXml(n.StdDocAttributes),l.openNode("Relationships",s.RELATIONSHIPS_ATTRIBUTES),d.forEach(c=>{this.map.Relationship.render(l,c)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[l.name],this.parser)return this.parser.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(l){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}s.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},e.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset(),this.model={range:{editAs:o.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}reconcilePicture(o,r){if(o&&o.rId){let s=r.rels[o.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(s){let a=s[1],l=r.mediaIndex[a];return r.media[l]}}}}},{"../base-xform":32}],57:[function(i,e,t){"use strict";let n=i("../base-xform"),o=i("./blip-xform");e.exports=class extends n{constructor(){super(),this.map={"a:blip":new o}}get tag(){return"xdr:blipFill"}render(r,s){r.openNode(this.tag),this.map["a:blip"].render(r,s),r.openNode("a:stretch"),r.leafNode("a:fillRect"),r.closeNode(),r.closeNode()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case this.tag:this.reset();break;default:this.parser=this.map[r.name],this.parser&&this.parser.parseOpen(r)}return!0}parseText(){}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.parser=void 0),!0;switch(r){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{get tag(){return"a:blip"}render(o,r){o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":r.rId,cstate:"print"})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{get tag(){return"xdr:cNvPicPr"}render(o){o.openNode(this.tag),o.leafNode("a:picLocks",{noChangeAspect:"1"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(i,e,t){"use strict";let n=i("../base-xform"),o=i("./hlink-click-xform"),r=i("./ext-lst-xform");e.exports=class extends n{constructor(){super(),this.map={"a:hlinkClick":new o,"a:extLst":new r}}get tag(){return"xdr:cNvPr"}render(s,a){s.openNode(this.tag,{id:a.index,name:"Picture "+a.index}),this.map["a:hlinkClick"].render(s,a),this.map["a:extLst"].render(s,a),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset();break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(){}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(i,e,t){"use strict";let n=i("../base-xform"),o=i("../simple/integer-xform");e.exports=class extends n{constructor(r){super(),this.tag=r.tag,this.map={"xdr:col":new o({tag:"xdr:col",zero:!0}),"xdr:colOff":new o({tag:"xdr:colOff",zero:!0}),"xdr:row":new o({tag:"xdr:row",zero:!0}),"xdr:rowOff":new o({tag:"xdr:rowOff",zero:!0})}}render(r,s){r.openNode(this.tag),this.map["xdr:col"].render(r,s.nativeCol),this.map["xdr:colOff"].render(r,s.nativeColOff),this.map["xdr:row"].render(r,s.nativeRow),this.map["xdr:rowOff"].render(r,s.nativeRowOff),r.closeNode()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case this.tag:this.reset();break;default:this.parser=this.map[r.name],this.parser&&this.parser.parseOpen(r)}return!0}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.parser=void 0),!0;switch(r){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(i,e,t){"use strict";let n=i("../../../utils/col-cache"),o=i("../../../utils/xml-stream"),r=i("../base-xform"),s=i("./two-cell-anchor-xform"),a=i("./one-cell-anchor-xform");class l extends r{constructor(){super(),this.map={"xdr:twoCellAnchor":new s,"xdr:oneCellAnchor":new a}}prepare(c){c.anchors.forEach((u,h)=>{u.anchorType=function(f){return(typeof f.range=="string"?n.decode(f.range):f.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(u),this.map[u.anchorType].prepare(u,{index:h})})}get tag(){return"xdr:wsDr"}render(c,u){c.openXml(o.StdDocAttributes),c.openNode(this.tag,l.DRAWING_ATTRIBUTES),u.anchors.forEach(h=>{this.map[h.anchorType].render(c,h)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}reconcile(c,u){c.anchors.forEach(h=>{h.br?this.map["xdr:twoCellAnchor"].reconcile(h,u):this.map["xdr:oneCellAnchor"].reconcile(h,u)})}}l.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},e.exports=l},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{get tag(){return"a:extLst"}render(o){o.openNode(this.tag),o.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),o.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),o.closeNode(),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{constructor(o){super(),this.tag=o.tag,this.map={}}render(o,r){o.openNode(this.tag);let s=Math.floor(9525*r.width),a=Math.floor(9525*r.height);o.addAttribute("cx",s),o.addAttribute("cy",a),o.closeNode()}parseOpen(o){return o.name===this.tag&&(this.model={width:parseInt(o.attributes.cx||"0",10)/9525,height:parseInt(o.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{get tag(){return"a:hlinkClick"}render(o,r){r.hyperlinks&&r.hyperlinks.rId&&o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":r.hyperlinks.rId,tooltip:r.hyperlinks.tooltip})}parseOpen(o){switch(o.name){case this.tag:return this.model={hyperlinks:{rId:o.attributes["r:id"],tooltip:o.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(i,e,t){"use strict";let n=i("../base-xform"),o=i("./c-nv-pr-xform"),r=i("./c-nv-pic-pr-xform");e.exports=class extends n{constructor(){super(),this.map={"xdr:cNvPr":new o,"xdr:cNvPicPr":new r}}get tag(){return"xdr:nvPicPr"}render(s,a){s.openNode(this.tag),this.map["xdr:cNvPr"].render(s,a),this.map["xdr:cNvPicPr"].render(s,a),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset();break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(){}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(i,e,t){"use strict";let n=i("./base-cell-anchor-xform"),o=i("../static-xform"),r=i("./cell-position-xform"),s=i("./ext-xform"),a=i("./pic-xform");e.exports=class extends n{constructor(){super(),this.map={"xdr:from":new r({tag:"xdr:from"}),"xdr:ext":new s({tag:"xdr:ext"}),"xdr:pic":new a,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(l,d){this.map["xdr:pic"].prepare(l.picture,d)}render(l,d){l.openNode(this.tag,{editAs:d.range.editAs||"oneCell"}),this.map["xdr:from"].render(l,d.range.tl),this.map["xdr:ext"].render(l,d.range.ext),this.map["xdr:pic"].render(l,d.picture),this.map["xdr:clientData"].render(l,{}),l.closeNode()}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(l,d){l.medium=this.reconcilePicture(l.picture,d)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(i,e,t){"use strict";let n=i("../base-xform"),o=i("../static-xform"),r=i("./blip-fill-xform"),s=i("./nv-pic-pr-xform"),a=i("./sp-pr");e.exports=class extends n{constructor(){super(),this.map={"xdr:nvPicPr":new s,"xdr:blipFill":new r,"xdr:spPr":new o(a)}}get tag(){return"xdr:pic"}prepare(l,d){l.index=d.index+1}render(l,d){l.openNode(this.tag),this.map["xdr:nvPicPr"].render(l,d),this.map["xdr:blipFill"].render(l,d),this.map["xdr:spPr"].render(l,d),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(i,e,t){"use strict";e.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(i,e,t){"use strict";let n=i("./base-cell-anchor-xform"),o=i("../static-xform"),r=i("./cell-position-xform"),s=i("./pic-xform");e.exports=class extends n{constructor(){super(),this.map={"xdr:from":new r({tag:"xdr:from"}),"xdr:to":new r({tag:"xdr:to"}),"xdr:pic":new s,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(a,l){this.map["xdr:pic"].prepare(a.picture,l)}render(a,l){a.openNode(this.tag,{editAs:l.range.editAs||"oneCell"}),this.map["xdr:from"].render(a,l.range.tl),this.map["xdr:to"].render(a,l.range.br),this.map["xdr:pic"].render(a,l.picture),this.map["xdr:clientData"].render(a,{}),a.closeNode()}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(a,l){a.medium=this.reconcilePicture(a.picture,l)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(i,e,t){"use strict";let n=i("./base-xform");e.exports=class extends n{constructor(o){super(),this.tag=o.tag,this.always=!!o.always,this.count=o.count,this.empty=o.empty,this.$count=o.$count||"count",this.$=o.$,this.childXform=o.childXform,this.maxItems=o.maxItems}prepare(o,r){let{childXform:s}=this;o&&o.forEach((a,l)=>{r.index=l,s.prepare(a,r)})}render(o,r){if(this.always||r&&r.length){o.openNode(this.tag,this.$),this.count&&o.addAttribute(this.$count,r&&r.length||0);let{childXform:s}=this;(r||[]).forEach((a,l)=>{s.render(o,a,l)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(o)&&(this.parser=this.childXform,!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(o,r){if(o){let{childXform:s}=this;o.forEach(a=>{s.reconcile(a,r)})}}}},{"./base-xform":32}],72:[function(i,e,t){"use strict";let n=i("../../../utils/col-cache"),o=i("../base-xform");e.exports=class extends o{get tag(){return"autoFilter"}render(r,s){if(s)if(typeof s=="string")r.leafNode("autoFilter",{ref:s});else{let a=function(c){return typeof c=="string"?c:n.getAddress(c.row,c.column).address},l=a(s.from),d=a(s.to);l&&d&&r.leafNode("autoFilter",{ref:`${l}:${d}`})}}parseOpen(r){r.name==="autoFilter"&&(this.model=r.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(i,e,t){"use strict";let n=i("../../../utils/utils"),o=i("../base-xform"),r=i("../../../doc/range"),s=i("../../../doc/enums"),a=i("../strings/rich-text-xform");function l(d){if(d==null)return s.ValueType.Null;if(d instanceof String||typeof d=="string")return s.ValueType.String;if(typeof d=="number")return s.ValueType.Number;if(typeof d=="boolean")return s.ValueType.Boolean;if(d instanceof Date)return s.ValueType.Date;if(d.text&&d.hyperlink)return s.ValueType.Hyperlink;if(d.formula)return s.ValueType.Formula;if(d.error)return s.ValueType.Error;throw new Error("I could not understand type of value")}e.exports=class extends o{constructor(){super(),this.richTextXForm=new a}get tag(){return"c"}prepare(d,c){let u=c.styles.addStyleModel(d.style||{},function(h){switch(h.type){case s.ValueType.Formula:return l(h.result);default:return h.type}}(d));switch(u&&(d.styleId=u),d.comment&&c.comments.push(ci(Le({},d.comment),{ref:d.address})),d.type){case s.ValueType.String:case s.ValueType.RichText:c.sharedStrings&&(d.ssId=c.sharedStrings.add(d.value));break;case s.ValueType.Date:c.date1904&&(d.date1904=!0);break;case s.ValueType.Hyperlink:c.sharedStrings&&d.text!==void 0&&d.text!==null&&(d.ssId=c.sharedStrings.add(d.text)),c.hyperlinks.push({address:d.address,target:d.hyperlink,tooltip:d.tooltip});break;case s.ValueType.Merge:c.merges.add(d);break;case s.ValueType.Formula:if(c.date1904&&(d.date1904=!0),d.shareType==="shared"&&(d.si=c.siFormulae++),d.formula)c.formulae[d.address]=d;else if(d.sharedFormula){let h=c.formulae[d.sharedFormula];if(!h)throw new Error("Shared Formula master must exist above and or left of clone for cell "+d.address);h.si===void 0?(h.shareType="shared",h.si=c.siFormulae++,h.range=new r(h.address,d.address)):h.range&&h.range.expandToAddress(d.address),d.si=h.si}}}renderFormula(d,c){let u=null;switch(c.shareType){case"shared":u={t:"shared",ref:c.ref||c.range.range,si:c.si};break;case"array":u={t:"array",ref:c.ref};break;default:c.si!==void 0&&(u={t:"shared",si:c.si})}switch(l(c.result)){case s.ValueType.Null:d.leafNode("f",u,c.formula);break;case s.ValueType.String:d.addAttribute("t","str"),d.leafNode("f",u,c.formula),d.leafNode("v",null,c.result);break;case s.ValueType.Number:d.leafNode("f",u,c.formula),d.leafNode("v",null,c.result);break;case s.ValueType.Boolean:d.addAttribute("t","b"),d.leafNode("f",u,c.formula),d.leafNode("v",null,c.result?1:0);break;case s.ValueType.Error:d.addAttribute("t","e"),d.leafNode("f",u,c.formula),d.leafNode("v",null,c.result.error);break;case s.ValueType.Date:d.leafNode("f",u,c.formula),d.leafNode("v",null,n.dateToExcel(c.result,c.date1904));break;default:throw new Error("I could not understand type of value")}}render(d,c){if(c.type!==s.ValueType.Null||c.styleId){switch(d.openNode("c"),d.addAttribute("r",c.address),c.styleId&&d.addAttribute("s",c.styleId),c.type){case s.ValueType.Null:break;case s.ValueType.Number:d.leafNode("v",null,c.value);break;case s.ValueType.Boolean:d.addAttribute("t","b"),d.leafNode("v",null,c.value?"1":"0");break;case s.ValueType.Error:d.addAttribute("t","e"),d.leafNode("v",null,c.value.error);break;case s.ValueType.String:case s.ValueType.RichText:c.ssId!==void 0?(d.addAttribute("t","s"),d.leafNode("v",null,c.ssId)):c.value&&c.value.richText?(d.addAttribute("t","inlineStr"),d.openNode("is"),c.value.richText.forEach(u=>{this.richTextXForm.render(d,u)}),d.closeNode("is")):(d.addAttribute("t","str"),d.leafNode("v",null,c.value));break;case s.ValueType.Date:d.leafNode("v",null,n.dateToExcel(c.value,c.date1904));break;case s.ValueType.Hyperlink:c.ssId!==void 0?(d.addAttribute("t","s"),d.leafNode("v",null,c.ssId)):(d.addAttribute("t","str"),d.leafNode("v",null,c.text));break;case s.ValueType.Formula:this.renderFormula(d,c);break;case s.ValueType.Merge:}d.closeNode()}}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"c":return this.model={address:d.attributes.r},this.t=d.attributes.t,d.attributes.s&&(this.model.styleId=parseInt(d.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=d.attributes.si,this.model.shareType=d.attributes.t,this.model.ref=d.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){if(this.parser)this.parser.parseText(d);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+d:d;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+d:d:this.model.value=this.model.value?this.model.value+d:d}}parseClose(d){switch(d){case"c":{let{model:c}=this;if(c.formula||c.shareType)c.type=s.ValueType.Formula,c.value&&(this.t==="str"?c.result=n.xmlDecode(c.value):this.t==="b"?c.result=parseInt(c.value,10)!==0:this.t==="e"?c.result={error:c.value}:c.result=parseFloat(c.value),c.value=void 0);else if(c.value!==void 0)switch(this.t){case"s":c.type=s.ValueType.String,c.value=parseInt(c.value,10);break;case"str":c.type=s.ValueType.String,c.value=n.xmlDecode(c.value);break;case"inlineStr":c.type=s.ValueType.String;break;case"b":c.type=s.ValueType.Boolean,c.value=parseInt(c.value,10)!==0;break;case"e":c.type=s.ValueType.Error,c.value={error:c.value};break;default:c.type=s.ValueType.Number,c.value=parseFloat(c.value)}else c.styleId?c.type=s.ValueType.Null:c.type=s.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(d),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(d),!0)}}reconcile(d,c){let u=d.styleId&&c.styles&&c.styles.getStyleModel(d.styleId);switch(u&&(d.style=u),d.styleId!==void 0&&(d.styleId=void 0),d.type){case s.ValueType.String:typeof d.value=="number"&&c.sharedStrings&&(d.value=c.sharedStrings.getString(d.value)),d.value.richText&&(d.type=s.ValueType.RichText);break;case s.ValueType.Number:u&&n.isDateFmt(u.numFmt)&&(d.type=s.ValueType.Date,d.value=n.excelToDate(d.value,c.date1904));break;case s.ValueType.Formula:d.result!==void 0&&u&&n.isDateFmt(u.numFmt)&&(d.result=n.excelToDate(d.result,c.date1904)),d.shareType==="shared"&&(d.ref?c.formulae[d.si]=d.address:(d.sharedFormula=c.formulae[d.si],delete d.shareType),delete d.si)}let h=c.hyperlinkMap[d.address];h&&(d.type===s.ValueType.Formula?(d.text=d.result,d.result=void 0):(d.text=d.value,d.value=void 0),d.type=s.ValueType.Hyperlink,d.hyperlink=h);let f=c.commentsMap&&c.commentsMap[d.address];f&&(d.comment=f)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(i,e,t){"use strict";let n=i("../../base-xform");e.exports=class extends n{get tag(){return"x14:cfIcon"}render(o,r){o.leafNode(this.tag,{iconSet:r.iconSet,iconId:r.iconId})}parseOpen(o){let{attributes:r}=o;this.model={iconSet:r.iconSet,iconId:n.toIntValue(r.iconId)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],75:[function(i,e,t){"use strict";let{v4:n}=i("uuid"),o=i("../../base-xform"),r=i("../../composite-xform"),s=i("./databar-ext-xform"),a=i("./icon-set-ext-xform"),l={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class d extends r{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new s,"x14:iconSet":this.iconSetXform=new a}}get tag(){return"x14:cfRule"}static isExt(u){return u.type==="dataBar"?s.isExt(u):!(u.type!=="iconSet"||!u.custom&&!l[u.iconSet])}prepare(u){d.isExt(u)&&(u.x14Id=`{${n()}}`.toUpperCase())}render(u,h){if(d.isExt(h))switch(h.type){case"dataBar":this.renderDataBar(u,h);break;case"iconSet":this.renderIconSet(u,h)}}renderDataBar(u,h){u.openNode(this.tag,{type:"dataBar",id:h.x14Id}),this.databarXform.render(u,h),u.closeNode()}renderIconSet(u,h){u.openNode(this.tag,{type:"iconSet",priority:h.priority,id:h.x14Id||`{${n()}}`}),this.iconSetXform.render(u,h),u.closeNode()}createNewModel(u){let{attributes:h}=u;return{type:h.type,x14Id:h.id,priority:o.toIntValue(h.priority)}}onParserClose(u,h){Object.assign(this.model,h.model)}}e.exports=d},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(i,e,t){"use strict";let n=i("../../composite-xform"),o=i("./f-ext-xform");e.exports=class extends n{constructor(){super(),this.map={"xm:f":this.fExtXform=new o}}get tag(){return"x14:cfvo"}render(r,s){r.openNode(this.tag,{type:s.type}),s.value!==void 0&&this.fExtXform.render(r,s.value),r.closeNode()}createNewModel(r){return{type:r.attributes.type}}onParserClose(r,s){switch(r){case"xm:f":this.model.value=s.model?parseFloat(s.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(i,e,t){"use strict";let n=i("../../composite-xform"),o=i("./sqref-ext-xform"),r=i("./cf-rule-ext-xform");e.exports=class extends n{constructor(){super(),this.map={"xm:sqref":this.sqRef=new o,"x14:cfRule":this.cfRule=new r}}get tag(){return"x14:conditionalFormatting"}prepare(s,a){s.rules.forEach(l=>{this.cfRule.prepare(l,a)})}render(s,a){a.rules.some(r.isExt)&&(s.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),a.rules.filter(r.isExt).forEach(l=>this.cfRule.render(s,l)),this.sqRef.render(s,a.ref),s.closeNode())}createNewModel(){return{rules:[]}}onParserClose(s,a){switch(s){case"xm:sqref":this.model.ref=a.model;break;case"x14:cfRule":this.model.rules.push(a.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(i,e,t){"use strict";let n=i("../../composite-xform"),o=i("./cf-rule-ext-xform"),r=i("./conditional-formatting-ext-xform");e.exports=class extends n{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new r}}get tag(){return"x14:conditionalFormattings"}hasContent(s){return s.hasExtContent===void 0&&(s.hasExtContent=s.some(a=>a.rules.some(o.isExt))),s.hasExtContent}prepare(s,a){s.forEach(l=>{this.cfXform.prepare(l,a)})}render(s,a){this.hasContent(a)&&(s.openNode(this.tag),a.forEach(l=>this.cfXform.render(s,l)),s.closeNode())}createNewModel(){return[]}onParserClose(s,a){this.model.push(a.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(i,e,t){"use strict";let n=i("../../base-xform"),o=i("../../composite-xform"),r=i("../../style/color-xform"),s=i("./cfvo-ext-xform");e.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new s,"x14:borderColor":this.borderColorXform=new r("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new r("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new r("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new r("x14:axisColor")}}static isExt(a){return!a.gradient}get tag(){return"x14:dataBar"}render(a,l){a.openNode(this.tag,{minLength:n.toIntAttribute(l.minLength,0,!0),maxLength:n.toIntAttribute(l.maxLength,100,!0),border:n.toBoolAttribute(l.border,!1),gradient:n.toBoolAttribute(l.gradient,!0),negativeBarColorSameAsPositive:n.toBoolAttribute(l.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:n.toBoolAttribute(l.negativeBarBorderColorSameAsPositive,!0),axisPosition:n.toAttribute(l.axisPosition,"auto"),direction:n.toAttribute(l.direction,"leftToRight")}),l.cfvo.forEach(d=>{this.cfvoXform.render(a,d)}),this.borderColorXform.render(a,l.borderColor),this.negativeBorderColorXform.render(a,l.negativeBorderColor),this.negativeFillColorXform.render(a,l.negativeFillColor),this.axisColorXform.render(a,l.axisColor),a.closeNode()}createNewModel(a){let{attributes:l}=a;return{cfvo:[],minLength:n.toIntValue(l.minLength,0),maxLength:n.toIntValue(l.maxLength,100),border:n.toBoolValue(l.border,!1),gradient:n.toBoolValue(l.gradient,!0),negativeBarColorSameAsPositive:n.toBoolValue(l.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:n.toBoolValue(l.negativeBarBorderColorSameAsPositive,!0),axisPosition:n.toStringValue(l.axisPosition,"auto"),direction:n.toStringValue(l.direction,"leftToRight")}}onParserClose(a,l){let[,d]=a.split(":");switch(d){case"cfvo":this.model.cfvo.push(l.model);break;default:this.model[d]=l.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(i,e,t){"use strict";let n=i("../../base-xform");e.exports=class extends n{get tag(){return"xm:f"}render(o,r){o.leafNode(this.tag,null,r)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],81:[function(i,e,t){"use strict";let n=i("../../base-xform"),o=i("../../composite-xform"),r=i("./cfvo-ext-xform"),s=i("./cf-icon-ext-xform");e.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new r,"x14:cfIcon":this.cfIconXform=new s}}get tag(){return"x14:iconSet"}render(a,l){a.openNode(this.tag,{iconSet:n.toStringAttribute(l.iconSet),reverse:n.toBoolAttribute(l.reverse,!1),showValue:n.toBoolAttribute(l.showValue,!0),custom:n.toBoolAttribute(l.icons,!1)}),l.cfvo.forEach(d=>{this.cfvoXform.render(a,d)}),l.icons&&l.icons.forEach((d,c)=>{d.iconId=c,this.cfIconXform.render(a,d)}),a.closeNode()}createNewModel(a){let{attributes:l}=a;return{cfvo:[],iconSet:n.toStringValue(l.iconSet,"3TrafficLights"),reverse:n.toBoolValue(l.reverse,!1),showValue:n.toBoolValue(l.showValue,!0)}}onParserClose(a,l){let[,d]=a.split(":");switch(d){case"cfvo":this.model.cfvo.push(l.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(l.model);break;default:this.model[d]=l.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(i,e,t){"use strict";let n=i("../../base-xform");e.exports=class extends n{get tag(){return"xm:sqref"}render(o,r){o.leafNode(this.tag,null,r)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],83:[function(i,e,t){"use strict";let n=i("../../base-xform"),o=i("../../composite-xform"),r=i("../../../../doc/range"),s=i("./databar-xform"),a=i("./ext-lst-ref-xform"),l=i("./formula-xform"),d=i("./color-scale-xform"),c=i("./icon-set-xform"),u={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},h=p=>{let{type:m,operator:g}=p;switch(m){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:m};default:return{type:m,operator:g}}};class f extends o{constructor(){super(),this.map={dataBar:this.databarXform=new s,extLst:this.extLstRefXform=new a,formula:this.formulaXform=new l,colorScale:this.colorScaleXform=new d,iconSet:this.iconSetXform=new c}}get tag(){return"cfRule"}static isPrimitive(m){return m.type!=="iconSet"||!m.custom&&!u[m.iconSet]}render(m,g){switch(g.type){case"expression":this.renderExpression(m,g);break;case"cellIs":this.renderCellIs(m,g);break;case"top10":this.renderTop10(m,g);break;case"aboveAverage":this.renderAboveAverage(m,g);break;case"dataBar":this.renderDataBar(m,g);break;case"colorScale":this.renderColorScale(m,g);break;case"iconSet":this.renderIconSet(m,g);break;case"containsText":this.renderText(m,g);break;case"timePeriod":this.renderTimePeriod(m,g)}}renderExpression(m,g){m.openNode(this.tag,{type:"expression",dxfId:g.dxfId,priority:g.priority}),this.formulaXform.render(m,g.formulae[0]),m.closeNode()}renderCellIs(m,g){m.openNode(this.tag,{type:"cellIs",dxfId:g.dxfId,priority:g.priority,operator:g.operator}),g.formulae.forEach(b=>{this.formulaXform.render(m,b)}),m.closeNode()}renderTop10(m,g){m.leafNode(this.tag,{type:"top10",dxfId:g.dxfId,priority:g.priority,percent:n.toBoolAttribute(g.percent,!1),bottom:n.toBoolAttribute(g.bottom,!1),rank:n.toIntValue(g.rank,10,!0)})}renderAboveAverage(m,g){m.leafNode(this.tag,{type:"aboveAverage",dxfId:g.dxfId,priority:g.priority,aboveAverage:n.toBoolAttribute(g.aboveAverage,!0)})}renderDataBar(m,g){m.openNode(this.tag,{type:"dataBar",priority:g.priority}),this.databarXform.render(m,g),this.extLstRefXform.render(m,g),m.closeNode()}renderColorScale(m,g){m.openNode(this.tag,{type:"colorScale",priority:g.priority}),this.colorScaleXform.render(m,g),m.closeNode()}renderIconSet(m,g){f.isPrimitive(g)&&(m.openNode(this.tag,{type:"iconSet",priority:g.priority}),this.iconSetXform.render(m,g),m.closeNode())}renderText(m,g){m.openNode(this.tag,{type:g.operator,dxfId:g.dxfId,priority:g.priority,operator:n.toStringAttribute(g.operator,"containsText")});let b=(x=>{if(x.formulae&&x.formulae[0])return x.formulae[0];let E=new r(x.ref),{tl:D}=E;switch(x.operator){case"containsText":return`NOT(ISERROR(SEARCH("${x.text}",${D})))`;case"containsBlanks":return`LEN(TRIM(${D}))=0`;case"notContainsBlanks":return`LEN(TRIM(${D}))>0`;case"containsErrors":return`ISERROR(${D})`;case"notContainsErrors":return`NOT(ISERROR(${D}))`;default:return}})(g);b&&this.formulaXform.render(m,b),m.closeNode()}renderTimePeriod(m,g){m.openNode(this.tag,{type:"timePeriod",dxfId:g.dxfId,priority:g.priority,timePeriod:g.timePeriod});let b=(x=>{if(x.formulae&&x.formulae[0])return x.formulae[0];let E=new r(x.ref),{tl:D}=E;switch(x.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${D},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${D},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${D},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${D},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${D},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${D},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${D},1)=TODAY()-1`;case"today":return`FLOOR(${D},1)=TODAY()`;case"tomorrow":return`FLOOR(${D},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${D},1)<=6,FLOOR(${D},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${D})=MONTH(EDATE(TODAY(),0-1)),YEAR(${D})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${D})=MONTH(TODAY()),YEAR(${D})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${D})=MONTH(EDATE(TODAY(),0+1)),YEAR(${D})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(g);b&&this.formulaXform.render(m,b),m.closeNode()}createNewModel(m){let{attributes:g}=m;return ci(Le({},h(g)),{dxfId:n.toIntValue(g.dxfId),priority:n.toIntValue(g.priority),timePeriod:g.timePeriod,percent:n.toBoolValue(g.percent),bottom:n.toBoolValue(g.bottom),rank:n.toIntValue(g.rank),aboveAverage:n.toBoolValue(g.aboveAverage)})}onParserClose(m,g){switch(m){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,g.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(g.model)}}}e.exports=f},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(i,e,t){"use strict";let n=i("../../base-xform");e.exports=class extends n{get tag(){return"cfvo"}render(o,r){o.leafNode(this.tag,{type:r.type,val:r.value})}parseOpen(o){this.model={type:o.attributes.type,value:n.toFloatValue(o.attributes.val)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],85:[function(i,e,t){"use strict";let n=i("../../composite-xform"),o=i("../../style/color-xform"),r=i("./cfvo-xform");e.exports=class extends n{constructor(){super(),this.map={cfvo:this.cfvoXform=new r,color:this.colorXform=new o}}get tag(){return"colorScale"}render(s,a){s.openNode(this.tag),a.cfvo.forEach(l=>{this.cfvoXform.render(s,l)}),a.color.forEach(l=>{this.colorXform.render(s,l)}),s.closeNode()}createNewModel(s){return{cfvo:[],color:[]}}onParserClose(s,a){this.model[s].push(a.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(i,e,t){"use strict";let n=i("../../composite-xform"),o=i("./cf-rule-xform");e.exports=class extends n{constructor(){super(),this.map={cfRule:new o}}get tag(){return"conditionalFormatting"}render(r,s){s.rules.some(o.isPrimitive)&&(r.openNode(this.tag,{sqref:s.ref}),s.rules.forEach(a=>{o.isPrimitive(a)&&(a.ref=s.ref,this.map.cfRule.render(r,a))}),r.closeNode())}createNewModel(r){let{attributes:s}=r;return{ref:s.sqref,rules:[]}}onParserClose(r,s){this.model.rules.push(s.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(i,e,t){"use strict";let n=i("../../base-xform"),o=i("./conditional-formatting-xform");e.exports=class extends n{constructor(){super(),this.cfXform=new o}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(r,s){let a=r.reduce((l,d)=>Math.max(l,...d.rules.map(c=>c.priority||0)),1);r.forEach(l=>{l.rules.forEach(d=>{d.priority||(d.priority=a++),d.style&&(d.dxfId=s.styles.addDxfStyle(d.style))})})}render(r,s){s.forEach(a=>{this.cfXform.render(r,a)})}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(r),!0;default:return!1}}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){return!!this.parser&&(!!this.parser.parseClose(r)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(r,s){r.forEach(a=>{a.rules.forEach(l=>{l.dxfId!==void 0&&(l.style=s.styles.getDxfStyle(l.dxfId),delete l.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(i,e,t){"use strict";let n=i("../../composite-xform"),o=i("../../style/color-xform"),r=i("./cfvo-xform");e.exports=class extends n{constructor(){super(),this.map={cfvo:this.cfvoXform=new r,color:this.colorXform=new o}}get tag(){return"dataBar"}render(s,a){s.openNode(this.tag),a.cfvo.forEach(l=>{this.cfvoXform.render(s,l)}),this.colorXform.render(s,a.color),s.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(s,a){switch(s){case"cfvo":this.model.cfvo.push(a.model);break;case"color":this.model.color=a.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(i,e,t){"use strict";let n=i("../../base-xform"),o=i("../../composite-xform");class r extends n{get tag(){return"x14:id"}render(l,d){l.leafNode(this.tag,null,d)}parseOpen(){this.model=""}parseText(l){this.model+=l}parseClose(l){return l!==this.tag}}class s extends o{constructor(){super(),this.map={"x14:id":this.idXform=new r}}get tag(){return"ext"}render(l,d){l.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(l,d.x14Id),l.closeNode()}createNewModel(){return{}}onParserClose(l,d){this.model.x14Id=d.model}}e.exports=class extends o{constructor(){super(),this.map={ext:new s}}get tag(){return"extLst"}render(a,l){a.openNode(this.tag),this.map.ext.render(a,l),a.closeNode()}createNewModel(){return{}}onParserClose(a,l){Object.assign(this.model,l.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(i,e,t){"use strict";let n=i("../../base-xform");e.exports=class extends n{get tag(){return"formula"}render(o,r){o.leafNode(this.tag,null,r)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],91:[function(i,e,t){"use strict";let n=i("../../base-xform"),o=i("../../composite-xform"),r=i("./cfvo-xform");e.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new r}}get tag(){return"iconSet"}render(s,a){s.openNode(this.tag,{iconSet:n.toStringAttribute(a.iconSet,"3TrafficLights"),reverse:n.toBoolAttribute(a.reverse,!1),showValue:n.toBoolAttribute(a.showValue,!0)}),a.cfvo.forEach(l=>{this.cfvoXform.render(s,l)}),s.closeNode()}createNewModel(s){let{attributes:a}=s;return{iconSet:n.toStringValue(a.iconSet,"3TrafficLights"),reverse:n.toBoolValue(a.reverse),showValue:n.toBoolValue(a.showValue),cfvo:[]}}onParserClose(s,a){this.model[s].push(a.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(i,e,t){"use strict";let n=i("../../../utils/utils"),o=i("../base-xform");e.exports=class extends o{get tag(){return"col"}prepare(r,s){let a=s.styles.addStyleModel(r.style||{});a&&(r.styleId=a)}render(r,s){r.openNode("col"),r.addAttribute("min",s.min),r.addAttribute("max",s.max),s.width&&r.addAttribute("width",s.width),s.styleId&&r.addAttribute("style",s.styleId),s.hidden&&r.addAttribute("hidden","1"),s.bestFit&&r.addAttribute("bestFit","1"),s.outlineLevel&&r.addAttribute("outlineLevel",s.outlineLevel),s.collapsed&&r.addAttribute("collapsed","1"),r.addAttribute("customWidth","1"),r.closeNode()}parseOpen(r){if(r.name==="col"){let s=this.model={min:parseInt(r.attributes.min||"0",10),max:parseInt(r.attributes.max||"0",10),width:r.attributes.width===void 0?void 0:parseFloat(r.attributes.width||"0")};return r.attributes.style&&(s.styleId=parseInt(r.attributes.style,10)),n.parseBoolean(r.attributes.hidden)&&(s.hidden=!0),n.parseBoolean(r.attributes.bestFit)&&(s.bestFit=!0),r.attributes.outlineLevel&&(s.outlineLevel=parseInt(r.attributes.outlineLevel,10)),n.parseBoolean(r.attributes.collapsed)&&(s.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(r,s){r.styleId&&(r.style=s.styles.getStyleModel(r.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(i,e,t){"use strict";let n=i("../../../utils/under-dash"),o=i("../../../utils/utils"),r=i("../../../utils/col-cache"),s=i("../base-xform"),a=i("../../../doc/range");function l(c,u,h,f){let p=u[h];p!==void 0?c[h]=p:f!==void 0&&(c[h]=f)}function d(c,u,h,f){let p=u[h];p!==void 0?c[h]=o.parseBoolean(p):f!==void 0&&(c[h]=f)}e.exports=class extends s{get tag(){return"dataValidations"}render(c,u){let h=function(f){let p=n.map(f,(b,x)=>({address:x,dataValidation:b,marked:!1})).sort((b,x)=>n.strcmp(b.address,x.address)),m=n.keyBy(p,"address"),g=(b,x,E)=>{for(let D=0;D<x;D++){let L=r.encodeAddress(b.row+D,E);if(!f[L]||!n.isEqual(f[b.address],f[L]))return!1}return!0};return p.map(b=>{if(!b.marked){let x=r.decodeEx(b.address);if(x.dimensions)return m[x.dimensions].marked=!0,ci(Le({},b.dataValidation),{sqref:b.address});let E=1,D=r.encodeAddress(x.row+E,x.col);for(;f[D]&&n.isEqual(b.dataValidation,f[D]);)E++,D=r.encodeAddress(x.row+E,x.col);let L=1;for(;g(x,E,x.col+L);)L++;for(let k=0;k<E;k++)for(let R=0;R<L;R++)D=r.encodeAddress(x.row+k,x.col+R),m[D].marked=!0;if(E>1||L>1){let k=x.row+(E-1),R=x.col+(L-1);return ci(Le({},b.dataValidation),{sqref:`${b.address}:${r.encodeAddress(k,R)}`})}return ci(Le({},b.dataValidation),{sqref:b.address})}return null}).filter(Boolean)}(u);h.length&&(c.openNode("dataValidations",{count:h.length}),h.forEach(f=>{c.openNode("dataValidation"),f.type!=="any"&&(c.addAttribute("type",f.type),f.operator&&f.type!=="list"&&f.operator!=="between"&&c.addAttribute("operator",f.operator),f.allowBlank&&c.addAttribute("allowBlank","1")),f.showInputMessage&&c.addAttribute("showInputMessage","1"),f.promptTitle&&c.addAttribute("promptTitle",f.promptTitle),f.prompt&&c.addAttribute("prompt",f.prompt),f.showErrorMessage&&c.addAttribute("showErrorMessage","1"),f.errorStyle&&c.addAttribute("errorStyle",f.errorStyle),f.errorTitle&&c.addAttribute("errorTitle",f.errorTitle),f.error&&c.addAttribute("error",f.error),c.addAttribute("sqref",f.sqref),(f.formulae||[]).forEach((p,m)=>{c.openNode("formula"+(m+1)),f.type==="date"?c.writeText(o.dateToExcel(new Date(p))):c.writeText(p),c.closeNode()}),c.closeNode()}),c.closeNode())}parseOpen(c){switch(c.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=c.attributes.sqref;let u={type:c.attributes.type||"any",formulae:[]};switch(c.attributes.type&&d(u,c.attributes,"allowBlank"),d(u,c.attributes,"showInputMessage"),d(u,c.attributes,"showErrorMessage"),u.type){case"any":case"list":case"custom":break;default:l(u,c.attributes,"operator","between")}return l(u,c.attributes,"promptTitle"),l(u,c.attributes,"prompt"),l(u,c.attributes,"errorStyle"),l(u,c.attributes,"errorTitle"),l(u,c.attributes,"error"),this._dataValidation=u,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(c){this._formula&&this._formula.push(c)}parseClose(c){switch(c){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(u=>{u.includes(":")?new a(u).forEachAddress(h=>{this.model[h]=this._dataValidation}):this.model[u]=this._dataValidation}),!0;case"formula1":case"formula2":{let u=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":u=parseInt(u,10);break;case"decimal":u=parseFloat(u);break;case"date":u=o.excelToDate(parseFloat(u))}return this._dataValidation.formulae.push(u),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{get tag(){return"dimension"}render(o,r){r&&o.leafNode("dimension",{ref:r})}parseOpen(o){return o.name==="dimension"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{get tag(){return"drawing"}render(o,r){r&&o.leafNode(this.tag,{"r:id":r.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(i,e,t){"use strict";let n=i("../composite-xform"),o=i("./cf-ext/conditional-formattings-ext-xform");class r extends n{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new o}}get tag(){return"ext"}hasContent(a){return this.conditionalFormattings.hasContent(a.conditionalFormattings)}prepare(a,l){this.conditionalFormattings.prepare(a.conditionalFormattings,l)}render(a,l){a.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(a,l.conditionalFormattings),a.closeNode()}createNewModel(){return{}}onParserClose(a,l){this.model[a]=l.model}}e.exports=class extends n{constructor(){super(),this.map={ext:this.ext=new r}}get tag(){return"extLst"}prepare(s,a){this.ext.prepare(s,a)}hasContent(s){return this.ext.hasContent(s)}render(s,a){this.hasContent(a)&&(s.openNode("extLst"),this.ext.render(s,a),s.closeNode())}createNewModel(){return{}}onParserClose(s,a){Object.assign(this.model,a.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{get tag(){return"headerFooter"}render(o,r){if(r){o.addRollback();let s=!1;o.openNode("headerFooter"),r.differentFirst&&(o.addAttribute("differentFirst","1"),s=!0),r.differentOddEven&&(o.addAttribute("differentOddEven","1"),s=!0),r.oddHeader&&typeof r.oddHeader=="string"&&(o.leafNode("oddHeader",null,r.oddHeader),s=!0),r.oddFooter&&typeof r.oddFooter=="string"&&(o.leafNode("oddFooter",null,r.oddFooter),s=!0),r.evenHeader&&typeof r.evenHeader=="string"&&(o.leafNode("evenHeader",null,r.evenHeader),s=!0),r.evenFooter&&typeof r.evenFooter=="string"&&(o.leafNode("evenFooter",null,r.evenFooter),s=!0),r.firstHeader&&typeof r.firstHeader=="string"&&(o.leafNode("firstHeader",null,r.firstHeader),s=!0),r.firstFooter&&typeof r.firstFooter=="string"&&(o.leafNode("firstFooter",null,r.firstFooter),s=!0),s?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){switch(o.name){case"headerFooter":return this.model={},o.attributes.differentFirst&&(this.model.differentFirst=parseInt(o.attributes.differentFirst,0)===1),o.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(o.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(o){switch(this.currentNode){case"oddHeader":this.model.oddHeader=o;break;case"oddFooter":this.model.oddFooter=o;break;case"evenHeader":this.model.evenHeader=o;break;case"evenFooter":this.model.evenFooter=o;break;case"firstHeader":this.model.firstHeader=o;break;case"firstFooter":this.model.firstFooter=o}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{get tag(){return"hyperlink"}render(o,r){this.isInternalLink(r)?o.leafNode("hyperlink",{ref:r.address,"r:id":r.rId,tooltip:r.tooltip,location:r.target}):o.leafNode("hyperlink",{ref:r.address,"r:id":r.rId,tooltip:r.tooltip})}parseOpen(o){return o.name==="hyperlink"&&(this.model={address:o.attributes.ref,rId:o.attributes["r:id"],tooltip:o.attributes.tooltip},o.attributes.location&&(this.model.target=o.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(o){return o.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(o.target)}}},{"../base-xform":32}],99:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{get tag(){return"mergeCell"}render(o,r){o.leafNode("mergeCell",{ref:r})}parseOpen(o){return o.name==="mergeCell"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(i,e,t){"use strict";let n=i("../../../utils/under-dash"),o=i("../../../doc/range"),r=i("../../../utils/col-cache"),s=i("../../../doc/enums");e.exports=class{constructor(){this.merges={}}add(a){if(this.merges[a.master])this.merges[a.master].expandToAddress(a.address);else{let l=`${a.master}:${a.address}`;this.merges[a.master]=new o(l)}}get mergeCells(){return n.map(this.merges,a=>a.range)}reconcile(a,l){n.each(a,d=>{let c=r.decode(d);for(let u=c.top;u<=c.bottom;u++){let h=l[u-1];for(let f=c.left;f<=c.right;f++){let p=h.cells[f-1];p?p.type===s.ValueType.Merge&&(p.master=c.tl):h.cells[f]={type:s.ValueType.Null,address:r.encodeAddress(u,f)}}}})}getMasterAddress(a){let l=this.hash[a];return l&&l.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(i,e,t){"use strict";let n=i("../base-xform"),o=r=>r!==void 0;e.exports=class extends n{get tag(){return"outlinePr"}render(r,s){return!(!s||!o(s.summaryBelow)&&!o(s.summaryRight))&&(r.leafNode(this.tag,{summaryBelow:o(s.summaryBelow)?Number(s.summaryBelow):void 0,summaryRight:o(s.summaryRight)?Number(s.summaryRight):void 0}),!0)}parseOpen(r){return r.name===this.tag&&(this.model={summaryBelow:o(r.attributes.summaryBelow)?!!Number(r.attributes.summaryBelow):void 0,summaryRight:o(r.attributes.summaryRight)?!!Number(r.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{get tag(){return"brk"}render(o,r){o.leafNode("brk",r)}parseOpen(o){return o.name==="brk"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(i,e,t){"use strict";let n=i("../../../utils/under-dash"),o=i("../base-xform");e.exports=class extends o{get tag(){return"pageMargins"}render(r,s){if(s){let a={left:s.left,right:s.right,top:s.top,bottom:s.bottom,header:s.header,footer:s.footer};n.some(a,l=>l!==void 0)&&r.leafNode(this.tag,a)}}parseOpen(r){switch(r.name){case this.tag:return this.model={left:parseFloat(r.attributes.left||.7),right:parseFloat(r.attributes.right||.7),top:parseFloat(r.attributes.top||.75),bottom:parseFloat(r.attributes.bottom||.75),header:parseFloat(r.attributes.header||.3),footer:parseFloat(r.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{get tag(){return"pageSetUpPr"}render(o,r){return!(!r||!r.fitToPage)&&(o.leafNode(this.tag,{fitToPage:r.fitToPage?"1":void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={fitToPage:o.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(i,e,t){"use strict";let n=i("../../../utils/under-dash"),o=i("../base-xform");function r(d){return d?"1":void 0}function s(d){switch(d){case"overThenDown":return d;default:return}}function a(d){switch(d){case"atEnd":case"asDisplyed":return d;default:return}}function l(d){switch(d){case"dash":case"blank":case"NA":return d;default:return}}e.exports=class extends o{get tag(){return"pageSetup"}render(d,c){if(c){let u={paperSize:c.paperSize,orientation:c.orientation,horizontalDpi:c.horizontalDpi,verticalDpi:c.verticalDpi,pageOrder:s(c.pageOrder),blackAndWhite:r(c.blackAndWhite),draft:r(c.draft),cellComments:a(c.cellComments),errors:l(c.errors),scale:c.scale,fitToWidth:c.fitToWidth,fitToHeight:c.fitToHeight,firstPageNumber:c.firstPageNumber,useFirstPageNumber:r(c.firstPageNumber),usePrinterDefaults:r(c.usePrinterDefaults),copies:c.copies};n.some(u,h=>h!==void 0)&&d.leafNode(this.tag,u)}}parseOpen(d){switch(d.name){case this.tag:return this.model={paperSize:(c=d.attributes.paperSize,c!==void 0?parseInt(c,10):void 0),orientation:d.attributes.orientation||"portrait",horizontalDpi:parseInt(d.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(d.attributes.verticalDpi||"4294967295",10),pageOrder:d.attributes.pageOrder||"downThenOver",blackAndWhite:d.attributes.blackAndWhite==="1",draft:d.attributes.draft==="1",cellComments:d.attributes.cellComments||"None",errors:d.attributes.errors||"displayed",scale:parseInt(d.attributes.scale||"100",10),fitToWidth:parseInt(d.attributes.fitToWidth||"1",10),fitToHeight:parseInt(d.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(d.attributes.firstPageNumber||"1",10),useFirstPageNumber:d.attributes.useFirstPageNumber==="1",usePrinterDefaults:d.attributes.usePrinterDefaults==="1",copies:parseInt(d.attributes.copies||"1",10)},!0;default:return!1}var c}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{get tag(){return"picture"}render(o,r){r&&o.leafNode(this.tag,{"r:id":r.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(i,e,t){"use strict";let n=i("../../../utils/under-dash"),o=i("../base-xform");function r(s){return s?"1":void 0}e.exports=class extends o{get tag(){return"printOptions"}render(s,a){if(a){let l={headings:r(a.showRowColHeaders),gridLines:r(a.showGridLines),horizontalCentered:r(a.horizontalCentered),verticalCentered:r(a.verticalCentered)};n.some(l,d=>d!==void 0)&&s.leafNode(this.tag,l)}}parseOpen(s){switch(s.name){case this.tag:return this.model={showRowColHeaders:s.attributes.headings==="1",showGridLines:s.attributes.gridLines==="1",horizontalCentered:s.attributes.horizontalCentered==="1",verticalCentered:s.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(i,e,t){"use strict";let n=i("./page-breaks-xform"),o=i("../list-xform");e.exports=class extends o{constructor(){super({tag:"rowBreaks",count:!0,childXform:new n})}render(r,s){if(s&&s.length){r.openNode(this.tag,this.$),this.count&&(r.addAttribute(this.$count,s.length),r.addAttribute("manualBreakCount",s.length));let{childXform:a}=this;s.forEach(l=>{a.render(r,l)}),r.closeNode()}else this.empty&&r.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(i,e,t){"use strict";let n=i("../base-xform"),o=i("../../../utils/utils"),r=i("./cell-xform");e.exports=class extends n{constructor(s){super(),this.maxItems=s&&s.maxItems,this.map={c:new r}}get tag(){return"row"}prepare(s,a){let l=a.styles.addStyleModel(s.style);l&&(s.styleId=l);let d=this.map.c;s.cells.forEach(c=>{d.prepare(c,a)})}render(s,a,l){s.openNode("row"),s.addAttribute("r",a.number),a.height&&(s.addAttribute("ht",a.height),s.addAttribute("customHeight","1")),a.hidden&&s.addAttribute("hidden","1"),a.min>0&&a.max>0&&a.min<=a.max&&s.addAttribute("spans",`${a.min}:${a.max}`),a.styleId&&(s.addAttribute("s",a.styleId),s.addAttribute("customFormat","1")),s.addAttribute("x14ac:dyDescent","0.25"),a.outlineLevel&&s.addAttribute("outlineLevel",a.outlineLevel),a.collapsed&&s.addAttribute("collapsed","1");let d=this.map.c;a.cells.forEach(c=>{d.render(s,c,l)}),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;if(s.name==="row"){this.numRowsSeen+=1;let a=s.attributes.spans?s.attributes.spans.split(":").map(d=>parseInt(d,10)):[void 0,void 0],l=this.model={number:parseInt(s.attributes.r,10),min:a[0],max:a[1],cells:[]};return s.attributes.s&&(l.styleId=parseInt(s.attributes.s,10)),o.parseBoolean(s.attributes.hidden)&&(l.hidden=!0),o.parseBoolean(s.attributes.bestFit)&&(l.bestFit=!0),s.attributes.ht&&(l.height=parseFloat(s.attributes.ht)),s.attributes.outlineLevel&&(l.outlineLevel=parseInt(s.attributes.outlineLevel,10)),o.parseBoolean(s.attributes.collapsed)&&(l.collapsed=!0),!0}return this.parser=this.map[s.name],!!this.parser&&(this.parser.parseOpen(s),!0)}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(s,a){s.style=s.styleId?a.styles.getStyleModel(s.styleId):{},s.styleId!==void 0&&(s.styleId=void 0);let l=this.map.c;s.cells.forEach(d=>{l.reconcile(d,a)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(i,e,t){"use strict";let n=i("../../../utils/under-dash"),o=i("../base-xform");e.exports=class extends o{get tag(){return"sheetFormatPr"}render(r,s){if(s){let a={defaultRowHeight:s.defaultRowHeight,outlineLevelRow:s.outlineLevelRow,outlineLevelCol:s.outlineLevelCol,"x14ac:dyDescent":s.dyDescent};s.defaultColWidth&&(a.defaultColWidth=s.defaultColWidth),s.defaultRowHeight&&s.defaultRowHeight===15||(a.customHeight="1"),n.some(a,l=>l!==void 0)&&r.leafNode("sheetFormatPr",a)}}parseOpen(r){return r.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(r.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(r.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(r.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(r.attributes.outlineLevelCol||"0",10)},r.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(r.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(i,e,t){"use strict";let n=i("../base-xform"),o=i("../style/color-xform"),r=i("./page-setup-properties-xform"),s=i("./outline-properties-xform");e.exports=class extends n{constructor(){super(),this.map={tabColor:new o("tabColor"),pageSetUpPr:new r,outlinePr:new s}}get tag(){return"sheetPr"}render(a,l){if(l){a.addRollback(),a.openNode("sheetPr");let d=!1;d=this.map.tabColor.render(a,l.tabColor)||d,d=this.map.pageSetUpPr.render(a,l.pageSetup)||d,d=this.map.outlinePr.render(a,l.outlineProperties)||d,d?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){return this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag?(this.reset(),!0):!!this.map[a.name]&&(this.parser=this.map[a.name],this.parser.parseOpen(a),!0)}parseText(a){return!!this.parser&&(this.parser.parseText(a),!0)}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(i,e,t){"use strict";let n=i("../../../utils/under-dash"),o=i("../base-xform");function r(a,l){return a?l:void 0}function s(a,l){return a===l||void 0}e.exports=class extends o{get tag(){return"sheetProtection"}render(a,l){if(l){let d={sheet:r(l.sheet,"1"),selectLockedCells:l.selectLockedCells===!1?"1":void 0,selectUnlockedCells:l.selectUnlockedCells===!1?"1":void 0,formatCells:r(l.formatCells,"0"),formatColumns:r(l.formatColumns,"0"),formatRows:r(l.formatRows,"0"),insertColumns:r(l.insertColumns,"0"),insertRows:r(l.insertRows,"0"),insertHyperlinks:r(l.insertHyperlinks,"0"),deleteColumns:r(l.deleteColumns,"0"),deleteRows:r(l.deleteRows,"0"),sort:r(l.sort,"0"),autoFilter:r(l.autoFilter,"0"),pivotTables:r(l.pivotTables,"0")};l.sheet&&(d.algorithmName=l.algorithmName,d.hashValue=l.hashValue,d.saltValue=l.saltValue,d.spinCount=l.spinCount,d.objects=r(l.objects===!1,"1"),d.scenarios=r(l.scenarios===!1,"1")),n.some(d,c=>c!==void 0)&&a.leafNode(this.tag,d)}}parseOpen(a){switch(a.name){case this.tag:return this.model={sheet:s(a.attributes.sheet,"1"),objects:a.attributes.objects!=="1"&&void 0,scenarios:a.attributes.scenarios!=="1"&&void 0,selectLockedCells:a.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:a.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:s(a.attributes.formatCells,"0"),formatColumns:s(a.attributes.formatColumns,"0"),formatRows:s(a.attributes.formatRows,"0"),insertColumns:s(a.attributes.insertColumns,"0"),insertRows:s(a.attributes.insertRows,"0"),insertHyperlinks:s(a.attributes.insertHyperlinks,"0"),deleteColumns:s(a.attributes.deleteColumns,"0"),deleteRows:s(a.attributes.deleteRows,"0"),sort:s(a.attributes.sort,"0"),autoFilter:s(a.attributes.autoFilter,"0"),pivotTables:s(a.attributes.pivotTables,"0")},a.attributes.algorithmName&&(this.model.algorithmName=a.attributes.algorithmName,this.model.hashValue=a.attributes.hashValue,this.model.saltValue=a.attributes.saltValue,this.model.spinCount=parseInt(a.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(i,e,t){"use strict";let n=i("../../../utils/col-cache"),o=i("../base-xform"),r={frozen:"frozen",frozenSplit:"frozen",split:"split"};e.exports=class extends o{get tag(){return"sheetView"}prepare(s){switch(s.state){case"frozen":case"split":break;default:s.state="normal"}}render(s,a){s.openNode("sheetView",{workbookViewId:a.workbookViewId||0});let l=function(f,p,m){m&&s.addAttribute(f,p)},d,c,u,h;switch(l("rightToLeft","1",a.rightToLeft===!0),l("tabSelected","1",a.tabSelected),l("showRuler","0",a.showRuler===!1),l("showRowColHeaders","0",a.showRowColHeaders===!1),l("showGridLines","0",a.showGridLines===!1),l("zoomScale",a.zoomScale,a.zoomScale),l("zoomScaleNormal",a.zoomScaleNormal,a.zoomScaleNormal),l("view",a.style,a.style),a.state){case"frozen":c=a.xSplit||0,u=a.ySplit||0,d=a.topLeftCell||n.getAddress(u+1,c+1).address,h=(a.xSplit&&a.ySplit?"bottomRight":a.xSplit&&"topRight")||"bottomLeft",s.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:d,activePane:h,state:"frozen"}),s.leafNode("selection",{pane:h,activeCell:a.activeCell,sqref:a.activeCell});break;case"split":a.activePane==="topLeft"&&(a.activePane=void 0),s.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:a.topLeftCell,activePane:a.activePane}),s.leafNode("selection",{pane:a.activePane,activeCell:a.activeCell,sqref:a.activeCell});break;case"normal":a.activeCell&&s.leafNode("selection",{activeCell:a.activeCell,sqref:a.activeCell})}s.closeNode()}parseOpen(s){switch(s.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(s.attributes.workbookViewId,10),rightToLeft:s.attributes.rightToLeft==="1",tabSelected:s.attributes.tabSelected==="1",showRuler:s.attributes.showRuler!=="0",showRowColHeaders:s.attributes.showRowColHeaders!=="0",showGridLines:s.attributes.showGridLines!=="0",zoomScale:parseInt(s.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(s.attributes.zoomScaleNormal||"100",10),style:s.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(s.attributes.xSplit||"0",10),ySplit:parseInt(s.attributes.ySplit||"0",10),topLeftCell:s.attributes.topLeftCell,activePane:s.attributes.activePane||"topLeft",state:s.attributes.state},!0;case"selection":{let a=s.attributes.pane||"topLeft";return this.selections[a]={pane:a,activeCell:s.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(s){let a,l;switch(s){case"sheetView":return this.sheetView&&this.pane?(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:r[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(a.activePane=this.pane.activePane),l=this.selections[this.pane.activePane],l&&l.activeCell&&(a.activeCell=l.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)):(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},l=this.selections.topLeft,l&&l.activeCell&&(a.activeCell=l.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{get tag(){return"tablePart"}render(o,r){r&&o.leafNode(this.tag,{"r:id":r.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(i,e,t){"use strict";let n=i("../../../utils/under-dash"),o=i("../../../utils/col-cache"),r=i("../../../utils/xml-stream"),s=i("../../rel-type"),a=i("./merges"),l=i("../base-xform"),d=i("../list-xform"),c=i("./row-xform"),u=i("./col-xform"),h=i("./dimension-xform"),f=i("./hyperlink-xform"),p=i("./merge-cell-xform"),m=i("./data-validations-xform"),g=i("./sheet-properties-xform"),b=i("./sheet-format-properties-xform"),x=i("./sheet-view-xform"),E=i("./sheet-protection-xform"),D=i("./page-margins-xform"),L=i("./page-setup-xform"),k=i("./print-options-xform"),R=i("./auto-filter-xform"),N=i("./picture-xform"),z=i("./drawing-xform"),V=i("./table-part-xform"),S=i("./row-breaks-xform"),T=i("./header-footer-xform"),B=i("./cf/conditional-formattings-xform"),_=i("./ext-lst-xform"),v=(y,w)=>{if(!w||!w.length)return y;if(!y||!y.length)return w;let O={},P={};return y.forEach(W=>{O[W.ref]=W,W.rules.forEach(G=>{let{x14Id:K}=G;K&&(P[K]=G)})}),w.forEach(W=>{W.rules.forEach(G=>{let K=P[G.x14Id];K?((F,Y)=>{Object.keys(Y).forEach(M=>{let A=F[M],j=Y[M];A===void 0&&j!==void 0&&(F[M]=j)})})(K,G):O[W.ref]?O[W.ref].rules.push(G):y.push({ref:W.ref,rules:[G]})})}),y};class C extends l{constructor(w){super();let{maxRows:O,maxCols:P,ignoreNodes:W}=w||{};this.ignoreNodes=W||[],this.map={sheetPr:new g,dimension:new h,sheetViews:new d({tag:"sheetViews",count:!1,childXform:new x}),sheetFormatPr:new b,cols:new d({tag:"cols",count:!1,childXform:new u}),sheetData:new d({tag:"sheetData",count:!1,empty:!0,childXform:new c({maxItems:P}),maxItems:O}),autoFilter:new R,mergeCells:new d({tag:"mergeCells",count:!0,childXform:new p}),rowBreaks:new S,hyperlinks:new d({tag:"hyperlinks",count:!1,childXform:new f}),pageMargins:new D,dataValidations:new m,pageSetup:new L,headerFooter:new T,printOptions:new k,picture:new N,drawing:new z,sheetProtection:new E,tableParts:new d({tag:"tableParts",count:!0,childXform:new V}),conditionalFormatting:new B,extLst:new _}}prepare(w,O){O.merges=new a,w.hyperlinks=O.hyperlinks=[],w.comments=O.comments=[],O.formulae={},O.siFormulae=0,this.map.cols.prepare(w.cols,O),this.map.sheetData.prepare(w.rows,O),this.map.conditionalFormatting.prepare(w.conditionalFormattings,O),w.mergeCells=O.merges.mergeCells;let P=w.rels=[];function W(F){return"rId"+(F.length+1)}if(w.hyperlinks.forEach(F=>{let Y=W(P);F.rId=Y,P.push({Id:Y,Type:s.Hyperlink,Target:F.target,TargetMode:"External"})}),w.comments.length>0){let F={Id:W(P),Type:s.Comments,Target:`../comments${w.id}.xml`};P.push(F);let Y={Id:W(P),Type:s.VmlDrawing,Target:`../drawings/vmlDrawing${w.id}.vml`};P.push(Y),w.comments.forEach(M=>{M.refAddress=o.decodeAddress(M.ref)}),O.commentRefs.push({commentName:"comments"+w.id,vmlDrawing:"vmlDrawing"+w.id})}let G=[],K;w.media.forEach(F=>{if(F.type==="background"){let Y=W(P);K=O.media[F.imageId],P.push({Id:Y,Type:s.Image,Target:`../media/${K.name}.${K.extension}`}),w.background={rId:Y},w.image=O.media[F.imageId]}else if(F.type==="image"){let{drawing:Y}=w;K=O.media[F.imageId],Y||(Y=w.drawing={rId:W(P),name:"drawing"+ ++O.drawingsCount,anchors:[],rels:[]},O.drawings.push(Y),P.push({Id:Y.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${Y.name}.xml`}));let M=this.preImageId===F.imageId?G[F.imageId]:G[Y.rels.length];M||(M=W(Y.rels),G[Y.rels.length]=M,Y.rels.push({Id:M,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${K.name}.${K.extension}`}));let A={picture:{rId:M},range:F.range};if(F.hyperlinks&&F.hyperlinks.hyperlink){let j=W(Y.rels);G[Y.rels.length]=j,A.picture.hyperlinks={tooltip:F.hyperlinks.tooltip,rId:j},Y.rels.push({Id:j,Type:s.Hyperlink,Target:F.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=F.imageId,Y.anchors.push(A)}}),w.tables.forEach(F=>{let Y=W(P);F.rId=Y,P.push({Id:Y,Type:s.Table,Target:"../tables/"+F.target}),F.columns.forEach(M=>{let{style:A}=M;A&&(M.dxfId=O.styles.addDxfStyle(A))})}),this.map.extLst.prepare(w,O)}render(w,O){w.openXml(r.StdDocAttributes),w.openNode("worksheet",C.WORKSHEET_ATTRIBUTES);let P=O.properties?{defaultRowHeight:O.properties.defaultRowHeight,dyDescent:O.properties.dyDescent,outlineLevelCol:O.properties.outlineLevelCol,outlineLevelRow:O.properties.outlineLevelRow}:void 0;O.properties&&O.properties.defaultColWidth&&(P.defaultColWidth=O.properties.defaultColWidth);let W={outlineProperties:O.properties&&O.properties.outlineProperties,tabColor:O.properties&&O.properties.tabColor,pageSetup:O.pageSetup&&O.pageSetup.fitToPage?{fitToPage:O.pageSetup.fitToPage}:void 0},G=O.pageSetup&&O.pageSetup.margins,K={showRowColHeaders:O.pageSetup&&O.pageSetup.showRowColHeaders,showGridLines:O.pageSetup&&O.pageSetup.showGridLines,horizontalCentered:O.pageSetup&&O.pageSetup.horizontalCentered,verticalCentered:O.pageSetup&&O.pageSetup.verticalCentered},F=O.sheetProtection;this.map.sheetPr.render(w,W),this.map.dimension.render(w,O.dimensions),this.map.sheetViews.render(w,O.views),this.map.sheetFormatPr.render(w,P),this.map.cols.render(w,O.cols),this.map.sheetData.render(w,O.rows),this.map.sheetProtection.render(w,F),this.map.autoFilter.render(w,O.autoFilter),this.map.mergeCells.render(w,O.mergeCells),this.map.conditionalFormatting.render(w,O.conditionalFormattings),this.map.dataValidations.render(w,O.dataValidations),this.map.hyperlinks.render(w,O.hyperlinks),this.map.printOptions.render(w,K),this.map.pageMargins.render(w,G),this.map.pageSetup.render(w,O.pageSetup),this.map.headerFooter.render(w,O.headerFooter),this.map.rowBreaks.render(w,O.rowBreaks),this.map.drawing.render(w,O.drawing),this.map.picture.render(w,O.background),this.map.tableParts.render(w,O.tables),this.map.extLst.render(w,O),O.rels&&O.rels.forEach(Y=>{Y.Type===s.VmlDrawing&&w.leafNode("legacyDrawing",{"r:id":Y.Id})}),w.closeNode()}parseOpen(w){return this.parser?(this.parser.parseOpen(w),!0):w.name==="worksheet"?(n.each(this.map,O=>{O.reset()}),!0):(this.map[w.name]&&!this.ignoreNodes.includes(w.name)&&(this.parser=this.map[w.name],this.parser.parseOpen(w)),!0)}parseText(w){this.parser&&this.parser.parseText(w)}parseClose(w){if(this.parser)return this.parser.parseClose(w)||(this.parser=void 0),!0;switch(w){case"worksheet":{let O=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(O.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(O.outlineProperties=this.map.sheetPr.model.outlineProperties);let P={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},W=Object.assign(P,this.map.pageSetup.model,this.map.printOptions.model),G=v(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:O,views:this.map.sheetViews.model,pageSetup:W,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:G},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(w,O){let P=(w.relationships||[]).reduce((G,K)=>{if(G[K.Id]=K,K.Type===s.Comments&&(w.comments=O.comments[K.Target].comments),K.Type===s.VmlDrawing&&w.comments&&w.comments.length){let F=O.vmlDrawings[K.Target].comments;w.comments.forEach((Y,M)=>{Y.note=Object.assign({},Y.note,F[M])})}return G},{});if(O.commentsMap=(w.comments||[]).reduce((G,K)=>(K.ref&&(G[K.ref]=K),G),{}),O.hyperlinkMap=(w.hyperlinks||[]).reduce((G,K)=>(K.rId&&(G[K.address]=P[K.rId].Target),G),{}),O.formulae={},w.rows=w.rows&&w.rows.filter(Boolean)||[],w.rows.forEach(G=>{G.cells=G.cells&&G.cells.filter(Boolean)||[]}),this.map.cols.reconcile(w.cols,O),this.map.sheetData.reconcile(w.rows,O),this.map.conditionalFormatting.reconcile(w.conditionalFormattings,O),w.media=[],w.drawing){let G=P[w.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(G){let K=G[1];O.drawings[K].anchors.forEach(F=>{if(F.medium){let Y={type:"image",imageId:F.medium.index,range:F.range,hyperlinks:F.picture.hyperlinks};w.media.push(Y)}})}}let W=w.background&&P[w.background.rId];if(W){let G=W.Target.split("/media/")[1],K=O.mediaIndex&&O.mediaIndex[G];K!==void 0&&w.media.push({type:"background",imageId:K})}w.tables=(w.tables||[]).map(G=>{let K=P[G.rId];return O.tables[K.Target]}),delete w.relationships,delete w.hyperlinks,delete w.comments}}C.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},e.exports=C},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{constructor(o){super(),this.tag=o.tag,this.attr=o.attr}render(o,r){r&&(o.openNode(this.tag),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this._format=o.format||function(r){try{return Number.isNaN(r.getTime())?"":r.toISOString()}catch{return""}},this._parse=o.parse||function(r){return new Date(r)}}render(o,r){r&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,this._format(r)):o.writeText(this._format(r)),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=this._parse(o.attributes[this.attr]):this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this.zero=o.zero}render(o,r){(r||this.zero)&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,r):o.writeText(r),o.closeNode())}parseOpen(o){return o.name===this.tag&&(this.attr?this.model=parseInt(o.attributes[this.attr],10):this.text=[],!0)}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs}render(o,r){r!==void 0&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,r):o.writeText(r),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=o.attributes[this.attr]:this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(i,e,t){"use strict";let n=i("./base-xform"),o=i("../../utils/xml-stream");e.exports=class extends n{constructor(r){super(),this._model=r}render(r){if(!this._xml){let s=new o;(function a(l,d){l.openNode(d.tag,d.$),d.c&&d.c.forEach(c=>{a(l,c)}),d.t&&l.writeText(d.t),l.closeNode()})(s,this._model),this._xml=s.xml}r.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(r){switch(r){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(i,e,t){"use strict";let n=i("./text-xform"),o=i("./rich-text-xform"),r=i("../base-xform");e.exports=class extends r{constructor(){super(),this.map={r:new o,t:new n}}get tag(){return"rPh"}render(s,a){if(s.openNode(this.tag,{sb:a.sb||0,eb:a.eb||0}),a&&a.hasOwnProperty("richText")&&a.richText){let{r:l}=this.map;a.richText.forEach(d=>{l.render(s,d)})}else a&&this.map.t.render(s,a.text);s.closeNode()}parseOpen(s){let{name:a}=s;return this.parser?(this.parser.parseOpen(s),!0):a===this.tag?(this.model={sb:parseInt(s.attributes.sb,10),eb:parseInt(s.attributes.eb,10)},!0):(this.parser=this.map[a],!!this.parser&&(this.parser.parseOpen(s),!0))}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)){switch(s){case"r":{let a=this.model.richText;a||(a=this.model.richText=[]),a.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(i,e,t){"use strict";let n=i("./text-xform"),o=i("../style/font-xform"),r=i("../base-xform");class s extends r{constructor(l){super(),this.model=l}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new n)}get fontXform(){return this._fontXform||(this._fontXform=new o(s.FONT_OPTIONS))}render(l,d){d=d||this.model,l.openNode("r"),d.font&&this.fontXform.render(l,d.font),this.textXform.render(l,d.text),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(l),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){switch(l){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(l),!0}}}s.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},e.exports=s},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(i,e,t){"use strict";let n=i("./text-xform"),o=i("./rich-text-xform"),r=i("./phonetic-text-xform"),s=i("../base-xform");e.exports=class extends s{constructor(a){super(),this.model=a,this.map={r:new o,t:new n,rPh:new r}}get tag(){return"si"}render(a,l){a.openNode(this.tag),l&&l.hasOwnProperty("richText")&&l.richText?l.richText.length?l.richText.forEach(d=>{this.map.r.render(a,d)}):this.map.t.render(a,""):l!=null&&this.map.t.render(a,l),a.closeNode()}parseOpen(a){let{name:l}=a;return this.parser?(this.parser.parseOpen(a),!0):l===this.tag?(this.model={},!0):(this.parser=this.map[l],!!this.parser&&(this.parser.parseOpen(a),!0))}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)){switch(a){case"r":{let l=this.model.richText;l||(l=this.model.richText=[]),l.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(i,e,t){"use strict";let n=i("../../../utils/xml-stream"),o=i("../base-xform"),r=i("./shared-string-xform");e.exports=class extends o{constructor(s){super(),this.model=s||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new r)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(s){return this.model.values[s]}add(s){return s.richText?this.addRichText(s):this.addText(s)}addText(s){let a=this.hash[s];return a===void 0&&(a=this.hash[s]=this.model.values.length,this.model.values.push(s)),this.model.count++,a}addRichText(s){let a=this.sharedStringXform.toXml(s),l=this.rich[a];return l===void 0&&(l=this.rich[a]=this.model.values.length,this.model.values.push(s)),this.model.count++,l}render(s,a){a=a||this._values,s.openXml(n.StdDocAttributes),s.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:a.count,uniqueCount:a.values.length});let l=this.sharedStringXform;a.values.forEach(d=>{l.render(s,d)}),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(s),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(s))}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(s){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+s)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{get tag(){return"t"}render(o,r){o.openNode("t"),/^\s|\n|\s$/.test(r)&&o.addAttribute("xml:space","preserve"),o.writeText(r),o.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(o,r)=>String.fromCharCode(parseInt(r,16)))}parseOpen(o){switch(o.name){case"t":return this._text=[],!0;default:return!1}}parseText(o){this._text.push(o)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(i,e,t){"use strict";let n=i("../../../doc/enums"),o=i("../../../utils/utils"),r=i("../base-xform"),s={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((l,d)=>(l[d]=!0,l),{}),horizontal(l){return this.horizontalValues[l]?l:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((l,d)=>(l[d]=!0,l),{}),vertical(l){return l==="middle"?"center":this.verticalValues[l]?l:void 0},wrapText:l=>!!l||void 0,shrinkToFit:l=>!!l||void 0,textRotation(l){switch(l){case"vertical":return l;default:return(l=o.validInt(l))>=-90&&l<=90?l:void 0}},indent:l=>(l=o.validInt(l),Math.max(0,l)),readingOrder(l){switch(l){case"ltr":return n.ReadingOrder.LeftToRight;case"rtl":return n.ReadingOrder.RightToLeft;default:return}}},a={toXml(l){if(l=s.textRotation(l)){if(l==="vertical")return 255;let d=Math.round(l);if(d>=0&&d<=90)return d;if(d<0&&d>=-90)return 90-d}},toModel(l){let d=o.validInt(l);if(d!==void 0){if(d===255)return"vertical";if(d>=0&&d<=90)return d;if(d>90&&d<=180)return 90-d}}};e.exports=class extends r{get tag(){return"alignment"}render(l,d){l.addRollback(),l.openNode("alignment");let c=!1;function u(h,f){f&&(l.addAttribute(h,f),c=!0)}u("horizontal",s.horizontal(d.horizontal)),u("vertical",s.vertical(d.vertical)),u("wrapText",!!s.wrapText(d.wrapText)&&"1"),u("shrinkToFit",!!s.shrinkToFit(d.shrinkToFit)&&"1"),u("indent",s.indent(d.indent)),u("textRotation",a.toXml(d.textRotation)),u("readingOrder",s.readingOrder(d.readingOrder)),l.closeNode(),c?l.commit():l.rollback()}parseOpen(l){let d={},c=!1;function u(h,f,p){h&&(d[f]=p,c=!0)}u(l.attributes.horizontal,"horizontal",l.attributes.horizontal),u(l.attributes.vertical,"vertical",l.attributes.vertical==="center"?"middle":l.attributes.vertical),u(l.attributes.wrapText,"wrapText",o.parseBoolean(l.attributes.wrapText)),u(l.attributes.shrinkToFit,"shrinkToFit",o.parseBoolean(l.attributes.shrinkToFit)),u(l.attributes.indent,"indent",parseInt(l.attributes.indent,10)),u(l.attributes.textRotation,"textRotation",a.toModel(l.attributes.textRotation)),u(l.attributes.readingOrder,"readingOrder",l.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=c?d:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(i,e,t){"use strict";let n=i("../base-xform"),o=i("../../../utils/utils"),r=i("./color-xform");class s extends n{constructor(l){super(),this.name=l,this.map={color:new r}}get tag(){return this.name}render(l,d,c){let u=d&&d.color||c||this.defaultColor;l.openNode(this.name),d&&d.style&&(l.addAttribute("style",d.style),u&&this.map.color.render(l,u)),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.name:{let{style:d}=l.attributes;return this.model=d?{style:d}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.parser=void 0),!0):(l===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(l){return s.validStyleValues[l]}}s.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((a,l)=>(a[l]=!0,a),{}),e.exports=class extends n{constructor(){super(),this.map={top:new s("top"),left:new s("left"),bottom:new s("bottom"),right:new s("right"),diagonal:new s("diagonal")}}render(a,l){let{color:d}=l;function c(u,h){u&&!u.color&&l.color&&(u=ci(Le({},u),{color:l.color})),h.render(a,u,d)}a.openNode("border"),l.diagonal&&l.diagonal.style&&(l.diagonal.up&&a.addAttribute("diagonalUp","1"),l.diagonal.down&&a.addAttribute("diagonalDown","1")),c(l.left,this.map.left),c(l.right,this.map.right),c(l.top,this.map.top),c(l.bottom,this.map.bottom),c(l.diagonal,this.map.diagonal),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"border":return this.reset(),this.diagonalUp=o.parseBoolean(a.attributes.diagonalUp),this.diagonalDown=o.parseBoolean(a.attributes.diagonalDown),!0;default:return this.parser=this.map[a.name],!!this.parser&&(this.parser.parseOpen(a),!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;if(a==="border"){let l=this.model={},d=function(c,u,h){u&&(h&&Object.assign(u,h),l[c]=u)};d("left",this.map.left.model),d("right",this.map.right.model),d("top",this.map.top.model),d("bottom",this.map.bottom.model),d("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{constructor(o){super(),this.name=o||"color"}get tag(){return this.name}render(o,r){return!!r&&(o.openNode(this.name),r.argb?o.addAttribute("rgb",r.argb):r.theme!==void 0?(o.addAttribute("theme",r.theme),r.tint!==void 0&&o.addAttribute("tint",r.tint)):r.indexed!==void 0?o.addAttribute("indexed",r.indexed):o.addAttribute("auto","1"),o.closeNode(),!0)}parseOpen(o){return o.name===this.name&&(o.attributes.rgb?this.model={argb:o.attributes.rgb}:o.attributes.theme?(this.model={theme:parseInt(o.attributes.theme,10)},o.attributes.tint&&(this.model.tint=parseFloat(o.attributes.tint))):o.attributes.indexed?this.model={indexed:parseInt(o.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(i,e,t){"use strict";let n=i("../base-xform"),o=i("./alignment-xform"),r=i("./border-xform"),s=i("./fill-xform"),a=i("./font-xform"),l=i("./numfmt-xform"),d=i("./protection-xform");e.exports=class extends n{constructor(){super(),this.map={alignment:new o,border:new r,fill:new s,font:new a,numFmt:new l,protection:new d}}get tag(){return"dxf"}render(c,u){if(c.openNode(this.tag),u.font&&this.map.font.render(c,u.font),u.numFmt&&u.numFmtId){let h={id:u.numFmtId,formatCode:u.numFmt};this.map.numFmt.render(c,h)}u.fill&&this.map.fill.render(c,u.fill),u.alignment&&this.map.alignment.render(c,u.alignment),u.border&&this.map.border.render(c,u.border),u.protection&&this.map.protection.render(c,u.protection),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c),!0}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):c!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(i,e,t){"use strict";let n=i("../base-xform"),o=i("./color-xform");class r extends n{constructor(){super(),this.map={color:new o}}get tag(){return"stop"}render(c,u){c.openNode("stop"),c.addAttribute("position",u.position),this.map.color.render(c,u.color),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"stop":return this.model={position:parseFloat(c.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(c),!0;default:return!1}}parseText(){}parseClose(c){return!!this.parser&&(this.parser.parseClose(c)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class s extends n{constructor(){super(),this.map={fgColor:new o("fgColor"),bgColor:new o("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(c,u){c.openNode("patternFill"),c.addAttribute("patternType",u.pattern),u.fgColor&&this.map.fgColor.render(c,u.fgColor),u.bgColor&&this.map.bgColor.render(c,u.bgColor),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"patternFill":return this.model={type:"pattern",pattern:c.attributes.patternType},!0;default:return this.parser=this.map[c.name],!!this.parser&&(this.parser.parseOpen(c),!0)}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return!!this.parser&&(this.parser.parseClose(c)||(this.parser.model&&(this.model[c]=this.parser.model),this.parser=void 0),!0)}}class a extends n{constructor(){super(),this.map={stop:new r}}get name(){return"gradient"}get tag(){return"gradientFill"}render(c,u){switch(c.openNode("gradientFill"),u.gradient){case"angle":c.addAttribute("degree",u.degree);break;case"path":c.addAttribute("type","path"),u.center.left&&(c.addAttribute("left",u.center.left),u.center.right===void 0&&c.addAttribute("right",u.center.left)),u.center.right&&c.addAttribute("right",u.center.right),u.center.top&&(c.addAttribute("top",u.center.top),u.center.bottom===void 0&&c.addAttribute("bottom",u.center.top)),u.center.bottom&&c.addAttribute("bottom",u.center.bottom)}let h=this.map.stop;u.stops.forEach(f=>{h.render(c,f)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"gradientFill":{let u=this.model={stops:[]};return c.attributes.degree?(u.gradient="angle",u.degree=parseInt(c.attributes.degree,10)):c.attributes.type==="path"&&(u.gradient="path",u.center={left:c.attributes.left?parseFloat(c.attributes.left):0,top:c.attributes.top?parseFloat(c.attributes.top):0},c.attributes.right!==c.attributes.left&&(u.center.right=c.attributes.right?parseFloat(c.attributes.right):0),c.attributes.bottom!==c.attributes.top&&(u.center.bottom=c.attributes.bottom?parseFloat(c.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return!!this.parser&&(this.parser.parseClose(c)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class l extends n{constructor(){super(),this.map={patternFill:new s,gradientFill:new a}}get tag(){return"fill"}render(c,u){switch(c.addRollback(),c.openNode("fill"),u.type){case"pattern":this.map.patternFill.render(c,u);break;case"gradient":this.map.gradientFill.render(c,u);break;default:return void c.rollback()}c.closeNode(),c.commit()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"fill":return this.model={},!0;default:return this.parser=this.map[c.name],!!this.parser&&(this.parser.parseOpen(c),!0)}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return!!this.parser&&(this.parser.parseClose(c)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(c){return l.validPatternValues[c]}}l.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((d,c)=>(d[c]=!0,d),{}),l.StopXform=r,l.PatternFillXform=s,l.GradientFillXform=a,e.exports=l},{"../base-xform":32,"./color-xform":128}],131:[function(i,e,t){"use strict";let n=i("./color-xform"),o=i("../simple/boolean-xform"),r=i("../simple/integer-xform"),s=i("../simple/string-xform"),a=i("./underline-xform"),l=i("../../../utils/under-dash"),d=i("../base-xform");class c extends d{constructor(h){super(),this.options=h||c.OPTIONS,this.map={b:{prop:"bold",xform:new o({tag:"b",attr:"val"})},i:{prop:"italic",xform:new o({tag:"i",attr:"val"})},u:{prop:"underline",xform:new a},charset:{prop:"charset",xform:new r({tag:"charset",attr:"val"})},color:{prop:"color",xform:new n},condense:{prop:"condense",xform:new o({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new o({tag:"extend",attr:"val"})},family:{prop:"family",xform:new r({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new o({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new s({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new s({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new o({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new o({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new r({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new s({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(h,f){let{map:p}=this;h.openNode(this.options.tagName),l.each(this.map,(m,g)=>{p[g].xform.render(h,f[m.prop])}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;if(this.map[h.name])return this.parser=this.map[h.name].xform,this.parser.parseOpen(h);switch(h.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser&&!this.parser.parseClose(h)){let f=this.map[h];return this.parser.model&&(this.model[f.prop]=this.parser.model),this.parser=void 0,!0}switch(h){case this.options.tagName:return!1;default:return!0}}}c.OPTIONS={tagName:"font",fontNameTag:"name"},e.exports=c},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(i,e,t){"use strict";let n=i("../../../utils/under-dash"),o=i("../../defaultnumformats"),r=i("../base-xform"),s=function(){let l={};return n.each(o,(d,c)=>{d.f&&(l[d.f]=parseInt(c,10))}),l}();class a extends r{constructor(d,c){super(),this.id=d,this.formatCode=c}get tag(){return"numFmt"}render(d,c){d.leafNode("numFmt",{numFmtId:c.id,formatCode:c.formatCode})}parseOpen(d){switch(d.name){case"numFmt":return this.model={id:parseInt(d.attributes.numFmtId,10),formatCode:d.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}a.getDefaultFmtId=function(l){return s[l]},a.getDefaultFmtCode=function(l){return o[l]&&o[l].f},e.exports=a},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(i,e,t){"use strict";let n=i("../base-xform"),o={boolean:(r,s)=>r===void 0?s:r};e.exports=class extends n{get tag(){return"protection"}render(r,s){r.addRollback(),r.openNode("protection");let a=!1;function l(d,c){c!==void 0&&(r.addAttribute(d,c),a=!0)}l("locked",o.boolean(s.locked,!0)?void 0:"0"),l("hidden",o.boolean(s.hidden,!1)?"1":void 0),r.closeNode(),a?r.commit():r.rollback()}parseOpen(r){let s={locked:r.attributes.locked!=="0",hidden:r.attributes.hidden==="1"},a=!s.locked||s.hidden;this.model=a?s:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(i,e,t){"use strict";let n=i("../base-xform"),o=i("./alignment-xform"),r=i("./protection-xform");e.exports=class extends n{constructor(s){super(),this.xfId=!(!s||!s.xfId),this.map={alignment:new o,protection:new r}}get tag(){return"xf"}render(s,a){s.openNode("xf",{numFmtId:a.numFmtId||0,fontId:a.fontId||0,fillId:a.fillId||0,borderId:a.borderId||0}),this.xfId&&s.addAttribute("xfId",a.xfId||0),a.numFmtId&&s.addAttribute("applyNumberFormat","1"),a.fontId&&s.addAttribute("applyFont","1"),a.fillId&&s.addAttribute("applyFill","1"),a.borderId&&s.addAttribute("applyBorder","1"),a.alignment&&s.addAttribute("applyAlignment","1"),a.protection&&s.addAttribute("applyProtection","1"),a.alignment&&this.map.alignment.render(s,a.alignment),a.protection&&this.map.protection.render(s,a.protection),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"xf":return this.model={numFmtId:parseInt(s.attributes.numFmtId,10),fontId:parseInt(s.attributes.fontId,10),fillId:parseInt(s.attributes.fillId,10),borderId:parseInt(s.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(s.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(s),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(s),!0;default:return!1}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):s!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(i,e,t){"use strict";let n=i("../../../doc/enums"),o=i("../../../utils/xml-stream"),r=i("../base-xform"),s=i("../static-xform"),a=i("../list-xform"),l=i("./font-xform"),d=i("./fill-xform"),c=i("./border-xform"),u=i("./numfmt-xform"),h=i("./style-xform"),f=i("./dxf-xform");class p extends r{constructor(g){super(),this.map={numFmts:new a({tag:"numFmts",count:!0,childXform:new u}),fonts:new a({tag:"fonts",count:!0,childXform:new l,$:{"x14ac:knownFonts":1}}),fills:new a({tag:"fills",count:!0,childXform:new d}),borders:new a({tag:"borders",count:!0,childXform:new c}),cellStyleXfs:new a({tag:"cellStyleXfs",count:!0,childXform:new h}),cellXfs:new a({tag:"cellXfs",count:!0,childXform:new h({xfId:!0})}),dxfs:new a({tag:"dxfs",always:!0,count:!0,childXform:new f}),numFmt:new u,font:new l,fill:new d,border:new c,style:new h({xfId:!0}),cellStyles:p.STATIC_XFORMS.cellStyles,tableStyles:p.STATIC_XFORMS.tableStyles,extLst:p.STATIC_XFORMS.extLst},g&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(g,b){b=b||this.model,g.openXml(o.StdDocAttributes),g.openNode("styleSheet",p.STYLESHEET_ATTRIBUTES),this.index?(b.numFmts&&b.numFmts.length&&(g.openNode("numFmts",{count:b.numFmts.length}),b.numFmts.forEach(x=>{g.writeXml(x)}),g.closeNode()),b.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),g.openNode("fonts",{count:b.fonts.length,"x14ac:knownFonts":1}),b.fonts.forEach(x=>{g.writeXml(x)}),g.closeNode(),g.openNode("fills",{count:b.fills.length}),b.fills.forEach(x=>{g.writeXml(x)}),g.closeNode(),g.openNode("borders",{count:b.borders.length}),b.borders.forEach(x=>{g.writeXml(x)}),g.closeNode(),this.map.cellStyleXfs.render(g,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),g.openNode("cellXfs",{count:b.styles.length}),b.styles.forEach(x=>{g.writeXml(x)}),g.closeNode()):(this.map.numFmts.render(g,b.numFmts),this.map.fonts.render(g,b.fonts),this.map.fills.render(g,b.fills),this.map.borders.render(g,b.borders),this.map.cellStyleXfs.render(g,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(g,b.styles)),p.STATIC_XFORMS.cellStyles.render(g),this.map.dxfs.render(g,b.dxfs),p.STATIC_XFORMS.tableStyles.render(g),p.STATIC_XFORMS.extLst.render(g),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;switch(g.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[g.name],this.parser&&this.parser.parseOpen(g),!0}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser)return this.parser.parseClose(g)||(this.parser=void 0),!0;switch(g){case"styleSheet":{this.model={};let b=(x,E)=>{E.model&&E.model.length&&(this.model[x]=E.model)};if(b("numFmts",this.map.numFmts),b("fonts",this.map.fonts),b("fills",this.map.fills),b("borders",this.map.borders),b("styles",this.map.cellXfs),b("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){let x=this.index.numFmt;this.model.numFmts.forEach(E=>{x[E.id]=E.formatCode})}return!1}default:return!0}}addStyleModel(g,b){if(!g)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(g))return this.weakMap.get(g);let x={};if(b=b||n.ValueType.Number,g.numFmt)x.numFmtId=this._addNumFmtStr(g.numFmt);else switch(b){case n.ValueType.Number:x.numFmtId=this._addNumFmtStr("General");break;case n.ValueType.Date:x.numFmtId=this._addNumFmtStr("mm-dd-yy")}g.font&&(x.fontId=this._addFont(g.font)),g.border&&(x.borderId=this._addBorder(g.border)),g.fill&&(x.fillId=this._addFill(g.fill)),g.alignment&&(x.alignment=g.alignment),g.protection&&(x.protection=g.protection);let E=this._addStyle(x);return this.weakMap&&this.weakMap.set(g,E),E}getStyleModel(g){let b=this.model.styles[g];if(!b)return null;let x=this.index.model[g];if(x)return x;if(x=this.index.model[g]={},b.numFmtId){let D=this.index.numFmt[b.numFmtId]||u.getDefaultFmtCode(b.numFmtId);D&&(x.numFmt=D)}function E(D,L,k){if(k||k===0){let R=L[k];R&&(x[D]=R)}}return E("font",this.model.fonts,b.fontId),E("border",this.model.borders,b.borderId),E("fill",this.model.fills,b.fillId),b.alignment&&(x.alignment=b.alignment),b.protection&&(x.protection=b.protection),x}addDxfStyle(g){return g.numFmt&&(g.numFmtId=this._addNumFmtStr(g.numFmt)),this.model.dxfs.push(g),this.model.dxfs.length-1}getDxfStyle(g){return this.model.dxfs[g]}_addStyle(g){let b=this.map.style.toXml(g),x=this.index.style[b];return x===void 0&&(x=this.index.style[b]=this.model.styles.length,this.model.styles.push(b)),x}_addNumFmtStr(g){let b=u.getDefaultFmtId(g);if(b!==void 0||(b=this.index.numFmt[g],b!==void 0))return b;b=this.index.numFmt[g]=164+this.model.numFmts.length;let x=this.map.numFmt.toXml({id:b,formatCode:g});return this.model.numFmts.push(x),b}_addFont(g){let b=this.map.font.toXml(g),x=this.index.font[b];return x===void 0&&(x=this.index.font[b]=this.model.fonts.length,this.model.fonts.push(b)),x}_addBorder(g){let b=this.map.border.toXml(g),x=this.index.border[b];return x===void 0&&(x=this.index.border[b]=this.model.borders.length,this.model.borders.push(b)),x}_addFill(g){let b=this.map.fill.toXml(g),x=this.index.fill[b];return x===void 0&&(x=this.index.fill[b]=this.model.fills.length,this.model.fills.push(b)),x}}p.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},p.STATIC_XFORMS={cellStyles:new s({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new s({tag:"dxfs",$:{count:0}}),tableStyles:new s({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new s({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},p.Mock=class extends p{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(m){return m.autodrain(),Promise.resolve()}addStyleModel(m,g){switch(g){case n.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){let m={numFmtId:u.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(m)}return this._dateStyleId}getStyleModel(){return{}}},e.exports=p},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(i,e,t){"use strict";let n=i("../base-xform");class o extends n{constructor(s){super(),this.model=s}get tag(){return"u"}render(s,a){if((a=a||this.model)===!0)s.leafNode("u");else{let l=o.Attributes[a];l&&s.leafNode("u",l)}}parseOpen(s){s.name==="u"&&(this.model=s.attributes.val||!0)}parseText(){}parseClose(){return!1}}o.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},e.exports=o},{"../base-xform":32}],137:[function(i,e,t){"use strict";let n=i("../base-xform"),o=i("./filter-column-xform");e.exports=class extends n{constructor(){super(),this.map={filterColumn:new o}}get tag(){return"autoFilter"}prepare(r){r.columns.forEach((s,a)=>{this.map.filterColumn.prepare(s,{index:a})})}render(r,s){return r.openNode(this.tag,{ref:s.autoFilterRef}),s.columns.forEach(a=>{this.map.filterColumn.render(r,a)}),r.closeNode(),!0}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case this.tag:return this.model={autoFilterRef:r.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[r.name],this.parser)return this.parseOpen(r),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(r))}}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(r){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+r)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{get tag(){return"customFilter"}render(o,r){o.leafNode(this.tag,{val:r.val,operator:r.operator})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val,operator:o.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(i,e,t){"use strict";let n=i("../base-xform"),o=i("../list-xform"),r=i("./custom-filter-xform"),s=i("./filter-xform");e.exports=class extends n{constructor(){super(),this.map={customFilters:new o({tag:"customFilters",count:!1,empty:!0,childXform:new r}),filters:new o({tag:"filters",count:!1,empty:!0,childXform:new s})}}get tag(){return"filterColumn"}prepare(a,l){a.colId=l.index.toString()}render(a,l){return l.customFilters?(a.openNode(this.tag,{colId:l.colId,hiddenButton:l.filterButton?"0":"1"}),this.map.customFilters.render(a,l.customFilters),a.closeNode(),!0):(a.leafNode(this.tag,{colId:l.colId,hiddenButton:l.filterButton?"0":"1"}),!0)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;let{attributes:l}=a;switch(a.name){case this.tag:return this.model={filterButton:l.hiddenButton==="0"},!0;default:if(this.parser=this.map[a.name],this.parser)return this.parseOpen(a),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{get tag(){return"filter"}render(o,r){o.leafNode(this.tag,{val:r.val})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{get tag(){return"tableColumn"}prepare(o,r){o.id=r.index+1}render(o,r){return o.leafNode(this.tag,{id:r.id.toString(),name:r.name,totalsRowLabel:r.totalsRowLabel,totalsRowFunction:r.totalsRowFunction,dxfId:r.dxfId}),!0}parseOpen(o){if(o.name===this.tag){let{attributes:r}=o;return this.model={name:r.name,totalsRowLabel:r.totalsRowLabel,totalsRowFunction:r.totalsRowFunction,dxfId:r.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(i,e,t){"use strict";let n=i("../base-xform");e.exports=class extends n{get tag(){return"tableStyleInfo"}render(o,r){return o.leafNode(this.tag,{name:r.theme?r.theme:void 0,showFirstColumn:r.showFirstColumn?"1":"0",showLastColumn:r.showLastColumn?"1":"0",showRowStripes:r.showRowStripes?"1":"0",showColumnStripes:r.showColumnStripes?"1":"0"}),!0}parseOpen(o){if(o.name===this.tag){let{attributes:r}=o;return this.model={theme:r.name?r.name:null,showFirstColumn:r.showFirstColumn==="1",showLastColumn:r.showLastColumn==="1",showRowStripes:r.showRowStripes==="1",showColumnStripes:r.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(i,e,t){"use strict";let n=i("../../../utils/xml-stream"),o=i("../base-xform"),r=i("../list-xform"),s=i("./auto-filter-xform"),a=i("./table-column-xform"),l=i("./table-style-info-xform");class d extends o{constructor(){super(),this.map={autoFilter:new s,tableColumns:new r({tag:"tableColumns",count:!0,empty:!0,childXform:new a}),tableStyleInfo:new l}}prepare(u,h){this.map.autoFilter.prepare(u),this.map.tableColumns.prepare(u.columns,h)}get tag(){return"table"}render(u,h){u.openXml(n.StdDocAttributes),u.openNode(this.tag,ci(Le({},d.TABLE_ATTRIBUTES),{id:h.id,name:h.name,displayName:h.displayName||h.name,ref:h.tableRef,totalsRowCount:h.totalsRow?"1":void 0,totalsRowShown:h.totalsRow?void 0:"1",headerRowCount:h.headerRow?"1":"0"})),this.map.autoFilter.render(u,h),this.map.tableColumns.render(u,h.columns),this.map.tableStyleInfo.render(u,h.style),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;let{name:h,attributes:f}=u;switch(h){case this.tag:this.reset(),this.model={name:f.name,displayName:f.displayName||f.name,tableRef:f.ref,totalsRow:f.totalsRowCount==="1",headerRow:f.headerRowCount==="1"};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((h,f)=>{this.model.columns[f].filterButton=h.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(u,h){u.columns.forEach(f=>{f.dxfId!==void 0&&(f.style=h.styles.getDxfStyle(f.dxfId))})}}d.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},e.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(i,e,t){(function(n,o){(function(){"use strict";let r=i("fs"),s=i("jszip"),{PassThrough:a}=i("readable-stream"),l=i("../utils/zip-stream"),d=i("../utils/stream-buf"),c=i("../utils/utils"),u=i("../utils/xml-stream"),{bufferToString:h}=i("../utils/browser-buffer-decode"),f=i("./xform/style/styles-xform"),p=i("./xform/core/core-xform"),m=i("./xform/strings/shared-strings-xform"),g=i("./xform/core/relationships-xform"),b=i("./xform/core/content-types-xform"),x=i("./xform/core/app-xform"),E=i("./xform/book/workbook-xform"),D=i("./xform/sheet/worksheet-xform"),L=i("./xform/drawing/drawing-xform"),k=i("./xform/table/table-xform"),R=i("./xform/comment/comments-xform"),N=i("./xform/comment/vml-notes-xform"),z=i("./xml/theme1");class V{constructor(T){this.workbook=T}readFile(T,B){return ze(this,null,function*(){if(!(yield c.fs.exists(T)))throw new Error("File not found: "+T);let _=r.createReadStream(T);try{let v=yield this.read(_,B);return _.close(),v}catch(v){throw _.close(),v}})}parseRels(T){return new g().parseStream(T)}parseWorkbook(T){return new E().parseStream(T)}parseSharedStrings(T){return new m().parseStream(T)}reconcile(T,B){let _=new E,v=new D(B),C=new L,y=new k;_.reconcile(T);let w={media:T.media,mediaIndex:T.mediaIndex};Object.keys(T.drawings).forEach(W=>{let G=T.drawings[W],K=T.drawingRels[W];K&&(w.rels=K.reduce((F,Y)=>(F[Y.Id]=Y,F),{}),(G.anchors||[]).forEach(F=>{let Y=F.picture&&F.picture.hyperlinks;Y&&w.rels[Y.rId]&&(Y.hyperlink=w.rels[Y.rId].Target,delete Y.rId)}),C.reconcile(G,w))});let O={styles:T.styles};Object.values(T.tables).forEach(W=>{y.reconcile(W,O)});let P={styles:T.styles,sharedStrings:T.sharedStrings,media:T.media,mediaIndex:T.mediaIndex,date1904:T.properties&&T.properties.date1904,drawings:T.drawings,comments:T.comments,tables:T.tables,vmlDrawings:T.vmlDrawings};T.worksheets.forEach(W=>{W.relationships=T.worksheetRels[W.sheetNo],v.reconcile(W,P)}),delete T.worksheetHash,delete T.worksheetRels,delete T.globalRels,delete T.sharedStrings,delete T.workbookRels,delete T.sheetDefs,delete T.styles,delete T.mediaIndex,delete T.drawings,delete T.drawingRels,delete T.vmlDrawings}_processWorksheetEntry(T,B,_,v,C){return ze(this,null,function*(){let y=new D(v),w=yield y.parseStream(T);w.sheetNo=_,B.worksheetHash[C]=w,B.worksheets.push(w)})}_processCommentEntry(T,B,_){return ze(this,null,function*(){let v=new R,C=yield v.parseStream(T);B.comments[`../${_}.xml`]=C})}_processTableEntry(T,B,_){return ze(this,null,function*(){let v=new k,C=yield v.parseStream(T);B.tables[`../tables/${_}.xml`]=C})}_processWorksheetRelsEntry(T,B,_){return ze(this,null,function*(){let v=new g,C=yield v.parseStream(T);B.worksheetRels[_]=C})}_processMediaEntry(T,B,_){return ze(this,null,function*(){let v=_.lastIndexOf(".");if(v>=1){let C=_.substr(v+1),y=_.substr(0,v);yield new Promise((w,O)=>{let P=new d;P.on("finish",()=>{B.mediaIndex[_]=B.media.length,B.mediaIndex[y]=B.media.length;let W={type:"image",name:y,extension:C,buffer:P.toBuffer()};B.media.push(W),w()}),T.on("error",W=>{O(W)}),T.pipe(P)})}})}_processDrawingEntry(T,B,_){return ze(this,null,function*(){let v=new L,C=yield v.parseStream(T);B.drawings[_]=C})}_processDrawingRelsEntry(T,B,_){return ze(this,null,function*(){let v=new g,C=yield v.parseStream(T);B.drawingRels[_]=C})}_processVmlDrawingEntry(T,B,_){return ze(this,null,function*(){let v=new N,C=yield v.parseStream(T);B.vmlDrawings[`../drawings/${_}.vml`]=C})}_processThemeEntry(T,B,_){return ze(this,null,function*(){yield new Promise((v,C)=>{let y=new d;T.on("error",C),y.on("error",C),y.on("finish",()=>{B.themes[_]=y.read().toString(),v()}),T.pipe(y)})})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}read(T,B){return ze(this,null,function*(){!T[Symbol.asyncIterator]&&T.pipe&&(T=T.pipe(new a));let _=[];try{for(var v=Af(T),C,y,w;C=!(y=yield v.next()).done;C=!1){let O=y.value;_.push(O)}}catch{w=[y]}finally{try{C&&(y=v.return)&&(yield y.call(v))}finally{if(w)throw w[0]}}return this.load(o.concat(_),B)})}load(T,B){return ze(this,null,function*(){let _;_=B&&B.base64?o.from(T.toString(),"base64"):T;let v={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},C=yield s.loadAsync(_);for(let y of Object.values(C.files))if(!y.dir){let w,O=y.name;if(O[0]==="/"&&(O=O.substr(1)),O.match(/xl\/media\//)||O.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))w=new a,w.write(yield y.async("nodebuffer"));else{let P;w=new a({writableObjectMode:!0,readableObjectMode:!0}),P=n.browser?h(yield y.async("nodebuffer")):yield y.async("string");let W=16384;for(let G=0;G<P.length;G+=W)w.write(P.substring(G,G+W))}switch(w.end(),O){case"_rels/.rels":v.globalRels=yield this.parseRels(w);break;case"xl/workbook.xml":{let P=yield this.parseWorkbook(w);v.sheets=P.sheets,v.definedNames=P.definedNames,v.views=P.views,v.properties=P.properties,v.calcProperties=P.calcProperties;break}case"xl/_rels/workbook.xml.rels":v.workbookRels=yield this.parseRels(w);break;case"xl/sharedStrings.xml":v.sharedStrings=new m,yield v.sharedStrings.parseStream(w);break;case"xl/styles.xml":v.styles=new f,yield v.styles.parseStream(w);break;case"docProps/app.xml":{let P=new x,W=yield P.parseStream(w);v.company=W.company,v.manager=W.manager;break}case"docProps/core.xml":{let P=new p,W=yield P.parseStream(w);Object.assign(v,W);break}default:{let P=O.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(P){yield this._processWorksheetEntry(w,v,P[1],B,O);break}if(P=O.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),P){yield this._processWorksheetRelsEntry(w,v,P[1]);break}if(P=O.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),P){yield this._processThemeEntry(w,v,P[1]);break}if(P=O.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),P){yield this._processMediaEntry(w,v,P[1]);break}if(P=O.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),P){yield this._processDrawingEntry(w,v,P[1]);break}if(P=O.match(/xl\/(comments\d+)[.]xml/),P){yield this._processCommentEntry(w,v,P[1]);break}if(P=O.match(/xl\/tables\/(table\d+)[.]xml/),P){yield this._processTableEntry(w,v,P[1]);break}if(P=O.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),P){yield this._processDrawingRelsEntry(w,v,P[1]);break}if(P=O.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),P){yield this._processVmlDrawingEntry(w,v,P[1]);break}}}}return this.reconcile(v,B),this.workbook.model=v,this.workbook})}addMedia(T,B){return ze(this,null,function*(){yield Promise.all(B.media.map(_=>ze(this,null,function*(){if(_.type==="image"){let v=`xl/media/${_.name}.${_.extension}`;if(_.filename){let C=yield function(y,w){return new Promise((O,P)=>{r.readFile(y,w,(W,G)=>{W?P(W):O(G)})})}(_.filename);return T.append(C,{name:v})}if(_.buffer)return T.append(_.buffer,{name:v});if(_.base64){let C=_.base64,y=C.substring(C.indexOf(",")+1);return T.append(y,{name:v,base64:!0})}}throw new Error("Unsupported media")})))})}addDrawings(T,B){let _=new L,v=new g;B.worksheets.forEach(C=>{let{drawing:y}=C;if(y){_.prepare(y,{});let w=_.toXml(y);T.append(w,{name:`xl/drawings/${y.name}.xml`}),w=v.toXml(y.rels),T.append(w,{name:`xl/drawings/_rels/${y.name}.xml.rels`})}})}addTables(T,B){let _=new k;B.worksheets.forEach(v=>{let{tables:C}=v;C.forEach(y=>{_.prepare(y,{});let w=_.toXml(y);T.append(w,{name:"xl/tables/"+y.target})})})}addContentTypes(T,B){return ze(this,null,function*(){let _=new b().toXml(B);T.append(_,{name:"[Content_Types].xml"})})}addApp(T,B){return ze(this,null,function*(){let _=new x().toXml(B);T.append(_,{name:"docProps/app.xml"})})}addCore(T,B){return ze(this,null,function*(){let _=new p;T.append(_.toXml(B),{name:"docProps/core.xml"})})}addThemes(T,B){return ze(this,null,function*(){let _=B.themes||{theme1:z};Object.keys(_).forEach(v=>{let C=_[v],y=`xl/theme/${v}.xml`;T.append(C,{name:y})})})}addOfficeRels(T){return ze(this,null,function*(){let B=new g().toXml([{Id:"rId1",Type:V.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:V.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:V.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);T.append(B,{name:"_rels/.rels"})})}addWorkbookRels(T,B){return ze(this,null,function*(){let _=1,v=[{Id:"rId"+_++,Type:V.RelType.Styles,Target:"styles.xml"},{Id:"rId"+_++,Type:V.RelType.Theme,Target:"theme/theme1.xml"}];B.sharedStrings.count&&v.push({Id:"rId"+_++,Type:V.RelType.SharedStrings,Target:"sharedStrings.xml"}),B.worksheets.forEach(y=>{y.rId="rId"+_++,v.push({Id:y.rId,Type:V.RelType.Worksheet,Target:`worksheets/sheet${y.id}.xml`})});let C=new g().toXml(v);T.append(C,{name:"xl/_rels/workbook.xml.rels"})})}addSharedStrings(T,B){return ze(this,null,function*(){B.sharedStrings&&B.sharedStrings.count&&T.append(B.sharedStrings.xml,{name:"xl/sharedStrings.xml"})})}addStyles(T,B){return ze(this,null,function*(){let{xml:_}=B.styles;_&&T.append(_,{name:"xl/styles.xml"})})}addWorkbook(T,B){return ze(this,null,function*(){let _=new E;T.append(_.toXml(B),{name:"xl/workbook.xml"})})}addWorksheets(T,B){return ze(this,null,function*(){let _=new D,v=new g,C=new R,y=new N;B.worksheets.forEach(w=>{let O=new u;_.render(O,w),T.append(O.xml,{name:`xl/worksheets/sheet${w.id}.xml`}),w.rels&&w.rels.length&&(O=new u,v.render(O,w.rels),T.append(O.xml,{name:`xl/worksheets/_rels/sheet${w.id}.xml.rels`})),w.comments.length>0&&(O=new u,C.render(O,w),T.append(O.xml,{name:`xl/comments${w.id}.xml`}),O=new u,y.render(O,w),T.append(O.xml,{name:`xl/drawings/vmlDrawing${w.id}.vml`}))})})}_finalize(T){return new Promise((B,_)=>{T.on("finish",()=>{B(this)}),T.on("error",_),T.finalize()})}prepareModel(T,B){T.creator=T.creator||"ExcelJS",T.lastModifiedBy=T.lastModifiedBy||"ExcelJS",T.created=T.created||new Date,T.modified=T.modified||new Date,T.useSharedStrings=B.useSharedStrings===void 0||B.useSharedStrings,T.useStyles=B.useStyles===void 0||B.useStyles,T.sharedStrings=new m,T.styles=T.useStyles?new f(!0):new f.Mock;let _=new E,v=new D;_.prepare(T);let C={sharedStrings:T.sharedStrings,styles:T.styles,date1904:T.properties.date1904,drawingsCount:0,media:T.media};C.drawings=T.drawings=[],C.commentRefs=T.commentRefs=[];let y=0;T.tables=[],T.worksheets.forEach(w=>{w.tables.forEach(O=>{y++,O.target=`table${y}.xml`,O.id=y,T.tables.push(O)}),v.prepare(w,C)})}write(T,B){return ze(this,null,function*(){B=B||{};let{model:_}=this.workbook,v=new l.ZipWriter(B.zip);return v.pipe(T),this.prepareModel(_,B),yield this.addContentTypes(v,_),yield this.addOfficeRels(v,_),yield this.addWorkbookRels(v,_),yield this.addWorksheets(v,_),yield this.addSharedStrings(v,_),yield this.addDrawings(v,_),yield this.addTables(v,_),yield Promise.all([this.addThemes(v,_),this.addStyles(v,_)]),yield this.addMedia(v,_),yield Promise.all([this.addApp(v,_),this.addCore(v,_)]),yield this.addWorkbook(v,_),this._finalize(v)})}writeFile(T,B){let _=r.createWriteStream(T);return new Promise((v,C)=>{_.on("finish",()=>{v()}),_.on("error",y=>{C(y)}),this.write(_,B).then(()=>{_.end()}).catch(y=>{C(y)})})}writeBuffer(T){return ze(this,null,function*(){let B=new d;return yield this.write(B,T),B.read()})}}V.RelType=i("./rel-type"),e.exports=V}).call(this)}).call(this,i("_process"),i("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(i,e,t){"use strict";e.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/> <a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/> <a:font script="Hans" typeface="\u5B8B\u4F53"/> <a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/> <a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/> <a:font script="Hans" typeface="\u5B8B\u4F53"/> <a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(i,e,t){(function(n){(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CsvFormatterStream=void 0;let o=i("stream"),r=i("./formatter");class s extends o.Transform{constructor(l){super({writableObjectMode:l.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=l,this.rowFormatter=new r.RowFormatter(l),this.hasWrittenBOM=!l.writeBOM}transform(l){return this.rowFormatter.rowTransform=l,this}_transform(l,d,c){let u=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(l,(h,f)=>h?(u=!0,c(h)):(f&&f.forEach(p=>{this.push(n.from(p,"utf8"))}),u=!0,c()))}catch(h){if(u)throw h;c(h)}}_flush(l){this.rowFormatter.finish((d,c)=>d?l(d):(c&&c.forEach(u=>{this.push(n.from(u,"utf8"))}),l()))}}t.CsvFormatterStream=s}).call(this)}).call(this,i("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FormatterOptions=void 0,t.FormatterOptions=class{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var o;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,n||{}),n?.quoteHeaders===void 0&&(this.quoteHeaders=this.quoteColumns),n?.quote===!0?this.quote='"':n?.quote===!1&&(this.quote=""),typeof n?.escape!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((o=n.writeHeaders)===null||o===void 0||o),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(i,e,t){"use strict";var n=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(t,"__esModule",{value:!0}),t.FieldFormatter=void 0;let o=n(i("lodash.isboolean")),r=n(i("lodash.isnil")),s=n(i("lodash.escaperegexp"));t.FieldFormatter=class{constructor(a){this._headers=null,this.formatterOptions=a,a.headers!==null&&(this.headers=a.headers),this.REPLACE_REGEXP=new RegExp(a.quote,"g");let l=`[${a.delimiter}${s.default(a.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(l)}set headers(a){this._headers=a}shouldQuote(a,l){let d=l?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return o.default(d)?d:Array.isArray(d)?d[a]:this._headers!==null&&d[this._headers[a]]}format(a,l,d){let c=(""+(r.default(a)?"":a)).replace(/\0/g,""),{formatterOptions:u}=this;return u.quote!==""&&c.indexOf(u.quote)!==-1?this.quoteField(c.replace(this.REPLACE_REGEXP,u.escapedQuote)):c.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(l,d)?this.quoteField(c):c}quoteField(a){let{quote:l}=this.formatterOptions;return`${l}${a}${l}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(i,e,t){"use strict";var n=function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0}),t.RowFormatter=void 0;let o=n(i("lodash.isfunction")),r=n(i("lodash.isequal")),s=i("./FieldFormatter"),a=i("../types");class l{constructor(c){this.rowCount=0,this.formatterOptions=c,this.fieldFormatter=new s.FieldFormatter(c),this.headers=c.headers,this.shouldWriteHeaders=c.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),c.transform&&(this.rowTransform=c.transform)}static isRowHashArray(c){return!!Array.isArray(c)&&Array.isArray(c[0])&&c[0].length===2}static isRowArray(c){return Array.isArray(c)&&!this.isRowHashArray(c)}static gatherHeaders(c){return l.isRowHashArray(c)?c.map(u=>u[0]):Array.isArray(c)?c:Object.keys(c)}static createTransform(c){return a.isSyncTransform(c)?(u,h)=>{let f=null;try{f=c(u)}catch(p){return h(p)}return h(null,f)}:(u,h)=>{c(u,h)}}set rowTransform(c){if(!o.default(c))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(c)}format(c,u){this.callTransformer(c,(h,f)=>{if(h)return u(h);if(!c)return u(null);let p=[];if(f){let{shouldFormatColumns:m,headers:g}=this.checkHeaders(f);if(this.shouldWriteHeaders&&g&&!this.hasWrittenHeaders&&(p.push(this.formatColumns(g,!0)),this.hasWrittenHeaders=!0),m){let b=this.gatherColumns(f);p.push(this.formatColumns(b,!1))}}return u(null,p)})}finish(c){let u=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return c(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));u.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&u.push(this.formatterOptions.rowDelimiter),c(null,u)}checkHeaders(c){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};let u=l.gatherHeaders(c);return this.headers=u,this.fieldFormatter.headers=u,this.shouldWriteHeaders?{shouldFormatColumns:!r.default(u,c),headers:u}:{shouldFormatColumns:!0,headers:null}}gatherColumns(c){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(c)?l.isRowHashArray(c)?this.headers.map((u,h)=>{let f=c[h];return f?f[1]:""}):l.isRowArray(c)&&!this.shouldWriteHeaders?c:this.headers.map((u,h)=>c[h]):this.headers.map(u=>c[u])}callTransformer(c,u){return this._rowTransform?this._rowTransform(c,u):u(null,c)}formatColumns(c,u){let h=c.map((p,m)=>this.fieldFormatter.format(p,m,u)).join(this.formatterOptions.delimiter),{rowCount:f}=this;return this.rowCount+=1,f?[this.formatterOptions.rowDelimiter,h].join(""):h}}t.RowFormatter=l},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldFormatter=t.RowFormatter=void 0;var n=i("./RowFormatter");Object.defineProperty(t,"RowFormatter",{enumerable:!0,get:function(){return n.RowFormatter}});var o=i("./FieldFormatter");Object.defineProperty(t,"FieldFormatter",{enumerable:!0,get:function(){return o.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(i,e,t){(function(n){(function(){"use strict";var o=Object.create?function(m,g,b,x){x===void 0&&(x=b),Object.defineProperty(m,x,{enumerable:!0,get:function(){return g[b]}})}:function(m,g,b,x){x===void 0&&(x=b),m[x]=g[b]},r=Object.create?function(m,g){Object.defineProperty(m,"default",{enumerable:!0,value:g})}:function(m,g){m.default=g},s=function(m){if(m&&m.__esModule)return m;var g={};if(m!=null)for(var b in m)b!=="default"&&Object.prototype.hasOwnProperty.call(m,b)&&o(g,m,b);return r(g,m),g},a=function(m,g){for(var b in m)b==="default"||Object.prototype.hasOwnProperty.call(g,b)||o(g,m,b)};Object.defineProperty(t,"__esModule",{value:!0}),t.writeToPath=t.writeToString=t.writeToBuffer=t.writeToStream=t.write=t.format=t.FormatterOptions=t.CsvFormatterStream=void 0;let l=i("util"),d=i("stream"),c=s(i("fs")),u=i("./FormatterOptions"),h=i("./CsvFormatterStream");a(i("./types"),t);var f=i("./CsvFormatterStream");Object.defineProperty(t,"CsvFormatterStream",{enumerable:!0,get:function(){return f.CsvFormatterStream}});var p=i("./FormatterOptions");Object.defineProperty(t,"FormatterOptions",{enumerable:!0,get:function(){return p.FormatterOptions}}),t.format=m=>new h.CsvFormatterStream(new u.FormatterOptions(m)),t.write=(m,g)=>{let b=t.format(g),x=l.promisify((E,D)=>{b.write(E,void 0,D)});return m.reduce((E,D)=>E.then(()=>x(D)),Promise.resolve()).then(()=>b.end()).catch(E=>{b.emit("error",E)}),b},t.writeToStream=(m,g,b)=>t.write(g,b).pipe(m),t.writeToBuffer=function(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=[],x=new d.Writable({write(E,D,L){b.push(E),L()}});return new Promise((E,D)=>{x.on("error",D).on("finish",()=>E(n.concat(b))),t.write(m,g).pipe(x)})},t.writeToString=(m,g)=>t.writeToBuffer(m,g).then(b=>b.toString()),t.writeToPath=(m,g,b)=>{let x=c.createWriteStream(m,{encoding:"utf8"});return t.write(g,b).pipe(x)}}).call(this)}).call(this,i("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSyncTransform=void 0,t.isSyncTransform=n=>n.length===1},{}],153:[function(i,e,t){(function(n){(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CsvParserStream=void 0;let o=i("string_decoder"),r=i("stream"),s=i("./transforms"),a=i("./parser");class l extends r.Transform{constructor(c){super({objectMode:c.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=c,this.parser=new a.Parser(c),this.headerTransformer=new s.HeaderTransformer(c),this.decoder=new o.StringDecoder(c.encoding),this.rowTransformerValidator=new s.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(c){return this.rowTransformerValidator.rowTransform=c,this}validate(c){return this.rowTransformerValidator.rowValidator=c,this}emit(c){if(c==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var u=arguments.length,h=new Array(u>1?u-1:0),f=1;f<u;f++)h[f-1]=arguments[f];return super.emit(c,...h)}_transform(c,u,h){if(this.hasHitRowLimit)return h();let f=l.wrapDoneCallback(h);try{let{lines:p}=this,m=p+this.decoder.write(c),g=this.parse(m,!0);return this.processRows(g,f)}catch(p){return f(p)}}_flush(c){let u=l.wrapDoneCallback(c);if(this.hasHitRowLimit)return u();try{let h=this.lines+this.decoder.end(),f=this.parse(h,!1);return this.processRows(f,u)}catch(h){return u(h)}}parse(c,u){if(!c)return[];let{line:h,rows:f}=this.parser.parse(c,u);return this.lines=h,f}processRows(c,u){let h=c.length,f=p=>{let m=x=>x?u(x):p%100!=0?f(p+1):void n(()=>f(p+1));if(this.checkAndEmitHeaders(),p>=h||this.hasHitRowLimit)return u();if(this.parsedLineCount+=1,this.shouldSkipLine)return m();let g=c[p];this.rowCount+=1,this.parsedRowCount+=1;let b=this.rowCount;return this.transformRow(g,(x,E)=>{if(x)return this.rowCount-=1,m(x);if(!E)return m(new Error("expected transform result"));if(E.isValid){if(E.row)return this.pushRow(E.row,m)}else this.emit("data-invalid",E.row,b,E.reason);return m()})};f(0)}transformRow(c,u){try{this.headerTransformer.transform(c,(h,f)=>h?u(h):f?f.isValid?f.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(f.row,u):this.skipRow(u):(this.rowCount-=1,this.parsedRowCount-=1,u(null,{row:null,isValid:!0})):this.shouldEmitRows?u(null,{isValid:!1,row:c}):this.skipRow(u):u(new Error("Expected result from header transform")))}catch(h){u(h)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(c){return this.rowCount-=1,c(null,{row:null,isValid:!0})}pushRow(c,u){try{this.parserOptions.objectMode?this.push(c):this.push(JSON.stringify(c)),u()}catch(h){u(h)}}static wrapDoneCallback(c){let u=!1;return function(h){if(h){if(u)throw h;return u=!0,void c(h)}for(var f=arguments.length,p=new Array(f>1?f-1:0),m=1;m<f;m++)p[m-1]=arguments[m];c(...p)}}}t.CsvParserStream=l}).call(this)}).call(this,i("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(i,e,t){"use strict";var n=function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(t,"__esModule",{value:!0}),t.ParserOptions=void 0;let o=n(i("lodash.escaperegexp")),r=n(i("lodash.isnil"));t.ParserOptions=class{constructor(s){var a;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,s||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=o.default(this.delimiter),this.escapeChar=(a=this.escape)!==null&&a!==void 0?a:this.quote,this.supportsComments=!r.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(i,e,t){"use strict";var n=Object.create?function(f,p,m,g){g===void 0&&(g=m),Object.defineProperty(f,g,{enumerable:!0,get:function(){return p[m]}})}:function(f,p,m,g){g===void 0&&(g=m),f[g]=p[m]},o=Object.create?function(f,p){Object.defineProperty(f,"default",{enumerable:!0,value:p})}:function(f,p){f.default=p},r=function(f){if(f&&f.__esModule)return f;var p={};if(f!=null)for(var m in f)m!=="default"&&Object.prototype.hasOwnProperty.call(f,m)&&n(p,f,m);return o(p,f),p},s=function(f,p){for(var m in f)m==="default"||Object.prototype.hasOwnProperty.call(p,m)||n(p,f,m)};Object.defineProperty(t,"__esModule",{value:!0}),t.parseString=t.parseFile=t.parseStream=t.parse=t.ParserOptions=t.CsvParserStream=void 0;let a=r(i("fs")),l=i("stream"),d=i("./ParserOptions"),c=i("./CsvParserStream");s(i("./types"),t);var u=i("./CsvParserStream");Object.defineProperty(t,"CsvParserStream",{enumerable:!0,get:function(){return u.CsvParserStream}});var h=i("./ParserOptions");Object.defineProperty(t,"ParserOptions",{enumerable:!0,get:function(){return h.ParserOptions}}),t.parse=f=>new c.CsvParserStream(new d.ParserOptions(f)),t.parseStream=(f,p)=>f.pipe(new c.CsvParserStream(new d.ParserOptions(p))),t.parseFile=function(f){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a.createReadStream(f).pipe(new c.CsvParserStream(new d.ParserOptions(p)))},t.parseString=(f,p)=>{let m=new l.Readable;return m.push(f),m.push(null),m.pipe(new c.CsvParserStream(new d.ParserOptions(p)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;let n=i("./Scanner"),o=i("./RowParser"),r=i("./Token");class s{constructor(l){this.parserOptions=l,this.rowParser=new o.RowParser(this.parserOptions)}static removeBOM(l){return l&&l.charCodeAt(0)===65279?l.slice(1):l}parse(l,d){let c=new n.Scanner({line:s.removeBOM(l),parserOptions:this.parserOptions,hasMoreData:d});return this.parserOptions.supportsComments?this.parseWithComments(c):this.parseWithoutComments(c)}parseWithoutComments(l){let d=[],c=!0;for(;c;)c=this.parseRow(l,d);return{line:l.line,rows:d}}parseWithComments(l){let{parserOptions:d}=this,c=[];for(let u=l.nextCharacterToken;u!==null;u=l.nextCharacterToken)if(r.Token.isTokenComment(u,d)){if(l.advancePastLine()===null)return{line:l.lineFromCursor,rows:c};if(!l.hasMoreCharacters)return{line:l.lineFromCursor,rows:c};l.truncateToCursor()}else if(!this.parseRow(l,c))break;return{line:l.line,rows:c}}parseRow(l,d){if(!l.nextNonSpaceToken)return!1;let c=this.rowParser.parse(l);return c!==null&&(this.parserOptions.ignoreEmpty&&o.RowParser.isEmptyRow(c)||d.push(c),!0)}}t.Parser=s},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RowParser=void 0;let n=i("./column"),o=i("./Token");t.RowParser=class{constructor(r){this.parserOptions=r,this.columnParser=new n.ColumnParser(r)}static isEmptyRow(r){return r.join("").replace(/\s+/g,"")===""}parse(r){let{parserOptions:s}=this,{hasMoreData:a}=r,l=r,d=[],c=this.getStartToken(l,d);for(;c;){if(o.Token.isTokenRowDelimiter(c))return l.advancePastToken(c),!l.hasMoreCharacters&&o.Token.isTokenCarriageReturn(c,s)&&a?null:(l.truncateToCursor(),d);if(!this.shouldSkipColumnParse(l,c,d)){let u=this.columnParser.parse(l);if(u===null)return null;d.push(u)}c=l.nextNonSpaceToken}return a?null:(l.truncateToCursor(),d)}getStartToken(r,s){let a=r.nextNonSpaceToken;return a!==null&&o.Token.isTokenDelimiter(a,this.parserOptions)?(s.push(""),r.nextNonSpaceToken):a}shouldSkipColumnParse(r,s,a){let{parserOptions:l}=this;if(o.Token.isTokenDelimiter(s,l)){r.advancePastToken(s);let d=r.nextCharacterToken;if(!r.hasMoreCharacters||d!==null&&o.Token.isTokenRowDelimiter(d)||d!==null&&o.Token.isTokenDelimiter(d,l))return a.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scanner=void 0;let n=i("./Token"),o=/((?:\r\n)|\n|\r)/;t.Scanner=class{constructor(r){this.cursor=0,this.line=r.line,this.lineLength=this.line.length,this.parserOptions=r.parserOptions,this.hasMoreData=r.hasMoreData,this.cursor=r.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){let{lineFromCursor:r}=this,s=this.parserOptions.NEXT_TOKEN_REGEXP;if(r.search(s)===-1)return null;let a=s.exec(r);if(a==null)return null;let l=a[1],d=this.cursor+(a.index||0);return new n.Token({token:l,startCursor:d,endCursor:d+l.length-1})}get nextCharacterToken(){let{cursor:r,lineLength:s}=this;return s<=r?null:new n.Token({token:this.line[r],startCursor:r,endCursor:r})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){let r=o.exec(this.lineFromCursor);return r?(this.cursor+=(r.index||0)+r[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(r){return this.cursor=r,this}advanceToToken(r){return this.cursor=r.startCursor,this}advancePastToken(r){return this.cursor=r.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Token=void 0,t.Token=class{constructor(n){this.token=n.token,this.startCursor=n.startCursor,this.endCursor=n.endCursor}static isTokenRowDelimiter(n){let o=n.token;return o==="\r"||o===`
`||o===`\r
`}static isTokenCarriageReturn(n,o){return n.token===o.carriageReturn}static isTokenComment(n,o){return o.supportsComments&&!!n&&n.token===o.comment}static isTokenEscapeCharacter(n,o){return n.token===o.escapeChar}static isTokenQuote(n,o){return n.token===o.quote}static isTokenDelimiter(n,o){return n.token===o.delimiter}}},{}],160:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnFormatter=void 0,t.ColumnFormatter=class{constructor(n){n.trim?this.format=o=>o.trim():n.ltrim?this.format=o=>o.trimLeft():n.rtrim?this.format=o=>o.trimRight():this.format=o=>o}}},{}],161:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnParser=void 0;let n=i("./NonQuotedColumnParser"),o=i("./QuotedColumnParser"),r=i("../Token");t.ColumnParser=class{constructor(s){this.parserOptions=s,this.quotedColumnParser=new o.QuotedColumnParser(s),this.nonQuotedColumnParser=new n.NonQuotedColumnParser(s)}parse(s){let{nextNonSpaceToken:a}=s;return a!==null&&r.Token.isTokenQuote(a,this.parserOptions)?(s.advanceToToken(a),this.quotedColumnParser.parse(s)):this.nonQuotedColumnParser.parse(s)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NonQuotedColumnParser=void 0;let n=i("./ColumnFormatter"),o=i("../Token");t.NonQuotedColumnParser=class{constructor(r){this.parserOptions=r,this.columnFormatter=new n.ColumnFormatter(r)}parse(r){if(!r.hasMoreCharacters)return null;let{parserOptions:s}=this,a=[],l=r.nextCharacterToken;for(;l&&!o.Token.isTokenDelimiter(l,s)&&!o.Token.isTokenRowDelimiter(l);l=r.nextCharacterToken)a.push(l.token),r.advancePastToken(l);return this.columnFormatter.format(a.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuotedColumnParser=void 0;let n=i("./ColumnFormatter"),o=i("../Token");t.QuotedColumnParser=class{constructor(r){this.parserOptions=r,this.columnFormatter=new n.ColumnFormatter(r)}parse(r){if(!r.hasMoreCharacters)return null;let s=r.cursor,{foundClosingQuote:a,col:l}=this.gatherDataBetweenQuotes(r);if(!a){if(r.advanceTo(s),!r.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${r.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(r),l}gatherDataBetweenQuotes(r){let{parserOptions:s}=this,a=!1,l=!1,d=[],c=r.nextCharacterToken;for(;!l&&c!==null;c=r.nextCharacterToken){let u=o.Token.isTokenQuote(c,s);if(!a&&u)a=!0;else if(a)if(o.Token.isTokenEscapeCharacter(c,s)){r.advancePastToken(c);let h=r.nextCharacterToken;h!==null&&(o.Token.isTokenQuote(h,s)||o.Token.isTokenEscapeCharacter(h,s))?(d.push(h.token),c=h):u?l=!0:d.push(c.token)}else u?l=!0:d.push(c.token);r.advancePastToken(c)}return{col:this.columnFormatter.format(d.join("")),foundClosingQuote:l}}checkForMalformedColumn(r){let{parserOptions:s}=this,{nextNonSpaceToken:a}=r;if(a){let l=o.Token.isTokenDelimiter(a,s),d=o.Token.isTokenRowDelimiter(a);if(!l&&!d){let c=r.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${s.escapedDelimiter}' OR new line got: '${a.token}'. at '${c}`)}r.advanceToToken(a)}else r.hasMoreData||r.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnFormatter=t.QuotedColumnParser=t.NonQuotedColumnParser=t.ColumnParser=void 0;var n=i("./ColumnParser");Object.defineProperty(t,"ColumnParser",{enumerable:!0,get:function(){return n.ColumnParser}});var o=i("./NonQuotedColumnParser");Object.defineProperty(t,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}});var r=i("./QuotedColumnParser");Object.defineProperty(t,"QuotedColumnParser",{enumerable:!0,get:function(){return r.QuotedColumnParser}});var s=i("./ColumnFormatter");Object.defineProperty(t,"ColumnFormatter",{enumerable:!0,get:function(){return s.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuotedColumnParser=t.NonQuotedColumnParser=t.ColumnParser=t.Token=t.Scanner=t.RowParser=t.Parser=void 0;var n=i("./Parser");Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return n.Parser}});var o=i("./RowParser");Object.defineProperty(t,"RowParser",{enumerable:!0,get:function(){return o.RowParser}});var r=i("./Scanner");Object.defineProperty(t,"Scanner",{enumerable:!0,get:function(){return r.Scanner}});var s=i("./Token");Object.defineProperty(t,"Token",{enumerable:!0,get:function(){return s.Token}});var a=i("./column");Object.defineProperty(t,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}}),Object.defineProperty(t,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}}),Object.defineProperty(t,"QuotedColumnParser",{enumerable:!0,get:function(){return a.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(i,e,t){"use strict";var n=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderTransformer=void 0;let o=n(i("lodash.isundefined")),r=n(i("lodash.isfunction")),s=n(i("lodash.uniq")),a=n(i("lodash.groupby"));t.HeaderTransformer=class{constructor(l){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=l,l.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(l.headers)?this.setHeaders(l.headers):r.default(l.headers)&&(this.headersTransform=l.headers)}transform(l,d){return this.shouldMapRow(l)?d(null,this.processRow(l)):d(null,{row:null,isValid:!0})}shouldMapRow(l){let{parserOptions:d}=this;if(!this.headersTransform&&d.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(l)){if(this.headersTransform)this.setHeaders(this.headersTransform(l));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(l)}return!1}return!0}processRow(l){if(!this.headers)return{row:l,isValid:!0};let{parserOptions:d}=this;if(!d.discardUnmappedColumns&&l.length>this.headersLength){if(!d.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${l.length}`);return{row:l,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${l.length}`}}return d.strictColumnHandling&&l.length<this.headersLength?{row:l,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${l.length}`}:{row:this.mapHeaders(l),isValid:!0}}mapHeaders(l){let d={},{headers:c,headersLength:u}=this;for(let h=0;h<u;h+=1){let f=c[h];if(!o.default(f)){let p=l[h];o.default(p)?d[f]="":d[f]=p}}return d}setHeaders(l){var d;let c=l.filter(u=>!!u);if(s.default(c).length!==c.length){let u=a.default(c),h=Object.keys(u).filter(f=>u[f].length>1);throw new Error("Duplicate headers found "+JSON.stringify(h))}this.headers=l,this.receivedHeaders=!0,this.headersLength=((d=this.headers)===null||d===void 0?void 0:d.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(i,e,t){"use strict";var n=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(t,"__esModule",{value:!0}),t.RowTransformerValidator=void 0;let o=n(i("lodash.isfunction")),r=i("../types");class s{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(l){return r.isSyncTransform(l)?(d,c)=>{let u=null;try{u=l(d)}catch(h){return c(h)}return c(null,u)}:l}static createValidator(l){return r.isSyncValidate(l)?(d,c)=>{c(null,{row:d,isValid:l(d)})}:(d,c)=>{l(d,(u,h,f)=>u?c(u):c(null,h?{row:d,isValid:h,reason:f}:{row:d,isValid:!1,reason:f}))}}set rowTransform(l){if(!o.default(l))throw new TypeError("The transform should be a function");this._rowTransform=s.createTransform(l)}set rowValidator(l){if(!o.default(l))throw new TypeError("The validate should be a function");this._rowValidator=s.createValidator(l)}transformAndValidate(l,d){return this.callTransformer(l,(c,u)=>c?d(c):u?this.callValidator(u,(h,f)=>h?d(h):f&&!f.isValid?d(null,{row:u,isValid:!1,reason:f.reason}):d(null,{row:u,isValid:!0})):d(null,{row:null,isValid:!0}))}callTransformer(l,d){return this._rowTransform?this._rowTransform(l,d):d(null,l)}callValidator(l,d){return this._rowValidator?this._rowValidator(l,d):d(null,{row:l,isValid:!0})}}t.RowTransformerValidator=s},{"../types":169,"lodash.isfunction":446}],168:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderTransformer=t.RowTransformerValidator=void 0;var n=i("./RowTransformerValidator");Object.defineProperty(t,"RowTransformerValidator",{enumerable:!0,get:function(){return n.RowTransformerValidator}});var o=i("./HeaderTransformer");Object.defineProperty(t,"HeaderTransformer",{enumerable:!0,get:function(){return o.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSyncValidate=t.isSyncTransform=void 0,t.isSyncTransform=n=>n.length===1,t.isSyncValidate=n=>n.length===1},{}],170:[function(i,e,t){"use strict";let n=t;n.bignum=i("bn.js"),n.define=i("./asn1/api").define,n.base=i("./asn1/base"),n.constants=i("./asn1/constants"),n.decoders=i("./asn1/decoders"),n.encoders=i("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(i,e,t){"use strict";let n=i("./encoders"),o=i("./decoders"),r=i("inherits");function s(a,l){this.name=a,this.body=l,this.decoders={},this.encoders={}}t.define=function(a,l){return new s(a,l)},s.prototype._createNamed=function(a){let l=this.name;function d(c){this._initNamed(c,l)}return r(d,a),d.prototype._initNamed=function(c,u){a.call(this,c,u)},new d(this)},s.prototype._getDecoder=function(a){return a=a||"der",this.decoders.hasOwnProperty(a)||(this.decoders[a]=this._createNamed(o[a])),this.decoders[a]},s.prototype.decode=function(a,l,d){return this._getDecoder(l).decode(a,d)},s.prototype._getEncoder=function(a){return a=a||"der",this.encoders.hasOwnProperty(a)||(this.encoders[a]=this._createNamed(n[a])),this.encoders[a]},s.prototype.encode=function(a,l,d){return this._getEncoder(l).encode(a,d)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(i,e,t){"use strict";let n=i("inherits"),o=i("../base/reporter").Reporter,r=i("safer-buffer").Buffer;function s(l,d){o.call(this,d),r.isBuffer(l)?(this.base=l,this.offset=0,this.length=l.length):this.error("Input not Buffer")}function a(l,d){if(Array.isArray(l))this.length=0,this.value=l.map(function(c){return a.isEncoderBuffer(c)||(c=new a(c,d)),this.length+=c.length,c},this);else if(typeof l=="number"){if(!(0<=l&&l<=255))return d.error("non-byte EncoderBuffer value");this.value=l,this.length=1}else if(typeof l=="string")this.value=l,this.length=r.byteLength(l);else{if(!r.isBuffer(l))return d.error("Unsupported type: "+typeof l);this.value=l,this.length=l.length}}n(s,o),t.DecoderBuffer=s,s.isDecoderBuffer=function(l){return l instanceof s?!0:typeof l=="object"&&r.isBuffer(l.base)&&l.constructor.name==="DecoderBuffer"&&typeof l.offset=="number"&&typeof l.length=="number"&&typeof l.save=="function"&&typeof l.restore=="function"&&typeof l.isEmpty=="function"&&typeof l.readUInt8=="function"&&typeof l.skip=="function"&&typeof l.raw=="function"},s.prototype.save=function(){return{offset:this.offset,reporter:o.prototype.save.call(this)}},s.prototype.restore=function(l){let d=new s(this.base);return d.offset=l.offset,d.length=this.offset,this.offset=l.offset,o.prototype.restore.call(this,l.reporter),d},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(l){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(l||"DecoderBuffer overrun")},s.prototype.skip=function(l,d){if(!(this.offset+l<=this.length))return this.error(d||"DecoderBuffer overrun");let c=new s(this.base);return c._reporterState=this._reporterState,c.offset=this.offset,c.length=this.offset+l,this.offset+=l,c},s.prototype.raw=function(l){return this.base.slice(l?l.offset:this.offset,this.length)},t.EncoderBuffer=a,a.isEncoderBuffer=function(l){return l instanceof a?!0:typeof l=="object"&&l.constructor.name==="EncoderBuffer"&&typeof l.length=="number"&&typeof l.join=="function"},a.prototype.join=function(l,d){return l||(l=r.alloc(this.length)),d||(d=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(c){c.join(l,d),d+=c.length}):(typeof this.value=="number"?l[d]=this.value:typeof this.value=="string"?l.write(this.value,d):r.isBuffer(this.value)&&this.value.copy(l,d),d+=this.length)),l}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(i,e,t){"use strict";let n=t;n.Reporter=i("./reporter").Reporter,n.DecoderBuffer=i("./buffer").DecoderBuffer,n.EncoderBuffer=i("./buffer").EncoderBuffer,n.Node=i("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(i,e,t){"use strict";let n=i("../base/reporter").Reporter,o=i("../base/buffer").EncoderBuffer,r=i("../base/buffer").DecoderBuffer,s=i("minimalistic-assert"),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],l=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function d(u,h,f){let p={};this._baseState=p,p.name=f,p.enc=u,p.parent=h||null,p.children=null,p.tag=null,p.args=null,p.reverseArgs=null,p.choice=null,p.optional=!1,p.any=!1,p.obj=!1,p.use=null,p.useDecoder=null,p.key=null,p.default=null,p.explicit=null,p.implicit=null,p.contains=null,p.parent||(p.children=[],this._wrap())}e.exports=d;let c=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];d.prototype.clone=function(){let u=this._baseState,h={};c.forEach(function(p){h[p]=u[p]});let f=new this.constructor(h.parent);return f._baseState=h,f},d.prototype._wrap=function(){let u=this._baseState;l.forEach(function(h){this[h]=function(){let f=new this.constructor(this);return u.children.push(f),f[h].apply(f,arguments)}},this)},d.prototype._init=function(u){let h=this._baseState;s(h.parent===null),u.call(this),h.children=h.children.filter(function(f){return f._baseState.parent===this},this),s.equal(h.children.length,1,"Root node can have only one child")},d.prototype._useArgs=function(u){let h=this._baseState,f=u.filter(function(p){return p instanceof this.constructor},this);u=u.filter(function(p){return!(p instanceof this.constructor)},this),f.length!==0&&(s(h.children===null),h.children=f,f.forEach(function(p){p._baseState.parent=this},this)),u.length!==0&&(s(h.args===null),h.args=u,h.reverseArgs=u.map(function(p){if(typeof p!="object"||p.constructor!==Object)return p;let m={};return Object.keys(p).forEach(function(g){g==(0|g)&&(g|=0);let b=p[g];m[b]=g}),m}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(u){d.prototype[u]=function(){let h=this._baseState;throw new Error(u+" not implemented for encoding: "+h.enc)}}),a.forEach(function(u){d.prototype[u]=function(){let h=this._baseState,f=Array.prototype.slice.call(arguments);return s(h.tag===null),h.tag=u,this._useArgs(f),this}}),d.prototype.use=function(u){s(u);let h=this._baseState;return s(h.use===null),h.use=u,this},d.prototype.optional=function(){return this._baseState.optional=!0,this},d.prototype.def=function(u){let h=this._baseState;return s(h.default===null),h.default=u,h.optional=!0,this},d.prototype.explicit=function(u){let h=this._baseState;return s(h.explicit===null&&h.implicit===null),h.explicit=u,this},d.prototype.implicit=function(u){let h=this._baseState;return s(h.explicit===null&&h.implicit===null),h.implicit=u,this},d.prototype.obj=function(){let u=this._baseState,h=Array.prototype.slice.call(arguments);return u.obj=!0,h.length!==0&&this._useArgs(h),this},d.prototype.key=function(u){let h=this._baseState;return s(h.key===null),h.key=u,this},d.prototype.any=function(){return this._baseState.any=!0,this},d.prototype.choice=function(u){let h=this._baseState;return s(h.choice===null),h.choice=u,this._useArgs(Object.keys(u).map(function(f){return u[f]})),this},d.prototype.contains=function(u){let h=this._baseState;return s(h.use===null),h.contains=u,this},d.prototype._decode=function(u,h){let f=this._baseState;if(f.parent===null)return u.wrapResult(f.children[0]._decode(u,h));let p,m=f.default,g=!0,b=null;if(f.key!==null&&(b=u.enterKey(f.key)),f.optional){let x=null;if(f.explicit!==null?x=f.explicit:f.implicit!==null?x=f.implicit:f.tag!==null&&(x=f.tag),x!==null||f.any){if(g=this._peekTag(u,x,f.any),u.isError(g))return g}else{let E=u.save();try{f.choice===null?this._decodeGeneric(f.tag,u,h):this._decodeChoice(u,h),g=!0}catch{g=!1}u.restore(E)}}if(f.obj&&g&&(p=u.enterObject()),g){if(f.explicit!==null){let E=this._decodeTag(u,f.explicit);if(u.isError(E))return E;u=E}let x=u.offset;if(f.use===null&&f.choice===null){let E;f.any&&(E=u.save());let D=this._decodeTag(u,f.implicit!==null?f.implicit:f.tag,f.any);if(u.isError(D))return D;f.any?m=u.raw(E):u=D}if(h&&h.track&&f.tag!==null&&h.track(u.path(),x,u.length,"tagged"),h&&h.track&&f.tag!==null&&h.track(u.path(),u.offset,u.length,"content"),f.any||(m=f.choice===null?this._decodeGeneric(f.tag,u,h):this._decodeChoice(u,h)),u.isError(m))return m;if(f.any||f.choice!==null||f.children===null||f.children.forEach(function(E){E._decode(u,h)}),f.contains&&(f.tag==="octstr"||f.tag==="bitstr")){let E=new r(m);m=this._getUse(f.contains,u._reporterState.obj)._decode(E,h)}}return f.obj&&g&&(m=u.leaveObject(p)),f.key===null||m===null&&g!==!0?b!==null&&u.exitKey(b):u.leaveKey(b,f.key,m),m},d.prototype._decodeGeneric=function(u,h,f){let p=this._baseState;return u==="seq"||u==="set"?null:u==="seqof"||u==="setof"?this._decodeList(h,u,p.args[0],f):/str$/.test(u)?this._decodeStr(h,u,f):u==="objid"&&p.args?this._decodeObjid(h,p.args[0],p.args[1],f):u==="objid"?this._decodeObjid(h,null,null,f):u==="gentime"||u==="utctime"?this._decodeTime(h,u,f):u==="null_"?this._decodeNull(h,f):u==="bool"?this._decodeBool(h,f):u==="objDesc"?this._decodeStr(h,u,f):u==="int"||u==="enum"?this._decodeInt(h,p.args&&p.args[0],f):p.use!==null?this._getUse(p.use,h._reporterState.obj)._decode(h,f):h.error("unknown tag: "+u)},d.prototype._getUse=function(u,h){let f=this._baseState;return f.useDecoder=this._use(u,h),s(f.useDecoder._baseState.parent===null),f.useDecoder=f.useDecoder._baseState.children[0],f.implicit!==f.useDecoder._baseState.implicit&&(f.useDecoder=f.useDecoder.clone(),f.useDecoder._baseState.implicit=f.implicit),f.useDecoder},d.prototype._decodeChoice=function(u,h){let f=this._baseState,p=null,m=!1;return Object.keys(f.choice).some(function(g){let b=u.save(),x=f.choice[g];try{let E=x._decode(u,h);if(u.isError(E))return!1;p={type:g,value:E},m=!0}catch{return u.restore(b),!1}return!0},this),m?p:u.error("Choice not matched")},d.prototype._createEncoderBuffer=function(u){return new o(u,this.reporter)},d.prototype._encode=function(u,h,f){let p=this._baseState;if(p.default!==null&&p.default===u)return;let m=this._encodeValue(u,h,f);return m===void 0||this._skipDefault(m,h,f)?void 0:m},d.prototype._encodeValue=function(u,h,f){let p=this._baseState;if(p.parent===null)return p.children[0]._encode(u,h||new n);let m=null;if(this.reporter=h,p.optional&&u===void 0){if(p.default===null)return;u=p.default}let g=null,b=!1;if(p.any)m=this._createEncoderBuffer(u);else if(p.choice)m=this._encodeChoice(u,h);else if(p.contains)g=this._getUse(p.contains,f)._encode(u,h),b=!0;else if(p.children)g=p.children.map(function(x){if(x._baseState.tag==="null_")return x._encode(null,h,u);if(x._baseState.key===null)return h.error("Child should have a key");let E=h.enterKey(x._baseState.key);if(typeof u!="object")return h.error("Child expected, but input is not object");let D=x._encode(u[x._baseState.key],h,u);return h.leaveKey(E),D},this).filter(function(x){return x}),g=this._createEncoderBuffer(g);else if(p.tag==="seqof"||p.tag==="setof"){if(!p.args||p.args.length!==1)return h.error("Too many args for : "+p.tag);if(!Array.isArray(u))return h.error("seqof/setof, but data is not Array");let x=this.clone();x._baseState.implicit=null,g=this._createEncoderBuffer(u.map(function(E){let D=this._baseState;return this._getUse(D.args[0],u)._encode(E,h)},x))}else p.use!==null?m=this._getUse(p.use,f)._encode(u,h):(g=this._encodePrimitive(p.tag,u),b=!0);if(!p.any&&p.choice===null){let x=p.implicit!==null?p.implicit:p.tag,E=p.implicit===null?"universal":"context";x===null?p.use===null&&h.error("Tag could be omitted only for .use()"):p.use===null&&(m=this._encodeComposite(x,b,E,g))}return p.explicit!==null&&(m=this._encodeComposite(p.explicit,!1,"context",m)),m},d.prototype._encodeChoice=function(u,h){let f=this._baseState,p=f.choice[u.type];return p||s(!1,u.type+" not found in "+JSON.stringify(Object.keys(f.choice))),p._encode(u.value,h)},d.prototype._encodePrimitive=function(u,h){let f=this._baseState;if(/str$/.test(u))return this._encodeStr(h,u);if(u==="objid"&&f.args)return this._encodeObjid(h,f.reverseArgs[0],f.args[1]);if(u==="objid")return this._encodeObjid(h,null,null);if(u==="gentime"||u==="utctime")return this._encodeTime(h,u);if(u==="null_")return this._encodeNull();if(u==="int"||u==="enum")return this._encodeInt(h,f.args&&f.reverseArgs[0]);if(u==="bool")return this._encodeBool(h);if(u==="objDesc")return this._encodeStr(h,u);throw new Error("Unsupported tag: "+u)},d.prototype._isNumstr=function(u){return/^[0-9 ]*$/.test(u)},d.prototype._isPrintstr=function(u){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(u)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(i,e,t){"use strict";let n=i("inherits");function o(s){this._reporterState={obj:null,path:[],options:s||{},errors:[]}}function r(s,a){this.path=s,this.rethrow(a)}t.Reporter=o,o.prototype.isError=function(s){return s instanceof r},o.prototype.save=function(){let s=this._reporterState;return{obj:s.obj,pathLen:s.path.length}},o.prototype.restore=function(s){let a=this._reporterState;a.obj=s.obj,a.path=a.path.slice(0,s.pathLen)},o.prototype.enterKey=function(s){return this._reporterState.path.push(s)},o.prototype.exitKey=function(s){let a=this._reporterState;a.path=a.path.slice(0,s-1)},o.prototype.leaveKey=function(s,a,l){let d=this._reporterState;this.exitKey(s),d.obj!==null&&(d.obj[a]=l)},o.prototype.path=function(){return this._reporterState.path.join("/")},o.prototype.enterObject=function(){let s=this._reporterState,a=s.obj;return s.obj={},a},o.prototype.leaveObject=function(s){let a=this._reporterState,l=a.obj;return a.obj=s,l},o.prototype.error=function(s){let a,l=this._reporterState,d=s instanceof r;if(a=d?s:new r(l.path.map(function(c){return"["+JSON.stringify(c)+"]"}).join(""),s.message||s,s.stack),!l.options.partial)throw a;return d||l.errors.push(a),a},o.prototype.wrapResult=function(s){let a=this._reporterState;return a.options.partial?{result:this.isError(s)?null:s,errors:a.errors}:s},n(r,Error),r.prototype.rethrow=function(s){if(this.message=s+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,r),!this.stack)try{throw new Error(this.message)}catch(a){this.stack=a.stack}return this}},{inherits:440}],176:[function(i,e,t){"use strict";function n(o){let r={};return Object.keys(o).forEach(function(s){(0|s)==s&&(s|=0);let a=o[s];r[a]=s}),r}t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=n(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=n(t.tag)},{}],177:[function(i,e,t){"use strict";let n=t;n._reverse=function(o){let r={};return Object.keys(o).forEach(function(s){(0|s)==s&&(s|=0);let a=o[s];r[a]=s}),r},n.der=i("./der")},{"./der":176}],178:[function(i,e,t){"use strict";let n=i("inherits"),o=i("bn.js"),r=i("../base/buffer").DecoderBuffer,s=i("../base/node"),a=i("../constants/der");function l(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new d,this.tree._init(h.body)}function d(h){s.call(this,"der",h)}function c(h,f){let p=h.readUInt8(f);if(h.isError(p))return p;let m=a.tagClass[p>>6],g=(32&p)==0;if((31&p)==31){let b=p;for(p=0;(128&b)==128;){if(b=h.readUInt8(f),h.isError(b))return b;p<<=7,p|=127&b}}else p&=31;return{cls:m,primitive:g,tag:p,tagStr:a.tag[p]}}function u(h,f,p){let m=h.readUInt8(p);if(h.isError(m))return m;if(!f&&m===128)return null;if(!(128&m))return m;let g=127&m;if(g>4)return h.error("length octect is too long");m=0;for(let b=0;b<g;b++){m<<=8;let x=h.readUInt8(p);if(h.isError(x))return x;m|=x}return m}e.exports=l,l.prototype.decode=function(h,f){return r.isDecoderBuffer(h)||(h=new r(h,f)),this.tree._decode(h,f)},n(d,s),d.prototype._peekTag=function(h,f,p){if(h.isEmpty())return!1;let m=h.save(),g=c(h,'Failed to peek tag: "'+f+'"');return h.isError(g)?g:(h.restore(m),g.tag===f||g.tagStr===f||g.tagStr+"of"===f||p)},d.prototype._decodeTag=function(h,f,p){let m=c(h,'Failed to decode tag of "'+f+'"');if(h.isError(m))return m;let g=u(h,m.primitive,'Failed to get length of "'+f+'"');if(h.isError(g))return g;if(!p&&m.tag!==f&&m.tagStr!==f&&m.tagStr+"of"!==f)return h.error('Failed to match tag: "'+f+'"');if(m.primitive||g!==null)return h.skip(g,'Failed to match body of: "'+f+'"');let b=h.save(),x=this._skipUntilEnd(h,'Failed to skip indefinite length body: "'+this.tag+'"');return h.isError(x)?x:(g=h.offset-b.offset,h.restore(b),h.skip(g,'Failed to match body of: "'+f+'"'))},d.prototype._skipUntilEnd=function(h,f){for(;;){let p=c(h,f);if(h.isError(p))return p;let m=u(h,p.primitive,f);if(h.isError(m))return m;let g;if(g=p.primitive||m!==null?h.skip(m):this._skipUntilEnd(h,f),h.isError(g))return g;if(p.tagStr==="end")break}},d.prototype._decodeList=function(h,f,p,m){let g=[];for(;!h.isEmpty();){let b=this._peekTag(h,"end");if(h.isError(b))return b;let x=p.decode(h,"der",m);if(h.isError(x)&&b)break;g.push(x)}return g},d.prototype._decodeStr=function(h,f){if(f==="bitstr"){let p=h.readUInt8();return h.isError(p)?p:{unused:p,data:h.raw()}}if(f==="bmpstr"){let p=h.raw();if(p.length%2==1)return h.error("Decoding of string type: bmpstr length mismatch");let m="";for(let g=0;g<p.length/2;g++)m+=String.fromCharCode(p.readUInt16BE(2*g));return m}if(f==="numstr"){let p=h.raw().toString("ascii");return this._isNumstr(p)?p:h.error("Decoding of string type: numstr unsupported characters")}if(f==="octstr"||f==="objDesc")return h.raw();if(f==="printstr"){let p=h.raw().toString("ascii");return this._isPrintstr(p)?p:h.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(f)?h.raw().toString():h.error("Decoding of string type: "+f+" unsupported")},d.prototype._decodeObjid=function(h,f,p){let m,g=[],b=0,x=0;for(;!h.isEmpty();)x=h.readUInt8(),b<<=7,b|=127&x,!(128&x)&&(g.push(b),b=0);128&x&&g.push(b);let E=g[0]/40|0,D=g[0]%40;if(m=p?g:[E,D].concat(g.slice(1)),f){let L=f[m.join(" ")];L===void 0&&(L=f[m.join(".")]),L!==void 0&&(m=L)}return m},d.prototype._decodeTime=function(h,f){let p=h.raw().toString(),m,g,b,x,E,D;if(f==="gentime")m=0|p.slice(0,4),g=0|p.slice(4,6),b=0|p.slice(6,8),x=0|p.slice(8,10),E=0|p.slice(10,12),D=0|p.slice(12,14);else{if(f!=="utctime")return h.error("Decoding "+f+" time is not supported yet");m=0|p.slice(0,2),g=0|p.slice(2,4),b=0|p.slice(4,6),x=0|p.slice(6,8),E=0|p.slice(8,10),D=0|p.slice(10,12),m=m<70?2e3+m:1900+m}return Date.UTC(m,g-1,b,x,E,D,0)},d.prototype._decodeNull=function(){return null},d.prototype._decodeBool=function(h){let f=h.readUInt8();return h.isError(f)?f:f!==0},d.prototype._decodeInt=function(h,f){let p=h.raw(),m=new o(p);return f&&(m=f[m.toString(10)]||m),m},d.prototype._use=function(h,f){return typeof h=="function"&&(h=h(f)),h._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(i,e,t){"use strict";let n=t;n.der=i("./der"),n.pem=i("./pem")},{"./der":178,"./pem":180}],180:[function(i,e,t){"use strict";let n=i("inherits"),o=i("safer-buffer").Buffer,r=i("./der");function s(a){r.call(this,a),this.enc="pem"}n(s,r),e.exports=s,s.prototype.decode=function(a,l){let d=a.toString().split(/[\r\n]+/g),c=l.label.toUpperCase(),u=/^-----(BEGIN|END) ([^-]+)-----$/,h=-1,f=-1;for(let g=0;g<d.length;g++){let b=d[g].match(u);if(b!==null&&b[2]===c){if(h!==-1){if(b[1]!=="END")break;f=g;break}if(b[1]!=="BEGIN")break;h=g}}if(h===-1||f===-1)throw new Error("PEM section not found for: "+c);let p=d.slice(h+1,f).join("");p.replace(/[^a-z0-9+/=]+/gi,"");let m=o.from(p,"base64");return r.prototype.decode.call(this,m,l)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(i,e,t){"use strict";let n=i("inherits"),o=i("safer-buffer").Buffer,r=i("../base/node"),s=i("../constants/der");function a(c){this.enc="der",this.name=c.name,this.entity=c,this.tree=new l,this.tree._init(c.body)}function l(c){r.call(this,"der",c)}function d(c){return c<10?"0"+c:c}e.exports=a,a.prototype.encode=function(c,u){return this.tree._encode(c,u).join()},n(l,r),l.prototype._encodeComposite=function(c,u,h,f){let p=function(b,x,E,D){let L;if(b==="seqof"?b="seq":b==="setof"&&(b="set"),s.tagByName.hasOwnProperty(b))L=s.tagByName[b];else{if(typeof b!="number"||(0|b)!==b)return D.error("Unknown tag: "+b);L=b}return L>=31?D.error("Multi-octet tag encoding unsupported"):(x||(L|=32),L|=s.tagClassByName[E||"universal"]<<6,L)}(c,u,h,this.reporter);if(f.length<128){let b=o.alloc(2);return b[0]=p,b[1]=f.length,this._createEncoderBuffer([b,f])}let m=1;for(let b=f.length;b>=256;b>>=8)m++;let g=o.alloc(2+m);g[0]=p,g[1]=128|m;for(let b=1+m,x=f.length;x>0;b--,x>>=8)g[b]=255&x;return this._createEncoderBuffer([g,f])},l.prototype._encodeStr=function(c,u){if(u==="bitstr")return this._createEncoderBuffer([0|c.unused,c.data]);if(u==="bmpstr"){let h=o.alloc(2*c.length);for(let f=0;f<c.length;f++)h.writeUInt16BE(c.charCodeAt(f),2*f);return this._createEncoderBuffer(h)}return u==="numstr"?this._isNumstr(c)?this._createEncoderBuffer(c):this.reporter.error("Encoding of string type: numstr supports only digits and space"):u==="printstr"?this._isPrintstr(c)?this._createEncoderBuffer(c):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(u)||u==="objDesc"?this._createEncoderBuffer(c):this.reporter.error("Encoding of string type: "+u+" unsupported")},l.prototype._encodeObjid=function(c,u,h){if(typeof c=="string"){if(!u)return this.reporter.error("string objid given, but no values map found");if(!u.hasOwnProperty(c))return this.reporter.error("objid not found in values map");c=u[c].split(/[\s.]+/g);for(let g=0;g<c.length;g++)c[g]|=0}else if(Array.isArray(c)){c=c.slice();for(let g=0;g<c.length;g++)c[g]|=0}if(!Array.isArray(c))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(c));if(!h){if(c[1]>=40)return this.reporter.error("Second objid identifier OOB");c.splice(0,2,40*c[0]+c[1])}let f=0;for(let g=0;g<c.length;g++){let b=c[g];for(f++;b>=128;b>>=7)f++}let p=o.alloc(f),m=p.length-1;for(let g=c.length-1;g>=0;g--){let b=c[g];for(p[m--]=127&b;(b>>=7)>0;)p[m--]=128|127&b}return this._createEncoderBuffer(p)},l.prototype._encodeTime=function(c,u){let h,f=new Date(c);return u==="gentime"?h=[d(f.getUTCFullYear()),d(f.getUTCMonth()+1),d(f.getUTCDate()),d(f.getUTCHours()),d(f.getUTCMinutes()),d(f.getUTCSeconds()),"Z"].join(""):u==="utctime"?h=[d(f.getUTCFullYear()%100),d(f.getUTCMonth()+1),d(f.getUTCDate()),d(f.getUTCHours()),d(f.getUTCMinutes()),d(f.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+u+" time is not supported yet"),this._encodeStr(h,"octstr")},l.prototype._encodeNull=function(){return this._createEncoderBuffer("")},l.prototype._encodeInt=function(c,u){if(typeof c=="string"){if(!u)return this.reporter.error("String int or enum given, but no values map");if(!u.hasOwnProperty(c))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(c));c=u[c]}if(typeof c!="number"&&!o.isBuffer(c)){let p=c.toArray();!c.sign&&128&p[0]&&p.unshift(0),c=o.from(p)}if(o.isBuffer(c)){let p=c.length;c.length===0&&p++;let m=o.alloc(p);return c.copy(m),c.length===0&&(m[0]=0),this._createEncoderBuffer(m)}if(c<128)return this._createEncoderBuffer(c);if(c<256)return this._createEncoderBuffer([0,c]);let h=1;for(let p=c;p>=256;p>>=8)h++;let f=new Array(h);for(let p=f.length-1;p>=0;p--)f[p]=255&c,c>>=8;return 128&f[0]&&f.unshift(0),this._createEncoderBuffer(o.from(f))},l.prototype._encodeBool=function(c){return this._createEncoderBuffer(c?255:0)},l.prototype._use=function(c,u){return typeof c=="function"&&(c=c(u)),c._getEncoder("der").tree},l.prototype._skipDefault=function(c,u,h){let f=this._baseState,p;if(f.default===null)return!1;let m=c.join();if(f.defaultBuffer===void 0&&(f.defaultBuffer=this._encodeValue(f.default,u,h).join()),m.length!==f.defaultBuffer.length)return!1;for(p=0;p<m.length;p++)if(m[p]!==f.defaultBuffer[p])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(i,e,t){"use strict";let n=t;n.der=i("./der"),n.pem=i("./pem")},{"./der":181,"./pem":183}],183:[function(i,e,t){"use strict";let n=i("inherits"),o=i("./der");function r(s){o.call(this,s),this.enc="pem"}n(r,o),e.exports=r,r.prototype.encode=function(s,a){let l=o.prototype.encode.call(this,s).toString("base64"),d=["-----BEGIN "+a.label+"-----"];for(let c=0;c<l.length;c+=64)d.push(l.slice(c,c+64));return d.push("-----END "+a.label+"-----"),d.join(`
`)}},{"./der":181,inherits:440}],184:[function(i,e,t){"use strict";(function(n,o){function r(S,T){if(!S)throw new Error(T||"Assertion failed")}function s(S,T){S.super_=T;var B=function(){};B.prototype=T.prototype,S.prototype=new B,S.prototype.constructor=S}function a(S,T,B){if(a.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&(T!=="le"&&T!=="be"||(B=T,T=10),this._init(S||0,T||10,B||"be"))}var l;typeof n=="object"?n.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{l=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:i("buffer").Buffer}catch{}function d(S,T){var B=S.charCodeAt(T);return B>=65&&B<=70?B-55:B>=97&&B<=102?B-87:B-48&15}function c(S,T,B){var _=d(S,B);return B-1>=T&&(_|=d(S,B-1)<<4),_}function u(S,T,B,_){for(var v=0,C=Math.min(S.length,B),y=T;y<C;y++){var w=S.charCodeAt(y)-48;v*=_,v+=w>=49?w-49+10:w>=17?w-17+10:w}return v}a.isBN=function(S){return S instanceof a||S!==null&&typeof S=="object"&&S.constructor.wordSize===a.wordSize&&Array.isArray(S.words)},a.max=function(S,T){return S.cmp(T)>0?S:T},a.min=function(S,T){return S.cmp(T)<0?S:T},a.prototype._init=function(S,T,B){if(typeof S=="number")return this._initNumber(S,T,B);if(typeof S=="object")return this._initArray(S,T,B);T==="hex"&&(T=16),r(T===(0|T)&&T>=2&&T<=36);var _=0;(S=S.toString().replace(/\s+/g,""))[0]==="-"&&(_++,this.negative=1),_<S.length&&(T===16?this._parseHex(S,_,B):(this._parseBase(S,T,_),B==="le"&&this._initArray(this.toArray(),T,B)))},a.prototype._initNumber=function(S,T,B){S<0&&(this.negative=1,S=-S),S<67108864?(this.words=[67108863&S],this.length=1):S<4503599627370496?(this.words=[67108863&S,S/67108864&67108863],this.length=2):(r(S<9007199254740992),this.words=[67108863&S,S/67108864&67108863,1],this.length=3),B==="le"&&this._initArray(this.toArray(),T,B)},a.prototype._initArray=function(S,T,B){if(r(typeof S.length=="number"),S.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(S.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var v,C,y=0;if(B==="be")for(_=S.length-1,v=0;_>=0;_-=3)C=S[_]|S[_-1]<<8|S[_-2]<<16,this.words[v]|=C<<y&67108863,this.words[v+1]=C>>>26-y&67108863,(y+=24)>=26&&(y-=26,v++);else if(B==="le")for(_=0,v=0;_<S.length;_+=3)C=S[_]|S[_+1]<<8|S[_+2]<<16,this.words[v]|=C<<y&67108863,this.words[v+1]=C>>>26-y&67108863,(y+=24)>=26&&(y-=26,v++);return this.strip()},a.prototype._parseHex=function(S,T,B){this.length=Math.ceil((S.length-T)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var v,C=0,y=0;if(B==="be")for(_=S.length-1;_>=T;_-=2)v=c(S,T,_)<<C,this.words[y]|=67108863&v,C>=18?(C-=18,y+=1,this.words[y]|=v>>>26):C+=8;else for(_=(S.length-T)%2==0?T+1:T;_<S.length;_+=2)v=c(S,T,_)<<C,this.words[y]|=67108863&v,C>=18?(C-=18,y+=1,this.words[y]|=v>>>26):C+=8;this.strip()},a.prototype._parseBase=function(S,T,B){this.words=[0],this.length=1;for(var _=0,v=1;v<=67108863;v*=T)_++;_--,v=v/T|0;for(var C=S.length-B,y=C%_,w=Math.min(C,C-y)+B,O=0,P=B;P<w;P+=_)O=u(S,P,P+_,T),this.imuln(v),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O);if(y!==0){var W=1;for(O=u(S,P,S.length,T),P=0;P<y;P++)W*=T;this.imuln(W),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O)}this.strip()},a.prototype.copy=function(S){S.words=new Array(this.length);for(var T=0;T<this.length;T++)S.words[T]=this.words[T];S.length=this.length,S.negative=this.negative,S.red=this.red},a.prototype.clone=function(){var S=new a(null);return this.copy(S),S},a.prototype._expand=function(S){for(;this.length<S;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(S,T,B){B.negative=T.negative^S.negative;var _=S.length+T.length|0;B.length=_,_=_-1|0;var v=0|S.words[0],C=0|T.words[0],y=v*C,w=67108863&y,O=y/67108864|0;B.words[0]=w;for(var P=1;P<_;P++){for(var W=O>>>26,G=67108863&O,K=Math.min(P,T.length-1),F=Math.max(0,P-S.length+1);F<=K;F++){var Y=P-F|0;W+=(y=(v=0|S.words[Y])*(C=0|T.words[F])+G)/67108864|0,G=67108863&y}B.words[P]=0|G,O=0|W}return O!==0?B.words[P]=0|O:B.length--,B.strip()}a.prototype.toString=function(S,T){var B;if(T=0|T||1,(S=S||10)===16||S==="hex"){B="";for(var _=0,v=0,C=0;C<this.length;C++){var y=this.words[C],w=(16777215&(y<<_|v)).toString(16);B=(v=y>>>24-_&16777215)!==0||C!==this.length-1?h[6-w.length]+w+B:w+B,(_+=2)>=26&&(_-=26,C--)}for(v!==0&&(B=v.toString(16)+B);B.length%T!=0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}if(S===(0|S)&&S>=2&&S<=36){var O=f[S],P=p[S];B="";var W=this.clone();for(W.negative=0;!W.isZero();){var G=W.modn(P).toString(S);B=(W=W.idivn(P)).isZero()?G+B:h[O-G.length]+G+B}for(this.isZero()&&(B="0"+B);B.length%T!=0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var S=this.words[0];return this.length===2?S+=67108864*this.words[1]:this.length===3&&this.words[2]===1?S+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-S:S},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(S,T){return r(l!==void 0),this.toArrayLike(l,S,T)},a.prototype.toArray=function(S,T){return this.toArrayLike(Array,S,T)},a.prototype.toArrayLike=function(S,T,B){var _=this.byteLength(),v=B||Math.max(1,_);r(_<=v,"byte array longer than desired length"),r(v>0,"Requested array length <= 0"),this.strip();var C,y,w=T==="le",O=new S(v),P=this.clone();if(w){for(y=0;!P.isZero();y++)C=P.andln(255),P.iushrn(8),O[y]=C;for(;y<v;y++)O[y]=0}else{for(y=0;y<v-_;y++)O[y]=0;for(y=0;!P.isZero();y++)C=P.andln(255),P.iushrn(8),O[v-y-1]=C}return O},Math.clz32?a.prototype._countBits=function(S){return 32-Math.clz32(S)}:a.prototype._countBits=function(S){var T=S,B=0;return T>=4096&&(B+=13,T>>>=13),T>=64&&(B+=7,T>>>=7),T>=8&&(B+=4,T>>>=4),T>=2&&(B+=2,T>>>=2),B+T},a.prototype._zeroBits=function(S){if(S===0)return 26;var T=S,B=0;return!(8191&T)&&(B+=13,T>>>=13),!(127&T)&&(B+=7,T>>>=7),!(15&T)&&(B+=4,T>>>=4),!(3&T)&&(B+=2,T>>>=2),!(1&T)&&B++,B},a.prototype.bitLength=function(){var S=this.words[this.length-1],T=this._countBits(S);return 26*(this.length-1)+T},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var S=0,T=0;T<this.length;T++){var B=this._zeroBits(this.words[T]);if(S+=B,B!==26)break}return S},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(S){return this.negative!==0?this.abs().inotn(S).iaddn(1):this.clone()},a.prototype.fromTwos=function(S){return this.testn(S-1)?this.notn(S).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(S){for(;this.length<S.length;)this.words[this.length++]=0;for(var T=0;T<S.length;T++)this.words[T]=this.words[T]|S.words[T];return this.strip()},a.prototype.ior=function(S){return r((this.negative|S.negative)==0),this.iuor(S)},a.prototype.or=function(S){return this.length>S.length?this.clone().ior(S):S.clone().ior(this)},a.prototype.uor=function(S){return this.length>S.length?this.clone().iuor(S):S.clone().iuor(this)},a.prototype.iuand=function(S){var T;T=this.length>S.length?S:this;for(var B=0;B<T.length;B++)this.words[B]=this.words[B]&S.words[B];return this.length=T.length,this.strip()},a.prototype.iand=function(S){return r((this.negative|S.negative)==0),this.iuand(S)},a.prototype.and=function(S){return this.length>S.length?this.clone().iand(S):S.clone().iand(this)},a.prototype.uand=function(S){return this.length>S.length?this.clone().iuand(S):S.clone().iuand(this)},a.prototype.iuxor=function(S){var T,B;this.length>S.length?(T=this,B=S):(T=S,B=this);for(var _=0;_<B.length;_++)this.words[_]=T.words[_]^B.words[_];if(this!==T)for(;_<T.length;_++)this.words[_]=T.words[_];return this.length=T.length,this.strip()},a.prototype.ixor=function(S){return r((this.negative|S.negative)==0),this.iuxor(S)},a.prototype.xor=function(S){return this.length>S.length?this.clone().ixor(S):S.clone().ixor(this)},a.prototype.uxor=function(S){return this.length>S.length?this.clone().iuxor(S):S.clone().iuxor(this)},a.prototype.inotn=function(S){r(typeof S=="number"&&S>=0);var T=0|Math.ceil(S/26),B=S%26;this._expand(T),B>0&&T--;for(var _=0;_<T;_++)this.words[_]=67108863&~this.words[_];return B>0&&(this.words[_]=~this.words[_]&67108863>>26-B),this.strip()},a.prototype.notn=function(S){return this.clone().inotn(S)},a.prototype.setn=function(S,T){r(typeof S=="number"&&S>=0);var B=S/26|0,_=S%26;return this._expand(B+1),this.words[B]=T?this.words[B]|1<<_:this.words[B]&~(1<<_),this.strip()},a.prototype.iadd=function(S){var T,B,_;if(this.negative!==0&&S.negative===0)return this.negative=0,T=this.isub(S),this.negative^=1,this._normSign();if(this.negative===0&&S.negative!==0)return S.negative=0,T=this.isub(S),S.negative=1,T._normSign();this.length>S.length?(B=this,_=S):(B=S,_=this);for(var v=0,C=0;C<_.length;C++)T=(0|B.words[C])+(0|_.words[C])+v,this.words[C]=67108863&T,v=T>>>26;for(;v!==0&&C<B.length;C++)T=(0|B.words[C])+v,this.words[C]=67108863&T,v=T>>>26;if(this.length=B.length,v!==0)this.words[this.length]=v,this.length++;else if(B!==this)for(;C<B.length;C++)this.words[C]=B.words[C];return this},a.prototype.add=function(S){var T;return S.negative!==0&&this.negative===0?(S.negative=0,T=this.sub(S),S.negative^=1,T):S.negative===0&&this.negative!==0?(this.negative=0,T=S.sub(this),this.negative=1,T):this.length>S.length?this.clone().iadd(S):S.clone().iadd(this)},a.prototype.isub=function(S){if(S.negative!==0){S.negative=0;var T=this.iadd(S);return S.negative=1,T._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(S),this.negative=1,this._normSign();var B,_,v=this.cmp(S);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;v>0?(B=this,_=S):(B=S,_=this);for(var C=0,y=0;y<_.length;y++)C=(T=(0|B.words[y])-(0|_.words[y])+C)>>26,this.words[y]=67108863&T;for(;C!==0&&y<B.length;y++)C=(T=(0|B.words[y])+C)>>26,this.words[y]=67108863&T;if(C===0&&y<B.length&&B!==this)for(;y<B.length;y++)this.words[y]=B.words[y];return this.length=Math.max(this.length,y),B!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(S){return this.clone().isub(S)};var g=function(S,T,B){var _,v,C,y=S.words,w=T.words,O=B.words,P=0,W=0|y[0],G=8191&W,K=W>>>13,F=0|y[1],Y=8191&F,M=F>>>13,A=0|y[2],j=8191&A,J=A>>>13,ae=0|y[3],ie=8191&ae,re=ae>>>13,Ce=0|y[4],ve=8191&Ce,te=Ce>>>13,ge=0|y[5],he=8191&ge,xe=ge>>>13,Oe=0|y[6],we=8191&Oe,Te=Oe>>>13,Xe=0|y[7],Je=8191&Xe,nt=Xe>>>13,$t=0|y[8],pt=8191&$t,vt=$t>>>13,bi=0|y[9],Ht=8191&bi,gt=bi>>>13,Jt=0|w[0],at=8191&Jt,ot=Jt>>>13,Ai=0|w[1],Rt=8191&Ai,ei=Ai>>>13,zs=0|w[2],Yt=8191&zs,pi=zs>>>13,lo=0|w[3],Si=8191&lo,ti=lo>>>13,Co=0|w[4],_i=8191&Co,zt=Co>>>13,Ao=0|w[5],Ci=8191&Ao,fi=Ao>>>13,Li=0|w[6],di=8191&Li,fe=Li>>>13,Me=0|w[7],Re=8191&Me,Ue=Me>>>13,nn=0|w[8],mt=8191&nn,Ot=nn>>>13,Ni=0|w[9],si=8191&Ni,Dt=Ni>>>13;B.negative=S.negative^T.negative,B.length=19;var Cn=(P+(_=Math.imul(G,at))|0)+((8191&(v=(v=Math.imul(G,ot))+Math.imul(K,at)|0))<<13)|0;P=((C=Math.imul(K,ot))+(v>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,_=Math.imul(Y,at),v=(v=Math.imul(Y,ot))+Math.imul(M,at)|0,C=Math.imul(M,ot);var $i=(P+(_=_+Math.imul(G,Rt)|0)|0)+((8191&(v=(v=v+Math.imul(G,ei)|0)+Math.imul(K,Rt)|0))<<13)|0;P=((C=C+Math.imul(K,ei)|0)+(v>>>13)|0)+($i>>>26)|0,$i&=67108863,_=Math.imul(j,at),v=(v=Math.imul(j,ot))+Math.imul(J,at)|0,C=Math.imul(J,ot),_=_+Math.imul(Y,Rt)|0,v=(v=v+Math.imul(Y,ei)|0)+Math.imul(M,Rt)|0,C=C+Math.imul(M,ei)|0;var Yi=(P+(_=_+Math.imul(G,Yt)|0)|0)+((8191&(v=(v=v+Math.imul(G,pi)|0)+Math.imul(K,Yt)|0))<<13)|0;P=((C=C+Math.imul(K,pi)|0)+(v>>>13)|0)+(Yi>>>26)|0,Yi&=67108863,_=Math.imul(ie,at),v=(v=Math.imul(ie,ot))+Math.imul(re,at)|0,C=Math.imul(re,ot),_=_+Math.imul(j,Rt)|0,v=(v=v+Math.imul(j,ei)|0)+Math.imul(J,Rt)|0,C=C+Math.imul(J,ei)|0,_=_+Math.imul(Y,Yt)|0,v=(v=v+Math.imul(Y,pi)|0)+Math.imul(M,Yt)|0,C=C+Math.imul(M,pi)|0;var Mn=(P+(_=_+Math.imul(G,Si)|0)|0)+((8191&(v=(v=v+Math.imul(G,ti)|0)+Math.imul(K,Si)|0))<<13)|0;P=((C=C+Math.imul(K,ti)|0)+(v>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,_=Math.imul(ve,at),v=(v=Math.imul(ve,ot))+Math.imul(te,at)|0,C=Math.imul(te,ot),_=_+Math.imul(ie,Rt)|0,v=(v=v+Math.imul(ie,ei)|0)+Math.imul(re,Rt)|0,C=C+Math.imul(re,ei)|0,_=_+Math.imul(j,Yt)|0,v=(v=v+Math.imul(j,pi)|0)+Math.imul(J,Yt)|0,C=C+Math.imul(J,pi)|0,_=_+Math.imul(Y,Si)|0,v=(v=v+Math.imul(Y,ti)|0)+Math.imul(M,Si)|0,C=C+Math.imul(M,ti)|0;var mo=(P+(_=_+Math.imul(G,_i)|0)|0)+((8191&(v=(v=v+Math.imul(G,zt)|0)+Math.imul(K,_i)|0))<<13)|0;P=((C=C+Math.imul(K,zt)|0)+(v>>>13)|0)+(mo>>>26)|0,mo&=67108863,_=Math.imul(he,at),v=(v=Math.imul(he,ot))+Math.imul(xe,at)|0,C=Math.imul(xe,ot),_=_+Math.imul(ve,Rt)|0,v=(v=v+Math.imul(ve,ei)|0)+Math.imul(te,Rt)|0,C=C+Math.imul(te,ei)|0,_=_+Math.imul(ie,Yt)|0,v=(v=v+Math.imul(ie,pi)|0)+Math.imul(re,Yt)|0,C=C+Math.imul(re,pi)|0,_=_+Math.imul(j,Si)|0,v=(v=v+Math.imul(j,ti)|0)+Math.imul(J,Si)|0,C=C+Math.imul(J,ti)|0,_=_+Math.imul(Y,_i)|0,v=(v=v+Math.imul(Y,zt)|0)+Math.imul(M,_i)|0,C=C+Math.imul(M,zt)|0;var Zo=(P+(_=_+Math.imul(G,Ci)|0)|0)+((8191&(v=(v=v+Math.imul(G,fi)|0)+Math.imul(K,Ci)|0))<<13)|0;P=((C=C+Math.imul(K,fi)|0)+(v>>>13)|0)+(Zo>>>26)|0,Zo&=67108863,_=Math.imul(we,at),v=(v=Math.imul(we,ot))+Math.imul(Te,at)|0,C=Math.imul(Te,ot),_=_+Math.imul(he,Rt)|0,v=(v=v+Math.imul(he,ei)|0)+Math.imul(xe,Rt)|0,C=C+Math.imul(xe,ei)|0,_=_+Math.imul(ve,Yt)|0,v=(v=v+Math.imul(ve,pi)|0)+Math.imul(te,Yt)|0,C=C+Math.imul(te,pi)|0,_=_+Math.imul(ie,Si)|0,v=(v=v+Math.imul(ie,ti)|0)+Math.imul(re,Si)|0,C=C+Math.imul(re,ti)|0,_=_+Math.imul(j,_i)|0,v=(v=v+Math.imul(j,zt)|0)+Math.imul(J,_i)|0,C=C+Math.imul(J,zt)|0,_=_+Math.imul(Y,Ci)|0,v=(v=v+Math.imul(Y,fi)|0)+Math.imul(M,Ci)|0,C=C+Math.imul(M,fi)|0;var ko=(P+(_=_+Math.imul(G,di)|0)|0)+((8191&(v=(v=v+Math.imul(G,fe)|0)+Math.imul(K,di)|0))<<13)|0;P=((C=C+Math.imul(K,fe)|0)+(v>>>13)|0)+(ko>>>26)|0,ko&=67108863,_=Math.imul(Je,at),v=(v=Math.imul(Je,ot))+Math.imul(nt,at)|0,C=Math.imul(nt,ot),_=_+Math.imul(we,Rt)|0,v=(v=v+Math.imul(we,ei)|0)+Math.imul(Te,Rt)|0,C=C+Math.imul(Te,ei)|0,_=_+Math.imul(he,Yt)|0,v=(v=v+Math.imul(he,pi)|0)+Math.imul(xe,Yt)|0,C=C+Math.imul(xe,pi)|0,_=_+Math.imul(ve,Si)|0,v=(v=v+Math.imul(ve,ti)|0)+Math.imul(te,Si)|0,C=C+Math.imul(te,ti)|0,_=_+Math.imul(ie,_i)|0,v=(v=v+Math.imul(ie,zt)|0)+Math.imul(re,_i)|0,C=C+Math.imul(re,zt)|0,_=_+Math.imul(j,Ci)|0,v=(v=v+Math.imul(j,fi)|0)+Math.imul(J,Ci)|0,C=C+Math.imul(J,fi)|0,_=_+Math.imul(Y,di)|0,v=(v=v+Math.imul(Y,fe)|0)+Math.imul(M,di)|0,C=C+Math.imul(M,fe)|0;var Ho=(P+(_=_+Math.imul(G,Re)|0)|0)+((8191&(v=(v=v+Math.imul(G,Ue)|0)+Math.imul(K,Re)|0))<<13)|0;P=((C=C+Math.imul(K,Ue)|0)+(v>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,_=Math.imul(pt,at),v=(v=Math.imul(pt,ot))+Math.imul(vt,at)|0,C=Math.imul(vt,ot),_=_+Math.imul(Je,Rt)|0,v=(v=v+Math.imul(Je,ei)|0)+Math.imul(nt,Rt)|0,C=C+Math.imul(nt,ei)|0,_=_+Math.imul(we,Yt)|0,v=(v=v+Math.imul(we,pi)|0)+Math.imul(Te,Yt)|0,C=C+Math.imul(Te,pi)|0,_=_+Math.imul(he,Si)|0,v=(v=v+Math.imul(he,ti)|0)+Math.imul(xe,Si)|0,C=C+Math.imul(xe,ti)|0,_=_+Math.imul(ve,_i)|0,v=(v=v+Math.imul(ve,zt)|0)+Math.imul(te,_i)|0,C=C+Math.imul(te,zt)|0,_=_+Math.imul(ie,Ci)|0,v=(v=v+Math.imul(ie,fi)|0)+Math.imul(re,Ci)|0,C=C+Math.imul(re,fi)|0,_=_+Math.imul(j,di)|0,v=(v=v+Math.imul(j,fe)|0)+Math.imul(J,di)|0,C=C+Math.imul(J,fe)|0,_=_+Math.imul(Y,Re)|0,v=(v=v+Math.imul(Y,Ue)|0)+Math.imul(M,Re)|0,C=C+Math.imul(M,Ue)|0;var Sr=(P+(_=_+Math.imul(G,mt)|0)|0)+((8191&(v=(v=v+Math.imul(G,Ot)|0)+Math.imul(K,mt)|0))<<13)|0;P=((C=C+Math.imul(K,Ot)|0)+(v>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,_=Math.imul(Ht,at),v=(v=Math.imul(Ht,ot))+Math.imul(gt,at)|0,C=Math.imul(gt,ot),_=_+Math.imul(pt,Rt)|0,v=(v=v+Math.imul(pt,ei)|0)+Math.imul(vt,Rt)|0,C=C+Math.imul(vt,ei)|0,_=_+Math.imul(Je,Yt)|0,v=(v=v+Math.imul(Je,pi)|0)+Math.imul(nt,Yt)|0,C=C+Math.imul(nt,pi)|0,_=_+Math.imul(we,Si)|0,v=(v=v+Math.imul(we,ti)|0)+Math.imul(Te,Si)|0,C=C+Math.imul(Te,ti)|0,_=_+Math.imul(he,_i)|0,v=(v=v+Math.imul(he,zt)|0)+Math.imul(xe,_i)|0,C=C+Math.imul(xe,zt)|0,_=_+Math.imul(ve,Ci)|0,v=(v=v+Math.imul(ve,fi)|0)+Math.imul(te,Ci)|0,C=C+Math.imul(te,fi)|0,_=_+Math.imul(ie,di)|0,v=(v=v+Math.imul(ie,fe)|0)+Math.imul(re,di)|0,C=C+Math.imul(re,fe)|0,_=_+Math.imul(j,Re)|0,v=(v=v+Math.imul(j,Ue)|0)+Math.imul(J,Re)|0,C=C+Math.imul(J,Ue)|0,_=_+Math.imul(Y,mt)|0,v=(v=v+Math.imul(Y,Ot)|0)+Math.imul(M,mt)|0,C=C+Math.imul(M,Ot)|0;var ce=(P+(_=_+Math.imul(G,si)|0)|0)+((8191&(v=(v=v+Math.imul(G,Dt)|0)+Math.imul(K,si)|0))<<13)|0;P=((C=C+Math.imul(K,Dt)|0)+(v>>>13)|0)+(ce>>>26)|0,ce&=67108863,_=Math.imul(Ht,Rt),v=(v=Math.imul(Ht,ei))+Math.imul(gt,Rt)|0,C=Math.imul(gt,ei),_=_+Math.imul(pt,Yt)|0,v=(v=v+Math.imul(pt,pi)|0)+Math.imul(vt,Yt)|0,C=C+Math.imul(vt,pi)|0,_=_+Math.imul(Je,Si)|0,v=(v=v+Math.imul(Je,ti)|0)+Math.imul(nt,Si)|0,C=C+Math.imul(nt,ti)|0,_=_+Math.imul(we,_i)|0,v=(v=v+Math.imul(we,zt)|0)+Math.imul(Te,_i)|0,C=C+Math.imul(Te,zt)|0,_=_+Math.imul(he,Ci)|0,v=(v=v+Math.imul(he,fi)|0)+Math.imul(xe,Ci)|0,C=C+Math.imul(xe,fi)|0,_=_+Math.imul(ve,di)|0,v=(v=v+Math.imul(ve,fe)|0)+Math.imul(te,di)|0,C=C+Math.imul(te,fe)|0,_=_+Math.imul(ie,Re)|0,v=(v=v+Math.imul(ie,Ue)|0)+Math.imul(re,Re)|0,C=C+Math.imul(re,Ue)|0,_=_+Math.imul(j,mt)|0,v=(v=v+Math.imul(j,Ot)|0)+Math.imul(J,mt)|0,C=C+Math.imul(J,Ot)|0;var Ae=(P+(_=_+Math.imul(Y,si)|0)|0)+((8191&(v=(v=v+Math.imul(Y,Dt)|0)+Math.imul(M,si)|0))<<13)|0;P=((C=C+Math.imul(M,Dt)|0)+(v>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,_=Math.imul(Ht,Yt),v=(v=Math.imul(Ht,pi))+Math.imul(gt,Yt)|0,C=Math.imul(gt,pi),_=_+Math.imul(pt,Si)|0,v=(v=v+Math.imul(pt,ti)|0)+Math.imul(vt,Si)|0,C=C+Math.imul(vt,ti)|0,_=_+Math.imul(Je,_i)|0,v=(v=v+Math.imul(Je,zt)|0)+Math.imul(nt,_i)|0,C=C+Math.imul(nt,zt)|0,_=_+Math.imul(we,Ci)|0,v=(v=v+Math.imul(we,fi)|0)+Math.imul(Te,Ci)|0,C=C+Math.imul(Te,fi)|0,_=_+Math.imul(he,di)|0,v=(v=v+Math.imul(he,fe)|0)+Math.imul(xe,di)|0,C=C+Math.imul(xe,fe)|0,_=_+Math.imul(ve,Re)|0,v=(v=v+Math.imul(ve,Ue)|0)+Math.imul(te,Re)|0,C=C+Math.imul(te,Ue)|0,_=_+Math.imul(ie,mt)|0,v=(v=v+Math.imul(ie,Ot)|0)+Math.imul(re,mt)|0,C=C+Math.imul(re,Ot)|0;var Ye=(P+(_=_+Math.imul(j,si)|0)|0)+((8191&(v=(v=v+Math.imul(j,Dt)|0)+Math.imul(J,si)|0))<<13)|0;P=((C=C+Math.imul(J,Dt)|0)+(v>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,_=Math.imul(Ht,Si),v=(v=Math.imul(Ht,ti))+Math.imul(gt,Si)|0,C=Math.imul(gt,ti),_=_+Math.imul(pt,_i)|0,v=(v=v+Math.imul(pt,zt)|0)+Math.imul(vt,_i)|0,C=C+Math.imul(vt,zt)|0,_=_+Math.imul(Je,Ci)|0,v=(v=v+Math.imul(Je,fi)|0)+Math.imul(nt,Ci)|0,C=C+Math.imul(nt,fi)|0,_=_+Math.imul(we,di)|0,v=(v=v+Math.imul(we,fe)|0)+Math.imul(Te,di)|0,C=C+Math.imul(Te,fe)|0,_=_+Math.imul(he,Re)|0,v=(v=v+Math.imul(he,Ue)|0)+Math.imul(xe,Re)|0,C=C+Math.imul(xe,Ue)|0,_=_+Math.imul(ve,mt)|0,v=(v=v+Math.imul(ve,Ot)|0)+Math.imul(te,mt)|0,C=C+Math.imul(te,Ot)|0;var He=(P+(_=_+Math.imul(ie,si)|0)|0)+((8191&(v=(v=v+Math.imul(ie,Dt)|0)+Math.imul(re,si)|0))<<13)|0;P=((C=C+Math.imul(re,Dt)|0)+(v>>>13)|0)+(He>>>26)|0,He&=67108863,_=Math.imul(Ht,_i),v=(v=Math.imul(Ht,zt))+Math.imul(gt,_i)|0,C=Math.imul(gt,zt),_=_+Math.imul(pt,Ci)|0,v=(v=v+Math.imul(pt,fi)|0)+Math.imul(vt,Ci)|0,C=C+Math.imul(vt,fi)|0,_=_+Math.imul(Je,di)|0,v=(v=v+Math.imul(Je,fe)|0)+Math.imul(nt,di)|0,C=C+Math.imul(nt,fe)|0,_=_+Math.imul(we,Re)|0,v=(v=v+Math.imul(we,Ue)|0)+Math.imul(Te,Re)|0,C=C+Math.imul(Te,Ue)|0,_=_+Math.imul(he,mt)|0,v=(v=v+Math.imul(he,Ot)|0)+Math.imul(xe,mt)|0,C=C+Math.imul(xe,Ot)|0;var dt=(P+(_=_+Math.imul(ve,si)|0)|0)+((8191&(v=(v=v+Math.imul(ve,Dt)|0)+Math.imul(te,si)|0))<<13)|0;P=((C=C+Math.imul(te,Dt)|0)+(v>>>13)|0)+(dt>>>26)|0,dt&=67108863,_=Math.imul(Ht,Ci),v=(v=Math.imul(Ht,fi))+Math.imul(gt,Ci)|0,C=Math.imul(gt,fi),_=_+Math.imul(pt,di)|0,v=(v=v+Math.imul(pt,fe)|0)+Math.imul(vt,di)|0,C=C+Math.imul(vt,fe)|0,_=_+Math.imul(Je,Re)|0,v=(v=v+Math.imul(Je,Ue)|0)+Math.imul(nt,Re)|0,C=C+Math.imul(nt,Ue)|0,_=_+Math.imul(we,mt)|0,v=(v=v+Math.imul(we,Ot)|0)+Math.imul(Te,mt)|0,C=C+Math.imul(Te,Ot)|0;var Vt=(P+(_=_+Math.imul(he,si)|0)|0)+((8191&(v=(v=v+Math.imul(he,Dt)|0)+Math.imul(xe,si)|0))<<13)|0;P=((C=C+Math.imul(xe,Dt)|0)+(v>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,_=Math.imul(Ht,di),v=(v=Math.imul(Ht,fe))+Math.imul(gt,di)|0,C=Math.imul(gt,fe),_=_+Math.imul(pt,Re)|0,v=(v=v+Math.imul(pt,Ue)|0)+Math.imul(vt,Re)|0,C=C+Math.imul(vt,Ue)|0,_=_+Math.imul(Je,mt)|0,v=(v=v+Math.imul(Je,Ot)|0)+Math.imul(nt,mt)|0,C=C+Math.imul(nt,Ot)|0;var kt=(P+(_=_+Math.imul(we,si)|0)|0)+((8191&(v=(v=v+Math.imul(we,Dt)|0)+Math.imul(Te,si)|0))<<13)|0;P=((C=C+Math.imul(Te,Dt)|0)+(v>>>13)|0)+(kt>>>26)|0,kt&=67108863,_=Math.imul(Ht,Re),v=(v=Math.imul(Ht,Ue))+Math.imul(gt,Re)|0,C=Math.imul(gt,Ue),_=_+Math.imul(pt,mt)|0,v=(v=v+Math.imul(pt,Ot)|0)+Math.imul(vt,mt)|0,C=C+Math.imul(vt,Ot)|0;var Qi=(P+(_=_+Math.imul(Je,si)|0)|0)+((8191&(v=(v=v+Math.imul(Je,Dt)|0)+Math.imul(nt,si)|0))<<13)|0;P=((C=C+Math.imul(nt,Dt)|0)+(v>>>13)|0)+(Qi>>>26)|0,Qi&=67108863,_=Math.imul(Ht,mt),v=(v=Math.imul(Ht,Ot))+Math.imul(gt,mt)|0,C=Math.imul(gt,Ot);var Ei=(P+(_=_+Math.imul(pt,si)|0)|0)+((8191&(v=(v=v+Math.imul(pt,Dt)|0)+Math.imul(vt,si)|0))<<13)|0;P=((C=C+Math.imul(vt,Dt)|0)+(v>>>13)|0)+(Ei>>>26)|0,Ei&=67108863;var vi=(P+(_=Math.imul(Ht,si))|0)+((8191&(v=(v=Math.imul(Ht,Dt))+Math.imul(gt,si)|0))<<13)|0;return P=((C=Math.imul(gt,Dt))+(v>>>13)|0)+(vi>>>26)|0,vi&=67108863,O[0]=Cn,O[1]=$i,O[2]=Yi,O[3]=Mn,O[4]=mo,O[5]=Zo,O[6]=ko,O[7]=Ho,O[8]=Sr,O[9]=ce,O[10]=Ae,O[11]=Ye,O[12]=He,O[13]=dt,O[14]=Vt,O[15]=kt,O[16]=Qi,O[17]=Ei,O[18]=vi,P!==0&&(O[19]=P,B.length++),B};function b(S,T,B){return new x().mulp(S,T,B)}function x(S,T){this.x=S,this.y=T}Math.imul||(g=m),a.prototype.mulTo=function(S,T){var B=this.length+S.length;return this.length===10&&S.length===10?g(this,S,T):B<63?m(this,S,T):B<1024?function(_,v,C){C.negative=v.negative^_.negative,C.length=_.length+v.length;for(var y=0,w=0,O=0;O<C.length-1;O++){var P=w;w=0;for(var W=67108863&y,G=Math.min(O,v.length-1),K=Math.max(0,O-_.length+1);K<=G;K++){var F=O-K,Y=(0|_.words[F])*(0|v.words[K]),M=67108863&Y;W=67108863&(M=M+W|0),w+=(P=(P=P+(Y/67108864|0)|0)+(M>>>26)|0)>>>26,P&=67108863}C.words[O]=W,y=P,P=w}return y!==0?C.words[O]=y:C.length--,C.strip()}(this,S,T):b(this,S,T)},x.prototype.makeRBT=function(S){for(var T=new Array(S),B=a.prototype._countBits(S)-1,_=0;_<S;_++)T[_]=this.revBin(_,B,S);return T},x.prototype.revBin=function(S,T,B){if(S===0||S===B-1)return S;for(var _=0,v=0;v<T;v++)_|=(1&S)<<T-v-1,S>>=1;return _},x.prototype.permute=function(S,T,B,_,v,C){for(var y=0;y<C;y++)_[y]=T[S[y]],v[y]=B[S[y]]},x.prototype.transform=function(S,T,B,_,v,C){this.permute(C,S,T,B,_,v);for(var y=1;y<v;y<<=1)for(var w=y<<1,O=Math.cos(2*Math.PI/w),P=Math.sin(2*Math.PI/w),W=0;W<v;W+=w)for(var G=O,K=P,F=0;F<y;F++){var Y=B[W+F],M=_[W+F],A=B[W+F+y],j=_[W+F+y],J=G*A-K*j;j=G*j+K*A,A=J,B[W+F]=Y+A,_[W+F]=M+j,B[W+F+y]=Y-A,_[W+F+y]=M-j,F!==w&&(J=O*G-P*K,K=O*K+P*G,G=J)}},x.prototype.guessLen13b=function(S,T){var B=1|Math.max(T,S),_=1&B,v=0;for(B=B/2|0;B;B>>>=1)v++;return 1<<v+1+_},x.prototype.conjugate=function(S,T,B){if(!(B<=1))for(var _=0;_<B/2;_++){var v=S[_];S[_]=S[B-_-1],S[B-_-1]=v,v=T[_],T[_]=-T[B-_-1],T[B-_-1]=-v}},x.prototype.normalize13b=function(S,T){for(var B=0,_=0;_<T/2;_++){var v=8192*Math.round(S[2*_+1]/T)+Math.round(S[2*_]/T)+B;S[_]=67108863&v,B=v<67108864?0:v/67108864|0}return S},x.prototype.convert13b=function(S,T,B,_){for(var v=0,C=0;C<T;C++)v+=0|S[C],B[2*C]=8191&v,v>>>=13,B[2*C+1]=8191&v,v>>>=13;for(C=2*T;C<_;++C)B[C]=0;r(v===0),r((-8192&v)==0)},x.prototype.stub=function(S){for(var T=new Array(S),B=0;B<S;B++)T[B]=0;return T},x.prototype.mulp=function(S,T,B){var _=2*this.guessLen13b(S.length,T.length),v=this.makeRBT(_),C=this.stub(_),y=new Array(_),w=new Array(_),O=new Array(_),P=new Array(_),W=new Array(_),G=new Array(_),K=B.words;K.length=_,this.convert13b(S.words,S.length,y,_),this.convert13b(T.words,T.length,P,_),this.transform(y,C,w,O,_,v),this.transform(P,C,W,G,_,v);for(var F=0;F<_;F++){var Y=w[F]*W[F]-O[F]*G[F];O[F]=w[F]*G[F]+O[F]*W[F],w[F]=Y}return this.conjugate(w,O,_),this.transform(w,O,K,C,_,v),this.conjugate(K,C,_),this.normalize13b(K,_),B.negative=S.negative^T.negative,B.length=S.length+T.length,B.strip()},a.prototype.mul=function(S){var T=new a(null);return T.words=new Array(this.length+S.length),this.mulTo(S,T)},a.prototype.mulf=function(S){var T=new a(null);return T.words=new Array(this.length+S.length),b(this,S,T)},a.prototype.imul=function(S){return this.clone().mulTo(S,this)},a.prototype.imuln=function(S){r(typeof S=="number"),r(S<67108864);for(var T=0,B=0;B<this.length;B++){var _=(0|this.words[B])*S,v=(67108863&_)+(67108863&T);T>>=26,T+=_/67108864|0,T+=v>>>26,this.words[B]=67108863&v}return T!==0&&(this.words[B]=T,this.length++),this},a.prototype.muln=function(S){return this.clone().imuln(S)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(S){var T=function(C){for(var y=new Array(C.bitLength()),w=0;w<y.length;w++){var O=w/26|0,P=w%26;y[w]=(C.words[O]&1<<P)>>>P}return y}(S);if(T.length===0)return new a(1);for(var B=this,_=0;_<T.length&&T[_]===0;_++,B=B.sqr());if(++_<T.length)for(var v=B.sqr();_<T.length;_++,v=v.sqr())T[_]!==0&&(B=B.mul(v));return B},a.prototype.iushln=function(S){r(typeof S=="number"&&S>=0);var T,B=S%26,_=(S-B)/26,v=67108863>>>26-B<<26-B;if(B!==0){var C=0;for(T=0;T<this.length;T++){var y=this.words[T]&v,w=(0|this.words[T])-y<<B;this.words[T]=w|C,C=y>>>26-B}C&&(this.words[T]=C,this.length++)}if(_!==0){for(T=this.length-1;T>=0;T--)this.words[T+_]=this.words[T];for(T=0;T<_;T++)this.words[T]=0;this.length+=_}return this.strip()},a.prototype.ishln=function(S){return r(this.negative===0),this.iushln(S)},a.prototype.iushrn=function(S,T,B){var _;r(typeof S=="number"&&S>=0),_=T?(T-T%26)/26:0;var v=S%26,C=Math.min((S-v)/26,this.length),y=67108863^67108863>>>v<<v,w=B;if(_-=C,_=Math.max(0,_),w){for(var O=0;O<C;O++)w.words[O]=this.words[O];w.length=C}if(C!==0)if(this.length>C)for(this.length-=C,O=0;O<this.length;O++)this.words[O]=this.words[O+C];else this.words[0]=0,this.length=1;var P=0;for(O=this.length-1;O>=0&&(P!==0||O>=_);O--){var W=0|this.words[O];this.words[O]=P<<26-v|W>>>v,P=W&y}return w&&P!==0&&(w.words[w.length++]=P),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(S,T,B){return r(this.negative===0),this.iushrn(S,T,B)},a.prototype.shln=function(S){return this.clone().ishln(S)},a.prototype.ushln=function(S){return this.clone().iushln(S)},a.prototype.shrn=function(S){return this.clone().ishrn(S)},a.prototype.ushrn=function(S){return this.clone().iushrn(S)},a.prototype.testn=function(S){r(typeof S=="number"&&S>=0);var T=S%26,B=(S-T)/26,_=1<<T;return!(this.length<=B)&&!!(this.words[B]&_)},a.prototype.imaskn=function(S){r(typeof S=="number"&&S>=0);var T=S%26,B=(S-T)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=B)return this;if(T!==0&&B++,this.length=Math.min(B,this.length),T!==0){var _=67108863^67108863>>>T<<T;this.words[this.length-1]&=_}return this.strip()},a.prototype.maskn=function(S){return this.clone().imaskn(S)},a.prototype.iaddn=function(S){return r(typeof S=="number"),r(S<67108864),S<0?this.isubn(-S):this.negative!==0?this.length===1&&(0|this.words[0])<S?(this.words[0]=S-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(S),this.negative=1,this):this._iaddn(S)},a.prototype._iaddn=function(S){this.words[0]+=S;for(var T=0;T<this.length&&this.words[T]>=67108864;T++)this.words[T]-=67108864,T===this.length-1?this.words[T+1]=1:this.words[T+1]++;return this.length=Math.max(this.length,T+1),this},a.prototype.isubn=function(S){if(r(typeof S=="number"),r(S<67108864),S<0)return this.iaddn(-S);if(this.negative!==0)return this.negative=0,this.iaddn(S),this.negative=1,this;if(this.words[0]-=S,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var T=0;T<this.length&&this.words[T]<0;T++)this.words[T]+=67108864,this.words[T+1]-=1;return this.strip()},a.prototype.addn=function(S){return this.clone().iaddn(S)},a.prototype.subn=function(S){return this.clone().isubn(S)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(S,T,B){var _,v,C=S.length+B;this._expand(C);var y=0;for(_=0;_<S.length;_++){v=(0|this.words[_+B])+y;var w=(0|S.words[_])*T;y=((v-=67108863&w)>>26)-(w/67108864|0),this.words[_+B]=67108863&v}for(;_<this.length-B;_++)y=(v=(0|this.words[_+B])+y)>>26,this.words[_+B]=67108863&v;if(y===0)return this.strip();for(r(y===-1),y=0,_=0;_<this.length;_++)y=(v=-(0|this.words[_])+y)>>26,this.words[_]=67108863&v;return this.negative=1,this.strip()},a.prototype._wordDiv=function(S,T){var B=(this.length,S.length),_=this.clone(),v=S,C=0|v.words[v.length-1];(B=26-this._countBits(C))!==0&&(v=v.ushln(B),_.iushln(B),C=0|v.words[v.length-1]);var y,w=_.length-v.length;if(T!=="mod"){(y=new a(null)).length=w+1,y.words=new Array(y.length);for(var O=0;O<y.length;O++)y.words[O]=0}var P=_.clone()._ishlnsubmul(v,1,w);P.negative===0&&(_=P,y&&(y.words[w]=1));for(var W=w-1;W>=0;W--){var G=67108864*(0|_.words[v.length+W])+(0|_.words[v.length+W-1]);for(G=Math.min(G/C|0,67108863),_._ishlnsubmul(v,G,W);_.negative!==0;)G--,_.negative=0,_._ishlnsubmul(v,1,W),_.isZero()||(_.negative^=1);y&&(y.words[W]=G)}return y&&y.strip(),_.strip(),T!=="div"&&B!==0&&_.iushrn(B),{div:y||null,mod:_}},a.prototype.divmod=function(S,T,B){return r(!S.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&S.negative===0?(C=this.neg().divmod(S,T),T!=="mod"&&(_=C.div.neg()),T!=="div"&&(v=C.mod.neg(),B&&v.negative!==0&&v.iadd(S)),{div:_,mod:v}):this.negative===0&&S.negative!==0?(C=this.divmod(S.neg(),T),T!=="mod"&&(_=C.div.neg()),{div:_,mod:C.mod}):this.negative&S.negative?(C=this.neg().divmod(S.neg(),T),T!=="div"&&(v=C.mod.neg(),B&&v.negative!==0&&v.isub(S)),{div:C.div,mod:v}):S.length>this.length||this.cmp(S)<0?{div:new a(0),mod:this}:S.length===1?T==="div"?{div:this.divn(S.words[0]),mod:null}:T==="mod"?{div:null,mod:new a(this.modn(S.words[0]))}:{div:this.divn(S.words[0]),mod:new a(this.modn(S.words[0]))}:this._wordDiv(S,T);var _,v,C},a.prototype.div=function(S){return this.divmod(S,"div",!1).div},a.prototype.mod=function(S){return this.divmod(S,"mod",!1).mod},a.prototype.umod=function(S){return this.divmod(S,"mod",!0).mod},a.prototype.divRound=function(S){var T=this.divmod(S);if(T.mod.isZero())return T.div;var B=T.div.negative!==0?T.mod.isub(S):T.mod,_=S.ushrn(1),v=S.andln(1),C=B.cmp(_);return C<0||v===1&&C===0?T.div:T.div.negative!==0?T.div.isubn(1):T.div.iaddn(1)},a.prototype.modn=function(S){r(S<=67108863);for(var T=(1<<26)%S,B=0,_=this.length-1;_>=0;_--)B=(T*B+(0|this.words[_]))%S;return B},a.prototype.idivn=function(S){r(S<=67108863);for(var T=0,B=this.length-1;B>=0;B--){var _=(0|this.words[B])+67108864*T;this.words[B]=_/S|0,T=_%S}return this.strip()},a.prototype.divn=function(S){return this.clone().idivn(S)},a.prototype.egcd=function(S){r(S.negative===0),r(!S.isZero());var T=this,B=S.clone();T=T.negative!==0?T.umod(S):T.clone();for(var _=new a(1),v=new a(0),C=new a(0),y=new a(1),w=0;T.isEven()&&B.isEven();)T.iushrn(1),B.iushrn(1),++w;for(var O=B.clone(),P=T.clone();!T.isZero();){for(var W=0,G=1;!(T.words[0]&G)&&W<26;++W,G<<=1);if(W>0)for(T.iushrn(W);W-- >0;)(_.isOdd()||v.isOdd())&&(_.iadd(O),v.isub(P)),_.iushrn(1),v.iushrn(1);for(var K=0,F=1;!(B.words[0]&F)&&K<26;++K,F<<=1);if(K>0)for(B.iushrn(K);K-- >0;)(C.isOdd()||y.isOdd())&&(C.iadd(O),y.isub(P)),C.iushrn(1),y.iushrn(1);T.cmp(B)>=0?(T.isub(B),_.isub(C),v.isub(y)):(B.isub(T),C.isub(_),y.isub(v))}return{a:C,b:y,gcd:B.iushln(w)}},a.prototype._invmp=function(S){r(S.negative===0),r(!S.isZero());var T=this,B=S.clone();T=T.negative!==0?T.umod(S):T.clone();for(var _,v=new a(1),C=new a(0),y=B.clone();T.cmpn(1)>0&&B.cmpn(1)>0;){for(var w=0,O=1;!(T.words[0]&O)&&w<26;++w,O<<=1);if(w>0)for(T.iushrn(w);w-- >0;)v.isOdd()&&v.iadd(y),v.iushrn(1);for(var P=0,W=1;!(B.words[0]&W)&&P<26;++P,W<<=1);if(P>0)for(B.iushrn(P);P-- >0;)C.isOdd()&&C.iadd(y),C.iushrn(1);T.cmp(B)>=0?(T.isub(B),v.isub(C)):(B.isub(T),C.isub(v))}return(_=T.cmpn(1)===0?v:C).cmpn(0)<0&&_.iadd(S),_},a.prototype.gcd=function(S){if(this.isZero())return S.abs();if(S.isZero())return this.abs();var T=this.clone(),B=S.clone();T.negative=0,B.negative=0;for(var _=0;T.isEven()&&B.isEven();_++)T.iushrn(1),B.iushrn(1);for(;;){for(;T.isEven();)T.iushrn(1);for(;B.isEven();)B.iushrn(1);var v=T.cmp(B);if(v<0){var C=T;T=B,B=C}else if(v===0||B.cmpn(1)===0)break;T.isub(B)}return B.iushln(_)},a.prototype.invm=function(S){return this.egcd(S).a.umod(S)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(S){return this.words[0]&S},a.prototype.bincn=function(S){r(typeof S=="number");var T=S%26,B=(S-T)/26,_=1<<T;if(this.length<=B)return this._expand(B+1),this.words[B]|=_,this;for(var v=_,C=B;v!==0&&C<this.length;C++){var y=0|this.words[C];v=(y+=v)>>>26,y&=67108863,this.words[C]=y}return v!==0&&(this.words[C]=v,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(S){var T,B=S<0;if(this.negative!==0&&!B)return-1;if(this.negative===0&&B)return 1;if(this.strip(),this.length>1)T=1;else{B&&(S=-S),r(S<=67108863,"Number is too big");var _=0|this.words[0];T=_===S?0:_<S?-1:1}return this.negative!==0?0|-T:T},a.prototype.cmp=function(S){if(this.negative!==0&&S.negative===0)return-1;if(this.negative===0&&S.negative!==0)return 1;var T=this.ucmp(S);return this.negative!==0?0|-T:T},a.prototype.ucmp=function(S){if(this.length>S.length)return 1;if(this.length<S.length)return-1;for(var T=0,B=this.length-1;B>=0;B--){var _=0|this.words[B],v=0|S.words[B];if(_!==v){_<v?T=-1:_>v&&(T=1);break}}return T},a.prototype.gtn=function(S){return this.cmpn(S)===1},a.prototype.gt=function(S){return this.cmp(S)===1},a.prototype.gten=function(S){return this.cmpn(S)>=0},a.prototype.gte=function(S){return this.cmp(S)>=0},a.prototype.ltn=function(S){return this.cmpn(S)===-1},a.prototype.lt=function(S){return this.cmp(S)===-1},a.prototype.lten=function(S){return this.cmpn(S)<=0},a.prototype.lte=function(S){return this.cmp(S)<=0},a.prototype.eqn=function(S){return this.cmpn(S)===0},a.prototype.eq=function(S){return this.cmp(S)===0},a.red=function(S){return new z(S)},a.prototype.toRed=function(S){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),S.convertTo(this)._forceRed(S)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(S){return this.red=S,this},a.prototype.forceRed=function(S){return r(!this.red,"Already a number in reduction context"),this._forceRed(S)},a.prototype.redAdd=function(S){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,S)},a.prototype.redIAdd=function(S){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,S)},a.prototype.redSub=function(S){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,S)},a.prototype.redISub=function(S){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,S)},a.prototype.redShl=function(S){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,S)},a.prototype.redMul=function(S){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,S),this.red.mul(this,S)},a.prototype.redIMul=function(S){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,S),this.red.imul(this,S)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(S){return r(this.red&&!S.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,S)};var E={k256:null,p224:null,p192:null,p25519:null};function D(S,T){this.name=S,this.p=new a(T,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function L(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function k(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function R(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function N(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function z(S){if(typeof S=="string"){var T=a._prime(S);this.m=T.p,this.prime=T}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}function V(S){z.call(this,S),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}D.prototype._tmp=function(){var S=new a(null);return S.words=new Array(Math.ceil(this.n/13)),S},D.prototype.ireduce=function(S){var T,B=S;do this.split(B,this.tmp),T=(B=(B=this.imulK(B)).iadd(this.tmp)).bitLength();while(T>this.n);var _=T<this.n?-1:B.ucmp(this.p);return _===0?(B.words[0]=0,B.length=1):_>0?B.isub(this.p):B.strip!==void 0?B.strip():B._strip(),B},D.prototype.split=function(S,T){S.iushrn(this.n,0,T)},D.prototype.imulK=function(S){return S.imul(this.k)},s(L,D),L.prototype.split=function(S,T){for(var B=Math.min(S.length,9),_=0;_<B;_++)T.words[_]=S.words[_];if(T.length=B,S.length<=9)return S.words[0]=0,void(S.length=1);var v=S.words[9];for(T.words[T.length++]=4194303&v,_=10;_<S.length;_++){var C=0|S.words[_];S.words[_-10]=(4194303&C)<<4|v>>>22,v=C}v>>>=22,S.words[_-10]=v,v===0&&S.length>10?S.length-=10:S.length-=9},L.prototype.imulK=function(S){S.words[S.length]=0,S.words[S.length+1]=0,S.length+=2;for(var T=0,B=0;B<S.length;B++){var _=0|S.words[B];T+=977*_,S.words[B]=67108863&T,T=64*_+(T/67108864|0)}return S.words[S.length-1]===0&&(S.length--,S.words[S.length-1]===0&&S.length--),S},s(k,D),s(R,D),s(N,D),N.prototype.imulK=function(S){for(var T=0,B=0;B<S.length;B++){var _=19*(0|S.words[B])+T,v=67108863&_;_>>>=26,S.words[B]=v,T=_}return T!==0&&(S.words[S.length++]=T),S},a._prime=function(S){if(E[S])return E[S];var T;if(S==="k256")T=new L;else if(S==="p224")T=new k;else if(S==="p192")T=new R;else{if(S!=="p25519")throw new Error("Unknown prime "+S);T=new N}return E[S]=T,T},z.prototype._verify1=function(S){r(S.negative===0,"red works only with positives"),r(S.red,"red works only with red numbers")},z.prototype._verify2=function(S,T){r((S.negative|T.negative)==0,"red works only with positives"),r(S.red&&S.red===T.red,"red works only with red numbers")},z.prototype.imod=function(S){return this.prime?this.prime.ireduce(S)._forceRed(this):S.umod(this.m)._forceRed(this)},z.prototype.neg=function(S){return S.isZero()?S.clone():this.m.sub(S)._forceRed(this)},z.prototype.add=function(S,T){this._verify2(S,T);var B=S.add(T);return B.cmp(this.m)>=0&&B.isub(this.m),B._forceRed(this)},z.prototype.iadd=function(S,T){this._verify2(S,T);var B=S.iadd(T);return B.cmp(this.m)>=0&&B.isub(this.m),B},z.prototype.sub=function(S,T){this._verify2(S,T);var B=S.sub(T);return B.cmpn(0)<0&&B.iadd(this.m),B._forceRed(this)},z.prototype.isub=function(S,T){this._verify2(S,T);var B=S.isub(T);return B.cmpn(0)<0&&B.iadd(this.m),B},z.prototype.shl=function(S,T){return this._verify1(S),this.imod(S.ushln(T))},z.prototype.imul=function(S,T){return this._verify2(S,T),this.imod(S.imul(T))},z.prototype.mul=function(S,T){return this._verify2(S,T),this.imod(S.mul(T))},z.prototype.isqr=function(S){return this.imul(S,S.clone())},z.prototype.sqr=function(S){return this.mul(S,S)},z.prototype.sqrt=function(S){if(S.isZero())return S.clone();var T=this.m.andln(3);if(r(T%2==1),T===3){var B=this.m.add(new a(1)).iushrn(2);return this.pow(S,B)}for(var _=this.m.subn(1),v=0;!_.isZero()&&_.andln(1)===0;)v++,_.iushrn(1);r(!_.isZero());var C=new a(1).toRed(this),y=C.redNeg(),w=this.m.subn(1).iushrn(1),O=this.m.bitLength();for(O=new a(2*O*O).toRed(this);this.pow(O,w).cmp(y)!==0;)O.redIAdd(y);for(var P=this.pow(O,_),W=this.pow(S,_.addn(1).iushrn(1)),G=this.pow(S,_),K=v;G.cmp(C)!==0;){for(var F=G,Y=0;F.cmp(C)!==0;Y++)F=F.redSqr();r(Y<K);var M=this.pow(P,new a(1).iushln(K-Y-1));W=W.redMul(M),P=M.redSqr(),G=G.redMul(P),K=Y}return W},z.prototype.invm=function(S){var T=S._invmp(this.m);return T.negative!==0?(T.negative=0,this.imod(T).redNeg()):this.imod(T)},z.prototype.pow=function(S,T){if(T.isZero())return new a(1).toRed(this);if(T.cmpn(1)===0)return S.clone();var B=new Array(16);B[0]=new a(1).toRed(this),B[1]=S;for(var _=2;_<B.length;_++)B[_]=this.mul(B[_-1],S);var v=B[0],C=0,y=0,w=T.bitLength()%26;for(w===0&&(w=26),_=T.length-1;_>=0;_--){for(var O=T.words[_],P=w-1;P>=0;P--){var W=O>>P&1;v!==B[0]&&(v=this.sqr(v)),W!==0||C!==0?(C<<=1,C|=W,(++y===4||_===0&&P===0)&&(v=this.mul(v,B[C]),y=0,C=0)):y=0}w=26}return v},z.prototype.convertTo=function(S){var T=S.umod(this.m);return T===S?T.clone():T},z.prototype.convertFrom=function(S){var T=S.clone();return T.red=null,T},a.mont=function(S){return new V(S)},s(V,z),V.prototype.convertTo=function(S){return this.imod(S.ushln(this.shift))},V.prototype.convertFrom=function(S){var T=this.imod(S.mul(this.rinv));return T.red=null,T},V.prototype.imul=function(S,T){if(S.isZero()||T.isZero())return S.words[0]=0,S.length=1,S;var B=S.imul(T),_=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=B.isub(_).iushrn(this.shift),C=v;return v.cmp(this.m)>=0?C=v.isub(this.m):v.cmpn(0)<0&&(C=v.iadd(this.m)),C._forceRed(this)},V.prototype.mul=function(S,T){if(S.isZero()||T.isZero())return new a(0)._forceRed(this);var B=S.mul(T),_=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=B.isub(_).iushrn(this.shift),C=v;return v.cmp(this.m)>=0?C=v.isub(this.m):v.cmpn(0)<0&&(C=v.iadd(this.m)),C._forceRed(this)},V.prototype.invm=function(S){return this.imod(S._invmp(this.m).mul(this.r2))._forceRed(this)}})(e===void 0||e)},{buffer:188}],185:[function(i,e,t){"use strict";t.byteLength=function(u){var h=d(u),f=h[0],p=h[1];return 3*(f+p)/4-p},t.toByteArray=function(u){var h,f,p=d(u),m=p[0],g=p[1],b=new r(function(D,L,k){return 3*(L+k)/4-k}(0,m,g)),x=0,E=g>0?m-4:m;for(f=0;f<E;f+=4)h=o[u.charCodeAt(f)]<<18|o[u.charCodeAt(f+1)]<<12|o[u.charCodeAt(f+2)]<<6|o[u.charCodeAt(f+3)],b[x++]=h>>16&255,b[x++]=h>>8&255,b[x++]=255&h;return g===2&&(h=o[u.charCodeAt(f)]<<2|o[u.charCodeAt(f+1)]>>4,b[x++]=255&h),g===1&&(h=o[u.charCodeAt(f)]<<10|o[u.charCodeAt(f+1)]<<4|o[u.charCodeAt(f+2)]>>2,b[x++]=h>>8&255,b[x++]=255&h),b},t.fromByteArray=function(u){for(var h,f=u.length,p=f%3,m=[],g=0,b=f-p;g<b;g+=16383)m.push(c(u,g,g+16383>b?b:g+16383));return p===1?(h=u[f-1],m.push(n[h>>2]+n[h<<4&63]+"==")):p===2&&(h=(u[f-2]<<8)+u[f-1],m.push(n[h>>10]+n[h>>4&63]+n[h<<2&63]+"=")),m.join("")};for(var n=[],o=[],r=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)n[a]=s[a],o[s.charCodeAt(a)]=a;function d(u){var h=u.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=u.indexOf("=");return f===-1&&(f=h),[f,f===h?0:4-f%4]}function c(u,h,f){for(var p,m,g=[],b=h;b<f;b+=3)p=(u[b]<<16&16711680)+(u[b+1]<<8&65280)+(255&u[b+2]),g.push(n[(m=p)>>18&63]+n[m>>12&63]+n[m>>6&63]+n[63&m]);return g.join("")}o[45]=62,o[95]=63},{}],186:[function(i,e,t){"use strict";(function(n,o){function r(_,v){if(!_)throw new Error(v||"Assertion failed")}function s(_,v){_.super_=v;var C=function(){};C.prototype=v.prototype,_.prototype=new C,_.prototype.constructor=_}function a(_,v,C){if(a.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&(v!=="le"&&v!=="be"||(C=v,v=10),this._init(_||0,v||10,C||"be"))}var l;typeof n=="object"?n.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{l=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:i("buffer").Buffer}catch{}function d(_,v){var C=_.charCodeAt(v);return C>=48&&C<=57?C-48:C>=65&&C<=70?C-55:C>=97&&C<=102?C-87:void r(!1,"Invalid character in "+_)}function c(_,v,C){var y=d(_,C);return C-1>=v&&(y|=d(_,C-1)<<4),y}function u(_,v,C,y){for(var w=0,O=0,P=Math.min(_.length,C),W=v;W<P;W++){var G=_.charCodeAt(W)-48;w*=y,O=G>=49?G-49+10:G>=17?G-17+10:G,r(G>=0&&O<y,"Invalid character"),w+=O}return w}function h(_,v){_.words=v.words,_.length=v.length,_.negative=v.negative,_.red=v.red}if(a.isBN=function(_){return _ instanceof a||_!==null&&typeof _=="object"&&_.constructor.wordSize===a.wordSize&&Array.isArray(_.words)},a.max=function(_,v){return _.cmp(v)>0?_:v},a.min=function(_,v){return _.cmp(v)<0?_:v},a.prototype._init=function(_,v,C){if(typeof _=="number")return this._initNumber(_,v,C);if(typeof _=="object")return this._initArray(_,v,C);v==="hex"&&(v=16),r(v===(0|v)&&v>=2&&v<=36);var y=0;(_=_.toString().replace(/\s+/g,""))[0]==="-"&&(y++,this.negative=1),y<_.length&&(v===16?this._parseHex(_,y,C):(this._parseBase(_,v,y),C==="le"&&this._initArray(this.toArray(),v,C)))},a.prototype._initNumber=function(_,v,C){_<0&&(this.negative=1,_=-_),_<67108864?(this.words=[67108863&_],this.length=1):_<4503599627370496?(this.words=[67108863&_,_/67108864&67108863],this.length=2):(r(_<9007199254740992),this.words=[67108863&_,_/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),v,C)},a.prototype._initArray=function(_,v,C){if(r(typeof _.length=="number"),_.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var w,O,P=0;if(C==="be")for(y=_.length-1,w=0;y>=0;y-=3)O=_[y]|_[y-1]<<8|_[y-2]<<16,this.words[w]|=O<<P&67108863,this.words[w+1]=O>>>26-P&67108863,(P+=24)>=26&&(P-=26,w++);else if(C==="le")for(y=0,w=0;y<_.length;y+=3)O=_[y]|_[y+1]<<8|_[y+2]<<16,this.words[w]|=O<<P&67108863,this.words[w+1]=O>>>26-P&67108863,(P+=24)>=26&&(P-=26,w++);return this._strip()},a.prototype._parseHex=function(_,v,C){this.length=Math.ceil((_.length-v)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var w,O=0,P=0;if(C==="be")for(y=_.length-1;y>=v;y-=2)w=c(_,v,y)<<O,this.words[P]|=67108863&w,O>=18?(O-=18,P+=1,this.words[P]|=w>>>26):O+=8;else for(y=(_.length-v)%2==0?v+1:v;y<_.length;y+=2)w=c(_,v,y)<<O,this.words[P]|=67108863&w,O>=18?(O-=18,P+=1,this.words[P]|=w>>>26):O+=8;this._strip()},a.prototype._parseBase=function(_,v,C){this.words=[0],this.length=1;for(var y=0,w=1;w<=67108863;w*=v)y++;y--,w=w/v|0;for(var O=_.length-C,P=O%y,W=Math.min(O,O-P)+C,G=0,K=C;K<W;K+=y)G=u(_,K,K+y,v),this.imuln(w),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G);if(P!==0){var F=1;for(G=u(_,K,_.length,v),K=0;K<P;K++)F*=v;this.imuln(F),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G)}this._strip()},a.prototype.copy=function(_){_.words=new Array(this.length);for(var v=0;v<this.length;v++)_.words[v]=this.words[v];_.length=this.length,_.negative=this.negative,_.red=this.red},a.prototype._move=function(_){h(_,this)},a.prototype.clone=function(){var _=new a(null);return this.copy(_),_},a.prototype._expand=function(_){for(;this.length<_;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{a.prototype.inspect=f}else a.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(_,v){var C;if(v=0|v||1,(_=_||10)===16||_==="hex"){C="";for(var y=0,w=0,O=0;O<this.length;O++){var P=this.words[O],W=(16777215&(P<<y|w)).toString(16);w=P>>>24-y&16777215,(y+=2)>=26&&(y-=26,O--),C=w!==0||O!==this.length-1?p[6-W.length]+W+C:W+C}for(w!==0&&(C=w.toString(16)+C);C.length%v!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(_===(0|_)&&_>=2&&_<=36){var G=m[_],K=g[_];C="";var F=this.clone();for(F.negative=0;!F.isZero();){var Y=F.modrn(K).toString(_);C=(F=F.idivn(K)).isZero()?Y+C:p[G-Y.length]+Y+C}for(this.isZero()&&(C="0"+C);C.length%v!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var _=this.words[0];return this.length===2?_+=67108864*this.words[1]:this.length===3&&this.words[2]===1?_+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-_:_},a.prototype.toJSON=function(){return this.toString(16,2)},l&&(a.prototype.toBuffer=function(_,v){return this.toArrayLike(l,_,v)}),a.prototype.toArray=function(_,v){return this.toArrayLike(Array,_,v)};function b(_,v,C){C.negative=v.negative^_.negative;var y=_.length+v.length|0;C.length=y,y=y-1|0;var w=0|_.words[0],O=0|v.words[0],P=w*O,W=67108863&P,G=P/67108864|0;C.words[0]=W;for(var K=1;K<y;K++){for(var F=G>>>26,Y=67108863&G,M=Math.min(K,v.length-1),A=Math.max(0,K-_.length+1);A<=M;A++){var j=K-A|0;F+=(P=(w=0|_.words[j])*(O=0|v.words[A])+Y)/67108864|0,Y=67108863&P}C.words[K]=0|Y,G=0|F}return G!==0?C.words[K]=0|G:C.length--,C._strip()}a.prototype.toArrayLike=function(_,v,C){this._strip();var y=this.byteLength(),w=C||Math.max(1,y);r(y<=w,"byte array longer than desired length"),r(w>0,"Requested array length <= 0");var O=function(P,W){return P.allocUnsafe?P.allocUnsafe(W):new P(W)}(_,w);return this["_toArrayLike"+(v==="le"?"LE":"BE")](O,y),O},a.prototype._toArrayLikeLE=function(_,v){for(var C=0,y=0,w=0,O=0;w<this.length;w++){var P=this.words[w]<<O|y;_[C++]=255&P,C<_.length&&(_[C++]=P>>8&255),C<_.length&&(_[C++]=P>>16&255),O===6?(C<_.length&&(_[C++]=P>>24&255),y=0,O=0):(y=P>>>24,O+=2)}if(C<_.length)for(_[C++]=y;C<_.length;)_[C++]=0},a.prototype._toArrayLikeBE=function(_,v){for(var C=_.length-1,y=0,w=0,O=0;w<this.length;w++){var P=this.words[w]<<O|y;_[C--]=255&P,C>=0&&(_[C--]=P>>8&255),C>=0&&(_[C--]=P>>16&255),O===6?(C>=0&&(_[C--]=P>>24&255),y=0,O=0):(y=P>>>24,O+=2)}if(C>=0)for(_[C--]=y;C>=0;)_[C--]=0},Math.clz32?a.prototype._countBits=function(_){return 32-Math.clz32(_)}:a.prototype._countBits=function(_){var v=_,C=0;return v>=4096&&(C+=13,v>>>=13),v>=64&&(C+=7,v>>>=7),v>=8&&(C+=4,v>>>=4),v>=2&&(C+=2,v>>>=2),C+v},a.prototype._zeroBits=function(_){if(_===0)return 26;var v=_,C=0;return!(8191&v)&&(C+=13,v>>>=13),!(127&v)&&(C+=7,v>>>=7),!(15&v)&&(C+=4,v>>>=4),!(3&v)&&(C+=2,v>>>=2),!(1&v)&&C++,C},a.prototype.bitLength=function(){var _=this.words[this.length-1],v=this._countBits(_);return 26*(this.length-1)+v},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _=0,v=0;v<this.length;v++){var C=this._zeroBits(this.words[v]);if(_+=C,C!==26)break}return _},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(_){return this.negative!==0?this.abs().inotn(_).iaddn(1):this.clone()},a.prototype.fromTwos=function(_){return this.testn(_-1)?this.notn(_).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(_){for(;this.length<_.length;)this.words[this.length++]=0;for(var v=0;v<_.length;v++)this.words[v]=this.words[v]|_.words[v];return this._strip()},a.prototype.ior=function(_){return r((this.negative|_.negative)==0),this.iuor(_)},a.prototype.or=function(_){return this.length>_.length?this.clone().ior(_):_.clone().ior(this)},a.prototype.uor=function(_){return this.length>_.length?this.clone().iuor(_):_.clone().iuor(this)},a.prototype.iuand=function(_){var v;v=this.length>_.length?_:this;for(var C=0;C<v.length;C++)this.words[C]=this.words[C]&_.words[C];return this.length=v.length,this._strip()},a.prototype.iand=function(_){return r((this.negative|_.negative)==0),this.iuand(_)},a.prototype.and=function(_){return this.length>_.length?this.clone().iand(_):_.clone().iand(this)},a.prototype.uand=function(_){return this.length>_.length?this.clone().iuand(_):_.clone().iuand(this)},a.prototype.iuxor=function(_){var v,C;this.length>_.length?(v=this,C=_):(v=_,C=this);for(var y=0;y<C.length;y++)this.words[y]=v.words[y]^C.words[y];if(this!==v)for(;y<v.length;y++)this.words[y]=v.words[y];return this.length=v.length,this._strip()},a.prototype.ixor=function(_){return r((this.negative|_.negative)==0),this.iuxor(_)},a.prototype.xor=function(_){return this.length>_.length?this.clone().ixor(_):_.clone().ixor(this)},a.prototype.uxor=function(_){return this.length>_.length?this.clone().iuxor(_):_.clone().iuxor(this)},a.prototype.inotn=function(_){r(typeof _=="number"&&_>=0);var v=0|Math.ceil(_/26),C=_%26;this._expand(v),C>0&&v--;for(var y=0;y<v;y++)this.words[y]=67108863&~this.words[y];return C>0&&(this.words[y]=~this.words[y]&67108863>>26-C),this._strip()},a.prototype.notn=function(_){return this.clone().inotn(_)},a.prototype.setn=function(_,v){r(typeof _=="number"&&_>=0);var C=_/26|0,y=_%26;return this._expand(C+1),this.words[C]=v?this.words[C]|1<<y:this.words[C]&~(1<<y),this._strip()},a.prototype.iadd=function(_){var v,C,y;if(this.negative!==0&&_.negative===0)return this.negative=0,v=this.isub(_),this.negative^=1,this._normSign();if(this.negative===0&&_.negative!==0)return _.negative=0,v=this.isub(_),_.negative=1,v._normSign();this.length>_.length?(C=this,y=_):(C=_,y=this);for(var w=0,O=0;O<y.length;O++)v=(0|C.words[O])+(0|y.words[O])+w,this.words[O]=67108863&v,w=v>>>26;for(;w!==0&&O<C.length;O++)v=(0|C.words[O])+w,this.words[O]=67108863&v,w=v>>>26;if(this.length=C.length,w!==0)this.words[this.length]=w,this.length++;else if(C!==this)for(;O<C.length;O++)this.words[O]=C.words[O];return this},a.prototype.add=function(_){var v;return _.negative!==0&&this.negative===0?(_.negative=0,v=this.sub(_),_.negative^=1,v):_.negative===0&&this.negative!==0?(this.negative=0,v=_.sub(this),this.negative=1,v):this.length>_.length?this.clone().iadd(_):_.clone().iadd(this)},a.prototype.isub=function(_){if(_.negative!==0){_.negative=0;var v=this.iadd(_);return _.negative=1,v._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(_),this.negative=1,this._normSign();var C,y,w=this.cmp(_);if(w===0)return this.negative=0,this.length=1,this.words[0]=0,this;w>0?(C=this,y=_):(C=_,y=this);for(var O=0,P=0;P<y.length;P++)O=(v=(0|C.words[P])-(0|y.words[P])+O)>>26,this.words[P]=67108863&v;for(;O!==0&&P<C.length;P++)O=(v=(0|C.words[P])+O)>>26,this.words[P]=67108863&v;if(O===0&&P<C.length&&C!==this)for(;P<C.length;P++)this.words[P]=C.words[P];return this.length=Math.max(this.length,P),C!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(_){return this.clone().isub(_)};var x=function(_,v,C){var y,w,O,P=_.words,W=v.words,G=C.words,K=0,F=0|P[0],Y=8191&F,M=F>>>13,A=0|P[1],j=8191&A,J=A>>>13,ae=0|P[2],ie=8191&ae,re=ae>>>13,Ce=0|P[3],ve=8191&Ce,te=Ce>>>13,ge=0|P[4],he=8191&ge,xe=ge>>>13,Oe=0|P[5],we=8191&Oe,Te=Oe>>>13,Xe=0|P[6],Je=8191&Xe,nt=Xe>>>13,$t=0|P[7],pt=8191&$t,vt=$t>>>13,bi=0|P[8],Ht=8191&bi,gt=bi>>>13,Jt=0|P[9],at=8191&Jt,ot=Jt>>>13,Ai=0|W[0],Rt=8191&Ai,ei=Ai>>>13,zs=0|W[1],Yt=8191&zs,pi=zs>>>13,lo=0|W[2],Si=8191&lo,ti=lo>>>13,Co=0|W[3],_i=8191&Co,zt=Co>>>13,Ao=0|W[4],Ci=8191&Ao,fi=Ao>>>13,Li=0|W[5],di=8191&Li,fe=Li>>>13,Me=0|W[6],Re=8191&Me,Ue=Me>>>13,nn=0|W[7],mt=8191&nn,Ot=nn>>>13,Ni=0|W[8],si=8191&Ni,Dt=Ni>>>13,Cn=0|W[9],$i=8191&Cn,Yi=Cn>>>13;C.negative=_.negative^v.negative,C.length=19;var Mn=(K+(y=Math.imul(Y,Rt))|0)+((8191&(w=(w=Math.imul(Y,ei))+Math.imul(M,Rt)|0))<<13)|0;K=((O=Math.imul(M,ei))+(w>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,y=Math.imul(j,Rt),w=(w=Math.imul(j,ei))+Math.imul(J,Rt)|0,O=Math.imul(J,ei);var mo=(K+(y=y+Math.imul(Y,Yt)|0)|0)+((8191&(w=(w=w+Math.imul(Y,pi)|0)+Math.imul(M,Yt)|0))<<13)|0;K=((O=O+Math.imul(M,pi)|0)+(w>>>13)|0)+(mo>>>26)|0,mo&=67108863,y=Math.imul(ie,Rt),w=(w=Math.imul(ie,ei))+Math.imul(re,Rt)|0,O=Math.imul(re,ei),y=y+Math.imul(j,Yt)|0,w=(w=w+Math.imul(j,pi)|0)+Math.imul(J,Yt)|0,O=O+Math.imul(J,pi)|0;var Zo=(K+(y=y+Math.imul(Y,Si)|0)|0)+((8191&(w=(w=w+Math.imul(Y,ti)|0)+Math.imul(M,Si)|0))<<13)|0;K=((O=O+Math.imul(M,ti)|0)+(w>>>13)|0)+(Zo>>>26)|0,Zo&=67108863,y=Math.imul(ve,Rt),w=(w=Math.imul(ve,ei))+Math.imul(te,Rt)|0,O=Math.imul(te,ei),y=y+Math.imul(ie,Yt)|0,w=(w=w+Math.imul(ie,pi)|0)+Math.imul(re,Yt)|0,O=O+Math.imul(re,pi)|0,y=y+Math.imul(j,Si)|0,w=(w=w+Math.imul(j,ti)|0)+Math.imul(J,Si)|0,O=O+Math.imul(J,ti)|0;var ko=(K+(y=y+Math.imul(Y,_i)|0)|0)+((8191&(w=(w=w+Math.imul(Y,zt)|0)+Math.imul(M,_i)|0))<<13)|0;K=((O=O+Math.imul(M,zt)|0)+(w>>>13)|0)+(ko>>>26)|0,ko&=67108863,y=Math.imul(he,Rt),w=(w=Math.imul(he,ei))+Math.imul(xe,Rt)|0,O=Math.imul(xe,ei),y=y+Math.imul(ve,Yt)|0,w=(w=w+Math.imul(ve,pi)|0)+Math.imul(te,Yt)|0,O=O+Math.imul(te,pi)|0,y=y+Math.imul(ie,Si)|0,w=(w=w+Math.imul(ie,ti)|0)+Math.imul(re,Si)|0,O=O+Math.imul(re,ti)|0,y=y+Math.imul(j,_i)|0,w=(w=w+Math.imul(j,zt)|0)+Math.imul(J,_i)|0,O=O+Math.imul(J,zt)|0;var Ho=(K+(y=y+Math.imul(Y,Ci)|0)|0)+((8191&(w=(w=w+Math.imul(Y,fi)|0)+Math.imul(M,Ci)|0))<<13)|0;K=((O=O+Math.imul(M,fi)|0)+(w>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,y=Math.imul(we,Rt),w=(w=Math.imul(we,ei))+Math.imul(Te,Rt)|0,O=Math.imul(Te,ei),y=y+Math.imul(he,Yt)|0,w=(w=w+Math.imul(he,pi)|0)+Math.imul(xe,Yt)|0,O=O+Math.imul(xe,pi)|0,y=y+Math.imul(ve,Si)|0,w=(w=w+Math.imul(ve,ti)|0)+Math.imul(te,Si)|0,O=O+Math.imul(te,ti)|0,y=y+Math.imul(ie,_i)|0,w=(w=w+Math.imul(ie,zt)|0)+Math.imul(re,_i)|0,O=O+Math.imul(re,zt)|0,y=y+Math.imul(j,Ci)|0,w=(w=w+Math.imul(j,fi)|0)+Math.imul(J,Ci)|0,O=O+Math.imul(J,fi)|0;var Sr=(K+(y=y+Math.imul(Y,di)|0)|0)+((8191&(w=(w=w+Math.imul(Y,fe)|0)+Math.imul(M,di)|0))<<13)|0;K=((O=O+Math.imul(M,fe)|0)+(w>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,y=Math.imul(Je,Rt),w=(w=Math.imul(Je,ei))+Math.imul(nt,Rt)|0,O=Math.imul(nt,ei),y=y+Math.imul(we,Yt)|0,w=(w=w+Math.imul(we,pi)|0)+Math.imul(Te,Yt)|0,O=O+Math.imul(Te,pi)|0,y=y+Math.imul(he,Si)|0,w=(w=w+Math.imul(he,ti)|0)+Math.imul(xe,Si)|0,O=O+Math.imul(xe,ti)|0,y=y+Math.imul(ve,_i)|0,w=(w=w+Math.imul(ve,zt)|0)+Math.imul(te,_i)|0,O=O+Math.imul(te,zt)|0,y=y+Math.imul(ie,Ci)|0,w=(w=w+Math.imul(ie,fi)|0)+Math.imul(re,Ci)|0,O=O+Math.imul(re,fi)|0,y=y+Math.imul(j,di)|0,w=(w=w+Math.imul(j,fe)|0)+Math.imul(J,di)|0,O=O+Math.imul(J,fe)|0;var ce=(K+(y=y+Math.imul(Y,Re)|0)|0)+((8191&(w=(w=w+Math.imul(Y,Ue)|0)+Math.imul(M,Re)|0))<<13)|0;K=((O=O+Math.imul(M,Ue)|0)+(w>>>13)|0)+(ce>>>26)|0,ce&=67108863,y=Math.imul(pt,Rt),w=(w=Math.imul(pt,ei))+Math.imul(vt,Rt)|0,O=Math.imul(vt,ei),y=y+Math.imul(Je,Yt)|0,w=(w=w+Math.imul(Je,pi)|0)+Math.imul(nt,Yt)|0,O=O+Math.imul(nt,pi)|0,y=y+Math.imul(we,Si)|0,w=(w=w+Math.imul(we,ti)|0)+Math.imul(Te,Si)|0,O=O+Math.imul(Te,ti)|0,y=y+Math.imul(he,_i)|0,w=(w=w+Math.imul(he,zt)|0)+Math.imul(xe,_i)|0,O=O+Math.imul(xe,zt)|0,y=y+Math.imul(ve,Ci)|0,w=(w=w+Math.imul(ve,fi)|0)+Math.imul(te,Ci)|0,O=O+Math.imul(te,fi)|0,y=y+Math.imul(ie,di)|0,w=(w=w+Math.imul(ie,fe)|0)+Math.imul(re,di)|0,O=O+Math.imul(re,fe)|0,y=y+Math.imul(j,Re)|0,w=(w=w+Math.imul(j,Ue)|0)+Math.imul(J,Re)|0,O=O+Math.imul(J,Ue)|0;var Ae=(K+(y=y+Math.imul(Y,mt)|0)|0)+((8191&(w=(w=w+Math.imul(Y,Ot)|0)+Math.imul(M,mt)|0))<<13)|0;K=((O=O+Math.imul(M,Ot)|0)+(w>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,y=Math.imul(Ht,Rt),w=(w=Math.imul(Ht,ei))+Math.imul(gt,Rt)|0,O=Math.imul(gt,ei),y=y+Math.imul(pt,Yt)|0,w=(w=w+Math.imul(pt,pi)|0)+Math.imul(vt,Yt)|0,O=O+Math.imul(vt,pi)|0,y=y+Math.imul(Je,Si)|0,w=(w=w+Math.imul(Je,ti)|0)+Math.imul(nt,Si)|0,O=O+Math.imul(nt,ti)|0,y=y+Math.imul(we,_i)|0,w=(w=w+Math.imul(we,zt)|0)+Math.imul(Te,_i)|0,O=O+Math.imul(Te,zt)|0,y=y+Math.imul(he,Ci)|0,w=(w=w+Math.imul(he,fi)|0)+Math.imul(xe,Ci)|0,O=O+Math.imul(xe,fi)|0,y=y+Math.imul(ve,di)|0,w=(w=w+Math.imul(ve,fe)|0)+Math.imul(te,di)|0,O=O+Math.imul(te,fe)|0,y=y+Math.imul(ie,Re)|0,w=(w=w+Math.imul(ie,Ue)|0)+Math.imul(re,Re)|0,O=O+Math.imul(re,Ue)|0,y=y+Math.imul(j,mt)|0,w=(w=w+Math.imul(j,Ot)|0)+Math.imul(J,mt)|0,O=O+Math.imul(J,Ot)|0;var Ye=(K+(y=y+Math.imul(Y,si)|0)|0)+((8191&(w=(w=w+Math.imul(Y,Dt)|0)+Math.imul(M,si)|0))<<13)|0;K=((O=O+Math.imul(M,Dt)|0)+(w>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,y=Math.imul(at,Rt),w=(w=Math.imul(at,ei))+Math.imul(ot,Rt)|0,O=Math.imul(ot,ei),y=y+Math.imul(Ht,Yt)|0,w=(w=w+Math.imul(Ht,pi)|0)+Math.imul(gt,Yt)|0,O=O+Math.imul(gt,pi)|0,y=y+Math.imul(pt,Si)|0,w=(w=w+Math.imul(pt,ti)|0)+Math.imul(vt,Si)|0,O=O+Math.imul(vt,ti)|0,y=y+Math.imul(Je,_i)|0,w=(w=w+Math.imul(Je,zt)|0)+Math.imul(nt,_i)|0,O=O+Math.imul(nt,zt)|0,y=y+Math.imul(we,Ci)|0,w=(w=w+Math.imul(we,fi)|0)+Math.imul(Te,Ci)|0,O=O+Math.imul(Te,fi)|0,y=y+Math.imul(he,di)|0,w=(w=w+Math.imul(he,fe)|0)+Math.imul(xe,di)|0,O=O+Math.imul(xe,fe)|0,y=y+Math.imul(ve,Re)|0,w=(w=w+Math.imul(ve,Ue)|0)+Math.imul(te,Re)|0,O=O+Math.imul(te,Ue)|0,y=y+Math.imul(ie,mt)|0,w=(w=w+Math.imul(ie,Ot)|0)+Math.imul(re,mt)|0,O=O+Math.imul(re,Ot)|0,y=y+Math.imul(j,si)|0,w=(w=w+Math.imul(j,Dt)|0)+Math.imul(J,si)|0,O=O+Math.imul(J,Dt)|0;var He=(K+(y=y+Math.imul(Y,$i)|0)|0)+((8191&(w=(w=w+Math.imul(Y,Yi)|0)+Math.imul(M,$i)|0))<<13)|0;K=((O=O+Math.imul(M,Yi)|0)+(w>>>13)|0)+(He>>>26)|0,He&=67108863,y=Math.imul(at,Yt),w=(w=Math.imul(at,pi))+Math.imul(ot,Yt)|0,O=Math.imul(ot,pi),y=y+Math.imul(Ht,Si)|0,w=(w=w+Math.imul(Ht,ti)|0)+Math.imul(gt,Si)|0,O=O+Math.imul(gt,ti)|0,y=y+Math.imul(pt,_i)|0,w=(w=w+Math.imul(pt,zt)|0)+Math.imul(vt,_i)|0,O=O+Math.imul(vt,zt)|0,y=y+Math.imul(Je,Ci)|0,w=(w=w+Math.imul(Je,fi)|0)+Math.imul(nt,Ci)|0,O=O+Math.imul(nt,fi)|0,y=y+Math.imul(we,di)|0,w=(w=w+Math.imul(we,fe)|0)+Math.imul(Te,di)|0,O=O+Math.imul(Te,fe)|0,y=y+Math.imul(he,Re)|0,w=(w=w+Math.imul(he,Ue)|0)+Math.imul(xe,Re)|0,O=O+Math.imul(xe,Ue)|0,y=y+Math.imul(ve,mt)|0,w=(w=w+Math.imul(ve,Ot)|0)+Math.imul(te,mt)|0,O=O+Math.imul(te,Ot)|0,y=y+Math.imul(ie,si)|0,w=(w=w+Math.imul(ie,Dt)|0)+Math.imul(re,si)|0,O=O+Math.imul(re,Dt)|0;var dt=(K+(y=y+Math.imul(j,$i)|0)|0)+((8191&(w=(w=w+Math.imul(j,Yi)|0)+Math.imul(J,$i)|0))<<13)|0;K=((O=O+Math.imul(J,Yi)|0)+(w>>>13)|0)+(dt>>>26)|0,dt&=67108863,y=Math.imul(at,Si),w=(w=Math.imul(at,ti))+Math.imul(ot,Si)|0,O=Math.imul(ot,ti),y=y+Math.imul(Ht,_i)|0,w=(w=w+Math.imul(Ht,zt)|0)+Math.imul(gt,_i)|0,O=O+Math.imul(gt,zt)|0,y=y+Math.imul(pt,Ci)|0,w=(w=w+Math.imul(pt,fi)|0)+Math.imul(vt,Ci)|0,O=O+Math.imul(vt,fi)|0,y=y+Math.imul(Je,di)|0,w=(w=w+Math.imul(Je,fe)|0)+Math.imul(nt,di)|0,O=O+Math.imul(nt,fe)|0,y=y+Math.imul(we,Re)|0,w=(w=w+Math.imul(we,Ue)|0)+Math.imul(Te,Re)|0,O=O+Math.imul(Te,Ue)|0,y=y+Math.imul(he,mt)|0,w=(w=w+Math.imul(he,Ot)|0)+Math.imul(xe,mt)|0,O=O+Math.imul(xe,Ot)|0,y=y+Math.imul(ve,si)|0,w=(w=w+Math.imul(ve,Dt)|0)+Math.imul(te,si)|0,O=O+Math.imul(te,Dt)|0;var Vt=(K+(y=y+Math.imul(ie,$i)|0)|0)+((8191&(w=(w=w+Math.imul(ie,Yi)|0)+Math.imul(re,$i)|0))<<13)|0;K=((O=O+Math.imul(re,Yi)|0)+(w>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,y=Math.imul(at,_i),w=(w=Math.imul(at,zt))+Math.imul(ot,_i)|0,O=Math.imul(ot,zt),y=y+Math.imul(Ht,Ci)|0,w=(w=w+Math.imul(Ht,fi)|0)+Math.imul(gt,Ci)|0,O=O+Math.imul(gt,fi)|0,y=y+Math.imul(pt,di)|0,w=(w=w+Math.imul(pt,fe)|0)+Math.imul(vt,di)|0,O=O+Math.imul(vt,fe)|0,y=y+Math.imul(Je,Re)|0,w=(w=w+Math.imul(Je,Ue)|0)+Math.imul(nt,Re)|0,O=O+Math.imul(nt,Ue)|0,y=y+Math.imul(we,mt)|0,w=(w=w+Math.imul(we,Ot)|0)+Math.imul(Te,mt)|0,O=O+Math.imul(Te,Ot)|0,y=y+Math.imul(he,si)|0,w=(w=w+Math.imul(he,Dt)|0)+Math.imul(xe,si)|0,O=O+Math.imul(xe,Dt)|0;var kt=(K+(y=y+Math.imul(ve,$i)|0)|0)+((8191&(w=(w=w+Math.imul(ve,Yi)|0)+Math.imul(te,$i)|0))<<13)|0;K=((O=O+Math.imul(te,Yi)|0)+(w>>>13)|0)+(kt>>>26)|0,kt&=67108863,y=Math.imul(at,Ci),w=(w=Math.imul(at,fi))+Math.imul(ot,Ci)|0,O=Math.imul(ot,fi),y=y+Math.imul(Ht,di)|0,w=(w=w+Math.imul(Ht,fe)|0)+Math.imul(gt,di)|0,O=O+Math.imul(gt,fe)|0,y=y+Math.imul(pt,Re)|0,w=(w=w+Math.imul(pt,Ue)|0)+Math.imul(vt,Re)|0,O=O+Math.imul(vt,Ue)|0,y=y+Math.imul(Je,mt)|0,w=(w=w+Math.imul(Je,Ot)|0)+Math.imul(nt,mt)|0,O=O+Math.imul(nt,Ot)|0,y=y+Math.imul(we,si)|0,w=(w=w+Math.imul(we,Dt)|0)+Math.imul(Te,si)|0,O=O+Math.imul(Te,Dt)|0;var Qi=(K+(y=y+Math.imul(he,$i)|0)|0)+((8191&(w=(w=w+Math.imul(he,Yi)|0)+Math.imul(xe,$i)|0))<<13)|0;K=((O=O+Math.imul(xe,Yi)|0)+(w>>>13)|0)+(Qi>>>26)|0,Qi&=67108863,y=Math.imul(at,di),w=(w=Math.imul(at,fe))+Math.imul(ot,di)|0,O=Math.imul(ot,fe),y=y+Math.imul(Ht,Re)|0,w=(w=w+Math.imul(Ht,Ue)|0)+Math.imul(gt,Re)|0,O=O+Math.imul(gt,Ue)|0,y=y+Math.imul(pt,mt)|0,w=(w=w+Math.imul(pt,Ot)|0)+Math.imul(vt,mt)|0,O=O+Math.imul(vt,Ot)|0,y=y+Math.imul(Je,si)|0,w=(w=w+Math.imul(Je,Dt)|0)+Math.imul(nt,si)|0,O=O+Math.imul(nt,Dt)|0;var Ei=(K+(y=y+Math.imul(we,$i)|0)|0)+((8191&(w=(w=w+Math.imul(we,Yi)|0)+Math.imul(Te,$i)|0))<<13)|0;K=((O=O+Math.imul(Te,Yi)|0)+(w>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,y=Math.imul(at,Re),w=(w=Math.imul(at,Ue))+Math.imul(ot,Re)|0,O=Math.imul(ot,Ue),y=y+Math.imul(Ht,mt)|0,w=(w=w+Math.imul(Ht,Ot)|0)+Math.imul(gt,mt)|0,O=O+Math.imul(gt,Ot)|0,y=y+Math.imul(pt,si)|0,w=(w=w+Math.imul(pt,Dt)|0)+Math.imul(vt,si)|0,O=O+Math.imul(vt,Dt)|0;var vi=(K+(y=y+Math.imul(Je,$i)|0)|0)+((8191&(w=(w=w+Math.imul(Je,Yi)|0)+Math.imul(nt,$i)|0))<<13)|0;K=((O=O+Math.imul(nt,Yi)|0)+(w>>>13)|0)+(vi>>>26)|0,vi&=67108863,y=Math.imul(at,mt),w=(w=Math.imul(at,Ot))+Math.imul(ot,mt)|0,O=Math.imul(ot,Ot),y=y+Math.imul(Ht,si)|0,w=(w=w+Math.imul(Ht,Dt)|0)+Math.imul(gt,si)|0,O=O+Math.imul(gt,Dt)|0;var wi=(K+(y=y+Math.imul(pt,$i)|0)|0)+((8191&(w=(w=w+Math.imul(pt,Yi)|0)+Math.imul(vt,$i)|0))<<13)|0;K=((O=O+Math.imul(vt,Yi)|0)+(w>>>13)|0)+(wi>>>26)|0,wi&=67108863,y=Math.imul(at,si),w=(w=Math.imul(at,Dt))+Math.imul(ot,si)|0,O=Math.imul(ot,Dt);var go=(K+(y=y+Math.imul(Ht,$i)|0)|0)+((8191&(w=(w=w+Math.imul(Ht,Yi)|0)+Math.imul(gt,$i)|0))<<13)|0;K=((O=O+Math.imul(gt,Yi)|0)+(w>>>13)|0)+(go>>>26)|0,go&=67108863;var wo=(K+(y=Math.imul(at,$i))|0)+((8191&(w=(w=Math.imul(at,Yi))+Math.imul(ot,$i)|0))<<13)|0;return K=((O=Math.imul(ot,Yi))+(w>>>13)|0)+(wo>>>26)|0,wo&=67108863,G[0]=Mn,G[1]=mo,G[2]=Zo,G[3]=ko,G[4]=Ho,G[5]=Sr,G[6]=ce,G[7]=Ae,G[8]=Ye,G[9]=He,G[10]=dt,G[11]=Vt,G[12]=kt,G[13]=Qi,G[14]=Ei,G[15]=vi,G[16]=wi,G[17]=go,G[18]=wo,K!==0&&(G[19]=K,C.length++),C};function E(_,v,C){C.negative=v.negative^_.negative,C.length=_.length+v.length;for(var y=0,w=0,O=0;O<C.length-1;O++){var P=w;w=0;for(var W=67108863&y,G=Math.min(O,v.length-1),K=Math.max(0,O-_.length+1);K<=G;K++){var F=O-K,Y=(0|_.words[F])*(0|v.words[K]),M=67108863&Y;W=67108863&(M=M+W|0),w+=(P=(P=P+(Y/67108864|0)|0)+(M>>>26)|0)>>>26,P&=67108863}C.words[O]=W,y=P,P=w}return y!==0?C.words[O]=y:C.length--,C._strip()}function D(_,v,C){return E(_,v,C)}function L(_,v){this.x=_,this.y=v}Math.imul||(x=b),a.prototype.mulTo=function(_,v){var C=this.length+_.length;return this.length===10&&_.length===10?x(this,_,v):C<63?b(this,_,v):C<1024?E(this,_,v):D(this,_,v)},L.prototype.makeRBT=function(_){for(var v=new Array(_),C=a.prototype._countBits(_)-1,y=0;y<_;y++)v[y]=this.revBin(y,C,_);return v},L.prototype.revBin=function(_,v,C){if(_===0||_===C-1)return _;for(var y=0,w=0;w<v;w++)y|=(1&_)<<v-w-1,_>>=1;return y},L.prototype.permute=function(_,v,C,y,w,O){for(var P=0;P<O;P++)y[P]=v[_[P]],w[P]=C[_[P]]},L.prototype.transform=function(_,v,C,y,w,O){this.permute(O,_,v,C,y,w);for(var P=1;P<w;P<<=1)for(var W=P<<1,G=Math.cos(2*Math.PI/W),K=Math.sin(2*Math.PI/W),F=0;F<w;F+=W)for(var Y=G,M=K,A=0;A<P;A++){var j=C[F+A],J=y[F+A],ae=C[F+A+P],ie=y[F+A+P],re=Y*ae-M*ie;ie=Y*ie+M*ae,ae=re,C[F+A]=j+ae,y[F+A]=J+ie,C[F+A+P]=j-ae,y[F+A+P]=J-ie,A!==W&&(re=G*Y-K*M,M=G*M+K*Y,Y=re)}},L.prototype.guessLen13b=function(_,v){var C=1|Math.max(v,_),y=1&C,w=0;for(C=C/2|0;C;C>>>=1)w++;return 1<<w+1+y},L.prototype.conjugate=function(_,v,C){if(!(C<=1))for(var y=0;y<C/2;y++){var w=_[y];_[y]=_[C-y-1],_[C-y-1]=w,w=v[y],v[y]=-v[C-y-1],v[C-y-1]=-w}},L.prototype.normalize13b=function(_,v){for(var C=0,y=0;y<v/2;y++){var w=8192*Math.round(_[2*y+1]/v)+Math.round(_[2*y]/v)+C;_[y]=67108863&w,C=w<67108864?0:w/67108864|0}return _},L.prototype.convert13b=function(_,v,C,y){for(var w=0,O=0;O<v;O++)w+=0|_[O],C[2*O]=8191&w,w>>>=13,C[2*O+1]=8191&w,w>>>=13;for(O=2*v;O<y;++O)C[O]=0;r(w===0),r((-8192&w)==0)},L.prototype.stub=function(_){for(var v=new Array(_),C=0;C<_;C++)v[C]=0;return v},L.prototype.mulp=function(_,v,C){var y=2*this.guessLen13b(_.length,v.length),w=this.makeRBT(y),O=this.stub(y),P=new Array(y),W=new Array(y),G=new Array(y),K=new Array(y),F=new Array(y),Y=new Array(y),M=C.words;M.length=y,this.convert13b(_.words,_.length,P,y),this.convert13b(v.words,v.length,K,y),this.transform(P,O,W,G,y,w),this.transform(K,O,F,Y,y,w);for(var A=0;A<y;A++){var j=W[A]*F[A]-G[A]*Y[A];G[A]=W[A]*Y[A]+G[A]*F[A],W[A]=j}return this.conjugate(W,G,y),this.transform(W,G,M,O,y,w),this.conjugate(M,O,y),this.normalize13b(M,y),C.negative=_.negative^v.negative,C.length=_.length+v.length,C._strip()},a.prototype.mul=function(_){var v=new a(null);return v.words=new Array(this.length+_.length),this.mulTo(_,v)},a.prototype.mulf=function(_){var v=new a(null);return v.words=new Array(this.length+_.length),D(this,_,v)},a.prototype.imul=function(_){return this.clone().mulTo(_,this)},a.prototype.imuln=function(_){var v=_<0;v&&(_=-_),r(typeof _=="number"),r(_<67108864);for(var C=0,y=0;y<this.length;y++){var w=(0|this.words[y])*_,O=(67108863&w)+(67108863&C);C>>=26,C+=w/67108864|0,C+=O>>>26,this.words[y]=67108863&O}return C!==0&&(this.words[y]=C,this.length++),v?this.ineg():this},a.prototype.muln=function(_){return this.clone().imuln(_)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(_){var v=function(O){for(var P=new Array(O.bitLength()),W=0;W<P.length;W++){var G=W/26|0,K=W%26;P[W]=O.words[G]>>>K&1}return P}(_);if(v.length===0)return new a(1);for(var C=this,y=0;y<v.length&&v[y]===0;y++,C=C.sqr());if(++y<v.length)for(var w=C.sqr();y<v.length;y++,w=w.sqr())v[y]!==0&&(C=C.mul(w));return C},a.prototype.iushln=function(_){r(typeof _=="number"&&_>=0);var v,C=_%26,y=(_-C)/26,w=67108863>>>26-C<<26-C;if(C!==0){var O=0;for(v=0;v<this.length;v++){var P=this.words[v]&w,W=(0|this.words[v])-P<<C;this.words[v]=W|O,O=P>>>26-C}O&&(this.words[v]=O,this.length++)}if(y!==0){for(v=this.length-1;v>=0;v--)this.words[v+y]=this.words[v];for(v=0;v<y;v++)this.words[v]=0;this.length+=y}return this._strip()},a.prototype.ishln=function(_){return r(this.negative===0),this.iushln(_)},a.prototype.iushrn=function(_,v,C){var y;r(typeof _=="number"&&_>=0),y=v?(v-v%26)/26:0;var w=_%26,O=Math.min((_-w)/26,this.length),P=67108863^67108863>>>w<<w,W=C;if(y-=O,y=Math.max(0,y),W){for(var G=0;G<O;G++)W.words[G]=this.words[G];W.length=O}if(O!==0)if(this.length>O)for(this.length-=O,G=0;G<this.length;G++)this.words[G]=this.words[G+O];else this.words[0]=0,this.length=1;var K=0;for(G=this.length-1;G>=0&&(K!==0||G>=y);G--){var F=0|this.words[G];this.words[G]=K<<26-w|F>>>w,K=F&P}return W&&K!==0&&(W.words[W.length++]=K),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(_,v,C){return r(this.negative===0),this.iushrn(_,v,C)},a.prototype.shln=function(_){return this.clone().ishln(_)},a.prototype.ushln=function(_){return this.clone().iushln(_)},a.prototype.shrn=function(_){return this.clone().ishrn(_)},a.prototype.ushrn=function(_){return this.clone().iushrn(_)},a.prototype.testn=function(_){r(typeof _=="number"&&_>=0);var v=_%26,C=(_-v)/26,y=1<<v;return!(this.length<=C)&&!!(this.words[C]&y)},a.prototype.imaskn=function(_){r(typeof _=="number"&&_>=0);var v=_%26,C=(_-v)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(v!==0&&C++,this.length=Math.min(C,this.length),v!==0){var y=67108863^67108863>>>v<<v;this.words[this.length-1]&=y}return this._strip()},a.prototype.maskn=function(_){return this.clone().imaskn(_)},a.prototype.iaddn=function(_){return r(typeof _=="number"),r(_<67108864),_<0?this.isubn(-_):this.negative!==0?this.length===1&&(0|this.words[0])<=_?(this.words[0]=_-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(_),this.negative=1,this):this._iaddn(_)},a.prototype._iaddn=function(_){this.words[0]+=_;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},a.prototype.isubn=function(_){if(r(typeof _=="number"),r(_<67108864),_<0)return this.iaddn(-_);if(this.negative!==0)return this.negative=0,this.iaddn(_),this.negative=1,this;if(this.words[0]-=_,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this._strip()},a.prototype.addn=function(_){return this.clone().iaddn(_)},a.prototype.subn=function(_){return this.clone().isubn(_)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(_,v,C){var y,w,O=_.length+C;this._expand(O);var P=0;for(y=0;y<_.length;y++){w=(0|this.words[y+C])+P;var W=(0|_.words[y])*v;P=((w-=67108863&W)>>26)-(W/67108864|0),this.words[y+C]=67108863&w}for(;y<this.length-C;y++)P=(w=(0|this.words[y+C])+P)>>26,this.words[y+C]=67108863&w;if(P===0)return this._strip();for(r(P===-1),P=0,y=0;y<this.length;y++)P=(w=-(0|this.words[y])+P)>>26,this.words[y]=67108863&w;return this.negative=1,this._strip()},a.prototype._wordDiv=function(_,v){var C=(this.length,_.length),y=this.clone(),w=_,O=0|w.words[w.length-1];(C=26-this._countBits(O))!==0&&(w=w.ushln(C),y.iushln(C),O=0|w.words[w.length-1]);var P,W=y.length-w.length;if(v!=="mod"){(P=new a(null)).length=W+1,P.words=new Array(P.length);for(var G=0;G<P.length;G++)P.words[G]=0}var K=y.clone()._ishlnsubmul(w,1,W);K.negative===0&&(y=K,P&&(P.words[W]=1));for(var F=W-1;F>=0;F--){var Y=67108864*(0|y.words[w.length+F])+(0|y.words[w.length+F-1]);for(Y=Math.min(Y/O|0,67108863),y._ishlnsubmul(w,Y,F);y.negative!==0;)Y--,y.negative=0,y._ishlnsubmul(w,1,F),y.isZero()||(y.negative^=1);P&&(P.words[F]=Y)}return P&&P._strip(),y._strip(),v!=="div"&&C!==0&&y.iushrn(C),{div:P||null,mod:y}},a.prototype.divmod=function(_,v,C){return r(!_.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&_.negative===0?(O=this.neg().divmod(_,v),v!=="mod"&&(y=O.div.neg()),v!=="div"&&(w=O.mod.neg(),C&&w.negative!==0&&w.iadd(_)),{div:y,mod:w}):this.negative===0&&_.negative!==0?(O=this.divmod(_.neg(),v),v!=="mod"&&(y=O.div.neg()),{div:y,mod:O.mod}):this.negative&_.negative?(O=this.neg().divmod(_.neg(),v),v!=="div"&&(w=O.mod.neg(),C&&w.negative!==0&&w.isub(_)),{div:O.div,mod:w}):_.length>this.length||this.cmp(_)<0?{div:new a(0),mod:this}:_.length===1?v==="div"?{div:this.divn(_.words[0]),mod:null}:v==="mod"?{div:null,mod:new a(this.modrn(_.words[0]))}:{div:this.divn(_.words[0]),mod:new a(this.modrn(_.words[0]))}:this._wordDiv(_,v);var y,w,O},a.prototype.div=function(_){return this.divmod(_,"div",!1).div},a.prototype.mod=function(_){return this.divmod(_,"mod",!1).mod},a.prototype.umod=function(_){return this.divmod(_,"mod",!0).mod},a.prototype.divRound=function(_){var v=this.divmod(_);if(v.mod.isZero())return v.div;var C=v.div.negative!==0?v.mod.isub(_):v.mod,y=_.ushrn(1),w=_.andln(1),O=C.cmp(y);return O<0||w===1&&O===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},a.prototype.modrn=function(_){var v=_<0;v&&(_=-_),r(_<=67108863);for(var C=(1<<26)%_,y=0,w=this.length-1;w>=0;w--)y=(C*y+(0|this.words[w]))%_;return v?-y:y},a.prototype.modn=function(_){return this.modrn(_)},a.prototype.idivn=function(_){var v=_<0;v&&(_=-_),r(_<=67108863);for(var C=0,y=this.length-1;y>=0;y--){var w=(0|this.words[y])+67108864*C;this.words[y]=w/_|0,C=w%_}return this._strip(),v?this.ineg():this},a.prototype.divn=function(_){return this.clone().idivn(_)},a.prototype.egcd=function(_){r(_.negative===0),r(!_.isZero());var v=this,C=_.clone();v=v.negative!==0?v.umod(_):v.clone();for(var y=new a(1),w=new a(0),O=new a(0),P=new a(1),W=0;v.isEven()&&C.isEven();)v.iushrn(1),C.iushrn(1),++W;for(var G=C.clone(),K=v.clone();!v.isZero();){for(var F=0,Y=1;!(v.words[0]&Y)&&F<26;++F,Y<<=1);if(F>0)for(v.iushrn(F);F-- >0;)(y.isOdd()||w.isOdd())&&(y.iadd(G),w.isub(K)),y.iushrn(1),w.iushrn(1);for(var M=0,A=1;!(C.words[0]&A)&&M<26;++M,A<<=1);if(M>0)for(C.iushrn(M);M-- >0;)(O.isOdd()||P.isOdd())&&(O.iadd(G),P.isub(K)),O.iushrn(1),P.iushrn(1);v.cmp(C)>=0?(v.isub(C),y.isub(O),w.isub(P)):(C.isub(v),O.isub(y),P.isub(w))}return{a:O,b:P,gcd:C.iushln(W)}},a.prototype._invmp=function(_){r(_.negative===0),r(!_.isZero());var v=this,C=_.clone();v=v.negative!==0?v.umod(_):v.clone();for(var y,w=new a(1),O=new a(0),P=C.clone();v.cmpn(1)>0&&C.cmpn(1)>0;){for(var W=0,G=1;!(v.words[0]&G)&&W<26;++W,G<<=1);if(W>0)for(v.iushrn(W);W-- >0;)w.isOdd()&&w.iadd(P),w.iushrn(1);for(var K=0,F=1;!(C.words[0]&F)&&K<26;++K,F<<=1);if(K>0)for(C.iushrn(K);K-- >0;)O.isOdd()&&O.iadd(P),O.iushrn(1);v.cmp(C)>=0?(v.isub(C),w.isub(O)):(C.isub(v),O.isub(w))}return(y=v.cmpn(1)===0?w:O).cmpn(0)<0&&y.iadd(_),y},a.prototype.gcd=function(_){if(this.isZero())return _.abs();if(_.isZero())return this.abs();var v=this.clone(),C=_.clone();v.negative=0,C.negative=0;for(var y=0;v.isEven()&&C.isEven();y++)v.iushrn(1),C.iushrn(1);for(;;){for(;v.isEven();)v.iushrn(1);for(;C.isEven();)C.iushrn(1);var w=v.cmp(C);if(w<0){var O=v;v=C,C=O}else if(w===0||C.cmpn(1)===0)break;v.isub(C)}return C.iushln(y)},a.prototype.invm=function(_){return this.egcd(_).a.umod(_)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(_){return this.words[0]&_},a.prototype.bincn=function(_){r(typeof _=="number");var v=_%26,C=(_-v)/26,y=1<<v;if(this.length<=C)return this._expand(C+1),this.words[C]|=y,this;for(var w=y,O=C;w!==0&&O<this.length;O++){var P=0|this.words[O];w=(P+=w)>>>26,P&=67108863,this.words[O]=P}return w!==0&&(this.words[O]=w,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(_){var v,C=_<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;if(this._strip(),this.length>1)v=1;else{C&&(_=-_),r(_<=67108863,"Number is too big");var y=0|this.words[0];v=y===_?0:y<_?-1:1}return this.negative!==0?0|-v:v},a.prototype.cmp=function(_){if(this.negative!==0&&_.negative===0)return-1;if(this.negative===0&&_.negative!==0)return 1;var v=this.ucmp(_);return this.negative!==0?0|-v:v},a.prototype.ucmp=function(_){if(this.length>_.length)return 1;if(this.length<_.length)return-1;for(var v=0,C=this.length-1;C>=0;C--){var y=0|this.words[C],w=0|_.words[C];if(y!==w){y<w?v=-1:y>w&&(v=1);break}}return v},a.prototype.gtn=function(_){return this.cmpn(_)===1},a.prototype.gt=function(_){return this.cmp(_)===1},a.prototype.gten=function(_){return this.cmpn(_)>=0},a.prototype.gte=function(_){return this.cmp(_)>=0},a.prototype.ltn=function(_){return this.cmpn(_)===-1},a.prototype.lt=function(_){return this.cmp(_)===-1},a.prototype.lten=function(_){return this.cmpn(_)<=0},a.prototype.lte=function(_){return this.cmp(_)<=0},a.prototype.eqn=function(_){return this.cmpn(_)===0},a.prototype.eq=function(_){return this.cmp(_)===0},a.red=function(_){return new T(_)},a.prototype.toRed=function(_){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),_.convertTo(this)._forceRed(_)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(_){return this.red=_,this},a.prototype.forceRed=function(_){return r(!this.red,"Already a number in reduction context"),this._forceRed(_)},a.prototype.redAdd=function(_){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,_)},a.prototype.redIAdd=function(_){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_)},a.prototype.redSub=function(_){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,_)},a.prototype.redISub=function(_){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,_)},a.prototype.redShl=function(_){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,_)},a.prototype.redMul=function(_){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.mul(this,_)},a.prototype.redIMul=function(_){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.imul(this,_)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(_){return r(this.red&&!_.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_)};var k={k256:null,p224:null,p192:null,p25519:null};function R(_,v){this.name=_,this.p=new a(v,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function N(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function z(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function V(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function T(_){if(typeof _=="string"){var v=a._prime(_);this.m=v.p,this.prime=v}else r(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}function B(_){T.call(this,_),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}R.prototype._tmp=function(){var _=new a(null);return _.words=new Array(Math.ceil(this.n/13)),_},R.prototype.ireduce=function(_){var v,C=_;do this.split(C,this.tmp),v=(C=(C=this.imulK(C)).iadd(this.tmp)).bitLength();while(v>this.n);var y=v<this.n?-1:C.ucmp(this.p);return y===0?(C.words[0]=0,C.length=1):y>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},R.prototype.split=function(_,v){_.iushrn(this.n,0,v)},R.prototype.imulK=function(_){return _.imul(this.k)},s(N,R),N.prototype.split=function(_,v){for(var C=Math.min(_.length,9),y=0;y<C;y++)v.words[y]=_.words[y];if(v.length=C,_.length<=9)return _.words[0]=0,void(_.length=1);var w=_.words[9];for(v.words[v.length++]=4194303&w,y=10;y<_.length;y++){var O=0|_.words[y];_.words[y-10]=(4194303&O)<<4|w>>>22,w=O}w>>>=22,_.words[y-10]=w,w===0&&_.length>10?_.length-=10:_.length-=9},N.prototype.imulK=function(_){_.words[_.length]=0,_.words[_.length+1]=0,_.length+=2;for(var v=0,C=0;C<_.length;C++){var y=0|_.words[C];v+=977*y,_.words[C]=67108863&v,v=64*y+(v/67108864|0)}return _.words[_.length-1]===0&&(_.length--,_.words[_.length-1]===0&&_.length--),_},s(z,R),s(V,R),s(S,R),S.prototype.imulK=function(_){for(var v=0,C=0;C<_.length;C++){var y=19*(0|_.words[C])+v,w=67108863&y;y>>>=26,_.words[C]=w,v=y}return v!==0&&(_.words[_.length++]=v),_},a._prime=function(_){if(k[_])return k[_];var v;if(_==="k256")v=new N;else if(_==="p224")v=new z;else if(_==="p192")v=new V;else{if(_!=="p25519")throw new Error("Unknown prime "+_);v=new S}return k[_]=v,v},T.prototype._verify1=function(_){r(_.negative===0,"red works only with positives"),r(_.red,"red works only with red numbers")},T.prototype._verify2=function(_,v){r((_.negative|v.negative)==0,"red works only with positives"),r(_.red&&_.red===v.red,"red works only with red numbers")},T.prototype.imod=function(_){return this.prime?this.prime.ireduce(_)._forceRed(this):(h(_,_.umod(this.m)._forceRed(this)),_)},T.prototype.neg=function(_){return _.isZero()?_.clone():this.m.sub(_)._forceRed(this)},T.prototype.add=function(_,v){this._verify2(_,v);var C=_.add(v);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},T.prototype.iadd=function(_,v){this._verify2(_,v);var C=_.iadd(v);return C.cmp(this.m)>=0&&C.isub(this.m),C},T.prototype.sub=function(_,v){this._verify2(_,v);var C=_.sub(v);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},T.prototype.isub=function(_,v){this._verify2(_,v);var C=_.isub(v);return C.cmpn(0)<0&&C.iadd(this.m),C},T.prototype.shl=function(_,v){return this._verify1(_),this.imod(_.ushln(v))},T.prototype.imul=function(_,v){return this._verify2(_,v),this.imod(_.imul(v))},T.prototype.mul=function(_,v){return this._verify2(_,v),this.imod(_.mul(v))},T.prototype.isqr=function(_){return this.imul(_,_.clone())},T.prototype.sqr=function(_){return this.mul(_,_)},T.prototype.sqrt=function(_){if(_.isZero())return _.clone();var v=this.m.andln(3);if(r(v%2==1),v===3){var C=this.m.add(new a(1)).iushrn(2);return this.pow(_,C)}for(var y=this.m.subn(1),w=0;!y.isZero()&&y.andln(1)===0;)w++,y.iushrn(1);r(!y.isZero());var O=new a(1).toRed(this),P=O.redNeg(),W=this.m.subn(1).iushrn(1),G=this.m.bitLength();for(G=new a(2*G*G).toRed(this);this.pow(G,W).cmp(P)!==0;)G.redIAdd(P);for(var K=this.pow(G,y),F=this.pow(_,y.addn(1).iushrn(1)),Y=this.pow(_,y),M=w;Y.cmp(O)!==0;){for(var A=Y,j=0;A.cmp(O)!==0;j++)A=A.redSqr();r(j<M);var J=this.pow(K,new a(1).iushln(M-j-1));F=F.redMul(J),K=J.redSqr(),Y=Y.redMul(K),M=j}return F},T.prototype.invm=function(_){var v=_._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},T.prototype.pow=function(_,v){if(v.isZero())return new a(1).toRed(this);if(v.cmpn(1)===0)return _.clone();var C=new Array(16);C[0]=new a(1).toRed(this),C[1]=_;for(var y=2;y<C.length;y++)C[y]=this.mul(C[y-1],_);var w=C[0],O=0,P=0,W=v.bitLength()%26;for(W===0&&(W=26),y=v.length-1;y>=0;y--){for(var G=v.words[y],K=W-1;K>=0;K--){var F=G>>K&1;w!==C[0]&&(w=this.sqr(w)),F!==0||O!==0?(O<<=1,O|=F,(++P===4||y===0&&K===0)&&(w=this.mul(w,C[O]),P=0,O=0)):P=0}W=26}return w},T.prototype.convertTo=function(_){var v=_.umod(this.m);return v===_?v.clone():v},T.prototype.convertFrom=function(_){var v=_.clone();return v.red=null,v},a.mont=function(_){return new B(_)},s(B,T),B.prototype.convertTo=function(_){return this.imod(_.ushln(this.shift))},B.prototype.convertFrom=function(_){var v=this.imod(_.mul(this.rinv));return v.red=null,v},B.prototype.imul=function(_,v){if(_.isZero()||v.isZero())return _.words[0]=0,_.length=1,_;var C=_.imul(v),y=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=C.isub(y).iushrn(this.shift),O=w;return w.cmp(this.m)>=0?O=w.isub(this.m):w.cmpn(0)<0&&(O=w.iadd(this.m)),O._forceRed(this)},B.prototype.mul=function(_,v){if(_.isZero()||v.isZero())return new a(0)._forceRed(this);var C=_.mul(v),y=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=C.isub(y).iushrn(this.shift),O=w;return w.cmp(this.m)>=0?O=w.isub(this.m):w.cmpn(0)<0&&(O=w.iadd(this.m)),O._forceRed(this)},B.prototype.invm=function(_){return this.imod(_._invmp(this.m).mul(this.r2))._forceRed(this)}})(e===void 0||e)},{buffer:188}],187:[function(i,e,t){"use strict";var n;function o(s){this.rand=s}if(e.exports=function(s){return n||(n=new o(null)),n.generate(s)},e.exports.Rand=o,o.prototype.generate=function(s){return this._rand(s)},o.prototype._rand=function(s){if(this.rand.getBytes)return this.rand.getBytes(s);for(var a=new Uint8Array(s),l=0;l<a.length;l++)a[l]=this.rand.getByte();return a},typeof self=="object")self.crypto&&self.crypto.getRandomValues?o.prototype._rand=function(s){var a=new Uint8Array(s);return self.crypto.getRandomValues(a),a}:self.msCrypto&&self.msCrypto.getRandomValues?o.prototype._rand=function(s){var a=new Uint8Array(s);return self.msCrypto.getRandomValues(a),a}:typeof window=="object"&&(o.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=i("crypto");if(typeof r.randomBytes!="function")throw new Error("Not supported");o.prototype._rand=function(s){return r.randomBytes(s)}}catch{}},{crypto:188}],188:[function(i,e,t){},{}],189:[function(i,e,t){"use strict";var n=i("safe-buffer").Buffer;function o(c){n.isBuffer(c)||(c=n.from(c));for(var u=c.length/4|0,h=new Array(u),f=0;f<u;f++)h[f]=c.readUInt32BE(4*f);return h}function r(c){for(;0<c.length;c++)c[0]=0}function s(c,u,h,f,p){for(var m,g,b,x,E=h[0],D=h[1],L=h[2],k=h[3],R=c[0]^u[0],N=c[1]^u[1],z=c[2]^u[2],V=c[3]^u[3],S=4,T=1;T<p;T++)m=E[R>>>24]^D[N>>>16&255]^L[z>>>8&255]^k[255&V]^u[S++],g=E[N>>>24]^D[z>>>16&255]^L[V>>>8&255]^k[255&R]^u[S++],b=E[z>>>24]^D[V>>>16&255]^L[R>>>8&255]^k[255&N]^u[S++],x=E[V>>>24]^D[R>>>16&255]^L[N>>>8&255]^k[255&z]^u[S++],R=m,N=g,z=b,V=x;return m=(f[R>>>24]<<24|f[N>>>16&255]<<16|f[z>>>8&255]<<8|f[255&V])^u[S++],g=(f[N>>>24]<<24|f[z>>>16&255]<<16|f[V>>>8&255]<<8|f[255&R])^u[S++],b=(f[z>>>24]<<24|f[V>>>16&255]<<16|f[R>>>8&255]<<8|f[255&N])^u[S++],x=(f[V>>>24]<<24|f[R>>>16&255]<<16|f[N>>>8&255]<<8|f[255&z])^u[S++],[m>>>=0,g>>>=0,b>>>=0,x>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],l=function(){for(var c=new Array(256),u=0;u<256;u++)c[u]=u<128?u<<1:u<<1^283;for(var h=[],f=[],p=[[],[],[],[]],m=[[],[],[],[]],g=0,b=0,x=0;x<256;++x){var E=b^b<<1^b<<2^b<<3^b<<4;E=E>>>8^255&E^99,h[g]=E,f[E]=g;var D=c[g],L=c[D],k=c[L],R=257*c[E]^16843008*E;p[0][g]=R<<24|R>>>8,p[1][g]=R<<16|R>>>16,p[2][g]=R<<8|R>>>24,p[3][g]=R,R=16843009*k^65537*L^257*D^16843008*g,m[0][E]=R<<24|R>>>8,m[1][E]=R<<16|R>>>16,m[2][E]=R<<8|R>>>24,m[3][E]=R,g===0?g=b=1:(g=D^c[c[c[k^D]]],b^=c[c[b]])}return{SBOX:h,INV_SBOX:f,SUB_MIX:p,INV_SUB_MIX:m}}();function d(c){this._key=o(c),this._reset()}d.blockSize=16,d.keySize=32,d.prototype.blockSize=d.blockSize,d.prototype.keySize=d.keySize,d.prototype._reset=function(){for(var c=this._key,u=c.length,h=u+6,f=4*(h+1),p=[],m=0;m<u;m++)p[m]=c[m];for(m=u;m<f;m++){var g=p[m-1];m%u==0?(g=g<<8|g>>>24,g=l.SBOX[g>>>24]<<24|l.SBOX[g>>>16&255]<<16|l.SBOX[g>>>8&255]<<8|l.SBOX[255&g],g^=a[m/u|0]<<24):u>6&&m%u==4&&(g=l.SBOX[g>>>24]<<24|l.SBOX[g>>>16&255]<<16|l.SBOX[g>>>8&255]<<8|l.SBOX[255&g]),p[m]=p[m-u]^g}for(var b=[],x=0;x<f;x++){var E=f-x,D=p[E-(x%4?0:4)];b[x]=x<4||E<=4?D:l.INV_SUB_MIX[0][l.SBOX[D>>>24]]^l.INV_SUB_MIX[1][l.SBOX[D>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[D>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&D]]}this._nRounds=h,this._keySchedule=p,this._invKeySchedule=b},d.prototype.encryptBlockRaw=function(c){return s(c=o(c),this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},d.prototype.encryptBlock=function(c){var u=this.encryptBlockRaw(c),h=n.allocUnsafe(16);return h.writeUInt32BE(u[0],0),h.writeUInt32BE(u[1],4),h.writeUInt32BE(u[2],8),h.writeUInt32BE(u[3],12),h},d.prototype.decryptBlock=function(c){var u=(c=o(c))[1];c[1]=c[3],c[3]=u;var h=s(c,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),f=n.allocUnsafe(16);return f.writeUInt32BE(h[0],0),f.writeUInt32BE(h[3],4),f.writeUInt32BE(h[2],8),f.writeUInt32BE(h[1],12),f},d.prototype.scrub=function(){r(this._keySchedule),r(this._invKeySchedule),r(this._key)},e.exports.AES=d},{"safe-buffer":494}],190:[function(i,e,t){"use strict";var n=i("./aes"),o=i("safe-buffer").Buffer,r=i("cipher-base"),s=i("inherits"),a=i("./ghash"),l=i("buffer-xor"),d=i("./incr32");function c(u,h,f,p){r.call(this);var m=o.alloc(4,0);this._cipher=new n.AES(h);var g=this._cipher.encryptBlock(m);this._ghash=new a(g),f=function(b,x,E){if(x.length===12)return b._finID=o.concat([x,o.from([0,0,0,1])]),o.concat([x,o.from([0,0,0,2])]);var D=new a(E),L=x.length,k=L%16;D.update(x),k&&(k=16-k,D.update(o.alloc(k,0))),D.update(o.alloc(8,0));var R=8*L,N=o.alloc(8);N.writeUIntBE(R,0,8),D.update(N),b._finID=D.state;var z=o.from(b._finID);return d(z),z}(this,f,g),this._prev=o.from(f),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=p,this._alen=0,this._len=0,this._mode=u,this._authTag=null,this._called=!1}s(c,r),c.prototype._update=function(u){if(!this._called&&this._alen){var h=16-this._alen%16;h<16&&(h=o.alloc(h,0),this._ghash.update(h))}this._called=!0;var f=this._mode.encrypt(this,u);return this._decrypt?this._ghash.update(u):this._ghash.update(f),this._len+=u.length,f},c.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var u=l(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(h,f){var p=0;h.length!==f.length&&p++;for(var m=Math.min(h.length,f.length),g=0;g<m;++g)p+=h[g]^f[g];return p}(u,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=u,this._cipher.scrub()},c.prototype.getAuthTag=function(){if(this._decrypt||!o.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},c.prototype.setAuthTag=function(u){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=u},c.prototype.setAAD=function(u){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(u),this._alen+=u.length},e.exports=c},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(i,e,t){"use strict";var n=i("./encrypter"),o=i("./decrypter"),r=i("./modes/list.json");t.createCipher=t.Cipher=n.createCipher,t.createCipheriv=t.Cipheriv=n.createCipheriv,t.createDecipher=t.Decipher=o.createDecipher,t.createDecipheriv=t.Decipheriv=o.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(r)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(i,e,t){"use strict";var n=i("./authCipher"),o=i("safe-buffer").Buffer,r=i("./modes"),s=i("./streamCipher"),a=i("cipher-base"),l=i("./aes"),d=i("evp_bytestokey");function c(f,p,m){a.call(this),this._cache=new u,this._last=void 0,this._cipher=new l.AES(p),this._prev=o.from(m),this._mode=f,this._autopadding=!0}function u(){this.cache=o.allocUnsafe(0)}function h(f,p,m){var g=r[f.toLowerCase()];if(!g)throw new TypeError("invalid suite type");if(typeof m=="string"&&(m=o.from(m)),g.mode!=="GCM"&&m.length!==g.iv)throw new TypeError("invalid iv length "+m.length);if(typeof p=="string"&&(p=o.from(p)),p.length!==g.key/8)throw new TypeError("invalid key length "+p.length);return g.type==="stream"?new s(g.module,p,m,!0):g.type==="auth"?new n(g.module,p,m,!0):new c(g.module,p,m)}i("inherits")(c,a),c.prototype._update=function(f){var p,m;this._cache.add(f);for(var g=[];p=this._cache.get(this._autopadding);)m=this._mode.decrypt(this,p),g.push(m);return o.concat(g)},c.prototype._final=function(){var f=this._cache.flush();if(this._autopadding)return function(p){var m=p[15];if(m<1||m>16)throw new Error("unable to decrypt data");for(var g=-1;++g<m;)if(p[g+(16-m)]!==m)throw new Error("unable to decrypt data");if(m!==16)return p.slice(0,16-m)}(this._mode.decrypt(this,f));if(f)throw new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(f){return this._autopadding=!!f,this},u.prototype.add=function(f){this.cache=o.concat([this.cache,f])},u.prototype.get=function(f){var p;if(f){if(this.cache.length>16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p}else if(this.cache.length>=16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p;return null},u.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(f,p){var m=r[f.toLowerCase()];if(!m)throw new TypeError("invalid suite type");var g=d(p,!1,m.key,m.iv);return h(f,g.key,g.iv)},t.createDecipheriv=h},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(i,e,t){"use strict";var n=i("./modes"),o=i("./authCipher"),r=i("safe-buffer").Buffer,s=i("./streamCipher"),a=i("cipher-base"),l=i("./aes"),d=i("evp_bytestokey");function c(p,m,g){a.call(this),this._cache=new h,this._cipher=new l.AES(m),this._prev=r.from(g),this._mode=p,this._autopadding=!0}i("inherits")(c,a),c.prototype._update=function(p){var m,g;this._cache.add(p);for(var b=[];m=this._cache.get();)g=this._mode.encrypt(this,m),b.push(g);return r.concat(b)};var u=r.alloc(16,16);function h(){this.cache=r.allocUnsafe(0)}function f(p,m,g){var b=n[p.toLowerCase()];if(!b)throw new TypeError("invalid suite type");if(typeof m=="string"&&(m=r.from(m)),m.length!==b.key/8)throw new TypeError("invalid key length "+m.length);if(typeof g=="string"&&(g=r.from(g)),b.mode!=="GCM"&&g.length!==b.iv)throw new TypeError("invalid iv length "+g.length);return b.type==="stream"?new s(b.module,m,g):b.type==="auth"?new o(b.module,m,g):new c(b.module,m,g)}c.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return p=this._mode.encrypt(this,p),this._cipher.scrub(),p;if(!p.equals(u))throw this._cipher.scrub(),new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this},h.prototype.add=function(p){this.cache=r.concat([this.cache,p])},h.prototype.get=function(){if(this.cache.length>15){var p=this.cache.slice(0,16);return this.cache=this.cache.slice(16),p}return null},h.prototype.flush=function(){for(var p=16-this.cache.length,m=r.allocUnsafe(p),g=-1;++g<p;)m.writeUInt8(p,g);return r.concat([this.cache,m])},t.createCipheriv=f,t.createCipher=function(p,m){var g=n[p.toLowerCase()];if(!g)throw new TypeError("invalid suite type");var b=d(m,!1,g.key,g.iv);return f(p,b.key,b.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(i,e,t){"use strict";var n=i("safe-buffer").Buffer,o=n.alloc(16,0);function r(a){var l=n.allocUnsafe(16);return l.writeUInt32BE(a[0]>>>0,0),l.writeUInt32BE(a[1]>>>0,4),l.writeUInt32BE(a[2]>>>0,8),l.writeUInt32BE(a[3]>>>0,12),l}function s(a){this.h=a,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}s.prototype.ghash=function(a){for(var l=-1;++l<a.length;)this.state[l]^=a[l];this._multiply()},s.prototype._multiply=function(){for(var a,l,d,c=[(a=this.h).readUInt32BE(0),a.readUInt32BE(4),a.readUInt32BE(8),a.readUInt32BE(12)],u=[0,0,0,0],h=-1;++h<128;){for(this.state[~~(h/8)]&1<<7-h%8&&(u[0]^=c[0],u[1]^=c[1],u[2]^=c[2],u[3]^=c[3]),d=(1&c[3])!=0,l=3;l>0;l--)c[l]=c[l]>>>1|(1&c[l-1])<<31;c[0]=c[0]>>>1,d&&(c[0]=c[0]^225<<24)}this.state=r(u)},s.prototype.update=function(a){var l;for(this.cache=n.concat([this.cache,a]);this.cache.length>=16;)l=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(l)},s.prototype.final=function(a,l){return this.cache.length&&this.ghash(n.concat([this.cache,o],16)),this.ghash(r([0,a,0,l])),this.state},e.exports=s},{"safe-buffer":494}],195:[function(i,e,t){"use strict";e.exports=function(n){for(var o,r=n.length;r--;){if((o=n.readUInt8(r))!==255){o++,n.writeUInt8(o,r);break}n.writeUInt8(0,r)}}},{}],196:[function(i,e,t){"use strict";var n=i("buffer-xor");t.encrypt=function(o,r){var s=n(r,o._prev);return o._prev=o._cipher.encryptBlock(s),o._prev},t.decrypt=function(o,r){var s=o._prev;o._prev=r;var a=o._cipher.decryptBlock(r);return n(a,s)}},{"buffer-xor":219}],197:[function(i,e,t){"use strict";var n=i("safe-buffer").Buffer,o=i("buffer-xor");function r(s,a,l){var d=a.length,c=o(a,s._cache);return s._cache=s._cache.slice(d),s._prev=n.concat([s._prev,l?a:c]),c}t.encrypt=function(s,a,l){for(var d,c=n.allocUnsafe(0);a.length;){if(s._cache.length===0&&(s._cache=s._cipher.encryptBlock(s._prev),s._prev=n.allocUnsafe(0)),!(s._cache.length<=a.length)){c=n.concat([c,r(s,a,l)]);break}d=s._cache.length,c=n.concat([c,r(s,a.slice(0,d),l)]),a=a.slice(d)}return c}},{"buffer-xor":219,"safe-buffer":494}],198:[function(i,e,t){"use strict";var n=i("safe-buffer").Buffer;function o(s,a,l){for(var d,c,u=-1,h=0;++u<8;)d=a&1<<7-u?128:0,h+=(128&(c=s._cipher.encryptBlock(s._prev)[0]^d))>>u%8,s._prev=r(s._prev,l?d:c);return h}function r(s,a){var l=s.length,d=-1,c=n.allocUnsafe(s.length);for(s=n.concat([s,n.from([a])]);++d<l;)c[d]=s[d]<<1|s[d+1]>>7;return c}t.encrypt=function(s,a,l){for(var d=a.length,c=n.allocUnsafe(d),u=-1;++u<d;)c[u]=o(s,a[u],l);return c}},{"safe-buffer":494}],199:[function(i,e,t){"use strict";var n=i("safe-buffer").Buffer;function o(r,s,a){var l=r._cipher.encryptBlock(r._prev)[0]^s;return r._prev=n.concat([r._prev.slice(1),n.from([a?s:l])]),l}t.encrypt=function(r,s,a){for(var l=s.length,d=n.allocUnsafe(l),c=-1;++c<l;)d[c]=o(r,s[c],a);return d}},{"safe-buffer":494}],200:[function(i,e,t){"use strict";var n=i("buffer-xor"),o=i("safe-buffer").Buffer,r=i("../incr32");function s(a){var l=a._cipher.encryptBlockRaw(a._prev);return r(a._prev),l}t.encrypt=function(a,l){var d=Math.ceil(l.length/16),c=a._cache.length;a._cache=o.concat([a._cache,o.allocUnsafe(16*d)]);for(var u=0;u<d;u++){var h=s(a),f=c+16*u;a._cache.writeUInt32BE(h[0],f+0),a._cache.writeUInt32BE(h[1],f+4),a._cache.writeUInt32BE(h[2],f+8),a._cache.writeUInt32BE(h[3],f+12)}var p=a._cache.slice(0,l.length);return a._cache=a._cache.slice(l.length),n(l,p)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(i,e,t){"use strict";t.encrypt=function(n,o){return n._cipher.encryptBlock(o)},t.decrypt=function(n,o){return n._cipher.decryptBlock(o)}},{}],202:[function(i,e,t){"use strict";var n={ECB:i("./ecb"),CBC:i("./cbc"),CFB:i("./cfb"),CFB8:i("./cfb8"),CFB1:i("./cfb1"),OFB:i("./ofb"),CTR:i("./ctr"),GCM:i("./ctr")},o=i("./list.json");for(var r in o)o[r].module=n[o[r].mode];e.exports=o},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(i,e,t){e.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(i,e,t){(function(n){(function(){"use strict";var o=i("buffer-xor");function r(s){return s._prev=s._cipher.encryptBlock(s._prev),s._prev}t.encrypt=function(s,a){for(;s._cache.length<a.length;)s._cache=n.concat([s._cache,r(s)]);var l=s._cache.slice(0,a.length);return s._cache=s._cache.slice(a.length),o(a,l)}}).call(this)}).call(this,i("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(i,e,t){"use strict";var n=i("./aes"),o=i("safe-buffer").Buffer,r=i("cipher-base");function s(a,l,d,c){r.call(this),this._cipher=new n.AES(l),this._prev=o.from(d),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=c,this._mode=a}i("inherits")(s,r),s.prototype._update=function(a){return this._mode.encrypt(this,a,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},e.exports=s},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(i,e,t){"use strict";var n=i("browserify-des"),o=i("browserify-aes/browser"),r=i("browserify-aes/modes"),s=i("browserify-des/modes"),a=i("evp_bytestokey");function l(c,u,h){if(c=c.toLowerCase(),r[c])return o.createCipheriv(c,u,h);if(s[c])return new n({key:u,iv:h,mode:c});throw new TypeError("invalid suite type")}function d(c,u,h){if(c=c.toLowerCase(),r[c])return o.createDecipheriv(c,u,h);if(s[c])return new n({key:u,iv:h,mode:c,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(c,u){var h,f;if(c=c.toLowerCase(),r[c])h=r[c].key,f=r[c].iv;else{if(!s[c])throw new TypeError("invalid suite type");h=8*s[c].key,f=s[c].iv}var p=a(u,!1,h,f);return l(c,p.key,p.iv)},t.createCipheriv=t.Cipheriv=l,t.createDecipher=t.Decipher=function(c,u){var h,f;if(c=c.toLowerCase(),r[c])h=r[c].key,f=r[c].iv;else{if(!s[c])throw new TypeError("invalid suite type");h=8*s[c].key,f=s[c].iv}var p=a(u,!1,h,f);return d(c,p.key,p.iv)},t.createDecipheriv=t.Decipheriv=d,t.listCiphers=t.getCiphers=function(){return Object.keys(s).concat(o.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(i,e,t){"use strict";var n=i("cipher-base"),o=i("des.js"),r=i("inherits"),s=i("safe-buffer").Buffer,a={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};function l(d){n.call(this);var c,u=d.mode.toLowerCase(),h=a[u];c=d.decrypt?"decrypt":"encrypt";var f=d.key;s.isBuffer(f)||(f=s.from(f)),u!=="des-ede"&&u!=="des-ede-cbc"||(f=s.concat([f,f.slice(0,8)]));var p=d.iv;s.isBuffer(p)||(p=s.from(p)),this._des=h.create({key:f,iv:p,type:c})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],e.exports=l,r(l,n),l.prototype._update=function(d){return s.from(this._des.update(d))},l.prototype._final=function(){return s.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(i,e,t){"use strict";t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},{}],209:[function(i,e,t){(function(n){(function(){"use strict";var o=i("bn.js"),r=i("randombytes");function s(l){var d,c=l.modulus.byteLength();do d=new o(r(c));while(d.cmp(l.modulus)>=0||!d.umod(l.prime1)||!d.umod(l.prime2));return d}function a(l,d){var c=function(L){var k=s(L);return{blinder:k.toRed(o.mont(L.modulus)).redPow(new o(L.publicExponent)).fromRed(),unblinder:k.invm(L.modulus)}}(d),u=d.modulus.byteLength(),h=new o(l).mul(c.blinder).umod(d.modulus),f=h.toRed(o.mont(d.prime1)),p=h.toRed(o.mont(d.prime2)),m=d.coefficient,g=d.prime1,b=d.prime2,x=f.redPow(d.exponent1).fromRed(),E=p.redPow(d.exponent2).fromRed(),D=x.isub(E).imul(m).umod(g).imul(b);return E.iadd(D).imul(c.unblinder).umod(d.modulus).toArrayLike(n,"be",u)}a.getr=s,e.exports=a}).call(this)}).call(this,i("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(i,e,t){"use strict";e.exports=i("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(i,e,t){e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(i,e,t){e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(i,e,t){"use strict";var n=i("safe-buffer").Buffer,o=i("create-hash"),r=i("readable-stream"),s=i("inherits"),a=i("./sign"),l=i("./verify"),d=i("./algorithms.json");function c(p){r.Writable.call(this);var m=d[p];if(!m)throw new Error("Unknown message digest");this._hashType=m.hash,this._hash=o(m.hash),this._tag=m.id,this._signType=m.sign}function u(p){r.Writable.call(this);var m=d[p];if(!m)throw new Error("Unknown message digest");this._hash=o(m.hash),this._tag=m.id,this._signType=m.sign}function h(p){return new c(p)}function f(p){return new u(p)}Object.keys(d).forEach(function(p){d[p].id=n.from(d[p].id,"hex"),d[p.toLowerCase()]=d[p]}),s(c,r.Writable),c.prototype._write=function(p,m,g){this._hash.update(p),g()},c.prototype.update=function(p,m){return typeof p=="string"&&(p=n.from(p,m)),this._hash.update(p),this},c.prototype.sign=function(p,m){this.end();var g=this._hash.digest(),b=a(g,p,this._hashType,this._signType,this._tag);return m?b.toString(m):b},s(u,r.Writable),u.prototype._write=function(p,m,g){this._hash.update(p),g()},u.prototype.update=function(p,m){return typeof p=="string"&&(p=n.from(p,m)),this._hash.update(p),this},u.prototype.verify=function(p,m,g){typeof m=="string"&&(m=n.from(m,g)),this.end();var b=this._hash.digest();return l(m,b,p,this._signType,this._tag)},e.exports={Sign:h,Verify:f,createSign:h,createVerify:f}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(i,e,t){"use strict";var n=i("safe-buffer").Buffer,o=i("create-hmac"),r=i("browserify-rsa"),s=i("elliptic").ec,a=i("bn.js"),l=i("parse-asn1"),d=i("./curves.json");function c(p,m,g,b){if((p=n.from(p.toArray())).length<m.byteLength()){var x=n.alloc(m.byteLength()-p.length);p=n.concat([x,p])}var E=g.length,D=function(R,N){R=(R=u(R,N)).mod(N);var z=n.from(R.toArray());if(z.length<N.byteLength()){var V=n.alloc(N.byteLength()-z.length);z=n.concat([V,z])}return z}(g,m),L=n.alloc(E);L.fill(1);var k=n.alloc(E);return k=o(b,k).update(L).update(n.from([0])).update(p).update(D).digest(),L=o(b,k).update(L).digest(),{k:k=o(b,k).update(L).update(n.from([1])).update(p).update(D).digest(),v:L=o(b,k).update(L).digest()}}function u(p,m){var g=new a(p),b=(p.length<<3)-m.bitLength();return b>0&&g.ishrn(b),g}function h(p,m,g){var b,x;do{for(b=n.alloc(0);8*b.length<p.bitLength();)m.v=o(g,m.k).update(m.v).digest(),b=n.concat([b,m.v]);x=u(b,p),m.k=o(g,m.k).update(m.v).update(n.from([0])).digest(),m.v=o(g,m.k).update(m.v).digest()}while(x.cmp(p)!==-1);return x}function f(p,m,g,b){return p.toRed(a.mont(g)).redPow(m).fromRed().mod(b)}e.exports=function(p,m,g,b,x){var E=l(m);if(E.curve){if(b!=="ecdsa"&&b!=="ecdsa/rsa")throw new Error("wrong private key type");return function(R,N){var z=d[N.curve.join(".")];if(!z)throw new Error("unknown curve "+N.curve.join("."));var V=new s(z).keyFromPrivate(N.privateKey).sign(R);return n.from(V.toDER())}(p,E)}if(E.type==="dsa"){if(b!=="dsa")throw new Error("wrong private key type");return function(R,N,z){for(var V,S=N.params.priv_key,T=N.params.p,B=N.params.q,_=N.params.g,v=new a(0),C=u(R,B).mod(B),y=!1,w=c(S,B,R,z);y===!1;)V=h(B,w,z),v=f(_,V,T,B),(y=V.invm(B).imul(C.add(S.mul(v))).mod(B)).cmpn(0)===0&&(y=!1,v=new a(0));return function(O,P){O=O.toArray(),P=P.toArray(),128&O[0]&&(O=[0].concat(O)),128&P[0]&&(P=[0].concat(P));var W=[48,O.length+P.length+4,2,O.length];return W=W.concat(O,[2,P.length],P),n.from(W)}(v,y)}(p,E,g)}if(b!=="rsa"&&b!=="ecdsa/rsa")throw new Error("wrong private key type");p=n.concat([x,p]);for(var D=E.modulus.byteLength(),L=[0,1];p.length+L.length+1<D;)L.push(255);L.push(0);for(var k=-1;++k<p.length;)L.push(p[k]);return r(L,E)},e.exports.getKey=c,e.exports.makeKey=h},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(i,e,t){"use strict";var n=i("safe-buffer").Buffer,o=i("bn.js"),r=i("elliptic").ec,s=i("parse-asn1"),a=i("./curves.json");function l(d,c){if(d.cmpn(0)<=0)throw new Error("invalid sig");if(d.cmp(c)>=c)throw new Error("invalid sig")}e.exports=function(d,c,u,h,f){var p=s(u);if(p.type==="ec"){if(h!=="ecdsa"&&h!=="ecdsa/rsa")throw new Error("wrong public key type");return function(L,k,R){var N=a[R.data.algorithm.curve.join(".")];if(!N)throw new Error("unknown curve "+R.data.algorithm.curve.join("."));var z=new r(N),V=R.data.subjectPrivateKey.data;return z.verify(k,L,V)}(d,c,p)}if(p.type==="dsa"){if(h!=="dsa")throw new Error("wrong public key type");return function(L,k,R){var N=R.data.p,z=R.data.q,V=R.data.g,S=R.data.pub_key,T=s.signature.decode(L,"der"),B=T.s,_=T.r;l(B,z),l(_,z);var v=o.mont(N),C=B.invm(z);return V.toRed(v).redPow(new o(k).mul(C).mod(z)).fromRed().mul(S.toRed(v).redPow(_.mul(C).mod(z)).fromRed()).mod(N).mod(z).cmp(_)===0}(d,c,p)}if(h!=="rsa"&&h!=="ecdsa/rsa")throw new Error("wrong public key type");c=n.concat([f,c]);for(var m=p.modulus.byteLength(),g=[1],b=0;c.length+g.length+2<m;)g.push(255),b++;g.push(0);for(var x=-1;++x<c.length;)g.push(c[x]);g=n.from(g);var E=o.mont(p.modulus);d=(d=new o(d).toRed(E)).redPow(new o(p.publicExponent)),d=n.from(d.fromRed().toArray());var D=b<8?1:0;for(m=Math.min(d.length,g.length),d.length!==g.length&&(D=1),x=-1;++x<m;)D|=d[x]^g[x];return D===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(i,e,t){},{}],217:[function(i,e,t){"use strict";var n=i("buffer"),o=n.Buffer;function r(a,l){for(var d in a)l[d]=a[d]}function s(a,l,d){return o(a,l,d)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=n:(r(n,t),t.Buffer=s),r(o,s),s.from=function(a,l,d){if(typeof a=="number")throw new TypeError("Argument must not be a number");return o(a,l,d)},s.alloc=function(a,l,d){if(typeof a!="number")throw new TypeError("Argument must be a number");var c=o(a);return l!==void 0?typeof d=="string"?c.fill(l,d):c.fill(l):c.fill(0),c},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return o(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(a)}},{buffer:220}],218:[function(i,e,t){"use strict";var n=i("safe-buffer").Buffer,o=n.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(p){var m;switch(this.encoding=function(g){var b=function(x){if(!x)return"utf8";for(var E;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(E)return;x=(""+x).toLowerCase(),E=!0}}(g);if(typeof b!="string"&&(n.isEncoding===o||!o(g)))throw new Error("Unknown encoding: "+g);return b||g}(p),this.encoding){case"utf16le":this.text=l,this.end=d,m=4;break;case"utf8":this.fillLast=a,m=4;break;case"base64":this.text=c,this.end=u,m=3;break;default:return this.write=h,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(m)}function s(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function a(p){var m=this.lastTotal-this.lastNeed,g=function(b,x,E){if((192&x[0])!=128)return b.lastNeed=0,"\uFFFD";if(b.lastNeed>1&&x.length>1){if((192&x[1])!=128)return b.lastNeed=1,"\uFFFD";if(b.lastNeed>2&&x.length>2&&(192&x[2])!=128)return b.lastNeed=2,"\uFFFD"}}(this,p);return g!==void 0?g:this.lastNeed<=p.length?(p.copy(this.lastChar,m,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,m,0,p.length),void(this.lastNeed-=p.length))}function l(p,m){if((p.length-m)%2==0){var g=p.toString("utf16le",m);if(g){var b=g.charCodeAt(g.length-1);if(b>=55296&&b<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],g.slice(0,-1)}return g}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",m,p.length-1)}function d(p){var m=p&&p.length?this.write(p):"";if(this.lastNeed){var g=this.lastTotal-this.lastNeed;return m+this.lastChar.toString("utf16le",0,g)}return m}function c(p,m){var g=(p.length-m)%3;return g===0?p.toString("base64",m):(this.lastNeed=3-g,this.lastTotal=3,g===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",m,p.length-g))}function u(p){var m=p&&p.length?this.write(p):"";return this.lastNeed?m+this.lastChar.toString("base64",0,3-this.lastNeed):m}function h(p){return p.toString(this.encoding)}function f(p){return p&&p.length?this.write(p):""}t.StringDecoder=r,r.prototype.write=function(p){if(p.length===0)return"";var m,g;if(this.lastNeed){if((m=this.fillLast(p))===void 0)return"";g=this.lastNeed,this.lastNeed=0}else g=0;return g<p.length?m?m+this.text(p,g):this.text(p,g):m||""},r.prototype.end=function(p){var m=p&&p.length?this.write(p):"";return this.lastNeed?m+"\uFFFD":m},r.prototype.text=function(p,m){var g=function(x,E,D){var L=E.length-1;if(L<D)return 0;var k=s(E[L]);return k>=0?(k>0&&(x.lastNeed=k-1),k):--L<D||k===-2?0:(k=s(E[L]))>=0?(k>0&&(x.lastNeed=k-2),k):--L<D||k===-2?0:(k=s(E[L]))>=0?(k>0&&(k===2?k=0:x.lastNeed=k-3),k):0}(this,p,m);if(!this.lastNeed)return p.toString("utf8",m);this.lastTotal=g;var b=p.length-(g-this.lastNeed);return p.copy(this.lastChar,0,b),p.toString("utf8",m,b)},r.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},{"safe-buffer":217}],219:[function(i,e,t){(function(n){(function(){"use strict";e.exports=function(o,r){for(var s=Math.min(o.length,r.length),a=new n(s),l=0;l<s;++l)a[l]=o[l]^r[l];return a}}).call(this)}).call(this,i("buffer").Buffer)},{buffer:220}],220:[function(i,e,t){(function(n){(function(){"use strict";var o=i("base64-js"),r=i("ieee754");t.Buffer=a,t.SlowBuffer=function(M){return+M!=M&&(M=0),a.alloc(+M)},t.INSPECT_MAX_BYTES=50;function s(M){if(M>2147483647)throw new RangeError('The value "'+M+'" is invalid for option "size"');var A=new Uint8Array(M);return A.__proto__=a.prototype,A}function a(M,A,j){if(typeof M=="number"){if(typeof A=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(M)}return l(M,A,j)}function l(M,A,j){if(typeof M=="string")return function(ie,re){if(typeof re=="string"&&re!==""||(re="utf8"),!a.isEncoding(re))throw new TypeError("Unknown encoding: "+re);var Ce=0|f(ie,re),ve=s(Ce),te=ve.write(ie,re);return te!==Ce&&(ve=ve.slice(0,te)),ve}(M,A);if(ArrayBuffer.isView(M))return u(M);if(M==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M);if(F(M,ArrayBuffer)||M&&F(M.buffer,ArrayBuffer))return function(ie,re,Ce){if(re<0||ie.byteLength<re)throw new RangeError('"offset" is outside of buffer bounds');if(ie.byteLength<re+(Ce||0))throw new RangeError('"length" is outside of buffer bounds');var ve;return ve=re===void 0&&Ce===void 0?new Uint8Array(ie):Ce===void 0?new Uint8Array(ie,re):new Uint8Array(ie,re,Ce),ve.__proto__=a.prototype,ve}(M,A,j);if(typeof M=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var J=M.valueOf&&M.valueOf();if(J!=null&&J!==M)return a.from(J,A,j);var ae=function(ie){if(a.isBuffer(ie)){var re=0|h(ie.length),Ce=s(re);return Ce.length===0||ie.copy(Ce,0,0,re),Ce}if(ie.length!==void 0)return typeof ie.length!="number"||Y(ie.length)?s(0):u(ie);if(ie.type==="Buffer"&&Array.isArray(ie.data))return u(ie.data)}(M);if(ae)return ae;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof M[Symbol.toPrimitive]=="function")return a.from(M[Symbol.toPrimitive]("string"),A,j);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M)}function d(M){if(typeof M!="number")throw new TypeError('"size" argument must be of type number');if(M<0)throw new RangeError('The value "'+M+'" is invalid for option "size"')}function c(M){return d(M),s(M<0?0:0|h(M))}function u(M){for(var A=M.length<0?0:0|h(M.length),j=s(A),J=0;J<A;J+=1)j[J]=255&M[J];return j}function h(M){if(M>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|M}function f(M,A){if(a.isBuffer(M))return M.length;if(ArrayBuffer.isView(M)||F(M,ArrayBuffer))return M.byteLength;if(typeof M!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof M);var j=M.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&j===0)return 0;for(var ae=!1;;)switch(A){case"ascii":case"latin1":case"binary":return j;case"utf8":case"utf-8":return W(M).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*j;case"hex":return j>>>1;case"base64":return G(M).length;default:if(ae)return J?-1:W(M).length;A=(""+A).toLowerCase(),ae=!0}}function p(M,A,j){var J=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((j===void 0||j>this.length)&&(j=this.length),j<=0)||(j>>>=0)<=(A>>>=0))return"";for(M||(M="utf8");;)switch(M){case"hex":return T(this,A,j);case"utf8":case"utf-8":return z(this,A,j);case"ascii":return V(this,A,j);case"latin1":case"binary":return S(this,A,j);case"base64":return N(this,A,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,A,j);default:if(J)throw new TypeError("Unknown encoding: "+M);M=(M+"").toLowerCase(),J=!0}}function m(M,A,j){var J=M[A];M[A]=M[j],M[j]=J}function g(M,A,j,J,ae){if(M.length===0)return-1;if(typeof j=="string"?(J=j,j=0):j>2147483647?j=2147483647:j<-2147483648&&(j=-2147483648),Y(j=+j)&&(j=ae?0:M.length-1),j<0&&(j=M.length+j),j>=M.length){if(ae)return-1;j=M.length-1}else if(j<0){if(!ae)return-1;j=0}if(typeof A=="string"&&(A=a.from(A,J)),a.isBuffer(A))return A.length===0?-1:b(M,A,j,J,ae);if(typeof A=="number")return A&=255,typeof Uint8Array.prototype.indexOf=="function"?ae?Uint8Array.prototype.indexOf.call(M,A,j):Uint8Array.prototype.lastIndexOf.call(M,A,j):b(M,[A],j,J,ae);throw new TypeError("val must be string, number or Buffer")}function b(M,A,j,J,ae){var ie,re=1,Ce=M.length,ve=A.length;if(J!==void 0&&((J=String(J).toLowerCase())==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(M.length<2||A.length<2)return-1;re=2,Ce/=2,ve/=2,j/=2}function te(Oe,we){return re===1?Oe[we]:Oe.readUInt16BE(we*re)}if(ae){var ge=-1;for(ie=j;ie<Ce;ie++)if(te(M,ie)===te(A,ge===-1?0:ie-ge)){if(ge===-1&&(ge=ie),ie-ge+1===ve)return ge*re}else ge!==-1&&(ie-=ie-ge),ge=-1}else for(j+ve>Ce&&(j=Ce-ve),ie=j;ie>=0;ie--){for(var he=!0,xe=0;xe<ve;xe++)if(te(M,ie+xe)!==te(A,xe)){he=!1;break}if(he)return ie}return-1}function x(M,A,j,J){j=Number(j)||0;var ae=M.length-j;J?(J=Number(J))>ae&&(J=ae):J=ae;var ie=A.length;J>ie/2&&(J=ie/2);for(var re=0;re<J;++re){var Ce=parseInt(A.substr(2*re,2),16);if(Y(Ce))return re;M[j+re]=Ce}return re}function E(M,A,j,J){return K(W(A,M.length-j),M,j,J)}function D(M,A,j,J){return K(function(ae){for(var ie=[],re=0;re<ae.length;++re)ie.push(255&ae.charCodeAt(re));return ie}(A),M,j,J)}function L(M,A,j,J){return D(M,A,j,J)}function k(M,A,j,J){return K(G(A),M,j,J)}function R(M,A,j,J){return K(function(ae,ie){for(var re,Ce,ve,te=[],ge=0;ge<ae.length&&!((ie-=2)<0);++ge)re=ae.charCodeAt(ge),Ce=re>>8,ve=re%256,te.push(ve),te.push(Ce);return te}(A,M.length-j),M,j,J)}function N(M,A,j){return A===0&&j===M.length?o.fromByteArray(M):o.fromByteArray(M.slice(A,j))}function z(M,A,j){j=Math.min(M.length,j);for(var J=[],ae=A;ae<j;){var ie,re,Ce,ve,te=M[ae],ge=null,he=te>239?4:te>223?3:te>191?2:1;if(ae+he<=j)switch(he){case 1:te<128&&(ge=te);break;case 2:(192&(ie=M[ae+1]))==128&&(ve=(31&te)<<6|63&ie)>127&&(ge=ve);break;case 3:ie=M[ae+1],re=M[ae+2],(192&ie)==128&&(192&re)==128&&(ve=(15&te)<<12|(63&ie)<<6|63&re)>2047&&(ve<55296||ve>57343)&&(ge=ve);break;case 4:ie=M[ae+1],re=M[ae+2],Ce=M[ae+3],(192&ie)==128&&(192&re)==128&&(192&Ce)==128&&(ve=(15&te)<<18|(63&ie)<<12|(63&re)<<6|63&Ce)>65535&&ve<1114112&&(ge=ve)}ge===null?(ge=65533,he=1):ge>65535&&(ge-=65536,J.push(ge>>>10&1023|55296),ge=56320|1023&ge),J.push(ge),ae+=he}return function(xe){var Oe=xe.length;if(Oe<=4096)return String.fromCharCode.apply(String,xe);for(var we="",Te=0;Te<Oe;)we+=String.fromCharCode.apply(String,xe.slice(Te,Te+=4096));return we}(J)}t.kMaxLength=2147483647,a.TYPED_ARRAY_SUPPORT=function(){try{var M=new Uint8Array(1);return M.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},M.foo()===42}catch{return!1}}(),a.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(M,A,j){return l(M,A,j)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(M,A,j){return function(J,ae,ie){return d(J),J<=0?s(J):ae!==void 0?typeof ie=="string"?s(J).fill(ae,ie):s(J).fill(ae):s(J)}(M,A,j)},a.allocUnsafe=function(M){return c(M)},a.allocUnsafeSlow=function(M){return c(M)},a.isBuffer=function(M){return M!=null&&M._isBuffer===!0&&M!==a.prototype},a.compare=function(M,A){if(F(M,Uint8Array)&&(M=a.from(M,M.offset,M.byteLength)),F(A,Uint8Array)&&(A=a.from(A,A.offset,A.byteLength)),!a.isBuffer(M)||!a.isBuffer(A))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(M===A)return 0;for(var j=M.length,J=A.length,ae=0,ie=Math.min(j,J);ae<ie;++ae)if(M[ae]!==A[ae]){j=M[ae],J=A[ae];break}return j<J?-1:J<j?1:0},a.isEncoding=function(M){switch(String(M).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(M,A){if(!Array.isArray(M))throw new TypeError('"list" argument must be an Array of Buffers');if(M.length===0)return a.alloc(0);var j;if(A===void 0)for(A=0,j=0;j<M.length;++j)A+=M[j].length;var J=a.allocUnsafe(A),ae=0;for(j=0;j<M.length;++j){var ie=M[j];if(F(ie,Uint8Array)&&(ie=a.from(ie)),!a.isBuffer(ie))throw new TypeError('"list" argument must be an Array of Buffers');ie.copy(J,ae),ae+=ie.length}return J},a.byteLength=f,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var M=this.length;if(M%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var A=0;A<M;A+=2)m(this,A,A+1);return this},a.prototype.swap32=function(){var M=this.length;if(M%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var A=0;A<M;A+=4)m(this,A,A+3),m(this,A+1,A+2);return this},a.prototype.swap64=function(){var M=this.length;if(M%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var A=0;A<M;A+=8)m(this,A,A+7),m(this,A+1,A+6),m(this,A+2,A+5),m(this,A+3,A+4);return this},a.prototype.toString=function(){var M=this.length;return M===0?"":arguments.length===0?z(this,0,M):p.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(M){if(!a.isBuffer(M))throw new TypeError("Argument must be a Buffer");return this===M||a.compare(this,M)===0},a.prototype.inspect=function(){var M="",A=t.INSPECT_MAX_BYTES;return M=this.toString("hex",0,A).replace(/(.{2})/g,"$1 ").trim(),this.length>A&&(M+=" ... "),"<Buffer "+M+">"},a.prototype.compare=function(M,A,j,J,ae){if(F(M,Uint8Array)&&(M=a.from(M,M.offset,M.byteLength)),!a.isBuffer(M))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof M);if(A===void 0&&(A=0),j===void 0&&(j=M?M.length:0),J===void 0&&(J=0),ae===void 0&&(ae=this.length),A<0||j>M.length||J<0||ae>this.length)throw new RangeError("out of range index");if(J>=ae&&A>=j)return 0;if(J>=ae)return-1;if(A>=j)return 1;if(this===M)return 0;for(var ie=(ae>>>=0)-(J>>>=0),re=(j>>>=0)-(A>>>=0),Ce=Math.min(ie,re),ve=this.slice(J,ae),te=M.slice(A,j),ge=0;ge<Ce;++ge)if(ve[ge]!==te[ge]){ie=ve[ge],re=te[ge];break}return ie<re?-1:re<ie?1:0},a.prototype.includes=function(M,A,j){return this.indexOf(M,A,j)!==-1},a.prototype.indexOf=function(M,A,j){return g(this,M,A,j,!0)},a.prototype.lastIndexOf=function(M,A,j){return g(this,M,A,j,!1)},a.prototype.write=function(M,A,j,J){if(A===void 0)J="utf8",j=this.length,A=0;else if(j===void 0&&typeof A=="string")J=A,j=this.length,A=0;else{if(!isFinite(A))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");A>>>=0,isFinite(j)?(j>>>=0,J===void 0&&(J="utf8")):(J=j,j=void 0)}var ae=this.length-A;if((j===void 0||j>ae)&&(j=ae),M.length>0&&(j<0||A<0)||A>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");for(var ie=!1;;)switch(J){case"hex":return x(this,M,A,j);case"utf8":case"utf-8":return E(this,M,A,j);case"ascii":return D(this,M,A,j);case"latin1":case"binary":return L(this,M,A,j);case"base64":return k(this,M,A,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,M,A,j);default:if(ie)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),ie=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function V(M,A,j){var J="";j=Math.min(M.length,j);for(var ae=A;ae<j;++ae)J+=String.fromCharCode(127&M[ae]);return J}function S(M,A,j){var J="";j=Math.min(M.length,j);for(var ae=A;ae<j;++ae)J+=String.fromCharCode(M[ae]);return J}function T(M,A,j){var J=M.length;(!A||A<0)&&(A=0),(!j||j<0||j>J)&&(j=J);for(var ae="",ie=A;ie<j;++ie)ae+=P(M[ie]);return ae}function B(M,A,j){for(var J=M.slice(A,j),ae="",ie=0;ie<J.length;ie+=2)ae+=String.fromCharCode(J[ie]+256*J[ie+1]);return ae}function _(M,A,j){if(M%1!=0||M<0)throw new RangeError("offset is not uint");if(M+A>j)throw new RangeError("Trying to access beyond buffer length")}function v(M,A,j,J,ae,ie){if(!a.isBuffer(M))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>ae||A<ie)throw new RangeError('"value" argument is out of bounds');if(j+J>M.length)throw new RangeError("Index out of range")}function C(M,A,j,J,ae,ie){if(j+J>M.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("Index out of range")}function y(M,A,j,J,ae){return A=+A,j>>>=0,ae||C(M,0,j,4),r.write(M,A,j,J,23,4),j+4}function w(M,A,j,J,ae){return A=+A,j>>>=0,ae||C(M,0,j,8),r.write(M,A,j,J,52,8),j+8}a.prototype.slice=function(M,A){var j=this.length;(M=~~M)<0?(M+=j)<0&&(M=0):M>j&&(M=j),(A=A===void 0?j:~~A)<0?(A+=j)<0&&(A=0):A>j&&(A=j),A<M&&(A=M);var J=this.subarray(M,A);return J.__proto__=a.prototype,J},a.prototype.readUIntLE=function(M,A,j){M>>>=0,A>>>=0,j||_(M,A,this.length);for(var J=this[M],ae=1,ie=0;++ie<A&&(ae*=256);)J+=this[M+ie]*ae;return J},a.prototype.readUIntBE=function(M,A,j){M>>>=0,A>>>=0,j||_(M,A,this.length);for(var J=this[M+--A],ae=1;A>0&&(ae*=256);)J+=this[M+--A]*ae;return J},a.prototype.readUInt8=function(M,A){return M>>>=0,A||_(M,1,this.length),this[M]},a.prototype.readUInt16LE=function(M,A){return M>>>=0,A||_(M,2,this.length),this[M]|this[M+1]<<8},a.prototype.readUInt16BE=function(M,A){return M>>>=0,A||_(M,2,this.length),this[M]<<8|this[M+1]},a.prototype.readUInt32LE=function(M,A){return M>>>=0,A||_(M,4,this.length),(this[M]|this[M+1]<<8|this[M+2]<<16)+16777216*this[M+3]},a.prototype.readUInt32BE=function(M,A){return M>>>=0,A||_(M,4,this.length),16777216*this[M]+(this[M+1]<<16|this[M+2]<<8|this[M+3])},a.prototype.readIntLE=function(M,A,j){M>>>=0,A>>>=0,j||_(M,A,this.length);for(var J=this[M],ae=1,ie=0;++ie<A&&(ae*=256);)J+=this[M+ie]*ae;return J>=(ae*=128)&&(J-=Math.pow(2,8*A)),J},a.prototype.readIntBE=function(M,A,j){M>>>=0,A>>>=0,j||_(M,A,this.length);for(var J=A,ae=1,ie=this[M+--J];J>0&&(ae*=256);)ie+=this[M+--J]*ae;return ie>=(ae*=128)&&(ie-=Math.pow(2,8*A)),ie},a.prototype.readInt8=function(M,A){return M>>>=0,A||_(M,1,this.length),128&this[M]?-1*(255-this[M]+1):this[M]},a.prototype.readInt16LE=function(M,A){M>>>=0,A||_(M,2,this.length);var j=this[M]|this[M+1]<<8;return 32768&j?4294901760|j:j},a.prototype.readInt16BE=function(M,A){M>>>=0,A||_(M,2,this.length);var j=this[M+1]|this[M]<<8;return 32768&j?4294901760|j:j},a.prototype.readInt32LE=function(M,A){return M>>>=0,A||_(M,4,this.length),this[M]|this[M+1]<<8|this[M+2]<<16|this[M+3]<<24},a.prototype.readInt32BE=function(M,A){return M>>>=0,A||_(M,4,this.length),this[M]<<24|this[M+1]<<16|this[M+2]<<8|this[M+3]},a.prototype.readFloatLE=function(M,A){return M>>>=0,A||_(M,4,this.length),r.read(this,M,!0,23,4)},a.prototype.readFloatBE=function(M,A){return M>>>=0,A||_(M,4,this.length),r.read(this,M,!1,23,4)},a.prototype.readDoubleLE=function(M,A){return M>>>=0,A||_(M,8,this.length),r.read(this,M,!0,52,8)},a.prototype.readDoubleBE=function(M,A){return M>>>=0,A||_(M,8,this.length),r.read(this,M,!1,52,8)},a.prototype.writeUIntLE=function(M,A,j,J){M=+M,A>>>=0,j>>>=0,J||v(this,M,A,j,Math.pow(2,8*j)-1,0);var ae=1,ie=0;for(this[A]=255&M;++ie<j&&(ae*=256);)this[A+ie]=M/ae&255;return A+j},a.prototype.writeUIntBE=function(M,A,j,J){M=+M,A>>>=0,j>>>=0,J||v(this,M,A,j,Math.pow(2,8*j)-1,0);var ae=j-1,ie=1;for(this[A+ae]=255&M;--ae>=0&&(ie*=256);)this[A+ae]=M/ie&255;return A+j},a.prototype.writeUInt8=function(M,A,j){return M=+M,A>>>=0,j||v(this,M,A,1,255,0),this[A]=255&M,A+1},a.prototype.writeUInt16LE=function(M,A,j){return M=+M,A>>>=0,j||v(this,M,A,2,65535,0),this[A]=255&M,this[A+1]=M>>>8,A+2},a.prototype.writeUInt16BE=function(M,A,j){return M=+M,A>>>=0,j||v(this,M,A,2,65535,0),this[A]=M>>>8,this[A+1]=255&M,A+2},a.prototype.writeUInt32LE=function(M,A,j){return M=+M,A>>>=0,j||v(this,M,A,4,4294967295,0),this[A+3]=M>>>24,this[A+2]=M>>>16,this[A+1]=M>>>8,this[A]=255&M,A+4},a.prototype.writeUInt32BE=function(M,A,j){return M=+M,A>>>=0,j||v(this,M,A,4,4294967295,0),this[A]=M>>>24,this[A+1]=M>>>16,this[A+2]=M>>>8,this[A+3]=255&M,A+4},a.prototype.writeIntLE=function(M,A,j,J){if(M=+M,A>>>=0,!J){var ae=Math.pow(2,8*j-1);v(this,M,A,j,ae-1,-ae)}var ie=0,re=1,Ce=0;for(this[A]=255&M;++ie<j&&(re*=256);)M<0&&Ce===0&&this[A+ie-1]!==0&&(Ce=1),this[A+ie]=(M/re>>0)-Ce&255;return A+j},a.prototype.writeIntBE=function(M,A,j,J){if(M=+M,A>>>=0,!J){var ae=Math.pow(2,8*j-1);v(this,M,A,j,ae-1,-ae)}var ie=j-1,re=1,Ce=0;for(this[A+ie]=255&M;--ie>=0&&(re*=256);)M<0&&Ce===0&&this[A+ie+1]!==0&&(Ce=1),this[A+ie]=(M/re>>0)-Ce&255;return A+j},a.prototype.writeInt8=function(M,A,j){return M=+M,A>>>=0,j||v(this,M,A,1,127,-128),M<0&&(M=255+M+1),this[A]=255&M,A+1},a.prototype.writeInt16LE=function(M,A,j){return M=+M,A>>>=0,j||v(this,M,A,2,32767,-32768),this[A]=255&M,this[A+1]=M>>>8,A+2},a.prototype.writeInt16BE=function(M,A,j){return M=+M,A>>>=0,j||v(this,M,A,2,32767,-32768),this[A]=M>>>8,this[A+1]=255&M,A+2},a.prototype.writeInt32LE=function(M,A,j){return M=+M,A>>>=0,j||v(this,M,A,4,2147483647,-2147483648),this[A]=255&M,this[A+1]=M>>>8,this[A+2]=M>>>16,this[A+3]=M>>>24,A+4},a.prototype.writeInt32BE=function(M,A,j){return M=+M,A>>>=0,j||v(this,M,A,4,2147483647,-2147483648),M<0&&(M=4294967295+M+1),this[A]=M>>>24,this[A+1]=M>>>16,this[A+2]=M>>>8,this[A+3]=255&M,A+4},a.prototype.writeFloatLE=function(M,A,j){return y(this,M,A,!0,j)},a.prototype.writeFloatBE=function(M,A,j){return y(this,M,A,!1,j)},a.prototype.writeDoubleLE=function(M,A,j){return w(this,M,A,!0,j)},a.prototype.writeDoubleBE=function(M,A,j){return w(this,M,A,!1,j)},a.prototype.copy=function(M,A,j,J){if(!a.isBuffer(M))throw new TypeError("argument should be a Buffer");if(j||(j=0),J||J===0||(J=this.length),A>=M.length&&(A=M.length),A||(A=0),J>0&&J<j&&(J=j),J===j||M.length===0||this.length===0)return 0;if(A<0)throw new RangeError("targetStart out of bounds");if(j<0||j>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),M.length-A<J-j&&(J=M.length-A+j);var ae=J-j;if(this===M&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(A,j,J);else if(this===M&&j<A&&A<J)for(var ie=ae-1;ie>=0;--ie)M[ie+A]=this[ie+j];else Uint8Array.prototype.set.call(M,this.subarray(j,J),A);return ae},a.prototype.fill=function(M,A,j,J){if(typeof M=="string"){if(typeof A=="string"?(J=A,A=0,j=this.length):typeof j=="string"&&(J=j,j=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!a.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(M.length===1){var ae=M.charCodeAt(0);(J==="utf8"&&ae<128||J==="latin1")&&(M=ae)}}else typeof M=="number"&&(M&=255);if(A<0||this.length<A||this.length<j)throw new RangeError("Out of range index");if(j<=A)return this;var ie;if(A>>>=0,j=j===void 0?this.length:j>>>0,M||(M=0),typeof M=="number")for(ie=A;ie<j;++ie)this[ie]=M;else{var re=a.isBuffer(M)?M:a.from(M,J),Ce=re.length;if(Ce===0)throw new TypeError('The value "'+M+'" is invalid for argument "value"');for(ie=0;ie<j-A;++ie)this[ie+A]=re[ie%Ce]}return this};var O=/[^+/0-9A-Za-z-_]/g;function P(M){return M<16?"0"+M.toString(16):M.toString(16)}function W(M,A){var j;A=A||1/0;for(var J=M.length,ae=null,ie=[],re=0;re<J;++re){if((j=M.charCodeAt(re))>55295&&j<57344){if(!ae){if(j>56319){(A-=3)>-1&&ie.push(239,191,189);continue}if(re+1===J){(A-=3)>-1&&ie.push(239,191,189);continue}ae=j;continue}if(j<56320){(A-=3)>-1&&ie.push(239,191,189),ae=j;continue}j=65536+(ae-55296<<10|j-56320)}else ae&&(A-=3)>-1&&ie.push(239,191,189);if(ae=null,j<128){if((A-=1)<0)break;ie.push(j)}else if(j<2048){if((A-=2)<0)break;ie.push(j>>6|192,63&j|128)}else if(j<65536){if((A-=3)<0)break;ie.push(j>>12|224,j>>6&63|128,63&j|128)}else{if(!(j<1114112))throw new Error("Invalid code point");if((A-=4)<0)break;ie.push(j>>18|240,j>>12&63|128,j>>6&63|128,63&j|128)}}return ie}function G(M){return o.toByteArray(function(A){if((A=(A=A.split("=")[0]).trim().replace(O,"")).length<2)return"";for(;A.length%4!=0;)A+="=";return A}(M))}function K(M,A,j,J){for(var ae=0;ae<J&&!(ae+j>=A.length||ae>=M.length);++ae)A[ae+j]=M[ae];return ae}function F(M,A){return M instanceof A||M!=null&&M.constructor!=null&&M.constructor.name!=null&&M.constructor.name===A.name}function Y(M){return M!=M}}).call(this)}).call(this,i("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(i,e,t){"use strict";var n=i("safe-buffer").Buffer,o=i("stream").Transform,r=i("string_decoder").StringDecoder;function s(a){o.call(this),this.hashMode=typeof a=="string",this.hashMode?this[a]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}i("inherits")(s,o),s.prototype.update=function(a,l,d){typeof a=="string"&&(a=n.from(a,l));var c=this._update(a);return this.hashMode?this:(d&&(c=this._toString(c,d)),c)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(a,l,d){var c;try{this.hashMode?this._update(a):this.push(this._update(a))}catch(u){c=u}finally{d(c)}},s.prototype._flush=function(a){var l;try{this.push(this.__final())}catch(d){l=d}a(l)},s.prototype._finalOrDigest=function(a){var l=this.__final()||n.alloc(0);return a&&(l=this._toString(l,a,!0)),l},s.prototype._toString=function(a,l,d){if(this._decoder||(this._decoder=new r(l),this._encoding=l),this._encoding!==l)throw new Error("can't switch encodings");var c=this._decoder.write(a);return d&&(c+=this._decoder.end()),c},e.exports=s},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(i,e,t){"use strict";var n=i("../internals/is-callable"),o=i("../internals/try-to-string"),r=TypeError;e.exports=function(s){if(n(s))return s;throw new r(o(s)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(i,e,t){"use strict";var n=i("../internals/is-constructor"),o=i("../internals/try-to-string"),r=TypeError;e.exports=function(s){if(n(s))return s;throw new r(o(s)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(i,e,t){"use strict";var n=i("../internals/is-callable"),o=String,r=TypeError;e.exports=function(s){if(typeof s=="object"||n(s))return s;throw new r("Can't set "+o(s)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(i,e,t){"use strict";var n=i("../internals/well-known-symbol"),o=i("../internals/object-create"),r=i("../internals/object-define-property").f,s=n("unscopables"),a=Array.prototype;a[s]===void 0&&r(a,s,{configurable:!0,value:o(null)}),e.exports=function(l){a[s][l]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(i,e,t){"use strict";var n=i("../internals/object-is-prototype-of"),o=TypeError;e.exports=function(r,s){if(n(s,r))return r;throw new o("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(i,e,t){"use strict";var n=i("../internals/is-object"),o=String,r=TypeError;e.exports=function(s){if(n(s))return s;throw new r(o(s)+" is not an object")}},{"../internals/is-object":289}],228:[function(i,e,t){"use strict";var n=i("../internals/to-indexed-object"),o=i("../internals/to-absolute-index"),r=i("../internals/length-of-array-like"),s=function(a){return function(l,d,c){var u,h=n(l),f=r(h),p=o(c,f);if(a&&d!=d){for(;f>p;)if((u=h[p++])!=u)return!0}else for(;f>p;p++)if((a||p in h)&&h[p]===d)return a||p||0;return!a&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(i,e,t){"use strict";var n=i("../internals/function-bind-context"),o=i("../internals/function-uncurry-this"),r=i("../internals/indexed-object"),s=i("../internals/to-object"),a=i("../internals/length-of-array-like"),l=i("../internals/array-species-create"),d=o([].push),c=function(u){var h=u===1,f=u===2,p=u===3,m=u===4,g=u===6,b=u===7,x=u===5||g;return function(E,D,L,k){for(var R,N,z=s(E),V=r(z),S=n(D,L),T=a(V),B=0,_=k||l,v=h?_(E,T):f||b?_(E,0):void 0;T>B;B++)if((x||B in V)&&(N=S(R=V[B],B,z),u))if(h)v[B]=N;else if(N)switch(u){case 3:return!0;case 5:return R;case 6:return B;case 2:d(v,R)}else switch(u){case 4:return!1;case 7:d(v,R)}return g?-1:p||m?m:v}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(i,e,t){"use strict";var n=i("../internals/to-absolute-index"),o=i("../internals/length-of-array-like"),r=i("../internals/create-property"),s=Array,a=Math.max;e.exports=function(l,d,c){for(var u=o(l),h=n(d,u),f=n(c===void 0?u:c,u),p=s(a(f-h,0)),m=0;h<f;h++,m++)r(p,m,l[h]);return p.length=m,p}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(i,e,t){"use strict";var n=i("../internals/function-uncurry-this");e.exports=n([].slice)},{"../internals/function-uncurry-this":268}],232:[function(i,e,t){"use strict";var n=i("../internals/is-array"),o=i("../internals/is-constructor"),r=i("../internals/is-object"),s=i("../internals/well-known-symbol")("species"),a=Array;e.exports=function(l){var d;return n(l)&&(d=l.constructor,(o(d)&&(d===a||n(d.prototype))||r(d)&&(d=d[s])===null)&&(d=void 0)),d===void 0?a:d}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(i,e,t){"use strict";var n=i("../internals/array-species-constructor");e.exports=function(o,r){return new(n(o))(r===0?0:r)}},{"../internals/array-species-constructor":232}],234:[function(i,e,t){"use strict";var n=i("../internals/well-known-symbol")("iterator"),o=!1;try{var r=0,s={next:function(){return{done:!!r++}},return:function(){o=!0}};s[n]=function(){return this},Array.from(s,function(){throw 2})}catch{}e.exports=function(a,l){try{if(!l&&!o)return!1}catch{return!1}var d=!1;try{var c={};c[n]=function(){return{next:function(){return{done:d=!0}}}},a(c)}catch{}return d}},{"../internals/well-known-symbol":357}],235:[function(i,e,t){"use strict";var n=i("../internals/function-uncurry-this"),o=n({}.toString),r=n("".slice);e.exports=function(s){return r(o(s),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(i,e,t){"use strict";var n=i("../internals/to-string-tag-support"),o=i("../internals/is-callable"),r=i("../internals/classof-raw"),s=i("../internals/well-known-symbol")("toStringTag"),a=Object,l=r(function(){return arguments}())==="Arguments";e.exports=n?r:function(d){var c,u,h;return d===void 0?"Undefined":d===null?"Null":typeof(u=function(f,p){try{return f[p]}catch{}}(c=a(d),s))=="string"?u:l?r(c):(h=r(c))==="Object"&&o(c.callee)?"Arguments":h}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(i,e,t){"use strict";var n=i("../internals/has-own-property"),o=i("../internals/own-keys"),r=i("../internals/object-get-own-property-descriptor"),s=i("../internals/object-define-property");e.exports=function(a,l,d){for(var c=o(l),u=s.f,h=r.f,f=0;f<c.length;f++){var p=c[f];n(a,p)||d&&n(d,p)||u(a,p,h(l,p))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(i,e,t){"use strict";var n=i("../internals/well-known-symbol")("match");e.exports=function(o){var r=/./;try{"/./"[o](r)}catch{try{return r[n]=!1,"/./"[o](r)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(i,e,t){"use strict";var n=i("../internals/fails");e.exports=!n(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},{"../internals/fails":260}],240:[function(i,e,t){"use strict";e.exports=function(n,o){return{value:n,done:o}}},{}],241:[function(i,e,t){"use strict";var n=i("../internals/descriptors"),o=i("../internals/object-define-property"),r=i("../internals/create-property-descriptor");e.exports=n?function(s,a,l){return o.f(s,a,r(1,l))}:function(s,a,l){return s[a]=l,s}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(i,e,t){"use strict";e.exports=function(n,o){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:o}}},{}],243:[function(i,e,t){"use strict";var n=i("../internals/to-property-key"),o=i("../internals/object-define-property"),r=i("../internals/create-property-descriptor");e.exports=function(s,a,l){var d=n(a);d in s?o.f(s,d,r(0,l)):s[d]=l}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(i,e,t){"use strict";var n=i("../internals/make-built-in"),o=i("../internals/object-define-property");e.exports=function(r,s,a){return a.get&&n(a.get,s,{getter:!0}),a.set&&n(a.set,s,{setter:!0}),o.f(r,s,a)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(i,e,t){"use strict";var n=i("../internals/is-callable"),o=i("../internals/object-define-property"),r=i("../internals/make-built-in"),s=i("../internals/define-global-property");e.exports=function(a,l,d,c){c||(c={});var u=c.enumerable,h=c.name!==void 0?c.name:l;if(n(d)&&r(d,h,c),c.global)u?a[l]=d:s(l,d);else{try{c.unsafe?a[l]&&(u=!0):delete a[l]}catch{}u?a[l]=d:o.f(a,l,{value:d,enumerable:!1,configurable:!c.nonConfigurable,writable:!c.nonWritable})}return a}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(i,e,t){"use strict";var n=i("../internals/global"),o=Object.defineProperty;e.exports=function(r,s){try{o(n,r,{value:s,configurable:!0,writable:!0})}catch{n[r]=s}return s}},{"../internals/global":274}],247:[function(i,e,t){"use strict";var n=i("../internals/fails");e.exports=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(i,e,t){"use strict";var n=typeof document=="object"&&document.all,o=n===void 0&&n!==void 0;e.exports={all:n,IS_HTMLDDA:o}},{}],249:[function(i,e,t){"use strict";var n=i("../internals/global"),o=i("../internals/is-object"),r=n.document,s=o(r)&&o(r.createElement);e.exports=function(a){return s?r.createElement(a):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(i,e,t){"use strict";var n=i("../internals/engine-is-deno"),o=i("../internals/engine-is-node");e.exports=!n&&!o&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(i,e,t){"use strict";e.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(i,e,t){"use strict";var n=i("../internals/engine-user-agent");e.exports=/ipad|iphone|ipod/i.test(n)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(i,e,t){"use strict";var n=i("../internals/engine-user-agent");e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},{"../internals/engine-user-agent":256}],254:[function(i,e,t){"use strict";var n=i("../internals/global"),o=i("../internals/classof-raw");e.exports=o(n.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(i,e,t){"use strict";var n=i("../internals/engine-user-agent");e.exports=/web0s(?!.*chrome)/i.test(n)},{"../internals/engine-user-agent":256}],256:[function(i,e,t){"use strict";e.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(i,e,t){"use strict";var n,o,r=i("../internals/global"),s=i("../internals/engine-user-agent"),a=r.process,l=r.Deno,d=a&&a.versions||l&&l.version,c=d&&d.v8;c&&(o=(n=c.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(o=+n[1]),e.exports=o},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(i,e,t){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(i,e,t){"use strict";var n=i("../internals/global"),o=i("../internals/object-get-own-property-descriptor").f,r=i("../internals/create-non-enumerable-property"),s=i("../internals/define-built-in"),a=i("../internals/define-global-property"),l=i("../internals/copy-constructor-properties"),d=i("../internals/is-forced");e.exports=function(c,u){var h,f,p,m,g,b=c.target,x=c.global,E=c.stat;if(h=x?n:E?n[b]||a(b,{}):(n[b]||{}).prototype)for(f in u){if(m=u[f],p=c.dontCallGetSet?(g=o(h,f))&&g.value:h[f],!d(x?f:b+(E?".":"#")+f,c.forced)&&p!==void 0){if(typeof m==typeof p)continue;l(m,p)}(c.sham||p&&p.sham)&&r(m,"sham",!0),s(h,f,m,c)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(i,e,t){"use strict";e.exports=function(n){try{return!!n()}catch{return!0}}},{}],261:[function(i,e,t){"use strict";var n=i("../internals/function-bind-native"),o=Function.prototype,r=o.apply,s=o.call;e.exports=typeof Reflect=="object"&&Reflect.apply||(n?s.bind(r):function(){return s.apply(r,arguments)})},{"../internals/function-bind-native":263}],262:[function(i,e,t){"use strict";var n=i("../internals/function-uncurry-this-clause"),o=i("../internals/a-callable"),r=i("../internals/function-bind-native"),s=n(n.bind);e.exports=function(a,l){return o(a),l===void 0?a:r?s(a,l):function(){return a.apply(l,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(i,e,t){"use strict";var n=i("../internals/fails");e.exports=!n(function(){var o=(function(){}).bind();return typeof o!="function"||o.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(i,e,t){"use strict";var n=i("../internals/function-bind-native"),o=Function.prototype.call;e.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},{"../internals/function-bind-native":263}],265:[function(i,e,t){"use strict";var n=i("../internals/descriptors"),o=i("../internals/has-own-property"),r=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,a=o(r,"name"),l=a&&(function(){}).name==="something",d=a&&(!n||n&&s(r,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:d}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(i,e,t){"use strict";var n=i("../internals/function-uncurry-this"),o=i("../internals/a-callable");e.exports=function(r,s,a){try{return n(o(Object.getOwnPropertyDescriptor(r,s)[a]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(i,e,t){"use strict";var n=i("../internals/classof-raw"),o=i("../internals/function-uncurry-this");e.exports=function(r){if(n(r)==="Function")return o(r)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(i,e,t){"use strict";var n=i("../internals/function-bind-native"),o=Function.prototype,r=o.call,s=n&&o.bind.bind(r,r);e.exports=n?s:function(a){return function(){return r.apply(a,arguments)}}},{"../internals/function-bind-native":263}],269:[function(i,e,t){"use strict";var n=i("../internals/global"),o=i("../internals/is-callable"),r=function(s){return o(s)?s:void 0};e.exports=function(s,a){return arguments.length<2?r(n[s]):n[s]&&n[s][a]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(i,e,t){"use strict";var n=i("../internals/classof"),o=i("../internals/get-method"),r=i("../internals/is-null-or-undefined"),s=i("../internals/iterators"),a=i("../internals/well-known-symbol")("iterator");e.exports=function(l){if(!r(l))return o(l,a)||o(l,"@@iterator")||s[n(l)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(i,e,t){"use strict";var n=i("../internals/function-call"),o=i("../internals/a-callable"),r=i("../internals/an-object"),s=i("../internals/try-to-string"),a=i("../internals/get-iterator-method"),l=TypeError;e.exports=function(d,c){var u=arguments.length<2?a(d):c;if(o(u))return r(n(u,d));throw new l(s(d)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(i,e,t){"use strict";var n=i("../internals/function-uncurry-this"),o=i("../internals/is-array"),r=i("../internals/is-callable"),s=i("../internals/classof-raw"),a=i("../internals/to-string"),l=n([].push);e.exports=function(d){if(r(d))return d;if(o(d)){for(var c=d.length,u=[],h=0;h<c;h++){var f=d[h];typeof f=="string"?l(u,f):typeof f!="number"&&s(f)!=="Number"&&s(f)!=="String"||l(u,a(f))}var p=u.length,m=!0;return function(g,b){if(m)return m=!1,b;if(o(this))return b;for(var x=0;x<p;x++)if(u[x]===g)return b}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(i,e,t){"use strict";var n=i("../internals/a-callable"),o=i("../internals/is-null-or-undefined");e.exports=function(r,s){var a=r[s];return o(a)?void 0:n(a)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(i,e,t){(function(n){(function(){"use strict";var o=function(r){return r&&r.Math===Math&&r};e.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof n=="object"&&n)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(i,e,t){"use strict";var n=i("../internals/function-uncurry-this"),o=i("../internals/to-object"),r=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(s,a){return r(o(s),a)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(i,e,t){"use strict";e.exports={}},{}],277:[function(i,e,t){"use strict";e.exports=function(n,o){try{arguments.length===1?console.error(n):console.error(n,o)}catch{}}},{}],278:[function(i,e,t){"use strict";var n=i("../internals/get-built-in");e.exports=n("document","documentElement")},{"../internals/get-built-in":269}],279:[function(i,e,t){"use strict";var n=i("../internals/descriptors"),o=i("../internals/fails"),r=i("../internals/document-create-element");e.exports=!n&&!o(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(i,e,t){"use strict";var n=i("../internals/function-uncurry-this"),o=i("../internals/fails"),r=i("../internals/classof-raw"),s=Object,a=n("".split);e.exports=o(function(){return!s("z").propertyIsEnumerable(0)})?function(l){return r(l)==="String"?a(l,""):s(l)}:s},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(i,e,t){"use strict";var n=i("../internals/function-uncurry-this"),o=i("../internals/is-callable"),r=i("../internals/shared-store"),s=n(Function.toString);o(r.inspectSource)||(r.inspectSource=function(a){return s(a)}),e.exports=r.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(i,e,t){"use strict";var n,o,r,s=i("../internals/weak-map-basic-detection"),a=i("../internals/global"),l=i("../internals/is-object"),d=i("../internals/create-non-enumerable-property"),c=i("../internals/has-own-property"),u=i("../internals/shared-store"),h=i("../internals/shared-key"),f=i("../internals/hidden-keys"),p=a.TypeError,m=a.WeakMap;if(s||u.state){var g=u.state||(u.state=new m);g.get=g.get,g.has=g.has,g.set=g.set,n=function(x,E){if(g.has(x))throw new p("Object already initialized");return E.facade=x,g.set(x,E),E},o=function(x){return g.get(x)||{}},r=function(x){return g.has(x)}}else{var b=h("state");f[b]=!0,n=function(x,E){if(c(x,b))throw new p("Object already initialized");return E.facade=x,d(x,b,E),E},o=function(x){return c(x,b)?x[b]:{}},r=function(x){return c(x,b)}}e.exports={set:n,get:o,has:r,enforce:function(x){return r(x)?o(x):n(x,{})},getterFor:function(x){return function(E){var D;if(!l(E)||(D=o(E)).type!==x)throw new p("Incompatible receiver, "+x+" required");return D}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(i,e,t){"use strict";var n=i("../internals/well-known-symbol"),o=i("../internals/iterators"),r=n("iterator"),s=Array.prototype;e.exports=function(a){return a!==void 0&&(o.Array===a||s[r]===a)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(i,e,t){"use strict";var n=i("../internals/classof-raw");e.exports=Array.isArray||function(o){return n(o)==="Array"}},{"../internals/classof-raw":235}],285:[function(i,e,t){"use strict";var n=i("../internals/document-all"),o=n.all;e.exports=n.IS_HTMLDDA?function(r){return typeof r=="function"||r===o}:function(r){return typeof r=="function"}},{"../internals/document-all":248}],286:[function(i,e,t){"use strict";var n=i("../internals/function-uncurry-this"),o=i("../internals/fails"),r=i("../internals/is-callable"),s=i("../internals/classof"),a=i("../internals/get-built-in"),l=i("../internals/inspect-source"),d=function(){},c=[],u=a("Reflect","construct"),h=/^\s*(?:class|function)\b/,f=n(h.exec),p=!h.test(d),m=function(b){if(!r(b))return!1;try{return u(d,c,b),!0}catch{return!1}},g=function(b){if(!r(b))return!1;switch(s(b)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(h,l(b))}catch{return!0}};g.sham=!0,e.exports=!u||o(function(){var b;return m(m.call)||!m(Object)||!m(function(){b=!0})||b})?g:m},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(i,e,t){"use strict";var n=i("../internals/fails"),o=i("../internals/is-callable"),r=/#|\.prototype\./,s=function(u,h){var f=l[a(u)];return f===c||f!==d&&(o(h)?n(h):!!h)},a=s.normalize=function(u){return String(u).replace(r,".").toLowerCase()},l=s.data={},d=s.NATIVE="N",c=s.POLYFILL="P";e.exports=s},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(i,e,t){"use strict";e.exports=function(n){return n==null}},{}],289:[function(i,e,t){"use strict";var n=i("../internals/is-callable"),o=i("../internals/document-all"),r=o.all;e.exports=o.IS_HTMLDDA?function(s){return typeof s=="object"?s!==null:n(s)||s===r}:function(s){return typeof s=="object"?s!==null:n(s)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(i,e,t){"use strict";e.exports=!1},{}],291:[function(i,e,t){"use strict";var n=i("../internals/is-object"),o=i("../internals/classof-raw"),r=i("../internals/well-known-symbol")("match");e.exports=function(s){var a;return n(s)&&((a=s[r])!==void 0?!!a:o(s)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(i,e,t){"use strict";var n=i("../internals/get-built-in"),o=i("../internals/is-callable"),r=i("../internals/object-is-prototype-of"),s=i("../internals/use-symbol-as-uid"),a=Object;e.exports=s?function(l){return typeof l=="symbol"}:function(l){var d=n("Symbol");return o(d)&&r(d.prototype,a(l))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(i,e,t){"use strict";var n=i("../internals/function-bind-context"),o=i("../internals/function-call"),r=i("../internals/an-object"),s=i("../internals/try-to-string"),a=i("../internals/is-array-iterator-method"),l=i("../internals/length-of-array-like"),d=i("../internals/object-is-prototype-of"),c=i("../internals/get-iterator"),u=i("../internals/get-iterator-method"),h=i("../internals/iterator-close"),f=TypeError,p=function(g,b){this.stopped=g,this.result=b},m=p.prototype;e.exports=function(g,b,x){var E,D,L,k,R,N,z,V=x&&x.that,S=!(!x||!x.AS_ENTRIES),T=!(!x||!x.IS_RECORD),B=!(!x||!x.IS_ITERATOR),_=!(!x||!x.INTERRUPTED),v=n(b,V),C=function(w){return E&&h(E,"normal",w),new p(!0,w)},y=function(w){return S?(r(w),_?v(w[0],w[1],C):v(w[0],w[1])):_?v(w,C):v(w)};if(T)E=g.iterator;else if(B)E=g;else{if(!(D=u(g)))throw new f(s(g)+" is not iterable");if(a(D)){for(L=0,k=l(g);k>L;L++)if((R=y(g[L]))&&d(m,R))return R;return new p(!1)}E=c(g,D)}for(N=T?g.next:E.next;!(z=o(N,E)).done;){try{R=y(z.value)}catch(w){h(E,"throw",w)}if(typeof R=="object"&&R&&d(m,R))return R}return new p(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(i,e,t){"use strict";var n=i("../internals/function-call"),o=i("../internals/an-object"),r=i("../internals/get-method");e.exports=function(s,a,l){var d,c;o(s);try{if(!(d=r(s,"return"))){if(a==="throw")throw l;return l}d=n(d,s)}catch(u){c=!0,d=u}if(a==="throw")throw l;if(c)throw d;return o(d),l}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(i,e,t){"use strict";var n=i("../internals/iterators-core").IteratorPrototype,o=i("../internals/object-create"),r=i("../internals/create-property-descriptor"),s=i("../internals/set-to-string-tag"),a=i("../internals/iterators"),l=function(){return this};e.exports=function(d,c,u,h){var f=c+" Iterator";return d.prototype=o(n,{next:r(+!h,u)}),s(d,f,!1,!0),a[f]=l,d}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(i,e,t){"use strict";var n=i("../internals/export"),o=i("../internals/function-call"),r=i("../internals/is-pure"),s=i("../internals/function-name"),a=i("../internals/is-callable"),l=i("../internals/iterator-create-constructor"),d=i("../internals/object-get-prototype-of"),c=i("../internals/object-set-prototype-of"),u=i("../internals/set-to-string-tag"),h=i("../internals/create-non-enumerable-property"),f=i("../internals/define-built-in"),p=i("../internals/well-known-symbol"),m=i("../internals/iterators"),g=i("../internals/iterators-core"),b=s.PROPER,x=s.CONFIGURABLE,E=g.IteratorPrototype,D=g.BUGGY_SAFARI_ITERATORS,L=p("iterator"),k=function(){return this};e.exports=function(R,N,z,V,S,T,B){l(z,N,V);var _,v,C,y=function(F){if(F===S&&G)return G;if(!D&&F&&F in P)return P[F];switch(F){case"keys":case"values":case"entries":return function(){return new z(this,F)}}return function(){return new z(this)}},w=N+" Iterator",O=!1,P=R.prototype,W=P[L]||P["@@iterator"]||S&&P[S],G=!D&&W||y(S),K=N==="Array"&&P.entries||W;if(K&&(_=d(K.call(new R)))!==Object.prototype&&_.next&&(r||d(_)===E||(c?c(_,E):a(_[L])||f(_,L,k)),u(_,w,!0,!0),r&&(m[w]=k)),b&&S==="values"&&W&&W.name!=="values"&&(!r&&x?h(P,"name","values"):(O=!0,G=function(){return o(W,this)})),S)if(v={values:y("values"),keys:T?G:y("keys"),entries:y("entries")},B)for(C in v)(D||O||!(C in P))&&f(P,C,v[C]);else n({target:N,proto:!0,forced:D||O},v);return r&&!B||P[L]===G||f(P,L,G,{name:S}),m[N]=G,v}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(i,e,t){"use strict";var n,o,r,s=i("../internals/fails"),a=i("../internals/is-callable"),l=i("../internals/is-object"),d=i("../internals/object-create"),c=i("../internals/object-get-prototype-of"),u=i("../internals/define-built-in"),h=i("../internals/well-known-symbol"),f=i("../internals/is-pure"),p=h("iterator"),m=!1;[].keys&&("next"in(r=[].keys())?(o=c(c(r)))!==Object.prototype&&(n=o):m=!0),!l(n)||s(function(){var g={};return n[p].call(g)!==g})?n={}:f&&(n=d(n)),a(n[p])||u(n,p,function(){return this}),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:m}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(i,e,t){arguments[4][276][0].apply(t,arguments)},{dup:276}],299:[function(i,e,t){"use strict";var n=i("../internals/to-length");e.exports=function(o){return n(o.length)}},{"../internals/to-length":343}],300:[function(i,e,t){"use strict";var n=i("../internals/function-uncurry-this"),o=i("../internals/fails"),r=i("../internals/is-callable"),s=i("../internals/has-own-property"),a=i("../internals/descriptors"),l=i("../internals/function-name").CONFIGURABLE,d=i("../internals/inspect-source"),c=i("../internals/internal-state"),u=c.enforce,h=c.get,f=String,p=Object.defineProperty,m=n("".slice),g=n("".replace),b=n([].join),x=a&&!o(function(){return p(function(){},"length",{value:8}).length!==8}),E=String(String).split("String"),D=e.exports=function(L,k,R){m(f(k),0,7)==="Symbol("&&(k="["+g(f(k),/^Symbol\(([^)]*)\)/,"$1")+"]"),R&&R.getter&&(k="get "+k),R&&R.setter&&(k="set "+k),(!s(L,"name")||l&&L.name!==k)&&(a?p(L,"name",{value:k,configurable:!0}):L.name=k),x&&R&&s(R,"arity")&&L.length!==R.arity&&p(L,"length",{value:R.arity});try{R&&s(R,"constructor")&&R.constructor?a&&p(L,"prototype",{writable:!1}):L.prototype&&(L.prototype=void 0)}catch{}var N=u(L);return s(N,"source")||(N.source=b(E,typeof k=="string"?k:"")),L};Function.prototype.toString=D(function(){return r(this)&&h(this).source||d(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(i,e,t){"use strict";var n=Math.ceil,o=Math.floor;e.exports=Math.trunc||function(r){var s=+r;return(s>0?o:n)(s)}},{}],302:[function(i,e,t){"use strict";var n,o,r,s,a,l=i("../internals/global"),d=i("../internals/function-bind-context"),c=i("../internals/object-get-own-property-descriptor").f,u=i("../internals/task").set,h=i("../internals/queue"),f=i("../internals/engine-is-ios"),p=i("../internals/engine-is-ios-pebble"),m=i("../internals/engine-is-webos-webkit"),g=i("../internals/engine-is-node"),b=l.MutationObserver||l.WebKitMutationObserver,x=l.document,E=l.process,D=l.Promise,L=c(l,"queueMicrotask"),k=L&&L.value;if(!k){var R=new h,N=function(){var z,V;for(g&&(z=E.domain)&&z.exit();V=R.get();)try{V()}catch(S){throw R.head&&n(),S}z&&z.enter()};f||g||m||!b||!x?!p&&D&&D.resolve?((s=D.resolve(void 0)).constructor=D,a=d(s.then,s),n=function(){a(N)}):g?n=function(){E.nextTick(N)}:(u=d(u,l),n=function(){u(N)}):(o=!0,r=x.createTextNode(""),new b(N).observe(r,{characterData:!0}),n=function(){r.data=o=!o}),k=function(z){R.head||n(),R.add(z)}}e.exports=k},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(i,e,t){"use strict";var n=i("../internals/a-callable"),o=TypeError,r=function(s){var a,l;this.promise=new s(function(d,c){if(a!==void 0||l!==void 0)throw new o("Bad Promise constructor");a=d,l=c}),this.resolve=n(a),this.reject=n(l)};e.exports.f=function(s){return new r(s)}},{"../internals/a-callable":222}],304:[function(i,e,t){"use strict";var n=i("../internals/is-regexp"),o=TypeError;e.exports=function(r){if(n(r))throw new o("The method doesn't accept regular expressions");return r}},{"../internals/is-regexp":291}],305:[function(i,e,t){"use strict";var n=i("../internals/descriptors"),o=i("../internals/function-uncurry-this"),r=i("../internals/function-call"),s=i("../internals/fails"),a=i("../internals/object-keys"),l=i("../internals/object-get-own-property-symbols"),d=i("../internals/object-property-is-enumerable"),c=i("../internals/to-object"),u=i("../internals/indexed-object"),h=Object.assign,f=Object.defineProperty,p=o([].concat);e.exports=!h||s(function(){if(n&&h({b:1},h(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var m={},g={},b=Symbol("assign detection");return m[b]=7,"abcdefghijklmnopqrst".split("").forEach(function(x){g[x]=x}),h({},m)[b]!==7||a(h({},g)).join("")!=="abcdefghijklmnopqrst"})?function(m,g){for(var b=c(m),x=arguments.length,E=1,D=l.f,L=d.f;x>E;)for(var k,R=u(arguments[E++]),N=D?p(a(R),D(R)):a(R),z=N.length,V=0;z>V;)k=N[V++],n&&!r(L,R,k)||(b[k]=R[k]);return b}:h},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(i,e,t){"use strict";var n,o=i("../internals/an-object"),r=i("../internals/object-define-properties"),s=i("../internals/enum-bug-keys"),a=i("../internals/hidden-keys"),l=i("../internals/html"),d=i("../internals/document-create-element"),c=i("../internals/shared-key"),u=c("IE_PROTO"),h=function(){},f=function(g){return"<script>"+g+"<\/script>"},p=function(g){g.write(f("")),g.close();var b=g.parentWindow.Object;return g=null,b},m=function(){try{n=new ActiveXObject("htmlfile")}catch{}var g,b;m=typeof document<"u"?document.domain&&n?p(n):((b=d("iframe")).style.display="none",l.appendChild(b),b.src="javascript:",(g=b.contentWindow.document).open(),g.write(f("document.F=Object")),g.close(),g.F):p(n);for(var x=s.length;x--;)delete m.prototype[s[x]];return m()};a[u]=!0,e.exports=Object.create||function(g,b){var x;return g!==null?(h.prototype=o(g),x=new h,h.prototype=null,x[u]=g):x=m(),b===void 0?x:r.f(x,b)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(i,e,t){"use strict";var n=i("../internals/descriptors"),o=i("../internals/v8-prototype-define-bug"),r=i("../internals/object-define-property"),s=i("../internals/an-object"),a=i("../internals/to-indexed-object"),l=i("../internals/object-keys");t.f=n&&!o?Object.defineProperties:function(d,c){s(d);for(var u,h=a(c),f=l(c),p=f.length,m=0;p>m;)r.f(d,u=f[m++],h[u]);return d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(i,e,t){"use strict";var n=i("../internals/descriptors"),o=i("../internals/ie8-dom-define"),r=i("../internals/v8-prototype-define-bug"),s=i("../internals/an-object"),a=i("../internals/to-property-key"),l=TypeError,d=Object.defineProperty,c=Object.getOwnPropertyDescriptor;t.f=n?r?function(u,h,f){if(s(u),h=a(h),s(f),typeof u=="function"&&h==="prototype"&&"value"in f&&"writable"in f&&!f.writable){var p=c(u,h);p&&p.writable&&(u[h]=f.value,f={configurable:"configurable"in f?f.configurable:p.configurable,enumerable:"enumerable"in f?f.enumerable:p.enumerable,writable:!1})}return d(u,h,f)}:d:function(u,h,f){if(s(u),h=a(h),s(f),o)try{return d(u,h,f)}catch{}if("get"in f||"set"in f)throw new l("Accessors not supported");return"value"in f&&(u[h]=f.value),u}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(i,e,t){"use strict";var n=i("../internals/descriptors"),o=i("../internals/function-call"),r=i("../internals/object-property-is-enumerable"),s=i("../internals/create-property-descriptor"),a=i("../internals/to-indexed-object"),l=i("../internals/to-property-key"),d=i("../internals/has-own-property"),c=i("../internals/ie8-dom-define"),u=Object.getOwnPropertyDescriptor;t.f=n?u:function(h,f){if(h=a(h),f=l(f),c)try{return u(h,f)}catch{}if(d(h,f))return s(!o(r.f,h,f),h[f])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(i,e,t){"use strict";var n=i("../internals/classof-raw"),o=i("../internals/to-indexed-object"),r=i("../internals/object-get-own-property-names").f,s=i("../internals/array-slice-simple"),a=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(l){return a&&n(l)==="Window"?function(d){try{return r(d)}catch{return s(a)}}(l):r(o(l))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(i,e,t){"use strict";var n=i("../internals/object-keys-internal"),o=i("../internals/enum-bug-keys").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(r){return n(r,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(i,e,t){"use strict";t.f=Object.getOwnPropertySymbols},{}],313:[function(i,e,t){"use strict";var n=i("../internals/has-own-property"),o=i("../internals/is-callable"),r=i("../internals/to-object"),s=i("../internals/shared-key"),a=i("../internals/correct-prototype-getter"),l=s("IE_PROTO"),d=Object,c=d.prototype;e.exports=a?d.getPrototypeOf:function(u){var h=r(u);if(n(h,l))return h[l];var f=h.constructor;return o(f)&&h instanceof f?f.prototype:h instanceof d?c:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(i,e,t){"use strict";var n=i("../internals/function-uncurry-this");e.exports=n({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(i,e,t){"use strict";var n=i("../internals/function-uncurry-this"),o=i("../internals/has-own-property"),r=i("../internals/to-indexed-object"),s=i("../internals/array-includes").indexOf,a=i("../internals/hidden-keys"),l=n([].push);e.exports=function(d,c){var u,h=r(d),f=0,p=[];for(u in h)!o(a,u)&&o(h,u)&&l(p,u);for(;c.length>f;)o(h,u=c[f++])&&(~s(p,u)||l(p,u));return p}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(i,e,t){"use strict";var n=i("../internals/object-keys-internal"),o=i("../internals/enum-bug-keys");e.exports=Object.keys||function(r){return n(r,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(i,e,t){"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,r=o&&!n.call({1:2},1);t.f=r?function(s){var a=o(this,s);return!!a&&a.enumerable}:n},{}],318:[function(i,e,t){"use strict";var n=i("../internals/function-uncurry-this-accessor"),o=i("../internals/an-object"),r=i("../internals/a-possible-prototype");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,a=!1,l={};try{(s=n(Object.prototype,"__proto__","set"))(l,[]),a=l instanceof Array}catch{}return function(d,c){return o(d),r(c),a?s(d,c):d.__proto__=c,d}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(i,e,t){"use strict";var n=i("../internals/descriptors"),o=i("../internals/fails"),r=i("../internals/function-uncurry-this"),s=i("../internals/object-get-prototype-of"),a=i("../internals/object-keys"),l=i("../internals/to-indexed-object"),d=r(i("../internals/object-property-is-enumerable").f),c=r([].push),u=n&&o(function(){var f=Object.create(null);return f[2]=2,!d(f,2)}),h=function(f){return function(p){for(var m,g=l(p),b=a(g),x=u&&s(g)===null,E=b.length,D=0,L=[];E>D;)m=b[D++],n&&!(x?m in g:d(g,m))||c(L,f?[m,g[m]]:g[m]);return L}};e.exports={entries:h(!0),values:h(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(i,e,t){"use strict";var n=i("../internals/function-call"),o=i("../internals/is-callable"),r=i("../internals/is-object"),s=TypeError;e.exports=function(a,l){var d,c;if(l==="string"&&o(d=a.toString)&&!r(c=n(d,a))||o(d=a.valueOf)&&!r(c=n(d,a))||l!=="string"&&o(d=a.toString)&&!r(c=n(d,a)))return c;throw new s("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(i,e,t){"use strict";var n=i("../internals/get-built-in"),o=i("../internals/function-uncurry-this"),r=i("../internals/object-get-own-property-names"),s=i("../internals/object-get-own-property-symbols"),a=i("../internals/an-object"),l=o([].concat);e.exports=n("Reflect","ownKeys")||function(d){var c=r.f(a(d)),u=s.f;return u?l(c,u(d)):c}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(i,e,t){"use strict";var n=i("../internals/global");e.exports=n},{"../internals/global":274}],323:[function(i,e,t){"use strict";e.exports=function(n){try{return{error:!1,value:n()}}catch(o){return{error:!0,value:o}}}},{}],324:[function(i,e,t){"use strict";var n=i("../internals/global"),o=i("../internals/promise-native-constructor"),r=i("../internals/is-callable"),s=i("../internals/is-forced"),a=i("../internals/inspect-source"),l=i("../internals/well-known-symbol"),d=i("../internals/engine-is-browser"),c=i("../internals/engine-is-deno"),u=i("../internals/is-pure"),h=i("../internals/engine-v8-version"),f=o&&o.prototype,p=l("species"),m=!1,g=r(n.PromiseRejectionEvent),b=s("Promise",function(){var x=a(o),E=x!==String(o);if(!E&&h===66||u&&(!f.catch||!f.finally))return!0;if(!h||h<51||!/native code/.test(x)){var D=new o(function(k){k(1)}),L=function(k){k(function(){},function(){})};if((D.constructor={})[p]=L,!(m=D.then(function(){})instanceof L))return!0}return!E&&(d||c)&&!g});e.exports={CONSTRUCTOR:b,REJECTION_EVENT:g,SUBCLASSING:m}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(i,e,t){"use strict";var n=i("../internals/global");e.exports=n.Promise},{"../internals/global":274}],326:[function(i,e,t){"use strict";var n=i("../internals/an-object"),o=i("../internals/is-object"),r=i("../internals/new-promise-capability");e.exports=function(s,a){if(n(s),o(a)&&a.constructor===s)return a;var l=r.f(s);return(0,l.resolve)(a),l.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(i,e,t){"use strict";var n=i("../internals/promise-native-constructor"),o=i("../internals/check-correctness-of-iteration"),r=i("../internals/promise-constructor-detection").CONSTRUCTOR;e.exports=r||!o(function(s){n.all(s).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(i,e,t){"use strict";var n=function(){this.head=null,this.tail=null};n.prototype={add:function(o){var r={item:o,next:null},s=this.tail;s?s.next=r:this.head=r,this.tail=r},get:function(){var o=this.head;if(o)return(this.head=o.next)===null&&(this.tail=null),o.item}},e.exports=n},{}],329:[function(i,e,t){"use strict";var n=i("../internals/is-null-or-undefined"),o=TypeError;e.exports=function(r){if(n(r))throw new o("Can't call method on "+r);return r}},{"../internals/is-null-or-undefined":288}],330:[function(i,e,t){"use strict";var n=i("../internals/get-built-in"),o=i("../internals/define-built-in-accessor"),r=i("../internals/well-known-symbol"),s=i("../internals/descriptors"),a=r("species");e.exports=function(l){var d=n(l);s&&d&&!d[a]&&o(d,a,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(i,e,t){"use strict";var n=i("../internals/object-define-property").f,o=i("../internals/has-own-property"),r=i("../internals/well-known-symbol")("toStringTag");e.exports=function(s,a,l){s&&!l&&(s=s.prototype),s&&!o(s,r)&&n(s,r,{configurable:!0,value:a})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(i,e,t){"use strict";var n=i("../internals/shared"),o=i("../internals/uid"),r=n("keys");e.exports=function(s){return r[s]||(r[s]=o(s))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(i,e,t){"use strict";var n=i("../internals/global"),o=i("../internals/define-global-property"),r=n["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=r},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(i,e,t){"use strict";var n=i("../internals/is-pure"),o=i("../internals/shared-store");(e.exports=function(r,s){return o[r]||(o[r]=s!==void 0?s:{})})("versions",[]).push({version:"3.33.0",mode:n?"pure":"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(i,e,t){"use strict";var n=i("../internals/an-object"),o=i("../internals/a-constructor"),r=i("../internals/is-null-or-undefined"),s=i("../internals/well-known-symbol")("species");e.exports=function(a,l){var d,c=n(a).constructor;return c===void 0||r(d=n(c)[s])?l:o(d)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(i,e,t){"use strict";var n=i("../internals/engine-v8-version"),o=i("../internals/fails"),r=i("../internals/global").String;e.exports=!!Object.getOwnPropertySymbols&&!o(function(){var s=Symbol("symbol detection");return!r(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&n&&n<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(i,e,t){"use strict";var n=i("../internals/function-call"),o=i("../internals/get-built-in"),r=i("../internals/well-known-symbol"),s=i("../internals/define-built-in");e.exports=function(){var a=o("Symbol"),l=a&&a.prototype,d=l&&l.valueOf,c=r("toPrimitive");l&&!l[c]&&s(l,c,function(u){return n(d,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(i,e,t){"use strict";var n=i("../internals/symbol-constructor-detection");e.exports=n&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(i,e,t){"use strict";var n,o,r,s,a=i("../internals/global"),l=i("../internals/function-apply"),d=i("../internals/function-bind-context"),c=i("../internals/is-callable"),u=i("../internals/has-own-property"),h=i("../internals/fails"),f=i("../internals/html"),p=i("../internals/array-slice"),m=i("../internals/document-create-element"),g=i("../internals/validate-arguments-length"),b=i("../internals/engine-is-ios"),x=i("../internals/engine-is-node"),E=a.setImmediate,D=a.clearImmediate,L=a.process,k=a.Dispatch,R=a.Function,N=a.MessageChannel,z=a.String,V=0,S={};h(function(){n=a.location});var T=function(C){if(u(S,C)){var y=S[C];delete S[C],y()}},B=function(C){return function(){T(C)}},_=function(C){T(C.data)},v=function(C){a.postMessage(z(C),n.protocol+"//"+n.host)};E&&D||(E=function(C){g(arguments.length,1);var y=c(C)?C:R(C),w=p(arguments,1);return S[++V]=function(){l(y,void 0,w)},o(V),V},D=function(C){delete S[C]},x?o=function(C){L.nextTick(B(C))}:k&&k.now?o=function(C){k.now(B(C))}:N&&!b?(s=(r=new N).port2,r.port1.onmessage=_,o=d(s.postMessage,s)):a.addEventListener&&c(a.postMessage)&&!a.importScripts&&n&&n.protocol!=="file:"&&!h(v)?(o=v,a.addEventListener("message",_,!1)):o="onreadystatechange"in m("script")?function(C){f.appendChild(m("script")).onreadystatechange=function(){f.removeChild(this),T(C)}}:function(C){setTimeout(B(C),0)}),e.exports={set:E,clear:D}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(i,e,t){"use strict";var n=i("../internals/to-integer-or-infinity"),o=Math.max,r=Math.min;e.exports=function(s,a){var l=n(s);return l<0?o(l+a,0):r(l,a)}},{"../internals/to-integer-or-infinity":342}],341:[function(i,e,t){"use strict";var n=i("../internals/indexed-object"),o=i("../internals/require-object-coercible");e.exports=function(r){return n(o(r))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(i,e,t){"use strict";var n=i("../internals/math-trunc");e.exports=function(o){var r=+o;return r!=r||r===0?0:n(r)}},{"../internals/math-trunc":301}],343:[function(i,e,t){"use strict";var n=i("../internals/to-integer-or-infinity"),o=Math.min;e.exports=function(r){return r>0?o(n(r),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(i,e,t){"use strict";var n=i("../internals/require-object-coercible"),o=Object;e.exports=function(r){return o(n(r))}},{"../internals/require-object-coercible":329}],345:[function(i,e,t){"use strict";var n=i("../internals/function-call"),o=i("../internals/is-object"),r=i("../internals/is-symbol"),s=i("../internals/get-method"),a=i("../internals/ordinary-to-primitive"),l=i("../internals/well-known-symbol"),d=TypeError,c=l("toPrimitive");e.exports=function(u,h){if(!o(u)||r(u))return u;var f,p=s(u,c);if(p){if(h===void 0&&(h="default"),f=n(p,u,h),!o(f)||r(f))return f;throw new d("Can't convert object to primitive value")}return h===void 0&&(h="number"),a(u,h)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(i,e,t){"use strict";var n=i("../internals/to-primitive"),o=i("../internals/is-symbol");e.exports=function(r){var s=n(r,"string");return o(s)?s:s+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(i,e,t){"use strict";var n={};n[i("../internals/well-known-symbol")("toStringTag")]="z",e.exports=String(n)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(i,e,t){"use strict";var n=i("../internals/classof"),o=String;e.exports=function(r){if(n(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return o(r)}},{"../internals/classof":236}],349:[function(i,e,t){"use strict";var n=String;e.exports=function(o){try{return n(o)}catch{return"Object"}}},{}],350:[function(i,e,t){"use strict";var n=i("../internals/function-uncurry-this"),o=0,r=Math.random(),s=n(1 .toString);e.exports=function(a){return"Symbol("+(a===void 0?"":a)+")_"+s(++o+r,36)}},{"../internals/function-uncurry-this":268}],351:[function(i,e,t){"use strict";var n=i("../internals/symbol-constructor-detection");e.exports=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(i,e,t){"use strict";var n=i("../internals/descriptors"),o=i("../internals/fails");e.exports=n&&o(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(i,e,t){"use strict";var n=TypeError;e.exports=function(o,r){if(o<r)throw new n("Not enough arguments");return o}},{}],354:[function(i,e,t){"use strict";var n=i("../internals/global"),o=i("../internals/is-callable"),r=n.WeakMap;e.exports=o(r)&&/native code/.test(String(r))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(i,e,t){"use strict";var n=i("../internals/path"),o=i("../internals/has-own-property"),r=i("../internals/well-known-symbol-wrapped"),s=i("../internals/object-define-property").f;e.exports=function(a){var l=n.Symbol||(n.Symbol={});o(l,a)||s(l,a,{value:r.f(a)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(i,e,t){"use strict";var n=i("../internals/well-known-symbol");t.f=n},{"../internals/well-known-symbol":357}],357:[function(i,e,t){"use strict";var n=i("../internals/global"),o=i("../internals/shared"),r=i("../internals/has-own-property"),s=i("../internals/uid"),a=i("../internals/symbol-constructor-detection"),l=i("../internals/use-symbol-as-uid"),d=n.Symbol,c=o("wks"),u=l?d.for||d:d&&d.withoutSetter||s;e.exports=function(h){return r(c,h)||(c[h]=a&&r(d,h)?d[h]:u("Symbol."+h)),c[h]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(i,e,t){"use strict";var n=i("../internals/export"),o=i("../internals/array-iteration").findIndex,r=i("../internals/add-to-unscopables"),s=!0;"findIndex"in[]&&Array(1).findIndex(function(){s=!1}),n({target:"Array",proto:!0,forced:s},{findIndex:function(a){return o(this,a,arguments.length>1?arguments[1]:void 0)}}),r("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(i,e,t){"use strict";var n=i("../internals/export"),o=i("../internals/array-iteration").find,r=i("../internals/add-to-unscopables"),s=!0;"find"in[]&&Array(1).find(function(){s=!1}),n({target:"Array",proto:!0,forced:s},{find:function(a){return o(this,a,arguments.length>1?arguments[1]:void 0)}}),r("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(i,e,t){"use strict";var n=i("../internals/export"),o=i("../internals/array-includes").includes,r=i("../internals/fails"),s=i("../internals/add-to-unscopables");n({target:"Array",proto:!0,forced:r(function(){return!Array(1).includes()})},{includes:function(a){return o(this,a,arguments.length>1?arguments[1]:void 0)}}),s("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(i,e,t){"use strict";var n=i("../internals/to-indexed-object"),o=i("../internals/add-to-unscopables"),r=i("../internals/iterators"),s=i("../internals/internal-state"),a=i("../internals/object-define-property").f,l=i("../internals/iterator-define"),d=i("../internals/create-iter-result-object"),c=i("../internals/is-pure"),u=i("../internals/descriptors"),h=s.set,f=s.getterFor("Array Iterator");e.exports=l(Array,"Array",function(m,g){h(this,{type:"Array Iterator",target:n(m),index:0,kind:g})},function(){var m=f(this),g=m.target,b=m.kind,x=m.index++;if(!g||x>=g.length)return m.target=void 0,d(void 0,!0);switch(b){case"keys":return d(x,!1);case"values":return d(g[x],!1)}return d([x,g[x]],!1)},"values");var p=r.Arguments=r.Array;if(o("keys"),o("values"),o("entries"),!c&&u&&p.name!=="values")try{a(p,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(i,e,t){"use strict";var n=i("../internals/export"),o=i("../internals/get-built-in"),r=i("../internals/function-apply"),s=i("../internals/function-call"),a=i("../internals/function-uncurry-this"),l=i("../internals/fails"),d=i("../internals/is-callable"),c=i("../internals/is-symbol"),u=i("../internals/array-slice"),h=i("../internals/get-json-replacer-function"),f=i("../internals/symbol-constructor-detection"),p=String,m=o("JSON","stringify"),g=a(/./.exec),b=a("".charAt),x=a("".charCodeAt),E=a("".replace),D=a(1 .toString),L=/[\uD800-\uDFFF]/g,k=/^[\uD800-\uDBFF]$/,R=/^[\uDC00-\uDFFF]$/,N=!f||l(function(){var T=o("Symbol")("stringify detection");return m([T])!=="[null]"||m({a:T})!=="{}"||m(Object(T))!=="{}"}),z=l(function(){return m("\uDF06\uD834")!=='"\\udf06\\ud834"'||m("\uDEAD")!=='"\\udead"'}),V=function(T,B){var _=u(arguments),v=h(B);if(d(v)||T!==void 0&&!c(T))return _[1]=function(C,y){if(d(v)&&(y=s(v,this,p(C),y)),!c(y))return y},r(m,null,_)},S=function(T,B,_){var v=b(_,B-1),C=b(_,B+1);return g(k,T)&&!g(R,C)||g(R,T)&&!g(k,v)?"\\u"+D(x(T,0),16):T};m&&n({target:"JSON",stat:!0,arity:3,forced:N||z},{stringify:function(T,B,_){var v=u(arguments),C=r(N?V:m,null,v);return z&&typeof C=="string"?E(C,L,S):C}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(i,e,t){"use strict";i("../internals/export")({target:"Number",stat:!0},{isNaN:function(n){return n!=n}})},{"../internals/export":259}],364:[function(i,e,t){"use strict";var n=i("../internals/export"),o=i("../internals/object-assign");n({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(i,e,t){"use strict";var n=i("../internals/export"),o=i("../internals/symbol-constructor-detection"),r=i("../internals/fails"),s=i("../internals/object-get-own-property-symbols"),a=i("../internals/to-object");n({target:"Object",stat:!0,forced:!o||r(function(){s.f(1)})},{getOwnPropertySymbols:function(l){var d=s.f;return d?d(a(l)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(i,e,t){"use strict";var n=i("../internals/export"),o=i("../internals/to-object"),r=i("../internals/object-keys");n({target:"Object",stat:!0,forced:i("../internals/fails")(function(){r(1)})},{keys:function(s){return r(o(s))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(i,e,t){"use strict";var n=i("../internals/export"),o=i("../internals/object-to-array").values;n({target:"Object",stat:!0},{values:function(r){return o(r)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(i,e,t){"use strict";var n=i("../internals/export"),o=i("../internals/function-call"),r=i("../internals/a-callable"),s=i("../internals/new-promise-capability"),a=i("../internals/perform"),l=i("../internals/iterate");n({target:"Promise",stat:!0,forced:i("../internals/promise-statics-incorrect-iteration")},{all:function(d){var c=this,u=s.f(c),h=u.resolve,f=u.reject,p=a(function(){var m=r(c.resolve),g=[],b=0,x=1;l(d,function(E){var D=b++,L=!1;x++,o(m,c,E).then(function(k){L||(L=!0,g[D]=k,--x||h(g))},f)}),--x||h(g)});return p.error&&f(p.value),u.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(i,e,t){"use strict";var n=i("../internals/export"),o=i("../internals/is-pure"),r=i("../internals/promise-constructor-detection").CONSTRUCTOR,s=i("../internals/promise-native-constructor"),a=i("../internals/get-built-in"),l=i("../internals/is-callable"),d=i("../internals/define-built-in"),c=s&&s.prototype;if(n({target:"Promise",proto:!0,forced:r,real:!0},{catch:function(h){return this.then(void 0,h)}}),!o&&l(s)){var u=a("Promise").prototype.catch;c.catch!==u&&d(c,"catch",u,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(i,e,t){"use strict";var n,o,r,s=i("../internals/export"),a=i("../internals/is-pure"),l=i("../internals/engine-is-node"),d=i("../internals/global"),c=i("../internals/function-call"),u=i("../internals/define-built-in"),h=i("../internals/object-set-prototype-of"),f=i("../internals/set-to-string-tag"),p=i("../internals/set-species"),m=i("../internals/a-callable"),g=i("../internals/is-callable"),b=i("../internals/is-object"),x=i("../internals/an-instance"),E=i("../internals/species-constructor"),D=i("../internals/task").set,L=i("../internals/microtask"),k=i("../internals/host-report-errors"),R=i("../internals/perform"),N=i("../internals/queue"),z=i("../internals/internal-state"),V=i("../internals/promise-native-constructor"),S=i("../internals/promise-constructor-detection"),T=i("../internals/new-promise-capability"),B=S.CONSTRUCTOR,_=S.REJECTION_EVENT,v=S.SUBCLASSING,C=z.getterFor("Promise"),y=z.set,w=V&&V.prototype,O=V,P=w,W=d.TypeError,G=d.document,K=d.process,F=T.f,Y=F,M=!!(G&&G.createEvent&&d.dispatchEvent),A=function(he){var xe;return!(!b(he)||!g(xe=he.then))&&xe},j=function(he,xe){var Oe,we,Te,Xe=xe.value,Je=xe.state===1,nt=Je?he.ok:he.fail,$t=he.resolve,pt=he.reject,vt=he.domain;try{nt?(Je||(xe.rejection===2&&Ce(xe),xe.rejection=1),nt===!0?Oe=Xe:(vt&&vt.enter(),Oe=nt(Xe),vt&&(vt.exit(),Te=!0)),Oe===he.promise?pt(new W("Promise-chain cycle")):(we=A(Oe))?c(we,Oe,$t,pt):$t(Oe)):pt(Xe)}catch(bi){vt&&!Te&&vt.exit(),pt(bi)}},J=function(he,xe){he.notified||(he.notified=!0,L(function(){for(var Oe,we=he.reactions;Oe=we.get();)j(Oe,he);he.notified=!1,xe&&!he.rejection&&ie(he)}))},ae=function(he,xe,Oe){var we,Te;M?((we=G.createEvent("Event")).promise=xe,we.reason=Oe,we.initEvent(he,!1,!0),d.dispatchEvent(we)):we={promise:xe,reason:Oe},!_&&(Te=d["on"+he])?Te(we):he==="unhandledrejection"&&k("Unhandled promise rejection",Oe)},ie=function(he){c(D,d,function(){var xe,Oe=he.facade,we=he.value;if(re(he)&&(xe=R(function(){l?K.emit("unhandledRejection",we,Oe):ae("unhandledrejection",Oe,we)}),he.rejection=l||re(he)?2:1,xe.error))throw xe.value})},re=function(he){return he.rejection!==1&&!he.parent},Ce=function(he){c(D,d,function(){var xe=he.facade;l?K.emit("rejectionHandled",xe):ae("rejectionhandled",xe,he.value)})},ve=function(he,xe,Oe){return function(we){he(xe,we,Oe)}},te=function(he,xe,Oe){he.done||(he.done=!0,Oe&&(he=Oe),he.value=xe,he.state=2,J(he,!0))},ge=function(he,xe,Oe){if(!he.done){he.done=!0,Oe&&(he=Oe);try{if(he.facade===xe)throw new W("Promise can't be resolved itself");var we=A(xe);we?L(function(){var Te={done:!1};try{c(we,xe,ve(ge,Te,he),ve(te,Te,he))}catch(Xe){te(Te,Xe,he)}}):(he.value=xe,he.state=1,J(he,!1))}catch(Te){te({done:!1},Te,he)}}};if(B&&(P=(O=function(he){x(this,P),m(he),c(n,this);var xe=C(this);try{he(ve(ge,xe),ve(te,xe))}catch(Oe){te(xe,Oe)}}).prototype,(n=function(he){y(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new N,rejection:!1,state:0,value:void 0})}).prototype=u(P,"then",function(he,xe){var Oe=C(this),we=F(E(this,O));return Oe.parent=!0,we.ok=!g(he)||he,we.fail=g(xe)&&xe,we.domain=l?K.domain:void 0,Oe.state===0?Oe.reactions.add(we):L(function(){j(we,Oe)}),we.promise}),o=function(){var he=new n,xe=C(he);this.promise=he,this.resolve=ve(ge,xe),this.reject=ve(te,xe)},T.f=F=function(he){return he===O||he===void 0?new o(he):Y(he)},!a&&g(V)&&w!==Object.prototype)){r=w.then,v||u(w,"then",function(he,xe){var Oe=this;return new O(function(we,Te){c(r,Oe,we,Te)}).then(he,xe)},{unsafe:!0});try{delete w.constructor}catch{}h&&h(w,P)}s({global:!0,constructor:!0,wrap:!0,forced:B},{Promise:O}),f(O,"Promise",!1,!0),p("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(i,e,t){"use strict";var n=i("../internals/export"),o=i("../internals/is-pure"),r=i("../internals/promise-native-constructor"),s=i("../internals/fails"),a=i("../internals/get-built-in"),l=i("../internals/is-callable"),d=i("../internals/species-constructor"),c=i("../internals/promise-resolve"),u=i("../internals/define-built-in"),h=r&&r.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!r&&s(function(){h.finally.call({then:function(){}},function(){})})},{finally:function(p){var m=d(this,a("Promise")),g=l(p);return this.then(g?function(b){return c(m,p()).then(function(){return b})}:p,g?function(b){return c(m,p()).then(function(){throw b})}:p)}}),!o&&l(r)){var f=a("Promise").prototype.finally;h.finally!==f&&u(h,"finally",f,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(i,e,t){"use strict";i("../modules/es.promise.constructor"),i("../modules/es.promise.all"),i("../modules/es.promise.catch"),i("../modules/es.promise.race"),i("../modules/es.promise.reject"),i("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(i,e,t){"use strict";var n=i("../internals/export"),o=i("../internals/function-call"),r=i("../internals/a-callable"),s=i("../internals/new-promise-capability"),a=i("../internals/perform"),l=i("../internals/iterate");n({target:"Promise",stat:!0,forced:i("../internals/promise-statics-incorrect-iteration")},{race:function(d){var c=this,u=s.f(c),h=u.reject,f=a(function(){var p=r(c.resolve);l(d,function(m){o(p,c,m).then(u.resolve,h)})});return f.error&&h(f.value),u.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(i,e,t){"use strict";var n=i("../internals/export"),o=i("../internals/function-call"),r=i("../internals/new-promise-capability");n({target:"Promise",stat:!0,forced:i("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(s){var a=r.f(this);return o(a.reject,void 0,s),a.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(i,e,t){"use strict";var n=i("../internals/export"),o=i("../internals/get-built-in"),r=i("../internals/is-pure"),s=i("../internals/promise-native-constructor"),a=i("../internals/promise-constructor-detection").CONSTRUCTOR,l=i("../internals/promise-resolve"),d=o("Promise"),c=r&&!a;n({target:"Promise",stat:!0,forced:r||a},{resolve:function(u){return l(c&&this===d?s:this,u)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(i,e,t){"use strict";var n=i("../internals/export"),o=i("../internals/function-uncurry-this"),r=i("../internals/to-absolute-index"),s=RangeError,a=String.fromCharCode,l=String.fromCodePoint,d=o([].join);n({target:"String",stat:!0,arity:1,forced:!!l&&l.length!==1},{fromCodePoint:function(c){for(var u,h=[],f=arguments.length,p=0;f>p;){if(u=+arguments[p++],r(u,1114111)!==u)throw new s(u+" is not a valid code point");h[p]=u<65536?a(u):a(55296+((u-=65536)>>10),u%1024+56320)}return d(h,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(i,e,t){"use strict";var n=i("../internals/export"),o=i("../internals/function-uncurry-this"),r=i("../internals/not-a-regexp"),s=i("../internals/require-object-coercible"),a=i("../internals/to-string"),l=i("../internals/correct-is-regexp-logic"),d=o("".indexOf);n({target:"String",proto:!0,forced:!l("includes")},{includes:function(c){return!!~d(a(s(this)),a(r(c)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(i,e,t){"use strict";i("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(i,e,t){"use strict";var n=i("../internals/export"),o=i("../internals/global"),r=i("../internals/function-call"),s=i("../internals/function-uncurry-this"),a=i("../internals/is-pure"),l=i("../internals/descriptors"),d=i("../internals/symbol-constructor-detection"),c=i("../internals/fails"),u=i("../internals/has-own-property"),h=i("../internals/object-is-prototype-of"),f=i("../internals/an-object"),p=i("../internals/to-indexed-object"),m=i("../internals/to-property-key"),g=i("../internals/to-string"),b=i("../internals/create-property-descriptor"),x=i("../internals/object-create"),E=i("../internals/object-keys"),D=i("../internals/object-get-own-property-names"),L=i("../internals/object-get-own-property-names-external"),k=i("../internals/object-get-own-property-symbols"),R=i("../internals/object-get-own-property-descriptor"),N=i("../internals/object-define-property"),z=i("../internals/object-define-properties"),V=i("../internals/object-property-is-enumerable"),S=i("../internals/define-built-in"),T=i("../internals/define-built-in-accessor"),B=i("../internals/shared"),_=i("../internals/shared-key"),v=i("../internals/hidden-keys"),C=i("../internals/uid"),y=i("../internals/well-known-symbol"),w=i("../internals/well-known-symbol-wrapped"),O=i("../internals/well-known-symbol-define"),P=i("../internals/symbol-define-to-primitive"),W=i("../internals/set-to-string-tag"),G=i("../internals/internal-state"),K=i("../internals/array-iteration").forEach,F=_("hidden"),Y=G.set,M=G.getterFor("Symbol"),A=Object.prototype,j=o.Symbol,J=j&&j.prototype,ae=o.RangeError,ie=o.TypeError,re=o.QObject,Ce=R.f,ve=N.f,te=L.f,ge=V.f,he=s([].push),xe=B("symbols"),Oe=B("op-symbols"),we=B("wks"),Te=!re||!re.prototype||!re.prototype.findChild,Xe=function(Jt,at,ot){var Ai=Ce(A,at);Ai&&delete A[at],ve(Jt,at,ot),Ai&&Jt!==A&&ve(A,at,Ai)},Je=l&&c(function(){return x(ve({},"a",{get:function(){return ve(this,"a",{value:7}).a}})).a!==7})?Xe:ve,nt=function(Jt,at){var ot=xe[Jt]=x(J);return Y(ot,{type:"Symbol",tag:Jt,description:at}),l||(ot.description=at),ot},$t=function(Jt,at,ot){Jt===A&&$t(Oe,at,ot),f(Jt);var Ai=m(at);return f(ot),u(xe,Ai)?(ot.enumerable?(u(Jt,F)&&Jt[F][Ai]&&(Jt[F][Ai]=!1),ot=x(ot,{enumerable:b(0,!1)})):(u(Jt,F)||ve(Jt,F,b(1,{})),Jt[F][Ai]=!0),Je(Jt,Ai,ot)):ve(Jt,Ai,ot)},pt=function(Jt,at){f(Jt);var ot=p(at),Ai=E(ot).concat(gt(ot));return K(Ai,function(Rt){l&&!r(vt,ot,Rt)||$t(Jt,Rt,ot[Rt])}),Jt},vt=function(Jt){var at=m(Jt),ot=r(ge,this,at);return!(this===A&&u(xe,at)&&!u(Oe,at))&&(!(ot||!u(this,at)||!u(xe,at)||u(this,F)&&this[F][at])||ot)},bi=function(Jt,at){var ot=p(Jt),Ai=m(at);if(ot!==A||!u(xe,Ai)||u(Oe,Ai)){var Rt=Ce(ot,Ai);return!Rt||!u(xe,Ai)||u(ot,F)&&ot[F][Ai]||(Rt.enumerable=!0),Rt}},Ht=function(Jt){var at=te(p(Jt)),ot=[];return K(at,function(Ai){u(xe,Ai)||u(v,Ai)||he(ot,Ai)}),ot},gt=function(Jt){var at=Jt===A,ot=te(at?Oe:p(Jt)),Ai=[];return K(ot,function(Rt){!u(xe,Rt)||at&&!u(A,Rt)||he(Ai,xe[Rt])}),Ai};d||(S(J=(j=function(){if(h(J,this))throw new ie("Symbol is not a constructor");var Jt=arguments.length&&arguments[0]!==void 0?g(arguments[0]):void 0,at=C(Jt),ot=function(Ai){this===A&&r(ot,Oe,Ai),u(this,F)&&u(this[F],at)&&(this[F][at]=!1);var Rt=b(1,Ai);try{Je(this,at,Rt)}catch(ei){if(!(ei instanceof ae))throw ei;Xe(this,at,Rt)}};return l&&Te&&Je(A,at,{configurable:!0,set:ot}),nt(at,Jt)}).prototype,"toString",function(){return M(this).tag}),S(j,"withoutSetter",function(Jt){return nt(C(Jt),Jt)}),V.f=vt,N.f=$t,z.f=pt,R.f=bi,D.f=L.f=Ht,k.f=gt,w.f=function(Jt){return nt(y(Jt),Jt)},l&&(T(J,"description",{configurable:!0,get:function(){return M(this).description}}),a||S(A,"propertyIsEnumerable",vt,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!d,sham:!d},{Symbol:j}),K(E(we),function(Jt){O(Jt)}),n({target:"Symbol",stat:!0,forced:!d},{useSetter:function(){Te=!0},useSimple:function(){Te=!1}}),n({target:"Object",stat:!0,forced:!d,sham:!l},{create:function(Jt,at){return at===void 0?x(Jt):pt(x(Jt),at)},defineProperty:$t,defineProperties:pt,getOwnPropertyDescriptor:bi}),n({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:Ht}),P(),W(j,"Symbol"),v[F]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(i,e,t){"use strict";var n=i("../internals/export"),o=i("../internals/get-built-in"),r=i("../internals/has-own-property"),s=i("../internals/to-string"),a=i("../internals/shared"),l=i("../internals/symbol-registry-detection"),d=a("string-to-symbol-registry"),c=a("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!l},{for:function(u){var h=s(u);if(r(d,h))return d[h];var f=o("Symbol")(h);return d[h]=f,c[f]=h,f}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(i,e,t){"use strict";i("../modules/es.symbol.constructor"),i("../modules/es.symbol.for"),i("../modules/es.symbol.key-for"),i("../modules/es.json.stringify"),i("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(i,e,t){"use strict";var n=i("../internals/export"),o=i("../internals/has-own-property"),r=i("../internals/is-symbol"),s=i("../internals/try-to-string"),a=i("../internals/shared"),l=i("../internals/symbol-registry-detection"),d=a("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!l},{keyFor:function(c){if(!r(c))throw new TypeError(s(c)+" is not a symbol");if(o(d,c))return d[c]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(i,e,t){"use strict";function n(o){return Object.prototype.toString.call(o)}t.isArray=function(o){return Array.isArray?Array.isArray(o):n(o)==="[object Array]"},t.isBoolean=function(o){return typeof o=="boolean"},t.isNull=function(o){return o===null},t.isNullOrUndefined=function(o){return o==null},t.isNumber=function(o){return typeof o=="number"},t.isString=function(o){return typeof o=="string"},t.isSymbol=function(o){return typeof o=="symbol"},t.isUndefined=function(o){return o===void 0},t.isRegExp=function(o){return n(o)==="[object RegExp]"},t.isObject=function(o){return typeof o=="object"&&o!==null},t.isDate=function(o){return n(o)==="[object Date]"},t.isError=function(o){return n(o)==="[object Error]"||o instanceof Error},t.isFunction=function(o){return typeof o=="function"},t.isPrimitive=function(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||o===void 0},t.isBuffer=i("buffer").Buffer.isBuffer},{buffer:220}],384:[function(i,e,t){(function(n){(function(){"use strict";var o=i("elliptic"),r=i("bn.js");e.exports=function(d){return new a(d)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(d){this.curveType=s[d],this.curveType||(this.curveType={name:d}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function l(d,c,u){Array.isArray(d)||(d=d.toArray());var h=new n(d);if(u&&h.length<u){var f=new n(u-h.length);f.fill(0),h=n.concat([f,h])}return c?h.toString(c):h}s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1,a.prototype.generateKeys=function(d,c){return this.keys=this.curve.genKeyPair(),this.getPublicKey(d,c)},a.prototype.computeSecret=function(d,c,u){return c=c||"utf8",n.isBuffer(d)||(d=new n(d,c)),l(this.curve.keyFromPublic(d).getPublic().mul(this.keys.getPrivate()).getX(),u,this.curveType.byteLength)},a.prototype.getPublicKey=function(d,c){var u=this.keys.getPublic(c==="compressed",!0);return c==="hybrid"&&(u[u.length-1]%2?u[0]=7:u[0]=6),l(u,d)},a.prototype.getPrivateKey=function(d){return l(this.keys.getPrivate(),d)},a.prototype.setPublicKey=function(d,c){return c=c||"utf8",n.isBuffer(d)||(d=new n(d,c)),this.keys._importPublic(d),this},a.prototype.setPrivateKey=function(d,c){c=c||"utf8",n.isBuffer(d)||(d=new n(d,c));var u=new r(d);return u=u.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(u),this}}).call(this)}).call(this,i("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(i,e,t){arguments[4][184][0].apply(t,arguments)},{buffer:188,dup:184}],386:[function(i,e,t){"use strict";var n=i("inherits"),o=i("md5.js"),r=i("ripemd160"),s=i("sha.js"),a=i("cipher-base");function l(d){a.call(this,"digest"),this._hash=d}n(l,a),l.prototype._update=function(d){this._hash.update(d)},l.prototype._final=function(){return this._hash.digest()},e.exports=function(d){return(d=d.toLowerCase())==="md5"?new o:d==="rmd160"||d==="ripemd160"?new r:new l(s(d))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(i,e,t){"use strict";var n=i("md5.js");e.exports=function(o){return new n().update(o).digest()}},{"md5.js":450}],388:[function(i,e,t){"use strict";var n=i("inherits"),o=i("./legacy"),r=i("cipher-base"),s=i("safe-buffer").Buffer,a=i("create-hash/md5"),l=i("ripemd160"),d=i("sha.js"),c=s.alloc(128);function u(h,f){r.call(this,"digest"),typeof f=="string"&&(f=s.from(f));var p=h==="sha512"||h==="sha384"?128:64;this._alg=h,this._key=f,f.length>p?f=(h==="rmd160"?new l:d(h)).update(f).digest():f.length<p&&(f=s.concat([f,c],p));for(var m=this._ipad=s.allocUnsafe(p),g=this._opad=s.allocUnsafe(p),b=0;b<p;b++)m[b]=54^f[b],g[b]=92^f[b];this._hash=h==="rmd160"?new l:d(h),this._hash.update(m)}n(u,r),u.prototype._update=function(h){this._hash.update(h)},u.prototype._final=function(){var h=this._hash.digest();return(this._alg==="rmd160"?new l:d(this._alg)).update(this._opad).update(h).digest()},e.exports=function(h,f){return(h=h.toLowerCase())==="rmd160"||h==="ripemd160"?new u("rmd160",f):h==="md5"?new o(a,f):new u(h,f)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(i,e,t){"use strict";var n=i("inherits"),o=i("safe-buffer").Buffer,r=i("cipher-base"),s=o.alloc(128);function a(l,d){r.call(this,"digest"),typeof d=="string"&&(d=o.from(d)),this._alg=l,this._key=d,d.length>64?d=l(d):d.length<64&&(d=o.concat([d,s],64));for(var c=this._ipad=o.allocUnsafe(64),u=this._opad=o.allocUnsafe(64),h=0;h<64;h++)c[h]=54^d[h],u[h]=92^d[h];this._hash=[c]}n(a,r),a.prototype._update=function(l){this._hash.push(l)},a.prototype._final=function(){var l=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,l]))},e.exports=a},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(i,e,t){"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=i("randombytes"),t.createHash=t.Hash=i("create-hash"),t.createHmac=t.Hmac=i("create-hmac");var n=i("browserify-sign/algos"),o=Object.keys(n),r=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(o);t.getHashes=function(){return r};var s=i("pbkdf2");t.pbkdf2=s.pbkdf2,t.pbkdf2Sync=s.pbkdf2Sync;var a=i("browserify-cipher");t.Cipher=a.Cipher,t.createCipher=a.createCipher,t.Cipheriv=a.Cipheriv,t.createCipheriv=a.createCipheriv,t.Decipher=a.Decipher,t.createDecipher=a.createDecipher,t.Decipheriv=a.Decipheriv,t.createDecipheriv=a.createDecipheriv,t.getCiphers=a.getCiphers,t.listCiphers=a.listCiphers;var l=i("diffie-hellman");t.DiffieHellmanGroup=l.DiffieHellmanGroup,t.createDiffieHellmanGroup=l.createDiffieHellmanGroup,t.getDiffieHellman=l.getDiffieHellman,t.createDiffieHellman=l.createDiffieHellman,t.DiffieHellman=l.DiffieHellman;var d=i("browserify-sign");t.createSign=d.createSign,t.Sign=d.Sign,t.createVerify=d.createVerify,t.Verify=d.Verify,t.createECDH=i("create-ecdh");var c=i("public-encrypt");t.publicEncrypt=c.publicEncrypt,t.privateEncrypt=c.privateEncrypt,t.publicDecrypt=c.publicDecrypt,t.privateDecrypt=c.privateDecrypt;var u=i("randomfill");t.randomFill=u.randomFill,t.randomFillSync=u.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(i,e,t){"use strict";(function(n,o){typeof t=="object"&&e!==void 0?e.exports=o():(n=typeof globalThis<"u"?globalThis:n||self).dayjs=o()})(void 0,function(){var n=6e4,o=36e5,r="millisecond",s="second",a="minute",l="hour",d="day",c="week",u="month",h="quarter",f="year",p="date",m="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_){var v=["th","st","nd","rd"],C=_%100;return"["+_+(v[(C-20)%10]||v[C]||v[0])+"]"}},E=function(_,v,C){var y=String(_);return!y||y.length>=v?_:""+Array(v+1-y.length).join(C)+_},D={s:E,z:function(_){var v=-_.utcOffset(),C=Math.abs(v),y=Math.floor(C/60),w=C%60;return(v<=0?"+":"-")+E(y,2,"0")+":"+E(w,2,"0")},m:function _(v,C){if(v.date()<C.date())return-_(C,v);var y=12*(C.year()-v.year())+(C.month()-v.month()),w=v.clone().add(y,u),O=C-w<0,P=v.clone().add(y+(O?-1:1),u);return+(-(y+(C-w)/(O?w-P:P-w))||0)},a:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},p:function(_){return{M:u,y:f,w:c,d,D:p,h:l,m:a,s,ms:r,Q:h}[_]||String(_||"").toLowerCase().replace(/s$/,"")},u:function(_){return _===void 0}},L="en",k={};k[L]=x;var R="$isDayjsObject",N=function(_){return _ instanceof T||!(!_||!_[R])},z=function _(v,C,y){var w;if(!v)return L;if(typeof v=="string"){var O=v.toLowerCase();k[O]&&(w=O),C&&(k[O]=C,w=O);var P=v.split("-");if(!w&&P.length>1)return _(P[0])}else{var W=v.name;k[W]=v,w=W}return!y&&w&&(L=w),w||!y&&L},V=function(_,v){if(N(_))return _.clone();var C=typeof v=="object"?v:{};return C.date=_,C.args=arguments,new T(C)},S=D;S.l=z,S.i=N,S.w=function(_,v){return V(_,{locale:v.$L,utc:v.$u,x:v.$x,$offset:v.$offset})};var T=function(){function _(C){this.$L=z(C.locale,null,!0),this.parse(C),this.$x=this.$x||C.x||{},this[R]=!0}var v=_.prototype;return v.parse=function(C){this.$d=function(y){var w=y.date,O=y.utc;if(w===null)return new Date(NaN);if(S.u(w))return new Date;if(w instanceof Date)return new Date(w);if(typeof w=="string"&&!/Z$/i.test(w)){var P=w.match(g);if(P){var W=P[2]-1||0,G=(P[7]||"0").substring(0,3);return O?new Date(Date.UTC(P[1],W,P[3]||1,P[4]||0,P[5]||0,P[6]||0,G)):new Date(P[1],W,P[3]||1,P[4]||0,P[5]||0,P[6]||0,G)}}return new Date(w)}(C),this.init()},v.init=function(){var C=this.$d;this.$y=C.getFullYear(),this.$M=C.getMonth(),this.$D=C.getDate(),this.$W=C.getDay(),this.$H=C.getHours(),this.$m=C.getMinutes(),this.$s=C.getSeconds(),this.$ms=C.getMilliseconds()},v.$utils=function(){return S},v.isValid=function(){return this.$d.toString()!==m},v.isSame=function(C,y){var w=V(C);return this.startOf(y)<=w&&w<=this.endOf(y)},v.isAfter=function(C,y){return V(C)<this.startOf(y)},v.isBefore=function(C,y){return this.endOf(y)<V(C)},v.$g=function(C,y,w){return S.u(C)?this[y]:this.set(w,C)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(C,y){var w=this,O=!!S.u(y)||y,P=S.p(C),W=function(J,ae){var ie=S.w(w.$u?Date.UTC(w.$y,ae,J):new Date(w.$y,ae,J),w);return O?ie:ie.endOf(d)},G=function(J,ae){return S.w(w.toDate()[J].apply(w.toDate("s"),(O?[0,0,0,0]:[23,59,59,999]).slice(ae)),w)},K=this.$W,F=this.$M,Y=this.$D,M="set"+(this.$u?"UTC":"");switch(P){case f:return O?W(1,0):W(31,11);case u:return O?W(1,F):W(0,F+1);case c:var A=this.$locale().weekStart||0,j=(K<A?K+7:K)-A;return W(O?Y-j:Y+(6-j),F);case d:case p:return G(M+"Hours",0);case l:return G(M+"Minutes",1);case a:return G(M+"Seconds",2);case s:return G(M+"Milliseconds",3);default:return this.clone()}},v.endOf=function(C){return this.startOf(C,!1)},v.$set=function(C,y){var w,O=S.p(C),P="set"+(this.$u?"UTC":""),W=(w={},w[d]=P+"Date",w[p]=P+"Date",w[u]=P+"Month",w[f]=P+"FullYear",w[l]=P+"Hours",w[a]=P+"Minutes",w[s]=P+"Seconds",w[r]=P+"Milliseconds",w)[O],G=O===d?this.$D+(y-this.$W):y;if(O===u||O===f){var K=this.clone().set(p,1);K.$d[W](G),K.init(),this.$d=K.set(p,Math.min(this.$D,K.daysInMonth())).$d}else W&&this.$d[W](G);return this.init(),this},v.set=function(C,y){return this.clone().$set(C,y)},v.get=function(C){return this[S.p(C)]()},v.add=function(C,y){var w,O=this;C=Number(C);var P=S.p(y),W=function(F){var Y=V(O);return S.w(Y.date(Y.date()+Math.round(F*C)),O)};if(P===u)return this.set(u,this.$M+C);if(P===f)return this.set(f,this.$y+C);if(P===d)return W(1);if(P===c)return W(7);var G=(w={},w[a]=n,w[l]=o,w[s]=1e3,w)[P]||1,K=this.$d.getTime()+C*G;return S.w(K,this)},v.subtract=function(C,y){return this.add(-1*C,y)},v.format=function(C){var y=this,w=this.$locale();if(!this.isValid())return w.invalidDate||m;var O=C||"YYYY-MM-DDTHH:mm:ssZ",P=S.z(this),W=this.$H,G=this.$m,K=this.$M,F=w.weekdays,Y=w.months,M=w.meridiem,A=function(ae,ie,re,Ce){return ae&&(ae[ie]||ae(y,O))||re[ie].slice(0,Ce)},j=function(ae){return S.s(W%12||12,ae,"0")},J=M||function(ae,ie,re){var Ce=ae<12?"AM":"PM";return re?Ce.toLowerCase():Ce};return O.replace(b,function(ae,ie){return ie||function(re){switch(re){case"YY":return String(y.$y).slice(-2);case"YYYY":return S.s(y.$y,4,"0");case"M":return K+1;case"MM":return S.s(K+1,2,"0");case"MMM":return A(w.monthsShort,K,Y,3);case"MMMM":return A(Y,K);case"D":return y.$D;case"DD":return S.s(y.$D,2,"0");case"d":return String(y.$W);case"dd":return A(w.weekdaysMin,y.$W,F,2);case"ddd":return A(w.weekdaysShort,y.$W,F,3);case"dddd":return F[y.$W];case"H":return String(W);case"HH":return S.s(W,2,"0");case"h":return j(1);case"hh":return j(2);case"a":return J(W,G,!0);case"A":return J(W,G,!1);case"m":return String(G);case"mm":return S.s(G,2,"0");case"s":return String(y.$s);case"ss":return S.s(y.$s,2,"0");case"SSS":return S.s(y.$ms,3,"0");case"Z":return P}return null}(ae)||P.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(C,y,w){var O,P=this,W=S.p(y),G=V(C),K=(G.utcOffset()-this.utcOffset())*n,F=this-G,Y=function(){return S.m(P,G)};switch(W){case f:O=Y()/12;break;case u:O=Y();break;case h:O=Y()/3;break;case c:O=(F-K)/6048e5;break;case d:O=(F-K)/864e5;break;case l:O=F/o;break;case a:O=F/n;break;case s:O=F/1e3;break;default:O=F}return w?O:S.a(O)},v.daysInMonth=function(){return this.endOf(u).$D},v.$locale=function(){return k[this.$L]},v.locale=function(C,y){if(!C)return this.$L;var w=this.clone(),O=z(C,y,!0);return O&&(w.$L=O),w},v.clone=function(){return S.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},_}(),B=T.prototype;return V.prototype=B,[["$ms",r],["$s",s],["$m",a],["$H",l],["$W",d],["$M",u],["$y",f],["$D",p]].forEach(function(_){B[_[1]]=function(v){return this.$g(v,_[0],_[1])}}),V.extend=function(_,v){return _.$i||(_(v,T,V),_.$i=!0),V},V.locale=z,V.isDayjs=N,V.unix=function(_){return V(1e3*_)},V.en=k[L],V.Ls=k,V.p={},V})},{}],392:[function(i,e,t){"use strict";(function(n,o){typeof t=="object"&&e!==void 0?e.exports=o():(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_customParseFormat=o()})(void 0,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d\d/,s=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,l={},d=function(g){return(g=+g)+(g>68?1900:2e3)},c=function(g){return function(b){this[g]=+b}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(g){(this.zone||(this.zone={})).offset=function(b){if(!b||b==="Z")return 0;var x=b.match(/([+-]|\d\d)/g),E=60*x[1]+(+x[2]||0);return E===0?0:x[0]==="+"?-E:E}(g)}],h=function(g){var b=l[g];return b&&(b.indexOf?b:b.s.concat(b.f))},f=function(g,b){var x,E=l.meridiem;if(E){for(var D=1;D<=24;D+=1)if(g.indexOf(E(D,0,b))>-1){x=D>12;break}}else x=g===(b?"pm":"PM");return x},p={A:[a,function(g){this.afternoon=f(g,!1)}],a:[a,function(g){this.afternoon=f(g,!0)}],S:[/\d/,function(g){this.milliseconds=100*+g}],SS:[r,function(g){this.milliseconds=10*+g}],SSS:[/\d{3}/,function(g){this.milliseconds=+g}],s:[s,c("seconds")],ss:[s,c("seconds")],m:[s,c("minutes")],mm:[s,c("minutes")],H:[s,c("hours")],h:[s,c("hours")],HH:[s,c("hours")],hh:[s,c("hours")],D:[s,c("day")],DD:[r,c("day")],Do:[a,function(g){var b=l.ordinal,x=g.match(/\d+/);if(this.day=x[0],b)for(var E=1;E<=31;E+=1)b(E).replace(/\[|\]/g,"")===g&&(this.day=E)}],M:[s,c("month")],MM:[r,c("month")],MMM:[a,function(g){var b=h("months"),x=(h("monthsShort")||b.map(function(E){return E.slice(0,3)})).indexOf(g)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[a,function(g){var b=h("months").indexOf(g)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,c("year")],YY:[r,function(g){this.year=d(g)}],YYYY:[/\d{4}/,c("year")],Z:u,ZZ:u};function m(g){var b,x;b=g,x=l&&l.formats;for(var E=(g=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(V,S,T){var B=T&&T.toUpperCase();return S||x[T]||n[T]||x[B].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(_,v,C){return v||C.slice(1)})})).match(o),D=E.length,L=0;L<D;L+=1){var k=E[L],R=p[k],N=R&&R[0],z=R&&R[1];E[L]=z?{regex:N,parser:z}:k.replace(/^\[|\]$/g,"")}return function(V){for(var S={},T=0,B=0;T<D;T+=1){var _=E[T];if(typeof _=="string")B+=_.length;else{var v=_.regex,C=_.parser,y=V.slice(B),w=v.exec(y)[0];C.call(S,w),V=V.replace(w,"")}}return function(O){var P=O.afternoon;if(P!==void 0){var W=O.hours;P?W<12&&(O.hours+=12):W===12&&(O.hours=0),delete O.afternoon}}(S),S}}return function(g,b,x){x.p.customParseFormat=!0,g&&g.parseTwoDigitYear&&(d=g.parseTwoDigitYear);var E=b.prototype,D=E.parse;E.parse=function(L){var k=L.date,R=L.utc,N=L.args;this.$u=R;var z=N[1];if(typeof z=="string"){var V=N[2]===!0,S=N[3]===!0,T=V||S,B=N[2];S&&(B=N[2]),l=this.$locale(),!V&&B&&(l=x.Ls[B]),this.$d=function(y,w,O){try{if(["x","X"].indexOf(w)>-1)return new Date((w==="X"?1e3:1)*y);var P=m(w)(y),W=P.year,G=P.month,K=P.day,F=P.hours,Y=P.minutes,M=P.seconds,A=P.milliseconds,j=P.zone,J=new Date,ae=K||(W||G?1:J.getDate()),ie=W||J.getFullYear(),re=0;W&&!G||(re=G>0?G-1:J.getMonth());var Ce=F||0,ve=Y||0,te=M||0,ge=A||0;return j?new Date(Date.UTC(ie,re,ae,Ce,ve,te,ge+60*j.offset*1e3)):O?new Date(Date.UTC(ie,re,ae,Ce,ve,te,ge)):new Date(ie,re,ae,Ce,ve,te,ge)}catch{return new Date("")}}(k,z,R),this.init(),B&&B!==!0&&(this.$L=this.locale(B).$L),T&&k!=this.format(z)&&(this.$d=new Date("")),l={}}else if(z instanceof Array)for(var _=z.length,v=1;v<=_;v+=1){N[1]=z[v-1];var C=x.apply(this,N);if(C.isValid()){this.$d=C.$d,this.$L=C.$L,this.init();break}v===_&&(this.$d=new Date(""))}else D.call(this,L)}}})},{}],393:[function(i,e,t){"use strict";(function(n,o){typeof t=="object"&&e!==void 0?e.exports=o():(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_utc=o()})(void 0,function(){var n="minute",o=/[+-]\d\d(?::?\d\d)?/g,r=/([+-]|\d\d)/g;return function(s,a,l){var d=a.prototype;l.utc=function(g){var b={date:g,utc:!0,args:arguments};return new a(b)},d.utc=function(g){var b=l(this.toDate(),{locale:this.$L,utc:!0});return g?b.add(this.utcOffset(),n):b},d.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var c=d.parse;d.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),c.call(this,g)};var u=d.init;d.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else u.call(this)};var h=d.utcOffset;d.utcOffset=function(g,b){var x=this.$utils().u;if(x(g))return this.$u?0:x(this.$offset)?h.call(this):this.$offset;if(typeof g=="string"&&(g=function(k){k===void 0&&(k="");var R=k.match(o);if(!R)return null;var N=(""+R[0]).match(r)||["-",0,0],z=N[0],V=60*+N[1]+ +N[2];return V===0?0:z==="+"?V:-V}(g))===null)return this;var E=Math.abs(g)<=16?60*g:g,D=this;if(b)return D.$offset=E,D.$u=g===0,D;if(g!==0){var L=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(D=this.local().add(E+L,n)).$offset=E,D.$x.$localOffset=L}else D=this.utc();return D};var f=d.format;d.format=function(g){var b=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,b)},d.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},d.isUTC=function(){return!!this.$u},d.toISOString=function(){return this.toDate().toISOString()},d.toString=function(){return this.toDate().toUTCString()};var p=d.toDate;d.toDate=function(g){return g==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var m=d.diff;d.diff=function(g,b,x){if(g&&this.$u===g.$u)return m.call(this,g,b,x);var E=this.local(),D=l(g).local();return m.call(E,D,b,x)}}})},{}],394:[function(i,e,t){"use strict";t.utils=i("./des/utils"),t.Cipher=i("./des/cipher"),t.DES=i("./des/des"),t.CBC=i("./des/cbc"),t.EDE=i("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(i,e,t){"use strict";var n=i("minimalistic-assert"),o=i("inherits"),r={};function s(a){n.equal(a.length,8,"Invalid IV length"),this.iv=new Array(8);for(var l=0;l<this.iv.length;l++)this.iv[l]=a[l]}t.instantiate=function(a){function l(h){a.call(this,h),this._cbcInit()}o(l,a);for(var d=Object.keys(r),c=0;c<d.length;c++){var u=d[c];l.prototype[u]=r[u]}return l.create=function(h){return new l(h)},l},r._cbcInit=function(){var a=new s(this.options.iv);this._cbcState=a},r._update=function(a,l,d,c){var u=this._cbcState,h=this.constructor.super_.prototype,f=u.iv;if(this.type==="encrypt"){for(var p=0;p<this.blockSize;p++)f[p]^=a[l+p];for(h._update.call(this,f,0,d,c),p=0;p<this.blockSize;p++)f[p]=d[c+p]}else{for(h._update.call(this,a,l,d,c),p=0;p<this.blockSize;p++)d[c+p]^=f[p];for(p=0;p<this.blockSize;p++)f[p]=a[l+p]}}},{inherits:440,"minimalistic-assert":453}],396:[function(i,e,t){"use strict";var n=i("minimalistic-assert");function o(r){this.options=r,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=r.padding!==!1}e.exports=o,o.prototype._init=function(){},o.prototype.update=function(r){return r.length===0?[]:this.type==="decrypt"?this._updateDecrypt(r):this._updateEncrypt(r)},o.prototype._buffer=function(r,s){for(var a=Math.min(this.buffer.length-this.bufferOff,r.length-s),l=0;l<a;l++)this.buffer[this.bufferOff+l]=r[s+l];return this.bufferOff+=a,a},o.prototype._flushBuffer=function(r,s){return this._update(this.buffer,0,r,s),this.bufferOff=0,this.blockSize},o.prototype._updateEncrypt=function(r){var s=0,a=0,l=(this.bufferOff+r.length)/this.blockSize|0,d=new Array(l*this.blockSize);this.bufferOff!==0&&(s+=this._buffer(r,s),this.bufferOff===this.buffer.length&&(a+=this._flushBuffer(d,a)));for(var c=r.length-(r.length-s)%this.blockSize;s<c;s+=this.blockSize)this._update(r,s,d,a),a+=this.blockSize;for(;s<r.length;s++,this.bufferOff++)this.buffer[this.bufferOff]=r[s];return d},o.prototype._updateDecrypt=function(r){for(var s=0,a=0,l=Math.ceil((this.bufferOff+r.length)/this.blockSize)-1,d=new Array(l*this.blockSize);l>0;l--)s+=this._buffer(r,s),a+=this._flushBuffer(d,a);return s+=this._buffer(r,s),d},o.prototype.final=function(r){var s,a;return r&&(s=this.update(r)),a=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),s?s.concat(a):a},o.prototype._pad=function(r,s){if(s===0)return!1;for(;s<r.length;)r[s++]=0;return!0},o.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var r=new Array(this.blockSize);return this._update(this.buffer,0,r,0),r},o.prototype._unpad=function(r){return r},o.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var r=new Array(this.blockSize);return this._flushBuffer(r,0),this._unpad(r)}},{"minimalistic-assert":453}],397:[function(i,e,t){"use strict";var n=i("minimalistic-assert"),o=i("inherits"),r=i("./utils"),s=i("./cipher");function a(){this.tmp=new Array(2),this.keys=null}function l(c){s.call(this,c);var u=new a;this._desState=u,this.deriveKeys(u,c.key)}o(l,s),e.exports=l,l.create=function(c){return new l(c)};var d=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];l.prototype.deriveKeys=function(c,u){c.keys=new Array(32),n.equal(u.length,this.blockSize,"Invalid key length");var h=r.readUInt32BE(u,0),f=r.readUInt32BE(u,4);r.pc1(h,f,c.tmp,0),h=c.tmp[0],f=c.tmp[1];for(var p=0;p<c.keys.length;p+=2){var m=d[p>>>1];h=r.r28shl(h,m),f=r.r28shl(f,m),r.pc2(h,f,c.keys,p)}},l.prototype._update=function(c,u,h,f){var p=this._desState,m=r.readUInt32BE(c,u),g=r.readUInt32BE(c,u+4);r.ip(m,g,p.tmp,0),m=p.tmp[0],g=p.tmp[1],this.type==="encrypt"?this._encrypt(p,m,g,p.tmp,0):this._decrypt(p,m,g,p.tmp,0),m=p.tmp[0],g=p.tmp[1],r.writeUInt32BE(h,m,f),r.writeUInt32BE(h,g,f+4)},l.prototype._pad=function(c,u){if(this.padding===!1)return!1;for(var h=c.length-u,f=u;f<c.length;f++)c[f]=h;return!0},l.prototype._unpad=function(c){if(this.padding===!1)return c;for(var u=c[c.length-1],h=c.length-u;h<c.length;h++)n.equal(c[h],u);return c.slice(0,c.length-u)},l.prototype._encrypt=function(c,u,h,f,p){for(var m=u,g=h,b=0;b<c.keys.length;b+=2){var x=c.keys[b],E=c.keys[b+1];r.expand(g,c.tmp,0),x^=c.tmp[0],E^=c.tmp[1];var D=r.substitute(x,E),L=g;g=(m^r.permute(D))>>>0,m=L}r.rip(g,m,f,p)},l.prototype._decrypt=function(c,u,h,f,p){for(var m=h,g=u,b=c.keys.length-2;b>=0;b-=2){var x=c.keys[b],E=c.keys[b+1];r.expand(m,c.tmp,0),x^=c.tmp[0],E^=c.tmp[1];var D=r.substitute(x,E),L=m;m=(g^r.permute(D))>>>0,g=L}r.rip(m,g,f,p)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(i,e,t){"use strict";var n=i("minimalistic-assert"),o=i("inherits"),r=i("./cipher"),s=i("./des");function a(d,c){n.equal(c.length,24,"Invalid key length");var u=c.slice(0,8),h=c.slice(8,16),f=c.slice(16,24);this.ciphers=d==="encrypt"?[s.create({type:"encrypt",key:u}),s.create({type:"decrypt",key:h}),s.create({type:"encrypt",key:f})]:[s.create({type:"decrypt",key:f}),s.create({type:"encrypt",key:h}),s.create({type:"decrypt",key:u})]}function l(d){r.call(this,d);var c=new a(this.type,this.options.key);this._edeState=c}o(l,r),e.exports=l,l.create=function(d){return new l(d)},l.prototype._update=function(d,c,u,h){var f=this._edeState;f.ciphers[0]._update(d,c,u,h),f.ciphers[1]._update(u,h,u,h),f.ciphers[2]._update(u,h,u,h)},l.prototype._pad=s.prototype._pad,l.prototype._unpad=s.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(i,e,t){"use strict";t.readUInt32BE=function(s,a){return(s[0+a]<<24|s[1+a]<<16|s[2+a]<<8|s[3+a])>>>0},t.writeUInt32BE=function(s,a,l){s[0+l]=a>>>24,s[1+l]=a>>>16&255,s[2+l]=a>>>8&255,s[3+l]=255&a},t.ip=function(s,a,l,d){for(var c=0,u=0,h=6;h>=0;h-=2){for(var f=0;f<=24;f+=8)c<<=1,c|=a>>>f+h&1;for(f=0;f<=24;f+=8)c<<=1,c|=s>>>f+h&1}for(h=6;h>=0;h-=2){for(f=1;f<=25;f+=8)u<<=1,u|=a>>>f+h&1;for(f=1;f<=25;f+=8)u<<=1,u|=s>>>f+h&1}l[d+0]=c>>>0,l[d+1]=u>>>0},t.rip=function(s,a,l,d){for(var c=0,u=0,h=0;h<4;h++)for(var f=24;f>=0;f-=8)c<<=1,c|=a>>>f+h&1,c<<=1,c|=s>>>f+h&1;for(h=4;h<8;h++)for(f=24;f>=0;f-=8)u<<=1,u|=a>>>f+h&1,u<<=1,u|=s>>>f+h&1;l[d+0]=c>>>0,l[d+1]=u>>>0},t.pc1=function(s,a,l,d){for(var c=0,u=0,h=7;h>=5;h--){for(var f=0;f<=24;f+=8)c<<=1,c|=a>>f+h&1;for(f=0;f<=24;f+=8)c<<=1,c|=s>>f+h&1}for(f=0;f<=24;f+=8)c<<=1,c|=a>>f+h&1;for(h=1;h<=3;h++){for(f=0;f<=24;f+=8)u<<=1,u|=a>>f+h&1;for(f=0;f<=24;f+=8)u<<=1,u|=s>>f+h&1}for(f=0;f<=24;f+=8)u<<=1,u|=s>>f+h&1;l[d+0]=c>>>0,l[d+1]=u>>>0},t.r28shl=function(s,a){return s<<a&268435455|s>>>28-a};var n=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(s,a,l,d){for(var c=0,u=0,h=n.length>>>1,f=0;f<h;f++)c<<=1,c|=s>>>n[f]&1;for(f=h;f<n.length;f++)u<<=1,u|=a>>>n[f]&1;l[d+0]=c>>>0,l[d+1]=u>>>0},t.expand=function(s,a,l){var d=0,c=0;d=(1&s)<<5|s>>>27;for(var u=23;u>=15;u-=4)d<<=6,d|=s>>>u&63;for(u=11;u>=3;u-=4)c|=s>>>u&63,c<<=6;c|=(31&s)<<1|s>>>31,a[l+0]=d>>>0,a[l+1]=c>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(s,a){for(var l=0,d=0;d<4;d++)l<<=4,l|=o[64*d+(s>>>18-6*d&63)];for(d=0;d<4;d++)l<<=4,l|=o[256+64*d+(a>>>18-6*d&63)];return l>>>0};var r=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(s){for(var a=0,l=0;l<r.length;l++)a<<=1,a|=s>>>r[l]&1;return a>>>0},t.padSplit=function(s,a,l){for(var d=s.toString(2);d.length<a;)d="0"+d;for(var c=[],u=0;u<a;u+=l)c.push(d.slice(u,u+l));return c.join(" ")}},{}],400:[function(i,e,t){(function(n){(function(){"use strict";var o=i("./lib/generatePrime"),r=i("./lib/primes.json"),s=i("./lib/dh"),a={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(l){var d=new n(r[l].prime,"hex"),c=new n(r[l].gen,"hex");return new s(d,c)},t.createDiffieHellman=t.DiffieHellman=function l(d,c,u,h){return n.isBuffer(c)||a[c]===void 0?l(d,"binary",c,u):(c=c||"binary",h=h||"binary",u=u||new n([2]),n.isBuffer(u)||(u=new n(u,h)),typeof d=="number"?new s(o(d,u),u,!0):(n.isBuffer(d)||(d=new n(d,c)),new s(d,u,!0)))}}).call(this)}).call(this,i("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(i,e,t){(function(n){(function(){"use strict";var o=i("bn.js"),r=new(i("miller-rabin")),s=new o(24),a=new o(11),l=new o(10),d=new o(3),c=new o(7),u=i("./generatePrime"),h=i("randombytes");function f(x,E){return E=E||"utf8",n.isBuffer(x)||(x=new n(x,E)),this._pub=new o(x),this}function p(x,E){return E=E||"utf8",n.isBuffer(x)||(x=new n(x,E)),this._priv=new o(x),this}e.exports=g;var m={};function g(x,E,D){this.setGenerator(E),this.__prime=new o(x),this._prime=o.mont(this.__prime),this._primeLen=x.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,D?(this.setPublicKey=f,this.setPrivateKey=p):this._primeCode=8}function b(x,E){var D=new n(x.toArray());return E?D.toString(E):D}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(x,E){var D=E.toString("hex"),L=[D,x.toString(16)].join("_");if(L in m)return m[L];var k,R=0;if(x.isEven()||!u.simpleSieve||!u.fermatTest(x)||!r.test(x))return R+=1,R+=D==="02"||D==="05"?8:4,m[L]=R,R;switch(r.test(x.shrn(1))||(R+=2),D){case"02":x.mod(s).cmp(a)&&(R+=8);break;case"05":(k=x.mod(l)).cmp(d)&&k.cmp(c)&&(R+=8);break;default:R+=4}return m[L]=R,R}(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new o(h(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(x){var E=(x=(x=new o(x)).toRed(this._prime)).redPow(this._priv).fromRed(),D=new n(E.toArray()),L=this.getPrime();if(D.length<L.length){var k=new n(L.length-D.length);k.fill(0),D=n.concat([k,D])}return D},g.prototype.getPublicKey=function(x){return b(this._pub,x)},g.prototype.getPrivateKey=function(x){return b(this._priv,x)},g.prototype.getPrime=function(x){return b(this.__prime,x)},g.prototype.getGenerator=function(x){return b(this._gen,x)},g.prototype.setGenerator=function(x,E){return E=E||"utf8",n.isBuffer(x)||(x=new n(x,E)),this.__gen=x,this._gen=new o(x),this}}).call(this)}).call(this,i("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(i,e,t){"use strict";var n=i("randombytes");e.exports=x,x.simpleSieve=g,x.fermatTest=b;var o=i("bn.js"),r=new o(24),s=new(i("miller-rabin")),a=new o(1),l=new o(2),d=new o(5),c=(new o(16),new o(8),new o(10)),u=new o(3),h=(new o(7),new o(11)),f=new o(4),p=(new o(12),null);function m(){if(p!==null)return p;var E=[];E[0]=2;for(var D=1,L=3;L<1048576;L+=2){for(var k=Math.ceil(Math.sqrt(L)),R=0;R<D&&E[R]<=k&&L%E[R]!=0;R++);D!==R&&E[R]<=k||(E[D++]=L)}return p=E,E}function g(E){for(var D=m(),L=0;L<D.length;L++)if(E.modn(D[L])===0)return E.cmpn(D[L])===0;return!0}function b(E){var D=o.mont(E);return l.toRed(D).redPow(E.subn(1)).fromRed().cmpn(1)===0}function x(E,D){if(E<16)return new o(D===2||D===5?[140,123]:[140,39]);var L,k;for(D=new o(D);;){for(L=new o(n(Math.ceil(E/8)));L.bitLength()>E;)L.ishrn(1);if(L.isEven()&&L.iadd(a),L.testn(1)||L.iadd(l),D.cmp(l)){if(!D.cmp(d))for(;L.mod(c).cmp(u);)L.iadd(f)}else for(;L.mod(r).cmp(h);)L.iadd(f);if(g(k=L.shrn(1))&&g(L)&&b(k)&&b(L)&&s.test(k)&&s.test(L))return L}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(i,e,t){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(i,e,t){arguments[4][184][0].apply(t,arguments)},{buffer:188,dup:184}],405:[function(i,e,t){"use strict";var n=t;n.version=i("../package.json").version,n.utils=i("./elliptic/utils"),n.rand=i("brorand"),n.curve=i("./elliptic/curve"),n.curves=i("./elliptic/curves"),n.ec=i("./elliptic/ec"),n.eddsa=i("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(i,e,t){"use strict";var n=i("bn.js"),o=i("../utils"),r=o.getNAF,s=o.getJSF,a=o.assert;function l(c,u){this.type=c,this.p=new n(u.p,16),this.red=u.prime?n.red(u.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=u.n&&new n(u.n,16),this.g=u.g&&this.pointFromJSON(u.g,u.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var h=this.n&&this.p.div(this.n);!h||h.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function d(c,u){this.curve=c,this.type=u,this.precomputed=null}e.exports=l,l.prototype.point=function(){throw new Error("Not implemented")},l.prototype.validate=function(){throw new Error("Not implemented")},l.prototype._fixedNafMul=function(c,u){a(c.precomputed);var h=c._getDoubles(),f=r(u,1,this._bitLength),p=(1<<h.step+1)-(h.step%2==0?2:1);p/=3;var m,g,b=[];for(m=0;m<f.length;m+=h.step){g=0;for(var x=m+h.step-1;x>=m;x--)g=(g<<1)+f[x];b.push(g)}for(var E=this.jpoint(null,null,null),D=this.jpoint(null,null,null),L=p;L>0;L--){for(m=0;m<b.length;m++)(g=b[m])===L?D=D.mixedAdd(h.points[m]):g===-L&&(D=D.mixedAdd(h.points[m].neg()));E=E.add(D)}return E.toP()},l.prototype._wnafMul=function(c,u){var h=4,f=c._getNAFPoints(h);h=f.wnd;for(var p=f.points,m=r(u,h,this._bitLength),g=this.jpoint(null,null,null),b=m.length-1;b>=0;b--){for(var x=0;b>=0&&m[b]===0;b--)x++;if(b>=0&&x++,g=g.dblp(x),b<0)break;var E=m[b];a(E!==0),g=c.type==="affine"?E>0?g.mixedAdd(p[E-1>>1]):g.mixedAdd(p[-E-1>>1].neg()):E>0?g.add(p[E-1>>1]):g.add(p[-E-1>>1].neg())}return c.type==="affine"?g.toP():g},l.prototype._wnafMulAdd=function(c,u,h,f,p){var m,g,b,x=this._wnafT1,E=this._wnafT2,D=this._wnafT3,L=0;for(m=0;m<f;m++){var k=(b=u[m])._getNAFPoints(c);x[m]=k.wnd,E[m]=k.points}for(m=f-1;m>=1;m-=2){var R=m-1,N=m;if(x[R]===1&&x[N]===1){var z=[u[R],null,null,u[N]];u[R].y.cmp(u[N].y)===0?(z[1]=u[R].add(u[N]),z[2]=u[R].toJ().mixedAdd(u[N].neg())):u[R].y.cmp(u[N].y.redNeg())===0?(z[1]=u[R].toJ().mixedAdd(u[N]),z[2]=u[R].add(u[N].neg())):(z[1]=u[R].toJ().mixedAdd(u[N]),z[2]=u[R].toJ().mixedAdd(u[N].neg()));var V=[-3,-1,-5,-7,0,7,5,1,3],S=s(h[R],h[N]);for(L=Math.max(S[0].length,L),D[R]=new Array(L),D[N]=new Array(L),g=0;g<L;g++){var T=0|S[0][g],B=0|S[1][g];D[R][g]=V[3*(T+1)+(B+1)],D[N][g]=0,E[R]=z}}else D[R]=r(h[R],x[R],this._bitLength),D[N]=r(h[N],x[N],this._bitLength),L=Math.max(D[R].length,L),L=Math.max(D[N].length,L)}var _=this.jpoint(null,null,null),v=this._wnafT4;for(m=L;m>=0;m--){for(var C=0;m>=0;){var y=!0;for(g=0;g<f;g++)v[g]=0|D[g][m],v[g]!==0&&(y=!1);if(!y)break;C++,m--}if(m>=0&&C++,_=_.dblp(C),m<0)break;for(g=0;g<f;g++){var w=v[g];w!==0&&(w>0?b=E[g][w-1>>1]:w<0&&(b=E[g][-w-1>>1].neg()),_=b.type==="affine"?_.mixedAdd(b):_.add(b))}}for(m=0;m<f;m++)E[m]=null;return p?_:_.toP()},l.BasePoint=d,d.prototype.eq=function(){throw new Error("Not implemented")},d.prototype.validate=function(){return this.curve.validate(this)},l.prototype.decodePoint=function(c,u){c=o.toArray(c,u);var h=this.p.byteLength();if((c[0]===4||c[0]===6||c[0]===7)&&c.length-1==2*h)return c[0]===6?a(c[c.length-1]%2==0):c[0]===7&&a(c[c.length-1]%2==1),this.point(c.slice(1,1+h),c.slice(1+h,1+2*h));if((c[0]===2||c[0]===3)&&c.length-1===h)return this.pointFromX(c.slice(1,1+h),c[0]===3);throw new Error("Unknown point format")},d.prototype.encodeCompressed=function(c){return this.encode(c,!0)},d.prototype._encode=function(c){var u=this.curve.p.byteLength(),h=this.getX().toArray("be",u);return c?[this.getY().isEven()?2:3].concat(h):[4].concat(h,this.getY().toArray("be",u))},d.prototype.encode=function(c,u){return o.encode(this._encode(u),c)},d.prototype.precompute=function(c){if(this.precomputed)return this;var u={doubles:null,naf:null,beta:null};return u.naf=this._getNAFPoints(8),u.doubles=this._getDoubles(4,c),u.beta=this._getBeta(),this.precomputed=u,this},d.prototype._hasDoubles=function(c){if(!this.precomputed)return!1;var u=this.precomputed.doubles;return!!u&&u.points.length>=Math.ceil((c.bitLength()+1)/u.step)},d.prototype._getDoubles=function(c,u){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var h=[this],f=this,p=0;p<u;p+=c){for(var m=0;m<c;m++)f=f.dbl();h.push(f)}return{step:c,points:h}},d.prototype._getNAFPoints=function(c){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var u=[this],h=(1<<c)-1,f=h===1?null:this.dbl(),p=1;p<h;p++)u[p]=u[p-1].add(f);return{wnd:c,points:u}},d.prototype._getBeta=function(){return null},d.prototype.dblp=function(c){for(var u=this,h=0;h<c;h++)u=u.dbl();return u}},{"../utils":419,"bn.js":420}],407:[function(i,e,t){"use strict";var n=i("../utils"),o=i("bn.js"),r=i("inherits"),s=i("./base"),a=n.assert;function l(c){this.twisted=(0|c.a)!=1,this.mOneA=this.twisted&&(0|c.a)==-1,this.extended=this.mOneA,s.call(this,"edwards",c),this.a=new o(c.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(c.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(c.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|c.c)==1}function d(c,u,h,f,p){s.BasePoint.call(this,c,"projective"),u===null&&h===null&&f===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(u,16),this.y=new o(h,16),this.z=f?new o(f,16):this.curve.one,this.t=p&&new o(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}r(l,s),e.exports=l,l.prototype._mulA=function(c){return this.mOneA?c.redNeg():this.a.redMul(c)},l.prototype._mulC=function(c){return this.oneC?c:this.c.redMul(c)},l.prototype.jpoint=function(c,u,h,f){return this.point(c,u,h,f)},l.prototype.pointFromX=function(c,u){(c=new o(c,16)).red||(c=c.toRed(this.red));var h=c.redSqr(),f=this.c2.redSub(this.a.redMul(h)),p=this.one.redSub(this.c2.redMul(this.d).redMul(h)),m=f.redMul(p.redInvm()),g=m.redSqrt();if(g.redSqr().redSub(m).cmp(this.zero)!==0)throw new Error("invalid point");var b=g.fromRed().isOdd();return(u&&!b||!u&&b)&&(g=g.redNeg()),this.point(c,g)},l.prototype.pointFromY=function(c,u){(c=new o(c,16)).red||(c=c.toRed(this.red));var h=c.redSqr(),f=h.redSub(this.c2),p=h.redMul(this.d).redMul(this.c2).redSub(this.a),m=f.redMul(p.redInvm());if(m.cmp(this.zero)===0){if(u)throw new Error("invalid point");return this.point(this.zero,c)}var g=m.redSqrt();if(g.redSqr().redSub(m).cmp(this.zero)!==0)throw new Error("invalid point");return g.fromRed().isOdd()!==u&&(g=g.redNeg()),this.point(g,c)},l.prototype.validate=function(c){if(c.isInfinity())return!0;c.normalize();var u=c.x.redSqr(),h=c.y.redSqr(),f=u.redMul(this.a).redAdd(h),p=this.c2.redMul(this.one.redAdd(this.d.redMul(u).redMul(h)));return f.cmp(p)===0},r(d,s.BasePoint),l.prototype.pointFromJSON=function(c){return d.fromJSON(this,c)},l.prototype.point=function(c,u,h,f){return new d(this,c,u,h,f)},d.fromJSON=function(c,u){return new d(c,u[0],u[1],u[2])},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},d.prototype._extDbl=function(){var c=this.x.redSqr(),u=this.y.redSqr(),h=this.z.redSqr();h=h.redIAdd(h);var f=this.curve._mulA(c),p=this.x.redAdd(this.y).redSqr().redISub(c).redISub(u),m=f.redAdd(u),g=m.redSub(h),b=f.redSub(u),x=p.redMul(g),E=m.redMul(b),D=p.redMul(b),L=g.redMul(m);return this.curve.point(x,E,L,D)},d.prototype._projDbl=function(){var c,u,h,f,p,m,g=this.x.redAdd(this.y).redSqr(),b=this.x.redSqr(),x=this.y.redSqr();if(this.curve.twisted){var E=(f=this.curve._mulA(b)).redAdd(x);this.zOne?(c=g.redSub(b).redSub(x).redMul(E.redSub(this.curve.two)),u=E.redMul(f.redSub(x)),h=E.redSqr().redSub(E).redSub(E)):(p=this.z.redSqr(),m=E.redSub(p).redISub(p),c=g.redSub(b).redISub(x).redMul(m),u=E.redMul(f.redSub(x)),h=E.redMul(m))}else f=b.redAdd(x),p=this.curve._mulC(this.z).redSqr(),m=f.redSub(p).redSub(p),c=this.curve._mulC(g.redISub(f)).redMul(m),u=this.curve._mulC(f).redMul(b.redISub(x)),h=f.redMul(m);return this.curve.point(c,u,h)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},d.prototype._extAdd=function(c){var u=this.y.redSub(this.x).redMul(c.y.redSub(c.x)),h=this.y.redAdd(this.x).redMul(c.y.redAdd(c.x)),f=this.t.redMul(this.curve.dd).redMul(c.t),p=this.z.redMul(c.z.redAdd(c.z)),m=h.redSub(u),g=p.redSub(f),b=p.redAdd(f),x=h.redAdd(u),E=m.redMul(g),D=b.redMul(x),L=m.redMul(x),k=g.redMul(b);return this.curve.point(E,D,k,L)},d.prototype._projAdd=function(c){var u,h,f=this.z.redMul(c.z),p=f.redSqr(),m=this.x.redMul(c.x),g=this.y.redMul(c.y),b=this.curve.d.redMul(m).redMul(g),x=p.redSub(b),E=p.redAdd(b),D=this.x.redAdd(this.y).redMul(c.x.redAdd(c.y)).redISub(m).redISub(g),L=f.redMul(x).redMul(D);return this.curve.twisted?(u=f.redMul(E).redMul(g.redSub(this.curve._mulA(m))),h=x.redMul(E)):(u=f.redMul(E).redMul(g.redSub(m)),h=this.curve._mulC(x).redMul(E)),this.curve.point(L,u,h)},d.prototype.add=function(c){return this.isInfinity()?c:c.isInfinity()?this:this.curve.extended?this._extAdd(c):this._projAdd(c)},d.prototype.mul=function(c){return this._hasDoubles(c)?this.curve._fixedNafMul(this,c):this.curve._wnafMul(this,c)},d.prototype.mulAdd=function(c,u,h){return this.curve._wnafMulAdd(1,[this,u],[c,h],2,!1)},d.prototype.jmulAdd=function(c,u,h){return this.curve._wnafMulAdd(1,[this,u],[c,h],2,!0)},d.prototype.normalize=function(){if(this.zOne)return this;var c=this.z.redInvm();return this.x=this.x.redMul(c),this.y=this.y.redMul(c),this.t&&(this.t=this.t.redMul(c)),this.z=this.curve.one,this.zOne=!0,this},d.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()},d.prototype.getY=function(){return this.normalize(),this.y.fromRed()},d.prototype.eq=function(c){return this===c||this.getX().cmp(c.getX())===0&&this.getY().cmp(c.getY())===0},d.prototype.eqXToP=function(c){var u=c.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(u)===0)return!0;for(var h=c.clone(),f=this.curve.redN.redMul(this.z);;){if(h.iadd(this.curve.n),h.cmp(this.curve.p)>=0)return!1;if(u.redIAdd(f),this.x.cmp(u)===0)return!0}},d.prototype.toP=d.prototype.normalize,d.prototype.mixedAdd=d.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(i,e,t){"use strict";var n=t;n.base=i("./base"),n.short=i("./short"),n.mont=i("./mont"),n.edwards=i("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(i,e,t){"use strict";var n=i("bn.js"),o=i("inherits"),r=i("./base"),s=i("../utils");function a(d){r.call(this,"mont",d),this.a=new n(d.a,16).toRed(this.red),this.b=new n(d.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function l(d,c,u){r.BasePoint.call(this,d,"projective"),c===null&&u===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(c,16),this.z=new n(u,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(a,r),e.exports=a,a.prototype.validate=function(d){var c=d.normalize().x,u=c.redSqr(),h=u.redMul(c).redAdd(u.redMul(this.a)).redAdd(c);return h.redSqrt().redSqr().cmp(h)===0},o(l,r.BasePoint),a.prototype.decodePoint=function(d,c){return this.point(s.toArray(d,c),1)},a.prototype.point=function(d,c){return new l(this,d,c)},a.prototype.pointFromJSON=function(d){return l.fromJSON(this,d)},l.prototype.precompute=function(){},l.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},l.fromJSON=function(d,c){return new l(d,c[0],c[1]||d.one)},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.z.cmpn(0)===0},l.prototype.dbl=function(){var d=this.x.redAdd(this.z).redSqr(),c=this.x.redSub(this.z).redSqr(),u=d.redSub(c),h=d.redMul(c),f=u.redMul(c.redAdd(this.curve.a24.redMul(u)));return this.curve.point(h,f)},l.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.diffAdd=function(d,c){var u=this.x.redAdd(this.z),h=this.x.redSub(this.z),f=d.x.redAdd(d.z),p=d.x.redSub(d.z).redMul(u),m=f.redMul(h),g=c.z.redMul(p.redAdd(m).redSqr()),b=c.x.redMul(p.redISub(m).redSqr());return this.curve.point(g,b)},l.prototype.mul=function(d){for(var c=d.clone(),u=this,h=this.curve.point(null,null),f=[];c.cmpn(0)!==0;c.iushrn(1))f.push(c.andln(1));for(var p=f.length-1;p>=0;p--)f[p]===0?(u=u.diffAdd(h,this),h=h.dbl()):(h=u.diffAdd(h,this),u=u.dbl());return h},l.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.eq=function(d){return this.getX().cmp(d.getX())===0},l.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(i,e,t){"use strict";var n=i("../utils"),o=i("bn.js"),r=i("inherits"),s=i("./base"),a=n.assert;function l(u){s.call(this,"short",u),this.a=new o(u.a,16).toRed(this.red),this.b=new o(u.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(u),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function d(u,h,f,p){s.BasePoint.call(this,u,"affine"),h===null&&f===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(h,16),this.y=new o(f,16),p&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function c(u,h,f,p){s.BasePoint.call(this,u,"jacobian"),h===null&&f===null&&p===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(h,16),this.y=new o(f,16),this.z=new o(p,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}r(l,s),e.exports=l,l.prototype._getEndomorphism=function(u){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var h,f;if(u.beta)h=new o(u.beta,16).toRed(this.red);else{var p=this._getEndoRoots(this.p);h=(h=p[0].cmp(p[1])<0?p[0]:p[1]).toRed(this.red)}if(u.lambda)f=new o(u.lambda,16);else{var m=this._getEndoRoots(this.n);this.g.mul(m[0]).x.cmp(this.g.x.redMul(h))===0?f=m[0]:(f=m[1],a(this.g.mul(f).x.cmp(this.g.x.redMul(h))===0))}return{beta:h,lambda:f,basis:u.basis?u.basis.map(function(g){return{a:new o(g.a,16),b:new o(g.b,16)}}):this._getEndoBasis(f)}}},l.prototype._getEndoRoots=function(u){var h=u===this.p?this.red:o.mont(u),f=new o(2).toRed(h).redInvm(),p=f.redNeg(),m=new o(3).toRed(h).redNeg().redSqrt().redMul(f);return[p.redAdd(m).fromRed(),p.redSub(m).fromRed()]},l.prototype._getEndoBasis=function(u){for(var h,f,p,m,g,b,x,E,D,L=this.n.ushrn(Math.floor(this.n.bitLength()/2)),k=u,R=this.n.clone(),N=new o(1),z=new o(0),V=new o(0),S=new o(1),T=0;k.cmpn(0)!==0;){var B=R.div(k);E=R.sub(B.mul(k)),D=V.sub(B.mul(N));var _=S.sub(B.mul(z));if(!p&&E.cmp(L)<0)h=x.neg(),f=N,p=E.neg(),m=D;else if(p&&++T==2)break;x=E,R=k,k=E,V=N,N=D,S=z,z=_}g=E.neg(),b=D;var v=p.sqr().add(m.sqr());return g.sqr().add(b.sqr()).cmp(v)>=0&&(g=h,b=f),p.negative&&(p=p.neg(),m=m.neg()),g.negative&&(g=g.neg(),b=b.neg()),[{a:p,b:m},{a:g,b}]},l.prototype._endoSplit=function(u){var h=this.endo.basis,f=h[0],p=h[1],m=p.b.mul(u).divRound(this.n),g=f.b.neg().mul(u).divRound(this.n),b=m.mul(f.a),x=g.mul(p.a),E=m.mul(f.b),D=g.mul(p.b);return{k1:u.sub(b).sub(x),k2:E.add(D).neg()}},l.prototype.pointFromX=function(u,h){(u=new o(u,16)).red||(u=u.toRed(this.red));var f=u.redSqr().redMul(u).redIAdd(u.redMul(this.a)).redIAdd(this.b),p=f.redSqrt();if(p.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");var m=p.fromRed().isOdd();return(h&&!m||!h&&m)&&(p=p.redNeg()),this.point(u,p)},l.prototype.validate=function(u){if(u.inf)return!0;var h=u.x,f=u.y,p=this.a.redMul(h),m=h.redSqr().redMul(h).redIAdd(p).redIAdd(this.b);return f.redSqr().redISub(m).cmpn(0)===0},l.prototype._endoWnafMulAdd=function(u,h,f){for(var p=this._endoWnafT1,m=this._endoWnafT2,g=0;g<u.length;g++){var b=this._endoSplit(h[g]),x=u[g],E=x._getBeta();b.k1.negative&&(b.k1.ineg(),x=x.neg(!0)),b.k2.negative&&(b.k2.ineg(),E=E.neg(!0)),p[2*g]=x,p[2*g+1]=E,m[2*g]=b.k1,m[2*g+1]=b.k2}for(var D=this._wnafMulAdd(1,p,m,2*g,f),L=0;L<2*g;L++)p[L]=null,m[L]=null;return D},r(d,s.BasePoint),l.prototype.point=function(u,h,f){return new d(this,u,h,f)},l.prototype.pointFromJSON=function(u,h){return d.fromJSON(this,u,h)},d.prototype._getBeta=function(){if(this.curve.endo){var u=this.precomputed;if(u&&u.beta)return u.beta;var h=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(u){var f=this.curve,p=function(m){return f.point(m.x.redMul(f.endo.beta),m.y)};u.beta=h,h.precomputed={beta:null,naf:u.naf&&{wnd:u.naf.wnd,points:u.naf.points.map(p)},doubles:u.doubles&&{step:u.doubles.step,points:u.doubles.points.map(p)}}}return h}},d.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},d.fromJSON=function(u,h,f){typeof h=="string"&&(h=JSON.parse(h));var p=u.point(h[0],h[1],f);if(!h[2])return p;function m(b){return u.point(b[0],b[1],f)}var g=h[2];return p.precomputed={beta:null,doubles:g.doubles&&{step:g.doubles.step,points:[p].concat(g.doubles.points.map(m))},naf:g.naf&&{wnd:g.naf.wnd,points:[p].concat(g.naf.points.map(m))}},p},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.inf},d.prototype.add=function(u){if(this.inf)return u;if(u.inf)return this;if(this.eq(u))return this.dbl();if(this.neg().eq(u))return this.curve.point(null,null);if(this.x.cmp(u.x)===0)return this.curve.point(null,null);var h=this.y.redSub(u.y);h.cmpn(0)!==0&&(h=h.redMul(this.x.redSub(u.x).redInvm()));var f=h.redSqr().redISub(this.x).redISub(u.x),p=h.redMul(this.x.redSub(f)).redISub(this.y);return this.curve.point(f,p)},d.prototype.dbl=function(){if(this.inf)return this;var u=this.y.redAdd(this.y);if(u.cmpn(0)===0)return this.curve.point(null,null);var h=this.curve.a,f=this.x.redSqr(),p=u.redInvm(),m=f.redAdd(f).redIAdd(f).redIAdd(h).redMul(p),g=m.redSqr().redISub(this.x.redAdd(this.x)),b=m.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,b)},d.prototype.getX=function(){return this.x.fromRed()},d.prototype.getY=function(){return this.y.fromRed()},d.prototype.mul=function(u){return u=new o(u,16),this.isInfinity()?this:this._hasDoubles(u)?this.curve._fixedNafMul(this,u):this.curve.endo?this.curve._endoWnafMulAdd([this],[u]):this.curve._wnafMul(this,u)},d.prototype.mulAdd=function(u,h,f){var p=[this,h],m=[u,f];return this.curve.endo?this.curve._endoWnafMulAdd(p,m):this.curve._wnafMulAdd(1,p,m,2)},d.prototype.jmulAdd=function(u,h,f){var p=[this,h],m=[u,f];return this.curve.endo?this.curve._endoWnafMulAdd(p,m,!0):this.curve._wnafMulAdd(1,p,m,2,!0)},d.prototype.eq=function(u){return this===u||this.inf===u.inf&&(this.inf||this.x.cmp(u.x)===0&&this.y.cmp(u.y)===0)},d.prototype.neg=function(u){if(this.inf)return this;var h=this.curve.point(this.x,this.y.redNeg());if(u&&this.precomputed){var f=this.precomputed,p=function(m){return m.neg()};h.precomputed={naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(p)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(p)}}}return h},d.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},r(c,s.BasePoint),l.prototype.jpoint=function(u,h,f){return new c(this,u,h,f)},c.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var u=this.z.redInvm(),h=u.redSqr(),f=this.x.redMul(h),p=this.y.redMul(h).redMul(u);return this.curve.point(f,p)},c.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c.prototype.add=function(u){if(this.isInfinity())return u;if(u.isInfinity())return this;var h=u.z.redSqr(),f=this.z.redSqr(),p=this.x.redMul(h),m=u.x.redMul(f),g=this.y.redMul(h.redMul(u.z)),b=u.y.redMul(f.redMul(this.z)),x=p.redSub(m),E=g.redSub(b);if(x.cmpn(0)===0)return E.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var D=x.redSqr(),L=D.redMul(x),k=p.redMul(D),R=E.redSqr().redIAdd(L).redISub(k).redISub(k),N=E.redMul(k.redISub(R)).redISub(g.redMul(L)),z=this.z.redMul(u.z).redMul(x);return this.curve.jpoint(R,N,z)},c.prototype.mixedAdd=function(u){if(this.isInfinity())return u.toJ();if(u.isInfinity())return this;var h=this.z.redSqr(),f=this.x,p=u.x.redMul(h),m=this.y,g=u.y.redMul(h).redMul(this.z),b=f.redSub(p),x=m.redSub(g);if(b.cmpn(0)===0)return x.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var E=b.redSqr(),D=E.redMul(b),L=f.redMul(E),k=x.redSqr().redIAdd(D).redISub(L).redISub(L),R=x.redMul(L.redISub(k)).redISub(m.redMul(D)),N=this.z.redMul(b);return this.curve.jpoint(k,R,N)},c.prototype.dblp=function(u){if(u===0)return this;if(this.isInfinity())return this;if(!u)return this.dbl();var h;if(this.curve.zeroA||this.curve.threeA){var f=this;for(h=0;h<u;h++)f=f.dbl();return f}var p=this.curve.a,m=this.curve.tinv,g=this.x,b=this.y,x=this.z,E=x.redSqr().redSqr(),D=b.redAdd(b);for(h=0;h<u;h++){var L=g.redSqr(),k=D.redSqr(),R=k.redSqr(),N=L.redAdd(L).redIAdd(L).redIAdd(p.redMul(E)),z=g.redMul(k),V=N.redSqr().redISub(z.redAdd(z)),S=z.redISub(V),T=N.redMul(S);T=T.redIAdd(T).redISub(R);var B=D.redMul(x);h+1<u&&(E=E.redMul(R)),g=V,x=B,D=T}return this.curve.jpoint(g,D.redMul(m),x)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c.prototype._zeroDbl=function(){var u,h,f;if(this.zOne){var p=this.x.redSqr(),m=this.y.redSqr(),g=m.redSqr(),b=this.x.redAdd(m).redSqr().redISub(p).redISub(g);b=b.redIAdd(b);var x=p.redAdd(p).redIAdd(p),E=x.redSqr().redISub(b).redISub(b),D=g.redIAdd(g);D=(D=D.redIAdd(D)).redIAdd(D),u=E,h=x.redMul(b.redISub(E)).redISub(D),f=this.y.redAdd(this.y)}else{var L=this.x.redSqr(),k=this.y.redSqr(),R=k.redSqr(),N=this.x.redAdd(k).redSqr().redISub(L).redISub(R);N=N.redIAdd(N);var z=L.redAdd(L).redIAdd(L),V=z.redSqr(),S=R.redIAdd(R);S=(S=S.redIAdd(S)).redIAdd(S),u=V.redISub(N).redISub(N),h=z.redMul(N.redISub(u)).redISub(S),f=(f=this.y.redMul(this.z)).redIAdd(f)}return this.curve.jpoint(u,h,f)},c.prototype._threeDbl=function(){var u,h,f;if(this.zOne){var p=this.x.redSqr(),m=this.y.redSqr(),g=m.redSqr(),b=this.x.redAdd(m).redSqr().redISub(p).redISub(g);b=b.redIAdd(b);var x=p.redAdd(p).redIAdd(p).redIAdd(this.curve.a),E=x.redSqr().redISub(b).redISub(b);u=E;var D=g.redIAdd(g);D=(D=D.redIAdd(D)).redIAdd(D),h=x.redMul(b.redISub(E)).redISub(D),f=this.y.redAdd(this.y)}else{var L=this.z.redSqr(),k=this.y.redSqr(),R=this.x.redMul(k),N=this.x.redSub(L).redMul(this.x.redAdd(L));N=N.redAdd(N).redIAdd(N);var z=R.redIAdd(R),V=(z=z.redIAdd(z)).redAdd(z);u=N.redSqr().redISub(V),f=this.y.redAdd(this.z).redSqr().redISub(k).redISub(L);var S=k.redSqr();S=(S=(S=S.redIAdd(S)).redIAdd(S)).redIAdd(S),h=N.redMul(z.redISub(u)).redISub(S)}return this.curve.jpoint(u,h,f)},c.prototype._dbl=function(){var u=this.curve.a,h=this.x,f=this.y,p=this.z,m=p.redSqr().redSqr(),g=h.redSqr(),b=f.redSqr(),x=g.redAdd(g).redIAdd(g).redIAdd(u.redMul(m)),E=h.redAdd(h),D=(E=E.redIAdd(E)).redMul(b),L=x.redSqr().redISub(D.redAdd(D)),k=D.redISub(L),R=b.redSqr();R=(R=(R=R.redIAdd(R)).redIAdd(R)).redIAdd(R);var N=x.redMul(k).redISub(R),z=f.redAdd(f).redMul(p);return this.curve.jpoint(L,N,z)},c.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var u=this.x.redSqr(),h=this.y.redSqr(),f=this.z.redSqr(),p=h.redSqr(),m=u.redAdd(u).redIAdd(u),g=m.redSqr(),b=this.x.redAdd(h).redSqr().redISub(u).redISub(p),x=(b=(b=(b=b.redIAdd(b)).redAdd(b).redIAdd(b)).redISub(g)).redSqr(),E=p.redIAdd(p);E=(E=(E=E.redIAdd(E)).redIAdd(E)).redIAdd(E);var D=m.redIAdd(b).redSqr().redISub(g).redISub(x).redISub(E),L=h.redMul(D);L=(L=L.redIAdd(L)).redIAdd(L);var k=this.x.redMul(x).redISub(L);k=(k=k.redIAdd(k)).redIAdd(k);var R=this.y.redMul(D.redMul(E.redISub(D)).redISub(b.redMul(x)));R=(R=(R=R.redIAdd(R)).redIAdd(R)).redIAdd(R);var N=this.z.redAdd(b).redSqr().redISub(f).redISub(x);return this.curve.jpoint(k,R,N)},c.prototype.mul=function(u,h){return u=new o(u,h),this.curve._wnafMul(this,u)},c.prototype.eq=function(u){if(u.type==="affine")return this.eq(u.toJ());if(this===u)return!0;var h=this.z.redSqr(),f=u.z.redSqr();if(this.x.redMul(f).redISub(u.x.redMul(h)).cmpn(0)!==0)return!1;var p=h.redMul(this.z),m=f.redMul(u.z);return this.y.redMul(m).redISub(u.y.redMul(p)).cmpn(0)===0},c.prototype.eqXToP=function(u){var h=this.z.redSqr(),f=u.toRed(this.curve.red).redMul(h);if(this.x.cmp(f)===0)return!0;for(var p=u.clone(),m=this.curve.redN.redMul(h);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(m),this.x.cmp(f)===0)return!0}},c.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(i,e,t){"use strict";var n,o=t,r=i("hash.js"),s=i("./curve"),a=i("./utils").assert;function l(c){c.type==="short"?this.curve=new s.short(c):c.type==="edwards"?this.curve=new s.edwards(c):this.curve=new s.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function d(c,u){Object.defineProperty(o,c,{configurable:!0,enumerable:!0,get:function(){var h=new l(u);return Object.defineProperty(o,c,{configurable:!0,enumerable:!0,value:h}),h}})}o.PresetCurve=l,d("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),d("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),d("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),d("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),d("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),d("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),d("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=i("./precomputed/secp256k1")}catch{n=void 0}d("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(i,e,t){"use strict";var n=i("bn.js"),o=i("hmac-drbg"),r=i("../utils"),s=i("../curves"),a=i("brorand"),l=r.assert,d=i("./key"),c=i("./signature");function u(h){if(!(this instanceof u))return new u(h);typeof h=="string"&&(l(Object.prototype.hasOwnProperty.call(s,h),"Unknown curve "+h),h=s[h]),h instanceof s.PresetCurve&&(h={curve:h}),this.curve=h.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=h.curve.g,this.g.precompute(h.curve.n.bitLength()+1),this.hash=h.hash||h.curve.hash}e.exports=u,u.prototype.keyPair=function(h){return new d(this,h)},u.prototype.keyFromPrivate=function(h,f){return d.fromPrivate(this,h,f)},u.prototype.keyFromPublic=function(h,f){return d.fromPublic(this,h,f)},u.prototype.genKeyPair=function(h){h||(h={});for(var f=new o({hash:this.hash,pers:h.pers,persEnc:h.persEnc||"utf8",entropy:h.entropy||a(this.hash.hmacStrength),entropyEnc:h.entropy&&h.entropyEnc||"utf8",nonce:this.n.toArray()}),p=this.n.byteLength(),m=this.n.sub(new n(2));;){var g=new n(f.generate(p));if(!(g.cmp(m)>0))return g.iaddn(1),this.keyFromPrivate(g)}},u.prototype._truncateToN=function(h,f){var p=8*h.byteLength()-this.n.bitLength();return p>0&&(h=h.ushrn(p)),!f&&h.cmp(this.n)>=0?h.sub(this.n):h},u.prototype.sign=function(h,f,p,m){typeof p=="object"&&(m=p,p=null),m||(m={}),f=this.keyFromPrivate(f,p),h=this._truncateToN(new n(h,16));for(var g=this.n.byteLength(),b=f.getPrivate().toArray("be",g),x=h.toArray("be",g),E=new o({hash:this.hash,entropy:b,nonce:x,pers:m.pers,persEnc:m.persEnc||"utf8"}),D=this.n.sub(new n(1)),L=0;;L++){var k=m.k?m.k(L):new n(E.generate(this.n.byteLength()));if(!((k=this._truncateToN(k,!0)).cmpn(1)<=0||k.cmp(D)>=0)){var R=this.g.mul(k);if(!R.isInfinity()){var N=R.getX(),z=N.umod(this.n);if(z.cmpn(0)!==0){var V=k.invm(this.n).mul(z.mul(f.getPrivate()).iadd(h));if((V=V.umod(this.n)).cmpn(0)!==0){var S=(R.getY().isOdd()?1:0)|(N.cmp(z)!==0?2:0);return m.canonical&&V.cmp(this.nh)>0&&(V=this.n.sub(V),S^=1),new c({r:z,s:V,recoveryParam:S})}}}}}},u.prototype.verify=function(h,f,p,m){h=this._truncateToN(new n(h,16)),p=this.keyFromPublic(p,m);var g=(f=new c(f,"hex")).r,b=f.s;if(g.cmpn(1)<0||g.cmp(this.n)>=0||b.cmpn(1)<0||b.cmp(this.n)>=0)return!1;var x,E=b.invm(this.n),D=E.mul(h).umod(this.n),L=E.mul(g).umod(this.n);return this.curve._maxwellTrick?!(x=this.g.jmulAdd(D,p.getPublic(),L)).isInfinity()&&x.eqXToP(g):!(x=this.g.mulAdd(D,p.getPublic(),L)).isInfinity()&&x.getX().umod(this.n).cmp(g)===0},u.prototype.recoverPubKey=function(h,f,p,m){l((3&p)===p,"The recovery param is more than two bits"),f=new c(f,m);var g=this.n,b=new n(h),x=f.r,E=f.s,D=1&p,L=p>>1;if(x.cmp(this.curve.p.umod(this.curve.n))>=0&&L)throw new Error("Unable to find sencond key candinate");x=L?this.curve.pointFromX(x.add(this.curve.n),D):this.curve.pointFromX(x,D);var k=f.r.invm(g),R=g.sub(b).mul(k).umod(g),N=E.mul(k).umod(g);return this.g.mulAdd(R,x,N)},u.prototype.getKeyRecoveryParam=function(h,f,p,m){if((f=new c(f,m)).recoveryParam!==null)return f.recoveryParam;for(var g=0;g<4;g++){var b;try{b=this.recoverPubKey(h,f,g)}catch{continue}if(b.eq(p))return g}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(i,e,t){"use strict";var n=i("bn.js"),o=i("../utils").assert;function r(s,a){this.ec=s,this.priv=null,this.pub=null,a.priv&&this._importPrivate(a.priv,a.privEnc),a.pub&&this._importPublic(a.pub,a.pubEnc)}e.exports=r,r.fromPublic=function(s,a,l){return a instanceof r?a:new r(s,{pub:a,pubEnc:l})},r.fromPrivate=function(s,a,l){return a instanceof r?a:new r(s,{priv:a,privEnc:l})},r.prototype.validate=function(){var s=this.getPublic();return s.isInfinity()?{result:!1,reason:"Invalid public key"}:s.validate()?s.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},r.prototype.getPublic=function(s,a){return typeof s=="string"&&(a=s,s=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),a?this.pub.encode(a,s):this.pub},r.prototype.getPrivate=function(s){return s==="hex"?this.priv.toString(16,2):this.priv},r.prototype._importPrivate=function(s,a){this.priv=new n(s,a||16),this.priv=this.priv.umod(this.ec.curve.n)},r.prototype._importPublic=function(s,a){if(s.x||s.y)return this.ec.curve.type==="mont"?o(s.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||o(s.x&&s.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(s.x,s.y));this.pub=this.ec.curve.decodePoint(s,a)},r.prototype.derive=function(s){return s.validate()||o(s.validate(),"public point not validated"),s.mul(this.priv).getX()},r.prototype.sign=function(s,a,l){return this.ec.sign(s,this,a,l)},r.prototype.verify=function(s,a){return this.ec.verify(s,a,this)},r.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(i,e,t){"use strict";var n=i("bn.js"),o=i("../utils"),r=o.assert;function s(u,h){if(u instanceof s)return u;this._importDER(u,h)||(r(u.r&&u.s,"Signature without r or s"),this.r=new n(u.r,16),this.s=new n(u.s,16),u.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=u.recoveryParam)}function a(){this.place=0}function l(u,h){var f=u[h.place++];if(!(128&f))return f;var p=15&f;if(p===0||p>4)return!1;for(var m=0,g=0,b=h.place;g<p;g++,b++)m<<=8,m|=u[b],m>>>=0;return!(m<=127)&&(h.place=b,m)}function d(u){for(var h=0,f=u.length-1;!u[h]&&!(128&u[h+1])&&h<f;)h++;return h===0?u:u.slice(h)}function c(u,h){if(h<128)u.push(h);else{var f=1+(Math.log(h)/Math.LN2>>>3);for(u.push(128|f);--f;)u.push(h>>>(f<<3)&255);u.push(h)}}e.exports=s,s.prototype._importDER=function(u,h){u=o.toArray(u,h);var f=new a;if(u[f.place++]!==48)return!1;var p=l(u,f);if(p===!1||p+f.place!==u.length||u[f.place++]!==2)return!1;var m=l(u,f);if(m===!1)return!1;var g=u.slice(f.place,m+f.place);if(f.place+=m,u[f.place++]!==2)return!1;var b=l(u,f);if(b===!1||u.length!==b+f.place)return!1;var x=u.slice(f.place,b+f.place);if(g[0]===0){if(!(128&g[1]))return!1;g=g.slice(1)}if(x[0]===0){if(!(128&x[1]))return!1;x=x.slice(1)}return this.r=new n(g),this.s=new n(x),this.recoveryParam=null,!0},s.prototype.toDER=function(u){var h=this.r.toArray(),f=this.s.toArray();for(128&h[0]&&(h=[0].concat(h)),128&f[0]&&(f=[0].concat(f)),h=d(h),f=d(f);!(f[0]||128&f[1]);)f=f.slice(1);var p=[2];c(p,h.length),(p=p.concat(h)).push(2),c(p,f.length);var m=p.concat(f),g=[48];return c(g,m.length),g=g.concat(m),o.encode(g,u)}},{"../utils":419,"bn.js":420}],415:[function(i,e,t){"use strict";var n=i("hash.js"),o=i("../curves"),r=i("../utils"),s=r.assert,a=r.parseBytes,l=i("./key"),d=i("./signature");function c(u){if(s(u==="ed25519","only tested with ed25519 so far"),!(this instanceof c))return new c(u);u=o[u].curve,this.curve=u,this.g=u.g,this.g.precompute(u.n.bitLength()+1),this.pointClass=u.point().constructor,this.encodingLength=Math.ceil(u.n.bitLength()/8),this.hash=n.sha512}e.exports=c,c.prototype.sign=function(u,h){u=a(u);var f=this.keyFromSecret(h),p=this.hashInt(f.messagePrefix(),u),m=this.g.mul(p),g=this.encodePoint(m),b=this.hashInt(g,f.pubBytes(),u).mul(f.priv()),x=p.add(b).umod(this.curve.n);return this.makeSignature({R:m,S:x,Rencoded:g})},c.prototype.verify=function(u,h,f){u=a(u),h=this.makeSignature(h);var p=this.keyFromPublic(f),m=this.hashInt(h.Rencoded(),p.pubBytes(),u),g=this.g.mul(h.S());return h.R().add(p.pub().mul(m)).eq(g)},c.prototype.hashInt=function(){for(var u=this.hash(),h=0;h<arguments.length;h++)u.update(arguments[h]);return r.intFromLE(u.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(u){return l.fromPublic(this,u)},c.prototype.keyFromSecret=function(u){return l.fromSecret(this,u)},c.prototype.makeSignature=function(u){return u instanceof d?u:new d(this,u)},c.prototype.encodePoint=function(u){var h=u.getY().toArray("le",this.encodingLength);return h[this.encodingLength-1]|=u.getX().isOdd()?128:0,h},c.prototype.decodePoint=function(u){var h=(u=r.parseBytes(u)).length-1,f=u.slice(0,h).concat(-129&u[h]),p=(128&u[h])!=0,m=r.intFromLE(f);return this.curve.pointFromY(m,p)},c.prototype.encodeInt=function(u){return u.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(u){return r.intFromLE(u)},c.prototype.isPoint=function(u){return u instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(i,e,t){"use strict";var n=i("../utils"),o=n.assert,r=n.parseBytes,s=n.cachedProperty;function a(l,d){this.eddsa=l,this._secret=r(d.secret),l.isPoint(d.pub)?this._pub=d.pub:this._pubBytes=r(d.pub)}a.fromPublic=function(l,d){return d instanceof a?d:new a(l,{pub:d})},a.fromSecret=function(l,d){return d instanceof a?d:new a(l,{secret:d})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(a,"privBytes",function(){var l=this.eddsa,d=this.hash(),c=l.encodingLength-1,u=d.slice(0,l.encodingLength);return u[0]&=248,u[c]&=127,u[c]|=64,u}),s(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(l){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(l,this)},a.prototype.verify=function(l,d){return this.eddsa.verify(l,d,this)},a.prototype.getSecret=function(l){return o(this._secret,"KeyPair is public only"),n.encode(this.secret(),l)},a.prototype.getPublic=function(l){return n.encode(this.pubBytes(),l)},e.exports=a},{"../utils":419}],417:[function(i,e,t){"use strict";var n=i("bn.js"),o=i("../utils"),r=o.assert,s=o.cachedProperty,a=o.parseBytes;function l(d,c){this.eddsa=d,typeof c!="object"&&(c=a(c)),Array.isArray(c)&&(c={R:c.slice(0,d.encodingLength),S:c.slice(d.encodingLength)}),r(c.R&&c.S,"Signature without R or S"),d.isPoint(c.R)&&(this._R=c.R),c.S instanceof n&&(this._S=c.S),this._Rencoded=Array.isArray(c.R)?c.R:c.Rencoded,this._Sencoded=Array.isArray(c.S)?c.S:c.Sencoded}s(l,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(l,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(l,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(l,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),l.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},l.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},e.exports=l},{"../utils":419,"bn.js":420}],418:[function(i,e,t){"use strict";e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(i,e,t){"use strict";var n=t,o=i("bn.js"),r=i("minimalistic-assert"),s=i("minimalistic-crypto-utils");n.assert=r,n.toArray=s.toArray,n.zero2=s.zero2,n.toHex=s.toHex,n.encode=s.encode,n.getNAF=function(a,l,d){var c=new Array(Math.max(a.bitLength(),d)+1);c.fill(0);for(var u=1<<l+1,h=a.clone(),f=0;f<c.length;f++){var p,m=h.andln(u-1);h.isOdd()?(p=m>(u>>1)-1?(u>>1)-m:m,h.isubn(p)):p=0,c[f]=p,h.iushrn(1)}return c},n.getJSF=function(a,l){var d=[[],[]];a=a.clone(),l=l.clone();for(var c,u=0,h=0;a.cmpn(-u)>0||l.cmpn(-h)>0;){var f,p,m=a.andln(3)+u&3,g=l.andln(3)+h&3;m===3&&(m=-1),g===3&&(g=-1),f=1&m?(c=a.andln(7)+u&7)!==3&&c!==5||g!==2?m:-m:0,d[0].push(f),p=1&g?(c=l.andln(7)+h&7)!==3&&c!==5||m!==2?g:-g:0,d[1].push(p),2*u===f+1&&(u=1-u),2*h===p+1&&(h=1-h),a.iushrn(1),l.iushrn(1)}return d},n.cachedProperty=function(a,l,d){var c="_"+l;a.prototype[l]=function(){return this[c]!==void 0?this[c]:this[c]=d.call(this)}},n.parseBytes=function(a){return typeof a=="string"?n.toArray(a,"hex"):a},n.intFromLE=function(a){return new o(a,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(i,e,t){arguments[4][184][0].apply(t,arguments)},{buffer:188,dup:184}],421:[function(i,e,t){e.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(i,e,t){"use strict";var n=Object.create||function(k){var R=function(){};return R.prototype=k,new R},o=Object.keys||function(k){var R=[];for(var N in k)Object.prototype.hasOwnProperty.call(k,N)&&R.push(N);return N},r=Function.prototype.bind||function(k){var R=this;return function(){return R.apply(k,arguments)}};function s(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=n(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0;var a,l=10;try{var d={};Object.defineProperty&&Object.defineProperty(d,"x",{value:0}),a=d.x===0}catch{a=!1}function c(k){return k._maxListeners===void 0?s.defaultMaxListeners:k._maxListeners}function u(k,R,N){if(R)k.call(N);else for(var z=k.length,V=L(k,z),S=0;S<z;++S)V[S].call(N)}function h(k,R,N,z){if(R)k.call(N,z);else for(var V=k.length,S=L(k,V),T=0;T<V;++T)S[T].call(N,z)}function f(k,R,N,z,V){if(R)k.call(N,z,V);else for(var S=k.length,T=L(k,S),B=0;B<S;++B)T[B].call(N,z,V)}function p(k,R,N,z,V,S){if(R)k.call(N,z,V,S);else for(var T=k.length,B=L(k,T),_=0;_<T;++_)B[_].call(N,z,V,S)}function m(k,R,N,z){if(R)k.apply(N,z);else for(var V=k.length,S=L(k,V),T=0;T<V;++T)S[T].apply(N,z)}function g(k,R,N,z){var V,S,T;if(typeof N!="function")throw new TypeError('"listener" argument must be a function');if((S=k._events)?(S.newListener&&(k.emit("newListener",R,N.listener?N.listener:N),S=k._events),T=S[R]):(S=k._events=n(null),k._eventsCount=0),T){if(typeof T=="function"?T=S[R]=z?[N,T]:[T,N]:z?T.unshift(N):T.push(N),!T.warned&&(V=c(k))&&V>0&&T.length>V){T.warned=!0;var B=new Error("Possible EventEmitter memory leak detected. "+T.length+' "'+String(R)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');B.name="MaxListenersExceededWarning",B.emitter=k,B.type=R,B.count=T.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",B.name,B.message)}}else T=S[R]=N,++k._eventsCount;return k}function b(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var k=new Array(arguments.length),R=0;R<k.length;++R)k[R]=arguments[R];this.listener.apply(this.target,k)}}function x(k,R,N){var z={fired:!1,wrapFn:void 0,target:k,type:R,listener:N},V=r.call(b,z);return V.listener=N,z.wrapFn=V,V}function E(k,R,N){var z=k._events;if(!z)return[];var V=z[R];return V?typeof V=="function"?N?[V.listener||V]:[V]:N?function(S){for(var T=new Array(S.length),B=0;B<T.length;++B)T[B]=S[B].listener||S[B];return T}(V):L(V,V.length):[]}function D(k){var R=this._events;if(R){var N=R[k];if(typeof N=="function")return 1;if(N)return N.length}return 0}function L(k,R){for(var N=new Array(R),z=0;z<R;++z)N[z]=k[z];return N}a?Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(k){if(typeof k!="number"||k<0||k!=k)throw new TypeError('"defaultMaxListeners" must be a positive number');l=k}}):s.defaultMaxListeners=l,s.prototype.setMaxListeners=function(k){if(typeof k!="number"||k<0||isNaN(k))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=k,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(k){var R,N,z,V,S,T,B=k==="error";if(T=this._events)B=B&&T.error==null;else if(!B)return!1;if(B){if(arguments.length>1&&(R=arguments[1]),R instanceof Error)throw R;var _=new Error('Unhandled "error" event. ('+R+")");throw _.context=R,_}if(!(N=T[k]))return!1;var v=typeof N=="function";switch(z=arguments.length){case 1:u(N,v,this);break;case 2:h(N,v,this,arguments[1]);break;case 3:f(N,v,this,arguments[1],arguments[2]);break;case 4:p(N,v,this,arguments[1],arguments[2],arguments[3]);break;default:for(V=new Array(z-1),S=1;S<z;S++)V[S-1]=arguments[S];m(N,v,this,V)}return!0},s.prototype.addListener=function(k,R){return g(this,k,R,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(k,R){return g(this,k,R,!0)},s.prototype.once=function(k,R){if(typeof R!="function")throw new TypeError('"listener" argument must be a function');return this.on(k,x(this,k,R)),this},s.prototype.prependOnceListener=function(k,R){if(typeof R!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(k,x(this,k,R)),this},s.prototype.removeListener=function(k,R){var N,z,V,S,T;if(typeof R!="function")throw new TypeError('"listener" argument must be a function');if(!(z=this._events))return this;if(!(N=z[k]))return this;if(N===R||N.listener===R)--this._eventsCount==0?this._events=n(null):(delete z[k],z.removeListener&&this.emit("removeListener",k,N.listener||R));else if(typeof N!="function"){for(V=-1,S=N.length-1;S>=0;S--)if(N[S]===R||N[S].listener===R){T=N[S].listener,V=S;break}if(V<0)return this;V===0?N.shift():function(B,_){for(var v=_,C=v+1,y=B.length;C<y;v+=1,C+=1)B[v]=B[C];B.pop()}(N,V),N.length===1&&(z[k]=N[0]),z.removeListener&&this.emit("removeListener",k,T||R)}return this},s.prototype.removeAllListeners=function(k){var R,N,z;if(!(N=this._events))return this;if(!N.removeListener)return arguments.length===0?(this._events=n(null),this._eventsCount=0):N[k]&&(--this._eventsCount==0?this._events=n(null):delete N[k]),this;if(arguments.length===0){var V,S=o(N);for(z=0;z<S.length;++z)(V=S[z])!=="removeListener"&&this.removeAllListeners(V);return this.removeAllListeners("removeListener"),this._events=n(null),this._eventsCount=0,this}if(typeof(R=N[k])=="function")this.removeListener(k,R);else if(R)for(z=R.length-1;z>=0;z--)this.removeListener(k,R[z]);return this},s.prototype.listeners=function(k){return E(this,k,!0)},s.prototype.rawListeners=function(k){return E(this,k,!1)},s.listenerCount=function(k,R){return typeof k.listenerCount=="function"?k.listenerCount(R):D.call(k,R)},s.prototype.listenerCount=D,s.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(i,e,t){"use strict";var n=i("safe-buffer").Buffer,o=i("md5.js");e.exports=function(r,s,a,l){if(n.isBuffer(r)||(r=n.from(r,"binary")),s&&(n.isBuffer(s)||(s=n.from(s,"binary")),s.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var d=a/8,c=n.alloc(d),u=n.alloc(l||0),h=n.alloc(0);d>0||l>0;){var f=new o;f.update(h),f.update(r),s&&f.update(s),h=f.digest();var p=0;if(d>0){var m=c.length-d;p=Math.min(d,h.length),h.copy(c,m,0,p),d-=p}if(p<h.length&&l>0){var g=u.length-l,b=Math.min(l,h.length-p);h.copy(u,g,p,p+b),l-=b}}return h.fill(0),{key:c,iv:u}}},{"md5.js":450,"safe-buffer":494}],424:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CsvParserStream=t.ParserOptions=t.parseFile=t.parseStream=t.parseString=t.parse=t.FormatterOptions=t.CsvFormatterStream=t.writeToPath=t.writeToString=t.writeToBuffer=t.writeToStream=t.write=t.format=void 0;var n=i("@fast-csv/format");Object.defineProperty(t,"format",{enumerable:!0,get:function(){return n.format}}),Object.defineProperty(t,"write",{enumerable:!0,get:function(){return n.write}}),Object.defineProperty(t,"writeToStream",{enumerable:!0,get:function(){return n.writeToStream}}),Object.defineProperty(t,"writeToBuffer",{enumerable:!0,get:function(){return n.writeToBuffer}}),Object.defineProperty(t,"writeToString",{enumerable:!0,get:function(){return n.writeToString}}),Object.defineProperty(t,"writeToPath",{enumerable:!0,get:function(){return n.writeToPath}}),Object.defineProperty(t,"CsvFormatterStream",{enumerable:!0,get:function(){return n.CsvFormatterStream}}),Object.defineProperty(t,"FormatterOptions",{enumerable:!0,get:function(){return n.FormatterOptions}});var o=i("@fast-csv/parse");Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return o.parse}}),Object.defineProperty(t,"parseString",{enumerable:!0,get:function(){return o.parseString}}),Object.defineProperty(t,"parseStream",{enumerable:!0,get:function(){return o.parseStream}}),Object.defineProperty(t,"parseFile",{enumerable:!0,get:function(){return o.parseFile}}),Object.defineProperty(t,"ParserOptions",{enumerable:!0,get:function(){return o.ParserOptions}}),Object.defineProperty(t,"CsvParserStream",{enumerable:!0,get:function(){return o.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(i,e,t){"use strict";var n=i("safe-buffer").Buffer,o=i("readable-stream").Transform;function r(s){o.call(this),this._block=n.allocUnsafe(s),this._blockSize=s,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}i("inherits")(r,o),r.prototype._transform=function(s,a,l){var d=null;try{this.update(s,a)}catch(c){d=c}l(d)},r.prototype._flush=function(s){var a=null;try{this.push(this.digest())}catch(l){a=l}s(a)},r.prototype.update=function(s,a){if(function(f,p){if(!n.isBuffer(f)&&typeof f!="string")throw new TypeError(p+" must be a string or a buffer")}(s,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(s)||(s=n.from(s,a));for(var l=this._block,d=0;this._blockOffset+s.length-d>=this._blockSize;){for(var c=this._blockOffset;c<this._blockSize;)l[c++]=s[d++];this._update(),this._blockOffset=0}for(;d<s.length;)l[this._blockOffset++]=s[d++];for(var u=0,h=8*s.length;h>0;++u)this._length[u]+=h,(h=this._length[u]/4294967296|0)>0&&(this._length[u]-=4294967296*h);return this},r.prototype._update=function(){throw new Error("_update is not implemented")},r.prototype.digest=function(s){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var a=this._digest();s!==void 0&&(a=a.toString(s)),this._block.fill(0),this._blockOffset=0;for(var l=0;l<4;++l)this._length[l]=0;return a},r.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=r},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(i,e,t){"use strict";var n=t;n.utils=i("./hash/utils"),n.common=i("./hash/common"),n.sha=i("./hash/sha"),n.ripemd=i("./hash/ripemd"),n.hmac=i("./hash/hmac"),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(i,e,t){"use strict";var n=i("./utils"),o=i("minimalistic-assert");function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=r,r.prototype.update=function(s,a){if(s=n.toArray(s,a),this.pending?this.pending=this.pending.concat(s):this.pending=s,this.pendingTotal+=s.length,this.pending.length>=this._delta8){var l=(s=this.pending).length%this._delta8;this.pending=s.slice(s.length-l,s.length),this.pending.length===0&&(this.pending=null),s=n.join32(s,0,s.length-l,this.endian);for(var d=0;d<s.length;d+=this._delta32)this._update(s,d,d+this._delta32)}return this},r.prototype.digest=function(s){return this.update(this._pad()),o(this.pending===null),this._digest(s)},r.prototype._pad=function(){var s=this.pendingTotal,a=this._delta8,l=a-(s+this.padLength)%a,d=new Array(l+this.padLength);d[0]=128;for(var c=1;c<l;c++)d[c]=0;if(s<<=3,this.endian==="big"){for(var u=8;u<this.padLength;u++)d[c++]=0;d[c++]=0,d[c++]=0,d[c++]=0,d[c++]=0,d[c++]=s>>>24&255,d[c++]=s>>>16&255,d[c++]=s>>>8&255,d[c++]=255&s}else for(d[c++]=255&s,d[c++]=s>>>8&255,d[c++]=s>>>16&255,d[c++]=s>>>24&255,d[c++]=0,d[c++]=0,d[c++]=0,d[c++]=0,u=8;u<this.padLength;u++)d[c++]=0;return d}},{"./utils":437,"minimalistic-assert":453}],428:[function(i,e,t){"use strict";var n=i("./utils"),o=i("minimalistic-assert");function r(s,a,l){if(!(this instanceof r))return new r(s,a,l);this.Hash=s,this.blockSize=s.blockSize/8,this.outSize=s.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(a,l))}e.exports=r,r.prototype._init=function(s){s.length>this.blockSize&&(s=new this.Hash().update(s).digest()),o(s.length<=this.blockSize);for(var a=s.length;a<this.blockSize;a++)s.push(0);for(a=0;a<s.length;a++)s[a]^=54;for(this.inner=new this.Hash().update(s),a=0;a<s.length;a++)s[a]^=106;this.outer=new this.Hash().update(s)},r.prototype.update=function(s,a){return this.inner.update(s,a),this},r.prototype.digest=function(s){return this.outer.update(this.inner.digest()),this.outer.digest(s)}},{"./utils":437,"minimalistic-assert":453}],429:[function(i,e,t){"use strict";var n=i("./utils"),o=i("./common"),r=n.rotl32,s=n.sum32,a=n.sum32_3,l=n.sum32_4,d=o.BlockHash;function c(){if(!(this instanceof c))return new c;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function u(x,E,D,L){return x<=15?E^D^L:x<=31?E&D|~E&L:x<=47?(E|~D)^L:x<=63?E&L|D&~L:E^(D|~L)}function h(x){return x<=15?0:x<=31?1518500249:x<=47?1859775393:x<=63?2400959708:2840853838}function f(x){return x<=15?1352829926:x<=31?1548603684:x<=47?1836072691:x<=63?2053994217:0}n.inherits(c,d),t.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(x,E){for(var D=this.h[0],L=this.h[1],k=this.h[2],R=this.h[3],N=this.h[4],z=D,V=L,S=k,T=R,B=N,_=0;_<80;_++){var v=s(r(l(D,u(_,L,k,R),x[p[_]+E],h(_)),g[_]),N);D=N,N=R,R=r(k,10),k=L,L=v,v=s(r(l(z,u(79-_,V,S,T),x[m[_]+E],f(_)),b[_]),B),z=B,B=T,T=r(S,10),S=V,V=v}v=a(this.h[1],k,T),this.h[1]=a(this.h[2],R,B),this.h[2]=a(this.h[3],N,z),this.h[3]=a(this.h[4],D,V),this.h[4]=a(this.h[0],L,S),this.h[0]=v},c.prototype._digest=function(x){return x==="hex"?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(i,e,t){"use strict";t.sha1=i("./sha/1"),t.sha224=i("./sha/224"),t.sha256=i("./sha/256"),t.sha384=i("./sha/384"),t.sha512=i("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(i,e,t){"use strict";var n=i("../utils"),o=i("../common"),r=i("./common"),s=n.rotl32,a=n.sum32,l=n.sum32_5,d=r.ft_1,c=o.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(h,c),e.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(f,p){for(var m=this.W,g=0;g<16;g++)m[g]=f[p+g];for(;g<m.length;g++)m[g]=s(m[g-3]^m[g-8]^m[g-14]^m[g-16],1);var b=this.h[0],x=this.h[1],E=this.h[2],D=this.h[3],L=this.h[4];for(g=0;g<m.length;g++){var k=~~(g/20),R=l(s(b,5),d(k,x,E,D),L,m[g],u[k]);L=D,D=E,E=s(x,30),x=b,b=R}this.h[0]=a(this.h[0],b),this.h[1]=a(this.h[1],x),this.h[2]=a(this.h[2],E),this.h[3]=a(this.h[3],D),this.h[4]=a(this.h[4],L)},h.prototype._digest=function(f){return f==="hex"?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(i,e,t){"use strict";var n=i("../utils"),o=i("./256");function r(){if(!(this instanceof r))return new r;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(r,o),e.exports=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(s){return s==="hex"?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(i,e,t){"use strict";var n=i("../utils"),o=i("../common"),r=i("./common"),s=i("minimalistic-assert"),a=n.sum32,l=n.sum32_4,d=n.sum32_5,c=r.ch32,u=r.maj32,h=r.s0_256,f=r.s1_256,p=r.g0_256,m=r.g1_256,g=o.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function x(){if(!(this instanceof x))return new x;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}n.inherits(x,g),e.exports=x,x.blockSize=512,x.outSize=256,x.hmacStrength=192,x.padLength=64,x.prototype._update=function(E,D){for(var L=this.W,k=0;k<16;k++)L[k]=E[D+k];for(;k<L.length;k++)L[k]=l(m(L[k-2]),L[k-7],p(L[k-15]),L[k-16]);var R=this.h[0],N=this.h[1],z=this.h[2],V=this.h[3],S=this.h[4],T=this.h[5],B=this.h[6],_=this.h[7];for(s(this.k.length===L.length),k=0;k<L.length;k++){var v=d(_,f(S),c(S,T,B),this.k[k],L[k]),C=a(h(R),u(R,N,z));_=B,B=T,T=S,S=a(V,v),V=z,z=N,N=R,R=a(v,C)}this.h[0]=a(this.h[0],R),this.h[1]=a(this.h[1],N),this.h[2]=a(this.h[2],z),this.h[3]=a(this.h[3],V),this.h[4]=a(this.h[4],S),this.h[5]=a(this.h[5],T),this.h[6]=a(this.h[6],B),this.h[7]=a(this.h[7],_)},x.prototype._digest=function(E){return E==="hex"?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(i,e,t){"use strict";var n=i("../utils"),o=i("./512");function r(){if(!(this instanceof r))return new r;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(r,o),e.exports=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(s){return s==="hex"?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(i,e,t){"use strict";var n=i("../utils"),o=i("../common"),r=i("minimalistic-assert"),s=n.rotr64_hi,a=n.rotr64_lo,l=n.shr64_hi,d=n.shr64_lo,c=n.sum64,u=n.sum64_hi,h=n.sum64_lo,f=n.sum64_4_hi,p=n.sum64_4_lo,m=n.sum64_5_hi,g=n.sum64_5_lo,b=o.BlockHash,x=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function E(){if(!(this instanceof E))return new E;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=x,this.W=new Array(160)}function D(C,y,w,O,P){var W=C&w^~C&P;return W<0&&(W+=4294967296),W}function L(C,y,w,O,P,W){var G=y&O^~y&W;return G<0&&(G+=4294967296),G}function k(C,y,w,O,P){var W=C&w^C&P^w&P;return W<0&&(W+=4294967296),W}function R(C,y,w,O,P,W){var G=y&O^y&W^O&W;return G<0&&(G+=4294967296),G}function N(C,y){var w=s(C,y,28)^s(y,C,2)^s(y,C,7);return w<0&&(w+=4294967296),w}function z(C,y){var w=a(C,y,28)^a(y,C,2)^a(y,C,7);return w<0&&(w+=4294967296),w}function V(C,y){var w=s(C,y,14)^s(C,y,18)^s(y,C,9);return w<0&&(w+=4294967296),w}function S(C,y){var w=a(C,y,14)^a(C,y,18)^a(y,C,9);return w<0&&(w+=4294967296),w}function T(C,y){var w=s(C,y,1)^s(C,y,8)^l(C,y,7);return w<0&&(w+=4294967296),w}function B(C,y){var w=a(C,y,1)^a(C,y,8)^d(C,y,7);return w<0&&(w+=4294967296),w}function _(C,y){var w=s(C,y,19)^s(y,C,29)^l(C,y,6);return w<0&&(w+=4294967296),w}function v(C,y){var w=a(C,y,19)^a(y,C,29)^d(C,y,6);return w<0&&(w+=4294967296),w}n.inherits(E,b),e.exports=E,E.blockSize=1024,E.outSize=512,E.hmacStrength=192,E.padLength=128,E.prototype._prepareBlock=function(C,y){for(var w=this.W,O=0;O<32;O++)w[O]=C[y+O];for(;O<w.length;O+=2){var P=_(w[O-4],w[O-3]),W=v(w[O-4],w[O-3]),G=w[O-14],K=w[O-13],F=T(w[O-30],w[O-29]),Y=B(w[O-30],w[O-29]),M=w[O-32],A=w[O-31];w[O]=f(P,W,G,K,F,Y,M,A),w[O+1]=p(P,W,G,K,F,Y,M,A)}},E.prototype._update=function(C,y){this._prepareBlock(C,y);var w=this.W,O=this.h[0],P=this.h[1],W=this.h[2],G=this.h[3],K=this.h[4],F=this.h[5],Y=this.h[6],M=this.h[7],A=this.h[8],j=this.h[9],J=this.h[10],ae=this.h[11],ie=this.h[12],re=this.h[13],Ce=this.h[14],ve=this.h[15];r(this.k.length===w.length);for(var te=0;te<w.length;te+=2){var ge=Ce,he=ve,xe=V(A,j),Oe=S(A,j),we=D(A,j,J,ae,ie),Te=L(A,j,J,ae,ie,re),Xe=this.k[te],Je=this.k[te+1],nt=w[te],$t=w[te+1],pt=m(ge,he,xe,Oe,we,Te,Xe,Je,nt,$t),vt=g(ge,he,xe,Oe,we,Te,Xe,Je,nt,$t);ge=N(O,P),he=z(O,P),xe=k(O,P,W,G,K),Oe=R(O,P,W,G,K,F);var bi=u(ge,he,xe,Oe),Ht=h(ge,he,xe,Oe);Ce=ie,ve=re,ie=J,re=ae,J=A,ae=j,A=u(Y,M,pt,vt),j=h(M,M,pt,vt),Y=K,M=F,K=W,F=G,W=O,G=P,O=u(pt,vt,bi,Ht),P=h(pt,vt,bi,Ht)}c(this.h,0,O,P),c(this.h,2,W,G),c(this.h,4,K,F),c(this.h,6,Y,M),c(this.h,8,A,j),c(this.h,10,J,ae),c(this.h,12,ie,re),c(this.h,14,Ce,ve)},E.prototype._digest=function(C){return C==="hex"?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(i,e,t){"use strict";var n=i("../utils").rotr32;function o(a,l,d){return a&l^~a&d}function r(a,l,d){return a&l^a&d^l&d}function s(a,l,d){return a^l^d}t.ft_1=function(a,l,d,c){return a===0?o(l,d,c):a===1||a===3?s(l,d,c):a===2?r(l,d,c):void 0},t.ch32=o,t.maj32=r,t.p32=s,t.s0_256=function(a){return n(a,2)^n(a,13)^n(a,22)},t.s1_256=function(a){return n(a,6)^n(a,11)^n(a,25)},t.g0_256=function(a){return n(a,7)^n(a,18)^a>>>3},t.g1_256=function(a){return n(a,17)^n(a,19)^a>>>10}},{"../utils":437}],437:[function(i,e,t){"use strict";var n=i("minimalistic-assert"),o=i("inherits");function r(d,c){return(64512&d.charCodeAt(c))==55296&&!(c<0||c+1>=d.length)&&(64512&d.charCodeAt(c+1))==56320}function s(d){return(d>>>24|d>>>8&65280|d<<8&16711680|(255&d)<<24)>>>0}function a(d){return d.length===1?"0"+d:d}function l(d){return d.length===7?"0"+d:d.length===6?"00"+d:d.length===5?"000"+d:d.length===4?"0000"+d:d.length===3?"00000"+d:d.length===2?"000000"+d:d.length===1?"0000000"+d:d}t.inherits=o,t.toArray=function(d,c){if(Array.isArray(d))return d.slice();if(!d)return[];var u=[];if(typeof d=="string")if(c){if(c==="hex")for((d=d.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(d="0"+d),f=0;f<d.length;f+=2)u.push(parseInt(d[f]+d[f+1],16))}else for(var h=0,f=0;f<d.length;f++){var p=d.charCodeAt(f);p<128?u[h++]=p:p<2048?(u[h++]=p>>6|192,u[h++]=63&p|128):r(d,f)?(p=65536+((1023&p)<<10)+(1023&d.charCodeAt(++f)),u[h++]=p>>18|240,u[h++]=p>>12&63|128,u[h++]=p>>6&63|128,u[h++]=63&p|128):(u[h++]=p>>12|224,u[h++]=p>>6&63|128,u[h++]=63&p|128)}else for(f=0;f<d.length;f++)u[f]=0|d[f];return u},t.toHex=function(d){for(var c="",u=0;u<d.length;u++)c+=a(d[u].toString(16));return c},t.htonl=s,t.toHex32=function(d,c){for(var u="",h=0;h<d.length;h++){var f=d[h];c==="little"&&(f=s(f)),u+=l(f.toString(16))}return u},t.zero2=a,t.zero8=l,t.join32=function(d,c,u,h){var f=u-c;n(f%4==0);for(var p=new Array(f/4),m=0,g=c;m<p.length;m++,g+=4){var b;b=h==="big"?d[g]<<24|d[g+1]<<16|d[g+2]<<8|d[g+3]:d[g+3]<<24|d[g+2]<<16|d[g+1]<<8|d[g],p[m]=b>>>0}return p},t.split32=function(d,c){for(var u=new Array(4*d.length),h=0,f=0;h<d.length;h++,f+=4){var p=d[h];c==="big"?(u[f]=p>>>24,u[f+1]=p>>>16&255,u[f+2]=p>>>8&255,u[f+3]=255&p):(u[f+3]=p>>>24,u[f+2]=p>>>16&255,u[f+1]=p>>>8&255,u[f]=255&p)}return u},t.rotr32=function(d,c){return d>>>c|d<<32-c},t.rotl32=function(d,c){return d<<c|d>>>32-c},t.sum32=function(d,c){return d+c>>>0},t.sum32_3=function(d,c,u){return d+c+u>>>0},t.sum32_4=function(d,c,u,h){return d+c+u+h>>>0},t.sum32_5=function(d,c,u,h,f){return d+c+u+h+f>>>0},t.sum64=function(d,c,u,h){var f=d[c],p=h+d[c+1]>>>0,m=(p<h?1:0)+u+f;d[c]=m>>>0,d[c+1]=p},t.sum64_hi=function(d,c,u,h){return(c+h>>>0<c?1:0)+d+u>>>0},t.sum64_lo=function(d,c,u,h){return c+h>>>0},t.sum64_4_hi=function(d,c,u,h,f,p,m,g){var b=0,x=c;return b+=(x=x+h>>>0)<c?1:0,b+=(x=x+p>>>0)<p?1:0,d+u+f+m+(b+=(x=x+g>>>0)<g?1:0)>>>0},t.sum64_4_lo=function(d,c,u,h,f,p,m,g){return c+h+p+g>>>0},t.sum64_5_hi=function(d,c,u,h,f,p,m,g,b,x){var E=0,D=c;return E+=(D=D+h>>>0)<c?1:0,E+=(D=D+p>>>0)<p?1:0,E+=(D=D+g>>>0)<g?1:0,d+u+f+m+b+(E+=(D=D+x>>>0)<x?1:0)>>>0},t.sum64_5_lo=function(d,c,u,h,f,p,m,g,b,x){return c+h+p+g+x>>>0},t.rotr64_hi=function(d,c,u){return(c<<32-u|d>>>u)>>>0},t.rotr64_lo=function(d,c,u){return(d<<32-u|c>>>u)>>>0},t.shr64_hi=function(d,c,u){return d>>>u},t.shr64_lo=function(d,c,u){return(d<<32-u|c>>>u)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(i,e,t){"use strict";var n=i("hash.js"),o=i("minimalistic-crypto-utils"),r=i("minimalistic-assert");function s(a){if(!(this instanceof s))return new s(a);this.hash=a.hash,this.predResist=!!a.predResist,this.outLen=this.hash.outSize,this.minEntropy=a.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var l=o.toArray(a.entropy,a.entropyEnc||"hex"),d=o.toArray(a.nonce,a.nonceEnc||"hex"),c=o.toArray(a.pers,a.persEnc||"hex");r(l.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(l,d,c)}e.exports=s,s.prototype._init=function(a,l,d){var c=a.concat(l).concat(d);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var u=0;u<this.V.length;u++)this.K[u]=0,this.V[u]=1;this._update(c),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},s.prototype._update=function(a){var l=this._hmac().update(this.V).update([0]);a&&(l=l.update(a)),this.K=l.digest(),this.V=this._hmac().update(this.V).digest(),a&&(this.K=this._hmac().update(this.V).update([1]).update(a).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(a,l,d,c){typeof l!="string"&&(c=d,d=l,l=null),a=o.toArray(a,l),d=o.toArray(d,c),r(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(a.concat(d||[])),this._reseed=1},s.prototype.generate=function(a,l,d,c){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof l!="string"&&(c=d,d=l,l=null),d&&(d=o.toArray(d,c||"hex"),this._update(d));for(var u=[];u.length<a;)this.V=this._hmac().update(this.V).digest(),u=u.concat(this.V);var h=u.slice(0,a);return this._update(d),this._reseed++,o.encode(h,l)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(i,e,t){"use strict";t.read=function(n,o,r,s,a){var l,d,c=8*a-s-1,u=(1<<c)-1,h=u>>1,f=-7,p=r?a-1:0,m=r?-1:1,g=n[o+p];for(p+=m,l=g&(1<<-f)-1,g>>=-f,f+=c;f>0;l=256*l+n[o+p],p+=m,f-=8);for(d=l&(1<<-f)-1,l>>=-f,f+=s;f>0;d=256*d+n[o+p],p+=m,f-=8);if(l===0)l=1-h;else{if(l===u)return d?NaN:1/0*(g?-1:1);d+=Math.pow(2,s),l-=h}return(g?-1:1)*d*Math.pow(2,l-s)},t.write=function(n,o,r,s,a,l){var d,c,u,h=8*l-a-1,f=(1<<h)-1,p=f>>1,m=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=s?0:l-1,b=s?1:-1,x=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(c=isNaN(o)?1:0,d=f):(d=Math.floor(Math.log(o)/Math.LN2),o*(u=Math.pow(2,-d))<1&&(d--,u*=2),(o+=d+p>=1?m/u:m*Math.pow(2,1-p))*u>=2&&(d++,u/=2),d+p>=f?(c=0,d=f):d+p>=1?(c=(o*u-1)*Math.pow(2,a),d+=p):(c=o*Math.pow(2,p-1)*Math.pow(2,a),d=0));a>=8;n[r+g]=255&c,g+=b,c/=256,a-=8);for(d=d<<a|c,h+=a;h>0;n[r+g]=255&d,g+=b,d/=256,h-=8);n[r+g-b]|=128*x}},{}],440:[function(i,e,t){"use strict";typeof Object.create=="function"?e.exports=function(n,o){o&&(n.super_=o,n.prototype=Object.create(o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(n,o){if(o){n.super_=o;var r=function(){};r.prototype=o.prototype,n.prototype=new r,n.prototype.constructor=n}}},{}],441:[function(i,e,t){(function(n,o,r,s,a,l,d,c){(function(){"use strict";(function(u){typeof t=="object"&&e!==void 0?e.exports=u():(typeof window<"u"?window:o!==void 0?o:typeof self<"u"?self:this).JSZip=u()})(function(){return function u(h,f,p){function m(x,E){if(!f[x]){if(!h[x]){var D=typeof i=="function"&&i;if(!E&&D)return D(x,!0);if(g)return g(x,!0);var L=new Error("Cannot find module '"+x+"'");throw L.code="MODULE_NOT_FOUND",L}var k=f[x]={exports:{}};h[x][0].call(k.exports,function(R){return m(h[x][1][R]||R)},k,k.exports,u,h,f,p)}return f[x].exports}for(var g=typeof i=="function"&&i,b=0;b<p.length;b++)m(p[b]);return m}({1:[function(u,h,f){var p=u("./utils"),m=u("./support"),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";f.encode=function(b){for(var x,E,D,L,k,R,N,z=[],V=0,S=b.length,T=S,B=p.getTypeOf(b)!=="string";V<b.length;)T=S-V,D=B?(x=b[V++],E=V<S?b[V++]:0,V<S?b[V++]:0):(x=b.charCodeAt(V++),E=V<S?b.charCodeAt(V++):0,V<S?b.charCodeAt(V++):0),L=x>>2,k=(3&x)<<4|E>>4,R=1<T?(15&E)<<2|D>>6:64,N=2<T?63&D:64,z.push(g.charAt(L)+g.charAt(k)+g.charAt(R)+g.charAt(N));return z.join("")},f.decode=function(b){var x,E,D,L,k,R,N=0,z=0,V="data:";if(b.substr(0,V.length)===V)throw new Error("Invalid base64 input, it looks like a data url.");var S,T=3*(b=b.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(b.charAt(b.length-1)===g.charAt(64)&&T--,b.charAt(b.length-2)===g.charAt(64)&&T--,T%1!=0)throw new Error("Invalid base64 input, bad content length.");for(S=m.uint8array?new Uint8Array(0|T):new Array(0|T);N<b.length;)x=g.indexOf(b.charAt(N++))<<2|(L=g.indexOf(b.charAt(N++)))>>4,E=(15&L)<<4|(k=g.indexOf(b.charAt(N++)))>>2,D=(3&k)<<6|(R=g.indexOf(b.charAt(N++))),S[z++]=x,k!==64&&(S[z++]=E),R!==64&&(S[z++]=D);return S}},{"./support":30,"./utils":32}],2:[function(u,h,f){var p=u("./external"),m=u("./stream/DataWorker"),g=u("./stream/Crc32Probe"),b=u("./stream/DataLengthProbe");function x(E,D,L,k,R){this.compressedSize=E,this.uncompressedSize=D,this.crc32=L,this.compression=k,this.compressedContent=R}x.prototype={getContentWorker:function(){var E=new m(p.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new b("data_length")),D=this;return E.on("end",function(){if(this.streamInfo.data_length!==D.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),E},getCompressedWorker:function(){return new m(p.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},x.createWorkerFrom=function(E,D,L){return E.pipe(new g).pipe(new b("uncompressedSize")).pipe(D.compressWorker(L)).pipe(new b("compressedSize")).withStreamInfo("compression",D)},h.exports=x},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(u,h,f){var p=u("./stream/GenericWorker");f.STORE={magic:"\0\0",compressWorker:function(){return new p("STORE compression")},uncompressWorker:function(){return new p("STORE decompression")}},f.DEFLATE=u("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(u,h,f){var p=u("./utils"),m=function(){for(var g,b=[],x=0;x<256;x++){g=x;for(var E=0;E<8;E++)g=1&g?3988292384^g>>>1:g>>>1;b[x]=g}return b}();h.exports=function(g,b){return g!==void 0&&g.length?p.getTypeOf(g)!=="string"?function(x,E,D,L){var k=m,R=0+D;x^=-1;for(var N=0;N<R;N++)x=x>>>8^k[255&(x^E[N])];return-1^x}(0|b,g,g.length):function(x,E,D,L){var k=m,R=0+D;x^=-1;for(var N=0;N<R;N++)x=x>>>8^k[255&(x^E.charCodeAt(N))];return-1^x}(0|b,g,g.length):0}},{"./utils":32}],5:[function(u,h,f){f.base64=!1,f.binary=!1,f.dir=!1,f.createFolders=!0,f.date=null,f.compression=null,f.compressionOptions=null,f.comment=null,f.unixPermissions=null,f.dosPermissions=null},{}],6:[function(u,h,f){var p;p=typeof Promise<"u"?Promise:u("lie"),h.exports={Promise:p}},{lie:37}],7:[function(u,h,f){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",m=u("pako"),g=u("./utils"),b=u("./stream/GenericWorker"),x=p?"uint8array":"array";function E(D,L){b.call(this,"FlateWorker/"+D),this._pako=null,this._pakoAction=D,this._pakoOptions=L,this.meta={}}f.magic="\b\0",g.inherits(E,b),E.prototype.processChunk=function(D){this.meta=D.meta,this._pako===null&&this._createPako(),this._pako.push(g.transformTo(x,D.data),!1)},E.prototype.flush=function(){b.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},E.prototype.cleanUp=function(){b.prototype.cleanUp.call(this),this._pako=null},E.prototype._createPako=function(){this._pako=new m[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var D=this;this._pako.onData=function(L){D.push({data:L,meta:D.meta})}},f.compressWorker=function(D){return new E("Deflate",D)},f.uncompressWorker=function(){return new E("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(u,h,f){function p(k,R){var N,z="";for(N=0;N<R;N++)z+=String.fromCharCode(255&k),k>>>=8;return z}function m(k,R,N,z,V,S){var T,B,_=k.file,v=k.compression,C=S!==x.utf8encode,y=g.transformTo("string",S(_.name)),w=g.transformTo("string",x.utf8encode(_.name)),O=_.comment,P=g.transformTo("string",S(O)),W=g.transformTo("string",x.utf8encode(O)),G=w.length!==_.name.length,K=W.length!==O.length,F="",Y="",M="",A=_.dir,j=_.date,J={crc32:0,compressedSize:0,uncompressedSize:0};R&&!N||(J.crc32=k.crc32,J.compressedSize=k.compressedSize,J.uncompressedSize=k.uncompressedSize);var ae=0;R&&(ae|=8),C||!G&&!K||(ae|=2048);var ie=0,re=0;A&&(ie|=16),V==="UNIX"?(re=798,ie|=function(ve,te){var ge=ve;return ve||(ge=te?16893:33204),(65535&ge)<<16}(_.unixPermissions,A)):(re=20,ie|=function(ve){return 63&(ve||0)}(_.dosPermissions)),T=j.getUTCHours(),T<<=6,T|=j.getUTCMinutes(),T<<=5,T|=j.getUTCSeconds()/2,B=j.getUTCFullYear()-1980,B<<=4,B|=j.getUTCMonth()+1,B<<=5,B|=j.getUTCDate(),G&&(Y=p(1,1)+p(E(y),4)+w,F+="up"+p(Y.length,2)+Y),K&&(M=p(1,1)+p(E(P),4)+W,F+="uc"+p(M.length,2)+M);var Ce="";return Ce+=`
\0`,Ce+=p(ae,2),Ce+=v.magic,Ce+=p(T,2),Ce+=p(B,2),Ce+=p(J.crc32,4),Ce+=p(J.compressedSize,4),Ce+=p(J.uncompressedSize,4),Ce+=p(y.length,2),Ce+=p(F.length,2),{fileRecord:D.LOCAL_FILE_HEADER+Ce+y+F,dirRecord:D.CENTRAL_FILE_HEADER+p(re,2)+Ce+p(P.length,2)+"\0\0\0\0"+p(ie,4)+p(z,4)+y+F+P}}var g=u("../utils"),b=u("../stream/GenericWorker"),x=u("../utf8"),E=u("../crc32"),D=u("../signature");function L(k,R,N,z){b.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=R,this.zipPlatform=N,this.encodeFileName=z,this.streamFiles=k,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}g.inherits(L,b),L.prototype.push=function(k){var R=k.meta.percent||0,N=this.entriesCount,z=this._sources.length;this.accumulate?this.contentBuffer.push(k):(this.bytesWritten+=k.data.length,b.prototype.push.call(this,{data:k.data,meta:{currentFile:this.currentFile,percent:N?(R+100*(N-z-1))/N:100}}))},L.prototype.openedSource=function(k){this.currentSourceOffset=this.bytesWritten,this.currentFile=k.file.name;var R=this.streamFiles&&!k.file.dir;if(R){var N=m(k,R,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:N.fileRecord,meta:{percent:0}})}else this.accumulate=!0},L.prototype.closedSource=function(k){this.accumulate=!1;var R=this.streamFiles&&!k.file.dir,N=m(k,R,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(N.dirRecord),R)this.push({data:function(z){return D.DATA_DESCRIPTOR+p(z.crc32,4)+p(z.compressedSize,4)+p(z.uncompressedSize,4)}(k),meta:{percent:100}});else for(this.push({data:N.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},L.prototype.flush=function(){for(var k=this.bytesWritten,R=0;R<this.dirRecords.length;R++)this.push({data:this.dirRecords[R],meta:{percent:100}});var N=this.bytesWritten-k,z=function(V,S,T,B,_){var v=g.transformTo("string",_(B));return D.CENTRAL_DIRECTORY_END+"\0\0\0\0"+p(V,2)+p(V,2)+p(S,4)+p(T,4)+p(v.length,2)+v}(this.dirRecords.length,N,k,this.zipComment,this.encodeFileName);this.push({data:z,meta:{percent:100}})},L.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},L.prototype.registerPrevious=function(k){this._sources.push(k);var R=this;return k.on("data",function(N){R.processChunk(N)}),k.on("end",function(){R.closedSource(R.previous.streamInfo),R._sources.length?R.prepareNextSource():R.end()}),k.on("error",function(N){R.error(N)}),this},L.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},L.prototype.error=function(k){var R=this._sources;if(!b.prototype.error.call(this,k))return!1;for(var N=0;N<R.length;N++)try{R[N].error(k)}catch{}return!0},L.prototype.lock=function(){b.prototype.lock.call(this);for(var k=this._sources,R=0;R<k.length;R++)k[R].lock()},h.exports=L},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(u,h,f){var p=u("../compressions"),m=u("./ZipFileWorker");f.generateWorker=function(g,b,x){var E=new m(b.streamFiles,x,b.platform,b.encodeFileName),D=0;try{g.forEach(function(L,k){D++;var R=function(S,T){var B=S||T,_=p[B];if(!_)throw new Error(B+" is not a valid compression method !");return _}(k.options.compression,b.compression),N=k.options.compressionOptions||b.compressionOptions||{},z=k.dir,V=k.date;k._compressWorker(R,N).withStreamInfo("file",{name:L,dir:z,date:V,comment:k.comment||"",unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions}).pipe(E)}),E.entriesCount=D}catch(L){E.error(L)}return E}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(u,h,f){function p(){if(!(this instanceof p))return new p;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var m=new p;for(var g in this)typeof this[g]!="function"&&(m[g]=this[g]);return m}}(p.prototype=u("./object")).loadAsync=u("./load"),p.support=u("./support"),p.defaults=u("./defaults"),p.version="3.10.1",p.loadAsync=function(m,g){return new p().loadAsync(m,g)},p.external=u("./external"),h.exports=p},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(u,h,f){var p=u("./utils"),m=u("./external"),g=u("./utf8"),b=u("./zipEntries"),x=u("./stream/Crc32Probe"),E=u("./nodejsUtils");function D(L){return new m.Promise(function(k,R){var N=L.decompressed.getContentWorker().pipe(new x);N.on("error",function(z){R(z)}).on("end",function(){N.streamInfo.crc32!==L.decompressed.crc32?R(new Error("Corrupted zip : CRC32 mismatch")):k()}).resume()})}h.exports=function(L,k){var R=this;return k=p.extend(k||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:g.utf8decode}),E.isNode&&E.isStream(L)?m.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):p.prepareContent("the loaded zip file",L,!0,k.optimizedBinaryString,k.base64).then(function(N){var z=new b(k);return z.load(N),z}).then(function(N){var z=[m.Promise.resolve(N)],V=N.files;if(k.checkCRC32)for(var S=0;S<V.length;S++)z.push(D(V[S]));return m.Promise.all(z)}).then(function(N){for(var z=N.shift(),V=z.files,S=0;S<V.length;S++){var T=V[S],B=T.fileNameStr,_=p.resolve(T.fileNameStr);R.file(_,T.decompressed,{binary:!0,optimizedBinaryString:!0,date:T.date,dir:T.dir,comment:T.fileCommentStr.length?T.fileCommentStr:null,unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions,createFolders:k.createFolders}),T.dir||(R.file(_).unsafeOriginalName=B)}return z.zipComment.length&&(R.comment=z.zipComment),R})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(u,h,f){var p=u("../utils"),m=u("../stream/GenericWorker");function g(b,x){m.call(this,"Nodejs stream input adapter for "+b),this._upstreamEnded=!1,this._bindStream(x)}p.inherits(g,m),g.prototype._bindStream=function(b){var x=this;(this._stream=b).pause(),b.on("data",function(E){x.push({data:E,meta:{percent:0}})}).on("error",function(E){x.isPaused?this.generatedError=E:x.error(E)}).on("end",function(){x.isPaused?x._upstreamEnded=!0:x.end()})},g.prototype.pause=function(){return!!m.prototype.pause.call(this)&&(this._stream.pause(),!0)},g.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},h.exports=g},{"../stream/GenericWorker":28,"../utils":32}],13:[function(u,h,f){var p=u("readable-stream").Readable;function m(g,b,x){p.call(this,b),this._helper=g;var E=this;g.on("data",function(D,L){E.push(D)||E._helper.pause(),x&&x(L)}).on("error",function(D){E.emit("error",D)}).on("end",function(){E.push(null)})}u("../utils").inherits(m,p),m.prototype._read=function(){this._helper.resume()},h.exports=m},{"../utils":32,"readable-stream":16}],14:[function(u,h,f){h.exports={isNode:r!==void 0,newBufferFrom:function(p,m){if(r.from&&r.from!==Uint8Array.from)return r.from(p,m);if(typeof p=="number")throw new Error('The "data" argument must not be a number');return new r(p,m)},allocBuffer:function(p){if(r.alloc)return r.alloc(p);var m=new r(p);return m.fill(0),m},isBuffer:function(p){return r.isBuffer(p)},isStream:function(p){return p&&typeof p.on=="function"&&typeof p.pause=="function"&&typeof p.resume=="function"}}},{}],15:[function(u,h,f){function p(_,v,C){var y,w=g.getTypeOf(v),O=g.extend(C||{},E);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(_=V(_)),O.createFolders&&(y=z(_))&&S.call(this,y,!0);var P=w==="string"&&O.binary===!1&&O.base64===!1;C&&C.binary!==void 0||(O.binary=!P),(v instanceof D&&v.uncompressedSize===0||O.dir||!v||v.length===0)&&(O.base64=!1,O.binary=!0,v="",O.compression="STORE",w="string");var W;W=v instanceof D||v instanceof b?v:R.isNode&&R.isStream(v)?new N(_,v):g.prepareContent(_,v,O.binary,O.optimizedBinaryString,O.base64);var G=new L(_,W,O);this.files[_]=G}var m=u("./utf8"),g=u("./utils"),b=u("./stream/GenericWorker"),x=u("./stream/StreamHelper"),E=u("./defaults"),D=u("./compressedObject"),L=u("./zipObject"),k=u("./generate"),R=u("./nodejsUtils"),N=u("./nodejs/NodejsStreamInputAdapter"),z=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var v=_.lastIndexOf("/");return 0<v?_.substring(0,v):""},V=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},S=function(_,v){return v=v!==void 0?v:E.createFolders,_=V(_),this.files[_]||p.call(this,_,null,{dir:!0,createFolders:v}),this.files[_]};function T(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var B={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var v,C,y;for(v in this.files)y=this.files[v],(C=v.slice(this.root.length,v.length))&&v.slice(0,this.root.length)===this.root&&_(C,y)},filter:function(_){var v=[];return this.forEach(function(C,y){_(C,y)&&v.push(y)}),v},file:function(_,v,C){if(arguments.length!==1)return _=this.root+_,p.call(this,_,v,C),this;if(T(_)){var y=_;return this.filter(function(O,P){return!P.dir&&y.test(O)})}var w=this.files[this.root+_];return w&&!w.dir?w:null},folder:function(_){if(!_)return this;if(T(_))return this.filter(function(w,O){return O.dir&&_.test(w)});var v=this.root+_,C=S.call(this,v),y=this.clone();return y.root=C.name,y},remove:function(_){_=this.root+_;var v=this.files[_];if(v||(_.slice(-1)!=="/"&&(_+="/"),v=this.files[_]),v&&!v.dir)delete this.files[_];else for(var C=this.filter(function(w,O){return O.name.slice(0,_.length)===_}),y=0;y<C.length;y++)delete this.files[C[y].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var v,C={};try{if((C=g.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:m.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");g.checkSupport(C.type),C.platform!=="darwin"&&C.platform!=="freebsd"&&C.platform!=="linux"&&C.platform!=="sunos"||(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var y=C.comment||this.comment||"";v=k.generateWorker(this,C,y)}catch(w){(v=new b("error")).error(w)}return new x(v,C.type||"string",C.mimeType)},generateAsync:function(_,v){return this.generateInternalStream(_).accumulate(v)},generateNodeStream:function(_,v){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(v)}};h.exports=B},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(u,h,f){h.exports=u("stream")},{stream:void 0}],17:[function(u,h,f){var p=u("./DataReader");function m(g){p.call(this,g);for(var b=0;b<this.data.length;b++)g[b]=255&g[b]}u("../utils").inherits(m,p),m.prototype.byteAt=function(g){return this.data[this.zero+g]},m.prototype.lastIndexOfSignature=function(g){for(var b=g.charCodeAt(0),x=g.charCodeAt(1),E=g.charCodeAt(2),D=g.charCodeAt(3),L=this.length-4;0<=L;--L)if(this.data[L]===b&&this.data[L+1]===x&&this.data[L+2]===E&&this.data[L+3]===D)return L-this.zero;return-1},m.prototype.readAndCheckSignature=function(g){var b=g.charCodeAt(0),x=g.charCodeAt(1),E=g.charCodeAt(2),D=g.charCodeAt(3),L=this.readData(4);return b===L[0]&&x===L[1]&&E===L[2]&&D===L[3]},m.prototype.readData=function(g){if(this.checkOffset(g),g===0)return[];var b=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,b},h.exports=m},{"../utils":32,"./DataReader":18}],18:[function(u,h,f){var p=u("../utils");function m(g){this.data=g,this.length=g.length,this.index=0,this.zero=0}m.prototype={checkOffset:function(g){this.checkIndex(this.index+g)},checkIndex:function(g){if(this.length<this.zero+g||g<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+g+"). Corrupted zip ?")},setIndex:function(g){this.checkIndex(g),this.index=g},skip:function(g){this.setIndex(this.index+g)},byteAt:function(){},readInt:function(g){var b,x=0;for(this.checkOffset(g),b=this.index+g-1;b>=this.index;b--)x=(x<<8)+this.byteAt(b);return this.index+=g,x},readString:function(g){return p.transformTo("string",this.readData(g))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var g=this.readInt(4);return new Date(Date.UTC(1980+(g>>25&127),(g>>21&15)-1,g>>16&31,g>>11&31,g>>5&63,(31&g)<<1))}},h.exports=m},{"../utils":32}],19:[function(u,h,f){var p=u("./Uint8ArrayReader");function m(g){p.call(this,g)}u("../utils").inherits(m,p),m.prototype.readData=function(g){this.checkOffset(g);var b=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,b},h.exports=m},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(u,h,f){var p=u("./DataReader");function m(g){p.call(this,g)}u("../utils").inherits(m,p),m.prototype.byteAt=function(g){return this.data.charCodeAt(this.zero+g)},m.prototype.lastIndexOfSignature=function(g){return this.data.lastIndexOf(g)-this.zero},m.prototype.readAndCheckSignature=function(g){return g===this.readData(4)},m.prototype.readData=function(g){this.checkOffset(g);var b=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,b},h.exports=m},{"../utils":32,"./DataReader":18}],21:[function(u,h,f){var p=u("./ArrayReader");function m(g){p.call(this,g)}u("../utils").inherits(m,p),m.prototype.readData=function(g){if(this.checkOffset(g),g===0)return new Uint8Array(0);var b=this.data.subarray(this.zero+this.index,this.zero+this.index+g);return this.index+=g,b},h.exports=m},{"../utils":32,"./ArrayReader":17}],22:[function(u,h,f){var p=u("../utils"),m=u("../support"),g=u("./ArrayReader"),b=u("./StringReader"),x=u("./NodeBufferReader"),E=u("./Uint8ArrayReader");h.exports=function(D){var L=p.getTypeOf(D);return p.checkSupport(L),L!=="string"||m.uint8array?L==="nodebuffer"?new x(D):m.uint8array?new E(p.transformTo("uint8array",D)):new g(p.transformTo("array",D)):new b(D)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(u,h,f){f.LOCAL_FILE_HEADER="PK",f.CENTRAL_FILE_HEADER="PK",f.CENTRAL_DIRECTORY_END="PK",f.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",f.ZIP64_CENTRAL_DIRECTORY_END="PK",f.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(u,h,f){var p=u("./GenericWorker"),m=u("../utils");function g(b){p.call(this,"ConvertWorker to "+b),this.destType=b}m.inherits(g,p),g.prototype.processChunk=function(b){this.push({data:m.transformTo(this.destType,b.data),meta:b.meta})},h.exports=g},{"../utils":32,"./GenericWorker":28}],25:[function(u,h,f){var p=u("./GenericWorker"),m=u("../crc32");function g(){p.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}u("../utils").inherits(g,p),g.prototype.processChunk=function(b){this.streamInfo.crc32=m(b.data,this.streamInfo.crc32||0),this.push(b)},h.exports=g},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(u,h,f){var p=u("../utils"),m=u("./GenericWorker");function g(b){m.call(this,"DataLengthProbe for "+b),this.propName=b,this.withStreamInfo(b,0)}p.inherits(g,m),g.prototype.processChunk=function(b){if(b){var x=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=x+b.data.length}m.prototype.processChunk.call(this,b)},h.exports=g},{"../utils":32,"./GenericWorker":28}],27:[function(u,h,f){var p=u("../utils"),m=u("./GenericWorker");function g(b){m.call(this,"DataWorker");var x=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,b.then(function(E){x.dataIsReady=!0,x.data=E,x.max=E&&E.length||0,x.type=p.getTypeOf(E),x.isPaused||x._tickAndRepeat()},function(E){x.error(E)})}p.inherits(g,m),g.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this.data=null},g.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,p.delay(this._tickAndRepeat,[],this)),!0)},g.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(p.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},g.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var b=null,x=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":b=this.data.substring(this.index,x);break;case"uint8array":b=this.data.subarray(this.index,x);break;case"array":case"nodebuffer":b=this.data.slice(this.index,x)}return this.index=x,this.push({data:b,meta:{percent:this.max?this.index/this.max*100:0}})},h.exports=g},{"../utils":32,"./GenericWorker":28}],28:[function(u,h,f){function p(m){this.name=m||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}p.prototype={push:function(m){this.emit("data",m)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(m){this.emit("error",m)}return!0},error:function(m){return!this.isFinished&&(this.isPaused?this.generatedError=m:(this.isFinished=!0,this.emit("error",m),this.previous&&this.previous.error(m),this.cleanUp()),!0)},on:function(m,g){return this._listeners[m].push(g),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(m,g){if(this._listeners[m])for(var b=0;b<this._listeners[m].length;b++)this._listeners[m][b].call(this,g)},pipe:function(m){return m.registerPrevious(this)},registerPrevious:function(m){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=m.streamInfo,this.mergeStreamInfo(),this.previous=m;var g=this;return m.on("data",function(b){g.processChunk(b)}),m.on("end",function(){g.end()}),m.on("error",function(b){g.error(b)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var m=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),m=!0),this.previous&&this.previous.resume(),!m},flush:function(){},processChunk:function(m){this.push(m)},withStreamInfo:function(m,g){return this.extraStreamInfo[m]=g,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var m in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,m)&&(this.streamInfo[m]=this.extraStreamInfo[m])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var m="Worker "+this.name;return this.previous?this.previous+" -> "+m:m}},h.exports=p},{}],29:[function(u,h,f){var p=u("../utils"),m=u("./ConvertWorker"),g=u("./GenericWorker"),b=u("../base64"),x=u("../support"),E=u("../external"),D=null;if(x.nodestream)try{D=u("../nodejs/NodejsStreamOutputAdapter")}catch{}function L(k,R,N){var z=R;switch(R){case"blob":case"arraybuffer":z="uint8array";break;case"base64":z="string"}try{this._internalType=z,this._outputType=R,this._mimeType=N,p.checkSupport(z),this._worker=k.pipe(new m(z)),k.lock()}catch(V){this._worker=new g("error"),this._worker.error(V)}}L.prototype={accumulate:function(k){return function(R,N){return new E.Promise(function(z,V){var S=[],T=R._internalType,B=R._outputType,_=R._mimeType;R.on("data",function(v,C){S.push(v),N&&N(C)}).on("error",function(v){S=[],V(v)}).on("end",function(){try{var v=function(C,y,w){switch(C){case"blob":return p.newBlob(p.transformTo("arraybuffer",y),w);case"base64":return b.encode(y);default:return p.transformTo(C,y)}}(B,function(C,y){var w,O=0,P=null,W=0;for(w=0;w<y.length;w++)W+=y[w].length;switch(C){case"string":return y.join("");case"array":return Array.prototype.concat.apply([],y);case"uint8array":for(P=new Uint8Array(W),w=0;w<y.length;w++)P.set(y[w],O),O+=y[w].length;return P;case"nodebuffer":return r.concat(y);default:throw new Error("concat : unsupported type '"+C+"'")}}(T,S),_);z(v)}catch(C){V(C)}S=[]}).resume()})}(this,k)},on:function(k,R){var N=this;return k==="data"?this._worker.on(k,function(z){R.call(N,z.data,z.meta)}):this._worker.on(k,function(){p.delay(R,arguments,N)}),this},resume:function(){return p.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(k){if(p.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new D(this,{objectMode:this._outputType!=="nodebuffer"},k)}},h.exports=L},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(u,h,f){if(f.base64=!0,f.array=!0,f.string=!0,f.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",f.nodebuffer=r!==void 0,f.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")f.blob=!1;else{var p=new ArrayBuffer(0);try{f.blob=new Blob([p],{type:"application/zip"}).size===0}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);m.append(p),f.blob=m.getBlob("application/zip").size===0}catch{f.blob=!1}}}try{f.nodestream=!!u("readable-stream").Readable}catch{f.nodestream=!1}},{"readable-stream":16}],31:[function(u,h,f){for(var p=u("./utils"),m=u("./support"),g=u("./nodejsUtils"),b=u("./stream/GenericWorker"),x=new Array(256),E=0;E<256;E++)x[E]=252<=E?6:248<=E?5:240<=E?4:224<=E?3:192<=E?2:1;function D(){b.call(this,"utf-8 decode"),this.leftOver=null}function L(){b.call(this,"utf-8 encode")}x[254]=x[254]=1,f.utf8encode=function(k){return m.nodebuffer?g.newBufferFrom(k,"utf-8"):function(R){var N,z,V,S,T,B=R.length,_=0;for(S=0;S<B;S++)(64512&(z=R.charCodeAt(S)))==55296&&S+1<B&&(64512&(V=R.charCodeAt(S+1)))==56320&&(z=65536+(z-55296<<10)+(V-56320),S++),_+=z<128?1:z<2048?2:z<65536?3:4;for(N=m.uint8array?new Uint8Array(_):new Array(_),S=T=0;T<_;S++)(64512&(z=R.charCodeAt(S)))==55296&&S+1<B&&(64512&(V=R.charCodeAt(S+1)))==56320&&(z=65536+(z-55296<<10)+(V-56320),S++),z<128?N[T++]=z:(z<2048?N[T++]=192|z>>>6:(z<65536?N[T++]=224|z>>>12:(N[T++]=240|z>>>18,N[T++]=128|z>>>12&63),N[T++]=128|z>>>6&63),N[T++]=128|63&z);return N}(k)},f.utf8decode=function(k){return m.nodebuffer?p.transformTo("nodebuffer",k).toString("utf-8"):function(R){var N,z,V,S,T=R.length,B=new Array(2*T);for(N=z=0;N<T;)if((V=R[N++])<128)B[z++]=V;else if(4<(S=x[V]))B[z++]=65533,N+=S-1;else{for(V&=S===2?31:S===3?15:7;1<S&&N<T;)V=V<<6|63&R[N++],S--;1<S?B[z++]=65533:V<65536?B[z++]=V:(V-=65536,B[z++]=55296|V>>10&1023,B[z++]=56320|1023&V)}return B.length!==z&&(B.subarray?B=B.subarray(0,z):B.length=z),p.applyFromCharCode(B)}(k=p.transformTo(m.uint8array?"uint8array":"array",k))},p.inherits(D,b),D.prototype.processChunk=function(k){var R=p.transformTo(m.uint8array?"uint8array":"array",k.data);if(this.leftOver&&this.leftOver.length){if(m.uint8array){var N=R;(R=new Uint8Array(N.length+this.leftOver.length)).set(this.leftOver,0),R.set(N,this.leftOver.length)}else R=this.leftOver.concat(R);this.leftOver=null}var z=function(S,T){var B;for((T=T||S.length)>S.length&&(T=S.length),B=T-1;0<=B&&(192&S[B])==128;)B--;return B<0||B===0?T:B+x[S[B]]>T?B:T}(R),V=R;z!==R.length&&(m.uint8array?(V=R.subarray(0,z),this.leftOver=R.subarray(z,R.length)):(V=R.slice(0,z),this.leftOver=R.slice(z,R.length))),this.push({data:f.utf8decode(V),meta:k.meta})},D.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:f.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},f.Utf8DecodeWorker=D,p.inherits(L,b),L.prototype.processChunk=function(k){this.push({data:f.utf8encode(k.data),meta:k.meta})},f.Utf8EncodeWorker=L},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(u,h,f){var p=u("./support"),m=u("./base64"),g=u("./nodejsUtils"),b=u("./external");function x(N){return N}function E(N,z){for(var V=0;V<N.length;++V)z[V]=255&N.charCodeAt(V);return z}u("setimmediate"),f.newBlob=function(N,z){f.checkSupport("blob");try{return new Blob([N],{type:z})}catch{try{var V=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return V.append(N),V.getBlob(z)}catch{throw new Error("Bug : can't construct the Blob.")}}};var D={stringifyByChunk:function(N,z,V){var S=[],T=0,B=N.length;if(B<=V)return String.fromCharCode.apply(null,N);for(;T<B;)z==="array"||z==="nodebuffer"?S.push(String.fromCharCode.apply(null,N.slice(T,Math.min(T+V,B)))):S.push(String.fromCharCode.apply(null,N.subarray(T,Math.min(T+V,B)))),T+=V;return S.join("")},stringifyByChar:function(N){for(var z="",V=0;V<N.length;V++)z+=String.fromCharCode(N[V]);return z},applyCanBeUsed:{uint8array:function(){try{return p.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return p.nodebuffer&&String.fromCharCode.apply(null,g.allocBuffer(1)).length===1}catch{return!1}}()}};function L(N){var z=65536,V=f.getTypeOf(N),S=!0;if(V==="uint8array"?S=D.applyCanBeUsed.uint8array:V==="nodebuffer"&&(S=D.applyCanBeUsed.nodebuffer),S)for(;1<z;)try{return D.stringifyByChunk(N,V,z)}catch{z=Math.floor(z/2)}return D.stringifyByChar(N)}function k(N,z){for(var V=0;V<N.length;V++)z[V]=N[V];return z}f.applyFromCharCode=L;var R={};R.string={string:x,array:function(N){return E(N,new Array(N.length))},arraybuffer:function(N){return R.string.uint8array(N).buffer},uint8array:function(N){return E(N,new Uint8Array(N.length))},nodebuffer:function(N){return E(N,g.allocBuffer(N.length))}},R.array={string:L,array:x,arraybuffer:function(N){return new Uint8Array(N).buffer},uint8array:function(N){return new Uint8Array(N)},nodebuffer:function(N){return g.newBufferFrom(N)}},R.arraybuffer={string:function(N){return L(new Uint8Array(N))},array:function(N){return k(new Uint8Array(N),new Array(N.byteLength))},arraybuffer:x,uint8array:function(N){return new Uint8Array(N)},nodebuffer:function(N){return g.newBufferFrom(new Uint8Array(N))}},R.uint8array={string:L,array:function(N){return k(N,new Array(N.length))},arraybuffer:function(N){return N.buffer},uint8array:x,nodebuffer:function(N){return g.newBufferFrom(N)}},R.nodebuffer={string:L,array:function(N){return k(N,new Array(N.length))},arraybuffer:function(N){return R.nodebuffer.uint8array(N).buffer},uint8array:function(N){return k(N,new Uint8Array(N.length))},nodebuffer:x},f.transformTo=function(N,z){if(z=z||"",!N)return z;f.checkSupport(N);var V=f.getTypeOf(z);return R[V][N](z)},f.resolve=function(N){for(var z=N.split("/"),V=[],S=0;S<z.length;S++){var T=z[S];T==="."||T===""&&S!==0&&S!==z.length-1||(T===".."?V.pop():V.push(T))}return V.join("/")},f.getTypeOf=function(N){return typeof N=="string"?"string":Object.prototype.toString.call(N)==="[object Array]"?"array":p.nodebuffer&&g.isBuffer(N)?"nodebuffer":p.uint8array&&N instanceof Uint8Array?"uint8array":p.arraybuffer&&N instanceof ArrayBuffer?"arraybuffer":void 0},f.checkSupport=function(N){if(!p[N.toLowerCase()])throw new Error(N+" is not supported by this platform")},f.MAX_VALUE_16BITS=65535,f.MAX_VALUE_32BITS=-1,f.pretty=function(N){var z,V,S="";for(V=0;V<(N||"").length;V++)S+="\\x"+((z=N.charCodeAt(V))<16?"0":"")+z.toString(16).toUpperCase();return S},f.delay=function(N,z,V){c(function(){N.apply(V||null,z||[])})},f.inherits=function(N,z){function V(){}V.prototype=z.prototype,N.prototype=new V},f.extend=function(){var N,z,V={};for(N=0;N<arguments.length;N++)for(z in arguments[N])Object.prototype.hasOwnProperty.call(arguments[N],z)&&V[z]===void 0&&(V[z]=arguments[N][z]);return V},f.prepareContent=function(N,z,V,S,T){return b.Promise.resolve(z).then(function(B){return p.blob&&(B instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(B))!==-1)&&typeof FileReader<"u"?new b.Promise(function(_,v){var C=new FileReader;C.onload=function(y){_(y.target.result)},C.onerror=function(y){v(y.target.error)},C.readAsArrayBuffer(B)}):B}).then(function(B){var _=f.getTypeOf(B);return _?(_==="arraybuffer"?B=f.transformTo("uint8array",B):_==="string"&&(T?B=m.decode(B):V&&S!==!0&&(B=function(v){return E(v,p.uint8array?new Uint8Array(v.length):new Array(v.length))}(B))),B):b.Promise.reject(new Error("Can't read the data of '"+N+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(u,h,f){var p=u("./reader/readerFor"),m=u("./utils"),g=u("./signature"),b=u("./zipEntry"),x=u("./support");function E(D){this.files=[],this.loadOptions=D}E.prototype={checkSignature:function(D){if(!this.reader.readAndCheckSignature(D)){this.reader.index-=4;var L=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+m.pretty(L)+", expected "+m.pretty(D)+")")}},isSignature:function(D,L){var k=this.reader.index;this.reader.setIndex(D);var R=this.reader.readString(4)===L;return this.reader.setIndex(k),R},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var D=this.reader.readData(this.zipCommentLength),L=x.uint8array?"uint8array":"array",k=m.transformTo(L,D);this.zipComment=this.loadOptions.decodeFileName(k)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var D,L,k,R=this.zip64EndOfCentralSize-44;0<R;)D=this.reader.readInt(2),L=this.reader.readInt(4),k=this.reader.readData(L),this.zip64ExtensibleData[D]={id:D,length:L,value:k}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var D,L;for(D=0;D<this.files.length;D++)L=this.files[D],this.reader.setIndex(L.localHeaderOffset),this.checkSignature(g.LOCAL_FILE_HEADER),L.readLocalPart(this.reader),L.handleUTF8(),L.processAttributes()},readCentralDir:function(){var D;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(g.CENTRAL_FILE_HEADER);)(D=new b({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(D);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var D=this.reader.lastIndexOfSignature(g.CENTRAL_DIRECTORY_END);if(D<0)throw this.isSignature(0,g.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(D);var L=D;if(this.checkSignature(g.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===m.MAX_VALUE_16BITS||this.diskWithCentralDirStart===m.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===m.MAX_VALUE_16BITS||this.centralDirRecords===m.MAX_VALUE_16BITS||this.centralDirSize===m.MAX_VALUE_32BITS||this.centralDirOffset===m.MAX_VALUE_32BITS){if(this.zip64=!0,(D=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(D),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,g.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var k=this.centralDirOffset+this.centralDirSize;this.zip64&&(k+=20,k+=12+this.zip64EndOfCentralSize);var R=L-k;if(0<R)this.isSignature(L,g.CENTRAL_FILE_HEADER)||(this.reader.zero=R);else if(R<0)throw new Error("Corrupted zip: missing "+Math.abs(R)+" bytes.")},prepareReader:function(D){this.reader=p(D)},load:function(D){this.prepareReader(D),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},h.exports=E},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(u,h,f){var p=u("./reader/readerFor"),m=u("./utils"),g=u("./compressedObject"),b=u("./crc32"),x=u("./utf8"),E=u("./compressions"),D=u("./support");function L(k,R){this.options=k,this.loadOptions=R}L.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(k){var R,N;if(k.skip(22),this.fileNameLength=k.readInt(2),N=k.readInt(2),this.fileName=k.readData(this.fileNameLength),k.skip(N),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((R=function(z){for(var V in E)if(Object.prototype.hasOwnProperty.call(E,V)&&E[V].magic===z)return E[V];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+m.pretty(this.compressionMethod)+" unknown (inner file : "+m.transformTo("string",this.fileName)+")");this.decompressed=new g(this.compressedSize,this.uncompressedSize,this.crc32,R,k.readData(this.compressedSize))},readCentralPart:function(k){this.versionMadeBy=k.readInt(2),k.skip(2),this.bitFlag=k.readInt(2),this.compressionMethod=k.readString(2),this.date=k.readDate(),this.crc32=k.readInt(4),this.compressedSize=k.readInt(4),this.uncompressedSize=k.readInt(4);var R=k.readInt(2);if(this.extraFieldsLength=k.readInt(2),this.fileCommentLength=k.readInt(2),this.diskNumberStart=k.readInt(2),this.internalFileAttributes=k.readInt(2),this.externalFileAttributes=k.readInt(4),this.localHeaderOffset=k.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");k.skip(R),this.readExtraFields(k),this.parseZIP64ExtraField(k),this.fileComment=k.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var k=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),k==0&&(this.dosPermissions=63&this.externalFileAttributes),k==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var k=p(this.extraFields[1].value);this.uncompressedSize===m.MAX_VALUE_32BITS&&(this.uncompressedSize=k.readInt(8)),this.compressedSize===m.MAX_VALUE_32BITS&&(this.compressedSize=k.readInt(8)),this.localHeaderOffset===m.MAX_VALUE_32BITS&&(this.localHeaderOffset=k.readInt(8)),this.diskNumberStart===m.MAX_VALUE_32BITS&&(this.diskNumberStart=k.readInt(4))}},readExtraFields:function(k){var R,N,z,V=k.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});k.index+4<V;)R=k.readInt(2),N=k.readInt(2),z=k.readData(N),this.extraFields[R]={id:R,length:N,value:z};k.setIndex(V)},handleUTF8:function(){var k=D.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=x.utf8decode(this.fileName),this.fileCommentStr=x.utf8decode(this.fileComment);else{var R=this.findExtraFieldUnicodePath();if(R!==null)this.fileNameStr=R;else{var N=m.transformTo(k,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(N)}var z=this.findExtraFieldUnicodeComment();if(z!==null)this.fileCommentStr=z;else{var V=m.transformTo(k,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(V)}}},findExtraFieldUnicodePath:function(){var k=this.extraFields[28789];if(k){var R=p(k.value);return R.readInt(1)!==1||b(this.fileName)!==R.readInt(4)?null:x.utf8decode(R.readData(k.length-5))}return null},findExtraFieldUnicodeComment:function(){var k=this.extraFields[25461];if(k){var R=p(k.value);return R.readInt(1)!==1||b(this.fileComment)!==R.readInt(4)?null:x.utf8decode(R.readData(k.length-5))}return null}},h.exports=L},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(u,h,f){function p(R,N,z){this.name=R,this.dir=z.dir,this.date=z.date,this.comment=z.comment,this.unixPermissions=z.unixPermissions,this.dosPermissions=z.dosPermissions,this._data=N,this._dataBinary=z.binary,this.options={compression:z.compression,compressionOptions:z.compressionOptions}}var m=u("./stream/StreamHelper"),g=u("./stream/DataWorker"),b=u("./utf8"),x=u("./compressedObject"),E=u("./stream/GenericWorker");p.prototype={internalStream:function(R){var N=null,z="string";try{if(!R)throw new Error("No output type specified.");var V=(z=R.toLowerCase())==="string"||z==="text";z!=="binarystring"&&z!=="text"||(z="string"),N=this._decompressWorker();var S=!this._dataBinary;S&&!V&&(N=N.pipe(new b.Utf8EncodeWorker)),!S&&V&&(N=N.pipe(new b.Utf8DecodeWorker))}catch(T){(N=new E("error")).error(T)}return new m(N,z,"")},async:function(R,N){return this.internalStream(R).accumulate(N)},nodeStream:function(R,N){return this.internalStream(R||"nodebuffer").toNodejsStream(N)},_compressWorker:function(R,N){if(this._data instanceof x&&this._data.compression.magic===R.magic)return this._data.getCompressedWorker();var z=this._decompressWorker();return this._dataBinary||(z=z.pipe(new b.Utf8EncodeWorker)),x.createWorkerFrom(z,R,N)},_decompressWorker:function(){return this._data instanceof x?this._data.getContentWorker():this._data instanceof E?this._data:new g(this._data)}};for(var D=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],L=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},k=0;k<D.length;k++)p.prototype[D[k]]=L;h.exports=p},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(u,h,f){(function(p){var m,g,b=p.MutationObserver||p.WebKitMutationObserver;if(b){var x=0,E=new b(R),D=p.document.createTextNode("");E.observe(D,{characterData:!0}),m=function(){D.data=x=++x%2}}else if(p.setImmediate||p.MessageChannel===void 0)m="document"in p&&"onreadystatechange"in p.document.createElement("script")?function(){var N=p.document.createElement("script");N.onreadystatechange=function(){R(),N.onreadystatechange=null,N.parentNode.removeChild(N),N=null},p.document.documentElement.appendChild(N)}:function(){setTimeout(R,0)};else{var L=new p.MessageChannel;L.port1.onmessage=R,m=function(){L.port2.postMessage(0)}}var k=[];function R(){var N,z;g=!0;for(var V=k.length;V;){for(z=k,k=[],N=-1;++N<V;)z[N]();V=k.length}g=!1}h.exports=function(N){k.push(N)!==1||g||m()}}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(u,h,f){var p=u("immediate");function m(){}var g={},b=["REJECTED"],x=["FULFILLED"],E=["PENDING"];function D(V){if(typeof V!="function")throw new TypeError("resolver must be a function");this.state=E,this.queue=[],this.outcome=void 0,V!==m&&N(this,V)}function L(V,S,T){this.promise=V,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}function k(V,S,T){p(function(){var B;try{B=S(T)}catch(_){return g.reject(V,_)}B===V?g.reject(V,new TypeError("Cannot resolve promise with itself")):g.resolve(V,B)})}function R(V){var S=V&&V.then;if(V&&(typeof V=="object"||typeof V=="function")&&typeof S=="function")return function(){S.apply(V,arguments)}}function N(V,S){var T=!1;function B(C){T||(T=!0,g.reject(V,C))}function _(C){T||(T=!0,g.resolve(V,C))}var v=z(function(){S(_,B)});v.status==="error"&&B(v.value)}function z(V,S){var T={};try{T.value=V(S),T.status="success"}catch(B){T.status="error",T.value=B}return T}(h.exports=D).prototype.finally=function(V){if(typeof V!="function")return this;var S=this.constructor;return this.then(function(T){return S.resolve(V()).then(function(){return T})},function(T){return S.resolve(V()).then(function(){throw T})})},D.prototype.catch=function(V){return this.then(null,V)},D.prototype.then=function(V,S){if(typeof V!="function"&&this.state===x||typeof S!="function"&&this.state===b)return this;var T=new this.constructor(m);return this.state!==E?k(T,this.state===x?V:S,this.outcome):this.queue.push(new L(T,V,S)),T},L.prototype.callFulfilled=function(V){g.resolve(this.promise,V)},L.prototype.otherCallFulfilled=function(V){k(this.promise,this.onFulfilled,V)},L.prototype.callRejected=function(V){g.reject(this.promise,V)},L.prototype.otherCallRejected=function(V){k(this.promise,this.onRejected,V)},g.resolve=function(V,S){var T=z(R,S);if(T.status==="error")return g.reject(V,T.value);var B=T.value;if(B)N(V,B);else{V.state=x,V.outcome=S;for(var _=-1,v=V.queue.length;++_<v;)V.queue[_].callFulfilled(S)}return V},g.reject=function(V,S){V.state=b,V.outcome=S;for(var T=-1,B=V.queue.length;++T<B;)V.queue[T].callRejected(S);return V},D.resolve=function(V){return V instanceof this?V:g.resolve(new this(m),V)},D.reject=function(V){var S=new this(m);return g.reject(S,V)},D.all=function(V){var S=this;if(Object.prototype.toString.call(V)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=V.length,B=!1;if(!T)return this.resolve([]);for(var _=new Array(T),v=0,C=-1,y=new this(m);++C<T;)w(V[C],C);return y;function w(O,P){S.resolve(O).then(function(W){_[P]=W,++v!==T||B||(B=!0,g.resolve(y,_))},function(W){B||(B=!0,g.reject(y,W))})}},D.race=function(V){if(Object.prototype.toString.call(V)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=V.length,T=!1;if(!S)return this.resolve([]);for(var B,_=-1,v=new this(m);++_<S;)B=V[_],this.resolve(B).then(function(C){T||(T=!0,g.resolve(v,C))},function(C){T||(T=!0,g.reject(v,C))});return v}},{immediate:36}],38:[function(u,h,f){var p={};(0,u("./lib/utils/common").assign)(p,u("./lib/deflate"),u("./lib/inflate"),u("./lib/zlib/constants")),h.exports=p},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(u,h,f){var p=u("./zlib/deflate"),m=u("./utils/common"),g=u("./utils/strings"),b=u("./zlib/messages"),x=u("./zlib/zstream"),E=Object.prototype.toString;function D(k){if(!(this instanceof D))return new D(k);this.options=m.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},k||{});var R=this.options;R.raw&&0<R.windowBits?R.windowBits=-R.windowBits:R.gzip&&0<R.windowBits&&R.windowBits<16&&(R.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new x,this.strm.avail_out=0;var N=p.deflateInit2(this.strm,R.level,R.method,R.windowBits,R.memLevel,R.strategy);if(N!==0)throw new Error(b[N]);if(R.header&&p.deflateSetHeader(this.strm,R.header),R.dictionary){var z;if(z=typeof R.dictionary=="string"?g.string2buf(R.dictionary):E.call(R.dictionary)==="[object ArrayBuffer]"?new Uint8Array(R.dictionary):R.dictionary,(N=p.deflateSetDictionary(this.strm,z))!==0)throw new Error(b[N]);this._dict_set=!0}}function L(k,R){var N=new D(R);if(N.push(k,!0),N.err)throw N.msg||b[N.err];return N.result}D.prototype.push=function(k,R){var N,z,V=this.strm,S=this.options.chunkSize;if(this.ended)return!1;z=R===~~R?R:R===!0?4:0,typeof k=="string"?V.input=g.string2buf(k):E.call(k)==="[object ArrayBuffer]"?V.input=new Uint8Array(k):V.input=k,V.next_in=0,V.avail_in=V.input.length;do{if(V.avail_out===0&&(V.output=new m.Buf8(S),V.next_out=0,V.avail_out=S),(N=p.deflate(V,z))!==1&&N!==0)return this.onEnd(N),!(this.ended=!0);V.avail_out!==0&&(V.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(g.buf2binstring(m.shrinkBuf(V.output,V.next_out))):this.onData(m.shrinkBuf(V.output,V.next_out)))}while((0<V.avail_in||V.avail_out===0)&&N!==1);return z===4?(N=p.deflateEnd(this.strm),this.onEnd(N),this.ended=!0,N===0):z!==2||(this.onEnd(0),!(V.avail_out=0))},D.prototype.onData=function(k){this.chunks.push(k)},D.prototype.onEnd=function(k){k===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg},f.Deflate=D,f.deflate=L,f.deflateRaw=function(k,R){return(R=R||{}).raw=!0,L(k,R)},f.gzip=function(k,R){return(R=R||{}).gzip=!0,L(k,R)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(u,h,f){var p=u("./zlib/inflate"),m=u("./utils/common"),g=u("./utils/strings"),b=u("./zlib/constants"),x=u("./zlib/messages"),E=u("./zlib/zstream"),D=u("./zlib/gzheader"),L=Object.prototype.toString;function k(N){if(!(this instanceof k))return new k(N);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},N||{});var z=this.options;z.raw&&0<=z.windowBits&&z.windowBits<16&&(z.windowBits=-z.windowBits,z.windowBits===0&&(z.windowBits=-15)),!(0<=z.windowBits&&z.windowBits<16)||N&&N.windowBits||(z.windowBits+=32),15<z.windowBits&&z.windowBits<48&&!(15&z.windowBits)&&(z.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E,this.strm.avail_out=0;var V=p.inflateInit2(this.strm,z.windowBits);if(V!==b.Z_OK)throw new Error(x[V]);this.header=new D,p.inflateGetHeader(this.strm,this.header)}function R(N,z){var V=new k(z);if(V.push(N,!0),V.err)throw V.msg||x[V.err];return V.result}k.prototype.push=function(N,z){var V,S,T,B,_,v,C=this.strm,y=this.options.chunkSize,w=this.options.dictionary,O=!1;if(this.ended)return!1;S=z===~~z?z:z===!0?b.Z_FINISH:b.Z_NO_FLUSH,typeof N=="string"?C.input=g.binstring2buf(N):L.call(N)==="[object ArrayBuffer]"?C.input=new Uint8Array(N):C.input=N,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new m.Buf8(y),C.next_out=0,C.avail_out=y),(V=p.inflate(C,b.Z_NO_FLUSH))===b.Z_NEED_DICT&&w&&(v=typeof w=="string"?g.string2buf(w):L.call(w)==="[object ArrayBuffer]"?new Uint8Array(w):w,V=p.inflateSetDictionary(this.strm,v)),V===b.Z_BUF_ERROR&&O===!0&&(V=b.Z_OK,O=!1),V!==b.Z_STREAM_END&&V!==b.Z_OK)return this.onEnd(V),!(this.ended=!0);C.next_out&&(C.avail_out!==0&&V!==b.Z_STREAM_END&&(C.avail_in!==0||S!==b.Z_FINISH&&S!==b.Z_SYNC_FLUSH)||(this.options.to==="string"?(T=g.utf8border(C.output,C.next_out),B=C.next_out-T,_=g.buf2string(C.output,T),C.next_out=B,C.avail_out=y-B,B&&m.arraySet(C.output,C.output,T,B,0),this.onData(_)):this.onData(m.shrinkBuf(C.output,C.next_out)))),C.avail_in===0&&C.avail_out===0&&(O=!0)}while((0<C.avail_in||C.avail_out===0)&&V!==b.Z_STREAM_END);return V===b.Z_STREAM_END&&(S=b.Z_FINISH),S===b.Z_FINISH?(V=p.inflateEnd(this.strm),this.onEnd(V),this.ended=!0,V===b.Z_OK):S!==b.Z_SYNC_FLUSH||(this.onEnd(b.Z_OK),!(C.avail_out=0))},k.prototype.onData=function(N){this.chunks.push(N)},k.prototype.onEnd=function(N){N===b.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg},f.Inflate=k,f.inflate=R,f.inflateRaw=function(N,z){return(z=z||{}).raw=!0,R(N,z)},f.ungzip=R},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(u,h,f){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";f.assign=function(b){for(var x=Array.prototype.slice.call(arguments,1);x.length;){var E=x.shift();if(E){if(typeof E!="object")throw new TypeError(E+"must be non-object");for(var D in E)E.hasOwnProperty(D)&&(b[D]=E[D])}}return b},f.shrinkBuf=function(b,x){return b.length===x?b:b.subarray?b.subarray(0,x):(b.length=x,b)};var m={arraySet:function(b,x,E,D,L){if(x.subarray&&b.subarray)b.set(x.subarray(E,E+D),L);else for(var k=0;k<D;k++)b[L+k]=x[E+k]},flattenChunks:function(b){var x,E,D,L,k,R;for(x=D=0,E=b.length;x<E;x++)D+=b[x].length;for(R=new Uint8Array(D),x=L=0,E=b.length;x<E;x++)k=b[x],R.set(k,L),L+=k.length;return R}},g={arraySet:function(b,x,E,D,L){for(var k=0;k<D;k++)b[L+k]=x[E+k]},flattenChunks:function(b){return[].concat.apply([],b)}};f.setTyped=function(b){b?(f.Buf8=Uint8Array,f.Buf16=Uint16Array,f.Buf32=Int32Array,f.assign(f,m)):(f.Buf8=Array,f.Buf16=Array,f.Buf32=Array,f.assign(f,g))},f.setTyped(p)},{}],42:[function(u,h,f){var p=u("./common"),m=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var b=new p.Buf8(256),x=0;x<256;x++)b[x]=252<=x?6:248<=x?5:240<=x?4:224<=x?3:192<=x?2:1;function E(D,L){if(L<65537&&(D.subarray&&g||!D.subarray&&m))return String.fromCharCode.apply(null,p.shrinkBuf(D,L));for(var k="",R=0;R<L;R++)k+=String.fromCharCode(D[R]);return k}b[254]=b[254]=1,f.string2buf=function(D){var L,k,R,N,z,V=D.length,S=0;for(N=0;N<V;N++)(64512&(k=D.charCodeAt(N)))==55296&&N+1<V&&(64512&(R=D.charCodeAt(N+1)))==56320&&(k=65536+(k-55296<<10)+(R-56320),N++),S+=k<128?1:k<2048?2:k<65536?3:4;for(L=new p.Buf8(S),N=z=0;z<S;N++)(64512&(k=D.charCodeAt(N)))==55296&&N+1<V&&(64512&(R=D.charCodeAt(N+1)))==56320&&(k=65536+(k-55296<<10)+(R-56320),N++),k<128?L[z++]=k:(k<2048?L[z++]=192|k>>>6:(k<65536?L[z++]=224|k>>>12:(L[z++]=240|k>>>18,L[z++]=128|k>>>12&63),L[z++]=128|k>>>6&63),L[z++]=128|63&k);return L},f.buf2binstring=function(D){return E(D,D.length)},f.binstring2buf=function(D){for(var L=new p.Buf8(D.length),k=0,R=L.length;k<R;k++)L[k]=D.charCodeAt(k);return L},f.buf2string=function(D,L){var k,R,N,z,V=L||D.length,S=new Array(2*V);for(k=R=0;k<V;)if((N=D[k++])<128)S[R++]=N;else if(4<(z=b[N]))S[R++]=65533,k+=z-1;else{for(N&=z===2?31:z===3?15:7;1<z&&k<V;)N=N<<6|63&D[k++],z--;1<z?S[R++]=65533:N<65536?S[R++]=N:(N-=65536,S[R++]=55296|N>>10&1023,S[R++]=56320|1023&N)}return E(S,R)},f.utf8border=function(D,L){var k;for((L=L||D.length)>D.length&&(L=D.length),k=L-1;0<=k&&(192&D[k])==128;)k--;return k<0||k===0?L:k+b[D[k]]>L?k:L}},{"./common":41}],43:[function(u,h,f){h.exports=function(p,m,g,b){for(var x=65535&p|0,E=p>>>16&65535|0,D=0;g!==0;){for(g-=D=2e3<g?2e3:g;E=E+(x=x+m[b++]|0)|0,--D;);x%=65521,E%=65521}return x|E<<16|0}},{}],44:[function(u,h,f){h.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(u,h,f){var p=function(){for(var m,g=[],b=0;b<256;b++){m=b;for(var x=0;x<8;x++)m=1&m?3988292384^m>>>1:m>>>1;g[b]=m}return g}();h.exports=function(m,g,b,x){var E=p,D=x+b;m^=-1;for(var L=x;L<D;L++)m=m>>>8^E[255&(m^g[L])];return-1^m}},{}],46:[function(u,h,f){var p,m=u("../utils/common"),g=u("./trees"),b=u("./adler32"),x=u("./crc32"),E=u("./messages"),D=-2,L=258,k=262,R=113;function N(F,Y){return F.msg=E[Y],Y}function z(F){return(F<<1)-(4<F?9:0)}function V(F){for(var Y=F.length;0<=--Y;)F[Y]=0}function S(F){var Y=F.state,M=Y.pending;M>F.avail_out&&(M=F.avail_out),M!==0&&(m.arraySet(F.output,Y.pending_buf,Y.pending_out,M,F.next_out),F.next_out+=M,Y.pending_out+=M,F.total_out+=M,F.avail_out-=M,Y.pending-=M,Y.pending===0&&(Y.pending_out=0))}function T(F,Y){g._tr_flush_block(F,0<=F.block_start?F.block_start:-1,F.strstart-F.block_start,Y),F.block_start=F.strstart,S(F.strm)}function B(F,Y){F.pending_buf[F.pending++]=Y}function _(F,Y){F.pending_buf[F.pending++]=Y>>>8&255,F.pending_buf[F.pending++]=255&Y}function v(F,Y){var M,A,j=F.max_chain_length,J=F.strstart,ae=F.prev_length,ie=F.nice_match,re=F.strstart>F.w_size-k?F.strstart-(F.w_size-k):0,Ce=F.window,ve=F.w_mask,te=F.prev,ge=F.strstart+L,he=Ce[J+ae-1],xe=Ce[J+ae];F.prev_length>=F.good_match&&(j>>=2),ie>F.lookahead&&(ie=F.lookahead);do if(Ce[(M=Y)+ae]===xe&&Ce[M+ae-1]===he&&Ce[M]===Ce[J]&&Ce[++M]===Ce[J+1]){J+=2,M++;do;while(Ce[++J]===Ce[++M]&&Ce[++J]===Ce[++M]&&Ce[++J]===Ce[++M]&&Ce[++J]===Ce[++M]&&Ce[++J]===Ce[++M]&&Ce[++J]===Ce[++M]&&Ce[++J]===Ce[++M]&&Ce[++J]===Ce[++M]&&J<ge);if(A=L-(ge-J),J=ge-L,ae<A){if(F.match_start=Y,ie<=(ae=A))break;he=Ce[J+ae-1],xe=Ce[J+ae]}}while((Y=te[Y&ve])>re&&--j!=0);return ae<=F.lookahead?ae:F.lookahead}function C(F){var Y,M,A,j,J,ae,ie,re,Ce,ve,te=F.w_size;do{if(j=F.window_size-F.lookahead-F.strstart,F.strstart>=te+(te-k)){for(m.arraySet(F.window,F.window,te,te,0),F.match_start-=te,F.strstart-=te,F.block_start-=te,Y=M=F.hash_size;A=F.head[--Y],F.head[Y]=te<=A?A-te:0,--M;);for(Y=M=te;A=F.prev[--Y],F.prev[Y]=te<=A?A-te:0,--M;);j+=te}if(F.strm.avail_in===0)break;if(ae=F.strm,ie=F.window,re=F.strstart+F.lookahead,ve=void 0,(Ce=j)<(ve=ae.avail_in)&&(ve=Ce),M=ve===0?0:(ae.avail_in-=ve,m.arraySet(ie,ae.input,ae.next_in,ve,re),ae.state.wrap===1?ae.adler=b(ae.adler,ie,ve,re):ae.state.wrap===2&&(ae.adler=x(ae.adler,ie,ve,re)),ae.next_in+=ve,ae.total_in+=ve,ve),F.lookahead+=M,F.lookahead+F.insert>=3)for(J=F.strstart-F.insert,F.ins_h=F.window[J],F.ins_h=(F.ins_h<<F.hash_shift^F.window[J+1])&F.hash_mask;F.insert&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[J+3-1])&F.hash_mask,F.prev[J&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=J,J++,F.insert--,!(F.lookahead+F.insert<3)););}while(F.lookahead<k&&F.strm.avail_in!==0)}function y(F,Y){for(var M,A;;){if(F.lookahead<k){if(C(F),F.lookahead<k&&Y===0)return 1;if(F.lookahead===0)break}if(M=0,F.lookahead>=3&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,M=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),M!==0&&F.strstart-M<=F.w_size-k&&(F.match_length=v(F,M)),F.match_length>=3)if(A=g._tr_tally(F,F.strstart-F.match_start,F.match_length-3),F.lookahead-=F.match_length,F.match_length<=F.max_lazy_match&&F.lookahead>=3){for(F.match_length--;F.strstart++,F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,M=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart,--F.match_length!=0;);F.strstart++}else F.strstart+=F.match_length,F.match_length=0,F.ins_h=F.window[F.strstart],F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+1])&F.hash_mask;else A=g._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++;if(A&&(T(F,!1),F.strm.avail_out===0))return 1}return F.insert=F.strstart<2?F.strstart:2,Y===4?(T(F,!0),F.strm.avail_out===0?3:4):F.last_lit&&(T(F,!1),F.strm.avail_out===0)?1:2}function w(F,Y){for(var M,A,j;;){if(F.lookahead<k){if(C(F),F.lookahead<k&&Y===0)return 1;if(F.lookahead===0)break}if(M=0,F.lookahead>=3&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,M=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),F.prev_length=F.match_length,F.prev_match=F.match_start,F.match_length=2,M!==0&&F.prev_length<F.max_lazy_match&&F.strstart-M<=F.w_size-k&&(F.match_length=v(F,M),F.match_length<=5&&(F.strategy===1||F.match_length===3&&4096<F.strstart-F.match_start)&&(F.match_length=2)),F.prev_length>=3&&F.match_length<=F.prev_length){for(j=F.strstart+F.lookahead-3,A=g._tr_tally(F,F.strstart-1-F.prev_match,F.prev_length-3),F.lookahead-=F.prev_length-1,F.prev_length-=2;++F.strstart<=j&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,M=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),--F.prev_length!=0;);if(F.match_available=0,F.match_length=2,F.strstart++,A&&(T(F,!1),F.strm.avail_out===0))return 1}else if(F.match_available){if((A=g._tr_tally(F,0,F.window[F.strstart-1]))&&T(F,!1),F.strstart++,F.lookahead--,F.strm.avail_out===0)return 1}else F.match_available=1,F.strstart++,F.lookahead--}return F.match_available&&(A=g._tr_tally(F,0,F.window[F.strstart-1]),F.match_available=0),F.insert=F.strstart<2?F.strstart:2,Y===4?(T(F,!0),F.strm.avail_out===0?3:4):F.last_lit&&(T(F,!1),F.strm.avail_out===0)?1:2}function O(F,Y,M,A,j){this.good_length=F,this.max_lazy=Y,this.nice_length=M,this.max_chain=A,this.func=j}function P(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new m.Buf16(1146),this.dyn_dtree=new m.Buf16(122),this.bl_tree=new m.Buf16(78),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new m.Buf16(16),this.heap=new m.Buf16(573),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new m.Buf16(573),V(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function W(F){var Y;return F&&F.state?(F.total_in=F.total_out=0,F.data_type=2,(Y=F.state).pending=0,Y.pending_out=0,Y.wrap<0&&(Y.wrap=-Y.wrap),Y.status=Y.wrap?42:R,F.adler=Y.wrap===2?0:1,Y.last_flush=0,g._tr_init(Y),0):N(F,D)}function G(F){var Y=W(F);return Y===0&&function(M){M.window_size=2*M.w_size,V(M.head),M.max_lazy_match=p[M.level].max_lazy,M.good_match=p[M.level].good_length,M.nice_match=p[M.level].nice_length,M.max_chain_length=p[M.level].max_chain,M.strstart=0,M.block_start=0,M.lookahead=0,M.insert=0,M.match_length=M.prev_length=2,M.match_available=0,M.ins_h=0}(F.state),Y}function K(F,Y,M,A,j,J){if(!F)return D;var ae=1;if(Y===-1&&(Y=6),A<0?(ae=0,A=-A):15<A&&(ae=2,A-=16),j<1||9<j||M!==8||A<8||15<A||Y<0||9<Y||J<0||4<J)return N(F,D);A===8&&(A=9);var ie=new P;return(F.state=ie).strm=F,ie.wrap=ae,ie.gzhead=null,ie.w_bits=A,ie.w_size=1<<ie.w_bits,ie.w_mask=ie.w_size-1,ie.hash_bits=j+7,ie.hash_size=1<<ie.hash_bits,ie.hash_mask=ie.hash_size-1,ie.hash_shift=~~((ie.hash_bits+3-1)/3),ie.window=new m.Buf8(2*ie.w_size),ie.head=new m.Buf16(ie.hash_size),ie.prev=new m.Buf16(ie.w_size),ie.lit_bufsize=1<<j+6,ie.pending_buf_size=4*ie.lit_bufsize,ie.pending_buf=new m.Buf8(ie.pending_buf_size),ie.d_buf=1*ie.lit_bufsize,ie.l_buf=3*ie.lit_bufsize,ie.level=Y,ie.strategy=J,ie.method=M,G(F)}p=[new O(0,0,0,0,function(F,Y){var M=65535;for(M>F.pending_buf_size-5&&(M=F.pending_buf_size-5);;){if(F.lookahead<=1){if(C(F),F.lookahead===0&&Y===0)return 1;if(F.lookahead===0)break}F.strstart+=F.lookahead,F.lookahead=0;var A=F.block_start+M;if((F.strstart===0||F.strstart>=A)&&(F.lookahead=F.strstart-A,F.strstart=A,T(F,!1),F.strm.avail_out===0)||F.strstart-F.block_start>=F.w_size-k&&(T(F,!1),F.strm.avail_out===0))return 1}return F.insert=0,Y===4?(T(F,!0),F.strm.avail_out===0?3:4):(F.strstart>F.block_start&&(T(F,!1),F.strm.avail_out),1)}),new O(4,4,8,4,y),new O(4,5,16,8,y),new O(4,6,32,32,y),new O(4,4,16,16,w),new O(8,16,32,32,w),new O(8,16,128,128,w),new O(8,32,128,256,w),new O(32,128,258,1024,w),new O(32,258,258,4096,w)],f.deflateInit=function(F,Y){return K(F,Y,8,15,8,0)},f.deflateInit2=K,f.deflateReset=G,f.deflateResetKeep=W,f.deflateSetHeader=function(F,Y){return F&&F.state?F.state.wrap!==2?D:(F.state.gzhead=Y,0):D},f.deflate=function(F,Y){var M,A,j,J;if(!F||!F.state||5<Y||Y<0)return F?N(F,D):D;if(A=F.state,!F.output||!F.input&&F.avail_in!==0||A.status===666&&Y!==4)return N(F,F.avail_out===0?-5:D);if(A.strm=F,M=A.last_flush,A.last_flush=Y,A.status===42)if(A.wrap===2)F.adler=0,B(A,31),B(A,139),B(A,8),A.gzhead?(B(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),B(A,255&A.gzhead.time),B(A,A.gzhead.time>>8&255),B(A,A.gzhead.time>>16&255),B(A,A.gzhead.time>>24&255),B(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),B(A,255&A.gzhead.os),A.gzhead.extra&&A.gzhead.extra.length&&(B(A,255&A.gzhead.extra.length),B(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(F.adler=x(F.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=69):(B(A,0),B(A,0),B(A,0),B(A,0),B(A,0),B(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),B(A,3),A.status=R);else{var ae=8+(A.w_bits-8<<4)<<8;ae|=(2<=A.strategy||A.level<2?0:A.level<6?1:A.level===6?2:3)<<6,A.strstart!==0&&(ae|=32),ae+=31-ae%31,A.status=R,_(A,ae),A.strstart!==0&&(_(A,F.adler>>>16),_(A,65535&F.adler)),F.adler=1}if(A.status===69)if(A.gzhead.extra){for(j=A.pending;A.gzindex<(65535&A.gzhead.extra.length)&&(A.pending!==A.pending_buf_size||(A.gzhead.hcrc&&A.pending>j&&(F.adler=x(F.adler,A.pending_buf,A.pending-j,j)),S(F),j=A.pending,A.pending!==A.pending_buf_size));)B(A,255&A.gzhead.extra[A.gzindex]),A.gzindex++;A.gzhead.hcrc&&A.pending>j&&(F.adler=x(F.adler,A.pending_buf,A.pending-j,j)),A.gzindex===A.gzhead.extra.length&&(A.gzindex=0,A.status=73)}else A.status=73;if(A.status===73)if(A.gzhead.name){j=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>j&&(F.adler=x(F.adler,A.pending_buf,A.pending-j,j)),S(F),j=A.pending,A.pending===A.pending_buf_size)){J=1;break}J=A.gzindex<A.gzhead.name.length?255&A.gzhead.name.charCodeAt(A.gzindex++):0,B(A,J)}while(J!==0);A.gzhead.hcrc&&A.pending>j&&(F.adler=x(F.adler,A.pending_buf,A.pending-j,j)),J===0&&(A.gzindex=0,A.status=91)}else A.status=91;if(A.status===91)if(A.gzhead.comment){j=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>j&&(F.adler=x(F.adler,A.pending_buf,A.pending-j,j)),S(F),j=A.pending,A.pending===A.pending_buf_size)){J=1;break}J=A.gzindex<A.gzhead.comment.length?255&A.gzhead.comment.charCodeAt(A.gzindex++):0,B(A,J)}while(J!==0);A.gzhead.hcrc&&A.pending>j&&(F.adler=x(F.adler,A.pending_buf,A.pending-j,j)),J===0&&(A.status=103)}else A.status=103;if(A.status===103&&(A.gzhead.hcrc?(A.pending+2>A.pending_buf_size&&S(F),A.pending+2<=A.pending_buf_size&&(B(A,255&F.adler),B(A,F.adler>>8&255),F.adler=0,A.status=R)):A.status=R),A.pending!==0){if(S(F),F.avail_out===0)return A.last_flush=-1,0}else if(F.avail_in===0&&z(Y)<=z(M)&&Y!==4)return N(F,-5);if(A.status===666&&F.avail_in!==0)return N(F,-5);if(F.avail_in!==0||A.lookahead!==0||Y!==0&&A.status!==666){var ie=A.strategy===2?function(re,Ce){for(var ve;;){if(re.lookahead===0&&(C(re),re.lookahead===0)){if(Ce===0)return 1;break}if(re.match_length=0,ve=g._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++,ve&&(T(re,!1),re.strm.avail_out===0))return 1}return re.insert=0,Ce===4?(T(re,!0),re.strm.avail_out===0?3:4):re.last_lit&&(T(re,!1),re.strm.avail_out===0)?1:2}(A,Y):A.strategy===3?function(re,Ce){for(var ve,te,ge,he,xe=re.window;;){if(re.lookahead<=L){if(C(re),re.lookahead<=L&&Ce===0)return 1;if(re.lookahead===0)break}if(re.match_length=0,re.lookahead>=3&&0<re.strstart&&(te=xe[ge=re.strstart-1])===xe[++ge]&&te===xe[++ge]&&te===xe[++ge]){he=re.strstart+L;do;while(te===xe[++ge]&&te===xe[++ge]&&te===xe[++ge]&&te===xe[++ge]&&te===xe[++ge]&&te===xe[++ge]&&te===xe[++ge]&&te===xe[++ge]&&ge<he);re.match_length=L-(he-ge),re.match_length>re.lookahead&&(re.match_length=re.lookahead)}if(re.match_length>=3?(ve=g._tr_tally(re,1,re.match_length-3),re.lookahead-=re.match_length,re.strstart+=re.match_length,re.match_length=0):(ve=g._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++),ve&&(T(re,!1),re.strm.avail_out===0))return 1}return re.insert=0,Ce===4?(T(re,!0),re.strm.avail_out===0?3:4):re.last_lit&&(T(re,!1),re.strm.avail_out===0)?1:2}(A,Y):p[A.level].func(A,Y);if(ie!==3&&ie!==4||(A.status=666),ie===1||ie===3)return F.avail_out===0&&(A.last_flush=-1),0;if(ie===2&&(Y===1?g._tr_align(A):Y!==5&&(g._tr_stored_block(A,0,0,!1),Y===3&&(V(A.head),A.lookahead===0&&(A.strstart=0,A.block_start=0,A.insert=0))),S(F),F.avail_out===0))return A.last_flush=-1,0}return Y!==4?0:A.wrap<=0?1:(A.wrap===2?(B(A,255&F.adler),B(A,F.adler>>8&255),B(A,F.adler>>16&255),B(A,F.adler>>24&255),B(A,255&F.total_in),B(A,F.total_in>>8&255),B(A,F.total_in>>16&255),B(A,F.total_in>>24&255)):(_(A,F.adler>>>16),_(A,65535&F.adler)),S(F),0<A.wrap&&(A.wrap=-A.wrap),A.pending!==0?0:1)},f.deflateEnd=function(F){var Y;return F&&F.state?(Y=F.state.status)!==42&&Y!==69&&Y!==73&&Y!==91&&Y!==103&&Y!==R&&Y!==666?N(F,D):(F.state=null,Y===R?N(F,-3):0):D},f.deflateSetDictionary=function(F,Y){var M,A,j,J,ae,ie,re,Ce,ve=Y.length;if(!F||!F.state||(J=(M=F.state).wrap)===2||J===1&&M.status!==42||M.lookahead)return D;for(J===1&&(F.adler=b(F.adler,Y,ve,0)),M.wrap=0,ve>=M.w_size&&(J===0&&(V(M.head),M.strstart=0,M.block_start=0,M.insert=0),Ce=new m.Buf8(M.w_size),m.arraySet(Ce,Y,ve-M.w_size,M.w_size,0),Y=Ce,ve=M.w_size),ae=F.avail_in,ie=F.next_in,re=F.input,F.avail_in=ve,F.next_in=0,F.input=Y,C(M);M.lookahead>=3;){for(A=M.strstart,j=M.lookahead-2;M.ins_h=(M.ins_h<<M.hash_shift^M.window[A+3-1])&M.hash_mask,M.prev[A&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=A,A++,--j;);M.strstart=A,M.lookahead=2,C(M)}return M.strstart+=M.lookahead,M.block_start=M.strstart,M.insert=M.lookahead,M.lookahead=0,M.match_length=M.prev_length=2,M.match_available=0,F.next_in=ie,F.input=re,F.avail_in=ae,M.wrap=J,0},f.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(u,h,f){h.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(u,h,f){h.exports=function(p,m){var g,b,x,E,D,L,k,R,N,z,V,S,T,B,_,v,C,y,w,O,P,W,G,K,F;g=p.state,b=p.next_in,K=p.input,x=b+(p.avail_in-5),E=p.next_out,F=p.output,D=E-(m-p.avail_out),L=E+(p.avail_out-257),k=g.dmax,R=g.wsize,N=g.whave,z=g.wnext,V=g.window,S=g.hold,T=g.bits,B=g.lencode,_=g.distcode,v=(1<<g.lenbits)-1,C=(1<<g.distbits)-1;e:do{T<15&&(S+=K[b++]<<T,T+=8,S+=K[b++]<<T,T+=8),y=B[S&v];t:for(;;){if(S>>>=w=y>>>24,T-=w,(w=y>>>16&255)==0)F[E++]=65535&y;else{if(!(16&w)){if(!(64&w)){y=B[(65535&y)+(S&(1<<w)-1)];continue t}if(32&w){g.mode=12;break e}p.msg="invalid literal/length code",g.mode=30;break e}O=65535&y,(w&=15)&&(T<w&&(S+=K[b++]<<T,T+=8),O+=S&(1<<w)-1,S>>>=w,T-=w),T<15&&(S+=K[b++]<<T,T+=8,S+=K[b++]<<T,T+=8),y=_[S&C];i:for(;;){if(S>>>=w=y>>>24,T-=w,!(16&(w=y>>>16&255))){if(!(64&w)){y=_[(65535&y)+(S&(1<<w)-1)];continue i}p.msg="invalid distance code",g.mode=30;break e}if(P=65535&y,T<(w&=15)&&(S+=K[b++]<<T,(T+=8)<w&&(S+=K[b++]<<T,T+=8)),k<(P+=S&(1<<w)-1)){p.msg="invalid distance too far back",g.mode=30;break e}if(S>>>=w,T-=w,(w=E-D)<P){if(N<(w=P-w)&&g.sane){p.msg="invalid distance too far back",g.mode=30;break e}if(G=V,(W=0)===z){if(W+=R-w,w<O){for(O-=w;F[E++]=V[W++],--w;);W=E-P,G=F}}else if(z<w){if(W+=R+z-w,(w-=z)<O){for(O-=w;F[E++]=V[W++],--w;);if(W=0,z<O){for(O-=w=z;F[E++]=V[W++],--w;);W=E-P,G=F}}}else if(W+=z-w,w<O){for(O-=w;F[E++]=V[W++],--w;);W=E-P,G=F}for(;2<O;)F[E++]=G[W++],F[E++]=G[W++],F[E++]=G[W++],O-=3;O&&(F[E++]=G[W++],1<O&&(F[E++]=G[W++]))}else{for(W=E-P;F[E++]=F[W++],F[E++]=F[W++],F[E++]=F[W++],2<(O-=3););O&&(F[E++]=F[W++],1<O&&(F[E++]=F[W++]))}break}}break}}while(b<x&&E<L);b-=O=T>>3,S&=(1<<(T-=O<<3))-1,p.next_in=b,p.next_out=E,p.avail_in=b<x?x-b+5:5-(b-x),p.avail_out=E<L?L-E+257:257-(E-L),g.hold=S,g.bits=T}},{}],49:[function(u,h,f){var p=u("../utils/common"),m=u("./adler32"),g=u("./crc32"),b=u("./inffast"),x=u("./inftrees"),E=-2;function D(v){return(v>>>24&255)+(v>>>8&65280)+((65280&v)<<8)+((255&v)<<24)}function L(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(v){var C;return v&&v.state?(C=v.state,v.total_in=v.total_out=C.total=0,v.msg="",C.wrap&&(v.adler=1&C.wrap),C.mode=1,C.last=0,C.havedict=0,C.dmax=32768,C.head=null,C.hold=0,C.bits=0,C.lencode=C.lendyn=new p.Buf32(852),C.distcode=C.distdyn=new p.Buf32(592),C.sane=1,C.back=-1,0):E}function R(v){var C;return v&&v.state?((C=v.state).wsize=0,C.whave=0,C.wnext=0,k(v)):E}function N(v,C){var y,w;return v&&v.state?(w=v.state,C<0?(y=0,C=-C):(y=1+(C>>4),C<48&&(C&=15)),C&&(C<8||15<C)?E:(w.window!==null&&w.wbits!==C&&(w.window=null),w.wrap=y,w.wbits=C,R(v))):E}function z(v,C){var y,w;return v?(w=new L,(v.state=w).window=null,(y=N(v,C))!==0&&(v.state=null),y):E}var V,S,T=!0;function B(v){if(T){var C;for(V=new p.Buf32(512),S=new p.Buf32(32),C=0;C<144;)v.lens[C++]=8;for(;C<256;)v.lens[C++]=9;for(;C<280;)v.lens[C++]=7;for(;C<288;)v.lens[C++]=8;for(x(1,v.lens,0,288,V,0,v.work,{bits:9}),C=0;C<32;)v.lens[C++]=5;x(2,v.lens,0,32,S,0,v.work,{bits:5}),T=!1}v.lencode=V,v.lenbits=9,v.distcode=S,v.distbits=5}function _(v,C,y,w){var O,P=v.state;return P.window===null&&(P.wsize=1<<P.wbits,P.wnext=0,P.whave=0,P.window=new p.Buf8(P.wsize)),w>=P.wsize?(p.arraySet(P.window,C,y-P.wsize,P.wsize,0),P.wnext=0,P.whave=P.wsize):(w<(O=P.wsize-P.wnext)&&(O=w),p.arraySet(P.window,C,y-w,O,P.wnext),(w-=O)?(p.arraySet(P.window,C,y-w,w,0),P.wnext=w,P.whave=P.wsize):(P.wnext+=O,P.wnext===P.wsize&&(P.wnext=0),P.whave<P.wsize&&(P.whave+=O))),0}f.inflateReset=R,f.inflateReset2=N,f.inflateResetKeep=k,f.inflateInit=function(v){return z(v,15)},f.inflateInit2=z,f.inflate=function(v,C){var y,w,O,P,W,G,K,F,Y,M,A,j,J,ae,ie,re,Ce,ve,te,ge,he,xe,Oe,we,Te=0,Xe=new p.Buf8(4),Je=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!v||!v.state||!v.output||!v.input&&v.avail_in!==0)return E;(y=v.state).mode===12&&(y.mode=13),W=v.next_out,O=v.output,K=v.avail_out,P=v.next_in,w=v.input,G=v.avail_in,F=y.hold,Y=y.bits,M=G,A=K,xe=0;e:for(;;)switch(y.mode){case 1:if(y.wrap===0){y.mode=13;break}for(;Y<16;){if(G===0)break e;G--,F+=w[P++]<<Y,Y+=8}if(2&y.wrap&&F===35615){Xe[y.check=0]=255&F,Xe[1]=F>>>8&255,y.check=g(y.check,Xe,2,0),Y=F=0,y.mode=2;break}if(y.flags=0,y.head&&(y.head.done=!1),!(1&y.wrap)||(((255&F)<<8)+(F>>8))%31){v.msg="incorrect header check",y.mode=30;break}if((15&F)!=8){v.msg="unknown compression method",y.mode=30;break}if(Y-=4,he=8+(15&(F>>>=4)),y.wbits===0)y.wbits=he;else if(he>y.wbits){v.msg="invalid window size",y.mode=30;break}y.dmax=1<<he,v.adler=y.check=1,y.mode=512&F?10:12,Y=F=0;break;case 2:for(;Y<16;){if(G===0)break e;G--,F+=w[P++]<<Y,Y+=8}if(y.flags=F,(255&y.flags)!=8){v.msg="unknown compression method",y.mode=30;break}if(57344&y.flags){v.msg="unknown header flags set",y.mode=30;break}y.head&&(y.head.text=F>>8&1),512&y.flags&&(Xe[0]=255&F,Xe[1]=F>>>8&255,y.check=g(y.check,Xe,2,0)),Y=F=0,y.mode=3;case 3:for(;Y<32;){if(G===0)break e;G--,F+=w[P++]<<Y,Y+=8}y.head&&(y.head.time=F),512&y.flags&&(Xe[0]=255&F,Xe[1]=F>>>8&255,Xe[2]=F>>>16&255,Xe[3]=F>>>24&255,y.check=g(y.check,Xe,4,0)),Y=F=0,y.mode=4;case 4:for(;Y<16;){if(G===0)break e;G--,F+=w[P++]<<Y,Y+=8}y.head&&(y.head.xflags=255&F,y.head.os=F>>8),512&y.flags&&(Xe[0]=255&F,Xe[1]=F>>>8&255,y.check=g(y.check,Xe,2,0)),Y=F=0,y.mode=5;case 5:if(1024&y.flags){for(;Y<16;){if(G===0)break e;G--,F+=w[P++]<<Y,Y+=8}y.length=F,y.head&&(y.head.extra_len=F),512&y.flags&&(Xe[0]=255&F,Xe[1]=F>>>8&255,y.check=g(y.check,Xe,2,0)),Y=F=0}else y.head&&(y.head.extra=null);y.mode=6;case 6:if(1024&y.flags&&(G<(j=y.length)&&(j=G),j&&(y.head&&(he=y.head.extra_len-y.length,y.head.extra||(y.head.extra=new Array(y.head.extra_len)),p.arraySet(y.head.extra,w,P,j,he)),512&y.flags&&(y.check=g(y.check,w,j,P)),G-=j,P+=j,y.length-=j),y.length))break e;y.length=0,y.mode=7;case 7:if(2048&y.flags){if(G===0)break e;for(j=0;he=w[P+j++],y.head&&he&&y.length<65536&&(y.head.name+=String.fromCharCode(he)),he&&j<G;);if(512&y.flags&&(y.check=g(y.check,w,j,P)),G-=j,P+=j,he)break e}else y.head&&(y.head.name=null);y.length=0,y.mode=8;case 8:if(4096&y.flags){if(G===0)break e;for(j=0;he=w[P+j++],y.head&&he&&y.length<65536&&(y.head.comment+=String.fromCharCode(he)),he&&j<G;);if(512&y.flags&&(y.check=g(y.check,w,j,P)),G-=j,P+=j,he)break e}else y.head&&(y.head.comment=null);y.mode=9;case 9:if(512&y.flags){for(;Y<16;){if(G===0)break e;G--,F+=w[P++]<<Y,Y+=8}if(F!==(65535&y.check)){v.msg="header crc mismatch",y.mode=30;break}Y=F=0}y.head&&(y.head.hcrc=y.flags>>9&1,y.head.done=!0),v.adler=y.check=0,y.mode=12;break;case 10:for(;Y<32;){if(G===0)break e;G--,F+=w[P++]<<Y,Y+=8}v.adler=y.check=D(F),Y=F=0,y.mode=11;case 11:if(y.havedict===0)return v.next_out=W,v.avail_out=K,v.next_in=P,v.avail_in=G,y.hold=F,y.bits=Y,2;v.adler=y.check=1,y.mode=12;case 12:if(C===5||C===6)break e;case 13:if(y.last){F>>>=7&Y,Y-=7&Y,y.mode=27;break}for(;Y<3;){if(G===0)break e;G--,F+=w[P++]<<Y,Y+=8}switch(y.last=1&F,Y-=1,3&(F>>>=1)){case 0:y.mode=14;break;case 1:if(B(y),y.mode=20,C!==6)break;F>>>=2,Y-=2;break e;case 2:y.mode=17;break;case 3:v.msg="invalid block type",y.mode=30}F>>>=2,Y-=2;break;case 14:for(F>>>=7&Y,Y-=7&Y;Y<32;){if(G===0)break e;G--,F+=w[P++]<<Y,Y+=8}if((65535&F)!=(F>>>16^65535)){v.msg="invalid stored block lengths",y.mode=30;break}if(y.length=65535&F,Y=F=0,y.mode=15,C===6)break e;case 15:y.mode=16;case 16:if(j=y.length){if(G<j&&(j=G),K<j&&(j=K),j===0)break e;p.arraySet(O,w,P,j,W),G-=j,P+=j,K-=j,W+=j,y.length-=j;break}y.mode=12;break;case 17:for(;Y<14;){if(G===0)break e;G--,F+=w[P++]<<Y,Y+=8}if(y.nlen=257+(31&F),F>>>=5,Y-=5,y.ndist=1+(31&F),F>>>=5,Y-=5,y.ncode=4+(15&F),F>>>=4,Y-=4,286<y.nlen||30<y.ndist){v.msg="too many length or distance symbols",y.mode=30;break}y.have=0,y.mode=18;case 18:for(;y.have<y.ncode;){for(;Y<3;){if(G===0)break e;G--,F+=w[P++]<<Y,Y+=8}y.lens[Je[y.have++]]=7&F,F>>>=3,Y-=3}for(;y.have<19;)y.lens[Je[y.have++]]=0;if(y.lencode=y.lendyn,y.lenbits=7,Oe={bits:y.lenbits},xe=x(0,y.lens,0,19,y.lencode,0,y.work,Oe),y.lenbits=Oe.bits,xe){v.msg="invalid code lengths set",y.mode=30;break}y.have=0,y.mode=19;case 19:for(;y.have<y.nlen+y.ndist;){for(;re=(Te=y.lencode[F&(1<<y.lenbits)-1])>>>16&255,Ce=65535&Te,!((ie=Te>>>24)<=Y);){if(G===0)break e;G--,F+=w[P++]<<Y,Y+=8}if(Ce<16)F>>>=ie,Y-=ie,y.lens[y.have++]=Ce;else{if(Ce===16){for(we=ie+2;Y<we;){if(G===0)break e;G--,F+=w[P++]<<Y,Y+=8}if(F>>>=ie,Y-=ie,y.have===0){v.msg="invalid bit length repeat",y.mode=30;break}he=y.lens[y.have-1],j=3+(3&F),F>>>=2,Y-=2}else if(Ce===17){for(we=ie+3;Y<we;){if(G===0)break e;G--,F+=w[P++]<<Y,Y+=8}Y-=ie,he=0,j=3+(7&(F>>>=ie)),F>>>=3,Y-=3}else{for(we=ie+7;Y<we;){if(G===0)break e;G--,F+=w[P++]<<Y,Y+=8}Y-=ie,he=0,j=11+(127&(F>>>=ie)),F>>>=7,Y-=7}if(y.have+j>y.nlen+y.ndist){v.msg="invalid bit length repeat",y.mode=30;break}for(;j--;)y.lens[y.have++]=he}}if(y.mode===30)break;if(y.lens[256]===0){v.msg="invalid code -- missing end-of-block",y.mode=30;break}if(y.lenbits=9,Oe={bits:y.lenbits},xe=x(1,y.lens,0,y.nlen,y.lencode,0,y.work,Oe),y.lenbits=Oe.bits,xe){v.msg="invalid literal/lengths set",y.mode=30;break}if(y.distbits=6,y.distcode=y.distdyn,Oe={bits:y.distbits},xe=x(2,y.lens,y.nlen,y.ndist,y.distcode,0,y.work,Oe),y.distbits=Oe.bits,xe){v.msg="invalid distances set",y.mode=30;break}if(y.mode=20,C===6)break e;case 20:y.mode=21;case 21:if(6<=G&&258<=K){v.next_out=W,v.avail_out=K,v.next_in=P,v.avail_in=G,y.hold=F,y.bits=Y,b(v,A),W=v.next_out,O=v.output,K=v.avail_out,P=v.next_in,w=v.input,G=v.avail_in,F=y.hold,Y=y.bits,y.mode===12&&(y.back=-1);break}for(y.back=0;re=(Te=y.lencode[F&(1<<y.lenbits)-1])>>>16&255,Ce=65535&Te,!((ie=Te>>>24)<=Y);){if(G===0)break e;G--,F+=w[P++]<<Y,Y+=8}if(re&&!(240&re)){for(ve=ie,te=re,ge=Ce;re=(Te=y.lencode[ge+((F&(1<<ve+te)-1)>>ve)])>>>16&255,Ce=65535&Te,!(ve+(ie=Te>>>24)<=Y);){if(G===0)break e;G--,F+=w[P++]<<Y,Y+=8}F>>>=ve,Y-=ve,y.back+=ve}if(F>>>=ie,Y-=ie,y.back+=ie,y.length=Ce,re===0){y.mode=26;break}if(32&re){y.back=-1,y.mode=12;break}if(64&re){v.msg="invalid literal/length code",y.mode=30;break}y.extra=15&re,y.mode=22;case 22:if(y.extra){for(we=y.extra;Y<we;){if(G===0)break e;G--,F+=w[P++]<<Y,Y+=8}y.length+=F&(1<<y.extra)-1,F>>>=y.extra,Y-=y.extra,y.back+=y.extra}y.was=y.length,y.mode=23;case 23:for(;re=(Te=y.distcode[F&(1<<y.distbits)-1])>>>16&255,Ce=65535&Te,!((ie=Te>>>24)<=Y);){if(G===0)break e;G--,F+=w[P++]<<Y,Y+=8}if(!(240&re)){for(ve=ie,te=re,ge=Ce;re=(Te=y.distcode[ge+((F&(1<<ve+te)-1)>>ve)])>>>16&255,Ce=65535&Te,!(ve+(ie=Te>>>24)<=Y);){if(G===0)break e;G--,F+=w[P++]<<Y,Y+=8}F>>>=ve,Y-=ve,y.back+=ve}if(F>>>=ie,Y-=ie,y.back+=ie,64&re){v.msg="invalid distance code",y.mode=30;break}y.offset=Ce,y.extra=15&re,y.mode=24;case 24:if(y.extra){for(we=y.extra;Y<we;){if(G===0)break e;G--,F+=w[P++]<<Y,Y+=8}y.offset+=F&(1<<y.extra)-1,F>>>=y.extra,Y-=y.extra,y.back+=y.extra}if(y.offset>y.dmax){v.msg="invalid distance too far back",y.mode=30;break}y.mode=25;case 25:if(K===0)break e;if(j=A-K,y.offset>j){if((j=y.offset-j)>y.whave&&y.sane){v.msg="invalid distance too far back",y.mode=30;break}J=j>y.wnext?(j-=y.wnext,y.wsize-j):y.wnext-j,j>y.length&&(j=y.length),ae=y.window}else ae=O,J=W-y.offset,j=y.length;for(K<j&&(j=K),K-=j,y.length-=j;O[W++]=ae[J++],--j;);y.length===0&&(y.mode=21);break;case 26:if(K===0)break e;O[W++]=y.length,K--,y.mode=21;break;case 27:if(y.wrap){for(;Y<32;){if(G===0)break e;G--,F|=w[P++]<<Y,Y+=8}if(A-=K,v.total_out+=A,y.total+=A,A&&(v.adler=y.check=y.flags?g(y.check,O,A,W-A):m(y.check,O,A,W-A)),A=K,(y.flags?F:D(F))!==y.check){v.msg="incorrect data check",y.mode=30;break}Y=F=0}y.mode=28;case 28:if(y.wrap&&y.flags){for(;Y<32;){if(G===0)break e;G--,F+=w[P++]<<Y,Y+=8}if(F!==(4294967295&y.total)){v.msg="incorrect length check",y.mode=30;break}Y=F=0}y.mode=29;case 29:xe=1;break e;case 30:xe=-3;break e;case 31:return-4;case 32:default:return E}return v.next_out=W,v.avail_out=K,v.next_in=P,v.avail_in=G,y.hold=F,y.bits=Y,(y.wsize||A!==v.avail_out&&y.mode<30&&(y.mode<27||C!==4))&&_(v,v.output,v.next_out,A-v.avail_out)?(y.mode=31,-4):(M-=v.avail_in,A-=v.avail_out,v.total_in+=M,v.total_out+=A,y.total+=A,y.wrap&&A&&(v.adler=y.check=y.flags?g(y.check,O,A,v.next_out-A):m(y.check,O,A,v.next_out-A)),v.data_type=y.bits+(y.last?64:0)+(y.mode===12?128:0)+(y.mode===20||y.mode===15?256:0),(M==0&&A===0||C===4)&&xe===0&&(xe=-5),xe)},f.inflateEnd=function(v){if(!v||!v.state)return E;var C=v.state;return C.window&&(C.window=null),v.state=null,0},f.inflateGetHeader=function(v,C){var y;return v&&v.state&&2&(y=v.state).wrap?((y.head=C).done=!1,0):E},f.inflateSetDictionary=function(v,C){var y,w=C.length;return v&&v.state?(y=v.state).wrap!==0&&y.mode!==11?E:y.mode===11&&m(1,C,w,0)!==y.check?-3:_(v,C,w,w)?(y.mode=31,-4):(y.havedict=1,0):E},f.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(u,h,f){var p=u("../utils/common"),m=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],b=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],x=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];h.exports=function(E,D,L,k,R,N,z,V){var S,T,B,_,v,C,y,w,O,P=V.bits,W=0,G=0,K=0,F=0,Y=0,M=0,A=0,j=0,J=0,ae=0,ie=null,re=0,Ce=new p.Buf16(16),ve=new p.Buf16(16),te=null,ge=0;for(W=0;W<=15;W++)Ce[W]=0;for(G=0;G<k;G++)Ce[D[L+G]]++;for(Y=P,F=15;1<=F&&Ce[F]===0;F--);if(F<Y&&(Y=F),F===0)return R[N++]=20971520,R[N++]=20971520,V.bits=1,0;for(K=1;K<F&&Ce[K]===0;K++);for(Y<K&&(Y=K),W=j=1;W<=15;W++)if(j<<=1,(j-=Ce[W])<0)return-1;if(0<j&&(E===0||F!==1))return-1;for(ve[1]=0,W=1;W<15;W++)ve[W+1]=ve[W]+Ce[W];for(G=0;G<k;G++)D[L+G]!==0&&(z[ve[D[L+G]]++]=G);if(C=E===0?(ie=te=z,19):E===1?(ie=m,re-=257,te=g,ge-=257,256):(ie=b,te=x,-1),W=K,v=N,A=G=ae=0,B=-1,_=(J=1<<(M=Y))-1,E===1&&852<J||E===2&&592<J)return 1;for(;;){for(y=W-A,O=z[G]<C?(w=0,z[G]):z[G]>C?(w=te[ge+z[G]],ie[re+z[G]]):(w=96,0),S=1<<W-A,K=T=1<<M;R[v+(ae>>A)+(T-=S)]=y<<24|w<<16|O|0,T!==0;);for(S=1<<W-1;ae&S;)S>>=1;if(S!==0?(ae&=S-1,ae+=S):ae=0,G++,--Ce[W]==0){if(W===F)break;W=D[L+z[G]]}if(Y<W&&(ae&_)!==B){for(A===0&&(A=Y),v+=K,j=1<<(M=W-A);M+A<F&&!((j-=Ce[M+A])<=0);)M++,j<<=1;if(J+=1<<M,E===1&&852<J||E===2&&592<J)return 1;R[B=ae&_]=Y<<24|M<<16|v-N|0}}return ae!==0&&(R[v+ae]=W-A<<24|64<<16|0),V.bits=Y,0}},{"../utils/common":41}],51:[function(u,h,f){h.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(u,h,f){var p=u("../utils/common");function m(te){for(var ge=te.length;0<=--ge;)te[ge]=0}var g=256,b=286,x=30,E=15,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],N=new Array(576);m(N);var z=new Array(60);m(z);var V=new Array(512);m(V);var S=new Array(256);m(S);var T=new Array(29);m(T);var B,_,v,C=new Array(x);function y(te,ge,he,xe,Oe){this.static_tree=te,this.extra_bits=ge,this.extra_base=he,this.elems=xe,this.max_length=Oe,this.has_stree=te&&te.length}function w(te,ge){this.dyn_tree=te,this.max_code=0,this.stat_desc=ge}function O(te){return te<256?V[te]:V[256+(te>>>7)]}function P(te,ge){te.pending_buf[te.pending++]=255&ge,te.pending_buf[te.pending++]=ge>>>8&255}function W(te,ge,he){te.bi_valid>16-he?(te.bi_buf|=ge<<te.bi_valid&65535,P(te,te.bi_buf),te.bi_buf=ge>>16-te.bi_valid,te.bi_valid+=he-16):(te.bi_buf|=ge<<te.bi_valid&65535,te.bi_valid+=he)}function G(te,ge,he){W(te,he[2*ge],he[2*ge+1])}function K(te,ge){for(var he=0;he|=1&te,te>>>=1,he<<=1,0<--ge;);return he>>>1}function F(te,ge,he){var xe,Oe,we=new Array(16),Te=0;for(xe=1;xe<=E;xe++)we[xe]=Te=Te+he[xe-1]<<1;for(Oe=0;Oe<=ge;Oe++){var Xe=te[2*Oe+1];Xe!==0&&(te[2*Oe]=K(we[Xe]++,Xe))}}function Y(te){var ge;for(ge=0;ge<b;ge++)te.dyn_ltree[2*ge]=0;for(ge=0;ge<x;ge++)te.dyn_dtree[2*ge]=0;for(ge=0;ge<19;ge++)te.bl_tree[2*ge]=0;te.dyn_ltree[512]=1,te.opt_len=te.static_len=0,te.last_lit=te.matches=0}function M(te){8<te.bi_valid?P(te,te.bi_buf):0<te.bi_valid&&(te.pending_buf[te.pending++]=te.bi_buf),te.bi_buf=0,te.bi_valid=0}function A(te,ge,he,xe){var Oe=2*ge,we=2*he;return te[Oe]<te[we]||te[Oe]===te[we]&&xe[ge]<=xe[he]}function j(te,ge,he){for(var xe=te.heap[he],Oe=he<<1;Oe<=te.heap_len&&(Oe<te.heap_len&&A(ge,te.heap[Oe+1],te.heap[Oe],te.depth)&&Oe++,!A(ge,xe,te.heap[Oe],te.depth));)te.heap[he]=te.heap[Oe],he=Oe,Oe<<=1;te.heap[he]=xe}function J(te,ge,he){var xe,Oe,we,Te,Xe=0;if(te.last_lit!==0)for(;xe=te.pending_buf[te.d_buf+2*Xe]<<8|te.pending_buf[te.d_buf+2*Xe+1],Oe=te.pending_buf[te.l_buf+Xe],Xe++,xe===0?G(te,Oe,ge):(G(te,(we=S[Oe])+g+1,ge),(Te=D[we])!==0&&W(te,Oe-=T[we],Te),G(te,we=O(--xe),he),(Te=L[we])!==0&&W(te,xe-=C[we],Te)),Xe<te.last_lit;);G(te,256,ge)}function ae(te,ge){var he,xe,Oe,we=ge.dyn_tree,Te=ge.stat_desc.static_tree,Xe=ge.stat_desc.has_stree,Je=ge.stat_desc.elems,nt=-1;for(te.heap_len=0,te.heap_max=573,he=0;he<Je;he++)we[2*he]!==0?(te.heap[++te.heap_len]=nt=he,te.depth[he]=0):we[2*he+1]=0;for(;te.heap_len<2;)we[2*(Oe=te.heap[++te.heap_len]=nt<2?++nt:0)]=1,te.depth[Oe]=0,te.opt_len--,Xe&&(te.static_len-=Te[2*Oe+1]);for(ge.max_code=nt,he=te.heap_len>>1;1<=he;he--)j(te,we,he);for(Oe=Je;he=te.heap[1],te.heap[1]=te.heap[te.heap_len--],j(te,we,1),xe=te.heap[1],te.heap[--te.heap_max]=he,te.heap[--te.heap_max]=xe,we[2*Oe]=we[2*he]+we[2*xe],te.depth[Oe]=(te.depth[he]>=te.depth[xe]?te.depth[he]:te.depth[xe])+1,we[2*he+1]=we[2*xe+1]=Oe,te.heap[1]=Oe++,j(te,we,1),2<=te.heap_len;);te.heap[--te.heap_max]=te.heap[1],function($t,pt){var vt,bi,Ht,gt,Jt,at,ot=pt.dyn_tree,Ai=pt.max_code,Rt=pt.stat_desc.static_tree,ei=pt.stat_desc.has_stree,zs=pt.stat_desc.extra_bits,Yt=pt.stat_desc.extra_base,pi=pt.stat_desc.max_length,lo=0;for(gt=0;gt<=E;gt++)$t.bl_count[gt]=0;for(ot[2*$t.heap[$t.heap_max]+1]=0,vt=$t.heap_max+1;vt<573;vt++)pi<(gt=ot[2*ot[2*(bi=$t.heap[vt])+1]+1]+1)&&(gt=pi,lo++),ot[2*bi+1]=gt,Ai<bi||($t.bl_count[gt]++,Jt=0,Yt<=bi&&(Jt=zs[bi-Yt]),at=ot[2*bi],$t.opt_len+=at*(gt+Jt),ei&&($t.static_len+=at*(Rt[2*bi+1]+Jt)));if(lo!==0){do{for(gt=pi-1;$t.bl_count[gt]===0;)gt--;$t.bl_count[gt]--,$t.bl_count[gt+1]+=2,$t.bl_count[pi]--,lo-=2}while(0<lo);for(gt=pi;gt!==0;gt--)for(bi=$t.bl_count[gt];bi!==0;)Ai<(Ht=$t.heap[--vt])||(ot[2*Ht+1]!==gt&&($t.opt_len+=(gt-ot[2*Ht+1])*ot[2*Ht],ot[2*Ht+1]=gt),bi--)}}(te,ge),F(we,nt,te.bl_count)}function ie(te,ge,he){var xe,Oe,we=-1,Te=ge[1],Xe=0,Je=7,nt=4;for(Te===0&&(Je=138,nt=3),ge[2*(he+1)+1]=65535,xe=0;xe<=he;xe++)Oe=Te,Te=ge[2*(xe+1)+1],++Xe<Je&&Oe===Te||(Xe<nt?te.bl_tree[2*Oe]+=Xe:Oe!==0?(Oe!==we&&te.bl_tree[2*Oe]++,te.bl_tree[32]++):Xe<=10?te.bl_tree[34]++:te.bl_tree[36]++,we=Oe,nt=(Xe=0)===Te?(Je=138,3):Oe===Te?(Je=6,3):(Je=7,4))}function re(te,ge,he){var xe,Oe,we=-1,Te=ge[1],Xe=0,Je=7,nt=4;for(Te===0&&(Je=138,nt=3),xe=0;xe<=he;xe++)if(Oe=Te,Te=ge[2*(xe+1)+1],!(++Xe<Je&&Oe===Te)){if(Xe<nt)for(;G(te,Oe,te.bl_tree),--Xe!=0;);else Oe!==0?(Oe!==we&&(G(te,Oe,te.bl_tree),Xe--),G(te,16,te.bl_tree),W(te,Xe-3,2)):Xe<=10?(G(te,17,te.bl_tree),W(te,Xe-3,3)):(G(te,18,te.bl_tree),W(te,Xe-11,7));we=Oe,nt=(Xe=0)===Te?(Je=138,3):Oe===Te?(Je=6,3):(Je=7,4)}}m(C);var Ce=!1;function ve(te,ge,he,xe){W(te,0+(xe?1:0),3),function(Oe,we,Te,Xe){M(Oe),P(Oe,Te),P(Oe,~Te),p.arraySet(Oe.pending_buf,Oe.window,we,Te,Oe.pending),Oe.pending+=Te}(te,ge,he)}f._tr_init=function(te){Ce||(function(){var ge,he,xe,Oe,we,Te=new Array(16);for(Oe=xe=0;Oe<28;Oe++)for(T[Oe]=xe,ge=0;ge<1<<D[Oe];ge++)S[xe++]=Oe;for(S[xe-1]=Oe,Oe=we=0;Oe<16;Oe++)for(C[Oe]=we,ge=0;ge<1<<L[Oe];ge++)V[we++]=Oe;for(we>>=7;Oe<x;Oe++)for(C[Oe]=we<<7,ge=0;ge<1<<L[Oe]-7;ge++)V[256+we++]=Oe;for(he=0;he<=E;he++)Te[he]=0;for(ge=0;ge<=143;)N[2*ge+1]=8,ge++,Te[8]++;for(;ge<=255;)N[2*ge+1]=9,ge++,Te[9]++;for(;ge<=279;)N[2*ge+1]=7,ge++,Te[7]++;for(;ge<=287;)N[2*ge+1]=8,ge++,Te[8]++;for(F(N,287,Te),ge=0;ge<x;ge++)z[2*ge+1]=5,z[2*ge]=K(ge,5);B=new y(N,D,257,b,E),_=new y(z,L,0,x,E),v=new y(new Array(0),k,0,19,7)}(),Ce=!0),te.l_desc=new w(te.dyn_ltree,B),te.d_desc=new w(te.dyn_dtree,_),te.bl_desc=new w(te.bl_tree,v),te.bi_buf=0,te.bi_valid=0,Y(te)},f._tr_stored_block=ve,f._tr_flush_block=function(te,ge,he,xe){var Oe,we,Te=0;0<te.level?(te.strm.data_type===2&&(te.strm.data_type=function(Xe){var Je,nt=4093624447;for(Je=0;Je<=31;Je++,nt>>>=1)if(1&nt&&Xe.dyn_ltree[2*Je]!==0)return 0;if(Xe.dyn_ltree[18]!==0||Xe.dyn_ltree[20]!==0||Xe.dyn_ltree[26]!==0)return 1;for(Je=32;Je<g;Je++)if(Xe.dyn_ltree[2*Je]!==0)return 1;return 0}(te)),ae(te,te.l_desc),ae(te,te.d_desc),Te=function(Xe){var Je;for(ie(Xe,Xe.dyn_ltree,Xe.l_desc.max_code),ie(Xe,Xe.dyn_dtree,Xe.d_desc.max_code),ae(Xe,Xe.bl_desc),Je=18;3<=Je&&Xe.bl_tree[2*R[Je]+1]===0;Je--);return Xe.opt_len+=3*(Je+1)+5+5+4,Je}(te),Oe=te.opt_len+3+7>>>3,(we=te.static_len+3+7>>>3)<=Oe&&(Oe=we)):Oe=we=he+5,he+4<=Oe&&ge!==-1?ve(te,ge,he,xe):te.strategy===4||we===Oe?(W(te,2+(xe?1:0),3),J(te,N,z)):(W(te,4+(xe?1:0),3),function(Xe,Je,nt,$t){var pt;for(W(Xe,Je-257,5),W(Xe,nt-1,5),W(Xe,$t-4,4),pt=0;pt<$t;pt++)W(Xe,Xe.bl_tree[2*R[pt]+1],3);re(Xe,Xe.dyn_ltree,Je-1),re(Xe,Xe.dyn_dtree,nt-1)}(te,te.l_desc.max_code+1,te.d_desc.max_code+1,Te+1),J(te,te.dyn_ltree,te.dyn_dtree)),Y(te),xe&&M(te)},f._tr_tally=function(te,ge,he){return te.pending_buf[te.d_buf+2*te.last_lit]=ge>>>8&255,te.pending_buf[te.d_buf+2*te.last_lit+1]=255&ge,te.pending_buf[te.l_buf+te.last_lit]=255&he,te.last_lit++,ge===0?te.dyn_ltree[2*he]++:(te.matches++,ge--,te.dyn_ltree[2*(S[he]+g+1)]++,te.dyn_dtree[2*O(ge)]++),te.last_lit===te.lit_bufsize-1},f._tr_align=function(te){W(te,2,3),G(te,256,N),function(ge){ge.bi_valid===16?(P(ge,ge.bi_buf),ge.bi_buf=0,ge.bi_valid=0):8<=ge.bi_valid&&(ge.pending_buf[ge.pending++]=255&ge.bi_buf,ge.bi_buf>>=8,ge.bi_valid-=8)}(te)}},{"../utils/common":41}],53:[function(u,h,f){h.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(u,h,f){(function(p){(function(m,g){if(!m.setImmediate){var b,x,E,D,L=1,k={},R=!1,N=m.document,z=Object.getPrototypeOf&&Object.getPrototypeOf(m);z=z&&z.setTimeout?z:m,b={}.toString.call(m.process)==="[object process]"?function(B){n.nextTick(function(){S(B)})}:function(){if(m.postMessage&&!m.importScripts){var B=!0,_=m.onmessage;return m.onmessage=function(){B=!1},m.postMessage("","*"),m.onmessage=_,B}}()?(D="setImmediate$"+Math.random()+"$",m.addEventListener?m.addEventListener("message",T,!1):m.attachEvent("onmessage",T),function(B){m.postMessage(D+B,"*")}):m.MessageChannel?((E=new MessageChannel).port1.onmessage=function(B){S(B.data)},function(B){E.port2.postMessage(B)}):N&&"onreadystatechange"in N.createElement("script")?(x=N.documentElement,function(B){var _=N.createElement("script");_.onreadystatechange=function(){S(B),_.onreadystatechange=null,x.removeChild(_),_=null},x.appendChild(_)}):function(B){setTimeout(S,0,B)},z.setImmediate=function(B){typeof B!="function"&&(B=new Function(""+B));for(var _=new Array(arguments.length-1),v=0;v<_.length;v++)_[v]=arguments[v+1];var C={callback:B,args:_};return k[L]=C,b(L),L++},z.clearImmediate=V}function V(B){delete k[B]}function S(B){if(R)setTimeout(S,0,B);else{var _=k[B];if(_){R=!0;try{(function(v){var C=v.callback,y=v.args;switch(y.length){case 0:C();break;case 1:C(y[0]);break;case 2:C(y[0],y[1]);break;case 3:C(y[0],y[1],y[2]);break;default:C.apply(void 0,y)}})(_)}finally{V(B),R=!1}}}}function T(B){B.source===m&&typeof B.data=="string"&&B.data.indexOf(D)===0&&S(+B.data.slice(D.length))}})(typeof self>"u"?p===void 0?this:p:self)}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,i("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},i("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],i("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(i,e,t){(function(n){(function(){"use strict";var o=/[\\^$.*+?()[\]{}|]/g,r=RegExp(o.source),s=typeof n=="object"&&n&&n.Object===Object&&n,a=typeof self=="object"&&self&&self.Object===Object&&self,l=s||a||Function("return this")(),d=Object.prototype.toString,c=l.Symbol,u=c?c.prototype:void 0,h=u?u.toString:void 0;function f(p){if(typeof p=="string")return p;if(function(g){return typeof g=="symbol"||function(b){return!!b&&typeof b=="object"}(g)&&d.call(g)=="[object Symbol]"}(p))return h?h.call(p):"";var m=p+"";return m=="0"&&1/p==-1/0?"-0":m}e.exports=function(p){var m;return(p=(m=p)==null?"":f(m))&&r.test(p)?p.replace(o,"\\$&"):p}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(i,e,t){(function(n){(function(){"use strict";var o="[object Arguments]",r="[object Map]",s="[object Object]",a="[object Set]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/,c=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,f=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,m={};m["[object Float32Array]"]=m["[object Float64Array]"]=m["[object Int8Array]"]=m["[object Int16Array]"]=m["[object Int32Array]"]=m["[object Uint8Array]"]=m["[object Uint8ClampedArray]"]=m["[object Uint16Array]"]=m["[object Uint32Array]"]=!0,m[o]=m["[object Array]"]=m["[object ArrayBuffer]"]=m["[object Boolean]"]=m["[object DataView]"]=m["[object Date]"]=m["[object Error]"]=m["[object Function]"]=m[r]=m["[object Number]"]=m[s]=m["[object RegExp]"]=m[a]=m["[object String]"]=m["[object WeakMap]"]=!1;var g=typeof n=="object"&&n&&n.Object===Object&&n,b=typeof self=="object"&&self&&self.Object===Object&&self,x=g||b||Function("return this")(),E=typeof t=="object"&&t&&!t.nodeType&&t,D=E&&typeof e=="object"&&e&&!e.nodeType&&e,L=D&&D.exports===E&&g.process,k=function(){try{return L&&L.binding("util")}catch{}}(),R=k&&k.isTypedArray;function N(ce,Ae,Ye,He){for(var dt=-1,Vt=ce?ce.length:0;++dt<Vt;){var kt=ce[dt];Ae(He,kt,Ye(kt),ce)}return He}function z(ce,Ae){for(var Ye=-1,He=ce?ce.length:0;++Ye<He;)if(Ae(ce[Ye],Ye,ce))return!0;return!1}function V(ce){var Ae=!1;if(ce!=null&&typeof ce.toString!="function")try{Ae=!!(ce+"")}catch{}return Ae}function S(ce){var Ae=-1,Ye=Array(ce.size);return ce.forEach(function(He,dt){Ye[++Ae]=[dt,He]}),Ye}function T(ce){var Ae=-1,Ye=Array(ce.size);return ce.forEach(function(He){Ye[++Ae]=He}),Ye}var B,_,v,C=Array.prototype,y=Function.prototype,w=Object.prototype,O=x["__core-js_shared__"],P=(B=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+B:"",W=y.toString,G=w.hasOwnProperty,K=w.toString,F=RegExp("^"+W.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=x.Symbol,M=x.Uint8Array,A=w.propertyIsEnumerable,j=C.splice,J=(_=Object.keys,v=Object,function(ce){return _(v(ce))}),ae=zt(x,"DataView"),ie=zt(x,"Map"),re=zt(x,"Promise"),Ce=zt(x,"Set"),ve=zt(x,"WeakMap"),te=zt(Object,"create"),ge=Re(ae),he=Re(ie),xe=Re(re),Oe=Re(Ce),we=Re(ve),Te=Y?Y.prototype:void 0,Xe=Te?Te.valueOf:void 0,Je=Te?Te.toString:void 0;function nt(ce){var Ae=-1,Ye=ce?ce.length:0;for(this.clear();++Ae<Ye;){var He=ce[Ae];this.set(He[0],He[1])}}function $t(ce){var Ae=-1,Ye=ce?ce.length:0;for(this.clear();++Ae<Ye;){var He=ce[Ae];this.set(He[0],He[1])}}function pt(ce){var Ae=-1,Ye=ce?ce.length:0;for(this.clear();++Ae<Ye;){var He=ce[Ae];this.set(He[0],He[1])}}function vt(ce){var Ae=-1,Ye=ce?ce.length:0;for(this.__data__=new pt;++Ae<Ye;)this.add(ce[Ae])}function bi(ce){this.__data__=new $t(ce)}function Ht(ce,Ae){var Ye=Dt(ce)||si(ce)?function(kt,Qi){for(var Ei=-1,vi=Array(kt);++Ei<kt;)vi[Ei]=Qi(Ei);return vi}(ce.length,String):[],He=Ye.length,dt=!!He;for(var Vt in ce)!Ae&&!G.call(ce,Vt)||dt&&(Vt=="length"||Ci(Vt,He))||Ye.push(Vt);return Ye}function gt(ce,Ae){for(var Ye=ce.length;Ye--;)if(Ni(ce[Ye][0],Ae))return Ye;return-1}function Jt(ce,Ae,Ye,He){return Ai(ce,function(dt,Vt,kt){Ae(He,dt,Ye(dt),kt)}),He}nt.prototype.clear=function(){this.__data__=te?te(null):{}},nt.prototype.delete=function(ce){return this.has(ce)&&delete this.__data__[ce]},nt.prototype.get=function(ce){var Ae=this.__data__;if(te){var Ye=Ae[ce];return Ye==="__lodash_hash_undefined__"?void 0:Ye}return G.call(Ae,ce)?Ae[ce]:void 0},nt.prototype.has=function(ce){var Ae=this.__data__;return te?Ae[ce]!==void 0:G.call(Ae,ce)},nt.prototype.set=function(ce,Ae){return this.__data__[ce]=te&&Ae===void 0?"__lodash_hash_undefined__":Ae,this},$t.prototype.clear=function(){this.__data__=[]},$t.prototype.delete=function(ce){var Ae=this.__data__,Ye=gt(Ae,ce);return!(Ye<0)&&(Ye==Ae.length-1?Ae.pop():j.call(Ae,Ye,1),!0)},$t.prototype.get=function(ce){var Ae=this.__data__,Ye=gt(Ae,ce);return Ye<0?void 0:Ae[Ye][1]},$t.prototype.has=function(ce){return gt(this.__data__,ce)>-1},$t.prototype.set=function(ce,Ae){var Ye=this.__data__,He=gt(Ye,ce);return He<0?Ye.push([ce,Ae]):Ye[He][1]=Ae,this},pt.prototype.clear=function(){this.__data__={hash:new nt,map:new(ie||$t),string:new nt}},pt.prototype.delete=function(ce){return _i(this,ce).delete(ce)},pt.prototype.get=function(ce){return _i(this,ce).get(ce)},pt.prototype.has=function(ce){return _i(this,ce).has(ce)},pt.prototype.set=function(ce,Ae){return _i(this,ce).set(ce,Ae),this},vt.prototype.add=vt.prototype.push=function(ce){return this.__data__.set(ce,"__lodash_hash_undefined__"),this},vt.prototype.has=function(ce){return this.__data__.has(ce)},bi.prototype.clear=function(){this.__data__=new $t},bi.prototype.delete=function(ce){return this.__data__.delete(ce)},bi.prototype.get=function(ce){return this.__data__.get(ce)},bi.prototype.has=function(ce){return this.__data__.has(ce)},bi.prototype.set=function(ce,Ae){var Ye=this.__data__;if(Ye instanceof $t){var He=Ye.__data__;if(!ie||He.length<199)return He.push([ce,Ae]),this;Ye=this.__data__=new pt(He)}return Ye.set(ce,Ae),this};var at,ot,Ai=(at=function(ce,Ae){return ce&&Rt(ce,Ae,Ho)},function(ce,Ae){if(ce==null)return ce;if(!Cn(ce))return at(ce,Ae);for(var Ye=ce.length,He=ot?Ye:-1,dt=Object(ce);(ot?He--:++He<Ye)&&Ae(dt[He],He,dt)!==!1;);return ce}),Rt=function(ce){return function(Ae,Ye,He){for(var dt=-1,Vt=Object(Ae),kt=He(Ae),Qi=kt.length;Qi--;){var Ei=kt[ce?Qi:++dt];if(Ye(Vt[Ei],Ei,Vt)===!1)break}return Ae}}();function ei(ce,Ae){for(var Ye=0,He=(Ae=fi(Ae,ce)?[Ae]:ti(Ae)).length;ce!=null&&Ye<He;)ce=ce[Me(Ae[Ye++])];return Ye&&Ye==He?ce:void 0}function zs(ce,Ae){return ce!=null&&Ae in Object(ce)}function Yt(ce,Ae,Ye,He,dt){return ce===Ae||(ce==null||Ae==null||!Mn(ce)&&!mo(Ae)?ce!=ce&&Ae!=Ae:function(Vt,kt,Qi,Ei,vi,wi){var go=Dt(Vt),wo=Dt(kt),wn="[object Array]",Nn="[object Array]";go||(wn=(wn=Ao(Vt))==o?s:wn),wo||(Nn=(Nn=Ao(kt))==o?s:Nn);var vr=wn==s&&!V(Vt),Ji=Nn==s&&!V(kt),ys=wn==Nn;if(ys&&!vr)return wi||(wi=new bi),go||ko(Vt)?Co(Vt,kt,Qi,Ei,vi,wi):function(vn,Sn,Wd,Pl,Ud,mn,Ka){switch(Wd){case"[object DataView]":if(vn.byteLength!=Sn.byteLength||vn.byteOffset!=Sn.byteOffset)return!1;vn=vn.buffer,Sn=Sn.buffer;case"[object ArrayBuffer]":return!(vn.byteLength!=Sn.byteLength||!Pl(new M(vn),new M(Sn)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ni(+vn,+Sn);case"[object Error]":return vn.name==Sn.name&&vn.message==Sn.message;case"[object RegExp]":case"[object String]":return vn==Sn+"";case r:var Ll=S;case a:var ep=2&mn;if(Ll||(Ll=T),vn.size!=Sn.size&&!ep)return!1;var tp=Ka.get(vn);if(tp)return tp==Sn;mn|=1,Ka.set(vn,Sn);var pu=Co(Ll(vn),Ll(Sn),Pl,Ud,mn,Ka);return Ka.delete(vn),pu;case"[object Symbol]":if(Xe)return Xe.call(vn)==Xe.call(Sn)}return!1}(Vt,kt,wn,Qi,Ei,vi,wi);if(!(2&vi)){var sa=vr&&G.call(Vt,"__wrapped__"),$d=Ji&&G.call(kt,"__wrapped__");if(sa||$d){var yf=sa?Vt.value():Vt,hu=$d?kt.value():kt;return wi||(wi=new bi),Qi(yf,hu,Ei,vi,wi)}}return ys?(wi||(wi=new bi),function(vn,Sn,Wd,Pl,Ud,mn){var Ka=2&Ud,Ll=Ho(vn),ep=Ll.length,tp=Ho(Sn).length;if(ep!=tp&&!Ka)return!1;for(var pu=ep;pu--;){var Nl=Ll[pu];if(!(Ka?Nl in Sn:G.call(Sn,Nl)))return!1}var wy=mn.get(vn);if(wy&&mn.get(Sn))return wy==Sn;var ip=!0;mn.set(vn,Sn),mn.set(Sn,vn);for(var f_=Ka;++pu<ep;){Nl=Ll[pu];var np=vn[Nl],xf=Sn[Nl];if(Pl)var Sy=Ka?Pl(xf,np,Nl,Sn,vn,mn):Pl(np,xf,Nl,vn,Sn,mn);if(!(Sy===void 0?np===xf||Wd(np,xf,Pl,Ud,mn):Sy)){ip=!1;break}f_||(f_=Nl=="constructor")}if(ip&&!f_){var Cf=vn.constructor,wf=Sn.constructor;Cf==wf||!("constructor"in vn)||!("constructor"in Sn)||typeof Cf=="function"&&Cf instanceof Cf&&typeof wf=="function"&&wf instanceof wf||(ip=!1)}return mn.delete(vn),mn.delete(Sn),ip}(Vt,kt,Qi,Ei,vi,wi)):!1}(ce,Ae,Yt,Ye,He,dt))}function pi(ce){return!(!Mn(ce)||function(Ae){return!!P&&P in Ae}(ce))&&($i(ce)||V(ce)?F:f).test(Re(ce))}function lo(ce){return typeof ce=="function"?ce:ce==null?Sr:typeof ce=="object"?Dt(ce)?function(He,dt){return fi(He)&&Li(dt)?di(Me(He),dt):function(Vt){var kt=function(Qi,Ei,vi){var wi=Qi==null?void 0:ei(Qi,Ei);return wi===void 0?vi:wi}(Vt,He);return kt===void 0&&kt===dt?function(Qi,Ei){return Qi!=null&&function(vi,wi,go){wi=fi(wi,vi)?[wi]:ti(wi);for(var wo,wn=-1,Nn=wi.length;++wn<Nn;){var vr=Me(wi[wn]);if(!(wo=vi!=null&&go(vi,vr)))break;vi=vi[vr]}return wo||!!(Nn=vi?vi.length:0)&&Yi(Nn)&&Ci(vr,Nn)&&(Dt(vi)||si(vi))}(Qi,Ei,zs)}(Vt,He):Yt(dt,kt,void 0,3)}}(ce[0],ce[1]):function(He){var dt=function(Vt){for(var kt=Ho(Vt),Qi=kt.length;Qi--;){var Ei=kt[Qi],vi=Vt[Ei];kt[Qi]=[Ei,vi,Li(vi)]}return kt}(He);return dt.length==1&&dt[0][2]?di(dt[0][0],dt[0][1]):function(Vt){return Vt===He||function(kt,Qi,Ei,vi){var wi=Ei.length,go=wi,wo=!vi;if(kt==null)return!go;for(kt=Object(kt);wi--;){var wn=Ei[wi];if(wo&&wn[2]?wn[1]!==kt[wn[0]]:!(wn[0]in kt))return!1}for(;++wi<go;){var Nn=(wn=Ei[wi])[0],vr=kt[Nn],Ji=wn[1];if(wo&&wn[2]){if(vr===void 0&&!(Nn in kt))return!1}else{var ys=new bi;if(vi)var sa=vi(vr,Ji,Nn,kt,Qi,ys);if(!(sa===void 0?Yt(Ji,vr,vi,3,ys):sa))return!1}}return!0}(Vt,He,dt)}}(ce):fi(Ae=ce)?(Ye=Me(Ae),function(He){return He?.[Ye]}):function(He){return function(dt){return ei(dt,He)}}(Ae);var Ae,Ye}function Si(ce){if(Ye=(Ae=ce)&&Ae.constructor,He=typeof Ye=="function"&&Ye.prototype||w,Ae!==He)return J(ce);var Ae,Ye,He,dt=[];for(var Vt in Object(ce))G.call(ce,Vt)&&Vt!="constructor"&&dt.push(Vt);return dt}function ti(ce){return Dt(ce)?ce:fe(ce)}function Co(ce,Ae,Ye,He,dt,Vt){var kt=2&dt,Qi=ce.length,Ei=Ae.length;if(Qi!=Ei&&!(kt&&Ei>Qi))return!1;var vi=Vt.get(ce);if(vi&&Vt.get(Ae))return vi==Ae;var wi=-1,go=!0,wo=1&dt?new vt:void 0;for(Vt.set(ce,Ae),Vt.set(Ae,ce);++wi<Qi;){var wn=ce[wi],Nn=Ae[wi];if(He)var vr=kt?He(Nn,wn,wi,Ae,ce,Vt):He(wn,Nn,wi,ce,Ae,Vt);if(vr!==void 0){if(vr)continue;go=!1;break}if(wo){if(!z(Ae,function(Ji,ys){if(!wo.has(ys)&&(wn===Ji||Ye(wn,Ji,He,dt,Vt)))return wo.add(ys)})){go=!1;break}}else if(wn!==Nn&&!Ye(wn,Nn,He,dt,Vt)){go=!1;break}}return Vt.delete(ce),Vt.delete(Ae),go}function _i(ce,Ae){var Ye,He,dt=ce.__data__;return((He=typeof(Ye=Ae))=="string"||He=="number"||He=="symbol"||He=="boolean"?Ye!=="__proto__":Ye===null)?dt[typeof Ae=="string"?"string":"hash"]:dt.map}function zt(ce,Ae){var Ye=function(He,dt){return He?.[dt]}(ce,Ae);return pi(Ye)?Ye:void 0}var Ao=function(ce){return K.call(ce)};function Ci(ce,Ae){return!!(Ae=Ae??9007199254740991)&&(typeof ce=="number"||p.test(ce))&&ce>-1&&ce%1==0&&ce<Ae}function fi(ce,Ae){if(Dt(ce))return!1;var Ye=typeof ce;return!(Ye!="number"&&Ye!="symbol"&&Ye!="boolean"&&ce!=null&&!Zo(ce))||d.test(ce)||!l.test(ce)||Ae!=null&&ce in Object(Ae)}function Li(ce){return ce==ce&&!Mn(ce)}function di(ce,Ae){return function(Ye){return Ye!=null&&Ye[ce]===Ae&&(Ae!==void 0||ce in Object(Ye))}}(ae&&Ao(new ae(new ArrayBuffer(1)))!="[object DataView]"||ie&&Ao(new ie)!=r||re&&Ao(re.resolve())!="[object Promise]"||Ce&&Ao(new Ce)!=a||ve&&Ao(new ve)!="[object WeakMap]")&&(Ao=function(ce){var Ae=K.call(ce),Ye=Ae==s?ce.constructor:void 0,He=Ye?Re(Ye):void 0;if(He)switch(He){case ge:return"[object DataView]";case he:return r;case xe:return"[object Promise]";case Oe:return a;case we:return"[object WeakMap]"}return Ae});var fe=Ot(function(ce){var Ae;ce=(Ae=ce)==null?"":function(He){if(typeof He=="string")return He;if(Zo(He))return Je?Je.call(He):"";var dt=He+"";return dt=="0"&&1/He==-1/0?"-0":dt}(Ae);var Ye=[];return c.test(ce)&&Ye.push(""),ce.replace(u,function(He,dt,Vt,kt){Ye.push(Vt?kt.replace(h,"$1"):dt||He)}),Ye});function Me(ce){if(typeof ce=="string"||Zo(ce))return ce;var Ae=ce+"";return Ae=="0"&&1/ce==-1/0?"-0":Ae}function Re(ce){if(ce!=null){try{return W.call(ce)}catch{}try{return ce+""}catch{}}return""}var Ue,nn,mt=(Ue=function(ce,Ae,Ye){G.call(ce,Ye)?ce[Ye].push(Ae):ce[Ye]=[Ae]},function(ce,Ae){var Ye=Dt(ce)?N:Jt,He=nn?nn():{};return Ye(ce,Ue,lo(Ae),He)});function Ot(ce,Ae){if(typeof ce!="function"||Ae&&typeof Ae!="function")throw new TypeError("Expected a function");var Ye=function(){var He=arguments,dt=Ae?Ae.apply(this,He):He[0],Vt=Ye.cache;if(Vt.has(dt))return Vt.get(dt);var kt=ce.apply(this,He);return Ye.cache=Vt.set(dt,kt),kt};return Ye.cache=new(Ot.Cache||pt),Ye}function Ni(ce,Ae){return ce===Ae||ce!=ce&&Ae!=Ae}function si(ce){return function(Ae){return mo(Ae)&&Cn(Ae)}(ce)&&G.call(ce,"callee")&&(!A.call(ce,"callee")||K.call(ce)==o)}Ot.Cache=pt;var Dt=Array.isArray;function Cn(ce){return ce!=null&&Yi(ce.length)&&!$i(ce)}function $i(ce){var Ae=Mn(ce)?K.call(ce):"";return Ae=="[object Function]"||Ae=="[object GeneratorFunction]"}function Yi(ce){return typeof ce=="number"&&ce>-1&&ce%1==0&&ce<=9007199254740991}function Mn(ce){var Ae=typeof ce;return!!ce&&(Ae=="object"||Ae=="function")}function mo(ce){return!!ce&&typeof ce=="object"}function Zo(ce){return typeof ce=="symbol"||mo(ce)&&K.call(ce)=="[object Symbol]"}var ko=R?function(ce){return function(Ae){return ce(Ae)}}(R):function(ce){return mo(ce)&&Yi(ce.length)&&!!m[K.call(ce)]};function Ho(ce){return Cn(ce)?Ht(ce):Si(ce)}function Sr(ce){return ce}e.exports=mt}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(i,e,t){"use strict";var n=Object.prototype.toString;e.exports=function(o){return o===!0||o===!1||function(r){return!!r&&typeof r=="object"}(o)&&n.call(o)=="[object Boolean]"}},{}],445:[function(i,e,t){(function(n){(function(){"use strict";var o="[object Arguments]",r="[object Map]",s="[object Object]",a="[object Set]",l=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[o]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c[r]=c["[object Number]"]=c[s]=c["[object RegExp]"]=c[a]=c["[object String]"]=c["[object WeakMap]"]=!1;var u=typeof n=="object"&&n&&n.Object===Object&&n,h=typeof self=="object"&&self&&self.Object===Object&&self,f=u||h||Function("return this")(),p=typeof t=="object"&&t&&!t.nodeType&&t,m=p&&typeof e=="object"&&e&&!e.nodeType&&e,g=m&&m.exports===p,b=g&&u.process,x=function(){try{return b&&b.binding&&b.binding("util")}catch{}}(),E=x&&x.isTypedArray;function D(fe,Me){for(var Re=-1,Ue=fe==null?0:fe.length;++Re<Ue;)if(Me(fe[Re],Re,fe))return!0;return!1}function L(fe){var Me=-1,Re=Array(fe.size);return fe.forEach(function(Ue,nn){Re[++Me]=[nn,Ue]}),Re}function k(fe){var Me=-1,Re=Array(fe.size);return fe.forEach(function(Ue){Re[++Me]=Ue}),Re}var R,N,z,V=Array.prototype,S=Function.prototype,T=Object.prototype,B=f["__core-js_shared__"],_=S.toString,v=T.hasOwnProperty,C=(R=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||""))?"Symbol(src)_1."+R:"",y=T.toString,w=RegExp("^"+_.call(v).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=g?f.Buffer:void 0,P=f.Symbol,W=f.Uint8Array,G=T.propertyIsEnumerable,K=V.splice,F=P?P.toStringTag:void 0,Y=Object.getOwnPropertySymbols,M=O?O.isBuffer:void 0,A=(N=Object.keys,z=Object,function(fe){return N(z(fe))}),j=ei(f,"DataView"),J=ei(f,"Map"),ae=ei(f,"Promise"),ie=ei(f,"Set"),re=ei(f,"WeakMap"),Ce=ei(Object,"create"),ve=lo(j),te=lo(J),ge=lo(ae),he=lo(ie),xe=lo(re),Oe=P?P.prototype:void 0,we=Oe?Oe.valueOf:void 0;function Te(fe){var Me=-1,Re=fe==null?0:fe.length;for(this.clear();++Me<Re;){var Ue=fe[Me];this.set(Ue[0],Ue[1])}}function Xe(fe){var Me=-1,Re=fe==null?0:fe.length;for(this.clear();++Me<Re;){var Ue=fe[Me];this.set(Ue[0],Ue[1])}}function Je(fe){var Me=-1,Re=fe==null?0:fe.length;for(this.clear();++Me<Re;){var Ue=fe[Me];this.set(Ue[0],Ue[1])}}function nt(fe){var Me=-1,Re=fe==null?0:fe.length;for(this.__data__=new Je;++Me<Re;)this.add(fe[Me])}function $t(fe){var Me=this.__data__=new Xe(fe);this.size=Me.size}function pt(fe,Me){var Re=Co(fe),Ue=!Re&&ti(fe),nn=!Re&&!Ue&&_i(fe),mt=!Re&&!Ue&&!nn&&Li(fe),Ot=Re||Ue||nn||mt,Ni=Ot?function(Cn,$i){for(var Yi=-1,Mn=Array(Cn);++Yi<Cn;)Mn[Yi]=$i(Yi);return Mn}(fe.length,String):[],si=Ni.length;for(var Dt in fe)!Me&&!v.call(fe,Dt)||Ot&&(Dt=="length"||nn&&(Dt=="offset"||Dt=="parent")||mt&&(Dt=="buffer"||Dt=="byteLength"||Dt=="byteOffset")||pi(Dt,si))||Ni.push(Dt);return Ni}function vt(fe,Me){for(var Re=fe.length;Re--;)if(Si(fe[Re][0],Me))return Re;return-1}function bi(fe){return fe==null?fe===void 0?"[object Undefined]":"[object Null]":F&&F in Object(fe)?function(Me){var Re=v.call(Me,F),Ue=Me[F];try{Me[F]=void 0;var nn=!0}catch{}var mt=y.call(Me);return nn&&(Re?Me[F]=Ue:delete Me[F]),mt}(fe):function(Me){return y.call(Me)}(fe)}function Ht(fe){return fi(fe)&&bi(fe)==o}function gt(fe,Me,Re,Ue,nn){return fe===Me||(fe==null||Me==null||!fi(fe)&&!fi(Me)?fe!=fe&&Me!=Me:function(mt,Ot,Ni,si,Dt,Cn){var $i=Co(mt),Yi=Co(Ot),Mn=$i?"[object Array]":Yt(mt),mo=Yi?"[object Array]":Yt(Ot),Zo=(Mn=Mn==o?s:Mn)==s,ko=(mo=mo==o?s:mo)==s,Ho=Mn==mo;if(Ho&&_i(mt)){if(!_i(Ot))return!1;$i=!0,Zo=!1}if(Ho&&!Zo)return Cn||(Cn=new $t),$i||Li(mt)?ot(mt,Ot,Ni,si,Dt,Cn):function(He,dt,Vt,kt,Qi,Ei,vi){switch(Vt){case"[object DataView]":if(He.byteLength!=dt.byteLength||He.byteOffset!=dt.byteOffset)return!1;He=He.buffer,dt=dt.buffer;case"[object ArrayBuffer]":return!(He.byteLength!=dt.byteLength||!Ei(new W(He),new W(dt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Si(+He,+dt);case"[object Error]":return He.name==dt.name&&He.message==dt.message;case"[object RegExp]":case"[object String]":return He==dt+"";case r:var wi=L;case a:var go=1&kt;if(wi||(wi=k),He.size!=dt.size&&!go)return!1;var wo=vi.get(He);if(wo)return wo==dt;kt|=2,vi.set(He,dt);var wn=ot(wi(He),wi(dt),kt,Qi,Ei,vi);return vi.delete(He),wn;case"[object Symbol]":if(we)return we.call(He)==we.call(dt)}return!1}(mt,Ot,Mn,Ni,si,Dt,Cn);if(!(1&Ni)){var Sr=Zo&&v.call(mt,"__wrapped__"),ce=ko&&v.call(Ot,"__wrapped__");if(Sr||ce){var Ae=Sr?mt.value():mt,Ye=ce?Ot.value():Ot;return Cn||(Cn=new $t),Dt(Ae,Ye,Ni,si,Cn)}}return Ho?(Cn||(Cn=new $t),function(He,dt,Vt,kt,Qi,Ei){var vi=1&Vt,wi=Ai(He),go=wi.length,wo=Ai(dt).length;if(go!=wo&&!vi)return!1;for(var wn=go;wn--;){var Nn=wi[wn];if(!(vi?Nn in dt:v.call(dt,Nn)))return!1}var vr=Ei.get(He);if(vr&&Ei.get(dt))return vr==dt;var Ji=!0;Ei.set(He,dt),Ei.set(dt,He);for(var ys=vi;++wn<go;){Nn=wi[wn];var sa=He[Nn],$d=dt[Nn];if(kt)var yf=vi?kt($d,sa,Nn,dt,He,Ei):kt(sa,$d,Nn,He,dt,Ei);if(!(yf===void 0?sa===$d||Qi(sa,$d,Vt,kt,Ei):yf)){Ji=!1;break}ys||(ys=Nn=="constructor")}if(Ji&&!ys){var hu=He.constructor,vn=dt.constructor;hu==vn||!("constructor"in He)||!("constructor"in dt)||typeof hu=="function"&&hu instanceof hu&&typeof vn=="function"&&vn instanceof vn||(Ji=!1)}return Ei.delete(He),Ei.delete(dt),Ji}(mt,Ot,Ni,si,Dt,Cn)):!1}(fe,Me,Re,Ue,gt,nn))}function Jt(fe){return!(!Ci(fe)||function(Me){return!!C&&C in Me}(fe))&&(zt(fe)?w:l).test(lo(fe))}function at(fe){if(Re=(Me=fe)&&Me.constructor,Ue=typeof Re=="function"&&Re.prototype||T,Me!==Ue)return A(fe);var Me,Re,Ue,nn=[];for(var mt in Object(fe))v.call(fe,mt)&&mt!="constructor"&&nn.push(mt);return nn}function ot(fe,Me,Re,Ue,nn,mt){var Ot=1&Re,Ni=fe.length,si=Me.length;if(Ni!=si&&!(Ot&&si>Ni))return!1;var Dt=mt.get(fe);if(Dt&&mt.get(Me))return Dt==Me;var Cn=-1,$i=!0,Yi=2&Re?new nt:void 0;for(mt.set(fe,Me),mt.set(Me,fe);++Cn<Ni;){var Mn=fe[Cn],mo=Me[Cn];if(Ue)var Zo=Ot?Ue(mo,Mn,Cn,Me,fe,mt):Ue(Mn,mo,Cn,fe,Me,mt);if(Zo!==void 0){if(Zo)continue;$i=!1;break}if(Yi){if(!D(Me,function(ko,Ho){if(Sr=Ho,!Yi.has(Sr)&&(Mn===ko||nn(Mn,ko,Re,Ue,mt)))return Yi.push(Ho);var Sr})){$i=!1;break}}else if(Mn!==mo&&!nn(Mn,mo,Re,Ue,mt)){$i=!1;break}}return mt.delete(fe),mt.delete(Me),$i}function Ai(fe){return function(Me,Re,Ue){var nn=Re(Me);return Co(Me)?nn:function(mt,Ot){for(var Ni=-1,si=Ot.length,Dt=mt.length;++Ni<si;)mt[Dt+Ni]=Ot[Ni];return mt}(nn,Ue(Me))}(fe,di,zs)}function Rt(fe,Me){var Re,Ue,nn=fe.__data__;return((Ue=typeof(Re=Me))=="string"||Ue=="number"||Ue=="symbol"||Ue=="boolean"?Re!=="__proto__":Re===null)?nn[typeof Me=="string"?"string":"hash"]:nn.map}function ei(fe,Me){var Re=function(Ue,nn){return Ue?.[nn]}(fe,Me);return Jt(Re)?Re:void 0}Te.prototype.clear=function(){this.__data__=Ce?Ce(null):{},this.size=0},Te.prototype.delete=function(fe){var Me=this.has(fe)&&delete this.__data__[fe];return this.size-=Me?1:0,Me},Te.prototype.get=function(fe){var Me=this.__data__;if(Ce){var Re=Me[fe];return Re==="__lodash_hash_undefined__"?void 0:Re}return v.call(Me,fe)?Me[fe]:void 0},Te.prototype.has=function(fe){var Me=this.__data__;return Ce?Me[fe]!==void 0:v.call(Me,fe)},Te.prototype.set=function(fe,Me){var Re=this.__data__;return this.size+=this.has(fe)?0:1,Re[fe]=Ce&&Me===void 0?"__lodash_hash_undefined__":Me,this},Xe.prototype.clear=function(){this.__data__=[],this.size=0},Xe.prototype.delete=function(fe){var Me=this.__data__,Re=vt(Me,fe);return!(Re<0)&&(Re==Me.length-1?Me.pop():K.call(Me,Re,1),--this.size,!0)},Xe.prototype.get=function(fe){var Me=this.__data__,Re=vt(Me,fe);return Re<0?void 0:Me[Re][1]},Xe.prototype.has=function(fe){return vt(this.__data__,fe)>-1},Xe.prototype.set=function(fe,Me){var Re=this.__data__,Ue=vt(Re,fe);return Ue<0?(++this.size,Re.push([fe,Me])):Re[Ue][1]=Me,this},Je.prototype.clear=function(){this.size=0,this.__data__={hash:new Te,map:new(J||Xe),string:new Te}},Je.prototype.delete=function(fe){var Me=Rt(this,fe).delete(fe);return this.size-=Me?1:0,Me},Je.prototype.get=function(fe){return Rt(this,fe).get(fe)},Je.prototype.has=function(fe){return Rt(this,fe).has(fe)},Je.prototype.set=function(fe,Me){var Re=Rt(this,fe),Ue=Re.size;return Re.set(fe,Me),this.size+=Re.size==Ue?0:1,this},nt.prototype.add=nt.prototype.push=function(fe){return this.__data__.set(fe,"__lodash_hash_undefined__"),this},nt.prototype.has=function(fe){return this.__data__.has(fe)},$t.prototype.clear=function(){this.__data__=new Xe,this.size=0},$t.prototype.delete=function(fe){var Me=this.__data__,Re=Me.delete(fe);return this.size=Me.size,Re},$t.prototype.get=function(fe){return this.__data__.get(fe)},$t.prototype.has=function(fe){return this.__data__.has(fe)},$t.prototype.set=function(fe,Me){var Re=this.__data__;if(Re instanceof Xe){var Ue=Re.__data__;if(!J||Ue.length<199)return Ue.push([fe,Me]),this.size=++Re.size,this;Re=this.__data__=new Je(Ue)}return Re.set(fe,Me),this.size=Re.size,this};var zs=Y?function(fe){return fe==null?[]:(fe=Object(fe),function(Me,Re){for(var Ue=-1,nn=Me==null?0:Me.length,mt=0,Ot=[];++Ue<nn;){var Ni=Me[Ue];Re(Ni,Ue,Me)&&(Ot[mt++]=Ni)}return Ot}(Y(fe),function(Me){return G.call(fe,Me)}))}:function(){return[]},Yt=bi;function pi(fe,Me){return!!(Me=Me??9007199254740991)&&(typeof fe=="number"||d.test(fe))&&fe>-1&&fe%1==0&&fe<Me}function lo(fe){if(fe!=null){try{return _.call(fe)}catch{}try{return fe+""}catch{}}return""}function Si(fe,Me){return fe===Me||fe!=fe&&Me!=Me}(j&&Yt(new j(new ArrayBuffer(1)))!="[object DataView]"||J&&Yt(new J)!=r||ae&&Yt(ae.resolve())!="[object Promise]"||ie&&Yt(new ie)!=a||re&&Yt(new re)!="[object WeakMap]")&&(Yt=function(fe){var Me=bi(fe),Re=Me==s?fe.constructor:void 0,Ue=Re?lo(Re):"";if(Ue)switch(Ue){case ve:return"[object DataView]";case te:return r;case ge:return"[object Promise]";case he:return a;case xe:return"[object WeakMap]"}return Me});var ti=Ht(function(){return arguments}())?Ht:function(fe){return fi(fe)&&v.call(fe,"callee")&&!G.call(fe,"callee")},Co=Array.isArray,_i=M||function(){return!1};function zt(fe){if(!Ci(fe))return!1;var Me=bi(fe);return Me=="[object Function]"||Me=="[object GeneratorFunction]"||Me=="[object AsyncFunction]"||Me=="[object Proxy]"}function Ao(fe){return typeof fe=="number"&&fe>-1&&fe%1==0&&fe<=9007199254740991}function Ci(fe){var Me=typeof fe;return fe!=null&&(Me=="object"||Me=="function")}function fi(fe){return fe!=null&&typeof fe=="object"}var Li=E?function(fe){return function(Me){return fe(Me)}}(E):function(fe){return fi(fe)&&Ao(fe.length)&&!!c[bi(fe)]};function di(fe){return(Me=fe)!=null&&Ao(Me.length)&&!zt(Me)?pt(fe):at(fe);var Me}e.exports=function(fe,Me){return gt(fe,Me)}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(i,e,t){(function(n){(function(){"use strict";var o=typeof n=="object"&&n&&n.Object===Object&&n,r=typeof self=="object"&&self&&self.Object===Object&&self,s=o||r||Function("return this")(),a=Object.prototype,l=a.hasOwnProperty,d=a.toString,c=s.Symbol,u=c?c.toStringTag:void 0;function h(f){return f==null?f===void 0?"[object Undefined]":"[object Null]":u&&u in Object(f)?function(p){var m=l.call(p,u),g=p[u];try{p[u]=void 0;var b=!0}catch{}var x=d.call(p);return b&&(m?p[u]=g:delete p[u]),x}(f):function(p){return d.call(p)}(f)}e.exports=function(f){if(!function(m){var g=typeof m;return m!=null&&(g=="object"||g=="function")}(f))return!1;var p=h(f);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(i,e,t){"use strict";e.exports=function(n){return n==null}},{}],448:[function(i,e,t){"use strict";e.exports=function(n){return n===void 0}},{}],449:[function(i,e,t){(function(n){(function(){"use strict";var o=/^\[object .+?Constructor\]$/,r=typeof n=="object"&&n&&n.Object===Object&&n,s=typeof self=="object"&&self&&self.Object===Object&&self,a=r||s||Function("return this")();function l(W,G){return!!(W&&W.length)&&function(K,F,Y){if(F!=F)return function(j,J,ae,ie){for(var re=j.length,Ce=ae+(ie?1:-1);ie?Ce--:++Ce<re;)if(J(j[Ce],Ce,j))return Ce;return-1}(K,c,Y);for(var M=Y-1,A=K.length;++M<A;)if(K[M]===F)return M;return-1}(W,G,0)>-1}function d(W,G,K){for(var F=-1,Y=W?W.length:0;++F<Y;)if(K(G,W[F]))return!0;return!1}function c(W){return W!=W}function u(W,G){return W.has(G)}function h(W){var G=-1,K=Array(W.size);return W.forEach(function(F){K[++G]=F}),K}var f,p=Array.prototype,m=Function.prototype,g=Object.prototype,b=a["__core-js_shared__"],x=(f=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",E=m.toString,D=g.hasOwnProperty,L=g.toString,k=RegExp("^"+E.call(D).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=p.splice,N=O(a,"Map"),z=O(a,"Set"),V=O(Object,"create");function S(W){var G=-1,K=W?W.length:0;for(this.clear();++G<K;){var F=W[G];this.set(F[0],F[1])}}function T(W){var G=-1,K=W?W.length:0;for(this.clear();++G<K;){var F=W[G];this.set(F[0],F[1])}}function B(W){var G=-1,K=W?W.length:0;for(this.clear();++G<K;){var F=W[G];this.set(F[0],F[1])}}function _(W){var G=-1,K=W?W.length:0;for(this.__data__=new B;++G<K;)this.add(W[G])}function v(W,G){for(var K,F,Y=W.length;Y--;)if((K=W[Y][0])===(F=G)||K!=K&&F!=F)return Y;return-1}function C(W){return!(!P(W)||(G=W,x&&x in G))&&(function(K){var F=P(K)?L.call(K):"";return F=="[object Function]"||F=="[object GeneratorFunction]"}(W)||function(K){var F=!1;if(K!=null&&typeof K.toString!="function")try{F=!!(K+"")}catch{}return F}(W)?k:o).test(function(K){if(K!=null){try{return E.call(K)}catch{}try{return K+""}catch{}}return""}(W));var G}S.prototype.clear=function(){this.__data__=V?V(null):{}},S.prototype.delete=function(W){return this.has(W)&&delete this.__data__[W]},S.prototype.get=function(W){var G=this.__data__;if(V){var K=G[W];return K==="__lodash_hash_undefined__"?void 0:K}return D.call(G,W)?G[W]:void 0},S.prototype.has=function(W){var G=this.__data__;return V?G[W]!==void 0:D.call(G,W)},S.prototype.set=function(W,G){return this.__data__[W]=V&&G===void 0?"__lodash_hash_undefined__":G,this},T.prototype.clear=function(){this.__data__=[]},T.prototype.delete=function(W){var G=this.__data__,K=v(G,W);return!(K<0)&&(K==G.length-1?G.pop():R.call(G,K,1),!0)},T.prototype.get=function(W){var G=this.__data__,K=v(G,W);return K<0?void 0:G[K][1]},T.prototype.has=function(W){return v(this.__data__,W)>-1},T.prototype.set=function(W,G){var K=this.__data__,F=v(K,W);return F<0?K.push([W,G]):K[F][1]=G,this},B.prototype.clear=function(){this.__data__={hash:new S,map:new(N||T),string:new S}},B.prototype.delete=function(W){return w(this,W).delete(W)},B.prototype.get=function(W){return w(this,W).get(W)},B.prototype.has=function(W){return w(this,W).has(W)},B.prototype.set=function(W,G){return w(this,W).set(W,G),this},_.prototype.add=_.prototype.push=function(W){return this.__data__.set(W,"__lodash_hash_undefined__"),this},_.prototype.has=function(W){return this.__data__.has(W)};var y=z&&1/h(new z([,-0]))[1]==1/0?function(W){return new z(W)}:function(){};function w(W,G){var K,F,Y=W.__data__;return((F=typeof(K=G))=="string"||F=="number"||F=="symbol"||F=="boolean"?K!=="__proto__":K===null)?Y[typeof G=="string"?"string":"hash"]:Y.map}function O(W,G){var K=function(F,Y){return F?.[Y]}(W,G);return C(K)?K:void 0}function P(W){var G=typeof W;return!!W&&(G=="object"||G=="function")}e.exports=function(W){return W&&W.length?function(G,K,F){var Y=-1,M=l,A=G.length,j=!0,J=[],ae=J;if(F)j=!1,M=d;else if(A>=200){var ie=K?null:y(G);if(ie)return h(ie);j=!1,M=u,ae=new _}else ae=K?[]:J;e:for(;++Y<A;){var re=G[Y],Ce=K?K(re):re;if(re=F||re!==0?re:0,j&&Ce==Ce){for(var ve=ae.length;ve--;)if(ae[ve]===Ce)continue e;K&&ae.push(Ce),J.push(re)}else M(ae,Ce,F)||(ae!==J&&ae.push(Ce),J.push(re))}return J}(W):[]}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(i,e,t){"use strict";var n=i("inherits"),o=i("hash-base"),r=i("safe-buffer").Buffer,s=new Array(16);function a(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function l(f,p){return f<<p|f>>>32-p}function d(f,p,m,g,b,x,E){return l(f+(p&m|~p&g)+b+x|0,E)+p|0}function c(f,p,m,g,b,x,E){return l(f+(p&g|m&~g)+b+x|0,E)+p|0}function u(f,p,m,g,b,x,E){return l(f+(p^m^g)+b+x|0,E)+p|0}function h(f,p,m,g,b,x,E){return l(f+(m^(p|~g))+b+x|0,E)+p|0}n(a,o),a.prototype._update=function(){for(var f=s,p=0;p<16;++p)f[p]=this._block.readInt32LE(4*p);var m=this._a,g=this._b,b=this._c,x=this._d;m=d(m,g,b,x,f[0],3614090360,7),x=d(x,m,g,b,f[1],3905402710,12),b=d(b,x,m,g,f[2],606105819,17),g=d(g,b,x,m,f[3],3250441966,22),m=d(m,g,b,x,f[4],4118548399,7),x=d(x,m,g,b,f[5],1200080426,12),b=d(b,x,m,g,f[6],2821735955,17),g=d(g,b,x,m,f[7],4249261313,22),m=d(m,g,b,x,f[8],1770035416,7),x=d(x,m,g,b,f[9],2336552879,12),b=d(b,x,m,g,f[10],4294925233,17),g=d(g,b,x,m,f[11],2304563134,22),m=d(m,g,b,x,f[12],1804603682,7),x=d(x,m,g,b,f[13],4254626195,12),b=d(b,x,m,g,f[14],2792965006,17),m=c(m,g=d(g,b,x,m,f[15],1236535329,22),b,x,f[1],4129170786,5),x=c(x,m,g,b,f[6],3225465664,9),b=c(b,x,m,g,f[11],643717713,14),g=c(g,b,x,m,f[0],3921069994,20),m=c(m,g,b,x,f[5],3593408605,5),x=c(x,m,g,b,f[10],38016083,9),b=c(b,x,m,g,f[15],3634488961,14),g=c(g,b,x,m,f[4],3889429448,20),m=c(m,g,b,x,f[9],568446438,5),x=c(x,m,g,b,f[14],3275163606,9),b=c(b,x,m,g,f[3],4107603335,14),g=c(g,b,x,m,f[8],1163531501,20),m=c(m,g,b,x,f[13],2850285829,5),x=c(x,m,g,b,f[2],4243563512,9),b=c(b,x,m,g,f[7],1735328473,14),m=u(m,g=c(g,b,x,m,f[12],2368359562,20),b,x,f[5],4294588738,4),x=u(x,m,g,b,f[8],2272392833,11),b=u(b,x,m,g,f[11],1839030562,16),g=u(g,b,x,m,f[14],4259657740,23),m=u(m,g,b,x,f[1],2763975236,4),x=u(x,m,g,b,f[4],1272893353,11),b=u(b,x,m,g,f[7],4139469664,16),g=u(g,b,x,m,f[10],3200236656,23),m=u(m,g,b,x,f[13],681279174,4),x=u(x,m,g,b,f[0],3936430074,11),b=u(b,x,m,g,f[3],3572445317,16),g=u(g,b,x,m,f[6],76029189,23),m=u(m,g,b,x,f[9],3654602809,4),x=u(x,m,g,b,f[12],3873151461,11),b=u(b,x,m,g,f[15],530742520,16),m=h(m,g=u(g,b,x,m,f[2],3299628645,23),b,x,f[0],4096336452,6),x=h(x,m,g,b,f[7],1126891415,10),b=h(b,x,m,g,f[14],2878612391,15),g=h(g,b,x,m,f[5],4237533241,21),m=h(m,g,b,x,f[12],1700485571,6),x=h(x,m,g,b,f[3],2399980690,10),b=h(b,x,m,g,f[10],4293915773,15),g=h(g,b,x,m,f[1],2240044497,21),m=h(m,g,b,x,f[8],1873313359,6),x=h(x,m,g,b,f[15],4264355552,10),b=h(b,x,m,g,f[6],2734768916,15),g=h(g,b,x,m,f[13],1309151649,21),m=h(m,g,b,x,f[4],4149444226,6),x=h(x,m,g,b,f[11],3174756917,10),b=h(b,x,m,g,f[2],718787259,15),g=h(g,b,x,m,f[9],3951481745,21),this._a=this._a+m|0,this._b=this._b+g|0,this._c=this._c+b|0,this._d=this._d+x|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var f=r.allocUnsafe(16);return f.writeInt32LE(this._a,0),f.writeInt32LE(this._b,4),f.writeInt32LE(this._c,8),f.writeInt32LE(this._d,12),f},e.exports=a},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(i,e,t){"use strict";var n=i("bn.js"),o=i("brorand");function r(s){this.rand=s||new o.Rand}e.exports=r,r.create=function(s){return new r(s)},r.prototype._randbelow=function(s){var a=s.bitLength(),l=Math.ceil(a/8);do var d=new n(this.rand.generate(l));while(d.cmp(s)>=0);return d},r.prototype._randrange=function(s,a){var l=a.sub(s);return s.add(this._randbelow(l))},r.prototype.test=function(s,a,l){var d=s.bitLength(),c=n.mont(s),u=new n(1).toRed(c);a||(a=Math.max(1,d/48|0));for(var h=s.subn(1),f=0;!h.testn(f);f++);for(var p=s.shrn(f),m=h.toRed(c);a>0;a--){var g=this._randrange(new n(2),h);l&&l(g);var b=g.toRed(c).redPow(p);if(b.cmp(u)!==0&&b.cmp(m)!==0){for(var x=1;x<f;x++){if((b=b.redSqr()).cmp(u)===0)return!1;if(b.cmp(m)===0)break}if(x===f)return!1}}return!0},r.prototype.getDivisor=function(s,a){var l=s.bitLength(),d=n.mont(s),c=new n(1).toRed(d);a||(a=Math.max(1,l/48|0));for(var u=s.subn(1),h=0;!u.testn(h);h++);for(var f=s.shrn(h),p=u.toRed(d);a>0;a--){var m=this._randrange(new n(2),u),g=s.gcd(m);if(g.cmpn(1)!==0)return g;var b=m.toRed(d).redPow(f);if(b.cmp(c)!==0&&b.cmp(p)!==0){for(var x=1;x<h;x++){if((b=b.redSqr()).cmp(c)===0)return b.fromRed().subn(1).gcd(s);if(b.cmp(p)===0)break}if(x===h)return(b=b.redSqr()).fromRed().subn(1).gcd(s)}}return!1}},{"bn.js":452,brorand:187}],452:[function(i,e,t){arguments[4][184][0].apply(t,arguments)},{buffer:188,dup:184}],453:[function(i,e,t){"use strict";function n(o,r){if(!o)throw new Error(r||"Assertion failed")}e.exports=n,n.equal=function(o,r,s){if(o!=r)throw new Error(s||"Assertion failed: "+o+" != "+r)}},{}],454:[function(i,e,t){"use strict";var n=t;function o(s){return s.length===1?"0"+s:s}function r(s){for(var a="",l=0;l<s.length;l++)a+=o(s[l].toString(16));return a}n.toArray=function(s,a){if(Array.isArray(s))return s.slice();if(!s)return[];var l=[];if(typeof s!="string"){for(var d=0;d<s.length;d++)l[d]=0|s[d];return l}if(a==="hex")for((s=s.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(s="0"+s),d=0;d<s.length;d+=2)l.push(parseInt(s[d]+s[d+1],16));else for(d=0;d<s.length;d++){var c=s.charCodeAt(d),u=c>>8,h=255&c;u?l.push(u,h):l.push(h)}return l},n.zero2=o,n.toHex=r,n.encode=function(s,a){return a==="hex"?r(s):s}},{}],455:[function(i,e,t){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(i,e,t){"use strict";var n=i("asn1.js");t.certificate=i("./certificate");var o=n.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});t.RSAPrivateKey=o;var r=n.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});t.RSAPublicKey=r;var s=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())});t.PublicKey=s;var a=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),l=n.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())});t.PrivateKey=l;var d=n.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});t.EncryptedPrivateKey=d;var c=n.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});t.DSAPrivateKey=c,t.DSAparam=n.define("DSAparam",function(){this.int()});var u=n.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(h),this.key("publicKey").optional().explicit(1).bitstr())});t.ECPrivateKey=u;var h=n.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});t.signature=n.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(i,e,t){"use strict";var n=i("asn1.js"),o=n.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),r=n.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),s=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),a=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}),l=n.define("RelativeDistinguishedName",function(){this.setof(r)}),d=n.define("RDNSequence",function(){this.seqof(l)}),c=n.define("Name",function(){this.choice({rdnSequence:this.use(d)})}),u=n.define("Validity",function(){this.seq().obj(this.key("notBefore").use(o),this.key("notAfter").use(o))}),h=n.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),f=n.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(c),this.key("validity").use(u),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(h).optional())}),p=n.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(f),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())});e.exports=p},{"asn1.js":170}],458:[function(i,e,t){"use strict";var n=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,r=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,s=i("evp_bytestokey"),a=i("browserify-aes"),l=i("safe-buffer").Buffer;e.exports=function(d,c){var u,h=d.toString(),f=h.match(n);if(f){var p="aes"+f[1],m=l.from(f[2],"hex"),g=l.from(f[3].replace(/[\r\n]/g,""),"base64"),b=s(c,m.slice(0,8),parseInt(f[1],10)).key,x=[],E=a.createDecipheriv(p,b,m);x.push(E.update(g)),x.push(E.final()),u=l.concat(x)}else{var D=h.match(r);u=l.from(D[2].replace(/[\r\n]/g,""),"base64")}return{tag:h.match(o)[1],data:u}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(i,e,t){"use strict";var n=i("./asn1"),o=i("./aesid.json"),r=i("./fixProc"),s=i("browserify-aes"),a=i("pbkdf2"),l=i("safe-buffer").Buffer;function d(c){var u;typeof c!="object"||l.isBuffer(c)||(u=c.passphrase,c=c.key),typeof c=="string"&&(c=l.from(c));var h,f,p=r(c,u),m=p.tag,g=p.data;switch(m){case"CERTIFICATE":f=n.certificate.decode(g,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(f||(f=n.PublicKey.decode(g,"der")),h=f.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(f.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return f.subjectPrivateKey=f.subjectPublicKey,{type:"ec",data:f};case"1.2.840.10040.4.1":return f.algorithm.params.pub_key=n.DSAparam.decode(f.subjectPublicKey.data,"der"),{type:"dsa",data:f.algorithm.params};default:throw new Error("unknown key id "+h)}case"ENCRYPTED PRIVATE KEY":g=function(b,x){var E=b.algorithm.decrypt.kde.kdeparams.salt,D=parseInt(b.algorithm.decrypt.kde.kdeparams.iters.toString(),10),L=o[b.algorithm.decrypt.cipher.algo.join(".")],k=b.algorithm.decrypt.cipher.iv,R=b.subjectPrivateKey,N=parseInt(L.split("-")[1],10)/8,z=a.pbkdf2Sync(x,E,D,N,"sha1"),V=s.createDecipheriv(L,z,k),S=[];return S.push(V.update(R)),S.push(V.final()),l.concat(S)}(g=n.EncryptedPrivateKey.decode(g,"der"),u);case"PRIVATE KEY":switch(h=(f=n.PrivateKey.decode(g,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(f.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:f.algorithm.curve,privateKey:n.ECPrivateKey.decode(f.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return f.algorithm.params.priv_key=n.DSAparam.decode(f.subjectPrivateKey,"der"),{type:"dsa",params:f.algorithm.params};default:throw new Error("unknown key id "+h)}case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(g,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(g,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(g,"der")};case"EC PRIVATE KEY":return{curve:(g=n.ECPrivateKey.decode(g,"der")).parameters.value,privateKey:g.privateKey};default:throw new Error("unknown key type "+m)}}e.exports=d,d.signature=n.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(i,e,t){"use strict";t.pbkdf2=i("./lib/async"),t.pbkdf2Sync=i("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(i,e,t){(function(n){(function(){"use strict";var o,r,s=i("safe-buffer").Buffer,a=i("./precondition"),l=i("./default-encoding"),d=i("./sync"),c=i("./to-buffer"),u=n.crypto&&n.crypto.subtle,h={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function p(){return r||(r=n.process&&n.process.nextTick?n.process.nextTick:n.queueMicrotask?n.queueMicrotask:n.setImmediate?n.setImmediate:n.setTimeout)}function m(g,b,x,E,D){return u.importKey("raw",g,{name:"PBKDF2"},!1,["deriveBits"]).then(function(L){return u.deriveBits({name:"PBKDF2",salt:b,iterations:x,hash:{name:D}},L,E<<3)}).then(function(L){return s.from(L)})}e.exports=function(g,b,x,E,D,L){typeof D=="function"&&(L=D,D=void 0);var k=h[(D=D||"sha1").toLowerCase()];if(k&&typeof n.Promise=="function"){if(a(x,E),g=c(g,l,"Password"),b=c(b,l,"Salt"),typeof L!="function")throw new Error("No callback provided to pbkdf2");(function(R,N){R.then(function(z){p()(function(){N(null,z)})},function(z){p()(function(){N(z)})})})(function(R){if(n.process&&!n.process.browser||!u||!u.importKey||!u.deriveBits)return Promise.resolve(!1);if(f[R]!==void 0)return f[R];var N=m(o=o||s.alloc(8),o,10,128,R).then(function(){return!0}).catch(function(){return!1});return f[R]=N,N}(k).then(function(R){return R?m(g,b,x,E,k):d(g,b,x,E,D)}),L)}else p()(function(){var R;try{R=d(g,b,x,E,D)}catch(N){return L(N)}L(null,R)})}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(i,e,t){(function(n,o){(function(){"use strict";var r;o.process&&o.process.browser?r="utf-8":o.process&&o.process.version?r=parseInt(n.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":r="utf-8",e.exports=r}).call(this)}).call(this,i("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(i,e,t){"use strict";var n=Math.pow(2,30)-1;e.exports=function(o,r){if(typeof o!="number")throw new TypeError("Iterations not a number");if(o<0)throw new TypeError("Bad iterations");if(typeof r!="number")throw new TypeError("Key length not a number");if(r<0||r>n||r!=r)throw new TypeError("Bad key length")}},{}],464:[function(i,e,t){"use strict";var n=i("create-hash/md5"),o=i("ripemd160"),r=i("sha.js"),s=i("safe-buffer").Buffer,a=i("./precondition"),l=i("./default-encoding"),d=i("./to-buffer"),c=s.alloc(128),u={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function h(f,p,m){var g=function(k){function R(N){return r(k).update(N).digest()}return k==="rmd160"||k==="ripemd160"?function(N){return new o().update(N).digest()}:k==="md5"?n:R}(f),b=f==="sha512"||f==="sha384"?128:64;p.length>b?p=g(p):p.length<b&&(p=s.concat([p,c],b));for(var x=s.allocUnsafe(b+u[f]),E=s.allocUnsafe(b+u[f]),D=0;D<b;D++)x[D]=54^p[D],E[D]=92^p[D];var L=s.allocUnsafe(b+m+4);x.copy(L,0,0,b),this.ipad1=L,this.ipad2=x,this.opad=E,this.alg=f,this.blocksize=b,this.hash=g,this.size=u[f]}h.prototype.run=function(f,p){return f.copy(p,this.blocksize),this.hash(p).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(f,p,m,g,b){a(m,g);var x=new h(b=b||"sha1",f=d(f,l,"Password"),(p=d(p,l,"Salt")).length),E=s.allocUnsafe(g),D=s.allocUnsafe(p.length+4);p.copy(D,0,0,p.length);for(var L=0,k=u[b],R=Math.ceil(g/k),N=1;N<=R;N++){D.writeUInt32BE(N,p.length);for(var z=x.run(D,x.ipad1),V=z,S=1;S<m;S++){V=x.run(V,x.ipad2);for(var T=0;T<k;T++)z[T]^=V[T]}z.copy(E,L),L+=k}return E}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(i,e,t){"use strict";var n=i("safe-buffer").Buffer;e.exports=function(o,r,s){if(n.isBuffer(o))return o;if(typeof o=="string")return n.from(o,r);if(ArrayBuffer.isView(o))return n.from(o.buffer);throw new TypeError(s+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(i,e,t){(function(n){(function(){"use strict";n===void 0||!n.version||n.version.indexOf("v0.")===0||n.version.indexOf("v1.")===0&&n.version.indexOf("v1.8.")!==0?e.exports={nextTick:function(o,r,s,a){if(typeof o!="function")throw new TypeError('"callback" argument must be a function');var l,d,c=arguments.length;switch(c){case 0:case 1:return n.nextTick(o);case 2:return n.nextTick(function(){o.call(null,r)});case 3:return n.nextTick(function(){o.call(null,r,s)});case 4:return n.nextTick(function(){o.call(null,r,s,a)});default:for(l=new Array(c-1),d=0;d<l.length;)l[d++]=arguments[d];return n.nextTick(function(){o.apply(null,l)})}}}:e.exports=n}).call(this)}).call(this,i("_process"))},{_process:467}],467:[function(i,e,t){"use strict";var n,o,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(b){if(n===setTimeout)return setTimeout(b,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(b,0);try{return n(b,0)}catch{try{return n.call(null,b,0)}catch{return n.call(this,b,0)}}}(function(){try{n=typeof setTimeout=="function"?setTimeout:s}catch{n=s}try{o=typeof clearTimeout=="function"?clearTimeout:a}catch{o=a}})();var d,c=[],u=!1,h=-1;function f(){u&&d&&(u=!1,d.length?c=d.concat(c):h=-1,c.length&&p())}function p(){if(!u){var b=l(f);u=!0;for(var x=c.length;x;){for(d=c,c=[];++h<x;)d&&d[h].run();h=-1,x=c.length}d=null,u=!1,function(E){if(o===clearTimeout)return clearTimeout(E);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(E);try{o(E)}catch{try{return o.call(null,E)}catch{return o.call(this,E)}}}(b)}}function m(b,x){this.fun=b,this.array=x}function g(){}r.nextTick=function(b){var x=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)x[E-1]=arguments[E];c.push(new m(b,x)),c.length!==1||u||l(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(b){return[]},r.binding=function(b){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(b){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],468:[function(i,e,t){"use strict";t.publicEncrypt=i("./publicEncrypt"),t.privateDecrypt=i("./privateDecrypt"),t.privateEncrypt=function(n,o){return t.publicEncrypt(n,o,!0)},t.publicDecrypt=function(n,o){return t.privateDecrypt(n,o,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(i,e,t){"use strict";var n=i("create-hash"),o=i("safe-buffer").Buffer;function r(s){var a=o.allocUnsafe(4);return a.writeUInt32BE(s,0),a}e.exports=function(s,a){for(var l,d=o.alloc(0),c=0;d.length<a;)l=r(c++),d=o.concat([d,n("sha1").update(s).update(l).digest()]);return d.slice(0,a)}},{"create-hash":386,"safe-buffer":494}],470:[function(i,e,t){arguments[4][184][0].apply(t,arguments)},{buffer:188,dup:184}],471:[function(i,e,t){"use strict";var n=i("parse-asn1"),o=i("./mgf"),r=i("./xor"),s=i("bn.js"),a=i("browserify-rsa"),l=i("create-hash"),d=i("./withPublic"),c=i("safe-buffer").Buffer;e.exports=function(u,h,f){var p;p=u.padding?u.padding:f?1:4;var m,g=n(u),b=g.modulus.byteLength();if(h.length>b||new s(h).cmp(g.modulus)>=0)throw new Error("decryption error");m=f?d(new s(h),g):a(h,g);var x=c.alloc(b-m.length);if(m=c.concat([x,m],b),p===4)return function(E,D){var L=E.modulus.byteLength(),k=l("sha1").update(c.alloc(0)).digest(),R=k.length;if(D[0]!==0)throw new Error("decryption error");var N=D.slice(1,R+1),z=D.slice(R+1),V=r(N,o(z,R)),S=r(z,o(V,L-R-1));if(function(B,_){B=c.from(B),_=c.from(_);var v=0,C=B.length;B.length!==_.length&&(v++,C=Math.min(B.length,_.length));for(var y=-1;++y<C;)v+=B[y]^_[y];return v}(k,S.slice(0,R)))throw new Error("decryption error");for(var T=R;S[T]===0;)T++;if(S[T++]!==1)throw new Error("decryption error");return S.slice(T)}(g,m);if(p===1)return function(E,D,L){for(var k=D.slice(0,2),R=2,N=0;D[R++]!==0;)if(R>=D.length){N++;break}var z=D.slice(2,R-1);if((k.toString("hex")!=="0002"&&!L||k.toString("hex")!=="0001"&&L)&&N++,z.length<8&&N++,N)throw new Error("decryption error");return D.slice(R)}(0,m,f);if(p===3)return m;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(i,e,t){"use strict";var n=i("parse-asn1"),o=i("randombytes"),r=i("create-hash"),s=i("./mgf"),a=i("./xor"),l=i("bn.js"),d=i("./withPublic"),c=i("browserify-rsa"),u=i("safe-buffer").Buffer;e.exports=function(h,f,p){var m;m=h.padding?h.padding:p?1:4;var g,b=n(h);if(m===4)g=function(x,E){var D=x.modulus.byteLength(),L=E.length,k=r("sha1").update(u.alloc(0)).digest(),R=k.length,N=2*R;if(L>D-N-2)throw new Error("message too long");var z=u.alloc(D-L-N-2),V=D-R-1,S=o(R),T=a(u.concat([k,z,u.alloc(1,1),E],V),s(S,V)),B=a(S,s(T,R));return new l(u.concat([u.alloc(1),B,T],D))}(b,f);else if(m===1)g=function(x,E,D){var L,k=E.length,R=x.modulus.byteLength();if(k>R-11)throw new Error("message too long");return L=D?u.alloc(R-k-3,255):function(N){for(var z,V=u.allocUnsafe(N),S=0,T=o(2*N),B=0;S<N;)B===T.length&&(T=o(2*N),B=0),(z=T[B++])&&(V[S++]=z);return V}(R-k-3),new l(u.concat([u.from([0,D?1:2]),L,u.alloc(1),E],R))}(b,f,p);else{if(m!==3)throw new Error("unknown padding");if((g=new l(f)).cmp(b.modulus)>=0)throw new Error("data too long for modulus")}return p?c(g,b):d(g,b)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(i,e,t){"use strict";var n=i("bn.js"),o=i("safe-buffer").Buffer;e.exports=function(r,s){return o.from(r.toRed(n.mont(s.modulus)).redPow(new n(s.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(i,e,t){"use strict";e.exports=function(n,o){for(var r=n.length,s=-1;++s<r;)n[s]^=o[s];return n}},{}],475:[function(i,e,t){(function(n,o){(function(){"use strict";var r=i("safe-buffer").Buffer,s=o.crypto||o.msCrypto;s&&s.getRandomValues?e.exports=function(a,l){if(a>4294967295)throw new RangeError("requested too many random bytes");var d=r.allocUnsafe(a);if(a>0)if(a>65536)for(var c=0;c<a;c+=65536)s.getRandomValues(d.slice(c,c+65536));else s.getRandomValues(d);return typeof l=="function"?n.nextTick(function(){l(null,d)}):d}:e.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,i("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(i,e,t){(function(n,o){(function(){"use strict";function r(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var s=i("safe-buffer"),a=i("randombytes"),l=s.Buffer,d=s.kMaxLength,c=o.crypto||o.msCrypto,u=Math.pow(2,32)-1;function h(m,g){if(typeof m!="number"||m!=m)throw new TypeError("offset must be a number");if(m>u||m<0)throw new TypeError("offset must be a uint32");if(m>d||m>g)throw new RangeError("offset out of range")}function f(m,g,b){if(typeof m!="number"||m!=m)throw new TypeError("size must be a number");if(m>u||m<0)throw new TypeError("size must be a uint32");if(m+g>b||m>d)throw new RangeError("buffer too small")}function p(m,g,b,x){if(n.browser){var E=m.buffer,D=new Uint8Array(E,g,b);return c.getRandomValues(D),x?void n.nextTick(function(){x(null,m)}):m}if(!x)return a(b).copy(m,g),m;a(b,function(L,k){if(L)return x(L);k.copy(m,g),x(null,m)})}c&&c.getRandomValues||!n.browser?(t.randomFill=function(m,g,b,x){if(!(l.isBuffer(m)||m instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof g=="function")x=g,g=0,b=m.length;else if(typeof b=="function")x=b,b=m.length-g;else if(typeof x!="function")throw new TypeError('"cb" argument must be a function');return h(g,m.length),f(b,g,m.length),p(m,g,b,x)},t.randomFillSync=function(m,g,b){if(g===void 0&&(g=0),!(l.isBuffer(m)||m instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return h(g,m.length),b===void 0&&(b=m.length-g),f(b,g,m.length),p(m,g,b)}):(t.randomFill=r,t.randomFillSync=r)}).call(this)}).call(this,i("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(i,e,t){"use strict";var n={};function o(s,a,l){l||(l=Error);var d=function(c){var u,h;function f(p,m,g){return c.call(this,function(b,x,E){return typeof a=="string"?a:a(b,x,E)}(p,m,g))||this}return h=c,(u=f).prototype=Object.create(h.prototype),u.prototype.constructor=u,u.__proto__=h,f}(l);d.prototype.name=l.name,d.prototype.code=s,n[s]=d}function r(s,a){if(Array.isArray(s)){var l=s.length;return s=s.map(function(d){return String(d)}),l>2?"one of ".concat(a," ").concat(s.slice(0,l-1).join(", "),", or ")+s[l-1]:l===2?"one of ".concat(a," ").concat(s[0]," or ").concat(s[1]):"of ".concat(a," ").concat(s[0])}return"of ".concat(a," ").concat(String(s))}o("ERR_INVALID_OPT_VALUE",function(s,a){return'The value "'+a+'" is invalid for option "'+s+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(s,a,l){var d,c,u,h;if(typeof a=="string"&&(c="not ",a.substr(!u||u<0?0:+u,c.length)===c)?(d="must not be",a=a.replace(/^not /,"")):d="must be",function(p,m,g){return(g===void 0||g>p.length)&&(g=p.length),p.substring(g-m.length,g)===m}(s," argument"))h="The ".concat(s," ").concat(d," ").concat(r(a,"type"));else{var f=function(p,m,g){return typeof g!="number"&&(g=0),!(g+m.length>p.length)&&p.indexOf(m,g)!==-1}(s,".")?"property":"argument";h='The "'.concat(s,'" ').concat(f," ").concat(d," ").concat(r(a,"type"))}return h+=". Received type ".concat(typeof l)},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},{}],478:[function(i,e,t){(function(n){(function(){"use strict";var o=Object.keys||function(f){var p=[];for(var m in f)p.push(m);return p};e.exports=c;var r=i("./_stream_readable"),s=i("./_stream_writable");i("inherits")(c,r);for(var a=o(s.prototype),l=0;l<a.length;l++){var d=a[l];c.prototype[d]||(c.prototype[d]=s.prototype[d])}function c(f){if(!(this instanceof c))return new c(f);r.call(this,f),s.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||n.nextTick(h,this)}function h(f){f.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}})}).call(this)}).call(this,i("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(i,e,t){"use strict";e.exports=o;var n=i("./_stream_transform");function o(r){if(!(this instanceof o))return new o(r);n.call(this,r)}i("inherits")(o,n),o.prototype._transform=function(r,s,a){a(null,r)}},{"./_stream_transform":481,inherits:440}],480:[function(i,e,t){(function(n,o){(function(){"use strict";var r;e.exports=V,V.ReadableState=z,i("events").EventEmitter;var s=function(M,A){return M.listeners(A).length},a=i("./internal/streams/stream"),l=i("buffer").Buffer,d=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},c,u=i("util");c=u&&u.debuglog?u.debuglog("stream"):function(){};var h,f,p,m=i("./internal/streams/buffer_list"),g=i("./internal/streams/destroy"),b=i("./internal/streams/state").getHighWaterMark,x=i("../errors").codes,E=x.ERR_INVALID_ARG_TYPE,D=x.ERR_STREAM_PUSH_AFTER_EOF,L=x.ERR_METHOD_NOT_IMPLEMENTED,k=x.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;i("inherits")(V,a);var R=g.errorOrDestroy,N=["error","close","destroy","pause","resume"];function z(M,A,j){r=r||i("./_stream_duplex"),M=M||{},typeof j!="boolean"&&(j=A instanceof r),this.objectMode=!!M.objectMode,j&&(this.objectMode=this.objectMode||!!M.readableObjectMode),this.highWaterMark=b(this,M,"readableHighWaterMark",j),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=M.emitClose!==!1,this.autoDestroy=!!M.autoDestroy,this.destroyed=!1,this.defaultEncoding=M.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,M.encoding&&(h||(h=i("string_decoder/").StringDecoder),this.decoder=new h(M.encoding),this.encoding=M.encoding)}function V(M){if(r=r||i("./_stream_duplex"),!(this instanceof V))return new V(M);var A=this instanceof r;this._readableState=new z(M,this,A),this.readable=!0,M&&(typeof M.read=="function"&&(this._read=M.read),typeof M.destroy=="function"&&(this._destroy=M.destroy)),a.call(this)}function S(M,A,j,J,ae){c("readableAddChunk",A);var ie,re=M._readableState;if(A===null)re.reading=!1,function(Ce,ve){if(c("onEofChunk"),!ve.ended){if(ve.decoder){var te=ve.decoder.end();te&&te.length&&(ve.buffer.push(te),ve.length+=ve.objectMode?1:te.length)}ve.ended=!0,ve.sync?_(Ce):(ve.needReadable=!1,ve.emittedReadable||(ve.emittedReadable=!0,v(Ce)))}}(M,re);else if(ae||(ie=function(Ce,ve){var te;ge=ve,l.isBuffer(ge)||ge instanceof d||typeof ve=="string"||ve===void 0||Ce.objectMode||(te=new E("chunk",["string","Buffer","Uint8Array"],ve));var ge;return te}(re,A)),ie)R(M,ie);else if(re.objectMode||A&&A.length>0)if(typeof A=="string"||re.objectMode||Object.getPrototypeOf(A)===l.prototype||(A=function(Ce){return l.from(Ce)}(A)),J)re.endEmitted?R(M,new k):T(M,re,A,!0);else if(re.ended)R(M,new D);else{if(re.destroyed)return!1;re.reading=!1,re.decoder&&!j?(A=re.decoder.write(A),re.objectMode||A.length!==0?T(M,re,A,!1):C(M,re)):T(M,re,A,!1)}else J||(re.reading=!1,C(M,re));return!re.ended&&(re.length<re.highWaterMark||re.length===0)}function T(M,A,j,J){A.flowing&&A.length===0&&!A.sync?(A.awaitDrain=0,M.emit("data",j)):(A.length+=A.objectMode?1:j.length,J?A.buffer.unshift(j):A.buffer.push(j),A.needReadable&&_(M)),C(M,A)}Object.defineProperty(V.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(M){this._readableState&&(this._readableState.destroyed=M)}}),V.prototype.destroy=g.destroy,V.prototype._undestroy=g.undestroy,V.prototype._destroy=function(M,A){A(M)},V.prototype.push=function(M,A){var j,J=this._readableState;return J.objectMode?j=!0:typeof M=="string"&&((A=A||J.defaultEncoding)!==J.encoding&&(M=l.from(M,A),A=""),j=!0),S(this,M,A,!1,j)},V.prototype.unshift=function(M){return S(this,M,null,!0,!1)},V.prototype.isPaused=function(){return this._readableState.flowing===!1},V.prototype.setEncoding=function(M){h||(h=i("string_decoder/").StringDecoder);var A=new h(M);this._readableState.decoder=A,this._readableState.encoding=this._readableState.decoder.encoding;for(var j=this._readableState.buffer.head,J="";j!==null;)J+=A.write(j.data),j=j.next;return this._readableState.buffer.clear(),J!==""&&this._readableState.buffer.push(J),this._readableState.length=J.length,this};function B(M,A){return M<=0||A.length===0&&A.ended?0:A.objectMode?1:M!=M?A.flowing&&A.length?A.buffer.head.data.length:A.length:(M>A.highWaterMark&&(A.highWaterMark=function(j){return j>=1073741824?j=1073741824:(j--,j|=j>>>1,j|=j>>>2,j|=j>>>4,j|=j>>>8,j|=j>>>16,j++),j}(M)),M<=A.length?M:A.ended?A.length:(A.needReadable=!0,0))}function _(M){var A=M._readableState;c("emitReadable",A.needReadable,A.emittedReadable),A.needReadable=!1,A.emittedReadable||(c("emitReadable",A.flowing),A.emittedReadable=!0,n.nextTick(v,M))}function v(M){var A=M._readableState;c("emitReadable_",A.destroyed,A.length,A.ended),A.destroyed||!A.length&&!A.ended||(M.emit("readable"),A.emittedReadable=!1),A.needReadable=!A.flowing&&!A.ended&&A.length<=A.highWaterMark,W(M)}function C(M,A){A.readingMore||(A.readingMore=!0,n.nextTick(y,M,A))}function y(M,A){for(;!A.reading&&!A.ended&&(A.length<A.highWaterMark||A.flowing&&A.length===0);){var j=A.length;if(c("maybeReadMore read 0"),M.read(0),j===A.length)break}A.readingMore=!1}function w(M){var A=M._readableState;A.readableListening=M.listenerCount("readable")>0,A.resumeScheduled&&!A.paused?A.flowing=!0:M.listenerCount("data")>0&&M.resume()}function O(M){c("readable nexttick read 0"),M.read(0)}function P(M,A){c("resume",A.reading),A.reading||M.read(0),A.resumeScheduled=!1,M.emit("resume"),W(M),A.flowing&&!A.reading&&M.read(0)}function W(M){var A=M._readableState;for(c("flow",A.flowing);A.flowing&&M.read()!==null;);}function G(M,A){return A.length===0?null:(A.objectMode?j=A.buffer.shift():!M||M>=A.length?(j=A.decoder?A.buffer.join(""):A.buffer.length===1?A.buffer.first():A.buffer.concat(A.length),A.buffer.clear()):j=A.buffer.consume(M,A.decoder),j);var j}function K(M){var A=M._readableState;c("endReadable",A.endEmitted),A.endEmitted||(A.ended=!0,n.nextTick(F,A,M))}function F(M,A){if(c("endReadableNT",M.endEmitted,M.length),!M.endEmitted&&M.length===0&&(M.endEmitted=!0,A.readable=!1,A.emit("end"),M.autoDestroy)){var j=A._writableState;(!j||j.autoDestroy&&j.finished)&&A.destroy()}}function Y(M,A){for(var j=0,J=M.length;j<J;j++)if(M[j]===A)return j;return-1}V.prototype.read=function(M){c("read",M),M=parseInt(M,10);var A=this._readableState,j=M;if(M!==0&&(A.emittedReadable=!1),M===0&&A.needReadable&&((A.highWaterMark!==0?A.length>=A.highWaterMark:A.length>0)||A.ended))return c("read: emitReadable",A.length,A.ended),A.length===0&&A.ended?K(this):_(this),null;if((M=B(M,A))===0&&A.ended)return A.length===0&&K(this),null;var J,ae=A.needReadable;return c("need readable",ae),(A.length===0||A.length-M<A.highWaterMark)&&c("length less than watermark",ae=!0),A.ended||A.reading?c("reading or ended",ae=!1):ae&&(c("do read"),A.reading=!0,A.sync=!0,A.length===0&&(A.needReadable=!0),this._read(A.highWaterMark),A.sync=!1,A.reading||(M=B(j,A))),(J=M>0?G(M,A):null)===null?(A.needReadable=A.length<=A.highWaterMark,M=0):(A.length-=M,A.awaitDrain=0),A.length===0&&(A.ended||(A.needReadable=!0),j!==M&&A.ended&&K(this)),J!==null&&this.emit("data",J),J},V.prototype._read=function(M){R(this,new L("_read()"))},V.prototype.pipe=function(M,A){var j=this,J=this._readableState;switch(J.pipesCount){case 0:J.pipes=M;break;case 1:J.pipes=[J.pipes,M];break;default:J.pipes.push(M)}J.pipesCount+=1,c("pipe count=%d opts=%j",J.pipesCount,A);var ae=(!A||A.end!==!1)&&M!==n.stdout&&M!==n.stderr?re:Oe;function ie(we,Te){c("onunpipe"),we===j&&Te&&Te.hasUnpiped===!1&&(Te.hasUnpiped=!0,c("cleanup"),M.removeListener("close",he),M.removeListener("finish",xe),M.removeListener("drain",Ce),M.removeListener("error",ge),M.removeListener("unpipe",ie),j.removeListener("end",re),j.removeListener("end",Oe),j.removeListener("data",te),ve=!0,!J.awaitDrain||M._writableState&&!M._writableState.needDrain||Ce())}function re(){c("onend"),M.end()}J.endEmitted?n.nextTick(ae):j.once("end",ae),M.on("unpipe",ie);var Ce=function(we){return function(){var Te=we._readableState;c("pipeOnDrain",Te.awaitDrain),Te.awaitDrain&&Te.awaitDrain--,Te.awaitDrain===0&&s(we,"data")&&(Te.flowing=!0,W(we))}}(j);M.on("drain",Ce);var ve=!1;function te(we){c("ondata");var Te=M.write(we);c("dest.write",Te),Te===!1&&((J.pipesCount===1&&J.pipes===M||J.pipesCount>1&&Y(J.pipes,M)!==-1)&&!ve&&(c("false write response, pause",J.awaitDrain),J.awaitDrain++),j.pause())}function ge(we){c("onerror",we),Oe(),M.removeListener("error",ge),s(M,"error")===0&&R(M,we)}function he(){M.removeListener("finish",xe),Oe()}function xe(){c("onfinish"),M.removeListener("close",he),Oe()}function Oe(){c("unpipe"),j.unpipe(M)}return j.on("data",te),function(we,Te,Xe){if(typeof we.prependListener=="function")return we.prependListener(Te,Xe);we._events&&we._events[Te]?Array.isArray(we._events[Te])?we._events[Te].unshift(Xe):we._events[Te]=[Xe,we._events[Te]]:we.on(Te,Xe)}(M,"error",ge),M.once("close",he),M.once("finish",xe),M.emit("pipe",j),J.flowing||(c("pipe resume"),j.resume()),M},V.prototype.unpipe=function(M){var A=this._readableState,j={hasUnpiped:!1};if(A.pipesCount===0)return this;if(A.pipesCount===1)return M&&M!==A.pipes||(M||(M=A.pipes),A.pipes=null,A.pipesCount=0,A.flowing=!1,M&&M.emit("unpipe",this,j)),this;if(!M){var J=A.pipes,ae=A.pipesCount;A.pipes=null,A.pipesCount=0,A.flowing=!1;for(var ie=0;ie<ae;ie++)J[ie].emit("unpipe",this,{hasUnpiped:!1});return this}var re=Y(A.pipes,M);return re===-1||(A.pipes.splice(re,1),A.pipesCount-=1,A.pipesCount===1&&(A.pipes=A.pipes[0]),M.emit("unpipe",this,j)),this},V.prototype.on=function(M,A){var j=a.prototype.on.call(this,M,A),J=this._readableState;return M==="data"?(J.readableListening=this.listenerCount("readable")>0,J.flowing!==!1&&this.resume()):M==="readable"&&(J.endEmitted||J.readableListening||(J.readableListening=J.needReadable=!0,J.flowing=!1,J.emittedReadable=!1,c("on readable",J.length,J.reading),J.length?_(this):J.reading||n.nextTick(O,this))),j},V.prototype.addListener=V.prototype.on,V.prototype.removeListener=function(M,A){var j=a.prototype.removeListener.call(this,M,A);return M==="readable"&&n.nextTick(w,this),j},V.prototype.removeAllListeners=function(M){var A=a.prototype.removeAllListeners.apply(this,arguments);return M!=="readable"&&M!==void 0||n.nextTick(w,this),A},V.prototype.resume=function(){var M=this._readableState;return M.flowing||(c("resume"),M.flowing=!M.readableListening,function(A,j){j.resumeScheduled||(j.resumeScheduled=!0,n.nextTick(P,A,j))}(this,M)),M.paused=!1,this},V.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},V.prototype.wrap=function(M){var A=this,j=this._readableState,J=!1;for(var ae in M.on("end",function(){if(c("wrapped end"),j.decoder&&!j.ended){var re=j.decoder.end();re&&re.length&&A.push(re)}A.push(null)}),M.on("data",function(re){c("wrapped data"),j.decoder&&(re=j.decoder.write(re)),j.objectMode&&re==null||(j.objectMode||re&&re.length)&&(A.push(re)||(J=!0,M.pause()))}),M)this[ae]===void 0&&typeof M[ae]=="function"&&(this[ae]=function(re){return function(){return M[re].apply(M,arguments)}}(ae));for(var ie=0;ie<N.length;ie++)M.on(N[ie],this.emit.bind(this,N[ie]));return this._read=function(re){c("wrapped _read",re),J&&(J=!1,M.resume())},this},typeof Symbol=="function"&&(V.prototype[Symbol.asyncIterator]=function(){return f===void 0&&(f=i("./internal/streams/async_iterator")),f(this)}),Object.defineProperty(V.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(V.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(V.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(M){this._readableState&&(this._readableState.flowing=M)}}),V._fromList=G,Object.defineProperty(V.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(V.from=function(M,A){return p===void 0&&(p=i("./internal/streams/from")),p(V,M,A)})}).call(this)}).call(this,i("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(i,e,t){"use strict";e.exports=c;var n=i("../errors").codes,o=n.ERR_METHOD_NOT_IMPLEMENTED,r=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,l=i("./_stream_duplex");function d(f,p){var m=this._transformState;m.transforming=!1;var g=m.writecb;if(g===null)return this.emit("error",new r);m.writechunk=null,m.writecb=null,p!=null&&this.push(p),g(f);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function c(f){if(!(this instanceof c))return new c(f);l.call(this,f),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",u)}function u(){var f=this;typeof this._flush!="function"||this._readableState.destroyed?h(this,null,null):this._flush(function(p,m){h(f,p,m)})}function h(f,p,m){if(p)return f.emit("error",p);if(m!=null&&f.push(m),f._writableState.length)throw new a;if(f._transformState.transforming)throw new s;return f.push(null)}i("inherits")(c,l),c.prototype.push=function(f,p){return this._transformState.needTransform=!1,l.prototype.push.call(this,f,p)},c.prototype._transform=function(f,p,m){m(new o("_transform()"))},c.prototype._write=function(f,p,m){var g=this._transformState;if(g.writecb=m,g.writechunk=f,g.writeencoding=p,!g.transforming){var b=this._readableState;(g.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},c.prototype._read=function(f){var p=this._transformState;p.writechunk===null||p.transforming?p.needTransform=!0:(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform))},c.prototype._destroy=function(f,p){l.prototype._destroy.call(this,f,function(m){p(m)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(i,e,t){(function(n,o){(function(){"use strict";function r(y){var w=this;this.next=null,this.entry=null,this.finish=function(){(function(O,P,W){var G=O.entry;for(O.entry=null;G;){var K=G.callback;P.pendingcb--,K(W),G=G.next}P.corkedRequestsFree.next=O})(w,y)}}var s;e.exports=V,V.WritableState=z;var a={deprecate:i("util-deprecate")},l=i("./internal/streams/stream"),d=i("buffer").Buffer,c=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},u,h=i("./internal/streams/destroy"),f=i("./internal/streams/state").getHighWaterMark,p=i("../errors").codes,m=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,b=p.ERR_MULTIPLE_CALLBACK,x=p.ERR_STREAM_CANNOT_PIPE,E=p.ERR_STREAM_DESTROYED,D=p.ERR_STREAM_NULL_VALUES,L=p.ERR_STREAM_WRITE_AFTER_END,k=p.ERR_UNKNOWN_ENCODING,R=h.errorOrDestroy;function N(){}function z(y,w,O){s=s||i("./_stream_duplex"),y=y||{},typeof O!="boolean"&&(O=w instanceof s),this.objectMode=!!y.objectMode,O&&(this.objectMode=this.objectMode||!!y.writableObjectMode),this.highWaterMark=f(this,y,"writableHighWaterMark",O),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var P=y.decodeStrings===!1;this.decodeStrings=!P,this.defaultEncoding=y.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(W){(function(G,K){var F=G._writableState,Y=F.sync,M=F.writecb;if(typeof M!="function")throw new b;if(function(j){j.writing=!1,j.writecb=null,j.length-=j.writelen,j.writelen=0}(F),K)(function(j,J,ae,ie,re){--J.pendingcb,ae?(n.nextTick(re,ie),n.nextTick(C,j,J),j._writableState.errorEmitted=!0,R(j,ie)):(re(ie),j._writableState.errorEmitted=!0,R(j,ie),C(j,J))})(G,F,Y,K,M);else{var A=_(F)||G.destroyed;A||F.corked||F.bufferProcessing||!F.bufferedRequest||B(G,F),Y?n.nextTick(T,G,F,A,M):T(G,F,A,M)}})(w,W)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=y.emitClose!==!1,this.autoDestroy=!!y.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function V(y){var w=this instanceof(s=s||i("./_stream_duplex"));if(!w&&!u.call(V,this))return new V(y);this._writableState=new z(y,this,w),this.writable=!0,y&&(typeof y.write=="function"&&(this._write=y.write),typeof y.writev=="function"&&(this._writev=y.writev),typeof y.destroy=="function"&&(this._destroy=y.destroy),typeof y.final=="function"&&(this._final=y.final)),l.call(this)}function S(y,w,O,P,W,G,K){w.writelen=P,w.writecb=K,w.writing=!0,w.sync=!0,w.destroyed?w.onwrite(new E("write")):O?y._writev(W,w.onwrite):y._write(W,G,w.onwrite),w.sync=!1}function T(y,w,O,P){O||function(W,G){G.length===0&&G.needDrain&&(G.needDrain=!1,W.emit("drain"))}(y,w),w.pendingcb--,P(),C(y,w)}function B(y,w){w.bufferProcessing=!0;var O=w.bufferedRequest;if(y._writev&&O&&O.next){var P=w.bufferedRequestCount,W=new Array(P),G=w.corkedRequestsFree;G.entry=O;for(var K=0,F=!0;O;)W[K]=O,O.isBuf||(F=!1),O=O.next,K+=1;W.allBuffers=F,S(y,w,!0,w.length,W,"",G.finish),w.pendingcb++,w.lastBufferedRequest=null,G.next?(w.corkedRequestsFree=G.next,G.next=null):w.corkedRequestsFree=new r(w),w.bufferedRequestCount=0}else{for(;O;){var Y=O.chunk,M=O.encoding,A=O.callback;if(S(y,w,!1,w.objectMode?1:Y.length,Y,M,A),O=O.next,w.bufferedRequestCount--,w.writing)break}O===null&&(w.lastBufferedRequest=null)}w.bufferedRequest=O,w.bufferProcessing=!1}function _(y){return y.ending&&y.length===0&&y.bufferedRequest===null&&!y.finished&&!y.writing}function v(y,w){y._final(function(O){w.pendingcb--,O&&R(y,O),w.prefinished=!0,y.emit("prefinish"),C(y,w)})}function C(y,w){var O=_(w);if(O&&(function(W,G){G.prefinished||G.finalCalled||(typeof W._final!="function"||G.destroyed?(G.prefinished=!0,W.emit("prefinish")):(G.pendingcb++,G.finalCalled=!0,n.nextTick(v,W,G)))}(y,w),w.pendingcb===0&&(w.finished=!0,y.emit("finish"),w.autoDestroy))){var P=y._readableState;(!P||P.autoDestroy&&P.endEmitted)&&y.destroy()}return O}i("inherits")(V,l),z.prototype.getBuffer=function(){for(var y=this.bufferedRequest,w=[];y;)w.push(y),y=y.next;return w},function(){try{Object.defineProperty(z.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(V,Symbol.hasInstance,{value:function(y){return!!u.call(this,y)||this===V&&y&&y._writableState instanceof z}})):u=function(y){return y instanceof this},V.prototype.pipe=function(){R(this,new x)},V.prototype.write=function(y,w,O){var P,W=this._writableState,G=!1,K=!W.objectMode&&(P=y,d.isBuffer(P)||P instanceof c);return K&&!d.isBuffer(y)&&(y=function(F){return d.from(F)}(y)),typeof w=="function"&&(O=w,w=null),K?w="buffer":w||(w=W.defaultEncoding),typeof O!="function"&&(O=N),W.ending?function(F,Y){var M=new L;R(F,M),n.nextTick(Y,M)}(this,O):(K||function(F,Y,M,A){var j;return M===null?j=new D:typeof M=="string"||Y.objectMode||(j=new m("chunk",["string","Buffer"],M)),!j||(R(F,j),n.nextTick(A,j),!1)}(this,W,y,O))&&(W.pendingcb++,G=function(F,Y,M,A,j,J){if(!M){var ae=function(ve,te,ge){return ve.objectMode||ve.decodeStrings===!1||typeof te!="string"||(te=d.from(te,ge)),te}(Y,A,j);A!==ae&&(M=!0,j="buffer",A=ae)}var ie=Y.objectMode?1:A.length;Y.length+=ie;var re=Y.length<Y.highWaterMark;if(re||(Y.needDrain=!0),Y.writing||Y.corked){var Ce=Y.lastBufferedRequest;Y.lastBufferedRequest={chunk:A,encoding:j,isBuf:M,callback:J,next:null},Ce?Ce.next=Y.lastBufferedRequest:Y.bufferedRequest=Y.lastBufferedRequest,Y.bufferedRequestCount+=1}else S(F,Y,!1,ie,A,j,J);return re}(this,W,K,y,w,O)),G},V.prototype.cork=function(){this._writableState.corked++},V.prototype.uncork=function(){var y=this._writableState;y.corked&&(y.corked--,y.writing||y.corked||y.bufferProcessing||!y.bufferedRequest||B(this,y))},V.prototype.setDefaultEncoding=function(y){if(typeof y=="string"&&(y=y.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((y+"").toLowerCase())>-1))throw new k(y);return this._writableState.defaultEncoding=y,this},Object.defineProperty(V.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(V.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),V.prototype._write=function(y,w,O){O(new g("_write()"))},V.prototype._writev=null,V.prototype.end=function(y,w,O){var P=this._writableState;return typeof y=="function"?(O=y,y=null,w=null):typeof w=="function"&&(O=w,w=null),y!=null&&this.write(y,w),P.corked&&(P.corked=1,this.uncork()),P.ending||function(W,G,K){G.ending=!0,C(W,G),K&&(G.finished?n.nextTick(K):W.once("finish",K)),G.ended=!0,W.writable=!1}(this,P,O),this},Object.defineProperty(V.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(V.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(y){this._writableState&&(this._writableState.destroyed=y)}}),V.prototype.destroy=h.destroy,V.prototype._undestroy=h.undestroy,V.prototype._destroy=function(y,w){w(y)}}).call(this)}).call(this,i("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(i,e,t){(function(n){(function(){"use strict";var o;function r(E,D,L){return(D=function(k){var R=function(N,z){if(typeof N!="object"||N===null)return N;var V=N[Symbol.toPrimitive];if(V!==void 0){var S=V.call(N,z||"default");if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(z==="string"?String:Number)(N)}(k,"string");return typeof R=="symbol"?R:String(R)}(D))in E?Object.defineProperty(E,D,{value:L,enumerable:!0,configurable:!0,writable:!0}):E[D]=L,E}var s=i("./end-of-stream"),a=Symbol("lastResolve"),l=Symbol("lastReject"),d=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function p(E,D){return{value:E,done:D}}function m(E){var D=E[a];if(D!==null){var L=E[f].read();L!==null&&(E[u]=null,E[a]=null,E[l]=null,D(p(L,!1)))}}function g(E){n.nextTick(m,E)}var b=Object.getPrototypeOf(function(){}),x=Object.setPrototypeOf((r(o={get stream(){return this[f]},next:function(){var E=this,D=this[d];if(D!==null)return Promise.reject(D);if(this[c])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise(function(N,z){n.nextTick(function(){E[d]?z(E[d]):N(p(void 0,!0))})});var L,k=this[u];if(k)L=new Promise(function(N,z){return function(V,S){N.then(function(){z[c]?V(p(void 0,!0)):z[h](V,S)},S)}}(k,this));else{var R=this[f].read();if(R!==null)return Promise.resolve(p(R,!1));L=new Promise(this[h])}return this[u]=L,L}},Symbol.asyncIterator,function(){return this}),r(o,"return",function(){var E=this;return new Promise(function(D,L){E[f].destroy(null,function(k){k?L(k):D(p(void 0,!0))})})}),o),b);e.exports=function(E){var D,L=Object.create(x,(r(D={},f,{value:E,writable:!0}),r(D,a,{value:null,writable:!0}),r(D,l,{value:null,writable:!0}),r(D,d,{value:null,writable:!0}),r(D,c,{value:E._readableState.endEmitted,writable:!0}),r(D,h,{value:function(k,R){var N=L[f].read();N?(L[u]=null,L[a]=null,L[l]=null,k(p(N,!1))):(L[a]=k,L[l]=R)},writable:!0}),D));return L[u]=null,s(E,function(k){if(k&&k.code!=="ERR_STREAM_PREMATURE_CLOSE"){var R=L[l];return R!==null&&(L[u]=null,L[a]=null,L[l]=null,R(k)),void(L[d]=k)}var N=L[a];N!==null&&(L[u]=null,L[a]=null,L[l]=null,N(p(void 0,!0))),L[c]=!0}),E.on("readable",g.bind(null,L)),L}}).call(this)}).call(this,i("_process"))},{"./end-of-stream":486,_process:467}],484:[function(i,e,t){"use strict";function n(u,h){var f=Object.keys(u);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(u);h&&(p=p.filter(function(m){return Object.getOwnPropertyDescriptor(u,m).enumerable})),f.push.apply(f,p)}return f}function o(u){for(var h=1;h<arguments.length;h++){var f=arguments[h]!=null?arguments[h]:{};h%2?n(Object(f),!0).forEach(function(p){r(u,p,f[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(f)):n(Object(f)).forEach(function(p){Object.defineProperty(u,p,Object.getOwnPropertyDescriptor(f,p))})}return u}function r(u,h,f){return(h=a(h))in u?Object.defineProperty(u,h,{value:f,enumerable:!0,configurable:!0,writable:!0}):u[h]=f,u}function s(u,h){for(var f=0;f<h.length;f++){var p=h[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,a(p.key),p)}}function a(u){var h=function(f,p){if(typeof f!="object"||f===null)return f;var m=f[Symbol.toPrimitive];if(m!==void 0){var g=m.call(f,p||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(f)}(u,"string");return typeof h=="symbol"?h:String(h)}var l=i("buffer").Buffer,d=i("util").inspect,c=d&&d.custom||"inspect";e.exports=function(){function u(){(function(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")})(this,u),this.head=null,this.tail=null,this.length=0}var h,f,p;return h=u,(f=[{key:"push",value:function(m){var g={data:m,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(m){var g={data:m,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var g=this.head,b=""+g.data;g=g.next;)b+=m+g.data;return b}},{key:"concat",value:function(m){if(this.length===0)return l.alloc(0);for(var g,b,x,E=l.allocUnsafe(m>>>0),D=this.head,L=0;D;)g=D.data,b=E,x=L,l.prototype.copy.call(g,b,x),L+=D.data.length,D=D.next;return E}},{key:"consume",value:function(m,g){var b;return m<this.head.data.length?(b=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):b=m===this.head.data.length?this.shift():g?this._getString(m):this._getBuffer(m),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var g=this.head,b=1,x=g.data;for(m-=x.length;g=g.next;){var E=g.data,D=m>E.length?E.length:m;if(D===E.length?x+=E:x+=E.slice(0,m),(m-=D)==0){D===E.length?(++b,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=E.slice(D));break}++b}return this.length-=b,x}},{key:"_getBuffer",value:function(m){var g=l.allocUnsafe(m),b=this.head,x=1;for(b.data.copy(g),m-=b.data.length;b=b.next;){var E=b.data,D=m>E.length?E.length:m;if(E.copy(g,g.length-m,0,D),(m-=D)==0){D===E.length?(++x,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=E.slice(D));break}++x}return this.length-=x,g}},{key:c,value:function(m,g){return d(this,o(o({},g),{},{depth:0,customInspect:!1}))}}])&&s(h.prototype,f),p&&s(h,p),Object.defineProperty(h,"prototype",{writable:!1}),u}()},{buffer:220,util:188}],485:[function(i,e,t){(function(n){(function(){"use strict";function o(a,l){s(a,l),r(a)}function r(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function s(a,l){a.emit("error",l)}e.exports={destroy:function(a,l){var d=this,c=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return c||u?(l?l(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(s,this,a)):n.nextTick(s,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(h){!l&&h?d._writableState?d._writableState.errorEmitted?n.nextTick(r,d):(d._writableState.errorEmitted=!0,n.nextTick(o,d,h)):n.nextTick(o,d,h):l?(n.nextTick(r,d),l(h)):n.nextTick(r,d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(a,l){var d=a._readableState,c=a._writableState;d&&d.autoDestroy||c&&c.autoDestroy?a.destroy(l):a.emit("error",l)}}}).call(this)}).call(this,i("_process"))},{_process:467}],486:[function(i,e,t){"use strict";var n=i("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}e.exports=function r(s,a,l){if(typeof a=="function")return r(s,null,a);a||(a={}),l=function(E){var D=!1;return function(){if(!D){D=!0;for(var L=arguments.length,k=new Array(L),R=0;R<L;R++)k[R]=arguments[R];E.apply(this,k)}}}(l||o);var d=a.readable||a.readable!==!1&&s.readable,c=a.writable||a.writable!==!1&&s.writable,u=function(){s.writable||f()},h=s._writableState&&s._writableState.finished,f=function(){c=!1,h=!0,d||l.call(s)},p=s._readableState&&s._readableState.endEmitted,m=function(){d=!1,p=!0,c||l.call(s)},g=function(E){l.call(s,E)},b=function(){var E;return d&&!p?(s._readableState&&s._readableState.ended||(E=new n),l.call(s,E)):c&&!h?(s._writableState&&s._writableState.ended||(E=new n),l.call(s,E)):void 0},x=function(){s.req.on("finish",f)};return function(E){return E.setHeader&&typeof E.abort=="function"}(s)?(s.on("complete",f),s.on("abort",b),s.req?x():s.on("request",x)):c&&!s._writableState&&(s.on("end",u),s.on("close",u)),s.on("end",m),s.on("finish",f),a.error!==!1&&s.on("error",g),s.on("close",b),function(){s.removeListener("complete",f),s.removeListener("abort",b),s.removeListener("request",x),s.req&&s.req.removeListener("finish",f),s.removeListener("end",u),s.removeListener("close",u),s.removeListener("finish",f),s.removeListener("end",m),s.removeListener("error",g),s.removeListener("close",b)}}},{"../../../errors":477}],487:[function(i,e,t){"use strict";e.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(i,e,t){"use strict";var n,o=i("../../../errors").codes,r=o.ERR_MISSING_ARGS,s=o.ERR_STREAM_DESTROYED;function a(h){if(h)throw h}function l(h,f,p,m){m=function(x){var E=!1;return function(){E||(E=!0,x.apply(void 0,arguments))}}(m);var g=!1;h.on("close",function(){g=!0}),n===void 0&&(n=i("./end-of-stream")),n(h,{readable:f,writable:p},function(x){if(x)return m(x);g=!0,m()});var b=!1;return function(x){if(!g&&!b)return b=!0,function(E){return E.setHeader&&typeof E.abort=="function"}(h)?h.abort():typeof h.destroy=="function"?h.destroy():void m(x||new s("pipe"))}}function d(h){h()}function c(h,f){return h.pipe(f)}function u(h){return h.length?typeof h[h.length-1]!="function"?a:h.pop():a}e.exports=function(){for(var h=arguments.length,f=new Array(h),p=0;p<h;p++)f[p]=arguments[p];var m,g=u(f);if(Array.isArray(f[0])&&(f=f[0]),f.length<2)throw new r("streams");var b=f.map(function(x,E){var D=E<f.length-1;return l(x,D,E>0,function(L){m||(m=L),L&&b.forEach(d),D||(b.forEach(d),g(m))})});return f.reduce(c)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(i,e,t){"use strict";var n=i("../../../errors").codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(o,r,s,a){var l=function(d,c,u){return d.highWaterMark!=null?d.highWaterMark:c?d[u]:null}(r,a,s);if(l!=null){if(!isFinite(l)||Math.floor(l)!==l||l<0)throw new n(a?s:"highWaterMark",l);return Math.floor(l)}return o.objectMode?16:16384}}},{"../../../errors":477}],490:[function(i,e,t){"use strict";e.exports=i("events").EventEmitter},{events:422}],491:[function(i,e,t){"use strict";(t=e.exports=i("./lib/_stream_readable.js")).Stream=t,t.Readable=t,t.Writable=i("./lib/_stream_writable.js"),t.Duplex=i("./lib/_stream_duplex.js"),t.Transform=i("./lib/_stream_transform.js"),t.PassThrough=i("./lib/_stream_passthrough.js"),t.finished=i("./lib/internal/streams/end-of-stream.js"),t.pipeline=i("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(i,e,t){"use strict";var n=function(o){var r=Object.prototype,s=r.hasOwnProperty,a=Object.defineProperty||function(C,y,w){C[y]=w.value},l=typeof Symbol=="function"?Symbol:{},d=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",u=l.toStringTag||"@@toStringTag";function h(C,y,w){return Object.defineProperty(C,y,{value:w,enumerable:!0,configurable:!0,writable:!0}),C[y]}try{h({},"")}catch{h=function(y,w,O){return y[w]=O}}function f(C,y,w,O){var P=y&&y.prototype instanceof g?y:g,W=Object.create(P.prototype),G=new B(O||[]);return a(W,"_invoke",{value:z(C,w,G)}),W}function p(C,y,w){try{return{type:"normal",arg:C.call(y,w)}}catch(O){return{type:"throw",arg:O}}}o.wrap=f;var m={};function g(){}function b(){}function x(){}var E={};h(E,d,function(){return this});var D=Object.getPrototypeOf,L=D&&D(D(_([])));L&&L!==r&&s.call(L,d)&&(E=L);var k=x.prototype=g.prototype=Object.create(E);function R(C){["next","throw","return"].forEach(function(y){h(C,y,function(w){return this._invoke(y,w)})})}function N(C,y){var w;a(this,"_invoke",{value:function(O,P){function W(){return new y(function(G,K){(function F(Y,M,A,j){var J=p(C[Y],C,M);if(J.type!=="throw"){var ae=J.arg,ie=ae.value;return ie&&typeof ie=="object"&&s.call(ie,"__await")?y.resolve(ie.__await).then(function(re){F("next",re,A,j)},function(re){F("throw",re,A,j)}):y.resolve(ie).then(function(re){ae.value=re,A(ae)},function(re){return F("throw",re,A,j)})}j(J.arg)})(O,P,G,K)})}return w=w?w.then(W,W):W()}})}function z(C,y,w){var O="suspendedStart";return function(P,W){if(O==="executing")throw new Error("Generator is already running");if(O==="completed"){if(P==="throw")throw W;return v()}for(w.method=P,w.arg=W;;){var G=w.delegate;if(G){var K=V(G,w);if(K){if(K===m)continue;return K}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(O==="suspendedStart")throw O="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);O="executing";var F=p(C,y,w);if(F.type==="normal"){if(O=w.done?"completed":"suspendedYield",F.arg===m)continue;return{value:F.arg,done:w.done}}F.type==="throw"&&(O="completed",w.method="throw",w.arg=F.arg)}}}function V(C,y){var w=y.method,O=C.iterator[w];if(O===void 0)return y.delegate=null,w==="throw"&&C.iterator.return&&(y.method="return",y.arg=void 0,V(C,y),y.method==="throw")||w!=="return"&&(y.method="throw",y.arg=new TypeError("The iterator does not provide a '"+w+"' method")),m;var P=p(O,C.iterator,y.arg);if(P.type==="throw")return y.method="throw",y.arg=P.arg,y.delegate=null,m;var W=P.arg;return W?W.done?(y[C.resultName]=W.value,y.next=C.nextLoc,y.method!=="return"&&(y.method="next",y.arg=void 0),y.delegate=null,m):W:(y.method="throw",y.arg=new TypeError("iterator result is not an object"),y.delegate=null,m)}function S(C){var y={tryLoc:C[0]};1 in C&&(y.catchLoc=C[1]),2 in C&&(y.finallyLoc=C[2],y.afterLoc=C[3]),this.tryEntries.push(y)}function T(C){var y=C.completion||{};y.type="normal",delete y.arg,C.completion=y}function B(C){this.tryEntries=[{tryLoc:"root"}],C.forEach(S,this),this.reset(!0)}function _(C){if(C){var y=C[d];if(y)return y.call(C);if(typeof C.next=="function")return C;if(!isNaN(C.length)){var w=-1,O=function P(){for(;++w<C.length;)if(s.call(C,w))return P.value=C[w],P.done=!1,P;return P.value=void 0,P.done=!0,P};return O.next=O}}return{next:v}}function v(){return{value:void 0,done:!0}}return b.prototype=x,a(k,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:b,configurable:!0}),b.displayName=h(x,u,"GeneratorFunction"),o.isGeneratorFunction=function(C){var y=typeof C=="function"&&C.constructor;return!!y&&(y===b||(y.displayName||y.name)==="GeneratorFunction")},o.mark=function(C){return Object.setPrototypeOf?Object.setPrototypeOf(C,x):(C.__proto__=x,h(C,u,"GeneratorFunction")),C.prototype=Object.create(k),C},o.awrap=function(C){return{__await:C}},R(N.prototype),h(N.prototype,c,function(){return this}),o.AsyncIterator=N,o.async=function(C,y,w,O,P){P===void 0&&(P=Promise);var W=new N(f(C,y,w,O),P);return o.isGeneratorFunction(y)?W:W.next().then(function(G){return G.done?G.value:W.next()})},R(k),h(k,u,"Generator"),h(k,d,function(){return this}),h(k,"toString",function(){return"[object Generator]"}),o.keys=function(C){var y=Object(C),w=[];for(var O in y)w.push(O);return w.reverse(),function P(){for(;w.length;){var W=w.pop();if(W in y)return P.value=W,P.done=!1,P}return P.done=!0,P}},o.values=_,B.prototype={constructor:B,reset:function(C){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!C)for(var y in this)y.charAt(0)==="t"&&s.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=void 0)},stop:function(){this.done=!0;var C=this.tryEntries[0].completion;if(C.type==="throw")throw C.arg;return this.rval},dispatchException:function(C){if(this.done)throw C;var y=this;function w(F,Y){return W.type="throw",W.arg=C,y.next=F,Y&&(y.method="next",y.arg=void 0),!!Y}for(var O=this.tryEntries.length-1;O>=0;--O){var P=this.tryEntries[O],W=P.completion;if(P.tryLoc==="root")return w("end");if(P.tryLoc<=this.prev){var G=s.call(P,"catchLoc"),K=s.call(P,"finallyLoc");if(G&&K){if(this.prev<P.catchLoc)return w(P.catchLoc,!0);if(this.prev<P.finallyLoc)return w(P.finallyLoc)}else if(G){if(this.prev<P.catchLoc)return w(P.catchLoc,!0)}else{if(!K)throw new Error("try statement without catch or finally");if(this.prev<P.finallyLoc)return w(P.finallyLoc)}}}},abrupt:function(C,y){for(var w=this.tryEntries.length-1;w>=0;--w){var O=this.tryEntries[w];if(O.tryLoc<=this.prev&&s.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var P=O;break}}P&&(C==="break"||C==="continue")&&P.tryLoc<=y&&y<=P.finallyLoc&&(P=null);var W=P?P.completion:{};return W.type=C,W.arg=y,P?(this.method="next",this.next=P.finallyLoc,m):this.complete(W)},complete:function(C,y){if(C.type==="throw")throw C.arg;return C.type==="break"||C.type==="continue"?this.next=C.arg:C.type==="return"?(this.rval=this.arg=C.arg,this.method="return",this.next="end"):C.type==="normal"&&y&&(this.next=y),m},finish:function(C){for(var y=this.tryEntries.length-1;y>=0;--y){var w=this.tryEntries[y];if(w.finallyLoc===C)return this.complete(w.completion,w.afterLoc),T(w),m}},catch:function(C){for(var y=this.tryEntries.length-1;y>=0;--y){var w=this.tryEntries[y];if(w.tryLoc===C){var O=w.completion;if(O.type==="throw"){var P=O.arg;T(w)}return P}}throw new Error("illegal catch attempt")},delegateYield:function(C,y,w){return this.delegate={iterator:_(C),resultName:y,nextLoc:w},this.method==="next"&&(this.arg=void 0),m}},o}(typeof e=="object"?e.exports:{});try{regeneratorRuntime=n}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},{}],493:[function(i,e,t){"use strict";var n=i("buffer").Buffer,o=i("inherits"),r=i("hash-base"),s=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],d=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],c=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],u=[0,1518500249,1859775393,2400959708,2840853838],h=[1352829926,1548603684,1836072691,2053994217,0];function f(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(D,L){return D<<L|D>>>32-L}function m(D,L,k,R,N,z,V,S){return p(D+(L^k^R)+z+V|0,S)+N|0}function g(D,L,k,R,N,z,V,S){return p(D+(L&k|~L&R)+z+V|0,S)+N|0}function b(D,L,k,R,N,z,V,S){return p(D+((L|~k)^R)+z+V|0,S)+N|0}function x(D,L,k,R,N,z,V,S){return p(D+(L&R|k&~R)+z+V|0,S)+N|0}function E(D,L,k,R,N,z,V,S){return p(D+(L^(k|~R))+z+V|0,S)+N|0}o(f,r),f.prototype._update=function(){for(var D=s,L=0;L<16;++L)D[L]=this._block.readInt32LE(4*L);for(var k=0|this._a,R=0|this._b,N=0|this._c,z=0|this._d,V=0|this._e,S=0|this._a,T=0|this._b,B=0|this._c,_=0|this._d,v=0|this._e,C=0;C<80;C+=1){var y,w;C<16?(y=m(k,R,N,z,V,D[a[C]],u[0],d[C]),w=E(S,T,B,_,v,D[l[C]],h[0],c[C])):C<32?(y=g(k,R,N,z,V,D[a[C]],u[1],d[C]),w=x(S,T,B,_,v,D[l[C]],h[1],c[C])):C<48?(y=b(k,R,N,z,V,D[a[C]],u[2],d[C]),w=b(S,T,B,_,v,D[l[C]],h[2],c[C])):C<64?(y=x(k,R,N,z,V,D[a[C]],u[3],d[C]),w=g(S,T,B,_,v,D[l[C]],h[3],c[C])):(y=E(k,R,N,z,V,D[a[C]],u[4],d[C]),w=m(S,T,B,_,v,D[l[C]],h[4],c[C])),k=V,V=z,z=p(N,10),N=R,R=y,S=v,v=_,_=p(B,10),B=T,T=w}var O=this._b+N+_|0;this._b=this._c+z+v|0,this._c=this._d+V+S|0,this._d=this._e+k+T|0,this._e=this._a+R+B|0,this._a=O},f.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var D=n.alloc?n.alloc(20):new n(20);return D.writeInt32LE(this._a,0),D.writeInt32LE(this._b,4),D.writeInt32LE(this._c,8),D.writeInt32LE(this._d,12),D.writeInt32LE(this._e,16),D},e.exports=f},{buffer:220,"hash-base":425,inherits:440}],494:[function(i,e,t){"use strict";var n=i("buffer"),o=n.Buffer;function r(a,l){for(var d in a)l[d]=a[d]}function s(a,l,d){return o(a,l,d)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=n:(r(n,t),t.Buffer=s),s.prototype=Object.create(o.prototype),r(o,s),s.from=function(a,l,d){if(typeof a=="number")throw new TypeError("Argument must not be a number");return o(a,l,d)},s.alloc=function(a,l,d){if(typeof a!="number")throw new TypeError("Argument must be a number");var c=o(a);return l!==void 0?typeof d=="string"?c.fill(l,d):c.fill(l):c.fill(0),c},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return o(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(a)}},{buffer:220}],495:[function(i,e,t){(function(n){(function(){"use strict";var o,r=i("buffer"),s=r.Buffer,a={};for(o in r)r.hasOwnProperty(o)&&o!=="SlowBuffer"&&o!=="Buffer"&&(a[o]=r[o]);var l=a.Buffer={};for(o in s)s.hasOwnProperty(o)&&o!=="allocUnsafe"&&o!=="allocUnsafeSlow"&&(l[o]=s[o]);if(a.Buffer.prototype=s.prototype,l.from&&l.from!==Uint8Array.from||(l.from=function(d,c,u){if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof d);if(d&&d.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);return s(d,c,u)}),l.alloc||(l.alloc=function(d,c,u){if(typeof d!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof d);if(d<0||d>=2*(1<<30))throw new RangeError('The value "'+d+'" is invalid for option "size"');var h=s(d);return c&&c.length!==0?typeof u=="string"?h.fill(c,u):h.fill(c):h.fill(0),h}),!a.kStringMaxLength)try{a.kStringMaxLength=n.binding("buffer").kStringMaxLength}catch{}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),e.exports=a}).call(this)}).call(this,i("_process"))},{_process:467,buffer:220}],496:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=i("xmlchars/xml/1.0/ed5"),o=i("xmlchars/xml/1.1/ed2"),r=i("xmlchars/xmlns/1.0/ed3");var s=n.isS,a=n.isChar,l=n.isNameStartChar,d=n.isNameChar,c=n.S_LIST,u=n.NAME_RE,h=o.isChar,f=r.isNCNameStartChar,p=r.isNCNameChar,m=r.NC_NAME_RE;let g="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/2000/xmlns/",x={__proto__:null,xml:g,xmlns:b},E={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},D=_=>_===34||_===39,L=[34,39],k=[...L,91,62],R=[...L,60,93],N=[61,63,...c],z=[...c,62,38,60];function V(_,v,C){switch(v){case"xml":C!==g&&_.fail(`xml prefix must be bound to ${g}.`);break;case"xmlns":C!==b&&_.fail(`xmlns prefix must be bound to ${b}.`)}switch(C){case b:_.fail(v===""?`the default namespace may not be set to ${C}.`:`may not assign a prefix (even "xmlns") to the URI ${b}.`);break;case g:switch(v){case"xml":break;case"":_.fail(`the default namespace may not be set to ${C}.`);break;default:_.fail("may not assign the xml namespace to another prefix.")}}}let S=_=>m.test(_),T=_=>u.test(_);t.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];let B={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};t.SaxesParser=class{constructor(_){this.opt=_??{},this.fragmentOpt=!!this.opt.fragment;let v=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,v){this.nameStartCheck=f,this.nameCheck=p,this.isName=S,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},x);let C=this.opt.additionalNamespaces;C!=null&&(function(y,w){for(let O of Object.keys(w))V(y,O,w[O])}(this,C),Object.assign(this.ns,C))}else this.nameStartCheck=l,this.nameCheck=d,this.isName=T,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var _;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];let{fragmentOpt:v}=this;this.state=v?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=v,this.xmlDeclPossible=!v,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:C}=this.opt;if(C===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");C="1.0"}this.setXMLVersion(C),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(E),(_=this.readyHandler)===null||_===void 0||_.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(_,v){this[B[_]]=v}off(_){this[B[_]]=void 0}makeError(_){var v;let C=(v=this.fileName)!==null&&v!==void 0?v:"";return this.trackPosition&&(C.length>0&&(C+=":"),C+=`${this.line}:${this.column}`),C.length>0&&(C+=": "),new Error(C+_)}fail(_){let v=this.makeError(_),C=this.errorHandler;if(C===void 0)throw v;return C(v),this}write(_){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let v=!1;_===null?(v=!0,_=""):typeof _=="object"&&(_=_.toString()),this.carriedFromPrevious!==void 0&&(_=`${this.carriedFromPrevious}${_}`,this.carriedFromPrevious=void 0);let C=_.length,y=_.charCodeAt(C-1);!v&&(y===13||y>=55296&&y<=56319)&&(this.carriedFromPrevious=_[C-1],C--,_=_.slice(0,C));let{stateTable:w}=this;for(this.chunk=_,this.i=0;this.i<C;)w[this.state].call(this);return this.chunkPosition+=C,v?this.end():this}close(){return this.write(null)}getCode10(){let{chunk:_,i:v}=this;if(this.prevI=v,this.i=v+1,v>=_.length)return-1;let C=_.charCodeAt(v);if(this.column++,C<55296){if(C>=32||C===9)return C;switch(C){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return _.charCodeAt(v+1)===10&&(this.i=v+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),C}}if(C>56319)return C>=57344&&C<=65533||this.fail("disallowed character."),C;let y=65536+1024*(C-55296)+(_.charCodeAt(v+1)-56320);return this.i=v+2,y>1114111&&this.fail("disallowed character."),y}getCode11(){let{chunk:_,i:v}=this;if(this.prevI=v,this.i=v+1,v>=_.length)return-1;let C=_.charCodeAt(v);if(this.column++,C<55296){if(C>31&&C<127||C>159&&C!==8232||C===9)return C;switch(C){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{let w=_.charCodeAt(v+1);w!==10&&w!==133||(this.i=v+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),C}}if(C>56319)return C>=57344&&C<=65533||this.fail("disallowed character."),C;let y=65536+1024*(C-55296)+(_.charCodeAt(v+1)-56320);return this.i=v+2,y>1114111&&this.fail("disallowed character."),y}getCodeNorm(){let _=this.getCode();return _===-2?10:_}unget(){this.i=this.prevI,this.column--}captureTo(_){let{i:v}=this,{chunk:C}=this;for(;;){let y=this.getCode(),w=y===-2,O=w?10:y;if(O===-1||_.includes(O))return this.text+=C.slice(v,this.prevI),O;w&&(this.text+=C.slice(v,this.prevI)+`
`,v=this.i)}}captureToChar(_){let{i:v}=this,{chunk:C}=this;for(;;){let y=this.getCode();switch(y){case-2:this.text+=C.slice(v,this.prevI)+`
`,v=this.i,y=10;break;case-1:return this.text+=C.slice(v),!1}if(y===_)return this.text+=C.slice(v,this.prevI),!0}}captureNameChars(){let{chunk:_,i:v}=this;for(;;){let C=this.getCode();if(C===-1)return this.name+=_.slice(v),-1;if(!d(C))return this.name+=_.slice(v,this.prevI),C===-2?10:C}}skipSpaces(){for(;;){let _=this.getCodeNorm();if(_===-1||!s(_))return _}}setXMLVersion(_){this.currentXMLVersion=_,_==="1.0"?(this.isChar=a,this.getCode=this.getCode10):(this.isChar=h,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){let _=this.i,v=this.skipSpaces();switch(this.prevI!==_&&(this.xmlDeclPossible=!1),v){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var _;let v=this.captureTo(k);switch(v){case 62:(_=this.doctypeHandler)===null||_===void 0||_.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(v),v===91?this.state=4:D(v)&&(this.state=3,this.q=v)}}sDoctypeQuote(){let _=this.q;this.captureToChar(_)&&(this.text+=String.fromCodePoint(_),this.q=null,this.state=2)}sDTD(){let _=this.captureTo(R);_!==-1&&(this.text+=String.fromCodePoint(_),_===93?this.state=2:_===60?this.state=6:D(_)&&(this.state=5,this.q=_))}sDTDQuoted(){let _=this.q;this.captureToChar(_)&&(this.text+=String.fromCodePoint(_),this.state=4,this.q=null)}sDTDOpenWaka(){let _=this.getCodeNorm();switch(this.text+=String.fromCodePoint(_),_){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){let _=String.fromCodePoint(this.getCodeNorm()),v=this.openWakaBang+=_;this.text+=_,v!=="-"&&(this.state=v==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){let _=this.getCodeNorm();this.text+=String.fromCodePoint(_),this.state=_===45?10:8}sDTDCommentEnded(){let _=this.getCodeNorm();this.text+=String.fromCodePoint(_),_===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){let _=this.getCodeNorm();this.text+=String.fromCodePoint(_),_===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:_}=this,{chunk:v}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=v.slice(_,this.prevI)+`
`,_=this.i;break;case 59:{let{entityReturnState:C}=this,y=this.entity+v.slice(_,this.prevI),w;this.state=C,y===""?(this.fail("empty entity name."),w="&;"):(w=this.parseEntity(y),this.entity=""),C===13&&this.textHandler===void 0||(this.text+=w);break e}case-1:this.entity+=v.slice(_);break e}}sOpenWaka(){let _=this.getCode();if(l(_))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(_){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var _;let v=this.getCodeNorm();v===45?(this.state=19,(_=this.commentHandler)===null||_===void 0||_.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(v),this.state=17)}sCommentEnded(){let _=this.getCodeNorm();_!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(_),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){let _=this.getCodeNorm();_===93?this.state=22:(this.text+="]"+String.fromCodePoint(_),this.state=20)}sCDataEnding2(){var _;let v=this.getCodeNorm();switch(v){case 62:(_=this.cdataHandler)===null||_===void 0||_.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(v),this.state=20}}sPIFirstChar(){let _=this.getCodeNorm();this.nameStartCheck(_)?(this.piTarget+=String.fromCodePoint(_),this.state=24):_===63||s(_)?(this.fail("processing instruction without a target."),this.state=_===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(_),this.state=24)}sPIRest(){let{chunk:_,i:v}=this;for(;;){let C=this.getCodeNorm();if(C===-1)return void(this.piTarget+=_.slice(v));if(!this.nameCheck(C)){this.piTarget+=_.slice(v,this.prevI);let y=C===63;y||s(C)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=y?33:27):this.state=y?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(C));break}}}sPIBody(){if(this.text.length===0){let _=this.getCodeNorm();_===63?this.state=26:s(_)||(this.text=String.fromCodePoint(_))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var _;let v=this.getCodeNorm();if(v===62){let{piTarget:C}=this;C.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(_=this.piHandler)===null||_===void 0||_.call(this,{target:C,body:this.text}),this.piTarget=this.text="",this.state=13}else v===63?this.text+="?":(this.text+="?"+String.fromCodePoint(v),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){let _=this.skipSpaces();_!==63?_!==-1&&(this.state=28,this.name=String.fromCodePoint(_)):this.state=33}sXMLDeclName(){let _=this.captureTo(N);if(_===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(s(_)||_===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=_===61?30:29}}sXMLDeclEq(){let _=this.getCodeNorm();if(_===63)return this.state=33,void this.fail("XML declaration is incomplete.");s(_)||(_!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){let _=this.getCodeNorm();if(_===63)return this.state=33,void this.fail("XML declaration is incomplete.");s(_)||(D(_)?this.q=_:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){let _=this.captureTo([this.q,63]);if(_===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(_===-1)return;let v=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];let C=v;this.xmlDecl.version=C,/^1\.[0-9]+$/.test(C)?this.opt.forceXMLVersion||this.setXMLVersion(C):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(v)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=v;break;case"standalone":v!=="yes"&&v!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=v}this.name="",this.state=32}sXMLDeclSeparator(){let _=this.getCodeNorm();_!==63?(s(_)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var _;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(_=this.xmldeclHandler)===null||_===void 0||_.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var _;let v=this.captureNameChars();if(v===-1)return;let C=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=C.ns=Object.create(null)),(_=this.openTagStartHandler)===null||_===void 0||_.call(this,C),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),v){case 62:this.openTag();break;case 47:this.state=35;break;default:s(v)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){let _=this.skipSpaces();_!==-1&&(l(_)?(this.unget(),this.state=37):_===62?this.openTag():_===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){let _=this.captureNameChars();_===61?this.state=39:s(_)?this.state=38:_===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):_!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){let _=this.skipSpaces();switch(_){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",_===62?this.openTag():l(_)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){let _=this.getCodeNorm();D(_)?(this.q=_,this.state=40):s(_)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){let{q:_,chunk:v}=this,{i:C}=this;for(;;)switch(this.getCode()){case _:return this.pushAttrib(this.name,this.text+v.slice(C,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=v.slice(C,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=v.slice(C,this.prevI)+" ",C=this.i;break;case 60:return this.text+=v.slice(C,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=v.slice(C))}}sAttribValueClosed(){let _=this.getCodeNorm();s(_)?this.state=36:_===62?this.openTag():_===47?this.state=35:l(_)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){let _=this.captureTo(z);switch(_){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",_===62?this.openTag():this.state=36}}sCloseTag(){let _=this.captureNameChars();_===62?this.closeTag():s(_)?this.state=44:_!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:_,forbiddenState:v}=this,{chunk:C,textHandler:y}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,y!==void 0){let{text:w}=this,O=C.slice(_,this.prevI);w.length!==0?(y(w+O),this.text=""):O.length!==0&&y(O)}v=0;break e;case 38:this.state=14,this.entityReturnState=13,y!==void 0&&(this.text+=C.slice(_,this.prevI)),v=0;break e;case 93:switch(v){case 0:v=1;break;case 1:v=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:v===2&&this.fail('the string "]]>" is disallowed in char data.'),v=0;break;case-2:y!==void 0&&(this.text+=C.slice(_,this.prevI)+`
`),_=this.i,v=0;break;case-1:y!==void 0&&(this.text+=C.slice(_));break e;default:v=0}this.forbiddenState=v}handleTextOutsideRoot(){let{i:_}=this,{chunk:v,textHandler:C}=this,y=!1;e:for(;;){let w=this.getCode();switch(w){case 60:if(this.state=15,C!==void 0){let{text:O}=this,P=v.slice(_,this.prevI);O.length!==0?(C(O+P),this.text=""):P.length!==0&&C(P)}break e;case 38:this.state=14,this.entityReturnState=13,C!==void 0&&(this.text+=v.slice(_,this.prevI)),y=!0;break e;case-2:C!==void 0&&(this.text+=v.slice(_,this.prevI)+`
`),_=this.i;break;case-1:C!==void 0&&(this.text+=v.slice(_));break e;default:s(w)||(y=!0)}}y&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(_,v){var C;let{prefix:y,local:w}=this.qname(_),O={name:_,prefix:y,local:w,value:v};if(this.attribList.push(O),(C=this.attributeHandler)===null||C===void 0||C.call(this,O),y==="xmlns"){let P=v.trim();this.currentXMLVersion==="1.0"&&P===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[w]=P,V(this,w,P)}else if(_==="xmlns"){let P=v.trim();this.topNS[""]=P,V(this,"",P)}}pushAttribPlain(_,v){var C;let y={name:_,value:v};this.attribList.push(y),(C=this.attributeHandler)===null||C===void 0||C.call(this,y)}end(){var _,v;this.sawRoot||this.fail("document must contain a root element.");let{tags:C}=this;for(;C.length>0;){let w=C.pop();this.fail("unclosed tag: "+w.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");let{text:y}=this;return y.length!==0&&((_=this.textHandler)===null||_===void 0||_.call(this,y),this.text=""),this._closed=!0,(v=this.endHandler)===null||v===void 0||v.call(this),this._init(),this}resolve(_){var v,C;let y=this.topNS[_];if(y!==void 0)return y;let{tags:w}=this;for(let O=w.length-1;O>=0;O--)if(y=w[O].ns[_],y!==void 0)return y;return y=this.ns[_],y!==void 0?y:(C=(v=this.opt).resolvePrefix)===null||C===void 0?void 0:C.call(v,_)}qname(_){let v=_.indexOf(":");if(v===-1)return{prefix:"",local:_};let C=_.slice(v+1),y=_.slice(0,v);return(y===""||C===""||C.includes(":"))&&this.fail(`malformed name: ${_}.`),{prefix:y,local:C}}processAttribsNS(){var _;let{attribList:v}=this,C=this.tag;{let{prefix:O,local:P}=this.qname(C.name);C.prefix=O,C.local=P;let W=C.uri=(_=this.resolve(O))!==null&&_!==void 0?_:"";O!==""&&(O==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),W===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(O)}.`),C.uri=O))}if(v.length===0)return;let{attributes:y}=C,w=new Set;for(let O of v){let{name:P,prefix:W,local:G}=O,K,F;W===""?(K=P==="xmlns"?b:"",F=P):(K=this.resolve(W),K===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(W)}.`),K=W),F=`{${K}}${G}`),w.has(F)&&this.fail(`duplicate attribute: ${F}.`),w.add(F),O.uri=K,y[P]=O}this.attribList=[]}processAttribsPlain(){let{attribList:_}=this,v=this.tag.attributes;for(let{name:C,value:y}of _)v[C]!==void 0&&this.fail(`duplicate attribute: ${C}.`),v[C]=y;this.attribList=[]}openTag(){var _;this.processAttribs();let{tags:v}=this,C=this.tag;C.isSelfClosing=!1,(_=this.openTagHandler)===null||_===void 0||_.call(this,C),v.push(C),this.state=13,this.name=""}openSelfClosingTag(){var _,v,C;this.processAttribs();let{tags:y}=this,w=this.tag;w.isSelfClosing=!0,(_=this.openTagHandler)===null||_===void 0||_.call(this,w),(v=this.closeTagHandler)===null||v===void 0||v.call(this,w),(this.tag=(C=y[y.length-1])!==null&&C!==void 0?C:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){let{tags:_,name:v}=this;if(this.state=13,this.name="",v==="")return this.fail("weird empty close tag."),void(this.text+="</>");let C=this.closeTagHandler,y=_.length;for(;y-- >0;){let w=this.tag=_.pop();if(this.topNS=w.ns,C?.(w),w.name===v)break;this.fail("unexpected close tag.")}y===0?this.closedRoot=!0:y<0&&(this.fail(`unmatched closing tag: ${v}.`),this.text+=`</${v}>`)}parseEntity(_){if(_[0]!=="#"){let C=this.ENTITIES[_];return C!==void 0?C:(this.fail(this.isName(_)?"undefined entity.":"disallowed character in entity name."),`&${_};`)}let v=NaN;return _[1]==="x"&&/^#x[0-9a-f]+$/i.test(_)?v=parseInt(_.slice(2),16):/^#[0-9]+$/.test(_)&&(v=parseInt(_.slice(1),10)),this.isChar(v)?String.fromCodePoint(v):(this.fail("malformed character entity."),`&${_};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(i,e,t){"use strict";var n=i("safe-buffer").Buffer;function o(r,s){this._block=n.alloc(r),this._finalSize=s,this._blockSize=r,this._len=0}o.prototype.update=function(r,s){typeof r=="string"&&(s=s||"utf8",r=n.from(r,s));for(var a=this._block,l=this._blockSize,d=r.length,c=this._len,u=0;u<d;){for(var h=c%l,f=Math.min(d-u,l-h),p=0;p<f;p++)a[h+p]=r[u+p];u+=f,(c+=f)%l==0&&this._update(a)}return this._len+=d,this},o.prototype.digest=function(r){var s=this._len%this._blockSize;this._block[s]=128,this._block.fill(0,s+1),s>=this._finalSize&&(this._update(this._block),this._block.fill(0));var a=8*this._len;if(a<=4294967295)this._block.writeUInt32BE(a,this._blockSize-4);else{var l=(4294967295&a)>>>0,d=(a-l)/4294967296;this._block.writeUInt32BE(d,this._blockSize-8),this._block.writeUInt32BE(l,this._blockSize-4)}this._update(this._block);var c=this._hash();return r?c.toString(r):c},o.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=o},{"safe-buffer":494}],498:[function(i,e,t){"use strict";var n=e.exports=function(o){o=o.toLowerCase();var r=n[o];if(!r)throw new Error(o+" is not supported (we accept pull requests)");return new r};n.sha=i("./sha"),n.sha1=i("./sha1"),n.sha224=i("./sha224"),n.sha256=i("./sha256"),n.sha384=i("./sha384"),n.sha512=i("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(i,e,t){"use strict";var n=i("inherits"),o=i("./hash"),r=i("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function l(){this.init(),this._w=a,o.call(this,64,56)}function d(u){return u<<30|u>>>2}function c(u,h,f,p){return u===0?h&f|~h&p:u===2?h&f|h&p|f&p:h^f^p}n(l,o),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(u){for(var h,f=this._w,p=0|this._a,m=0|this._b,g=0|this._c,b=0|this._d,x=0|this._e,E=0;E<16;++E)f[E]=u.readInt32BE(4*E);for(;E<80;++E)f[E]=f[E-3]^f[E-8]^f[E-14]^f[E-16];for(var D=0;D<80;++D){var L=~~(D/20),k=0|((h=p)<<5|h>>>27)+c(L,m,g,b)+x+f[D]+s[L];x=b,b=g,g=d(m),m=p,p=k}this._a=p+this._a|0,this._b=m+this._b|0,this._c=g+this._c|0,this._d=b+this._d|0,this._e=x+this._e|0},l.prototype._hash=function(){var u=r.allocUnsafe(20);return u.writeInt32BE(0|this._a,0),u.writeInt32BE(0|this._b,4),u.writeInt32BE(0|this._c,8),u.writeInt32BE(0|this._d,12),u.writeInt32BE(0|this._e,16),u},e.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(i,e,t){"use strict";var n=i("inherits"),o=i("./hash"),r=i("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function l(){this.init(),this._w=a,o.call(this,64,56)}function d(h){return h<<5|h>>>27}function c(h){return h<<30|h>>>2}function u(h,f,p,m){return h===0?f&p|~f&m:h===2?f&p|f&m|p&m:f^p^m}n(l,o),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(h){for(var f,p=this._w,m=0|this._a,g=0|this._b,b=0|this._c,x=0|this._d,E=0|this._e,D=0;D<16;++D)p[D]=h.readInt32BE(4*D);for(;D<80;++D)p[D]=(f=p[D-3]^p[D-8]^p[D-14]^p[D-16])<<1|f>>>31;for(var L=0;L<80;++L){var k=~~(L/20),R=d(m)+u(k,g,b,x)+E+p[L]+s[k]|0;E=x,x=b,b=c(g),g=m,m=R}this._a=m+this._a|0,this._b=g+this._b|0,this._c=b+this._c|0,this._d=x+this._d|0,this._e=E+this._e|0},l.prototype._hash=function(){var h=r.allocUnsafe(20);return h.writeInt32BE(0|this._a,0),h.writeInt32BE(0|this._b,4),h.writeInt32BE(0|this._c,8),h.writeInt32BE(0|this._d,12),h.writeInt32BE(0|this._e,16),h},e.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(i,e,t){"use strict";var n=i("inherits"),o=i("./sha256"),r=i("./hash"),s=i("safe-buffer").Buffer,a=new Array(64);function l(){this.init(),this._w=a,r.call(this,64,56)}n(l,o),l.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},l.prototype._hash=function(){var d=s.allocUnsafe(28);return d.writeInt32BE(this._a,0),d.writeInt32BE(this._b,4),d.writeInt32BE(this._c,8),d.writeInt32BE(this._d,12),d.writeInt32BE(this._e,16),d.writeInt32BE(this._f,20),d.writeInt32BE(this._g,24),d},e.exports=l},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(i,e,t){"use strict";var n=i("inherits"),o=i("./hash"),r=i("safe-buffer").Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function l(){this.init(),this._w=a,o.call(this,64,56)}function d(p,m,g){return g^p&(m^g)}function c(p,m,g){return p&m|g&(p|m)}function u(p){return(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10)}function h(p){return(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7)}function f(p){return(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3}n(l,o),l.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},l.prototype._update=function(p){for(var m,g=this._w,b=0|this._a,x=0|this._b,E=0|this._c,D=0|this._d,L=0|this._e,k=0|this._f,R=0|this._g,N=0|this._h,z=0;z<16;++z)g[z]=p.readInt32BE(4*z);for(;z<64;++z)g[z]=0|(((m=g[z-2])>>>17|m<<15)^(m>>>19|m<<13)^m>>>10)+g[z-7]+f(g[z-15])+g[z-16];for(var V=0;V<64;++V){var S=N+h(L)+d(L,k,R)+s[V]+g[V]|0,T=u(b)+c(b,x,E)|0;N=R,R=k,k=L,L=D+S|0,D=E,E=x,x=b,b=S+T|0}this._a=b+this._a|0,this._b=x+this._b|0,this._c=E+this._c|0,this._d=D+this._d|0,this._e=L+this._e|0,this._f=k+this._f|0,this._g=R+this._g|0,this._h=N+this._h|0},l.prototype._hash=function(){var p=r.allocUnsafe(32);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p.writeInt32BE(this._h,28),p},e.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(i,e,t){"use strict";var n=i("inherits"),o=i("./sha512"),r=i("./hash"),s=i("safe-buffer").Buffer,a=new Array(160);function l(){this.init(),this._w=a,r.call(this,128,112)}n(l,o),l.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},l.prototype._hash=function(){var d=s.allocUnsafe(48);function c(u,h,f){d.writeInt32BE(u,f),d.writeInt32BE(h,f+4)}return c(this._ah,this._al,0),c(this._bh,this._bl,8),c(this._ch,this._cl,16),c(this._dh,this._dl,24),c(this._eh,this._el,32),c(this._fh,this._fl,40),d},e.exports=l},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(i,e,t){"use strict";var n=i("inherits"),o=i("./hash"),r=i("safe-buffer").Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function l(){this.init(),this._w=a,o.call(this,128,112)}function d(x,E,D){return D^x&(E^D)}function c(x,E,D){return x&E|D&(x|E)}function u(x,E){return(x>>>28|E<<4)^(E>>>2|x<<30)^(E>>>7|x<<25)}function h(x,E){return(x>>>14|E<<18)^(x>>>18|E<<14)^(E>>>9|x<<23)}function f(x,E){return(x>>>1|E<<31)^(x>>>8|E<<24)^x>>>7}function p(x,E){return(x>>>1|E<<31)^(x>>>8|E<<24)^(x>>>7|E<<25)}function m(x,E){return(x>>>19|E<<13)^(E>>>29|x<<3)^x>>>6}function g(x,E){return(x>>>19|E<<13)^(E>>>29|x<<3)^(x>>>6|E<<26)}function b(x,E){return x>>>0<E>>>0?1:0}n(l,o),l.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},l.prototype._update=function(x){for(var E=this._w,D=0|this._ah,L=0|this._bh,k=0|this._ch,R=0|this._dh,N=0|this._eh,z=0|this._fh,V=0|this._gh,S=0|this._hh,T=0|this._al,B=0|this._bl,_=0|this._cl,v=0|this._dl,C=0|this._el,y=0|this._fl,w=0|this._gl,O=0|this._hl,P=0;P<32;P+=2)E[P]=x.readInt32BE(4*P),E[P+1]=x.readInt32BE(4*P+4);for(;P<160;P+=2){var W=E[P-30],G=E[P-30+1],K=f(W,G),F=p(G,W),Y=m(W=E[P-4],G=E[P-4+1]),M=g(G,W),A=E[P-14],j=E[P-14+1],J=E[P-32],ae=E[P-32+1],ie=F+j|0,re=K+A+b(ie,F)|0;re=(re=re+Y+b(ie=ie+M|0,M)|0)+J+b(ie=ie+ae|0,ae)|0,E[P]=re,E[P+1]=ie}for(var Ce=0;Ce<160;Ce+=2){re=E[Ce],ie=E[Ce+1];var ve=c(D,L,k),te=c(T,B,_),ge=u(D,T),he=u(T,D),xe=h(N,C),Oe=h(C,N),we=s[Ce],Te=s[Ce+1],Xe=d(N,z,V),Je=d(C,y,w),nt=O+Oe|0,$t=S+xe+b(nt,O)|0;$t=($t=($t=$t+Xe+b(nt=nt+Je|0,Je)|0)+we+b(nt=nt+Te|0,Te)|0)+re+b(nt=nt+ie|0,ie)|0;var pt=he+te|0,vt=ge+ve+b(pt,he)|0;S=V,O=w,V=z,w=y,z=N,y=C,N=R+$t+b(C=v+nt|0,v)|0,R=k,v=_,k=L,_=B,L=D,B=T,D=$t+vt+b(T=nt+pt|0,nt)|0}this._al=this._al+T|0,this._bl=this._bl+B|0,this._cl=this._cl+_|0,this._dl=this._dl+v|0,this._el=this._el+C|0,this._fl=this._fl+y|0,this._gl=this._gl+w|0,this._hl=this._hl+O|0,this._ah=this._ah+D+b(this._al,T)|0,this._bh=this._bh+L+b(this._bl,B)|0,this._ch=this._ch+k+b(this._cl,_)|0,this._dh=this._dh+R+b(this._dl,v)|0,this._eh=this._eh+N+b(this._el,C)|0,this._fh=this._fh+z+b(this._fl,y)|0,this._gh=this._gh+V+b(this._gl,w)|0,this._hh=this._hh+S+b(this._hl,O)|0},l.prototype._hash=function(){var x=r.allocUnsafe(64);function E(D,L,k){x.writeInt32BE(D,k),x.writeInt32BE(L,k+4)}return E(this._ah,this._al,0),E(this._bh,this._bl,8),E(this._ch,this._cl,16),E(this._dh,this._dl,24),E(this._eh,this._el,32),E(this._fh,this._fl,40),E(this._gh,this._gl,48),E(this._hh,this._hl,56),x},e.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(i,e,t){"use strict";e.exports=o;var n=i("events").EventEmitter;function o(){n.call(this)}i("inherits")(o,n),o.Readable=i("readable-stream/readable.js"),o.Writable=i("readable-stream/writable.js"),o.Duplex=i("readable-stream/duplex.js"),o.Transform=i("readable-stream/transform.js"),o.PassThrough=i("readable-stream/passthrough.js"),o.Stream=o,o.prototype.pipe=function(r,s){var a=this;function l(m){r.writable&&r.write(m)===!1&&a.pause&&a.pause()}function d(){a.readable&&a.resume&&a.resume()}a.on("data",l),r.on("drain",d),r._isStdio||s&&s.end===!1||(a.on("end",u),a.on("close",h));var c=!1;function u(){c||(c=!0,r.end())}function h(){c||(c=!0,typeof r.destroy=="function"&&r.destroy())}function f(m){if(p(),n.listenerCount(this,"error")===0)throw m}function p(){a.removeListener("data",l),r.removeListener("drain",d),a.removeListener("end",u),a.removeListener("close",h),a.removeListener("error",f),r.removeListener("error",f),a.removeListener("end",p),a.removeListener("close",p),r.removeListener("close",p)}return a.on("error",f),r.on("error",f),a.on("end",p),a.on("close",p),r.on("close",p),r.emit("pipe",a),r}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(i,e,t){"use strict";var n={}.toString;e.exports=Array.isArray||function(o){return n.call(o)=="[object Array]"}},{}],507:[function(i,e,t){"use strict";e.exports=i("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(i,e,t){"use strict";var n=i("process-nextick-args"),o=Object.keys||function(p){var m=[];for(var g in p)m.push(g);return m};e.exports=u;var r=Object.create(i("core-util-is"));r.inherits=i("inherits");var s=i("./_stream_readable"),a=i("./_stream_writable");r.inherits(u,s);for(var l=o(a.prototype),d=0;d<l.length;d++){var c=l[d];u.prototype[c]||(u.prototype[c]=a.prototype[c])}function u(p){if(!(this instanceof u))return new u(p);s.call(this,p),a.call(this,p),p&&p.readable===!1&&(this.readable=!1),p&&p.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,p&&p.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||n.nextTick(f,this)}function f(p){p.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),u.prototype._destroy=function(p,m){this.push(null),this.end(),n.nextTick(m,p)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(i,e,t){"use strict";e.exports=r;var n=i("./_stream_transform"),o=Object.create(i("core-util-is"));function r(s){if(!(this instanceof r))return new r(s);n.call(this,s)}o.inherits=i("inherits"),o.inherits(r,n),r.prototype._transform=function(s,a,l){l(null,s)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(i,e,t){(function(n,o){(function(){"use strict";var r=i("process-nextick-args");e.exports=D;var s,a=i("isarray");D.ReadableState=E,i("events").EventEmitter;var l=function(O,P){return O.listeners(P).length},d=i("./internal/streams/stream"),c=i("safe-buffer").Buffer,u=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h=Object.create(i("core-util-is"));h.inherits=i("inherits");var f=i("util"),p=void 0;p=f&&f.debuglog?f.debuglog("stream"):function(){};var m,g=i("./internal/streams/BufferList"),b=i("./internal/streams/destroy");h.inherits(D,d);var x=["error","close","destroy","pause","resume"];function E(O,P){O=O||{};var W=P instanceof(s=s||i("./_stream_duplex"));this.objectMode=!!O.objectMode,W&&(this.objectMode=this.objectMode||!!O.readableObjectMode);var G=O.highWaterMark,K=O.readableHighWaterMark,F=this.objectMode?16:16384;this.highWaterMark=G||G===0?G:W&&(K||K===0)?K:F,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=O.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,O.encoding&&(m||(m=i("string_decoder/").StringDecoder),this.decoder=new m(O.encoding),this.encoding=O.encoding)}function D(O){if(s=s||i("./_stream_duplex"),!(this instanceof D))return new D(O);this._readableState=new E(O,this),this.readable=!0,O&&(typeof O.read=="function"&&(this._read=O.read),typeof O.destroy=="function"&&(this._destroy=O.destroy)),d.call(this)}function L(O,P,W,G,K){var F,Y=O._readableState;return P===null?(Y.reading=!1,function(M,A){if(!A.ended){if(A.decoder){var j=A.decoder.end();j&&j.length&&(A.buffer.push(j),A.length+=A.objectMode?1:j.length)}A.ended=!0,N(M)}}(O,Y)):(K||(F=function(M,A){var j;J=A,c.isBuffer(J)||J instanceof u||typeof A=="string"||A===void 0||M.objectMode||(j=new TypeError("Invalid non-string/buffer chunk"));var J;return j}(Y,P)),F?O.emit("error",F):Y.objectMode||P&&P.length>0?(typeof P=="string"||Y.objectMode||Object.getPrototypeOf(P)===c.prototype||(P=function(M){return c.from(M)}(P)),G?Y.endEmitted?O.emit("error",new Error("stream.unshift() after end event")):k(O,Y,P,!0):Y.ended?O.emit("error",new Error("stream.push() after EOF")):(Y.reading=!1,Y.decoder&&!W?(P=Y.decoder.write(P),Y.objectMode||P.length!==0?k(O,Y,P,!1):V(O,Y)):k(O,Y,P,!1))):G||(Y.reading=!1)),function(M){return!M.ended&&(M.needReadable||M.length<M.highWaterMark||M.length===0)}(Y)}function k(O,P,W,G){P.flowing&&P.length===0&&!P.sync?(O.emit("data",W),O.read(0)):(P.length+=P.objectMode?1:W.length,G?P.buffer.unshift(W):P.buffer.push(W),P.needReadable&&N(O)),V(O,P)}Object.defineProperty(D.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),D.prototype.destroy=b.destroy,D.prototype._undestroy=b.undestroy,D.prototype._destroy=function(O,P){this.push(null),P(O)},D.prototype.push=function(O,P){var W,G=this._readableState;return G.objectMode?W=!0:typeof O=="string"&&((P=P||G.defaultEncoding)!==G.encoding&&(O=c.from(O,P),P=""),W=!0),L(this,O,P,!1,W)},D.prototype.unshift=function(O){return L(this,O,null,!0,!1)},D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(O){return m||(m=i("string_decoder/").StringDecoder),this._readableState.decoder=new m(O),this._readableState.encoding=O,this};function R(O,P){return O<=0||P.length===0&&P.ended?0:P.objectMode?1:O!=O?P.flowing&&P.length?P.buffer.head.data.length:P.length:(O>P.highWaterMark&&(P.highWaterMark=function(W){return W>=8388608?W=8388608:(W--,W|=W>>>1,W|=W>>>2,W|=W>>>4,W|=W>>>8,W|=W>>>16,W++),W}(O)),O<=P.length?O:P.ended?P.length:(P.needReadable=!0,0))}function N(O){var P=O._readableState;P.needReadable=!1,P.emittedReadable||(p("emitReadable",P.flowing),P.emittedReadable=!0,P.sync?r.nextTick(z,O):z(O))}function z(O){p("emit readable"),O.emit("readable"),_(O)}function V(O,P){P.readingMore||(P.readingMore=!0,r.nextTick(S,O,P))}function S(O,P){for(var W=P.length;!P.reading&&!P.flowing&&!P.ended&&P.length<P.highWaterMark&&(p("maybeReadMore read 0"),O.read(0),W!==P.length);)W=P.length;P.readingMore=!1}function T(O){p("readable nexttick read 0"),O.read(0)}function B(O,P){P.reading||(p("resume read 0"),O.read(0)),P.resumeScheduled=!1,P.awaitDrain=0,O.emit("resume"),_(O),P.flowing&&!P.reading&&O.read(0)}function _(O){var P=O._readableState;for(p("flow",P.flowing);P.flowing&&O.read()!==null;);}function v(O,P){return P.length===0?null:(P.objectMode?W=P.buffer.shift():!O||O>=P.length?(W=P.decoder?P.buffer.join(""):P.buffer.length===1?P.buffer.head.data:P.buffer.concat(P.length),P.buffer.clear()):W=function(G,K,F){var Y;return G<K.head.data.length?(Y=K.head.data.slice(0,G),K.head.data=K.head.data.slice(G)):Y=G===K.head.data.length?K.shift():F?function(M,A){var j=A.head,J=1,ae=j.data;for(M-=ae.length;j=j.next;){var ie=j.data,re=M>ie.length?ie.length:M;if(re===ie.length?ae+=ie:ae+=ie.slice(0,M),(M-=re)===0){re===ie.length?(++J,j.next?A.head=j.next:A.head=A.tail=null):(A.head=j,j.data=ie.slice(re));break}++J}return A.length-=J,ae}(G,K):function(M,A){var j=c.allocUnsafe(M),J=A.head,ae=1;for(J.data.copy(j),M-=J.data.length;J=J.next;){var ie=J.data,re=M>ie.length?ie.length:M;if(ie.copy(j,j.length-M,0,re),(M-=re)===0){re===ie.length?(++ae,J.next?A.head=J.next:A.head=A.tail=null):(A.head=J,J.data=ie.slice(re));break}++ae}return A.length-=ae,j}(G,K),Y}(O,P.buffer,P.decoder),W);var W}function C(O){var P=O._readableState;if(P.length>0)throw new Error('"endReadable()" called on non-empty stream');P.endEmitted||(P.ended=!0,r.nextTick(y,P,O))}function y(O,P){O.endEmitted||O.length!==0||(O.endEmitted=!0,P.readable=!1,P.emit("end"))}function w(O,P){for(var W=0,G=O.length;W<G;W++)if(O[W]===P)return W;return-1}D.prototype.read=function(O){p("read",O),O=parseInt(O,10);var P=this._readableState,W=O;if(O!==0&&(P.emittedReadable=!1),O===0&&P.needReadable&&(P.length>=P.highWaterMark||P.ended))return p("read: emitReadable",P.length,P.ended),P.length===0&&P.ended?C(this):N(this),null;if((O=R(O,P))===0&&P.ended)return P.length===0&&C(this),null;var G,K=P.needReadable;return p("need readable",K),(P.length===0||P.length-O<P.highWaterMark)&&p("length less than watermark",K=!0),P.ended||P.reading?p("reading or ended",K=!1):K&&(p("do read"),P.reading=!0,P.sync=!0,P.length===0&&(P.needReadable=!0),this._read(P.highWaterMark),P.sync=!1,P.reading||(O=R(W,P))),(G=O>0?v(O,P):null)===null?(P.needReadable=!0,O=0):P.length-=O,P.length===0&&(P.ended||(P.needReadable=!0),W!==O&&P.ended&&C(this)),G!==null&&this.emit("data",G),G},D.prototype._read=function(O){this.emit("error",new Error("_read() is not implemented"))},D.prototype.pipe=function(O,P){var W=this,G=this._readableState;switch(G.pipesCount){case 0:G.pipes=O;break;case 1:G.pipes=[G.pipes,O];break;default:G.pipes.push(O)}G.pipesCount+=1,p("pipe count=%d opts=%j",G.pipesCount,P);var K=(!P||P.end!==!1)&&O!==n.stdout&&O!==n.stderr?Y:Ce;function F(ve,te){p("onunpipe"),ve===W&&te&&te.hasUnpiped===!1&&(te.hasUnpiped=!0,p("cleanup"),O.removeListener("close",ie),O.removeListener("finish",re),O.removeListener("drain",M),O.removeListener("error",ae),O.removeListener("unpipe",F),W.removeListener("end",Y),W.removeListener("end",Ce),W.removeListener("data",J),A=!0,!G.awaitDrain||O._writableState&&!O._writableState.needDrain||M())}function Y(){p("onend"),O.end()}G.endEmitted?r.nextTick(K):W.once("end",K),O.on("unpipe",F);var M=function(ve){return function(){var te=ve._readableState;p("pipeOnDrain",te.awaitDrain),te.awaitDrain&&te.awaitDrain--,te.awaitDrain===0&&l(ve,"data")&&(te.flowing=!0,_(ve))}}(W);O.on("drain",M);var A=!1,j=!1;function J(ve){p("ondata"),j=!1,O.write(ve)!==!1||j||((G.pipesCount===1&&G.pipes===O||G.pipesCount>1&&w(G.pipes,O)!==-1)&&!A&&(p("false write response, pause",G.awaitDrain),G.awaitDrain++,j=!0),W.pause())}function ae(ve){p("onerror",ve),Ce(),O.removeListener("error",ae),l(O,"error")===0&&O.emit("error",ve)}function ie(){O.removeListener("finish",re),Ce()}function re(){p("onfinish"),O.removeListener("close",ie),Ce()}function Ce(){p("unpipe"),W.unpipe(O)}return W.on("data",J),function(ve,te,ge){if(typeof ve.prependListener=="function")return ve.prependListener(te,ge);ve._events&&ve._events[te]?a(ve._events[te])?ve._events[te].unshift(ge):ve._events[te]=[ge,ve._events[te]]:ve.on(te,ge)}(O,"error",ae),O.once("close",ie),O.once("finish",re),O.emit("pipe",W),G.flowing||(p("pipe resume"),W.resume()),O},D.prototype.unpipe=function(O){var P=this._readableState,W={hasUnpiped:!1};if(P.pipesCount===0)return this;if(P.pipesCount===1)return O&&O!==P.pipes||(O||(O=P.pipes),P.pipes=null,P.pipesCount=0,P.flowing=!1,O&&O.emit("unpipe",this,W)),this;if(!O){var G=P.pipes,K=P.pipesCount;P.pipes=null,P.pipesCount=0,P.flowing=!1;for(var F=0;F<K;F++)G[F].emit("unpipe",this,{hasUnpiped:!1});return this}var Y=w(P.pipes,O);return Y===-1||(P.pipes.splice(Y,1),P.pipesCount-=1,P.pipesCount===1&&(P.pipes=P.pipes[0]),O.emit("unpipe",this,W)),this},D.prototype.on=function(O,P){var W=d.prototype.on.call(this,O,P);if(O==="data")this._readableState.flowing!==!1&&this.resume();else if(O==="readable"){var G=this._readableState;G.endEmitted||G.readableListening||(G.readableListening=G.needReadable=!0,G.emittedReadable=!1,G.reading?G.length&&N(this):r.nextTick(T,this))}return W},D.prototype.addListener=D.prototype.on,D.prototype.resume=function(){var O=this._readableState;return O.flowing||(p("resume"),O.flowing=!0,function(P,W){W.resumeScheduled||(W.resumeScheduled=!0,r.nextTick(B,P,W))}(this,O)),this},D.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},D.prototype.wrap=function(O){var P=this,W=this._readableState,G=!1;for(var K in O.on("end",function(){if(p("wrapped end"),W.decoder&&!W.ended){var Y=W.decoder.end();Y&&Y.length&&P.push(Y)}P.push(null)}),O.on("data",function(Y){p("wrapped data"),W.decoder&&(Y=W.decoder.write(Y)),W.objectMode&&Y==null||(W.objectMode||Y&&Y.length)&&(P.push(Y)||(G=!0,O.pause()))}),O)this[K]===void 0&&typeof O[K]=="function"&&(this[K]=function(Y){return function(){return O[Y].apply(O,arguments)}}(K));for(var F=0;F<x.length;F++)O.on(x[F],this.emit.bind(this,x[F]));return this._read=function(Y){p("wrapped _read",Y),G&&(G=!1,O.resume())},this},Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),D._fromList=v}).call(this)}).call(this,i("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(i,e,t){"use strict";e.exports=s;var n=i("./_stream_duplex"),o=Object.create(i("core-util-is"));function r(d,c){var u=this._transformState;u.transforming=!1;var h=u.writecb;if(!h)return this.emit("error",new Error("write callback called multiple times"));u.writechunk=null,u.writecb=null,c!=null&&this.push(c),h(d);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function s(d){if(!(this instanceof s))return new s(d);n.call(this,d),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",a)}function a(){var d=this;typeof this._flush=="function"?this._flush(function(c,u){l(d,c,u)}):l(this,null,null)}function l(d,c,u){if(c)return d.emit("error",c);if(u!=null&&d.push(u),d._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(d._transformState.transforming)throw new Error("Calling transform done when still transforming");return d.push(null)}o.inherits=i("inherits"),o.inherits(s,n),s.prototype.push=function(d,c){return this._transformState.needTransform=!1,n.prototype.push.call(this,d,c)},s.prototype._transform=function(d,c,u){throw new Error("_transform() is not implemented")},s.prototype._write=function(d,c,u){var h=this._transformState;if(h.writecb=u,h.writechunk=d,h.writeencoding=c,!h.transforming){var f=this._readableState;(h.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},s.prototype._read=function(d){var c=this._transformState;c.writechunk!==null&&c.writecb&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},s.prototype._destroy=function(d,c){var u=this;n.prototype._destroy.call(this,d,function(h){c(h),u.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(i,e,t){(function(n,o,r){(function(){"use strict";var s=i("process-nextick-args");function a(V){var S=this;this.next=null,this.entry=null,this.finish=function(){(function(T,B,_){var v=T.entry;for(T.entry=null;v;){var C=v.callback;B.pendingcb--,C(_),v=v.next}B.corkedRequestsFree.next=T})(S,V)}}e.exports=E;var l,d=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?r:s.nextTick;E.WritableState=x;var c=Object.create(i("core-util-is"));c.inherits=i("inherits");var u={deprecate:i("util-deprecate")},h=i("./internal/streams/stream"),f=i("safe-buffer").Buffer,p=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},m,g=i("./internal/streams/destroy");function b(){}function x(V,S){l=l||i("./_stream_duplex"),V=V||{};var T=S instanceof l;this.objectMode=!!V.objectMode,T&&(this.objectMode=this.objectMode||!!V.writableObjectMode);var B=V.highWaterMark,_=V.writableHighWaterMark,v=this.objectMode?16:16384;this.highWaterMark=B||B===0?B:T&&(_||_===0)?_:v,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var C=V.decodeStrings===!1;this.decodeStrings=!C,this.defaultEncoding=V.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(y){(function(w,O){var P=w._writableState,W=P.sync,G=P.writecb;if(function(F){F.writing=!1,F.writecb=null,F.length-=F.writelen,F.writelen=0}(P),O)(function(F,Y,M,A,j){--Y.pendingcb,M?(s.nextTick(j,A),s.nextTick(z,F,Y),F._writableState.errorEmitted=!0,F.emit("error",A)):(j(A),F._writableState.errorEmitted=!0,F.emit("error",A),z(F,Y))})(w,P,W,O,G);else{var K=R(P);K||P.corked||P.bufferProcessing||!P.bufferedRequest||k(w,P),W?d(L,w,P,K,G):L(w,P,K,G)}})(S,y)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function E(V){if(l=l||i("./_stream_duplex"),!(m.call(E,this)||this instanceof l))return new E(V);this._writableState=new x(V,this),this.writable=!0,V&&(typeof V.write=="function"&&(this._write=V.write),typeof V.writev=="function"&&(this._writev=V.writev),typeof V.destroy=="function"&&(this._destroy=V.destroy),typeof V.final=="function"&&(this._final=V.final)),h.call(this)}function D(V,S,T,B,_,v,C){S.writelen=B,S.writecb=C,S.writing=!0,S.sync=!0,T?V._writev(_,S.onwrite):V._write(_,v,S.onwrite),S.sync=!1}function L(V,S,T,B){T||function(_,v){v.length===0&&v.needDrain&&(v.needDrain=!1,_.emit("drain"))}(V,S),S.pendingcb--,B(),z(V,S)}function k(V,S){S.bufferProcessing=!0;var T=S.bufferedRequest;if(V._writev&&T&&T.next){var B=S.bufferedRequestCount,_=new Array(B),v=S.corkedRequestsFree;v.entry=T;for(var C=0,y=!0;T;)_[C]=T,T.isBuf||(y=!1),T=T.next,C+=1;_.allBuffers=y,D(V,S,!0,S.length,_,"",v.finish),S.pendingcb++,S.lastBufferedRequest=null,v.next?(S.corkedRequestsFree=v.next,v.next=null):S.corkedRequestsFree=new a(S),S.bufferedRequestCount=0}else{for(;T;){var w=T.chunk,O=T.encoding,P=T.callback;if(D(V,S,!1,S.objectMode?1:w.length,w,O,P),T=T.next,S.bufferedRequestCount--,S.writing)break}T===null&&(S.lastBufferedRequest=null)}S.bufferedRequest=T,S.bufferProcessing=!1}function R(V){return V.ending&&V.length===0&&V.bufferedRequest===null&&!V.finished&&!V.writing}function N(V,S){V._final(function(T){S.pendingcb--,T&&V.emit("error",T),S.prefinished=!0,V.emit("prefinish"),z(V,S)})}function z(V,S){var T=R(S);return T&&(function(B,_){_.prefinished||_.finalCalled||(typeof B._final=="function"?(_.pendingcb++,_.finalCalled=!0,s.nextTick(N,B,_)):(_.prefinished=!0,B.emit("prefinish")))}(V,S),S.pendingcb===0&&(S.finished=!0,V.emit("finish"))),T}c.inherits(E,h),x.prototype.getBuffer=function(){for(var V=this.bufferedRequest,S=[];V;)S.push(V),V=V.next;return S},function(){try{Object.defineProperty(x.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(V){return!!m.call(this,V)||this===E&&V&&V._writableState instanceof x}})):m=function(V){return V instanceof this},E.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},E.prototype.write=function(V,S,T){var B,_=this._writableState,v=!1,C=!_.objectMode&&(B=V,f.isBuffer(B)||B instanceof p);return C&&!f.isBuffer(V)&&(V=function(y){return f.from(y)}(V)),typeof S=="function"&&(T=S,S=null),C?S="buffer":S||(S=_.defaultEncoding),typeof T!="function"&&(T=b),_.ended?function(y,w){var O=new Error("write after end");y.emit("error",O),s.nextTick(w,O)}(this,T):(C||function(y,w,O,P){var W=!0,G=!1;return O===null?G=new TypeError("May not write null values to stream"):typeof O=="string"||O===void 0||w.objectMode||(G=new TypeError("Invalid non-string/buffer chunk")),G&&(y.emit("error",G),s.nextTick(P,G),W=!1),W}(this,_,V,T))&&(_.pendingcb++,v=function(y,w,O,P,W,G){if(!O){var K=function(A,j,J){return A.objectMode||A.decodeStrings===!1||typeof j!="string"||(j=f.from(j,J)),j}(w,P,W);P!==K&&(O=!0,W="buffer",P=K)}var F=w.objectMode?1:P.length;w.length+=F;var Y=w.length<w.highWaterMark;if(Y||(w.needDrain=!0),w.writing||w.corked){var M=w.lastBufferedRequest;w.lastBufferedRequest={chunk:P,encoding:W,isBuf:O,callback:G,next:null},M?M.next=w.lastBufferedRequest:w.bufferedRequest=w.lastBufferedRequest,w.bufferedRequestCount+=1}else D(y,w,!1,F,P,W,G);return Y}(this,_,C,V,S,T)),v},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var V=this._writableState;V.corked&&(V.corked--,V.writing||V.corked||V.bufferProcessing||!V.bufferedRequest||k(this,V))},E.prototype.setDefaultEncoding=function(V){if(typeof V=="string"&&(V=V.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((V+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+V);return this._writableState.defaultEncoding=V,this},Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(V,S,T){T(new Error("_write() is not implemented"))},E.prototype._writev=null,E.prototype.end=function(V,S,T){var B=this._writableState;typeof V=="function"?(T=V,V=null,S=null):typeof S=="function"&&(T=S,S=null),V!=null&&this.write(V,S),B.corked&&(B.corked=1,this.uncork()),B.ending||function(_,v,C){v.ending=!0,z(_,v),C&&(v.finished?s.nextTick(C):_.once("finish",C)),v.ended=!0,_.writable=!1}(this,B,T)},Object.defineProperty(E.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(V){this._writableState&&(this._writableState.destroyed=V)}}),E.prototype.destroy=g.destroy,E.prototype._undestroy=g.undestroy,E.prototype._destroy=function(V,S){this.end(),S(V)}}).call(this)}).call(this,i("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},i("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(i,e,t){"use strict";var n=i("safe-buffer").Buffer,o=i("util");e.exports=function(){function r(){(function(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")})(this,r),this.head=null,this.tail=null,this.length=0}return r.prototype.push=function(s){var a={data:s,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length},r.prototype.unshift=function(s){var a={data:s,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length},r.prototype.shift=function(){if(this.length!==0){var s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}},r.prototype.clear=function(){this.head=this.tail=null,this.length=0},r.prototype.join=function(s){if(this.length===0)return"";for(var a=this.head,l=""+a.data;a=a.next;)l+=s+a.data;return l},r.prototype.concat=function(s){if(this.length===0)return n.alloc(0);for(var a,l,d,c=n.allocUnsafe(s>>>0),u=this.head,h=0;u;)a=u.data,l=c,d=h,a.copy(l,d),h+=u.data.length,u=u.next;return c},r}(),o&&o.inspect&&o.inspect.custom&&(e.exports.prototype[o.inspect.custom]=function(){var r=o.inspect({length:this.length});return this.constructor.name+" "+r})},{"safe-buffer":520,util:188}],514:[function(i,e,t){"use strict";var n=i("process-nextick-args");function o(r,s){r.emit("error",s)}e.exports={destroy:function(r,s){var a=this,l=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return l||d?(s?s(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(o,this,r)):n.nextTick(o,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(c){!s&&c?a._writableState?a._writableState.errorEmitted||(a._writableState.errorEmitted=!0,n.nextTick(o,a,c)):n.nextTick(o,a,c):s&&s(c)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(i,e,t){arguments[4][490][0].apply(t,arguments)},{dup:490,events:422}],516:[function(i,e,t){"use strict";e.exports=i("./readable").PassThrough},{"./readable":517}],517:[function(i,e,t){"use strict";(t=e.exports=i("./lib/_stream_readable.js")).Stream=t,t.Readable=t,t.Writable=i("./lib/_stream_writable.js"),t.Duplex=i("./lib/_stream_duplex.js"),t.Transform=i("./lib/_stream_transform.js"),t.PassThrough=i("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(i,e,t){"use strict";e.exports=i("./readable").Transform},{"./readable":517}],519:[function(i,e,t){"use strict";e.exports=i("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(i,e,t){arguments[4][217][0].apply(t,arguments)},{buffer:220,dup:217}],521:[function(i,e,t){arguments[4][218][0].apply(t,arguments)},{dup:218,"safe-buffer":520}],522:[function(i,e,t){arguments[4][218][0].apply(t,arguments)},{dup:218,"safe-buffer":494}],523:[function(i,e,t){(function(n,o){(function(){"use strict";var r=i("process/browser.js").nextTick,s=Function.prototype.apply,a=Array.prototype.slice,l={},d=0;function c(u,h){this._id=u,this._clearFn=h}t.setTimeout=function(){return new c(s.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new c(s.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(u){u.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(u,h){clearTimeout(u._idleTimeoutId),u._idleTimeout=h},t.unenroll=function(u){clearTimeout(u._idleTimeoutId),u._idleTimeout=-1},t._unrefActive=t.active=function(u){clearTimeout(u._idleTimeoutId);var h=u._idleTimeout;h>=0&&(u._idleTimeoutId=setTimeout(function(){u._onTimeout&&u._onTimeout()},h))},t.setImmediate=typeof n=="function"?n:function(u){var h=d++,f=!(arguments.length<2)&&a.call(arguments,1);return l[h]=!0,r(function(){l[h]&&(f?u.apply(null,f):u.call(null),t.clearImmediate(h))}),h},t.clearImmediate=typeof o=="function"?o:function(u){delete l[u]}}).call(this)}).call(this,i("timers").setImmediate,i("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(i,e,t){(function(n){(function(){"use strict";function o(r){try{if(!n.localStorage)return!1}catch{return!1}var s=n.localStorage[r];return s!=null&&String(s).toLowerCase()==="true"}e.exports=function(r,s){if(o("noDeprecation"))return r;var a=!1;return function(){if(!a){if(o("throwDeprecation"))throw new Error(s);o("traceDeprecation")?console.trace(s):console.warn(s),a=!0}return r.apply(this,arguments)}}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(i,e,t){"use strict";typeof Object.create=="function"?e.exports=function(n,o){n.super_=o,n.prototype=Object.create(o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(n,o){n.super_=o;var r=function(){};r.prototype=o.prototype,n.prototype=new r,n.prototype.constructor=n}},{}],526:[function(i,e,t){"use strict";e.exports=function(n){return n&&typeof n=="object"&&typeof n.copy=="function"&&typeof n.fill=="function"&&typeof n.readUInt8=="function"}},{}],527:[function(i,e,t){(function(n,o){(function(){"use strict";var r=/%[sdj%]/g;t.format=function(_){if(!x(_)){for(var v=[],C=0;C<arguments.length;C++)v.push(l(arguments[C]));return v.join(" ")}C=1;for(var y=arguments,w=y.length,O=String(_).replace(r,function(W){if(W==="%%")return"%";if(C>=w)return W;switch(W){case"%s":return String(y[C++]);case"%d":return Number(y[C++]);case"%j":try{return JSON.stringify(y[C++])}catch{return"[Circular]"}default:return W}}),P=y[C];C<w;P=y[++C])g(P)||!L(P)?O+=" "+P:O+=" "+l(P);return O},t.deprecate=function(_,v){if(E(o.process))return function(){return t.deprecate(_,v).apply(this,arguments)};if(n.noDeprecation===!0)return _;var C=!1;return function(){if(!C){if(n.throwDeprecation)throw new Error(v);n.traceDeprecation?console.trace(v):console.error(v),C=!0}return _.apply(this,arguments)}};var s,a={};function l(_,v){var C={seen:[],stylize:c};return arguments.length>=3&&(C.depth=arguments[2]),arguments.length>=4&&(C.colors=arguments[3]),m(v)?C.showHidden=v:v&&t._extend(C,v),E(C.showHidden)&&(C.showHidden=!1),E(C.depth)&&(C.depth=2),E(C.colors)&&(C.colors=!1),E(C.customInspect)&&(C.customInspect=!0),C.colors&&(C.stylize=d),u(C,_,C.depth)}function d(_,v){var C=l.styles[v];return C?"\x1B["+l.colors[C][0]+"m"+_+"\x1B["+l.colors[C][1]+"m":_}function c(_,v){return _}function u(_,v,C){if(_.customInspect&&v&&N(v.inspect)&&v.inspect!==t.inspect&&(!v.constructor||v.constructor.prototype!==v)){var y=v.inspect(C,_);return x(y)||(y=u(_,y,C)),y}var w=function(M,A){if(E(A))return M.stylize("undefined","undefined");if(x(A)){var j="'"+JSON.stringify(A).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return M.stylize(j,"string")}if(b(A))return M.stylize(""+A,"number");if(m(A))return M.stylize(""+A,"boolean");if(g(A))return M.stylize("null","null")}(_,v);if(w)return w;var O=Object.keys(v),P=function(M){var A={};return M.forEach(function(j,J){A[j]=!0}),A}(O);if(_.showHidden&&(O=Object.getOwnPropertyNames(v)),R(v)&&(O.indexOf("message")>=0||O.indexOf("description")>=0))return h(v);if(O.length===0){if(N(v)){var W=v.name?": "+v.name:"";return _.stylize("[Function"+W+"]","special")}if(D(v))return _.stylize(RegExp.prototype.toString.call(v),"regexp");if(k(v))return _.stylize(Date.prototype.toString.call(v),"date");if(R(v))return h(v)}var G,K="",F=!1,Y=["{","}"];return p(v)&&(F=!0,Y=["[","]"]),N(v)&&(K=" [Function"+(v.name?": "+v.name:"")+"]"),D(v)&&(K=" "+RegExp.prototype.toString.call(v)),k(v)&&(K=" "+Date.prototype.toUTCString.call(v)),R(v)&&(K=" "+h(v)),O.length!==0||F&&v.length!=0?C<0?D(v)?_.stylize(RegExp.prototype.toString.call(v),"regexp"):_.stylize("[Object]","special"):(_.seen.push(v),G=F?function(M,A,j,J,ae){for(var ie=[],re=0,Ce=A.length;re<Ce;++re)B(A,String(re))?ie.push(f(M,A,j,J,String(re),!0)):ie.push("");return ae.forEach(function(ve){ve.match(/^\d+$/)||ie.push(f(M,A,j,J,ve,!0))}),ie}(_,v,C,P,O):O.map(function(M){return f(_,v,C,P,M,F)}),_.seen.pop(),function(M,A,j){return M.reduce(function(J,ae){return ae.indexOf(`
`)>=0,J+ae.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?j[0]+(A===""?"":A+`
 `)+" "+M.join(`,
  `)+" "+j[1]:j[0]+A+" "+M.join(", ")+" "+j[1]}(G,K,Y)):Y[0]+K+Y[1]}function h(_){return"["+Error.prototype.toString.call(_)+"]"}function f(_,v,C,y,w,O){var P,W,G;if((G=Object.getOwnPropertyDescriptor(v,w)||{value:v[w]}).get?W=G.set?_.stylize("[Getter/Setter]","special"):_.stylize("[Getter]","special"):G.set&&(W=_.stylize("[Setter]","special")),B(y,w)||(P="["+w+"]"),W||(_.seen.indexOf(G.value)<0?(W=g(C)?u(_,G.value,null):u(_,G.value,C-1)).indexOf(`
`)>-1&&(W=O?W.split(`
`).map(function(K){return"  "+K}).join(`
`).substr(2):`
`+W.split(`
`).map(function(K){return"   "+K}).join(`
`)):W=_.stylize("[Circular]","special")),E(P)){if(O&&w.match(/^\d+$/))return W;(P=JSON.stringify(""+w)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(P=P.substr(1,P.length-2),P=_.stylize(P,"name")):(P=P.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),P=_.stylize(P,"string"))}return P+": "+W}function p(_){return Array.isArray(_)}function m(_){return typeof _=="boolean"}function g(_){return _===null}function b(_){return typeof _=="number"}function x(_){return typeof _=="string"}function E(_){return _===void 0}function D(_){return L(_)&&z(_)==="[object RegExp]"}function L(_){return typeof _=="object"&&_!==null}function k(_){return L(_)&&z(_)==="[object Date]"}function R(_){return L(_)&&(z(_)==="[object Error]"||_ instanceof Error)}function N(_){return typeof _=="function"}function z(_){return Object.prototype.toString.call(_)}function V(_){return _<10?"0"+_.toString(10):_.toString(10)}t.debuglog=function(_){if(E(s)&&(s=n.env.NODE_DEBUG||""),_=_.toUpperCase(),!a[_])if(new RegExp("\\b"+_+"\\b","i").test(s)){var v=n.pid;a[_]=function(){var C=t.format.apply(t,arguments);console.error("%s %d: %s",_,v,C)}}else a[_]=function(){};return a[_]},t.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=m,t.isNull=g,t.isNullOrUndefined=function(_){return _==null},t.isNumber=b,t.isString=x,t.isSymbol=function(_){return typeof _=="symbol"},t.isUndefined=E,t.isRegExp=D,t.isObject=L,t.isDate=k,t.isError=R,t.isFunction=N,t.isPrimitive=function(_){return _===null||typeof _=="boolean"||typeof _=="number"||typeof _=="string"||typeof _=="symbol"||_===void 0},t.isBuffer=i("./support/isBuffer");var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(){var _=new Date,v=[V(_.getHours()),V(_.getMinutes()),V(_.getSeconds())].join(":");return[_.getDate(),S[_.getMonth()],v].join(" ")}function B(_,v){return Object.prototype.hasOwnProperty.call(_,v)}t.log=function(){console.log("%s - %s",T(),t.format.apply(t,arguments))},t.inherits=i("inherits"),t._extend=function(_,v){if(!v||!L(v))return _;for(var C=Object.keys(v),y=C.length;y--;)_[C[y]]=v[C[y]];return _}}).call(this)}).call(this,i("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return u.default}});var n=h(i("./v1.js")),o=h(i("./v3.js")),r=h(i("./v4.js")),s=h(i("./v5.js")),a=h(i("./nil.js")),l=h(i("./version.js")),d=h(i("./validate.js")),c=h(i("./stringify.js")),u=h(i("./parse.js"));function h(f){return f&&f.__esModule?f:{default:f}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(i,e,t){"use strict";function n(u){return 14+(u+64>>>9<<4)+1}function o(u,h){let f=(65535&u)+(65535&h);return(u>>16)+(h>>16)+(f>>16)<<16|65535&f}function r(u,h,f,p,m,g){return o((b=o(o(h,u),o(p,g)))<<(x=m)|b>>>32-x,f);var b,x}function s(u,h,f,p,m,g,b){return r(h&f|~h&p,u,h,m,g,b)}function a(u,h,f,p,m,g,b){return r(h&p|f&~p,u,h,m,g,b)}function l(u,h,f,p,m,g,b){return r(h^f^p,u,h,m,g,b)}function d(u,h,f,p,m,g,b){return r(f^(h|~p),u,h,m,g,b)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(u){if(typeof u=="string"){let h=unescape(encodeURIComponent(u));u=new Uint8Array(h.length);for(let f=0;f<h.length;++f)u[f]=h.charCodeAt(f)}return function(h){let f=[],p=32*h.length;for(let m=0;m<p;m+=8){let g=h[m>>5]>>>m%32&255,b=parseInt("0123456789abcdef".charAt(g>>>4&15)+"0123456789abcdef".charAt(15&g),16);f.push(b)}return f}(function(h,f){h[f>>5]|=128<<f%32,h[n(f)-1]=f;let p=1732584193,m=-271733879,g=-1732584194,b=271733878;for(let x=0;x<h.length;x+=16){let E=p,D=m,L=g,k=b;p=s(p,m,g,b,h[x],7,-680876936),b=s(b,p,m,g,h[x+1],12,-389564586),g=s(g,b,p,m,h[x+2],17,606105819),m=s(m,g,b,p,h[x+3],22,-1044525330),p=s(p,m,g,b,h[x+4],7,-176418897),b=s(b,p,m,g,h[x+5],12,1200080426),g=s(g,b,p,m,h[x+6],17,-1473231341),m=s(m,g,b,p,h[x+7],22,-45705983),p=s(p,m,g,b,h[x+8],7,1770035416),b=s(b,p,m,g,h[x+9],12,-1958414417),g=s(g,b,p,m,h[x+10],17,-42063),m=s(m,g,b,p,h[x+11],22,-1990404162),p=s(p,m,g,b,h[x+12],7,1804603682),b=s(b,p,m,g,h[x+13],12,-40341101),g=s(g,b,p,m,h[x+14],17,-1502002290),m=s(m,g,b,p,h[x+15],22,1236535329),p=a(p,m,g,b,h[x+1],5,-165796510),b=a(b,p,m,g,h[x+6],9,-1069501632),g=a(g,b,p,m,h[x+11],14,643717713),m=a(m,g,b,p,h[x],20,-373897302),p=a(p,m,g,b,h[x+5],5,-701558691),b=a(b,p,m,g,h[x+10],9,38016083),g=a(g,b,p,m,h[x+15],14,-660478335),m=a(m,g,b,p,h[x+4],20,-405537848),p=a(p,m,g,b,h[x+9],5,568446438),b=a(b,p,m,g,h[x+14],9,-1019803690),g=a(g,b,p,m,h[x+3],14,-187363961),m=a(m,g,b,p,h[x+8],20,1163531501),p=a(p,m,g,b,h[x+13],5,-1444681467),b=a(b,p,m,g,h[x+2],9,-51403784),g=a(g,b,p,m,h[x+7],14,1735328473),m=a(m,g,b,p,h[x+12],20,-1926607734),p=l(p,m,g,b,h[x+5],4,-378558),b=l(b,p,m,g,h[x+8],11,-2022574463),g=l(g,b,p,m,h[x+11],16,1839030562),m=l(m,g,b,p,h[x+14],23,-35309556),p=l(p,m,g,b,h[x+1],4,-1530992060),b=l(b,p,m,g,h[x+4],11,1272893353),g=l(g,b,p,m,h[x+7],16,-155497632),m=l(m,g,b,p,h[x+10],23,-1094730640),p=l(p,m,g,b,h[x+13],4,681279174),b=l(b,p,m,g,h[x],11,-358537222),g=l(g,b,p,m,h[x+3],16,-722521979),m=l(m,g,b,p,h[x+6],23,76029189),p=l(p,m,g,b,h[x+9],4,-640364487),b=l(b,p,m,g,h[x+12],11,-421815835),g=l(g,b,p,m,h[x+15],16,530742520),m=l(m,g,b,p,h[x+2],23,-995338651),p=d(p,m,g,b,h[x],6,-198630844),b=d(b,p,m,g,h[x+7],10,1126891415),g=d(g,b,p,m,h[x+14],15,-1416354905),m=d(m,g,b,p,h[x+5],21,-57434055),p=d(p,m,g,b,h[x+12],6,1700485571),b=d(b,p,m,g,h[x+3],10,-1894986606),g=d(g,b,p,m,h[x+10],15,-1051523),m=d(m,g,b,p,h[x+1],21,-2054922799),p=d(p,m,g,b,h[x+8],6,1873313359),b=d(b,p,m,g,h[x+15],10,-30611744),g=d(g,b,p,m,h[x+6],15,-1560198380),m=d(m,g,b,p,h[x+13],21,1309151649),p=d(p,m,g,b,h[x+4],6,-145523070),b=d(b,p,m,g,h[x+11],10,-1120210379),g=d(g,b,p,m,h[x+2],15,718787259),m=d(m,g,b,p,h[x+9],21,-343485551),p=o(p,E),m=o(m,D),g=o(g,L),b=o(b,k)}return[p,m,g,b]}(function(h){if(h.length===0)return[];let f=8*h.length,p=new Uint32Array(n(f));for(let m=0;m<f;m+=8)p[m>>5]|=(255&h[m/8])<<m%32;return p}(u),8*u.length))};t.default=c},{}],530:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=i("./validate.js"))&&n.__esModule?n:{default:n},r=function(s){if(!(0,o.default)(s))throw TypeError("Invalid UUID");let a,l=new Uint8Array(16);return l[0]=(a=parseInt(s.slice(0,8),16))>>>24,l[1]=a>>>16&255,l[2]=a>>>8&255,l[3]=255&a,l[4]=(a=parseInt(s.slice(9,13),16))>>>8,l[5]=255&a,l[6]=(a=parseInt(s.slice(14,18),16))>>>8,l[7]=255&a,l[8]=(a=parseInt(s.slice(19,23),16))>>>8,l[9]=255&a,l[10]=(a=parseInt(s.slice(24,36),16))/1099511627776&255,l[11]=a/4294967296&255,l[12]=a>>>24&255,l[13]=a>>>16&255,l[14]=a>>>8&255,l[15]=255&a,l};t.default=r},{"./validate.js":541}],532:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(i,e,t){"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!n&&(n=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(o)};let o=new Uint8Array(16)},{}],534:[function(i,e,t){"use strict";function n(s,a,l,d){switch(s){case 0:return a&l^~a&d;case 1:return a^l^d;case 2:return a&l^a&d^l&d;case 3:return a^l^d}}function o(s,a){return s<<a|s>>>32-a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(s){let a=[1518500249,1859775393,2400959708,3395469782],l=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){let h=unescape(encodeURIComponent(s));s=[];for(let f=0;f<h.length;++f)s.push(h.charCodeAt(f))}else Array.isArray(s)||(s=Array.prototype.slice.call(s));s.push(128);let d=s.length/4+2,c=Math.ceil(d/16),u=new Array(c);for(let h=0;h<c;++h){let f=new Uint32Array(16);for(let p=0;p<16;++p)f[p]=s[64*h+4*p]<<24|s[64*h+4*p+1]<<16|s[64*h+4*p+2]<<8|s[64*h+4*p+3];u[h]=f}u[c-1][14]=8*(s.length-1)/Math.pow(2,32),u[c-1][14]=Math.floor(u[c-1][14]),u[c-1][15]=8*(s.length-1)&4294967295;for(let h=0;h<c;++h){let f=new Uint32Array(80);for(let E=0;E<16;++E)f[E]=u[h][E];for(let E=16;E<80;++E)f[E]=o(f[E-3]^f[E-8]^f[E-14]^f[E-16],1);let p=l[0],m=l[1],g=l[2],b=l[3],x=l[4];for(let E=0;E<80;++E){let D=Math.floor(E/20),L=o(p,5)+n(D,m,g,b)+x+a[D]+f[E]>>>0;x=b,b=g,g=o(m,30)>>>0,m=p,p=L}l[0]=l[0]+p>>>0,l[1]=l[1]+m>>>0,l[2]=l[2]+g>>>0,l[3]=l[3]+b>>>0,l[4]=l[4]+x>>>0}return[l[0]>>24&255,l[0]>>16&255,l[0]>>8&255,255&l[0],l[1]>>24&255,l[1]>>16&255,l[1]>>8&255,255&l[1],l[2]>>24&255,l[2]>>16&255,l[2]>>8&255,255&l[2],l[3]>>24&255,l[3]>>16&255,l[3]>>8&255,255&l[3],l[4]>>24&255,l[4]>>16&255,l[4]>>8&255,255&l[4]]};t.default=r},{}],535:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=i("./validate.js"))&&n.__esModule?n:{default:n};let r=[];for(let a=0;a<256;++a)r.push((a+256).toString(16).substr(1));var s=function(a){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,d=(r[a[l+0]]+r[a[l+1]]+r[a[l+2]]+r[a[l+3]]+"-"+r[a[l+4]]+r[a[l+5]]+"-"+r[a[l+6]]+r[a[l+7]]+"-"+r[a[l+8]]+r[a[l+9]]+"-"+r[a[l+10]]+r[a[l+11]]+r[a[l+12]]+r[a[l+13]]+r[a[l+14]]+r[a[l+15]]).toLowerCase();if(!(0,o.default)(d))throw TypeError("Stringified UUID is invalid");return d};t.default=s},{"./validate.js":541}],536:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("./rng.js")),o=r(i("./stringify.js"));function r(u){return u&&u.__esModule?u:{default:u}}let s,a,l=0,d=0;var c=function(u,h,f){let p=h&&f||0,m=h||new Array(16),g=(u=u||{}).node||s,b=u.clockseq!==void 0?u.clockseq:a;if(g==null||b==null){let R=u.random||(u.rng||n.default)();g==null&&(g=s=[1|R[0],R[1],R[2],R[3],R[4],R[5]]),b==null&&(b=a=16383&(R[6]<<8|R[7]))}let x=u.msecs!==void 0?u.msecs:Date.now(),E=u.nsecs!==void 0?u.nsecs:d+1,D=x-l+(E-d)/1e4;if(D<0&&u.clockseq===void 0&&(b=b+1&16383),(D<0||x>l)&&u.nsecs===void 0&&(E=0),E>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=x,d=E,a=b,x+=122192928e5;let L=(1e4*(268435455&x)+E)%4294967296;m[p++]=L>>>24&255,m[p++]=L>>>16&255,m[p++]=L>>>8&255,m[p++]=255&L;let k=x/4294967296*1e4&268435455;m[p++]=k>>>8&255,m[p++]=255&k,m[p++]=k>>>24&15|16,m[p++]=k>>>16&255,m[p++]=b>>>8|128,m[p++]=255&b;for(let R=0;R<6;++R)m[p+R]=g[R];return h||(0,o.default)(m)};t.default=c},{"./rng.js":533,"./stringify.js":535}],537:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("./v35.js")),o=r(i("./md5.js"));function r(a){return a&&a.__esModule?a:{default:a}}var s=(0,n.default)("v3",48,o.default);t.default=s},{"./md5.js":529,"./v35.js":538}],538:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(l,d,c){function u(h,f,p,m){if(typeof h=="string"&&(h=function(b){b=unescape(encodeURIComponent(b));let x=[];for(let E=0;E<b.length;++E)x.push(b.charCodeAt(E));return x}(h)),typeof f=="string"&&(f=(0,o.default)(f)),f.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let g=new Uint8Array(16+h.length);if(g.set(f),g.set(h,f.length),g=c(g),g[6]=15&g[6]|d,g[8]=63&g[8]|128,p){m=m||0;for(let b=0;b<16;++b)p[m+b]=g[b];return p}return(0,n.default)(g)}try{u.name=l}catch{}return u.DNS=s,u.URL=a,u},t.URL=t.DNS=void 0;var n=r(i("./stringify.js")),o=r(i("./parse.js"));function r(l){return l&&l.__esModule?l:{default:l}}let s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=s;let a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=a},{"./parse.js":531,"./stringify.js":535}],539:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("./rng.js")),o=r(i("./stringify.js"));function r(a){return a&&a.__esModule?a:{default:a}}var s=function(a,l,d){let c=(a=a||{}).random||(a.rng||n.default)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,l){d=d||0;for(let u=0;u<16;++u)l[d+u]=c[u];return l}return(0,o.default)(c)};t.default=s},{"./rng.js":533,"./stringify.js":535}],540:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("./v35.js")),o=r(i("./sha1.js"));function r(a){return a&&a.__esModule?a:{default:a}}var s=(0,n.default)("v5",80,o.default);t.default=s},{"./sha1.js":534,"./v35.js":538}],541:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=i("./regex.js"))&&n.__esModule?n:{default:n},r=function(s){return typeof s=="string"&&o.default.test(s)};t.default=r},{"./regex.js":532}],542:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=i("./validate.js"))&&n.__esModule?n:{default:n},r=function(s){if(!(0,o.default)(s))throw TypeError("Invalid UUID");return parseInt(s.substr(14,1),16)};t.default=r},{"./validate.js":541}],543:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHAR=`	
\r -\uD7FF\uE000-\uFFFD\u{10000}-\u{10FFFF}`,t.S=` 	\r
`,t.NAME_START_CHAR=":A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");function n(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}t.S_LIST=[32,10,13,9],t.isChar=function(o){return o>=32&&o<=55295||o===10||o===13||o===9||o>=57344&&o<=65533||o>=65536&&o<=1114111},t.isS=function(o){return o===32||o===10||o===13||o===9},t.isNameStartChar=n,t.isNameChar=function(o){return n(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],544:[function(i,e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHAR="-\uD7FF\uE000-\uFFFD\u{10000}-\u{10FFFF}",t.RESTRICTED_CHAR="-\b\v\f-\x7F-\x84\x86-\x9F",t.S=` 	\r
`,t.NAME_START_CHAR=":A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");function n(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}t.S_LIST=[32,10,13,9],t.isChar=function(o){return o>=1&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},t.isRestrictedChar=function(o){return o>=1&&o<=8||o===11||o===12||o>=14&&o<=31||o>=127&&o<=132||o>=134&&o<=159},t.isCharAndNotRestricted=function(o){return o===9||o===10||o===13||o>31&&o<127||o===133||o>159&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},t.isS=function(o){return o===32||o===10||o===13||o===9},t.isNameStartChar=n,t.isNameChar=function(o){return n(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],545:[function(i,e,t){"use strict";function n(o){return o>=65&&o<=90||o===95||o>=97&&o<=122||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8204&&o<=8205||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}Object.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(o){return n(o)||o===45||o===46||o>=48&&o<=57||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}]},{},[15])(15)})});var k_=class{},ox=class{},$l=class i{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let n=t.indexOf(":");if(n>0){let o=t.slice(0,n),r=o.toLowerCase(),s=t.slice(n+1).trim();this.maybeSetNormalizedName(o,r),this.headers.has(r)?this.headers.get(r).push(s):this.headers.set(r,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,n)=>{this.setHeaderEntries(n,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,n])=>{this.setHeaderEntries(t,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new i;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,t);let o=(e.op==="a"?this.headers.get(t):void 0)||[];o.push(...n),this.headers.set(t,o);break;case"d":let r=e.value;if(!r)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>r.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let n=(Array.isArray(t)?t:[t]).map(r=>r.toString()),o=e.toLowerCase();this.headers.set(o,n),this.maybeSetNormalizedName(e,o)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var dI=class{encodeKey(e){return Y3(e)}encodeValue(e){return Y3(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Sne(i,e){let t=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(o=>{let r=o.indexOf("="),[s,a]=r==-1?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,r)),e.decodeValue(o.slice(r+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var Ene=/%(\d[a-f0-9])/gi,One={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Y3(i){return encodeURIComponent(i).replace(Ene,(e,t)=>One[t]??e)}function ix(i){return`${i}`}var jl=class i{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new dI,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Sne(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let n=e.fromObject[t],o=Array.isArray(n)?n.map(ix):[ix(n)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(n=>{let o=e[n];Array.isArray(o)?o.forEach(r=>{t.push({param:n,value:r,op:"a"})}):t.push({param:n,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(n=>t+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new i({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(ix(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],o=n.indexOf(ix(e.value));o!==-1&&n.splice(o,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var cI=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Ine(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function X3(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function Z3(i){return typeof Blob<"u"&&i instanceof Blob}function Q3(i){return typeof FormData<"u"&&i instanceof FormData}function Dne(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var A_=class i{constructor(e,t,n,o){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let r;if(Ine(this.method)||o?(this.body=n!==void 0?n:null,r=o):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),this.transferCache=r.transferCache),this.headers??=new $l,this.context??=new cI,!this.params)this.params=new jl,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||X3(this.body)||Z3(this.body)||Q3(this.body)||Dne(this.body)?this.body:this.body instanceof jl?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Q3(this.body)?null:Z3(this.body)?this.body.type||null:X3(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof jl?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,n=e.url||this.url,o=e.responseType||this.responseType,r=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,d=e.headers||this.headers,c=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),d)),e.setParams&&(c=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),c)),new i(t,n,s,{params:c,headers:d,context:u,reportProgress:l,responseType:o,withCredentials:a,transferCache:r})}},Eu=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(Eu||{}),M_=class{constructor(e,t=200,n="OK"){this.headers=e.headers||new $l,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},rx=class i extends M_{constructor(e={}){super(e),this.type=Eu.ResponseHeader}clone(e={}){return new i({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},dp=class i extends M_{constructor(e={}){super(e),this.type=Eu.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new i({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Su=class extends M_{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},c4=200,Tne=204;function lI(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var cp=(()=>{let e=class e{constructor(n){this.handler=n}request(n,o,r={}){let s;if(n instanceof A_)s=n;else{let d;r.headers instanceof $l?d=r.headers:d=new $l(r.headers);let c;r.params&&(r.params instanceof jl?c=r.params:c=new jl({fromObject:r.params})),s=new A_(n,o,r.body!==void 0?r.body:null,{headers:d,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let a=Bt(s).pipe(mu(d=>this.handler.handle(d)));if(n instanceof A_||r.observe==="events")return a;let l=a.pipe(Bn(d=>d instanceof dp));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(Oi(d=>{if(d.body!==null&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return l.pipe(Oi(d=>{if(d.body!==null&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return l.pipe(Oi(d=>{if(d.body!==null&&typeof d.body!="string")throw new Error("Response is not a string.");return d.body}));case"json":default:return l.pipe(Oi(d=>d.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(n,o={}){return this.request("DELETE",n,o)}get(n,o={}){return this.request("GET",n,o)}head(n,o={}){return this.request("HEAD",n,o)}jsonp(n,o){return this.request("JSONP",n,{params:new jl().append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,o={}){return this.request("OPTIONS",n,o)}patch(n,o,r={}){return this.request("PATCH",n,lI(r,o))}post(n,o,r={}){return this.request("POST",n,lI(r,o))}put(n,o,r={}){return this.request("PUT",n,lI(r,o))}};e.\u0275fac=function(o){return new(o||e)(ke(k_))},e.\u0275prov=rt({token:e,factory:e.\u0275fac});let i=e;return i})(),Ane=/^\)\]\}',?\n/,kne="X-Request-URL";function J3(i){if(i.url)return i.url;let e=kne.toLocaleLowerCase();return i.headers.get(e)}var Mne=(()=>{let e=class e{constructor(){this.fetchImpl=Ge(uI,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=Ge(_t)}handle(n){return new ns(o=>{let r=new AbortController;return this.doRequest(n,r.signal,o).then(hI,s=>o.error(new Su({error:s}))),()=>r.abort()})}doRequest(n,o,r){return ze(this,null,function*(){let s=this.createRequestInit(n),a;try{let p=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,Le({signal:o},s)));Rne(p),r.next({type:Eu.Sent}),a=yield p}catch(p){r.error(new Su({error:p,status:p.status??0,statusText:p.statusText,url:n.urlWithParams,headers:p.headers}));return}let l=new $l(a.headers),d=a.statusText,c=J3(a)??n.urlWithParams,u=a.status,h=null;if(n.reportProgress&&r.next(new rx({headers:l,status:u,statusText:d,url:c})),a.body){let p=a.headers.get("content-length"),m=[],g=a.body.getReader(),b=0,x,E,D=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>ze(this,null,function*(){for(;;){let{done:k,value:R}=yield g.read();if(k)break;if(m.push(R),b+=R.length,n.reportProgress){E=n.responseType==="text"?(E??"")+(x??=new TextDecoder).decode(R,{stream:!0}):void 0;let N=()=>r.next({type:Eu.DownloadProgress,total:p?+p:void 0,loaded:b,partialText:E});D?D.run(N):N()}}}));let L=this.concatChunks(m,b);try{let k=a.headers.get("Content-Type")??"";h=this.parseBody(n,L,k)}catch(k){r.error(new Su({error:k,headers:new $l(a.headers),status:a.status,statusText:a.statusText,url:J3(a)??n.urlWithParams}));return}}u===0&&(u=h?c4:0),u>=200&&u<300?(r.next(new dp({body:h,headers:l,status:u,statusText:d,url:c})),r.complete()):r.error(new Su({error:h,headers:l,status:u,statusText:d,url:c}))})}parseBody(n,o,r){switch(n.responseType){case"json":let s=new TextDecoder().decode(o).replace(Ane,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(o);case"blob":return new Blob([o],{type:r});case"arraybuffer":return o.buffer}}createRequestInit(n){let o={},r=n.withCredentials?"include":void 0;if(n.headers.forEach((s,a)=>o[s]=a.join(",")),n.headers.has("Accept")||(o.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let s=n.detectContentTypeHeader();s!==null&&(o["Content-Type"]=s)}return{body:n.serializeBody(),method:n.method,headers:o,credentials:r}}concatChunks(n,o){let r=new Uint8Array(o),s=0;for(let a of n)r.set(a,s),s+=a.length;return r}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=rt({token:e,factory:e.\u0275fac});let i=e;return i})(),uI=class{};function hI(){}function Rne(i){i.then(hI,hI)}function u4(i,e){return e(i)}function Fne(i,e){return(t,n)=>e.intercept(t,{handle:o=>i(o,n)})}function Pne(i,e,t){return(n,o)=>aa(t,()=>e(n,r=>i(r,o)))}var Lne=new ct(""),pI=new ct(""),h4=new ct(""),p4=new ct("",{providedIn:"root",factory:()=>!0});function Nne(){let i=null;return(e,t)=>{i===null&&(i=(Ge(Lne,{optional:!0})??[]).reduceRight(Fne,u4));let n=Ge(x_);if(Ge(p4)){let r=n.add();return i(e,t).pipe(Kd(()=>n.remove(r)))}else return i(e,t)}}var e4=(()=>{let e=class e extends k_{constructor(n,o){super(),this.backend=n,this.injector=o,this.chain=null,this.pendingTasks=Ge(x_),this.contributeToStability=Ge(p4)}handle(n){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(pI),...this.injector.get(h4,[])]));this.chain=o.reduceRight((r,s)=>Pne(r,s,this.injector),u4)}if(this.contributeToStability){let o=this.pendingTasks.add();return this.chain(n,r=>this.backend.handle(r)).pipe(Kd(()=>this.pendingTasks.remove(o)))}else return this.chain(n,o=>this.backend.handle(o))}};e.\u0275fac=function(o){return new(o||e)(ke(ox),ke(qd))},e.\u0275prov=rt({token:e,factory:e.\u0275fac});let i=e;return i})();var Bne=/^\)\]\}',?\n/;function Vne(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}var t4=(()=>{let e=class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new Rn(-2800,!1);let o=this.xhrFactory;return(o.\u0275loadImpl?Qo(o.\u0275loadImpl()):Bt(null)).pipe(yr(()=>new ns(s=>{let a=o.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((g,b)=>a.setRequestHeader(g,b.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let g=n.detectContentTypeHeader();g!==null&&a.setRequestHeader("Content-Type",g)}if(n.responseType){let g=n.responseType.toLowerCase();a.responseType=g!=="json"?g:"text"}let l=n.serializeBody(),d=null,c=()=>{if(d!==null)return d;let g=a.statusText||"OK",b=new $l(a.getAllResponseHeaders()),x=Vne(a)||n.url;return d=new rx({headers:b,status:a.status,statusText:g,url:x}),d},u=()=>{let{headers:g,status:b,statusText:x,url:E}=c(),D=null;b!==Tne&&(D=typeof a.response>"u"?a.responseText:a.response),b===0&&(b=D?c4:0);let L=b>=200&&b<300;if(n.responseType==="json"&&typeof D=="string"){let k=D;D=D.replace(Bne,"");try{D=D!==""?JSON.parse(D):null}catch(R){D=k,L&&(L=!1,D={error:R,text:D})}}L?(s.next(new dp({body:D,headers:g,status:b,statusText:x,url:E||void 0})),s.complete()):s.error(new Su({error:D,headers:g,status:b,statusText:x,url:E||void 0}))},h=g=>{let{url:b}=c(),x=new Su({error:g,status:a.status||0,statusText:a.statusText||"Unknown Error",url:b||void 0});s.error(x)},f=!1,p=g=>{f||(s.next(c()),f=!0);let b={type:Eu.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(b.total=g.total),n.responseType==="text"&&a.responseText&&(b.partialText=a.responseText),s.next(b)},m=g=>{let b={type:Eu.UploadProgress,loaded:g.loaded};g.lengthComputable&&(b.total=g.total),s.next(b)};return a.addEventListener("load",u),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),n.reportProgress&&(a.addEventListener("progress",p),l!==null&&a.upload&&a.upload.addEventListener("progress",m)),a.send(l),s.next({type:Eu.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",u),a.removeEventListener("timeout",h),n.reportProgress&&(a.removeEventListener("progress",p),l!==null&&a.upload&&a.upload.removeEventListener("progress",m)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(o){return new(o||e)(ke(Vf))},e.\u0275prov=rt({token:e,factory:e.\u0275fac});let i=e;return i})(),f4=new ct(""),Hne="XSRF-TOKEN",zne=new ct("",{providedIn:"root",factory:()=>Hne}),jne="X-XSRF-TOKEN",$ne=new ct("",{providedIn:"root",factory:()=>jne}),sx=class{},Wne=(()=>{let e=class e{constructor(n,o,r){this.doc=n,this.platform=o,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Qy(n,this.cookieName),this.lastCookieString=n),this.lastToken}};e.\u0275fac=function(o){return new(o||e)(ke(jt),ke(tr),ke(zne))},e.\u0275prov=rt({token:e,factory:e.\u0275fac});let i=e;return i})();function Une(i,e){let t=i.url.toLowerCase();if(!Ge(f4)||i.method==="GET"||i.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(i);let n=Ge(sx).getToken(),o=Ge($ne);return n!=null&&!i.headers.has(o)&&(i=i.clone({headers:i.headers.set(o,n)})),e(i)}var m4=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(m4||{});function Gne(i,e){return{\u0275kind:i,\u0275providers:e}}function Kne(...i){let e=[cp,t4,e4,{provide:k_,useExisting:e4},{provide:ox,useFactory:()=>Ge(Mne,{optional:!0})??Ge(t4)},{provide:pI,useValue:Une,multi:!0},{provide:f4,useValue:!0},{provide:sx,useClass:Wne}];for(let t of i)e.push(...t.\u0275providers);return rp(e)}var i4=new ct("");function qne(){return Gne(m4.LegacyInterceptors,[{provide:i4,useFactory:Nne},{provide:pI,useExisting:i4,multi:!0}])}var ax=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({providers:[Kne(qne())]});let i=e;return i})();var Yne=new ct(""),n4="b",o4="h",r4="s",s4="st",a4="u",l4="rt",nx=new ct(""),Xne=["GET","HEAD"];function Zne(i,e){let f=Ge(nx),{isCacheActive:t}=f,n=qV(f,["isCacheActive"]),{transferCache:o,method:r}=i;if(!t||o===!1||r==="POST"&&!n.includePostRequests&&!o||r!=="POST"&&!Xne.includes(r)||!n.includeRequestsWithAuthHeaders&&Qne(i)||n.filter?.(i)===!1)return e(i);let s=Ge($s),a=Ge(Yne,{optional:!0}),l=lp(Ge(tr));if(a&&!l)throw new Rn(2803,!1);let d=l&&a?ioe(i.url,a):i.url,c=eoe(i,d),u=s.get(c,null),h=n.includeHeaders;if(typeof o=="object"&&o.includeHeaders&&(h=o.includeHeaders),u){let{[n4]:p,[l4]:m,[o4]:g,[r4]:b,[s4]:x,[a4]:E}=u,D=p;switch(m){case"arraybuffer":D=new TextEncoder().encode(p).buffer;break;case"blob":D=new Blob([p]);break}let L=new $l(g);return Bt(new dp({body:D,headers:L,status:b,statusText:x,url:E}))}return e(i).pipe(eo(p=>{p instanceof dp&&l&&s.set(c,{[n4]:p.body,[o4]:Jne(p.headers,h),[r4]:p.status,[s4]:p.statusText,[a4]:d,[l4]:i.responseType})}))}function Qne(i){return i.headers.has("authorization")||i.headers.has("proxy-authorization")}function Jne(i,e){if(!e)return{};let t={};for(let n of e){let o=i.getAll(n);o!==null&&(t[n]=o)}return t}function d4(i){return[...i.keys()].sort().map(e=>`${e}=${i.getAll(e)}`).join("&")}function eoe(i,e){let{params:t,method:n,responseType:o}=i,r=d4(t),s=i.serializeBody();s instanceof URLSearchParams?s=d4(s):typeof s!="string"&&(s="");let a=[n,o,e,s,r].join("|"),l=toe(a);return l}function toe(i){let e=0;for(let t of i)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function g4(i){return[{provide:nx,useFactory:()=>(E_("NgHttpTransferCache"),Le({isCacheActive:!0},i))},{provide:h4,useValue:Zne,multi:!0,deps:[$s,nx]},{provide:Yy,multi:!0,useFactory:()=>{let e=Ge(Yd),t=Ge(nx);return()=>{O3(e).then(()=>{t.isCacheActive=!1})}}}]}function ioe(i,e){let t=new URL(i,"resolve://").origin,n=e[t];return n?i.replace(t,n):i}var _I=class extends L3{constructor(){super(...arguments),this.supportsDOMEvents=!0}},bI=class i extends _I{static makeCurrent(){P3(new i)}onAndCancel(e,t,n){return e.addEventListener(t,n),()=>{e.removeEventListener(t,n)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=ooe();return t==null?null:roe(t)}resetBaseElement(){R_=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Qy(document.cookie,e)}},R_=null;function ooe(){return R_=R_||document.querySelector("base"),R_?R_.getAttribute("href"):null}function roe(i){return new URL(i,document.baseURI).pathname}var vI=class{addToWindow(e){_u.getAngularTestability=(n,o=!0)=>{let r=e.findTestabilityInTree(n,o);if(r==null)throw new Rn(5103,!1);return r},_u.getAllAngularTestabilities=()=>e.getAllTestabilities(),_u.getAllAngularRootElements=()=>e.getAllRootElements();let t=n=>{let o=_u.getAllAngularTestabilities(),r=o.length,s=function(){r--,r==0&&n()};o.forEach(a=>{a.whenStable(s)})};_u.frameworkStabilizers||(_u.frameworkStabilizers=[]),_u.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,n){if(t==null)return null;let o=e.getTestability(t);return o??(n?ap().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},soe=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=rt({token:e,factory:e.\u0275fac});let i=e;return i})(),lx=new ct(""),v4=(()=>{let e=class e{constructor(n,o){this._zone=o,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,o,r){return this._findPluginFor(o).addEventListener(n,o,r)}getZone(){return this._zone}_findPluginFor(n){let o=this._eventNameToPlugin.get(n);if(o)return o;if(o=this._plugins.find(s=>s.supports(n)),!o)throw new Rn(5101,!1);return this._eventNameToPlugin.set(n,o),o}};e.\u0275fac=function(o){return new(o||e)(ke(lx),ke(_t))},e.\u0275prov=rt({token:e,factory:e.\u0275fac});let i=e;return i})(),F_=class{constructor(e){this._doc=e}},mI="ng-app-id",y4=(()=>{let e=class e{constructor(n,o,r,s={}){this.doc=n,this.appId=o,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=lp(s),this.resetHostNodes()}addStyles(n){for(let o of n)this.changeUsageCount(o,1)===1&&this.onStyleAdded(o)}removeStyles(n){for(let o of n)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(o=>o.remove()),n.clear());for(let o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let o of this.getAllStyles())this.addStyleToHost(n,o)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let o of this.hostNodes)this.addStyleToHost(o,n)}onStyleRemoved(n){let o=this.styleRef;o.get(n)?.elements?.forEach(r=>r.remove()),o.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${mI}="${this.appId}"]`);if(n?.length){let o=new Map;return n.forEach(r=>{r.textContent!=null&&o.set(r.textContent,r)}),o}return null}changeUsageCount(n,o){let r=this.styleRef;if(r.has(n)){let s=r.get(n);return s.usage+=o,s.usage}return r.set(n,{usage:o,elements:[]}),o}getStyleElement(n,o){let r=this.styleNodesInDOM,s=r?.get(o);if(s?.parentNode===n)return r.delete(o),s.removeAttribute(mI),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=o,this.platformIsServer&&a.setAttribute(mI,this.appId),n.appendChild(a),a}}addStyleToHost(n,o){let r=this.getStyleElement(n,o),s=this.styleRef,a=s.get(o)?.elements;a?a.push(r):s.set(o,{elements:[r],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(o){return new(o||e)(ke(jt),ke(C_),ke(w_,8),ke(tr))},e.\u0275prov=rt({token:e,factory:e.\u0275fac});let i=e;return i})(),gI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},wI=/%COMP%/g,x4="%COMP%",aoe=`_nghost-${x4}`,loe=`_ngcontent-${x4}`,doe=!0,coe=new ct("",{providedIn:"root",factory:()=>doe});function uoe(i){return loe.replace(wI,i)}function hoe(i){return aoe.replace(wI,i)}function C4(i,e){return e.map(t=>t.replace(wI,i))}var Hf=(()=>{let e=class e{constructor(n,o,r,s,a,l,d,c=null){this.eventManager=n,this.sharedStylesHost=o,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=d,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=lp(l),this.defaultRenderer=new P_(n,a,d,this.platformIsServer)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===y_.ShadowDom&&(o=ci(Le({},o),{encapsulation:y_.Emulated}));let r=this.getOrCreateRenderer(n,o);return r instanceof dx?r.applyToHost(n):r instanceof L_&&r.applyStyles(),r}getOrCreateRenderer(n,o){let r=this.rendererByCompId,s=r.get(o.id);if(!s){let a=this.doc,l=this.ngZone,d=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(o.encapsulation){case y_.Emulated:s=new dx(d,c,o,this.appId,u,a,l,h);break;case y_.ShadowDom:return new yI(d,c,n,o,a,l,this.nonce,h);default:s=new L_(d,c,o,u,a,l,h);break}r.set(o.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(o){return new(o||e)(ke(v4),ke(y4),ke(C_),ke(coe),ke(jt),ke(tr),ke(_t),ke(w_))},e.\u0275prov=rt({token:e,factory:e.\u0275fac});let i=e;return i})(),P_=class{constructor(e,t,n,o){this.eventManager=e,this.doc=t,this.ngZone=n,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(gI[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(_4(e)?e.content:e).appendChild(t)}insertBefore(e,t,n){e&&(_4(e)?e.content:e).insertBefore(t,n)}removeChild(e,t){t.remove()}selectRootElement(e,t){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new Rn(-5104,!1);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,o){if(o){t=o+":"+t;let r=gI[o];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){let o=gI[n];o?e.removeAttributeNS(o,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,o){o&(S_.DashCase|S_.Important)?e.style.setProperty(t,n,o&S_.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&S_.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e!=null&&(e[t]=n)}setValue(e,t){e.nodeValue=t}listen(e,t,n){if(typeof e=="string"&&(e=ap().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(n))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function _4(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var yI=class extends P_{constructor(e,t,n,o,r,s,a,l){super(e,r,s,l),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=C4(o.id,o.styles);for(let c of d){let u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=c,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},L_=class extends P_{constructor(e,t,n,o,r,s,a,l){super(e,r,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o,this.styles=l?C4(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},dx=class extends L_{constructor(e,t,n,o,r,s,a,l){let d=o+"-"+n.id;super(e,t,n,r,s,a,l,d),this.contentAttr=uoe(d),this.hostAttr=hoe(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}},poe=(()=>{let e=class e extends F_{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,r){return n.addEventListener(o,r,!1),()=>this.removeEventListener(n,o,r)}removeEventListener(n,o,r){return n.removeEventListener(o,r)}};e.\u0275fac=function(o){return new(o||e)(ke(jt))},e.\u0275prov=rt({token:e,factory:e.\u0275fac});let i=e;return i})(),foe=(()=>{let e=class e extends F_{constructor(n){super(n),this.delegate=Ge(k3,{optional:!0})}supports(n){return this.delegate?this.delegate.supports(n):!1}addEventListener(n,o,r){return this.delegate.addEventListener(n,o,r)}removeEventListener(n,o,r){return this.delegate.removeEventListener(n,o,r)}};e.\u0275fac=function(o){return new(o||e)(ke(jt))},e.\u0275prov=rt({token:e,factory:e.\u0275fac});let i=e;return i})(),b4=["alt","control","meta","shift"],moe={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},goe={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},_oe=(()=>{let e=class e extends F_{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,o,r){let s=e.parseEventName(o),a=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ap().onAndCancel(n,s.domEventName,a))}static parseEventName(n){let o=n.toLowerCase().split("."),r=o.shift();if(o.length===0||!(r==="keydown"||r==="keyup"))return null;let s=e._normalizeKey(o.pop()),a="",l=o.indexOf("code");if(l>-1&&(o.splice(l,1),a="code."),b4.forEach(c=>{let u=o.indexOf(c);u>-1&&(o.splice(u,1),a+=c+".")}),a+=s,o.length!=0||s.length===0)return null;let d={};return d.domEventName=r,d.fullKey=a,d}static matchEventFullKeyCode(n,o){let r=moe[n.key]||n.key,s="";return o.indexOf("code.")>-1&&(r=n.code,s="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),b4.forEach(a=>{if(a!==r){let l=goe[a];l(n)&&(s+=a+".")}}),s+=r,s===o)}static eventCallback(n,o,r){return s=>{e.matchEventFullKeyCode(s,n)&&r.runGuarded(()=>o(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(o){return new(o||e)(ke(jt))},e.\u0275prov=rt({token:e,factory:e.\u0275fac});let i=e;return i})();function boe(){bI.makeCurrent()}function voe(){return new sp}function yoe(){return r3(document),document}var xoe=[{provide:tr,useValue:j3},{provide:s3,useValue:boe,multi:!0},{provide:jt,useFactory:yoe,deps:[]}],w4=D3(T3,"browser",xoe),Coe=new ct(""),woe=[{provide:Gy,useClass:vI,deps:[]},{provide:E3,useClass:Ky,deps:[_t,oI,Gy]},{provide:Ky,useClass:Ky,deps:[_t,oI,Gy]}],Soe=[{provide:o3,useValue:"root"},{provide:sp,useFactory:voe,deps:[]},{provide:lx,useClass:poe,multi:!0,deps:[jt,_t,tr]},{provide:lx,useClass:_oe,multi:!0,deps:[jt]},{provide:lx,useClass:foe,multi:!0},Hf,y4,v4,{provide:Bf,useExisting:Hf},{provide:Vf,useClass:soe,deps:[]},[]],cx=(()=>{let e=class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:C_,useValue:n.appId}]}}};e.\u0275fac=function(o){return new(o||e)(ke(Coe,12))},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({providers:[...Soe,...woe],imports:[Es,A3]});let i=e;return i})();var S4=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(o){return new(o||e)(ke(jt))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var N_=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=rt({token:e,factory:function(o){let r=null;return o?r=new(o||e):r=ke(Eoe),r},providedIn:"root"});let i=e;return i})(),Eoe=(()=>{let e=class e extends N_{constructor(n){super(),this._doc=n}sanitize(n,o){if(o==null)return null;switch(n){case Ws.NONE:return o;case Ws.HTML:return Lf(o,"HTML")?Pf(o):p3(this._doc,String(o)).toString();case Ws.STYLE:return Lf(o,"Style")?Pf(o):o;case Ws.SCRIPT:if(Lf(o,"Script"))return Pf(o);throw new Rn(5200,!1);case Ws.URL:return Lf(o,"URL")?Pf(o):h3(String(o));case Ws.RESOURCE_URL:if(Lf(o,"ResourceURL"))return Pf(o);throw new Rn(5201,!1);default:throw new Rn(5202,!1)}}bypassSecurityTrustHtml(n){return a3(n)}bypassSecurityTrustStyle(n){return l3(n)}bypassSecurityTrustScript(n){return d3(n)}bypassSecurityTrustUrl(n){return c3(n)}bypassSecurityTrustResourceUrl(n){return u3(n)}};e.\u0275fac=function(o){return new(o||e)(ke(jt))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),xI=function(i){return i[i.NoHttpTransferCache=0]="NoHttpTransferCache",i[i.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",i[i.I18nSupport=2]="I18nSupport",i[i.EventReplay=3]="EventReplay",i}(xI||{});function E4(...i){let e=[],t=new Set,n=t.has(xI.HttpTransferCacheOptions);for(let{\u0275providers:o,\u0275kind:r}of i)t.add(r),o.length&&e.push(o);return rp([[],M3(),t.has(xI.NoHttpTransferCache)||n?[]:g4({}),e])}var qi="primary",Z_=Symbol("RouteTitle"),DI=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Gf(i){return new DI(i)}function Ooe(i,e,t){let n=t.path.split("/");if(n.length>i.length||t.pathMatch==="full"&&(e.hasChildren()||n.length<i.length))return null;let o={};for(let r=0;r<n.length;r++){let s=n[r],a=i[r];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:i.slice(0,n.length),posParams:o}}function Ioe(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(!Wl(i[t],e[t]))return!1;return!0}function Wl(i,e){let t=i?TI(i):void 0,n=e?TI(e):void 0;if(!t||!n||t.length!=n.length)return!1;let o;for(let r=0;r<t.length;r++)if(o=t[r],!L4(i[o],e[o]))return!1;return!0}function TI(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function L4(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;let t=[...i].sort(),n=[...e].sort();return t.every((o,r)=>n[r]===o)}else return i===e}function N4(i){return i.length>0?i[i.length-1]:null}function Du(i){return My(i)?i:qy(i)?Qo(Promise.resolve(i)):Bt(i)}var Doe={exact:V4,subset:H4},B4={exact:Toe,subset:Aoe,ignored:()=>!0};function O4(i,e,t){return Doe[t.paths](i.root,e.root,t.matrixParams)&&B4[t.queryParams](i.queryParams,e.queryParams)&&!(t.fragment==="exact"&&i.fragment!==e.fragment)}function Toe(i,e){return Wl(i,e)}function V4(i,e,t){if(!hp(i.segments,e.segments)||!fx(i.segments,e.segments,t)||i.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!i.children[n]||!V4(i.children[n],e.children[n],t))return!1;return!0}function Aoe(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(t=>L4(i[t],e[t]))}function H4(i,e,t){return z4(i,e,e.segments,t)}function z4(i,e,t,n){if(i.segments.length>t.length){let o=i.segments.slice(0,t.length);return!(!hp(o,t)||e.hasChildren()||!fx(o,t,n))}else if(i.segments.length===t.length){if(!hp(i.segments,t)||!fx(i.segments,t,n))return!1;for(let o in e.children)if(!i.children[o]||!H4(i.children[o],e.children[o],n))return!1;return!0}else{let o=t.slice(0,i.segments.length),r=t.slice(i.segments.length);return!hp(i.segments,o)||!fx(i.segments,o,n)||!i.children[qi]?!1:z4(i.children[qi],e,r,n)}}function fx(i,e,t){return e.every((n,o)=>B4[t](i[o].parameters,n.parameters))}var Jd=class{constructor(e=new Hn([],{}),t={},n=null){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Gf(this.queryParams),this._queryParamMap}toString(){return Roe.serialize(this)}},Hn=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mx(this)}},up=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Gf(this.parameters),this._parameterMap}toString(){return $4(this)}};function koe(i,e){return hp(i,e)&&i.every((t,n)=>Wl(t.parameters,e[n].parameters))}function hp(i,e){return i.length!==e.length?!1:i.every((t,n)=>t.path===e[n].path)}function Moe(i,e){let t=[];return Object.entries(i.children).forEach(([n,o])=>{n===qi&&(t=t.concat(e(o,n)))}),Object.entries(i.children).forEach(([n,o])=>{n!==qi&&(t=t.concat(e(o,n)))}),t}var Q_=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=rt({token:e,factory:()=>new Kf,providedIn:"root"});let i=e;return i})(),Kf=class{parse(e){let t=new kI(e);return new Jd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${B_(e.root,!0)}`,n=Loe(e.queryParams),o=typeof e.fragment=="string"?`#${Foe(e.fragment)}`:"";return`${t}${n}${o}`}},Roe=new Kf;function mx(i){return i.segments.map(e=>$4(e)).join("/")}function B_(i,e){if(!i.hasChildren())return mx(i);if(e){let t=i.children[qi]?B_(i.children[qi],!1):"",n=[];return Object.entries(i.children).forEach(([o,r])=>{o!==qi&&n.push(`${o}:${B_(r,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}else{let t=Moe(i,(n,o)=>o===qi?[B_(i.children[qi],!1)]:[`${o}:${B_(n,!1)}`]);return Object.keys(i.children).length===1&&i.children[qi]!=null?`${mx(i)}/${t[0]}`:`${mx(i)}/(${t.join("//")})`}}function j4(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hx(i){return j4(i).replace(/%3B/gi,";")}function Foe(i){return encodeURI(i)}function AI(i){return j4(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gx(i){return decodeURIComponent(i)}function I4(i){return gx(i.replace(/\+/g,"%20"))}function $4(i){return`${AI(i.path)}${Poe(i.parameters)}`}function Poe(i){return Object.entries(i).map(([e,t])=>`;${AI(e)}=${AI(t)}`).join("")}function Loe(i){let e=Object.entries(i).map(([t,n])=>Array.isArray(n)?n.map(o=>`${hx(t)}=${hx(o)}`).join("&"):`${hx(t)}=${hx(n)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Noe=/^[^\/()?;#]+/;function SI(i){let e=i.match(Noe);return e?e[0]:""}var Boe=/^[^\/()?;=#]+/;function Voe(i){let e=i.match(Boe);return e?e[0]:""}var Hoe=/^[^=?&#]+/;function zoe(i){let e=i.match(Hoe);return e?e[0]:""}var joe=/^[^&#]+/;function $oe(i){let e=i.match(joe);return e?e[0]:""}var kI=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Hn([],{}):new Hn([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[qi]=new Hn(e,t)),n}parseSegment(){let e=SI(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Rn(4009,!1);return this.capture(e),new up(gx(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Voe(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){let o=SI(this.remaining);o&&(n=o,this.capture(n))}e[gx(t)]=gx(n)}parseQueryParam(e){let t=zoe(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){let s=$oe(this.remaining);s&&(n=s,this.capture(n))}let o=I4(t),r=I4(n);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(r)}else e[o]=r}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=SI(this.remaining),o=this.remaining[n.length];if(o!=="/"&&o!==")"&&o!==";")throw new Rn(4010,!1);let r;n.indexOf(":")>-1?(r=n.slice(0,n.indexOf(":")),this.capture(r),this.capture(":")):e&&(r=qi);let s=this.parseChildren();t[r]=Object.keys(s).length===1?s[qi]:new Hn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Rn(4011,!1)}};function W4(i){return i.segments.length>0?new Hn([],{[qi]:i}):i}function U4(i){let e={};for(let[n,o]of Object.entries(i.children)){let r=U4(o);if(n===qi&&r.segments.length===0&&r.hasChildren())for(let[s,a]of Object.entries(r.children))e[s]=a;else(r.segments.length>0||r.hasChildren())&&(e[n]=r)}let t=new Hn(i.segments,e);return Woe(t)}function Woe(i){if(i.numberOfChildren===1&&i.children[qi]){let e=i.children[qi];return new Hn(i.segments.concat(e.segments),e.children)}return i}function pp(i){return i instanceof Jd}function Uoe(i,e,t=null,n=null){let o=G4(i);return K4(o,e,t,n)}function G4(i){let e;function t(r){let s={};for(let l of r.children){let d=t(l);s[l.outlet]=d}let a=new Hn(r.url,s);return r===i&&(e=a),a}let n=t(i.root),o=W4(n);return e??o}function K4(i,e,t,n){let o=i;for(;o.parent;)o=o.parent;if(e.length===0)return EI(o,o,o,t,n);let r=Goe(e);if(r.toRoot())return EI(o,o,new Hn([],{}),t,n);let s=Koe(r,o,i),a=s.processChildren?z_(s.segmentGroup,s.index,r.commands):Y4(s.segmentGroup,s.index,r.commands);return EI(o,s.segmentGroup,a,t,n)}function _x(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function W_(i){return typeof i=="object"&&i!=null&&i.outlets}function EI(i,e,t,n,o){let r={};n&&Object.entries(n).forEach(([l,d])=>{r[l]=Array.isArray(d)?d.map(c=>`${c}`):`${d}`});let s;i===e?s=t:s=q4(i,e,t);let a=W4(U4(s));return new Jd(a,r,o)}function q4(i,e,t){let n={};return Object.entries(i.children).forEach(([o,r])=>{r===e?n[o]=t:n[o]=q4(r,e,t)}),new Hn(i.segments,n)}var bx=class{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&_x(n[0]))throw new Rn(4003,!1);let o=n.find(W_);if(o&&o!==N4(n))throw new Rn(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Goe(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new bx(!0,0,i);let e=0,t=!1,n=i.reduce((o,r,s)=>{if(typeof r=="object"&&r!=null){if(r.outlets){let a={};return Object.entries(r.outlets).forEach(([l,d])=>{a[l]=typeof d=="string"?d.split("/"):d}),[...o,{outlets:a}]}if(r.segmentPath)return[...o,r.segmentPath]}return typeof r!="string"?[...o,r]:s===0?(r.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&o.push(a))}),o):[...o,r]},[]);return new bx(t,e,n)}var $f=class{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}};function Koe(i,e,t){if(i.isAbsolute)return new $f(e,!0,0);if(!t)return new $f(e,!1,NaN);if(t.parent===null)return new $f(t,!0,0);let n=_x(i.commands[0])?0:1,o=t.segments.length-1+n;return qoe(t,o,i.numberOfDoubleDots)}function qoe(i,e,t){let n=i,o=e,r=t;for(;r>o;){if(r-=o,n=n.parent,!n)throw new Rn(4005,!1);o=n.segments.length}return new $f(n,!1,o-r)}function Yoe(i){return W_(i[0])?i[0].outlets:{[qi]:i}}function Y4(i,e,t){if(i??=new Hn([],{}),i.segments.length===0&&i.hasChildren())return z_(i,e,t);let n=Xoe(i,e,t),o=t.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){let r=new Hn(i.segments.slice(0,n.pathIndex),{});return r.children[qi]=new Hn(i.segments.slice(n.pathIndex),i.children),z_(r,0,o)}else return n.match&&o.length===0?new Hn(i.segments,{}):n.match&&!i.hasChildren()?MI(i,e,t):n.match?z_(i,0,o):MI(i,e,t)}function z_(i,e,t){if(t.length===0)return new Hn(i.segments,{});{let n=Yoe(t),o={};if(Object.keys(n).some(r=>r!==qi)&&i.children[qi]&&i.numberOfChildren===1&&i.children[qi].segments.length===0){let r=z_(i.children[qi],e,t);return new Hn(i.segments,r.children)}return Object.entries(n).forEach(([r,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[r]=Y4(i.children[r],e,s))}),Object.entries(i.children).forEach(([r,s])=>{n[r]===void 0&&(o[r]=s)}),new Hn(i.segments,o)}}function Xoe(i,e,t){let n=0,o=e,r={match:!1,pathIndex:0,commandIndex:0};for(;o<i.segments.length;){if(n>=t.length)return r;let s=i.segments[o],a=t[n];if(W_(a))break;let l=`${a}`,d=n<t.length-1?t[n+1]:null;if(o>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!T4(l,d,s))return r;n+=2}else{if(!T4(l,{},s))return r;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}function MI(i,e,t){let n=i.segments.slice(0,e),o=0;for(;o<t.length;){let r=t[o];if(W_(r)){let l=Zoe(r.outlets);return new Hn(n,l)}if(o===0&&_x(t[0])){let l=i.segments[e];n.push(new up(l.path,D4(t[0]))),o++;continue}let s=W_(r)?r.outlets[qi]:`${r}`,a=o<t.length-1?t[o+1]:null;s&&a&&_x(a)?(n.push(new up(s,D4(a))),o+=2):(n.push(new up(s,{})),o++)}return new Hn(n,{})}function Zoe(i){let e={};return Object.entries(i).forEach(([t,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[t]=MI(new Hn([],{}),0,n))}),e}function D4(i){let e={};return Object.entries(i).forEach(([t,n])=>e[t]=`${n}`),e}function T4(i,e,t){return i==t.path&&Wl(e,t.parameters)}var j_="imperative",xr=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(xr||{}),da=class{constructor(e,t){this.id=e,this.url=t}},qf=class extends da{constructor(e,t,n="imperative",o=null){super(e,t),this.type=xr.NavigationStart,this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ca=class extends da{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n,this.type=xr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},qs=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(qs||{}),vx=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(vx||{}),Qd=class extends da{constructor(e,t,n,o){super(e,t),this.reason=n,this.code=o,this.type=xr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Iu=class extends da{constructor(e,t,n,o){super(e,t),this.reason=n,this.code=o,this.type=xr.NavigationSkipped}},U_=class extends da{constructor(e,t,n,o){super(e,t),this.error=n,this.target=o,this.type=xr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},yx=class extends da{constructor(e,t,n,o){super(e,t),this.urlAfterRedirects=n,this.state=o,this.type=xr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},RI=class extends da{constructor(e,t,n,o){super(e,t),this.urlAfterRedirects=n,this.state=o,this.type=xr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},FI=class extends da{constructor(e,t,n,o,r){super(e,t),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=r,this.type=xr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},PI=class extends da{constructor(e,t,n,o){super(e,t),this.urlAfterRedirects=n,this.state=o,this.type=xr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},LI=class extends da{constructor(e,t,n,o){super(e,t),this.urlAfterRedirects=n,this.state=o,this.type=xr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},NI=class{constructor(e){this.route=e,this.type=xr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},BI=class{constructor(e){this.route=e,this.type=xr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},VI=class{constructor(e){this.snapshot=e,this.type=xr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},HI=class{constructor(e){this.snapshot=e,this.type=xr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zI=class{constructor(e){this.snapshot=e,this.type=xr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jI=class{constructor(e){this.snapshot=e,this.type=xr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xx=class{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n,this.type=xr.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},G_=class{},Yf=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Qoe(i,e){return i.providers&&!i._injector&&(i._injector=nI(i.providers,e,`Route: ${i.path}`)),i._injector??e}function Ja(i){return i.outlet||qi}function Joe(i,e){let t=i.filter(n=>Ja(n)===e);return t.push(...i.filter(n=>Ja(n)!==e)),t}function J_(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let e=i.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var $I=class{get injector(){return J_(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new e0(this.rootInjector),this.attachRef=null}},e0=(()=>{let e=class e{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,o){let r=this.getOrCreateContext(n);r.outlet=o,this.contexts.set(n,r)}onChildOutletDestroyed(n){let o=this.getContext(n);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let o=this.getContext(n);return o||(o=new $I(this.rootInjector),this.contexts.set(n,o)),o}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(o){return new(o||e)(ke(qd))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Cx=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=WI(e,this._root);return t?t.children.map(n=>n.value):[]}firstChild(e){let t=WI(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=UI(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return UI(e,this._root).map(t=>t.value)}};function WI(i,e){if(i===e.value)return e;for(let t of e.children){let n=WI(i,t);if(n)return n}return null}function UI(i,e){if(i===e.value)return[e];for(let t of e.children){let n=UI(i,t);if(n.length)return n.unshift(e),n}return[]}var Ks=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function jf(i){let e={};return i&&i.children.forEach(t=>e[t.value.outlet]=t),e}var wx=class extends Cx{constructor(e,t){super(e),this.snapshot=t,eD(this,e)}toString(){return this.snapshot.toString()}};function X4(i){let e=ere(i),t=new xs([new up("",{})]),n=new xs({}),o=new xs({}),r=new xs({}),s=new xs(""),a=new fp(t,n,r,s,o,qi,i,e.root);return a.snapshot=e.root,new wx(new Ks(a,[]),e)}function ere(i){let e={},t={},n={},o="",r=new Wf([],e,n,o,t,qi,i,null,{});return new Ex("",new Ks(r,[]))}var fp=class{constructor(e,t,n,o,r,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=n,this.fragmentSubject=o,this.dataSubject=r,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Oi(d=>d[Z_]))??Bt(void 0),this.url=e,this.params=t,this.queryParams=n,this.fragment=o,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Oi(e=>Gf(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Oi(e=>Gf(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Sx(i,e,t="emptyOnly"){let n,{routeConfig:o}=i;return e!==null&&(t==="always"||o?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:Le(Le({},e.params),i.params),data:Le(Le({},e.data),i.data),resolve:Le(Le(Le(Le({},i.data),e.data),o?.data),i._resolvedData)}:n={params:Le({},i.params),data:Le({},i.data),resolve:Le(Le({},i.data),i._resolvedData??{})},o&&Q4(o)&&(n.resolve[Z_]=o.title),n}var Wf=class{get title(){return this.data?.[Z_]}constructor(e,t,n,o,r,s,a,l,d){this.url=e,this.params=t,this.queryParams=n,this.fragment=o,this.data=r,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Gf(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Gf(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Ex=class extends Cx{constructor(e,t){super(t),this.url=e,eD(this,t)}toString(){return Z4(this._root)}};function eD(i,e){e.value._routerState=i,e.children.forEach(t=>eD(i,t))}function Z4(i){let e=i.children.length>0?` { ${i.children.map(Z4).join(", ")} } `:"";return`${i.value}${e}`}function OI(i){if(i.snapshot){let e=i.snapshot,t=i._futureSnapshot;i.snapshot=t,Wl(e.queryParams,t.queryParams)||i.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&i.fragmentSubject.next(t.fragment),Wl(e.params,t.params)||i.paramsSubject.next(t.params),Ioe(e.url,t.url)||i.urlSubject.next(t.url),Wl(e.data,t.data)||i.dataSubject.next(t.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function GI(i,e){let t=Wl(i.params,e.params)&&koe(i.url,e.url),n=!i.parent!=!e.parent;return t&&!n&&(!i.parent||GI(i.parent,e.parent))}function Q4(i){return typeof i.title=="string"||i.title===null}var tD=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=qi,this.activateEvents=new St,this.deactivateEvents=new St,this.attachEvents=new St,this.detachEvents=new St,this.parentContexts=Ge(e0),this.location=Ge(Xa),this.changeDetector=Ge(Vn),this.inputBinder=Ge(Ax,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:o,previousValue:r}=n.name;if(o)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Rn(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Rn(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Rn(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,o){this.activated=n,this._activatedRoute=o,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,o){if(this.isActivated)throw new Rn(4013,!1);this._activatedRoute=n;let r=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new KI(n,l,r.injector);this.activated=r.createComponent(a,{index:r.length,injector:d,environmentInjector:o}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=Pt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[on]});let i=e;return i})(),KI=class i{__ngOutletInjector(e){return new i(this.route,this.childContexts,e)}constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===fp?this.route:e===e0?this.childContexts:this.parent.get(e,t)}},Ax=new ct(""),A4=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:o}=n,r=kf([o.queryParams,o.params,o.data]).pipe(yr(([s,a,l],d)=>(l=Le(Le(Le({},s),a),l),d===0?Bt(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==o||o.component===null){this.unsubscribeFromRouteData(n);return}let a=F3(o.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(n,r)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=rt({token:e,factory:e.\u0275fac});let i=e;return i})();function tre(i,e,t){let n=K_(i,e._root,t?t._root:void 0);return new wx(n,e)}function K_(i,e,t){if(t&&i.shouldReuseRoute(e.value,t.value.snapshot)){let n=t.value;n._futureSnapshot=e.value;let o=ire(i,e,t);return new Ks(n,o)}else{if(i.shouldAttach(e.value)){let r=i.retrieve(e.value);if(r!==null){let s=r.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>K_(i,a)),s}}let n=nre(e.value),o=e.children.map(r=>K_(i,r));return new Ks(n,o)}}function ire(i,e,t){return e.children.map(n=>{for(let o of t.children)if(i.shouldReuseRoute(n.value,o.value.snapshot))return K_(i,n,o);return K_(i,n)})}function nre(i){return new fp(new xs(i.url),new xs(i.params),new xs(i.queryParams),new xs(i.fragment),new xs(i.data),i.outlet,i.component,i)}var q_=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},J4="ngNavigationCancelingError";function Ox(i,e){let{redirectTo:t,navigationBehaviorOptions:n}=pp(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=e5(!1,qs.Redirect);return o.url=t,o.navigationBehaviorOptions=n,o}function e5(i,e){let t=new Error(`NavigationCancelingError: ${i||""}`);return t[J4]=!0,t.cancellationCode=e,t}function ore(i){return t5(i)&&pp(i.url)}function t5(i){return!!i&&i[J4]}var rre=(i,e,t,n)=>Oi(o=>(new qI(e,o.targetRouterState,o.currentRouterState,t,n).activate(i),o)),qI=class{constructor(e,t,n,o,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=o,this.inputBindingEnabled=r}activate(e){let t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),OI(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){let o=jf(t);e.children.forEach(r=>{let s=r.value.outlet;this.deactivateRoutes(r,o[s],n),delete o[s]}),Object.values(o).forEach(r=>{this.deactivateRouteAndItsChildren(r,n)})}deactivateRoutes(e,t,n){let o=e.value,r=t?t.value:null;if(o===r)if(o.component){let s=n.getContext(o.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,n);else r&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let n=t.getContext(e.value.outlet),o=n&&e.value.component?n.children:t,r=jf(e);for(let s of Object.values(r))this.deactivateRouteAndItsChildren(s,o);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let n=t.getContext(e.value.outlet),o=n&&e.value.component?n.children:t,r=jf(e);for(let s of Object.values(r))this.deactivateRouteAndItsChildren(s,o);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,t,n){let o=jf(t);e.children.forEach(r=>{this.activateRoutes(r,o[r.value.outlet],n),this.forwardEvent(new jI(r.value.snapshot))}),e.children.length&&this.forwardEvent(new HI(e.value.snapshot))}activateRoutes(e,t,n){let o=e.value,r=t?t.value:null;if(OI(o),o===r)if(o.component){let s=n.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,n);else if(o.component){let s=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),OI(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,n)}},Ix=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Uf=class{constructor(e,t){this.component=e,this.route=t}};function sre(i,e,t){let n=i._root,o=e?e._root:null;return V_(n,o,t,[n.value])}function are(i){let e=i.routeConfig?i.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:i,guards:e}}function Zf(i,e){let t=Symbol(),n=e.get(i,t);return n===t?typeof i=="function"&&!n3(i)?i:e.get(i):n}function V_(i,e,t,n,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=jf(e);return i.children.forEach(s=>{lre(s,r[s.value.outlet],t,n.concat([s.value]),o),delete r[s.value.outlet]}),Object.entries(r).forEach(([s,a])=>$_(a,t.getContext(s),o)),o}function lre(i,e,t,n,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=i.value,s=e?e.value:null,a=t?t.getContext(i.value.outlet):null;if(s&&r.routeConfig===s.routeConfig){let l=dre(s,r,r.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new Ix(n)):(r.data=s.data,r._resolvedData=s._resolvedData),r.component?V_(i,e,a?a.children:null,n,o):V_(i,e,t,n,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Uf(a.outlet.component,s))}else s&&$_(e,a,o),o.canActivateChecks.push(new Ix(n)),r.component?V_(i,null,a?a.children:null,n,o):V_(i,null,t,n,o);return o}function dre(i,e,t){if(typeof t=="function")return t(i,e);switch(t){case"pathParamsChange":return!hp(i.url,e.url);case"pathParamsOrQueryParamsChange":return!hp(i.url,e.url)||!Wl(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!GI(i,e)||!Wl(i.queryParams,e.queryParams);case"paramsChange":default:return!GI(i,e)}}function $_(i,e,t){let n=jf(i),o=i.value;Object.entries(n).forEach(([r,s])=>{o.component?e?$_(s,e.children.getContext(r),t):$_(s,null,t):$_(s,e,t)}),o.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Uf(e.outlet.component,o)):t.canDeactivateChecks.push(new Uf(null,o)):t.canDeactivateChecks.push(new Uf(null,o))}function t0(i){return typeof i=="function"}function cre(i){return typeof i=="boolean"}function ure(i){return i&&t0(i.canLoad)}function hre(i){return i&&t0(i.canActivate)}function pre(i){return i&&t0(i.canActivateChild)}function fre(i){return i&&t0(i.canDeactivate)}function mre(i){return i&&t0(i.canMatch)}function i5(i){return i instanceof ZV||i?.name==="EmptyError"}var px=Symbol("INITIAL_VALUE");function Xf(){return yr(i=>kf(i.map(e=>e.pipe(Jo(1),Er(px)))).pipe(Oi(e=>{for(let t of e)if(t!==!0){if(t===px)return px;if(t===!1||gre(t))return t}return!0}),Bn(e=>e!==px),Jo(1)))}function gre(i){return pp(i)||i instanceof q_}function _re(i,e){return js(t=>{let{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:r,canDeactivateChecks:s}}=t;return s.length===0&&r.length===0?Bt(ci(Le({},t),{guardsResult:!0})):bre(s,n,o,i).pipe(js(a=>a&&cre(a)?vre(n,r,i,e):Bt(a)),Oi(a=>ci(Le({},t),{guardsResult:a})))})}function bre(i,e,t,n){return Qo(i).pipe(js(o=>Sre(o.component,o.route,t,e,n)),gu(o=>o!==!0,!0))}function vre(i,e,t,n){return Qo(e).pipe(mu(o=>Ry(xre(o.route.parent,n),yre(o.route,n),wre(i,o.path,t),Cre(i,o.route,t))),gu(o=>o!==!0,!0))}function yre(i,e){return i!==null&&e&&e(new zI(i)),Bt(!0)}function xre(i,e){return i!==null&&e&&e(new VI(i)),Bt(!0)}function Cre(i,e,t){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return Bt(!0);let o=n.map(r=>Gd(()=>{let s=J_(e)??t,a=Zf(r,s),l=hre(a)?a.canActivate(e,i):aa(s,()=>a(e,i));return Du(l).pipe(gu())}));return Bt(o).pipe(Xf())}function wre(i,e,t){let n=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(s=>are(s)).filter(s=>s!==null).map(s=>Gd(()=>{let a=s.guards.map(l=>{let d=J_(s.node)??t,c=Zf(l,d),u=pre(c)?c.canActivateChild(n,i):aa(d,()=>c(n,i));return Du(u).pipe(gu())});return Bt(a).pipe(Xf())}));return Bt(r).pipe(Xf())}function Sre(i,e,t,n,o){let r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!r||r.length===0)return Bt(!0);let s=r.map(a=>{let l=J_(e)??o,d=Zf(a,l),c=fre(d)?d.canDeactivate(i,e,t,n):aa(l,()=>d(i,e,t,n));return Du(c).pipe(gu())});return Bt(s).pipe(Xf())}function Ere(i,e,t,n){let o=e.canLoad;if(o===void 0||o.length===0)return Bt(!0);let r=o.map(s=>{let a=Zf(s,i),l=ure(a)?a.canLoad(e,t):aa(i,()=>a(e,t));return Du(l)});return Bt(r).pipe(Xf(),n5(n))}function n5(i){return XV(eo(e=>{if(typeof e!="boolean")throw Ox(i,e)}),Oi(e=>e===!0))}function Ore(i,e,t,n){let o=e.canMatch;if(!o||o.length===0)return Bt(!0);let r=o.map(s=>{let a=Zf(s,i),l=mre(a)?a.canMatch(e,t):aa(i,()=>a(e,t));return Du(l)});return Bt(r).pipe(Xf(),n5(n))}var Y_=class{constructor(e){this.segmentGroup=e||null}},X_=class extends Error{constructor(e){super(),this.urlTree=e}};function zf(i){return Cs(new Y_(i))}function Ire(i){return Cs(new Rn(4e3,!1))}function Dre(i){return Cs(e5(!1,qs.GuardRejected))}var YI=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let n=[],o=t.root;for(;;){if(n=n.concat(o.segments),o.numberOfChildren===0)return Bt(n);if(o.numberOfChildren>1||!o.children[qi])return Ire(`${e.redirectTo}`);o=o.children[qi]}}applyRedirectCommands(e,t,n,o,r){if(typeof t!="string"){let a=t,{queryParams:l,fragment:d,routeConfig:c,url:u,outlet:h,params:f,data:p,title:m}=o,g=aa(r,()=>a({params:f,data:p,queryParams:l,fragment:d,routeConfig:c,url:u,outlet:h,title:m}));if(g instanceof Jd)throw new X_(g);t=g}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,n);if(t[0]==="/")throw new X_(s);return s}applyRedirectCreateUrlTree(e,t,n,o){let r=this.createSegmentGroup(e,t.root,n,o);return new Jd(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let n={};return Object.entries(e).forEach(([o,r])=>{if(typeof r=="string"&&r[0]===":"){let a=r.substring(1);n[o]=t[a]}else n[o]=r}),n}createSegmentGroup(e,t,n,o){let r=this.createSegments(e,t.segments,n,o),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,n,o)}),new Hn(r,s)}createSegments(e,t,n,o){return t.map(r=>r.path[0]===":"?this.findPosParam(e,r,o):this.findOrReturn(r,n))}findPosParam(e,t,n){let o=n[t.path.substring(1)];if(!o)throw new Rn(4001,!1);return o}findOrReturn(e,t){let n=0;for(let o of t){if(o.path===e.path)return t.splice(n),o;n++}return e}},XI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tre(i,e,t,n,o){let r=o5(i,e,t);return r.matched?(n=Qoe(e,n),Ore(n,e,t,o).pipe(Oi(s=>s===!0?r:Le({},XI)))):Bt(r)}function o5(i,e,t){if(e.path==="**")return Are(t);if(e.path==="")return e.pathMatch==="full"&&(i.hasChildren()||t.length>0)?Le({},XI):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let o=(e.matcher||Ooe)(t,i,e);if(!o)return Le({},XI);let r={};Object.entries(o.posParams??{}).forEach(([a,l])=>{r[a]=l.path});let s=o.consumed.length>0?Le(Le({},r),o.consumed[o.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function Are(i){return{matched:!0,parameters:i.length>0?N4(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function k4(i,e,t,n){return t.length>0&&Rre(i,t,n)?{segmentGroup:new Hn(e,Mre(n,new Hn(t,i.children))),slicedSegments:[]}:t.length===0&&Fre(i,t,n)?{segmentGroup:new Hn(i.segments,kre(i,t,n,i.children)),slicedSegments:t}:{segmentGroup:new Hn(i.segments,i.children),slicedSegments:t}}function kre(i,e,t,n){let o={};for(let r of t)if(kx(i,e,r)&&!n[Ja(r)]){let s=new Hn([],{});o[Ja(r)]=s}return Le(Le({},n),o)}function Mre(i,e){let t={};t[qi]=e;for(let n of i)if(n.path===""&&Ja(n)!==qi){let o=new Hn([],{});t[Ja(n)]=o}return t}function Rre(i,e,t){return t.some(n=>kx(i,e,n)&&Ja(n)!==qi)}function Fre(i,e,t){return t.some(n=>kx(i,e,n))}function kx(i,e,t){return(i.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Pre(i,e,t){return e.length===0&&!i.children[t]}var ZI=class{};function Lre(i,e,t,n,o,r,s="emptyOnly"){return new QI(i,e,t,n,o,s,r).recognize()}var Nre=31,QI=class{constructor(e,t,n,o,r,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=n,this.config=o,this.urlTree=r,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new YI(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Rn(4002,`'${e.segmentGroup}'`)}recognize(){let e=k4(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Oi(({children:t,rootSnapshot:n})=>{let o=new Ks(n,t),r=new Ex("",o),s=Uoe(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(s),{state:r,tree:s}}))}match(e){let t=new Wf([],Object.freeze({}),Object.freeze(Le({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),qi,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,qi,t).pipe(Oi(n=>({children:n,rootSnapshot:t})),jo(n=>{if(n instanceof X_)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Y_?this.noMatchError(n):n}))}processSegmentGroup(e,t,n,o,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,t,n,r):this.processSegment(e,t,n,n.segments,o,!0,r).pipe(Oi(s=>s instanceof Ks?[s]:[]))}processChildren(e,t,n,o){let r=[];for(let s of Object.keys(n.children))s==="primary"?r.unshift(s):r.push(s);return Qo(r).pipe(mu(s=>{let a=n.children[s],l=Joe(t,s);return this.processSegmentGroup(e,l,a,s,o)}),t3((s,a)=>(s.push(...a),s)),Y1(null),e3(),js(s=>{if(s===null)return zf(n);let a=r5(s);return Bre(a),Bt(a)}))}processSegment(e,t,n,o,r,s,a){return Qo(t).pipe(mu(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,n,o,r,s,a).pipe(jo(d=>{if(d instanceof Y_)return Bt(null);throw d}))),gu(l=>!!l),jo(l=>{if(i5(l))return Pre(n,o,r)?Bt(new ZI):zf(n);throw l}))}processSegmentAgainstRoute(e,t,n,o,r,s,a,l){return Ja(n)!==s&&(s===qi||!kx(o,r,n))?zf(o):n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,o,n,r,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,o,t,n,r,s,l):zf(o)}expandSegmentAgainstRouteUsingRedirect(e,t,n,o,r,s,a){let{matched:l,parameters:d,consumedSegments:c,positionalParamSegments:u,remainingSegments:h}=o5(t,o,r);if(!l)return zf(t);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Nre&&(this.allowRedirects=!1));let f=new Wf(r,d,Object.freeze(Le({},this.urlTree.queryParams)),this.urlTree.fragment,M4(o),Ja(o),o.component??o._loadedComponent??null,o,R4(o)),p=Sx(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let m=this.applyRedirects.applyRedirectCommands(c,o.redirectTo,u,f,e);return this.applyRedirects.lineralizeSegments(o,m).pipe(js(g=>this.processSegment(e,n,t,g.concat(h),s,!1,a)))}matchSegmentAgainstRoute(e,t,n,o,r,s){let a=Tre(t,n,o,e,this.urlSerializer);return n.path==="**"&&(t.children={}),a.pipe(yr(l=>l.matched?(e=n._injector??e,this.getChildConfig(e,n,o).pipe(yr(({routes:d})=>{let c=n._loadedInjector??e,{parameters:u,consumedSegments:h,remainingSegments:f}=l,p=new Wf(h,u,Object.freeze(Le({},this.urlTree.queryParams)),this.urlTree.fragment,M4(n),Ja(n),n.component??n._loadedComponent??null,n,R4(n)),m=Sx(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let{segmentGroup:g,slicedSegments:b}=k4(t,h,f,d);if(b.length===0&&g.hasChildren())return this.processChildren(c,d,g,p).pipe(Oi(E=>new Ks(p,E)));if(d.length===0&&b.length===0)return Bt(new Ks(p,[]));let x=Ja(n)===r;return this.processSegment(c,d,g,b,x?qi:r,!0,p).pipe(Oi(E=>new Ks(p,E instanceof Ks?[E]:[])))}))):zf(t)))}getChildConfig(e,t,n){return t.children?Bt({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Bt({routes:t._loadedRoutes,injector:t._loadedInjector}):Ere(e,t,n,this.urlSerializer).pipe(js(o=>o?this.configLoader.loadChildren(e,t).pipe(eo(r=>{t._loadedRoutes=r.routes,t._loadedInjector=r.injector})):Dre(t))):Bt({routes:[],injector:e})}};function Bre(i){i.sort((e,t)=>e.value.outlet===qi?-1:t.value.outlet===qi?1:e.value.outlet.localeCompare(t.value.outlet))}function Vre(i){let e=i.value.routeConfig;return e&&e.path===""}function r5(i){let e=[],t=new Set;for(let n of i){if(!Vre(n)){e.push(n);continue}let o=e.find(r=>n.value.routeConfig===r.value.routeConfig);o!==void 0?(o.children.push(...n.children),t.add(o)):e.push(n)}for(let n of t){let o=r5(n.children);e.push(new Ks(n.value,o))}return e.filter(n=>!t.has(n))}function M4(i){return i.data||{}}function R4(i){return i.resolve||{}}function Hre(i,e,t,n,o,r){return js(s=>Lre(i,e,t,n,s.extractedUrl,o,r).pipe(Oi(({state:a,tree:l})=>ci(Le({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function zre(i,e){return js(t=>{let{targetSnapshot:n,guards:{canActivateChecks:o}}=t;if(!o.length)return Bt(t);let r=new Set(o.map(l=>l.route)),s=new Set;for(let l of r)if(!s.has(l))for(let d of s5(l))s.add(d);let a=0;return Qo(s).pipe(mu(l=>r.has(l)?jre(l,n,i,e):(l.data=Sx(l,l.parent,i).resolve,Bt(void 0))),eo(()=>a++),Z1(1),js(l=>a===s.size?Bt(t):Vl))})}function s5(i){let e=i.children.map(t=>s5(t)).flat();return[i,...e]}function jre(i,e,t,n){let o=i.routeConfig,r=i._resolve;return o?.title!==void 0&&!Q4(o)&&(r[Z_]=o.title),$re(r,i,e,n).pipe(Oi(s=>(i._resolvedData=s,i.data=Sx(i,i.parent,t).resolve,null)))}function $re(i,e,t,n){let o=TI(i);if(o.length===0)return Bt({});let r={};return Qo(o).pipe(js(s=>Wre(i[s],e,t,n).pipe(gu(),eo(a=>{if(a instanceof q_)throw Ox(new Kf,a);r[s]=a}))),Z1(1),QV(r),jo(s=>i5(s)?Vl:Cs(s)))}function Wre(i,e,t,n){let o=J_(e)??n,r=Zf(i,o),s=r.resolve?r.resolve(e,t):aa(o,()=>r(e,t));return Du(s)}function II(i){return yr(e=>{let t=i(e);return t?Qo(t).pipe(Oi(()=>e)):Bt(e)})}var a5=(()=>{let e=class e{buildTitle(n){let o,r=n.root;for(;r!==void 0;)o=this.getResolvedTitleForRoute(r)??o,r=r.children.find(s=>s.outlet===qi);return o}getResolvedTitleForRoute(n){return n.data[Z_]}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=rt({token:e,factory:()=>Ge(Ure),providedIn:"root"});let i=e;return i})(),Ure=(()=>{let e=class e extends a5{constructor(n){super(),this.title=n}updateTitle(n){let o=this.buildTitle(n);o!==void 0&&this.title.setTitle(o)}};e.\u0275fac=function(o){return new(o||e)(ke(S4))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),i0=new ct("",{providedIn:"root",factory:()=>({})}),Gre=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=$e({type:e,selectors:[["ng-component"]],standalone:!0,features:[Wi],decls:1,vars:0,template:function(o,r){o&1&&je(0,"router-outlet")},dependencies:[tD],encapsulation:2});let i=e;return i})();function iD(i){let e=i.children&&i.children.map(iD),t=e?ci(Le({},i),{children:e}):Le({},i);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==qi&&(t.component=Gre),t}var Dx=new ct(""),nD=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ge(Xy)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Bt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let o=Du(n.loadComponent()).pipe(Oi(l5),eo(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Kd(()=>{this.componentLoaders.delete(n)})),r=new G1(o,()=>new Tt).pipe(U1());return this.componentLoaders.set(n,r),r}loadChildren(n,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return Bt({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);let s=Kre(o,this.compiler,n,this.onLoadEndListener).pipe(Kd(()=>{this.childrenLoaders.delete(o)})),a=new G1(s,()=>new Tt).pipe(U1());return this.childrenLoaders.set(o,a),a}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Kre(i,e,t,n){return Du(i.loadChildren()).pipe(Oi(l5),js(o=>o instanceof b3||Array.isArray(o)?Bt(o):Qo(e.compileModuleAsync(o))),Oi(o=>{n&&n(i);let r,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(r=o.create(t).injector,s=r.get(Dx,[],{optional:!0,self:!0}).flat()),{routes:s.map(iD),injector:r}}))}function qre(i){return i&&typeof i=="object"&&"default"in i}function l5(i){return qre(i)?i.default:i}var oD=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=rt({token:e,factory:()=>Ge(Yre),providedIn:"root"});let i=e;return i})(),Yre=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,o){return n}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),d5=new ct(""),c5=new ct("");function Xre(i,e,t){let n=i.get(c5),o=i.get(jt);return i.get(_t).runOutsideAngular(()=>{if(!o.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(d=>setTimeout(d));let r,s=new Promise(d=>{r=d}),a=o.startViewTransition(()=>(r(),Zre(i))),{onViewTransitionCreated:l}=n;return l&&aa(i,()=>l({transition:a,from:e,to:t})),s})}function Zre(i){return new Promise(e=>{Us({read:()=>setTimeout(e)},{injector:i})})}var Qre=new ct(""),rD=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Tt,this.transitionAbortSubject=new Tt,this.configLoader=Ge(nD),this.environmentInjector=Ge(qd),this.urlSerializer=Ge(Q_),this.rootContexts=Ge(e0),this.location=Ge(Zd),this.inputBindingEnabled=Ge(Ax,{optional:!0})!==null,this.titleStrategy=Ge(a5),this.options=Ge(i0,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Ge(oD),this.createViewTransition=Ge(d5,{optional:!0}),this.navigationErrorHandler=Ge(Qre,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Bt(void 0),this.rootComponentType=null;let n=r=>this.events.next(new NI(r)),o=r=>this.events.next(new BI(r));this.configLoader.onLoadEndListener=o,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let o=++this.navigationId;this.transitions?.next(ci(Le(Le({},this.transitions.value),n),{id:o}))}setupNavigations(n,o,r){return this.transitions=new xs({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:j_,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Bn(s=>s.id!==0),Oi(s=>ci(Le({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),yr(s=>{let a=!1,l=!1;return Bt(s).pipe(yr(d=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",qs.SupersededByNewNavigation),Vl;this.currentTransition=s,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,targetBrowserUrl:typeof d.extras.browserUrl=="string"?this.urlSerializer.parse(d.extras.browserUrl):d.extras.browserUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?ci(Le({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=d.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload"){let h="";return this.events.next(new Iu(d.id,this.urlSerializer.serialize(d.rawUrl),h,vx.IgnoredSameUrlNavigation)),d.resolve(!1),Vl}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Bt(d).pipe(yr(h=>{let f=this.transitions?.getValue();return this.events.next(new qf(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Vl:Promise.resolve(h)}),Hre(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),eo(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ci(Le({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new yx(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:h,extractedUrl:f,source:p,restoredState:m,extras:g}=d,b=new qf(h,this.urlSerializer.serialize(f),p,m);this.events.next(b);let x=X4(this.rootComponentType).snapshot;return this.currentTransition=s=ci(Le({},d),{targetSnapshot:x,urlAfterRedirects:f,extras:ci(Le({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,Bt(s)}else{let h="";return this.events.next(new Iu(d.id,this.urlSerializer.serialize(d.extractedUrl),h,vx.IgnoredByUrlHandlingStrategy)),d.resolve(!1),Vl}}),eo(d=>{let c=new RI(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(c)}),Oi(d=>(this.currentTransition=s=ci(Le({},d),{guards:sre(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),s)),_re(this.environmentInjector,d=>this.events.next(d)),eo(d=>{if(s.guardsResult=d.guardsResult,d.guardsResult&&typeof d.guardsResult!="boolean")throw Ox(this.urlSerializer,d.guardsResult);let c=new FI(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(c)}),Bn(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",qs.GuardRejected),!1)),II(d=>{if(d.guards.canActivateChecks.length)return Bt(d).pipe(eo(c=>{let u=new PI(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),yr(c=>{let u=!1;return Bt(c).pipe(zre(this.paramsInheritanceStrategy,this.environmentInjector),eo({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",qs.NoDataFromResolver)}}))}),eo(c=>{let u=new LI(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),II(d=>{let c=u=>{let h=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(u.routeConfig).pipe(eo(f=>{u.component=f}),Oi(()=>{})));for(let f of u.children)h.push(...c(f));return h};return kf(c(d.targetSnapshot.root)).pipe(Y1(null),Jo(1))}),II(()=>this.afterPreactivation()),yr(()=>{let{currentSnapshot:d,targetSnapshot:c}=s,u=this.createViewTransition?.(this.environmentInjector,d.root,c.root);return u?Qo(u).pipe(Oi(()=>s)):Bt(s)}),Oi(d=>{let c=tre(n.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=s=ci(Le({},d),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,s}),eo(()=>{this.events.next(new G_)}),rre(this.rootContexts,n.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),Jo(1),eo({next:d=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ca(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{a=!0}}),Xi(this.transitionAbortSubject.pipe(eo(d=>{throw d}))),Kd(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",qs.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),jo(d=>{if(l=!0,t5(d))this.events.next(new Qd(s.id,this.urlSerializer.serialize(s.extractedUrl),d.message,d.cancellationCode)),ore(d)?this.events.next(new Yf(d.url,d.navigationBehaviorOptions)):s.resolve(!1);else{let c=new U_(s.id,this.urlSerializer.serialize(s.extractedUrl),d,s.targetSnapshot??void 0);try{let u=aa(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof q_){let{message:h,cancellationCode:f}=Ox(this.urlSerializer,u);this.events.next(new Qd(s.id,this.urlSerializer.serialize(s.extractedUrl),h,f)),this.events.next(new Yf(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(c);let h=n.errorHandler(d);s.resolve(!!h)}}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return Vl}))}))}cancelNavigationTransition(n,o,r){let s=new Qd(n.id,this.urlSerializer.serialize(n.extractedUrl),o,r);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),o=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==o?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Jre(i){return i!==j_}var ese=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=rt({token:e,factory:()=>Ge(tse),providedIn:"root"});let i=e;return i})(),JI=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},tse=(()=>{let e=class e extends JI{};e.\u0275fac=(()=>{let n;return function(r){return(n||(n=Fn(e)))(r||e)}})(),e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),u5=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=rt({token:e,factory:()=>Ge(ise),providedIn:"root"});let i=e;return i})(),ise=(()=>{let e=class e extends u5{constructor(){super(...arguments),this.location=Ge(Zd),this.urlSerializer=Ge(Q_),this.options=Ge(i0,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Ge(oD),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Jd,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=X4(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(o=>{o.type==="popstate"&&n(o.url,o.state)})}handleRouterEvent(n,o){if(n instanceof qf)this.stateMemento=this.createStateMemento();else if(n instanceof Iu)this.rawUrlTree=o.initialUrl;else if(n instanceof yx){if(this.urlUpdateStrategy==="eager"&&!o.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(o.targetBrowserUrl??r,o)}}else n instanceof G_?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,this.urlUpdateStrategy==="deferred"&&!o.extras.skipLocationChange&&this.setBrowserUrl(o.targetBrowserUrl??this.rawUrlTree,o)):n instanceof Qd&&(n.code===qs.GuardRejected||n.code===qs.NoDataFromResolver)?this.restoreHistory(o):n instanceof U_?this.restoreHistory(o,!0):n instanceof ca&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,o){let r=n instanceof Jd?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(r)||o.extras.replaceUrl){let s=this.browserPageId,a=Le(Le({},o.extras.state),this.generateNgRouterState(o.id,s));this.location.replaceState(r,"",a)}else{let s=Le(Le({},o.extras.state),this.generateNgRouterState(o.id,this.browserPageId+1));this.location.go(r,"",s)}}restoreHistory(n,o=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,s=this.currentPageId-r;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(o&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,o){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:o}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(r){return(n||(n=Fn(e)))(r||e)}})(),e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),H_=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(H_||{});function h5(i,e){i.events.pipe(Bn(t=>t instanceof ca||t instanceof Qd||t instanceof U_||t instanceof Iu),Oi(t=>t instanceof ca||t instanceof Iu?H_.COMPLETE:(t instanceof Qd?t.code===qs.Redirect||t.code===qs.SupersededByNewNavigation:!1)?H_.REDIRECTING:H_.FAILED),Bn(t=>t!==H_.REDIRECTING),Jo(1)).subscribe(()=>{e()})}function nse(i){throw i}var ose={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rse={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Os=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=Ge(Uy),this.stateManager=Ge(u5),this.options=Ge(i0,{optional:!0})||{},this.pendingTasks=Ge(x_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Ge(rD),this.urlSerializer=Ge(Q_),this.location=Ge(Zd),this.urlHandlingStrategy=Ge(oD),this._events=new Tt,this.errorHandler=this.options.errorHandler||nse,this.navigated=!1,this.routeReuseStrategy=Ge(ese),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Ge(Dx,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Ge(Ax,{optional:!0}),this.eventsSubscription=new Xn,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(o=>{try{let r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(r!==null&&s!==null){if(this.stateManager.handleRouterEvent(o,s),o instanceof Qd&&o.code!==qs.Redirect&&o.code!==qs.SupersededByNewNavigation)this.navigated=!0;else if(o instanceof ca)this.navigated=!0;else if(o instanceof Yf){let a=o.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(o.url,r.currentRawUrl),d=Le({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Jre(r.source)},a);this.scheduleNavigation(l,j_,null,d,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}ase(o)&&this._events.next(o)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),j_,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",o)},0)})}navigateToSyncWithBrowser(n,o,r){let s={replaceUrl:!0},a=r?.navigationId?r:null;if(r){let d=Le({},r);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(s.state=d)}let l=this.parseUrl(n);this.scheduleNavigation(l,o,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(iD),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,o={}){let{relativeTo:r,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:d}=o,c=d?this.currentUrlTree.fragment:a,u=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":u=Le(Le({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}u!==null&&(u=this.removeEmptyProps(u));let h;try{let f=r?r.snapshot:this.routerState.snapshot.root;h=G4(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),h=this.currentUrlTree.root}return K4(h,n,u,c??null)}navigateByUrl(n,o={skipLocationChange:!1}){let r=pp(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,j_,null,o)}navigate(n,o={skipLocationChange:!1}){return sse(n),this.navigateByUrl(this.createUrlTree(n,o),o)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,o){let r;if(o===!0?r=Le({},ose):o===!1?r=Le({},rse):r=o,pp(n))return O4(this.currentUrlTree,n,r);let s=this.parseUrl(n);return O4(this.currentUrlTree,s,r)}removeEmptyProps(n){return Object.entries(n).reduce((o,[r,s])=>(s!=null&&(o[r]=s),o),{})}scheduleNavigation(n,o,r,s,a){if(this.disposed)return Promise.resolve(!1);let l,d,c;a?(l=a.resolve,d=a.reject,c=a.promise):c=new Promise((h,f)=>{l=h,d=f});let u=this.pendingTasks.add();return h5(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:d,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function sse(i){for(let e=0;e<i.length;e++)if(i[e]==null)throw new Rn(4008,!1)}function ase(i){return!(i instanceof G_)&&!(i instanceof Yf)}var Mx=(()=>{let e=class e{constructor(n,o,r,s,a,l){this.router=n,this.route=o,this.tabIndexAttribute=r,this.renderer=s,this.el=a,this.locationStrategy=l,this.href=null,this.onChanges=new Tt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let d=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=d==="a"||d==="area",this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof ca&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(pp(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,o,r,s,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(n!==0||o||r||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let d={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,d),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let o=this.href===null?null:f3(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",o)}applyAttributeValue(n,o){let r=this.renderer,s=this.el.nativeElement;o!==null?r.setAttribute(s,n,o):r.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:pp(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(o){return new(o||e)(oe(Os),oe(fp),qa("tabindex"),oe(Hl),oe(At),oe(O_))},e.\u0275dir=Pt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(o,r){o&1&&Et("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),o&2&&ki("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ui],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ui],replaceUrl:[2,"replaceUrl","replaceUrl",Ui],routerLink:"routerLink"},standalone:!0,features:[to,on]});let i=e;return i})();var Tx=class{};var lse=(()=>{let e=class e{constructor(n,o,r,s,a){this.router=n,this.injector=r,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Bn(n=>n instanceof ca),mu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,o){let r=[];for(let s of o){s.providers&&!s._injector&&(s._injector=nI(s.providers,n,`Route: ${s.path}`));let a=s._injector??n,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(l,s.children??s._loadedRoutes))}return Qo(r).pipe(K1())}preloadConfig(n,o){return this.preloadingStrategy.preload(o,()=>{let r;o.loadChildren&&o.canLoad===void 0?r=this.loader.loadChildren(n,o):r=Bt(null);let s=r.pipe(js(a=>a===null?Bt(void 0):(o._loadedRoutes=a.routes,o._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(o.loadComponent&&!o._loadedComponent){let a=this.loader.loadComponent(o);return Qo([s,a]).pipe(K1())}else return s})}};e.\u0275fac=function(o){return new(o||e)(ke(Os),ke(Xy),ke(qd),ke(Tx),ke(nD))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),p5=new ct(""),dse=(()=>{let e=class e{constructor(n,o,r,s,a={}){this.urlSerializer=n,this.transitions=o,this.viewportScroller=r,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof qf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ca?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Iu&&n.code===vx.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof xx&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new xx(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(o){bu()},e.\u0275prov=rt({token:e,factory:e.\u0275fac});let i=e;return i})();function cse(i){return i.routerState.root}function n0(i,e){return{\u0275kind:i,\u0275providers:e}}function use(){let i=Ge(En);return e=>{let t=i.get(Yd);if(e!==t.components[0])return;let n=i.get(Os),o=i.get(f5);i.get(sD)===1&&n.initialNavigation(),i.get(m5,null,J1.Optional)?.setUpPreloading(),i.get(p5,null,J1.Optional)?.init(),n.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var f5=new ct("",{factory:()=>new Tt}),sD=new ct("",{providedIn:"root",factory:()=>1});function hse(){return n0(2,[{provide:sD,useValue:0},{provide:rI,multi:!0,deps:[En],useFactory:e=>{let t=e.get(N3,Promise.resolve());return()=>t.then(()=>new Promise(n=>{let o=e.get(Os),r=e.get(f5);h5(o,()=>{n(!0)}),e.get(rD).afterPreactivation=()=>(n(!0),r.closed?Bt(void 0):r),o.initialNavigation()}))}}])}function pse(){return n0(3,[{provide:rI,multi:!0,useFactory:()=>{let e=Ge(Os);return()=>{e.setUpLocationChangeListener()}}},{provide:sD,useValue:2}])}var m5=new ct("");function fse(i){return n0(0,[{provide:m5,useExisting:lse},{provide:Tx,useExisting:i}])}function mse(){return n0(8,[A4,{provide:Ax,useExisting:A4}])}function gse(i){let e=[{provide:d5,useValue:Xre},{provide:c5,useValue:Le({skipNextTransition:!!i?.skipInitialTransition},i)}];return n0(9,e)}var F4=new ct("ROUTER_FORROOT_GUARD"),_se=[Zd,{provide:Q_,useClass:Kf},Os,e0,{provide:fp,useFactory:cse,deps:[Os]},nD,[]],aD=(()=>{let e=class e{constructor(n){}static forRoot(n,o){return{ngModule:e,providers:[_se,[],{provide:Dx,multi:!0,useValue:n},{provide:F4,useFactory:xse,deps:[[Os,new Rf,new v_]]},{provide:i0,useValue:o||{}},o?.useHash?vse():yse(),bse(),o?.preloadingStrategy?fse(o.preloadingStrategy).\u0275providers:[],o?.initialNavigation?Cse(o):[],o?.bindToComponentInputs?mse().\u0275providers:[],o?.enableViewTransitions?gse().\u0275providers:[],wse()]}}static forChild(n){return{ngModule:e,providers:[{provide:Dx,multi:!0,useValue:n}]}}};e.\u0275fac=function(o){return new(o||e)(ke(F4,8))},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({});let i=e;return i})();function bse(){return{provide:p5,useFactory:()=>{let i=Ge($3),e=Ge(_t),t=Ge(i0),n=Ge(rD),o=Ge(Q_);return t.scrollOffset&&i.setOffset(t.scrollOffset),new dse(o,n,i,e,t)}}}function vse(){return{provide:O_,useClass:V3}}function yse(){return{provide:O_,useClass:B3}}function xse(i){return"guarded"}function Cse(i){return[i.initialNavigation==="disabled"?pse().\u0275providers:[],i.initialNavigation==="enabledBlocking"?hse().\u0275providers:[]]}var P4=new ct("");function wse(){return[{provide:P4,useFactory:use},{provide:Yy,multi:!0,useExisting:P4}]}var w5=(()=>{let e=class e{constructor(n,o){this._renderer=n,this._elementRef=o,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(n,o){this._renderer.setProperty(this._elementRef.nativeElement,n,o)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};e.\u0275fac=function(o){return new(o||e)(oe(Hl),oe(At))},e.\u0275dir=Pt({type:e});let i=e;return i})(),Sse=(()=>{let e=class e extends w5{};e.\u0275fac=(()=>{let n;return function(r){return(n||(n=Fn(e)))(r||e)}})(),e.\u0275dir=Pt({type:e,features:[yt]});let i=e;return i})(),ua=new ct("");var Ese={provide:ua,useExisting:er(()=>ha),multi:!0};function Ose(){let i=ap()?ap().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var Ise=new ct(""),ha=(()=>{let e=class e extends w5{constructor(n,o,r){super(n,o),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Ose())}writeValue(n){let o=n??"";this.setProperty("value",o)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};e.\u0275fac=function(o){return new(o||e)(oe(Hl),oe(At),oe(Ise,8))},e.\u0275dir=Pt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(o,r){o&1&&Et("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[Wt([Ese]),yt]});let i=e;return i})();function Tu(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function S5(i){return i!=null&&typeof i.length=="number"}var Ul=new ct(""),d0=new ct(""),Dse=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ri=class{static min(e){return Tse(e)}static max(e){return Ase(e)}static required(e){return E5(e)}static requiredTrue(e){return kse(e)}static email(e){return Mse(e)}static minLength(e){return Rse(e)}static maxLength(e){return Fse(e)}static pattern(e){return Pse(e)}static nullValidator(e){return Px(e)}static compose(e){return k5(e)}static composeAsync(e){return M5(e)}};function Tse(i){return e=>{if(Tu(e.value)||Tu(i))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<i?{min:{min:i,actual:e.value}}:null}}function Ase(i){return e=>{if(Tu(e.value)||Tu(i))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>i?{max:{max:i,actual:e.value}}:null}}function E5(i){return Tu(i.value)?{required:!0}:null}function kse(i){return i.value===!0?null:{required:!0}}function Mse(i){return Tu(i.value)||Dse.test(i.value)?null:{email:!0}}function Rse(i){return e=>Tu(e.value)||!S5(e.value)?null:e.value.length<i?{minlength:{requiredLength:i,actualLength:e.value.length}}:null}function Fse(i){return e=>S5(e.value)&&e.value.length>i?{maxlength:{requiredLength:i,actualLength:e.value.length}}:null}function Pse(i){if(!i)return Px;let e,t;return typeof i=="string"?(t="",i.charAt(0)!=="^"&&(t+="^"),t+=i,i.charAt(i.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=i.toString(),e=i),n=>{if(Tu(n.value))return null;let o=n.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}function Px(i){return null}function O5(i){return i!=null}function I5(i){return qy(i)?Qo(i):i}function D5(i){let e={};return i.forEach(t=>{e=t!=null?Le(Le({},e),t):e}),Object.keys(e).length===0?null:e}function T5(i,e){return e.map(t=>t(i))}function Lse(i){return!i.validate}function A5(i){return i.map(e=>Lse(e)?e:t=>e.validate(t))}function k5(i){if(!i)return null;let e=i.filter(O5);return e.length==0?null:function(t){return D5(T5(t,e))}}function fD(i){return i!=null?k5(A5(i)):null}function M5(i){if(!i)return null;let e=i.filter(O5);return e.length==0?null:function(t){let n=T5(t,e).map(I5);return Fy(n).pipe(Oi(D5))}}function mD(i){return i!=null?M5(A5(i)):null}function g5(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function R5(i){return i._rawValidators}function F5(i){return i._rawAsyncValidators}function lD(i){return i?Array.isArray(i)?i:[i]:[]}function Lx(i,e){return Array.isArray(i)?i.includes(e):i===e}function _5(i,e){let t=lD(e);return lD(i).forEach(o=>{Lx(t,o)||t.push(o)}),t}function b5(i,e){return lD(e).filter(t=>!Lx(i,t))}var Nx=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=mD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Is=class extends Nx{get formDirective(){return null}get path(){return null}},Au=class extends Nx{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Bx=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Nse={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},LRe=ci(Le({},Nse),{"[class.ng-submitted]":"isSubmitted"}),Gl=(()=>{let e=class e extends Bx{constructor(n){super(n)}};e.\u0275fac=function(o){return new(o||e)(oe(Au,2))},e.\u0275dir=Pt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(o,r){o&2&&Mi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[yt]});let i=e;return i})(),Kl=(()=>{let e=class e extends Bx{constructor(n){super(n)}};e.\u0275fac=function(o){return new(o||e)(oe(Is,10))},e.\u0275dir=Pt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(o,r){o&2&&Mi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[yt]});let i=e;return i})();var o0="VALID",Fx="INVALID",Qf="PENDING",r0="DISABLED",ku=class{},Vx=class extends ku{constructor(e,t){super(),this.value=e,this.source=t}},a0=class extends ku{constructor(e,t){super(),this.pristine=e,this.source=t}},l0=class extends ku{constructor(e,t){super(),this.touched=e,this.source=t}},Jf=class extends ku{constructor(e,t){super(),this.status=e,this.source=t}},dD=class extends ku{constructor(e){super(),this.source=e}},cD=class extends ku{constructor(e){super(),this.source=e}};function gD(i){return(jx(i)?i.validators:i)||null}function Bse(i){return Array.isArray(i)?fD(i):i||null}function _D(i,e){return(jx(e)?e.asyncValidators:i)||null}function Vse(i){return Array.isArray(i)?mD(i):i||null}function jx(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function P5(i,e,t){let n=i.controls;if(!(e?Object.keys(n):n).length)throw new Rn(1e3,"");if(!n[t])throw new Rn(1001,"")}function L5(i,e,t){i._forEachChild((n,o)=>{if(t[o]===void 0)throw new Rn(1002,"")})}var tm=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Xd(()=>this.statusReactive()),this.statusReactive=vu(void 0),this._pristine=Xd(()=>this.pristineReactive()),this.pristineReactive=vu(!0),this._touched=Xd(()=>this.touchedReactive()),this.touchedReactive=vu(!1),this._events=new Tt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Qa(this.statusReactive)}set status(e){Qa(()=>this.statusReactive.set(e))}get valid(){return this.status===o0}get invalid(){return this.status===Fx}get pending(){return this.status==Qf}get disabled(){return this.status===r0}get enabled(){return this.status!==r0}get pristine(){return Qa(this.pristineReactive)}set pristine(e){Qa(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Qa(this.touchedReactive)}set touched(e){Qa(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(_5(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_5(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(b5(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(b5(e,this._rawAsyncValidators))}hasValidator(e){return Lx(this._rawValidators,e)}hasAsyncValidator(e){return Lx(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ci(Le({},e),{sourceControl:n})),t&&e.emitEvent!==!1&&this._events.next(new l0(!0,n))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=e.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:n})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n),t&&e.emitEvent!==!1&&this._events.next(new l0(!1,n))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ci(Le({},e),{sourceControl:n})),t&&e.emitEvent!==!1&&this._events.next(new a0(!1,n))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=e.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),t&&e.emitEvent!==!1&&this._events.next(new a0(!0,n))}markAsPending(e={}){this.status=Qf;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Jf(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ci(Le({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=r0,this.errors=null,this._forEachChild(o=>{o.disable(ci(Le({},e),{onlySelf:!0}))}),this._updateValue();let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Vx(this.value,n)),this._events.next(new Jf(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ci(Le({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=o0,this._forEachChild(n=>{n.enable(ci(Le({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ci(Le({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===o0||this.status===Qf)&&this._runAsyncValidator(n,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Vx(this.value,t)),this._events.next(new Jf(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ci(Le({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?r0:o0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Qf,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let n=I5(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((n,o)=>n&&n._find(o),this)}getError(e,t){let n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,n){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||n)&&this._events.next(new Jf(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,n)}_initObservables(){this.valueChanges=new St,this.statusChanges=new St}_calculateStatus(){return this._allControlsDisabled()?r0:this.errors?Fx:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qf)?Qf:this._anyControlsHaveStatus(Fx)?Fx:o0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let n=!this._anyControlsDirty(),o=this.pristine!==n;this.pristine=n,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),o&&this._events.next(new a0(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new l0(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){jx(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Bse(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Vse(this._rawAsyncValidators)}},im=class extends tm{constructor(e,t,n){super(gD(t),_D(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){L5(this,!0,e),Object.keys(e).forEach(n=>{P5(this,!0,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(n=>{let o=this.controls[n];o&&o.patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,o)=>{n.reset(e?e[o]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,n)=>n._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,n]of Object.entries(this.controls))if(this.contains(t)&&e(n))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,n,o)=>((n.enabled||this.disabled)&&(t[o]=n.value),t))}_reduceChildren(e,t){let n=e;return this._forEachChild((o,r)=>{n=t(n,o,r)}),n}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var uD=class extends im{};var bD=new ct("CallSetDisabledState",{providedIn:"root",factory:()=>vD}),vD="always";function yD(i,e){return[...e.path,i]}function hD(i,e,t=vD){xD(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),zse(i,e),$se(i,e),jse(i,e),Hse(i,e)}function v5(i,e,t=!0){let n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),zx(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Hx(i,e){i.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Hse(i,e){if(e.valueAccessor.setDisabledState){let t=n=>{e.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(t),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(t)})}}function xD(i,e){let t=R5(i);e.validator!==null?i.setValidators(g5(t,e.validator)):typeof t=="function"&&i.setValidators([t]);let n=F5(i);e.asyncValidator!==null?i.setAsyncValidators(g5(n,e.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let o=()=>i.updateValueAndValidity();Hx(e._rawValidators,o),Hx(e._rawAsyncValidators,o)}function zx(i,e){let t=!1;if(i!==null){if(e.validator!==null){let o=R5(i);if(Array.isArray(o)&&o.length>0){let r=o.filter(s=>s!==e.validator);r.length!==o.length&&(t=!0,i.setValidators(r))}}if(e.asyncValidator!==null){let o=F5(i);if(Array.isArray(o)&&o.length>0){let r=o.filter(s=>s!==e.asyncValidator);r.length!==o.length&&(t=!0,i.setAsyncValidators(r))}}}let n=()=>{};return Hx(e._rawValidators,n),Hx(e._rawAsyncValidators,n),t}function zse(i,e){e.valueAccessor.registerOnChange(t=>{i._pendingValue=t,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&N5(i,e)})}function jse(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&N5(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function N5(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function $se(i,e){let t=(n,o)=>{e.valueAccessor.writeValue(n),o&&e.viewToModelUpdate(n)};i.registerOnChange(t),e._registerOnDestroy(()=>{i._unregisterOnChange(t)})}function B5(i,e){i==null,xD(i,e)}function Wse(i,e){return zx(i,e)}function Use(i,e){if(!i.hasOwnProperty("model"))return!1;let t=i.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Gse(i){return Object.getPrototypeOf(i.constructor)===Sse}function V5(i,e){i._syncPendingControls(),e.forEach(t=>{let n=t.control;n.updateOn==="submit"&&n._pendingChange&&(t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Kse(i,e){if(!e)return null;Array.isArray(e);let t,n,o;return e.forEach(r=>{r.constructor===ha?t=r:Gse(r)?n=r:o=r}),o||n||t||null}function qse(i,e){let t=i.indexOf(e);t>-1&&i.splice(t,1)}var Yse={provide:Is,useExisting:er(()=>CD)},s0=Promise.resolve(),CD=(()=>{let e=class e extends Is{get submitted(){return Qa(this.submittedReactive)}constructor(n,o,r){super(),this.callSetDisabledState=r,this._submitted=Xd(()=>this.submittedReactive()),this.submittedReactive=vu(!1),this._directives=new Set,this.ngSubmit=new St,this.form=new im({},fD(n),mD(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){s0.then(()=>{let o=this._findContainer(n.path);n.control=o.registerControl(n.name,n.control),hD(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){s0.then(()=>{let o=this._findContainer(n.path);o&&o.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){s0.then(()=>{let o=this._findContainer(n.path),r=new im({});B5(r,n),o.registerControl(n.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){s0.then(()=>{let o=this._findContainer(n.path);o&&o.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,o){s0.then(()=>{this.form.get(n.path).setValue(o)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),V5(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}};e.\u0275fac=function(o){return new(o||e)(oe(Ul,10),oe(d0,10),oe(bD,8))},e.\u0275dir=Pt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(o,r){o&1&&Et("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Wt([Yse]),yt]});let i=e;return i})();function y5(i,e){let t=i.indexOf(e);t>-1&&i.splice(t,1)}function x5(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var em=class extends tm{constructor(e=null,t,n){super(gD(t),_D(n,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jx(t)&&(t.nonNullable||t.initialValueIsDefault)&&(x5(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){y5(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){y5(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){x5(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Xse=i=>i instanceof em,Zse=(()=>{let e=class e extends Is{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return yD(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}};e.\u0275fac=(()=>{let n;return function(r){return(n||(n=Fn(e)))(r||e)}})(),e.\u0275dir=Pt({type:e,features:[yt]});let i=e;return i})();var ql=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=Pt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let i=e;return i})();var H5=new ct("");var Qse={provide:Is,useExisting:er(()=>Ds)},Ds=(()=>{let e=class e extends Is{get submitted(){return Qa(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,o,r){super(),this.callSetDisabledState=r,this._submitted=Xd(()=>this._submittedReactive()),this._submittedReactive=vu(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new St,this._setValidators(n),this._setAsyncValidators(o)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(zx(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let o=this.form.get(n.path);return hD(o,n,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),o}getControl(n){return this.form.get(n.path)}removeControl(n){v5(n.control||null,n,!1),qse(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,o){this.form.get(n.path).setValue(o)}onSubmit(n){return this._submittedReactive.set(!0),V5(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new dD(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new cD(this.form))}_updateDomValue(){this.directives.forEach(n=>{let o=n.control,r=this.form.get(n.path);o!==r&&(v5(o||null,n),Xse(r)&&(hD(r,n,this.callSetDisabledState),n.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let o=this.form.get(n.path);B5(o,n),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let o=this.form.get(n.path);o&&Wse(o,n)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){xD(this.form,this),this._oldForm&&zx(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(o){return new(o||e)(oe(Ul,10),oe(d0,10),oe(bD,8))},e.\u0275dir=Pt({type:e,selectors:[["","formGroup",""]],hostBindings:function(o,r){o&1&&Et("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Wt([Qse]),yt,on]});let i=e;return i})(),Jse={provide:Is,useExisting:er(()=>Mu)},Mu=(()=>{let e=class e extends Zse{constructor(n,o,r){super(),this.name=null,this._parent=n,this._setValidators(o),this._setAsyncValidators(r)}_checkParentType(){j5(this._parent)}};e.\u0275fac=function(o){return new(o||e)(oe(Is,13),oe(Ul,10),oe(d0,10))},e.\u0275dir=Pt({type:e,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[Wt([Jse]),yt]});let i=e;return i})(),eae={provide:Is,useExisting:er(()=>z5)},z5=(()=>{let e=class e extends Is{constructor(n,o,r){super(),this.name=null,this._parent=n,this._setValidators(o),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return yD(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){j5(this._parent)}};e.\u0275fac=function(o){return new(o||e)(oe(Is,13),oe(Ul,10),oe(d0,10))},e.\u0275dir=Pt({type:e,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[Wt([eae]),yt]});let i=e;return i})();function j5(i){return!(i instanceof Mu)&&!(i instanceof Ds)&&!(i instanceof z5)}var tae={provide:Au,useExisting:er(()=>el)},el=(()=>{let e=class e extends Au{set isDisabled(n){}constructor(n,o,r,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new St,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(o),this._setAsyncValidators(r),this.valueAccessor=Kse(this,s)}ngOnChanges(n){this._added||this._setUpControl(),Use(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return yD(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(o){return new(o||e)(oe(Is,13),oe(Ul,10),oe(d0,10),oe(ua,10),oe(H5,8))},e.\u0275dir=Pt({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Wt([tae]),yt,on]});let i=e;return i})();var iae=(()=>{let e=class e{constructor(){this._validator=Px}ngOnChanges(n){if(this.inputName in n){let o=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):Px,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=Pt({type:e,features:[on]});let i=e;return i})();var nae={provide:Ul,useExisting:er(()=>ec),multi:!0};var ec=(()=>{let e=class e extends iae{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ui,this.createValidator=n=>E5}enabled(n){return n}};e.\u0275fac=(()=>{let n;return function(r){return(n||(n=Fn(e)))(r||e)}})(),e.\u0275dir=Pt({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(o,r){o&2&&ki("required",r._enabled?"":null)},inputs:{required:"required"},features:[Wt([nae]),yt]});let i=e;return i})();var oae=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({});let i=e;return i})(),pD=class extends tm{constructor(e,t,n){super(gD(t),_D(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){let n=this._adjustIndex(e);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){L5(this,!1,e),e.forEach((n,o)=>{P5(this,!1,o),this.at(o).setValue(n,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((n,o)=>{this.at(o)&&this.at(o).patchValue(n,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,o)=>{n.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,n)=>n._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function C5(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var Yl=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,o=null){let r=this._reduceControls(n),s={};return C5(o)?s=o:o!==null&&(s.validators=o.validator,s.asyncValidators=o.asyncValidator),new im(r,s)}record(n,o=null){let r=this._reduceControls(n);return new uD(r,o)}control(n,o,r){let s={};return this.useNonNullable?(C5(o)?s=o:(s.validators=o,s.asyncValidators=r),new em(n,ci(Le({},s),{nonNullable:!0}))):new em(n,o,r)}array(n,o,r){let s=n.map(a=>this._createControl(a));return new pD(s,o,r)}_reduceControls(n){let o={};return Object.keys(n).forEach(r=>{o[r]=this._createControl(n[r])}),o}_createControl(n){if(n instanceof em)return n;if(n instanceof tm)return n;if(Array.isArray(n)){let o=n[0],r=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(o,r,s)}else return this.control(n)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var $5=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:H5,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:bD,useValue:n.callSetDisabledState??vD}]}}};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({imports:[oae]});let i=e;return i})();var X8=is(om());var W5=[{group:"Metro",items:["Alsancak","Basmane","\u015Eirinyer","Evka 3","Evka 4","Kaya\u015Fehri","Bornova","Halkap\u0131nar","U\xE7ak","\xC7ankaya","Halkap\u0131nar","Hilal","G\xF6ztepe","\u0130zmirspor"]},{group:"\u0130zban",items:["Cumaovas\u0131","Menemen","Alsancak","Sasal\u0131","\u0130zmirspor","Hilal","G\xF6ztepe","Basmane","\xC7ankaya","U\xE7ak","Halkap\u0131nar","Evka 4","Evka 3","Bornova","Kaya\u015Fehri","\u015Eirinyer","Buca","\xC7a\u011Fda\u015F","\xDC\xE7yol"]}];var Z8=is(mp());function gp(i){return i!=null&&`${i}`!="false"}function rm(i,e=0){return rae(i)?Number(i):arguments.length===2?e:0}function rae(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function sm(i){return Array.isArray(i)?i:[i]}function Wo(i){return i==null?"":typeof i=="string"?i:`${i}px`}function pa(i){return i instanceof At?i.nativeElement:i}function U5(i,e=/\s+/){let t=[];if(i!=null){let n=Array.isArray(i)?i:`${i}`.split(e);for(let o of n){let r=`${o}`.trim();r&&t.push(r)}}return t}var ID;try{ID=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ID=!1}var rn=(()=>{let e=class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?D_(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||ID)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(o){return new(o||e)(ke(tr))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var am,G5=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function DD(){if(am)return am;if(typeof document!="object"||!document)return am=new Set(G5),am;let i=document.createElement("input");return am=new Set(G5.filter(e=>(i.setAttribute("type",e),i.type===e))),am}var c0;function sae(){if(c0==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>c0=!0}))}finally{c0=c0||!1}return c0}function fa(i){return sae()?i:!!i.capture}var tl=function(i){return i[i.NORMAL=0]="NORMAL",i[i.NEGATED=1]="NEGATED",i[i.INVERTED=2]="INVERTED",i}(tl||{}),$x,_p;function Wx(){if(_p==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return _p=!1,_p;if("scrollBehavior"in document.documentElement.style)_p=!0;else{let i=Element.prototype.scrollTo;i?_p=!/\{\s*\[native code\]\s*\}/.test(i.toString()):_p=!1}}return _p}function lm(){if(typeof document!="object"||!document)return tl.NORMAL;if($x==null){let i=document.createElement("div"),e=i.style;i.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let t=document.createElement("div"),n=t.style;n.width="2px",n.height="1px",i.appendChild(t),document.body.appendChild(i),$x=tl.NORMAL,i.scrollLeft===0&&(i.scrollLeft=1,$x=i.scrollLeft===0?tl.NEGATED:tl.INVERTED),i.remove()}return $x}var OD;function aae(){if(OD==null){let i=typeof document<"u"?document.head:null;OD=!!(i&&(i.createShadowRoot||i.attachShadow))}return OD}function K5(i){if(aae()){let e=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Ru(){let i=typeof document<"u"&&document?document.activeElement:null;for(;i&&i.shadowRoot;){let e=i.shadowRoot.activeElement;if(e===i)break;i=e}return i}function Ts(i){return i.composedPath?i.composedPath()[0]:i.target}function u0(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var lae=new ct("cdk-dir-doc",{providedIn:"root",factory:dae});function dae(){return Ge(jt)}var cae=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function uae(i){let e=i?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?cae.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Nr=(()=>{let e=class e{constructor(n){if(this.value="ltr",this.change=new St,n){let o=n.body?n.body.dir:null,r=n.documentElement?n.documentElement.dir:null;this.value=uae(o||r||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(o){return new(o||e)(ke(lae,8))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Fu=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({});let i=e;return i})();var hae=20,TD=(()=>{let e=class e{constructor(n,o,r){this._ngZone=n,this._platform=o,this._scrolled=new Tt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let o=this.scrollContainers.get(n);o&&(o.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=hae){return this._platform.isBrowser?new ns(o=>{this._globalSubscription||this._addGlobalListener();let r=n>0?this._scrolled.pipe(q1(n)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Bt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(n,o){let r=this.getAncestorScrollContainers(n);return this.scrolled(o).pipe(Bn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(n){let o=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,n)&&o.push(s)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,o){let r=pa(o),s=n.getElementRef().nativeElement;do if(r==s)return!0;while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let n=this._getWindow();return $n(n.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(o){return new(o||e)(ke(_t),ke(rn),ke(jt,8))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),q5=(()=>{let e=class e{constructor(n,o,r,s){this.elementRef=n,this.scrollDispatcher=o,this.ngZone=r,this.dir=s,this._destroyed=new Tt,this._elementScrolled=new ns(a=>this.ngZone.runOutsideAngular(()=>$n(this.elementRef.nativeElement,"scroll").pipe(Xi(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(n){let o=this.elementRef.nativeElement,r=this.dir&&this.dir.value=="rtl";n.left==null&&(n.left=r?n.end:n.start),n.right==null&&(n.right=r?n.start:n.end),n.bottom!=null&&(n.top=o.scrollHeight-o.clientHeight-n.bottom),r&&lm()!=tl.NORMAL?(n.left!=null&&(n.right=o.scrollWidth-o.clientWidth-n.left),lm()==tl.INVERTED?n.left=n.right:lm()==tl.NEGATED&&(n.left=n.right?-n.right:n.right)):n.right!=null&&(n.left=o.scrollWidth-o.clientWidth-n.right),this._applyScrollToOptions(n)}_applyScrollToOptions(n){let o=this.elementRef.nativeElement;Wx()?o.scrollTo(n):(n.top!=null&&(o.scrollTop=n.top),n.left!=null&&(o.scrollLeft=n.left))}measureScrollOffset(n){let o="left",r="right",s=this.elementRef.nativeElement;if(n=="top")return s.scrollTop;if(n=="bottom")return s.scrollHeight-s.clientHeight-s.scrollTop;let a=this.dir&&this.dir.value=="rtl";return n=="start"?n=a?r:o:n=="end"&&(n=a?o:r),a&&lm()==tl.INVERTED?n==o?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:a&&lm()==tl.NEGATED?n==o?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:n==o?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}};e.\u0275fac=function(o){return new(o||e)(oe(At),oe(TD),oe(_t),oe(Nr,8))},e.\u0275dir=Pt({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0});let i=e;return i})(),pae=20,p0=(()=>{let e=class e{constructor(n,o,r){this._platform=n,this._change=new Tt,this._changeListener=s=>{this._change.next(s)},this._document=r,o.runOutsideAngular(()=>{if(n.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:o,height:r}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+r,right:n.left+o,height:r,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,o=this._getWindow(),r=n.documentElement,s=r.getBoundingClientRect(),a=-s.top||n.body.scrollTop||o.scrollY||r.scrollTop||0,l=-s.left||n.body.scrollLeft||o.scrollX||r.scrollLeft||0;return{top:a,left:l}}change(n=pae){return n>0?this._change.pipe(q1(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(o){return new(o||e)(ke(rn),ke(_t),ke(jt,8))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Pu=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({});let i=e;return i})(),AD=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({imports:[Fu,Pu,Fu,Pu]});let i=e;return i})();var f0=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},ma=class extends f0{constructor(e,t,n,o,r){super(),this.component=e,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=o,this.projectableNodes=r}},nl=class extends f0{constructor(e,t,n,o){super(),this.templateRef=e,this.viewContainerRef=t,this.context=n,this.injector=o}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},MD=class extends f0{constructor(e){super(),this.element=e instanceof At?e.nativeElement:e}},Lu=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof ma)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof nl)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof MD)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Ux=class extends Lu{constructor(e,t,n,o,r){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=o,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=r}attachComponentPortal(e){let n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),o;return e.viewContainerRef?(o=e.viewContainerRef.createComponent(n,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>o.destroy())):(o=n.create(e.injector||this._defaultInjector||En.NULL),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=e,o}attachTemplatePortal(e){let t=e.viewContainerRef,n=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return n.rootNodes.forEach(o=>this.outletElement.appendChild(o)),n.detectChanges(),this.setDisposeFn(()=>{let o=t.indexOf(n);o!==-1&&t.remove(o)}),this._attachedPortal=e,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var ol=(()=>{let e=class e extends Lu{constructor(n,o,r){super(),this._componentFactoryResolver=n,this._viewContainerRef=o,this._isInitialized=!1,this.attached=new St,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(l,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=r}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);let o=n.viewContainerRef!=null?n.viewContainerRef:this._viewContainerRef,s=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),a=o.createComponent(s,o.length,n.injector||o.injector,n.projectableNodes||void 0);return o!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=n,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(n){n.setAttachedHost(this);let o=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=o,this.attached.emit(o),o}_getRootNode(){let n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}};e.\u0275fac=function(o){return new(o||e)(oe(Nf),oe(Xa),oe(jt))},e.\u0275dir=Pt({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[yt]});let i=e;return i})();var rl=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({});let i=e;return i})();function hr(i,...e){return e.length?e.some(t=>i[t]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}var Y5=Wx(),RD=class{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Wo(-this._previousScrollPosition.left),e.style.top=Wo(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,n=e.style,o=t.style,r=n.scrollBehavior||"",s=o.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Y5&&(n.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Y5&&(n.scrollBehavior=r,o.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.body,n=this._viewportRuler.getViewportSize();return t.scrollHeight>n.height||t.scrollWidth>n.width}};var FD=class{constructor(e,t,n,o){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=n,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Bn(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Gx=class{enable(){}disable(){}attach(){}};function PD(i,e){return e.some(t=>{let n=i.bottom<t.top,o=i.top>t.bottom,r=i.right<t.left,s=i.left>t.right;return n||o||r||s})}function X5(i,e){return e.some(t=>{let n=i.top<t.top,o=i.bottom>t.bottom,r=i.left<t.left,s=i.right>t.right;return n||o||r||s})}var LD=class{constructor(e,t,n,o){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this._config=o,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:o}=this._viewportRuler.getViewportSize();PD(t,[{width:n,height:o,bottom:o,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},fae=(()=>{let e=class e{constructor(n,o,r,s){this._scrollDispatcher=n,this._viewportRuler=o,this._ngZone=r,this.noop=()=>new Gx,this.close=a=>new FD(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new RD(this._viewportRuler,this._document),this.reposition=a=>new LD(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}};e.\u0275fac=function(o){return new(o||e)(ke(TD),ke(p0),ke(_t),ke(jt))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),sl=class{constructor(e){if(this.scrollStrategy=new Gx,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let t=Object.keys(e);for(let n of t)e[n]!==void 0&&(this[n]=e[n])}}};var ND=class{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var i6=(()=>{let e=class e{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){let o=this._attachedOverlays.indexOf(n);o>-1&&this._attachedOverlays.splice(o,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(o){return new(o||e)(ke(jt))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),mae=(()=>{let e=class e extends i6{constructor(n,o){super(n),this._ngZone=o,this._keydownListener=r=>{let s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){let l=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(r)):l.next(r);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(o){return new(o||e)(ke(jt),ke(_t,8))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),gae=(()=>{let e=class e extends i6{constructor(n,o,r){super(n),this._platform=o,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Ts(s)},this._clickListener=s=>{let a=Ts(s),l=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let d=this._attachedOverlays.slice();for(let c=d.length-1;c>-1;c--){let u=d[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(Z5(u.overlayElement,a)||Z5(u.overlayElement,l))break;let h=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(s)):h.next(s)}}}add(n){if(super.add(n),!this._isAttached){let o=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(o)):this._addEventListeners(o),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=o.style.cursor,o.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(o){return new(o||e)(ke(jt),ke(rn),ke(_t,8))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Z5(i,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,n=e;for(;n;){if(n===i)return!0;n=t&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var dm=(()=>{let e=class e{constructor(n,o){this._platform=o,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n="cdk-overlay-container";if(this._platform.isBrowser||u0()){let r=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}let o=this._document.createElement("div");o.classList.add(n),u0()?o.setAttribute("platform","test"):this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._containerElement=o}};e.\u0275fac=function(o){return new(o||e)(ke(jt),ke(rn))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),tc=class{constructor(e,t,n,o,r,s,a,l,d,c=!1,u){this._portalOutlet=e,this._host=t,this._pane=n,this._config=o,this._ngZone=r,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=d,this._animationsDisabled=c,this._injector=u,this._backdropElement=null,this._backdropClick=new Tt,this._attachments=new Tt,this._detachments=new Tt,this._locationChanges=Xn.EMPTY,this._backdropClickHandler=h=>this._backdropClick.next(h),this._backdropTransitionendHandler=h=>{this._disposeBackdrop(h.target)},this._keydownEvents=new Tt,this._outsidePointerEvents=new Tt,this._renders=new Tt,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy,this._afterRenderRef=Qa(()=>Ny(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),Us(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Le(Le({},this._config),e),this._updateElementSize()}setDirection(e){this._config=ci(Le({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Wo(this._config.width),e.height=Wo(this._config.height),e.minWidth=Wo(this._config.minWidth),e.minHeight=Wo(this._config.minHeight),e.maxWidth=Wo(this._config.maxWidth),e.maxHeight=Wo(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,n){let o=sm(t||[]).filter(r=>!!r);o.length&&(n?e.classList.add(...o):e.classList.remove(...o))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(Xi(os(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},Q5="cdk-overlay-connected-position-bounding-box",_ae=/([A-Za-z%]+)$/,m0=class{get positions(){return this._preferredPositions}constructor(e,t,n,o,r){this._viewportRuler=t,this._document=n,this._platform=o,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Tt,this._resizeSubscription=Xn.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(Q5),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,n=this._viewportRect,o=this._containerRect,r=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,o,a),d=this._getOverlayPoint(l,t,a),c=this._getOverlayFit(d,t,n,a);if(c.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(c,d,n)){r.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<c.visibleArea)&&(s={overlayFit:c,overlayPoint:d,originPoint:l,position:a,overlayRect:t})}if(r.length){let a=null,l=-1;for(let d of r){let c=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);c>l&&(l=c,a=d)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&bp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Q5),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,n){let o;if(n.originX=="center")o=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;o=n.originX=="start"?s:a}t.left<0&&(o-=t.left);let r;return n.originY=="center"?r=e.top+e.height/2:r=n.originY=="top"?e.top:e.bottom,t.top<0&&(r-=t.top),{x:o,y:r}}_getOverlayPoint(e,t,n){let o;n.overlayX=="center"?o=-t.width/2:n.overlayX==="start"?o=this._isRtl()?-t.width:0:o=this._isRtl()?0:-t.width;let r;return n.overlayY=="center"?r=-t.height/2:r=n.overlayY=="top"?0:-t.height,{x:e.x+o,y:e.y+r}}_getOverlayFit(e,t,n,o){let r=e6(t),{x:s,y:a}=e,l=this._getOffset(o,"x"),d=this._getOffset(o,"y");l&&(s+=l),d&&(a+=d);let c=0-s,u=s+r.width-n.width,h=0-a,f=a+r.height-n.height,p=this._subtractOverflows(r.width,c,u),m=this._subtractOverflows(r.height,h,f),g=p*m;return{visibleArea:g,isCompletelyWithinViewport:r.width*r.height===g,fitsInViewportVertically:m===r.height,fitsInViewportHorizontally:p==r.width}}_canFitWithFlexibleDimensions(e,t,n){if(this._hasFlexibleDimensions){let o=n.bottom-t.y,r=n.right-t.x,s=J5(this._overlayRef.getConfig().minHeight),a=J5(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||s!=null&&s<=o,d=e.fitsInViewportHorizontally||a!=null&&a<=r;return l&&d}return!1}_pushOverlayOnScreen(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let o=e6(t),r=this._viewportRect,s=Math.max(e.x+o.width-r.width,0),a=Math.max(e.y+o.height-r.height,0),l=Math.max(r.top-n.top-e.y,0),d=Math.max(r.left-n.left-e.x,0),c=0,u=0;return o.width<=r.width?c=d||-s:c=e.x<this._viewportMargin?r.left-n.left-e.x:0,o.height<=r.height?u=l||-a:u=e.y<this._viewportMargin?r.top-n.top-e.y:0,this._previousPushAmount={x:c,y:u},{x:e.x+c,y:e.y+u}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!bae(this._lastScrollVisibility,n)){let o=new ND(e,n);this._positionChanges.next(o)}this._lastScrollVisibility=n}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,o=e.overlayY;e.overlayX==="center"?n="center":this._isRtl()?n=e.overlayX==="start"?"right":"left":n=e.overlayX==="start"?"left":"right";for(let r=0;r<t.length;r++)t[r].style.transformOrigin=`${n} ${o}`}_calculateBoundingBoxRect(e,t){let n=this._viewportRect,o=this._isRtl(),r,s,a;if(t.overlayY==="top")s=e.y,r=n.height-s+this._viewportMargin;else if(t.overlayY==="bottom")a=n.height-e.y+this._viewportMargin*2,r=n.height-a+this._viewportMargin;else{let f=Math.min(n.bottom-e.y+n.top,e.y),p=this._lastBoundingBoxSize.height;r=f*2,s=e.y-f,r>p&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-p/2)}let l=t.overlayX==="start"&&!o||t.overlayX==="end"&&o,d=t.overlayX==="end"&&!o||t.overlayX==="start"&&o,c,u,h;if(d)h=n.width-e.x+this._viewportMargin*2,c=e.x-this._viewportMargin;else if(l)u=e.x,c=n.right-e.x;else{let f=Math.min(n.right-e.x+n.left,e.x),p=this._lastBoundingBoxSize.width;c=f*2,u=e.x-f,c>p&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.x-p/2)}return{top:s,left:u,bottom:a,right:h,width:c,height:r}}_setBoundingBoxStyles(e,t){let n=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{let r=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;o.height=Wo(n.height),o.top=Wo(n.top),o.bottom=Wo(n.bottom),o.width=Wo(n.width),o.left=Wo(n.left),o.right=Wo(n.right),t.overlayX==="center"?o.alignItems="center":o.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?o.justifyContent="center":o.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",r&&(o.maxHeight=Wo(r)),s&&(o.maxWidth=Wo(s))}this._lastBoundingBoxSize=n,bp(this._boundingBox.style,o)}_resetBoundingBoxStyles(){bp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){bp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let n={},o=this._hasExactPosition(),r=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(o){let c=this._viewportRuler.getViewportScrollPosition();bp(n,this._getExactOverlayY(t,e,c)),bp(n,this._getExactOverlayX(t,e,c))}else n.position="static";let a="",l=this._getOffset(t,"x"),d=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),d&&(a+=`translateY(${d}px)`),n.transform=a.trim(),s.maxHeight&&(o?n.maxHeight=Wo(s.maxHeight):r&&(n.maxHeight="")),s.maxWidth&&(o?n.maxWidth=Wo(s.maxWidth):r&&(n.maxWidth="")),bp(this._pane.style,n)}_getExactOverlayY(e,t,n){let o={top:"",bottom:""},r=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;o.bottom=`${s-(r.y+this._overlayRect.height)}px`}else o.top=Wo(r.y);return o}_getExactOverlayX(e,t,n){let o={left:"",right:""},r=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;o.right=`${a-(r.x+this._overlayRect.width)}px`}else o.left=Wo(r.x);return o}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:X5(e,n),isOriginOutsideView:PD(e,n),isOverlayClipped:X5(t,n),isOverlayOutsideView:PD(t,n)}}_subtractOverflows(e,...t){return t.reduce((n,o)=>n-Math.max(o,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&sm(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof At)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}};function bp(i,e){for(let t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function J5(i){if(typeof i!="number"&&i!=null){let[e,t]=i.split(_ae);return!t||t==="px"?parseFloat(e):null}return i||null}function e6(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}function bae(i,e){return i===e?!0:i.isOriginClipped===e.isOriginClipped&&i.isOriginOutsideView===e.isOriginOutsideView&&i.isOverlayClipped===e.isOverlayClipped&&i.isOverlayOutsideView===e.isOverlayOutsideView}var t6="cdk-global-overlay-wrapper",BD=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(t6),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:o,height:r,maxWidth:s,maxHeight:a}=n,l=(o==="100%"||o==="100vw")&&(!s||s==="100%"||s==="100vw"),d=(r==="100%"||r==="100vh")&&(!a||a==="100%"||a==="100vh"),c=this._xPosition,u=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",f="",p="",m="";l?m="flex-start":c==="center"?(m="center",h?p=u:f=u):h?c==="left"||c==="end"?(m="flex-end",f=u):(c==="right"||c==="start")&&(m="flex-start",p=u):c==="left"||c==="start"?(m="flex-start",f=u):(c==="right"||c==="end")&&(m="flex-end",p=u),e.position=this._cssPosition,e.marginLeft=l?"0":f,e.marginTop=d?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":p,t.justifyContent=m,t.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove(t6),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},vae=(()=>{let e=class e{constructor(n,o,r,s){this._viewportRuler=n,this._document=o,this._platform=r,this._overlayContainer=s}global(){return new BD}flexibleConnectedTo(n){return new m0(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(o){return new(o||e)(ke(p0),ke(jt),ke(rn),ke(dm))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),yae=0,io=(()=>{let e=class e{constructor(n,o,r,s,a,l,d,c,u,h,f,p){this.scrollStrategies=n,this._overlayContainer=o,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=l,this._ngZone=d,this._document=c,this._directionality=u,this._location=h,this._outsideClickDispatcher=f,this._animationsModuleType=p}create(n){let o=this._createHostElement(),r=this._createPaneElement(o),s=this._createPortalOutlet(r),a=new sl(n);return a.direction=a.direction||this._directionality.value,new tc(s,o,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(qd))}position(){return this._positionBuilder}_createPaneElement(n){let o=this._document.createElement("div");return o.id=`cdk-overlay-${yae++}`,o.classList.add("cdk-overlay-pane"),n.appendChild(o),o}_createHostElement(){let n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(Yd)),new Ux(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(o){return new(o||e)(ke(fae),ke(dm),ke(Nf),ke(vae),ke(mae),ke(En),ke(_t),ke(jt),ke(Nr),ke(Zd),ke(gae),ke($o,8))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var xae=new ct("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let i=Ge(io);return()=>i.scrollStrategies.reposition()}});function Cae(i){return()=>i.scrollStrategies.reposition()}var wae={provide:xae,deps:[io],useFactory:Cae},ga=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({providers:[io,wae],imports:[Fu,rl,AD,AD]});let i=e;return i})();var Sae=(()=>{let e=class e{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Kx=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({providers:[Sae]});let i=e;return i})();var n6=new Set,vp,Eae=(()=>{let e=class e{constructor(n,o){this._platform=n,this._nonce=o,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Iae}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&Oae(n,this._nonce),this._matchMedia(n)}};e.\u0275fac=function(o){return new(o||e)(ke(rn),ke(w_,8))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Oae(i,e){if(!n6.has(i))try{vp||(vp=document.createElement("style"),e&&vp.setAttribute("nonce",e),vp.setAttribute("type","text/css"),document.head.appendChild(vp)),vp.sheet&&(vp.sheet.insertRule(`@media ${i} {body{ }}`,0),n6.add(i))}catch(t){console.error(t)}}function Iae(i){return{matches:i==="all"||i==="",media:i,addListener:()=>{},removeListener:()=>{}}}var cm=(()=>{let e=class e{constructor(n,o){this._mediaMatcher=n,this._zone=o,this._queries=new Map,this._destroySubject=new Tt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return o6(sm(n)).some(r=>this._registerQuery(r).mql.matches)}observe(n){let r=o6(sm(n)).map(a=>this._registerQuery(a).observable),s=kf(r);return s=Ry(s.pipe(Jo(1)),s.pipe(Py(1),Mf(0))),s.pipe(Oi(a=>{let l={matches:!1,breakpoints:{}};return a.forEach(({matches:d,query:c})=>{l.matches=l.matches||d,l.breakpoints[c]=d}),l}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let o=this._mediaMatcher.matchMedia(n),s={observable:new ns(a=>{let l=d=>this._zone.run(()=>a.next(d));return o.addListener(l),()=>{o.removeListener(l)}}).pipe(Er(o),Oi(({matches:a})=>({query:n,matches:a})),Xi(this._destroySubject)),mql:o};return this._queries.set(n,s),s}};e.\u0275fac=function(o){return new(o||e)(ke(Eae),ke(_t))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function o6(i){return i.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var qx={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var l6=" ";function WD(i,e,t){let n=d6(i,e);t=t.trim(),!n.some(o=>o.trim()===t)&&(n.push(t),i.setAttribute(e,n.join(l6)))}function Qx(i,e,t){let n=d6(i,e);t=t.trim();let o=n.filter(r=>r!==t);o.length?i.setAttribute(e,o.join(l6)):i.removeAttribute(e)}function d6(i,e){return i.getAttribute(e)?.match(/\S+/g)??[]}var Bae=200,HD=class{constructor(e,t){this._letterKeyStream=new Tt,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new Tt,this.selectedItem=this._selectedItem;let n=typeof t?.debounceInterval=="number"?t.debounceInterval:Bae;t?.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),this.setItems(e),this._setupKeyHandler(n)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let t=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(eo(t=>this._pressedLetters.push(t)),Mf(e),Bn(()=>this._pressedLetters.length>0),Oi(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(t=>{for(let n=1;n<this._items.length+1;n++){let o=(this._selectedItemIndex+n)%this._items.length,r=this._items[o];if(!this._skipPredicateFn?.(r)&&r.getLabel?.().toLocaleUpperCase().trim().indexOf(t)===0){this._selectedItem.next(r);break}}this._pressedLetters=[]})}},zD=class{constructor(e,t){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._typeaheadSubscription=Xn.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=n=>n.disabled,this.tabOut=new Tt,this.change=new Tt,e instanceof eI?this._itemChangesSubscription=e.changes.subscribe(n=>this._itemsChanged(n.toArray())):iI(e)&&(this._effectRef=R3(()=>this._itemsChanged(e()),{injector:t}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let t=this._getItemsArray();return this._typeahead=new HD(t,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:n=>this._skipPredicateFn(n)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(n=>{this.setActiveItem(n)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){let t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){let t=e.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(r=>!e[r]||this._allowedModifierKeys.indexOf(r)>-1);switch(t){case 9:this.tabOut.next();return;case 40:if(this._vertical&&o){this.setNextItemActive();break}else return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&o){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&o){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&o){let r=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(r>0?r:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&o){let r=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(r<s?r:s-1,-1);break}else return;default:(o||hr(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let t=this._getItemsArray(),n=typeof e=="number"?e:t.indexOf(e),o=t[n];this._activeItem=o??null,this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let t=this._getItemsArray();for(let n=1;n<=t.length;n++){let o=(this._activeItemIndex+e*n+t.length)%t.length,r=t[o];if(!this._skipPredicateFn(r)){this.setActiveItem(o);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){let n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(e+=t,!n[e])return;this.setActiveItem(e)}}_getItemsArray(){return iI(this._items)?this._items():this._items instanceof eI?this._items.toArray():this._items}_itemsChanged(e){if(this._typeahead?.setItems(e),this._activeItem){let t=e.indexOf(this._activeItem);t>-1&&t!==this._activeItemIndex&&(this._activeItemIndex=t,this._typeahead?.setCurrentSelectedItemIndex(t))}}},Zx=class extends zD{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}};var v0=(()=>{let e=class e{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return Hae(n)&&getComputedStyle(n).visibility==="visible"}isTabbable(n){if(!this._platform.isBrowser)return!1;let o=Vae(qae(n));if(o&&(r6(o)===-1||!this.isVisible(o)))return!1;let r=n.nodeName.toLowerCase(),s=r6(n);return n.hasAttribute("contenteditable")?s!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!Gae(n)?!1:r==="audio"?n.hasAttribute("controls")?s!==-1:!1:r==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||n.hasAttribute("controls"):n.tabIndex>=0}isFocusable(n,o){return Kae(n)&&!this.isDisabled(n)&&(o?.ignoreVisibility||this.isVisible(n))}};e.\u0275fac=function(o){return new(o||e)(ke(rn))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Vae(i){try{return i.frameElement}catch{return null}}function Hae(i){return!!(i.offsetWidth||i.offsetHeight||typeof i.getClientRects=="function"&&i.getClientRects().length)}function zae(i){let e=i.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function jae(i){return Wae(i)&&i.type=="hidden"}function $ae(i){return Uae(i)&&i.hasAttribute("href")}function Wae(i){return i.nodeName.toLowerCase()=="input"}function Uae(i){return i.nodeName.toLowerCase()=="a"}function c6(i){if(!i.hasAttribute("tabindex")||i.tabIndex===void 0)return!1;let e=i.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function r6(i){if(!c6(i))return null;let e=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function Gae(i){let e=i.nodeName.toLowerCase(),t=e==="input"&&i.type;return t==="text"||t==="password"||e==="select"||e==="textarea"}function Kae(i){return jae(i)?!1:zae(i)||$ae(i)||i.hasAttribute("contenteditable")||c6(i)}function qae(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}var jD=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,n,o,r=!1,s){this._element=e,this._checker=t,this._ngZone=n,this._document=o,this._injector=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}destroy(){let e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){let n=this._getFirstTabbableElement(t);return n?.focus(e),!!n}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){let t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let n=0;n<t.length;n++){let o=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(o)return o}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let n=t.length-1;n>=0;n--){let o=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(o)return o}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?Us(e,{injector:this._injector}):setTimeout(e)}},y0=(()=>{let e=class e{constructor(n,o,r){this._checker=n,this._ngZone=o,this._injector=Ge(En),this._document=r}create(n,o=!1){return new jD(n,this._checker,this._ngZone,this._document,o,this._injector)}};e.\u0275fac=function(o){return new(o||e)(ke(v0),ke(_t),ke(jt))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),u6=(()=>{let e=class e{get enabled(){return this.focusTrap?.enabled||!1}set enabled(n){this.focusTrap&&(this.focusTrap.enabled=n)}constructor(n,o,r){this._elementRef=n,this._focusTrapFactory=o,this._previouslyFocusedElement=null,Ge(rn).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(n){let o=n.autoCapture;o&&!o.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Ru(),this.focusTrap?.focusInitialElementWhenReady()}};e.\u0275fac=function(o){return new(o||e)(oe(At),oe(y0),oe(jt))},e.\u0275dir=Pt({type:e,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",Ui],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",Ui]},exportAs:["cdkTrapFocus"],standalone:!0,features:[to,on]});let i=e;return i})();function UD(i){return i.buttons===0||i.detail===0}function GD(i){let e=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var Yae=new ct("cdk-input-modality-detector-options"),Xae={ignoreKeys:[18,17,224,91,16]},h6=650,um=fa({passive:!0,capture:!0}),Zae=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(n,o,r,s){this._platform=n,this._mostRecentTarget=null,this._modality=new xs(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(l=>l===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ts(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<h6||(this._modality.next(UD(a)?"keyboard":"mouse"),this._mostRecentTarget=Ts(a))},this._onTouchstart=a=>{if(GD(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ts(a)},this._options=Le(Le({},Xae),s),this.modalityDetected=this._modality.pipe(Py(1)),this.modalityChanged=this.modalityDetected.pipe(X1()),n.isBrowser&&o.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,um),r.addEventListener("mousedown",this._onMousedown,um),r.addEventListener("touchstart",this._onTouchstart,um)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,um),document.removeEventListener("mousedown",this._onMousedown,um),document.removeEventListener("touchstart",this._onTouchstart,um))}};e.\u0275fac=function(o){return new(o||e)(ke(rn),ke(_t),ke(jt),ke(Yae,8))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Qae=new ct("liveAnnouncerElement",{providedIn:"root",factory:Jae});function Jae(){return null}var ele=new ct("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),tle=0,p6=(()=>{let e=class e{constructor(n,o,r,s){this._ngZone=o,this._defaultOptions=s,this._document=r,this._liveElement=n||this._createLiveElement()}announce(n,...o){let r=this._defaultOptions,s,a;return o.length===1&&typeof o[0]=="number"?a=o[0]:[s,a]=o,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),a==null&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=n,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let n="cdk-live-announcer-element",o=this._document.getElementsByClassName(n),r=this._document.createElement("div");for(let s=0;s<o.length;s++)o[s].remove();return r.classList.add(n),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${tle++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(n){let o=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<o.length;r++){let s=o[r],a=s.getAttribute("aria-owns");a?a.indexOf(n)===-1&&s.setAttribute("aria-owns",a+" "+n):s.setAttribute("aria-owns",n)}}};e.\u0275fac=function(o){return new(o||e)(ke(Qae,8),ke(_t),ke(jt),ke(ele,8))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Xx=function(i){return i[i.IMMEDIATE=0]="IMMEDIATE",i[i.EVENTUAL=1]="EVENTUAL",i}(Xx||{}),ile=new ct("cdk-focus-monitor-default-options"),Yx=fa({passive:!0,capture:!0}),xp=(()=>{let e=class e{constructor(n,o,r,s,a){this._ngZone=n,this._platform=o,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Tt,this._rootNodeFocusAndBlurListener=l=>{let d=Ts(l);for(let c=d;c;c=c.parentElement)l.type==="focus"?this._onFocus(l,c):this._onBlur(l,c)},this._document=s,this._detectionMode=a?.detectionMode||Xx.IMMEDIATE}monitor(n,o=!1){let r=pa(n);if(!this._platform.isBrowser||r.nodeType!==1)return Bt();let s=K5(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return o&&(a.checkChildren=!0),a.subject;let l={checkChildren:o,subject:new Tt,rootNode:s};return this._elementInfo.set(r,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(n){let o=pa(n),r=this._elementInfo.get(o);r&&(r.subject.complete(),this._setClasses(o),this._elementInfo.delete(o),this._removeGlobalListeners(r))}focusVia(n,o,r){let s=pa(n),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([l,d])=>this._originChanged(l,o,d)):(this._setOrigin(o),typeof s.focus=="function"&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((n,o)=>this.stopMonitoring(o))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===Xx.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,o){n.classList.toggle("cdk-focused",!!o),n.classList.toggle("cdk-touch-focused",o==="touch"),n.classList.toggle("cdk-keyboard-focused",o==="keyboard"),n.classList.toggle("cdk-mouse-focused",o==="mouse"),n.classList.toggle("cdk-program-focused",o==="program")}_setOrigin(n,o=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&o,this._detectionMode===Xx.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?h6:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(n,o){let r=this._elementInfo.get(o),s=Ts(n);!r||!r.checkChildren&&o!==s||this._originChanged(o,this._getFocusOrigin(s),r)}_onBlur(n,o){let r=this._elementInfo.get(o);!r||r.checkChildren&&n.relatedTarget instanceof Node&&o.contains(n.relatedTarget)||(this._setClasses(o),this._emitOrigin(r,null))}_emitOrigin(n,o){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(o))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let o=n.rootNode,r=this._rootNodeFocusListenerCount.get(o)||0;r||this._ngZone.runOutsideAngular(()=>{o.addEventListener("focus",this._rootNodeFocusAndBlurListener,Yx),o.addEventListener("blur",this._rootNodeFocusAndBlurListener,Yx)}),this._rootNodeFocusListenerCount.set(o,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Xi(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(n){let o=n.rootNode;if(this._rootNodeFocusListenerCount.has(o)){let r=this._rootNodeFocusListenerCount.get(o);r>1?this._rootNodeFocusListenerCount.set(o,r-1):(o.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Yx),o.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Yx),this._rootNodeFocusListenerCount.delete(o))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,o,r){this._setClasses(n,o),this._emitOrigin(r,o),this._lastFocusOrigin=o}_getClosestElementsInfo(n){let o=[];return this._elementInfo.forEach((r,s)=>{(s===n||r.checkChildren&&s.contains(n))&&o.push([s,r])}),o}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:o,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!o||o===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let s=n.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(o))return!0}return!1}};e.\u0275fac=function(o){return new(o||e)(ke(_t),ke(rn),ke(Zae),ke(jt,8),ke(ile,8))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),f6=(()=>{let e=class e{constructor(n,o){this._elementRef=n,this._focusMonitor=o,this._focusOrigin=null,this.cdkFocusChange=new St}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let n=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(n,n.nodeType===1&&n.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(o=>{this._focusOrigin=o,this.cdkFocusChange.emit(o)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}};e.\u0275fac=function(o){return new(o||e)(oe(At),oe(xp))},e.\u0275dir=Pt({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0});let i=e;return i})(),yp=function(i){return i[i.NONE=0]="NONE",i[i.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",i[i.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",i}(yp||{}),s6="cdk-high-contrast-black-on-white",a6="cdk-high-contrast-white-on-black",VD="cdk-high-contrast-active",KD=(()=>{let e=class e{constructor(n,o){this._platform=n,this._document=o,this._breakpointSubscription=Ge(cm).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return yp.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let o=this._document.defaultView||window,r=o&&o.getComputedStyle?o.getComputedStyle(n):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(n.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return yp.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return yp.BLACK_ON_WHITE}return yp.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(VD,s6,a6),this._hasCheckedHighContrastMode=!0;let o=this.getHighContrastMode();o===yp.BLACK_ON_WHITE?n.add(VD,s6):o===yp.WHITE_ON_BLACK&&n.add(VD,a6)}}};e.\u0275fac=function(o){return new(o||e)(ke(rn),ke(jt))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Jx=(()=>{let e=class e{constructor(n){n._applyBodyHighContrastModeCssClasses()}};e.\u0275fac=function(o){return new(o||e)(ke(KD))},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({imports:[Kx]});let i=e;return i})();function nle(i,e){}var Cp=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var YD=(()=>{let e=class e extends Lu{constructor(n,o,r,s,a,l,d,c){super(),this._elementRef=n,this._focusTrapFactory=o,this._config=s,this._interactivityChecker=a,this._ngZone=l,this._overlayRef=d,this._focusMonitor=c,this._platform=Ge(rn),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=Ge(Vn),this._injector=Ge(En),this._isDestroyed=!1,this.attachDomPortal=u=>{this._portalOutlet.hasAttached();let h=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),h},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(n){this._ariaLabelledByQueue.push(n),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(n){let o=this._ariaLabelledByQueue.indexOf(n);o>-1&&(this._ariaLabelledByQueue.splice(o,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(n){this._portalOutlet.hasAttached();let o=this._portalOutlet.attachComponentPortal(n);return this._contentAttached(),o}attachTemplatePortal(n){this._portalOutlet.hasAttached();let o=this._portalOutlet.attachTemplatePortal(n);return this._contentAttached(),o}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(n,o){this._interactivityChecker.isFocusable(n)||(n.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{n.removeEventListener("blur",r),n.removeEventListener("mousedown",r),n.removeAttribute("tabindex")};n.addEventListener("blur",r),n.addEventListener("mousedown",r)})),n.focus(o)}_focusByCssSelector(n,o){let r=this._elementRef.nativeElement.querySelector(n);r&&this._forceFocus(r,o)}_trapFocus(){this._isDestroyed||Us(()=>{let n=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||n.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let n=this._config.restoreFocus,o=null;if(typeof n=="string"?o=this._document.querySelector(n):typeof n=="boolean"?o=n?this._elementFocusedBeforeDialogWasOpened:null:n&&(o=n),this._config.restoreFocus&&o&&typeof o.focus=="function"){let r=Ru(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(o,this._closeInteractionType),this._closeInteractionType=null):o.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let n=this._elementRef.nativeElement,o=Ru();return n===o||n.contains(o)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Ru()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};e.\u0275fac=function(o){return new(o||e)(oe(At),oe(y0),oe(jt,8),oe(Cp),oe(v0),oe(_t),oe(tc),oe(xp))},e.\u0275cmp=$e({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(o,r){if(o&1&&_n(ol,7),o&2){let s;Lt(s=Nt())&&(r._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(o,r){o&2&&ki("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[yt,Wi],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(o,r){o&1&&ii(0,nle,0,0,"ng-template",0)},dependencies:[ol],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let i=e;return i})(),x0=class{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Tt,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(n=>{n.keyCode===27&&!this.disableClose&&!hr(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{t.closeOnOverlayDetachments!==!1&&this.close()})}close(e,t){if(this.containerInstance){let n=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(e),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}},ole=new ct("DialogScrollStrategy",{providedIn:"root",factory:()=>{let i=Ge(io);return()=>i.scrollStrategies.block()}}),rle=new ct("DialogData"),sle=new ct("DefaultDialogConfig");var ale=0,XD=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(n,o,r,s,a,l){this._overlay=n,this._injector=o,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Tt,this._afterOpenedAtThisLevel=new Tt,this._ariaHiddenElements=new Map,this.afterAllClosed=Gd(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Er(void 0))),this._scrollStrategy=l}open(n,o){let r=this._defaultOptions||new Cp;o=Le(Le({},r),o),o.id=o.id||`cdk-dialog-${ale++}`,o.id&&this.getDialogById(o.id);let s=this._getOverlayConfig(o),a=this._overlay.create(s),l=new x0(a,o),d=this._attachContainer(a,l,o);return l.containerInstance=d,this._attachDialogContent(n,l,d,o),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){qD(this.openDialogs,n=>n.close())}getDialogById(n){return this.openDialogs.find(o=>o.id===n)}ngOnDestroy(){qD(this._openDialogsAtThisLevel,n=>{n.config.closeOnDestroy===!1&&this._removeOpenDialog(n,!1)}),qD(this._openDialogsAtThisLevel,n=>n.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(n){let o=new sl({positionStrategy:n.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,width:n.width,height:n.height,disposeOnNavigation:n.closeOnNavigation});return n.backdropClass&&(o.backdropClass=n.backdropClass),o}_attachContainer(n,o,r){let s=r.injector||r.viewContainerRef?.injector,a=[{provide:Cp,useValue:r},{provide:x0,useValue:o},{provide:tc,useValue:n}],l;r.container?typeof r.container=="function"?l=r.container:(l=r.container.type,a.push(...r.container.providers(r))):l=YD;let d=new ma(l,r.viewContainerRef,En.create({parent:s||this._injector,providers:a}),r.componentFactoryResolver);return n.attach(d).instance}_attachDialogContent(n,o,r,s){if(n instanceof Ya){let a=this._createInjector(s,o,r,void 0),l={$implicit:s.data,dialogRef:o};s.templateContext&&(l=Le(Le({},l),typeof s.templateContext=="function"?s.templateContext():s.templateContext)),r.attachTemplatePortal(new nl(n,null,l,a))}else{let a=this._createInjector(s,o,r,this._injector),l=r.attachComponentPortal(new ma(n,s.viewContainerRef,a,s.componentFactoryResolver));o.componentRef=l,o.componentInstance=l.instance}}_createInjector(n,o,r,s){let a=n.injector||n.viewContainerRef?.injector,l=[{provide:rle,useValue:n.data},{provide:x0,useValue:o}];return n.providers&&(typeof n.providers=="function"?l.push(...n.providers(o,n,r)):l.push(...n.providers)),n.direction&&(!a||!a.get(Nr,null,{optional:!0}))&&l.push({provide:Nr,useValue:{value:n.direction,change:Bt()}}),En.create({parent:a||s,providers:l})}_removeOpenDialog(n,o){let r=this.openDialogs.indexOf(n);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,a)=>{s?a.setAttribute("aria-hidden",s):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),o&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let n=this._overlayContainer.getContainerElement();if(n.parentElement){let o=n.parentElement.children;for(let r=o.length-1;r>-1;r--){let s=o[r];s!==n&&s.nodeName!=="SCRIPT"&&s.nodeName!=="STYLE"&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}};e.\u0275fac=function(o){return new(o||e)(ke(io),ke(En),ke(sle,8),ke(e,12),ke(dm),ke(ole))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function qD(i,e){let t=i.length;for(;t--;)e(i[t])}var m6=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({providers:[XD],imports:[ga,rl,Jx,rl]});let i=e;return i})();var lle=["*",[["mat-option"],["ng-container"]]],dle=["*","mat-option, ng-container"],cle=["text"],ule=[[["mat-icon"]],"*"],hle=["mat-icon","*"];function ple(i,e){if(i&1&&je(0,"mat-pseudo-checkbox",1),i&2){let t=xt();Ee("disabled",t.disabled)("state",t.selected?"checked":"unchecked")}}function fle(i,e){if(i&1&&je(0,"mat-pseudo-checkbox",3),i&2){let t=xt();Ee("disabled",t.disabled)}}function mle(i,e){if(i&1&&(se(0,"span",4),me(1),ne()),i&2){let t=xt();_e(),Ss("(",t.group.label,")")}}var gle=["mat-internal-form-field",""],_le=["*"];function ble(){return!0}var vle=new ct("mat-sanity-checks",{providedIn:"root",factory:ble}),sn=(()=>{let e=class e{constructor(n,o,r){this._sanityChecks=o,this._document=r,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return u0()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[n]}};e.\u0275fac=function(o){return new(o||e)(ke(KD),ke(vle,8),ke(jt))},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({imports:[Fu,Fu]});let i=e;return i})();var gm=class{constructor(e,t,n,o,r){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=n,this._parentForm=o,this._stateChanges=r,this.errorState=!1}updateErrorState(){let e=this.errorState,t=this._parentFormGroup||this._parentForm,n=this.matcher||this._defaultMatcher,o=this.ngControl?this.ngControl.control:null,r=n?.isErrorState(o,t)??!1;r!==e&&(this.errorState=r,this._stateChanges.next())}};var g6=new ct("MAT_DATE_LOCALE",{providedIn:"root",factory:yle});function yle(){return Ge(I3)}var Ir=class{constructor(){this._localeChanges=new Tt,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return e==null||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let n=this.isValid(e),o=this.isValid(t);return n&&o?!this.compareDate(e,t):n==o}return e==t}clampDate(e,t,n){return t&&this.compareDate(e,t)<0?t:n&&this.compareDate(e,n)>0?n:e}},Bu=new ct("mat-date-formats"),xle=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function ZD(i,e){let t=Array(i);for(let n=0;n<i;n++)t[n]=e(n);return t}var Cle=(()=>{let e=class e extends Ir{constructor(n){super(),this.useUtcForDisplay=!1,this._matDateLocale=Ge(g6,{optional:!0}),n!==void 0&&(this._matDateLocale=n),super.setLocale(this._matDateLocale)}getYear(n){return n.getFullYear()}getMonth(n){return n.getMonth()}getDate(n){return n.getDate()}getDayOfWeek(n){return n.getDay()}getMonthNames(n){let o=new Intl.DateTimeFormat(this.locale,{month:n,timeZone:"utc"});return ZD(12,r=>this._format(o,new Date(2017,r,1)))}getDateNames(){let n=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return ZD(31,o=>this._format(n,new Date(2017,0,o+1)))}getDayOfWeekNames(n){let o=new Intl.DateTimeFormat(this.locale,{weekday:n,timeZone:"utc"});return ZD(7,r=>this._format(o,new Date(2017,0,r+1)))}getYearName(n){let o=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(o,n)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(n){return this.getDate(this._createDateWithOverflow(this.getYear(n),this.getMonth(n)+1,0))}clone(n){return new Date(n.getTime())}createDate(n,o,r){let s=this._createDateWithOverflow(n,o,r);return s.getMonth()!=o,s}today(){return new Date}parse(n,o){return typeof n=="number"?new Date(n):n?new Date(Date.parse(n)):null}format(n,o){if(!this.isValid(n))throw Error("NativeDateAdapter: Cannot format invalid date.");let r=new Intl.DateTimeFormat(this.locale,ci(Le({},o),{timeZone:"utc"}));return this._format(r,n)}addCalendarYears(n,o){return this.addCalendarMonths(n,o*12)}addCalendarMonths(n,o){let r=this._createDateWithOverflow(this.getYear(n),this.getMonth(n)+o,this.getDate(n));return this.getMonth(r)!=((this.getMonth(n)+o)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(n,o){return this._createDateWithOverflow(this.getYear(n),this.getMonth(n),this.getDate(n)+o)}toIso8601(n){return[n.getUTCFullYear(),this._2digit(n.getUTCMonth()+1),this._2digit(n.getUTCDate())].join("-")}deserialize(n){if(typeof n=="string"){if(!n)return null;if(xle.test(n)){let o=new Date(n);if(this.isValid(o))return o}}return super.deserialize(n)}isDateInstance(n){return n instanceof Date}isValid(n){return!isNaN(n.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(n,o,r){let s=new Date;return s.setFullYear(n,o,r),s.setHours(0,0,0,0),s}_2digit(n){return("00"+n).slice(-2)}_format(n,o){let r=new Date;return r.setUTCFullYear(o.getFullYear(),o.getMonth(),o.getDate()),r.setUTCHours(o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()),n.format(r)}};e.\u0275fac=function(o){return new(o||e)(ke(g6,8))},e.\u0275prov=rt({token:e,factory:e.\u0275fac});let i=e;return i})(),wle={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};var E6=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({providers:[Sle()]});let i=e;return i})();function Sle(i=wle){return[{provide:Ir,useClass:Cle},{provide:Bu,useValue:i}]}var nT=(()=>{let e=class e{isErrorState(n,o){return!!(n&&n.invalid&&(n.touched||o&&o.submitted))}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var _a=function(i){return i[i.FADING_IN=0]="FADING_IN",i[i.VISIBLE=1]="VISIBLE",i[i.FADING_OUT=2]="FADING_OUT",i[i.HIDDEN=3]="HIDDEN",i}(_a||{}),eT=class{constructor(e,t,n,o=!1){this._renderer=e,this.element=t,this.config=n,this._animationForciblyDisabledThroughCss=o,this.state=_a.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},_6=fa({passive:!0,capture:!0}),tT=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let t=Ts(e);t&&this._events.get(e.type)?.forEach((n,o)=>{(o===t||o.contains(t))&&n.forEach(r=>r.handleEvent(e))})}}addHandler(e,t,n,o){let r=this._events.get(t);if(r){let s=r.get(n);s?s.add(o):r.set(n,new Set([o]))}else this._events.set(t,new Map([[n,new Set([o])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,_6)})}removeHandler(e,t,n){let o=this._events.get(e);if(!o)return;let r=o.get(t);r&&(r.delete(n),r.size===0&&o.delete(t),o.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,_6)))}},b6={enterDuration:225,exitDuration:150},Ele=800,v6=fa({passive:!0,capture:!0}),y6=["mousedown","touchstart"],x6=["mouseup","mouseleave","touchend","touchcancel"],C0=class C0{constructor(e,t,n,o){this._target=e,this._ngZone=t,this._platform=o,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=pa(n))}fadeInRipple(e,t,n={}){let o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Le(Le({},b6),n.animation);n.centered&&(e=o.left+o.width/2,t=o.top+o.height/2);let s=n.radius||Ole(e,t,o),a=e-o.left,l=t-o.top,d=r.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=`${a-s}px`,c.style.top=`${l-s}px`,c.style.height=`${s*2}px`,c.style.width=`${s*2}px`,n.color!=null&&(c.style.backgroundColor=n.color),c.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(c);let u=window.getComputedStyle(c),h=u.transitionProperty,f=u.transitionDuration,p=h==="none"||f==="0s"||f==="0s, 0s"||o.width===0&&o.height===0,m=new eT(this,c,n,p);c.style.transform="scale3d(1, 1, 1)",m.state=_a.FADING_IN,n.persistent||(this._mostRecentTransientRipple=m);let g=null;return!p&&(d||r.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let b=()=>{g&&(g.fallbackTimer=null),clearTimeout(E),this._finishRippleTransition(m)},x=()=>this._destroyRipple(m),E=setTimeout(x,d+100);c.addEventListener("transitionend",b),c.addEventListener("transitioncancel",x),g={onTransitionEnd:b,onTransitionCancel:x,fallbackTimer:E}}),this._activeRipples.set(m,g),(p||!d)&&this._finishRippleTransition(m),m}fadeOutRipple(e){if(e.state===_a.FADING_OUT||e.state===_a.HIDDEN)return;let t=e.element,n=Le(Le({},b6),e.config.animation);t.style.transitionDuration=`${n.exitDuration}ms`,t.style.opacity="0",e.state=_a.FADING_OUT,(e._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=pa(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,y6.forEach(n=>{C0._eventManager.addHandler(this._ngZone,n,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{x6.forEach(t=>{this._triggerElement.addEventListener(t,this,v6)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===_a.FADING_IN?this._startFadeOutTransition(e):e.state===_a.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:n}=e.config;e.state=_a.VISIBLE,!n&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=_a.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=UD(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Ele;!this._target.rippleDisabled&&!t&&!n&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!GD(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let n=0;n<t.length;n++)this.fadeInRipple(t[n].clientX,t[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===_a.VISIBLE||e.config.terminateOnPointerUp&&e.state===_a.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(y6.forEach(t=>C0._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(x6.forEach(t=>e.removeEventListener(t,this,v6)),this._pointerUpEventsRegistered=!1))}};C0._eventManager=new tT;var iT=C0;function Ole(i,e,t){let n=Math.max(Math.abs(i-t.left),Math.abs(i-t.right)),o=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(n*n+o*o)}var O6=new ct("mat-ripple-global-options"),S0=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,o,r,s,a){this._elementRef=n,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new iT(this,o,n,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Le(Le(Le({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,o=0,r){return typeof n=="number"?this._rippleRenderer.fadeInRipple(n,o,Le(Le({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Le(Le({},this.rippleConfig),n))}};e.\u0275fac=function(o){return new(o||e)(oe(At),oe(_t),oe(rn),oe(O6,8),oe($o,8))},e.\u0275dir=Pt({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(o,r){o&2&&Mi("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let i=e;return i})(),oT=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({imports:[sn,sn]});let i=e;return i})(),Ile=(()=>{let e=class e{constructor(n){this._animationMode=n,this.state="unchecked",this.disabled=!1,this.appearance="full"}};e.\u0275fac=function(o){return new(o||e)(oe($o,8))},e.\u0275cmp=$e({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(o,r){o&2&&Mi("mat-pseudo-checkbox-indeterminate",r.state==="indeterminate")("mat-pseudo-checkbox-checked",r.state==="checked")("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal",r.appearance==="minimal")("mat-pseudo-checkbox-full",r.appearance==="full")("_mat-animation-noopable",r._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[Wi],decls:0,vars:0,template:function(o,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-app-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-app-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0});let i=e;return i})(),Dle=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({imports:[sn]});let i=e;return i})(),E0=new ct("MAT_OPTION_PARENT_COMPONENT"),Tle=0,O0=new ct("MatOptgroup"),I6=(()=>{let e=class e{constructor(n){this.disabled=!1,this._labelId=`mat-optgroup-label-${Tle++}`,this._inert=n?.inertGroups??!1}};e.\u0275fac=function(o){return new(o||e)(oe(E0,8))},e.\u0275cmp=$e({type:e,selectors:[["mat-optgroup"]],hostAttrs:[1,"mat-mdc-optgroup"],hostVars:3,hostBindings:function(o,r){o&2&&ki("role",r._inert?null:"group")("aria-disabled",r._inert?null:r.disabled.toString())("aria-labelledby",r._inert?null:r._labelId)},inputs:{label:"label",disabled:[2,"disabled","disabled",Ui]},exportAs:["matOptgroup"],standalone:!0,features:[Wt([{provide:O0,useExisting:e}]),to,Wi],ngContentSelectors:dle,decls:5,vars:4,consts:[["role","presentation",1,"mat-mdc-optgroup-label",3,"id"],[1,"mdc-list-item__primary-text"]],template:function(o,r){o&1&&(Un(lle),se(0,"span",0)(1,"span",1),me(2),Hi(3),ne()(),Hi(4,1)),o&2&&(Mi("mdc-list-item--disabled",r.disabled),Ee("id",r._labelId),_e(2),Ss("",r.label," "))},styles:[".mat-mdc-optgroup{color:var(--mat-optgroup-label-text-color, var(--mat-app-on-surface-variant));font-family:var(--mat-optgroup-label-text-font, var(--mat-app-title-small-font));line-height:var(--mat-optgroup-label-text-line-height, var(--mat-app-title-small-line-height));font-size:var(--mat-optgroup-label-text-size, var(--mat-app-title-small-size));letter-spacing:var(--mat-optgroup-label-text-tracking, var(--mat-app-title-small-tracking));font-weight:var(--mat-optgroup-label-text-weight, var(--mat-app-title-small-weight))}.mat-mdc-optgroup-label{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;outline:none}.mat-mdc-optgroup-label.mdc-list-item--disabled{opacity:.38}.mat-mdc-optgroup-label .mdc-list-item__primary-text{font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;white-space:normal}"],encapsulation:2,changeDetection:0});let i=e;return i})(),Ale=0,w0=class{constructor(e,t=!1){this.source=e,this.isUserInput=t}},I0=(()=>{let e=class e{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(n){this._disabled=n}get disableRipple(){return!!(this._parent&&this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}constructor(n,o,r,s){this._element=n,this._changeDetectorRef=o,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${Ale++}`,this.onSelectionChange=new St,this._stateChanges=new Tt}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(n=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),n&&this._emitSelectionChangeEvent())}deselect(n=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),n&&this._emitSelectionChangeEvent())}focus(n,o){let r=this._getHostElement();typeof r.focus=="function"&&r.focus(o)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(n){(n.keyCode===13||n.keyCode===32)&&!hr(n)&&(this._selectViaInteraction(),n.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let n=this.viewValue;n!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=n)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(n=!1){this.onSelectionChange.emit(new w0(this,n))}};e.\u0275fac=function(o){return new(o||e)(oe(At),oe(Vn),oe(E0,8),oe(O0,8))},e.\u0275cmp=$e({type:e,selectors:[["mat-option"]],viewQuery:function(o,r){if(o&1&&_n(cle,7),o&2){let s;Lt(s=Nt())&&(r._text=s.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(o,r){o&1&&Et("click",function(){return r._selectViaInteraction()})("keydown",function(a){return r._handleKeydown(a)}),o&2&&(ws("id",r.id),ki("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),Mi("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",Ui]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[to,Wi],ngContentSelectors:hle,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(o,r){o&1&&(Un(ule),ii(0,ple,1,2,"mat-pseudo-checkbox",1),Hi(1),se(2,"span",2,0),Hi(4,1),ne(),ii(5,fle,1,1,"mat-pseudo-checkbox",3)(6,mle,2,1,"span",4),je(7,"div",5)),o&2&&(Wn(r.multiple?0:-1),_e(5),Wn(!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator?5:-1),_e(),Wn(r.group&&r.group._inert?6:-1),_e(),Ee("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[Ile,S0],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-app-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-app-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let i=e;return i})();function rT(i,e,t){if(t.length){let n=e.toArray(),o=t.toArray(),r=0;for(let s=0;s<i+1;s++)n[s].group&&n[s].group===o[r]&&r++;return r}return 0}function sT(i,e,t,n){return i<t?i:i+e>t+n?Math.max(0,i-n+e):t}var _m=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({imports:[oT,sn,Dle]});let i=e;return i})(),C6={capture:!0},w6=["focus","mousedown","mouseenter","touchstart"],QD="mat-ripple-loader-uninitialized",JD="mat-ripple-loader-class-name",S6="mat-ripple-loader-centered",tC="mat-ripple-loader-disabled",D6=(()=>{let e=class e{constructor(){this._document=Ge(jt,{optional:!0}),this._animationMode=Ge($o,{optional:!0}),this._globalRippleOptions=Ge(O6,{optional:!0}),this._platform=Ge(rn),this._ngZone=Ge(_t),this._hosts=new Map,this._onInteraction=n=>{let o=Ts(n);if(o instanceof HTMLElement){let r=o.closest(`[${QD}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}},this._ngZone.runOutsideAngular(()=>{for(let n of w6)this._document?.addEventListener(n,this._onInteraction,C6)})}ngOnDestroy(){let n=this._hosts.keys();for(let o of n)this.destroyRipple(o);for(let o of w6)this._document?.removeEventListener(o,this._onInteraction,C6)}configureRipple(n,o){n.setAttribute(QD,this._globalRippleOptions?.namespace??""),(o.className||!n.hasAttribute(JD))&&n.setAttribute(JD,o.className||""),o.centered&&n.setAttribute(S6,""),o.disabled&&n.setAttribute(tC,"")}getRipple(n){return this._hosts.get(n)||this._createRipple(n)}setDisabled(n,o){let r=this._hosts.get(n);if(r){r.disabled=o;return}o?n.setAttribute(tC,""):n.removeAttribute(tC)}_createRipple(n){if(!this._document)return;let o=this._hosts.get(n);if(o)return o;n.querySelector(".mat-ripple")?.remove();let r=this._document.createElement("span");r.classList.add("mat-ripple",n.getAttribute(JD)),n.append(r);let s=new S0(new At(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=n,s.centered=n.hasAttribute(S6),s.disabled=n.hasAttribute(tC),this.attachRipple(n,s),s}attachRipple(n,o){n.removeAttribute(QD),this._hosts.set(n,o)}destroyRipple(n){let o=this._hosts.get(n);o&&(o.ngOnDestroy(),this._hosts.delete(n))}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),T6=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=$e({type:e,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(o,r){o&2&&Mi("mdc-form-field--align-end",r.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[Wi],attrs:gle,ngContentSelectors:_le,decls:1,vars:0,template:function(o,r){o&1&&(Un(),Hi(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0});let i=e;return i})();function kle(i,e){}var D0=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},lT="mdc-dialog--open",A6="mdc-dialog--opening",k6="mdc-dialog--closing",Mle=150,Rle=75,Fle=(()=>{let e=class e extends YD{constructor(n,o,r,s,a,l,d,c,u){super(n,o,r,s,a,l,d,u),this._animationMode=c,this._animationStateChanged=new St,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?R6(this._config.enterAnimationDuration)??Mle:0,this._exitAnimationDuration=this._animationsEnabled?R6(this._config.exitAnimationDuration)??Rle:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(M6,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(A6,lT)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(lT),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(lT),this._animationsEnabled?(this._hostElement.style.setProperty(M6,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(k6)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(n){this._actionSectionCount+=n,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(A6,k6)}_waitForAnimationToComplete(n,o){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(o,n)}_requestAnimationFrame(n){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(n):n()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(n){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(n){let o=super.attachComponentPortal(n);return o.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),o}};e.\u0275fac=function(o){return new(o||e)(oe(At),oe(y0),oe(jt,8),oe(D0),oe(v0),oe(_t),oe(tc),oe($o,8),oe(xp))},e.\u0275cmp=$e({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(o,r){o&2&&(ws("id",r._config.id),ki("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Mi("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},standalone:!0,features:[yt,Wi],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(o,r){o&1&&(se(0,"div",0)(1,"div",1),ii(2,kle,0,0,"ng-template",2),ne()())},dependencies:[ol],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2});let i=e;return i})(),M6="--mat-dialog-transition-duration";function R6(i){return i==null?null:typeof i=="number"?i:i.endsWith("ms")?rm(i.substring(0,i.length-2)):i.endsWith("s")?rm(i.substring(0,i.length-1))*1e3:i==="0"?0:null}var iC=function(i){return i[i.OPEN=0]="OPEN",i[i.CLOSING=1]="CLOSING",i[i.CLOSED=2]="CLOSED",i}(iC||{}),wp=class{constructor(e,t,n){this._ref=e,this._containerInstance=n,this._afterOpened=new Tt,this._beforeClosed=new Tt,this._state=iC.OPEN,this.disableClose=t.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe(Bn(o=>o.state==="opened"),Jo(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(Bn(o=>o.state==="closed"),Jo(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),os(this.backdropClick(),this.keydownEvents().pipe(Bn(o=>o.keyCode===27&&!this.disableClose&&!hr(o)))).subscribe(o=>{this.disableClose||(o.preventDefault(),F6(this,o.type==="keydown"?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Bn(t=>t.state==="closing"),Jo(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=iC.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=iC.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function F6(i,e,t){return i._closeInteractionType=e,i.close(t)}var dT=new ct("MatMdcDialogData"),Ple=new ct("mat-mdc-dialog-default-options"),Lle=new ct("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let i=Ge(io);return()=>i.scrollStrategies.block()}});var Nle=0,al=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(n,o,r,s,a,l,d,c){this._overlay=n,this._defaultOptions=s,this._scrollStrategy=a,this._parentDialog=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Tt,this._afterOpenedAtThisLevel=new Tt,this.dialogConfigClass=D0,this.afterAllClosed=Gd(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Er(void 0))),this._dialog=o.get(XD),this._dialogRefConstructor=wp,this._dialogContainerType=Fle,this._dialogDataToken=dT}open(n,o){let r;o=Le(Le({},this._defaultOptions||new D0),o),o.id=o.id||`mat-mdc-dialog-${Nle++}`,o.scrollStrategy=o.scrollStrategy||this._scrollStrategy();let s=this._dialog.open(n,ci(Le({},o),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:o},{provide:Cp,useValue:o}]},templateContext:()=>({dialogRef:r}),providers:(a,l,d)=>(r=new this._dialogRefConstructor(a,o,d),r.updatePosition(o?.position),[{provide:this._dialogContainerType,useValue:d},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:r}])}));return r.componentRef=s.componentRef,r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(n){return this.openDialogs.find(o=>o.id===n)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(n){let o=n.length;for(;o--;)n[o].close()}};e.\u0275fac=function(o){return new(o||e)(ke(io),ke(En),ke(Zd,8),ke(Ple,8),ke(Lle),ke(e,12),ke(dm),ke($o,8))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Ble=0,P6=(()=>{let e=class e{constructor(n,o,r){this.dialogRef=n,this._elementRef=o,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=H6(this._elementRef,this._dialog.openDialogs))}ngOnChanges(n){let o=n._matDialogClose||n._matDialogCloseResult;o&&(this.dialogResult=o.currentValue)}_onButtonClick(n){F6(this.dialogRef,n.screenX===0&&n.screenY===0?"keyboard":"mouse",this.dialogResult)}};e.\u0275fac=function(o){return new(o||e)(oe(wp,8),oe(At),oe(al))},e.\u0275dir=Pt({type:e,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(o,r){o&1&&Et("click",function(a){return r._onButtonClick(a)}),o&2&&ki("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[on]});let i=e;return i})(),L6=(()=>{let e=class e{constructor(n,o,r){this._dialogRef=n,this._elementRef=o,this._dialog=r}ngOnInit(){this._dialogRef||(this._dialogRef=H6(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}};e.\u0275fac=function(o){return new(o||e)(oe(wp,8),oe(At),oe(al))},e.\u0275dir=Pt({type:e,standalone:!0});let i=e;return i})(),N6=(()=>{let e=class e extends L6{constructor(){super(...arguments),this.id=`mat-mdc-dialog-title-${Ble++}`}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}};e.\u0275fac=(()=>{let n;return function(r){return(n||(n=Fn(e)))(r||e)}})(),e.\u0275dir=Pt({type:e,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(o,r){o&2&&ws("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[yt]});let i=e;return i})(),B6=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=Pt({type:e,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[_3([q5])]});let i=e;return i})(),V6=(()=>{let e=class e extends L6{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}};e.\u0275fac=(()=>{let n;return function(r){return(n||(n=Fn(e)))(r||e)}})(),e.\u0275dir=Pt({type:e,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(o,r){o&2&&Mi("mat-mdc-dialog-actions-align-start",r.align==="start")("mat-mdc-dialog-actions-align-center",r.align==="center")("mat-mdc-dialog-actions-align-end",r.align==="end")},inputs:{align:"align"},standalone:!0,features:[yt]});let i=e;return i})();function H6(i,e){let t=i.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(n=>n.id===t.id):null}var z6=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({providers:[al],imports:[m6,ga,rl,sn,sn]});let i=e;return i})();var Vle=["mat-button",""],Hle=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],zle=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var jle=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var $le=["mat-icon-button",""],Wle=["*"];var Ule=new ct("MAT_BUTTON_CONFIG");var Gle=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],j6=(()=>{let e=class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(n){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,n)}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=n,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._updateRippleDisabled()}constructor(n,o,r,s){this._elementRef=n,this._platform=o,this._ngZone=r,this._animationMode=s,this._focusMonitor=Ge(xp),this._rippleLoader=Ge(D6),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let a=Ge(Ule,{optional:!0}),l=n.nativeElement,d=l.classList;this.disabledInteractive=a?.disabledInteractive??!1,this.color=a?.color??null,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(let{attribute:c,mdcClasses:u}of Gle)l.hasAttribute(c)&&d.add(...u)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",o){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,o):this._elementRef.nativeElement.focus(o)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};e.\u0275fac=function(o){bu()},e.\u0275dir=Pt({type:e,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Ui],disabled:[2,"disabled","disabled",Ui],ariaDisabled:[2,"aria-disabled","ariaDisabled",Ui],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Ui]},features:[to]});let i=e;return i})();var Dr=(()=>{let e=class e extends j6{constructor(n,o,r,s){super(n,o,r,s)}};e.\u0275fac=function(o){return new(o||e)(oe(At),oe(rn),oe(_t),oe($o,8))},e.\u0275cmp=$e({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(o,r){o&2&&(ki("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Gs(r.color?"mat-"+r.color:""),Mi("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[yt,Wi],attrs:Vle,ngContentSelectors:zle,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(o,r){o&1&&(Un(Hle),je(0,"span",0),Hi(1),se(2,"span",1),Hi(3,1),ne(),Hi(4,2),je(5,"span",2)(6,"span",3)),o&2&&Mi("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let i=e;return i})();var A0=(()=>{let e=class e extends j6{constructor(n,o,r,s){super(n,o,r,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}};e.\u0275fac=function(o){return new(o||e)(oe(At),oe(rn),oe(_t),oe($o,8))},e.\u0275cmp=$e({type:e,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(o,r){o&2&&(ki("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Gs(r.color?"mat-"+r.color:""),Mi("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[yt,Wi],attrs:$le,ngContentSelectors:Wle,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(o,r){o&1&&(Un(),je(0,"span",0),Hi(1),je(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color, var(--mat-app-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',jle],encapsulation:2,changeDetection:0});let i=e;return i})();var bm=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({imports:[sn,oT,sn]});let i=e;return i})();var wm={};ky(wm,{AbortException:()=>jde,AnnotationEditorLayer:()=>$de,AnnotationEditorParamsType:()=>Wde,AnnotationEditorType:()=>VA,AnnotationEditorUIManager:()=>Ude,AnnotationLayer:()=>Gde,AnnotationMode:()=>Kde,CMapCompressionType:()=>qde,ColorPicker:()=>Yde,DOMSVGFactory:()=>Xde,DrawLayer:()=>Zde,FeatureTest:()=>Qde,GlobalWorkerOptions:()=>HA,ImageKind:()=>Jde,InvalidPDFException:()=>ece,MissingPDFException:()=>tce,OPS:()=>ice,PDFDataRangeTransport:()=>nce,PDFDateString:()=>oce,PDFWorker:()=>rce,PasswordResponses:()=>sce,PermissionFlag:()=>ace,PixelsPerInch:()=>lce,RenderingCancelledException:()=>dce,TextLayer:()=>cce,UnexpectedResponseException:()=>uce,Util:()=>hce,VerbosityLevel:()=>zA,XfaLayer:()=>pce,build:()=>fce,createValidAbsoluteUrl:()=>mce,fetchData:()=>gce,getDocument:()=>jA,getFilenameFromUrl:()=>_ce,getPdfFilenameFromUrl:()=>bce,getXfaPageViewport:()=>vce,isDataScheme:()=>yce,isPdfFile:()=>xce,noContextMenu:()=>Cce,normalizeUnicode:()=>wce,setLayerDimensions:()=>Sce,shadow:()=>Ece,version:()=>Y0});var P0={};P0.d=(i,e)=>{for(var t in e)P0.o(e,t)&&!P0.o(i,t)&&Object.defineProperty(i,t,{enumerable:!0,get:e[t]})};P0.o=(i,e)=>Object.prototype.hasOwnProperty.call(i,e);var Bi=globalThis.pdfjsLib={};P0.d(Bi,{AbortException:()=>cc,AnnotationEditorLayer:()=>zde,AnnotationEditorParamsType:()=>Fi,AnnotationEditorType:()=>bn,AnnotationEditorUIManager:()=>z0,AnnotationLayer:()=>DA,AnnotationMode:()=>Hu,CMapCompressionType:()=>gT,ColorPicker:()=>jC,DOMSVGFactory:()=>B0,DrawLayer:()=>RA,FeatureTest:()=>Hr,GlobalWorkerOptions:()=>Ip,ImageKind:()=>dC,InvalidPDFException:()=>hC,MissingPDFException:()=>dc,OPS:()=>ll,PDFDataRangeTransport:()=>TC,PDFDateString:()=>yC,PDFWorker:()=>xm,PasswordResponses:()=>Zle,PermissionFlag:()=>Xle,PixelsPerInch:()=>zu,RenderingCancelledException:()=>H0,TextLayer:()=>W0,UnexpectedResponseException:()=>Cm,Util:()=>ni,VerbosityLevel:()=>WC,XfaLayer:()=>MC,build:()=>Vde,createValidAbsoluteUrl:()=>tde,fetchData:()=>qC,getDocument:()=>Pde,getFilenameFromUrl:()=>lde,getPdfFilenameFromUrl:()=>dde,getXfaPageViewport:()=>cde,isDataScheme:()=>YC,isPdfFile:()=>PA,noContextMenu:()=>Ms,normalizeUnicode:()=>sde,setLayerDimensions:()=>Ep,shadow:()=>yn,version:()=>Bde});var Vr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),oH=[1,0,0,1,0,0],mT=[.001,0,0,.001,0,0],Kle=1e7,lC=1.35,qle=.35,T2e=qle/lC,Xs={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Hu={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Yle="pdfjs_internal_editor_",bn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Fi={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},Xle={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Br={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},dC={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},pr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};var k0={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};var WC={ERRORS:0,WARNINGS:1,INFOS:5},gT={NONE:0,BINARY:1},ll={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},Zle={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},UC=WC.WARNINGS;function Qle(i){Number.isInteger(i)&&(UC=i)}function Jle(){return UC}function GC(i){UC>=WC.INFOS&&console.log(`Info: ${i}`)}function an(i){UC>=WC.WARNINGS&&console.log(`Warning: ${i}`)}function qn(i){throw new Error(i)}function fr(i,e){i||qn(e)}function ede(i){switch(i?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function tde(i,e=null,t=null){if(!i)return null;try{if(t&&typeof i=="string"&&(t.addDefaultProtocol&&i.startsWith("www.")&&i.match(/\./g)?.length>=2&&(i=`http://${i}`),t.tryConvertEncoding))try{i=rde(i)}catch{}let n=e?new URL(i,e):new URL(i);if(ede(n))return n}catch{}return null}function yn(i,e,t,n=!1){return Object.defineProperty(i,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}var ju=function(){function e(t,n){this.constructor===e&&qn("Cannot initialize BaseException."),this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}(),L0=class extends ju{constructor(e,t){super(e,"PasswordException"),this.code=t}},N0=class extends ju{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}},hC=class extends ju{constructor(e){super(e,"InvalidPDFException")}},dc=class extends ju{constructor(e){super(e,"MissingPDFException")}},Cm=class extends ju{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}},_T=class extends ju{constructor(e){super(e,"FormatError")}},cc=class extends ju{constructor(e){super(e,"AbortException")}};function rH(i){(typeof i!="object"||i?.length===void 0)&&qn("Invalid argument for bytesToString");let e=i.length,t=8192;if(e<t)return String.fromCharCode.apply(null,i);let n=[];for(let o=0;o<e;o+=t){let r=Math.min(o+t,e),s=i.subarray(o,r);n.push(String.fromCharCode.apply(null,s))}return n.join("")}function KC(i){typeof i!="string"&&qn("Invalid argument for stringToBytes");let e=i.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=i.charCodeAt(n)&255;return t}function ide(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function FA(i){let e=Object.create(null);for(let[t,n]of i)e[t]=n;return e}function nde(){let i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function ode(){try{return new Function(""),!0}catch{return!1}}var Hr=class{static get isLittleEndian(){return yn(this,"isLittleEndian",nde())}static get isEvalSupported(){return yn(this,"isEvalSupported",ode())}static get isOffscreenCanvasSupported(){return yn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof navigator?.platform=="string"?yn(this,"platform",{isMac:navigator.platform.includes("Mac")}):yn(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return yn(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}},cT=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0")),ni=class{static makeHexColor(e,t,n){return`#${cT[e]}${cT[t]}${cT[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){let n=e[0]*t[0]+e[1]*t[2]+t[4],o=e[0]*t[1]+e[1]*t[3]+t[5];return[n,o]}static applyInverseTransform(e,t){let n=t[0]*t[3]-t[1]*t[2],o=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,r=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n;return[o,r]}static getAxialAlignedBoundingBox(e,t){let n=this.applyTransform(e,t),o=this.applyTransform(e.slice(2,4),t),r=this.applyTransform([e[0],e[3]],t),s=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],o[0],r[0],s[0]),Math.min(n[1],o[1],r[1],s[1]),Math.max(n[0],o[0],r[0],s[0]),Math.max(n[1],o[1],r[1],s[1])]}static inverseTransform(e){let t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){let t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],o=e[0]*t[1]+e[1]*t[3],r=e[2]*t[0]+e[3]*t[2],s=e[2]*t[1]+e[3]*t[3],a=(n+s)/2,l=Math.sqrt((n+s)**2-4*(n*s-r*o))/2,d=a+l||1,c=a-l||1;return[Math.sqrt(d),Math.sqrt(c)]}static normalizeRect(e){let t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){let n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),o=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>o)return null;let r=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return r>s?null:[n,r,o,s]}static#e(e,t,n,o,r,s,a,l,d,c){if(d<=0||d>=1)return;let u=1-d,h=d*d,f=h*d,p=u*(u*(u*e+3*d*t)+3*h*n)+f*o,m=u*(u*(u*r+3*d*s)+3*h*a)+f*l;c[0]=Math.min(c[0],p),c[1]=Math.min(c[1],m),c[2]=Math.max(c[2],p),c[3]=Math.max(c[3],m)}static#t(e,t,n,o,r,s,a,l,d,c,u,h){if(Math.abs(d)<1e-12){Math.abs(c)>=1e-12&&this.#e(e,t,n,o,r,s,a,l,-u/c,h);return}let f=c**2-4*u*d;if(f<0)return;let p=Math.sqrt(f),m=2*d;this.#e(e,t,n,o,r,s,a,l,(-c+p)/m,h),this.#e(e,t,n,o,r,s,a,l,(-c-p)/m,h)}static bezierBoundingBox(e,t,n,o,r,s,a,l,d){return d?(d[0]=Math.min(d[0],e,a),d[1]=Math.min(d[1],t,l),d[2]=Math.max(d[2],e,a),d[3]=Math.max(d[3],t,l)):d=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],this.#t(e,n,r,a,t,o,s,l,3*(-e+3*(n-r)+a),6*(e-2*n+r),3*(n-e),d),this.#t(e,n,r,a,t,o,s,l,3*(-t+3*(o-s)+l),6*(t-2*o+s),3*(o-t),d),d}};function rde(i){return decodeURIComponent(escape(i))}var uT=null,$6=null;function sde(i){return uT||(uT=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,$6=new Map([["\uFB05","\u017Ft"]])),i.replaceAll(uT,(e,t,n)=>t?t.normalize("NFKC"):$6.get(n))}function ade(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();let i=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(i);else for(let e=0;e<32;e++)i[e]=Math.floor(Math.random()*255);return rH(i)}var sH="pdfjs_internal_id_",oc={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8},pC=class i{constructor(){this.constructor===i&&qn("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,o,r){return"none"}destroy(e=!1){}},fC=class i{#e=!1;constructor({enableHWA:e=!1}={}){this.constructor===i&&qn("Cannot initialize BaseCanvasFactory."),this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");let n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){qn("Abstract method `_createCanvas` called.")}},mC=class i{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===i&&qn("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}fetch(t){return ze(this,arguments,function*({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");let n=this.baseUrl+e+(this.isCompressed?".bcmap":""),o=this.isCompressed?gT.BINARY:gT.NONE;return this._fetchData(n,o).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})})}_fetchData(e,t){qn("Abstract method `_fetchData` called.")}},gC=class i{constructor({baseUrl:e=null}){this.constructor===i&&qn("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}fetch(t){return ze(this,arguments,function*({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");let n=`${this.baseUrl}${e}`;return this._fetchData(n).catch(o=>{throw new Error(`Unable to load font data at: ${n}`)})})}_fetchData(e){qn("Abstract method `_fetchData` called.")}},bT=class i{constructor(){this.constructor===i&&qn("Cannot initialize BaseSVGFactory.")}create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");let o=this._createSVG("svg:svg");return o.setAttribute("version","1.1"),n||(o.setAttribute("width",`${e}px`),o.setAttribute("height",`${t}px`)),o.setAttribute("preserveAspectRatio","none"),o.setAttribute("viewBox",`0 0 ${e} ${t}`),o}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){qn("Abstract method `_createSVG` called.")}},sc="http://www.w3.org/2000/svg",zu=class{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF},vT=class extends pC{#e;#t;#i;#o;#r;#n;#s=0;constructor({docId:e,ownerDocument:t=globalThis.document}={}){super(),this.#o=e,this.#r=t}get#l(){return this.#t||=new Map}get#h(){return this.#n||=new Map}get#d(){if(!this.#i){let e=this.#r.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;let n=this.#r.createElementNS(sc,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#i=this.#r.createElementNS(sc,"defs"),e.append(n),n.append(this.#i),this.#r.body.append(e)}return this.#i}#u(e){if(e.length===1){let l=e[0],d=new Array(256);for(let u=0;u<256;u++)d[u]=l[u]/255;let c=d.join(",");return[c,c,c]}let[t,n,o]=e,r=new Array(256),s=new Array(256),a=new Array(256);for(let l=0;l<256;l++)r[l]=t[l]/255,s[l]=n[l]/255,a[l]=o[l]/255;return[r.join(","),s.join(","),a.join(",")]}#c(e){if(this.#e===void 0){this.#e="";let t=this.#r.URL;t!==this.#r.baseURI&&(YC(t)?an('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=t.split("#",1)[0])}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#l.get(e);if(t)return t;let[n,o,r]=this.#u(e),s=e.length===1?n:`${n}${o}${r}`;if(t=this.#l.get(s),t)return this.#l.set(e,t),t;let a=`g_${this.#o}_transfer_map_${this.#s++}`,l=this.#c(a);this.#l.set(e,l),this.#l.set(s,l);let d=this.#m(a);return this.#g(n,o,r,d),l}addHCMFilter(e,t){let n=`${e}-${t}`,o="base",r=this.#h.get(o);if(r?.key===n||(r?(r.filter?.remove(),r.key=n,r.url="none",r.filter=null):(r={key:n,url:"none",filter:null},this.#h.set(o,r)),!e||!t))return r.url;let s=this.#b(e);e=ni.makeHexColor(...s);let a=this.#b(t);if(t=ni.makeHexColor(...a),this.#d.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return r.url;let l=new Array(256);for(let f=0;f<=255;f++){let p=f/255;l[f]=p<=.03928?p/12.92:((p+.055)/1.055)**2.4}let d=l.join(","),c=`g_${this.#o}_hcm_filter`,u=r.filter=this.#m(c);this.#g(d,d,d,u),this.#f(u);let h=(f,p)=>{let m=s[f]/255,g=a[f]/255,b=new Array(p+1);for(let x=0;x<=p;x++)b[x]=m+x/p*(g-m);return b.join(",")};return this.#g(h(0,5),h(1,5),h(2,5),u),r.url=this.#c(c),r.url}addAlphaFilter(e){let t=this.#l.get(e);if(t)return t;let[n]=this.#u([e]),o=`alpha_${n}`;if(t=this.#l.get(o),t)return this.#l.set(e,t),t;let r=`g_${this.#o}_alpha_map_${this.#s++}`,s=this.#c(r);this.#l.set(e,s),this.#l.set(o,s);let a=this.#m(r);return this.#_(n,a),s}addLuminosityFilter(e){let t=this.#l.get(e||"luminosity");if(t)return t;let n,o;if(e?([n]=this.#u([e]),o=`luminosity_${n}`):o="luminosity",t=this.#l.get(o),t)return this.#l.set(e,t),t;let r=`g_${this.#o}_luminosity_map_${this.#s++}`,s=this.#c(r);this.#l.set(e,s),this.#l.set(o,s);let a=this.#m(r);return this.#a(a),e&&this.#_(n,a),s}addHighlightHCMFilter(e,t,n,o,r){let s=`${t}-${n}-${o}-${r}`,a=this.#h.get(e);if(a?.key===s||(a?(a.filter?.remove(),a.key=s,a.url="none",a.filter=null):(a={key:s,url:"none",filter:null},this.#h.set(e,a)),!t||!n))return a.url;let[l,d]=[t,n].map(this.#b.bind(this)),c=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),u=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[h,f]=[o,r].map(this.#b.bind(this));u<c&&([c,u,h,f]=[u,c,f,h]),this.#d.style.color="";let p=(b,x,E)=>{let D=new Array(256),L=(u-c)/E,k=b/255,R=(x-b)/(255*E),N=0;for(let z=0;z<=E;z++){let V=Math.round(c+z*L),S=k+z*R;for(let T=N;T<=V;T++)D[T]=S;N=V+1}for(let z=N;z<256;z++)D[z]=D[N-1];return D.join(",")},m=`g_${this.#o}_hcm_${e}_filter`,g=a.filter=this.#m(m);return this.#f(g),this.#g(p(h[0],f[0],5),p(h[1],f[1],5),p(h[2],f[2],5),g),a.url=this.#c(m),a.url}destroy(e=!1){e&&this.#h.size!==0||(this.#i&&(this.#i.parentNode.parentNode.remove(),this.#i=null),this.#t&&(this.#t.clear(),this.#t=null),this.#s=0)}#a(e){let t=this.#r.createElementNS(sc,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#f(e){let t=this.#r.createElementNS(sc,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#m(e){let t=this.#r.createElementNS(sc,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#d.append(t),t}#p(e,t,n){let o=this.#r.createElementNS(sc,t);o.setAttribute("type","discrete"),o.setAttribute("tableValues",n),e.append(o)}#g(e,t,n,o){let r=this.#r.createElementNS(sc,"feComponentTransfer");o.append(r),this.#p(r,"feFuncR",e),this.#p(r,"feFuncG",t),this.#p(r,"feFuncB",n)}#_(e,t){let n=this.#r.createElementNS(sc,"feComponentTransfer");t.append(n),this.#p(n,"feFuncA",e)}#b(e){return this.#d.style.color=e,LA(getComputedStyle(this.#d).getPropertyValue("color"))}},yT=class extends fC{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){let n=this._document.createElement("canvas");return n.width=e,n.height=t,n}};function qC(i,e="text"){return ze(this,null,function*(){if(F0(i,document.baseURI)){let t=yield fetch(i);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{let o=new XMLHttpRequest;o.open("GET",i,!0),o.responseType=e,o.onreadystatechange=()=>{if(o.readyState===XMLHttpRequest.DONE){if(o.status===200||o.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(o.response);return}t(o.responseText);return}n(new Error(o.statusText))}},o.send(null)})})}var _C=class extends mC{_fetchData(e,t){return qC(e,this.isCompressed?"arraybuffer":"text").then(n=>({cMapData:n instanceof ArrayBuffer?new Uint8Array(n):KC(n),compressionType:t}))}},bC=class extends gC{_fetchData(e){return qC(e,"arraybuffer").then(t=>new Uint8Array(t))}},B0=class extends bT{_createSVG(e){return document.createElementNS(sc,e)}},V0=class i{constructor({viewBox:e,scale:t,rotation:n,offsetX:o=0,offsetY:r=0,dontFlip:s=!1}){this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=o,this.offsetY=r;let a=(e[2]+e[0])/2,l=(e[3]+e[1])/2,d,c,u,h;switch(n%=360,n<0&&(n+=360),n){case 180:d=-1,c=0,u=0,h=1;break;case 90:d=0,c=1,u=1,h=0;break;case 270:d=0,c=-1,u=-1,h=0;break;case 0:d=1,c=0,u=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(u=-u,h=-h);let f,p,m,g;d===0?(f=Math.abs(l-e[1])*t+o,p=Math.abs(a-e[0])*t+r,m=(e[3]-e[1])*t,g=(e[2]-e[0])*t):(f=Math.abs(a-e[0])*t+o,p=Math.abs(l-e[1])*t+r,m=(e[2]-e[0])*t,g=(e[3]-e[1])*t),this.transform=[d*t,c*t,u*t,h*t,f-d*t*a-u*t*l,p-c*t*a-h*t*l],this.width=m,this.height=g}get rawDims(){let{viewBox:e}=this;return yn(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:o=this.offsetY,dontFlip:r=!1}={}){return new i({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:o,dontFlip:r})}convertToViewportPoint(e,t){return ni.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){let t=ni.applyTransform([e[0],e[1]],this.transform),n=ni.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return ni.applyInverseTransform([e,t],this.transform)}},H0=class extends ju{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}};function YC(i){let e=i.length,t=0;for(;t<e&&i[t].trim()==="";)t++;return i.substring(t,t+5).toLowerCase()==="data:"}function PA(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function lde(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function dde(i,e="document.pdf"){if(typeof i!="string")return e;if(YC(i))return an('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;let t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,o=t.exec(i),r=n.exec(o[1])||n.exec(o[2])||n.exec(o[3]);if(r&&(r=r[0],r.includes("%")))try{r=n.exec(decodeURIComponent(r))[0]}catch{}return r||e}var vC=class{started=Object.create(null);times=[];time(e){e in this.started&&an(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||an(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){let e=[],t=0;for(let{name:n}of this.times)t=Math.max(n.length,t);for(let{name:n,start:o,end:r}of this.times)e.push(`${n.padEnd(t)} ${r-o}ms
`);return e.join("")}};function F0(i,e){try{let{protocol:t}=e?new URL(i,e):new URL(i);return t==="http:"||t==="https:"}catch{return!1}}function Ms(i){i.preventDefault()}var W6,yC=class{static toDateObject(e){if(!e||typeof e!="string")return null;W6||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");let t=W6.exec(e);if(!t)return null;let n=parseInt(t[1],10),o=parseInt(t[2],10);o=o>=1&&o<=12?o-1:0;let r=parseInt(t[3],10);r=r>=1&&r<=31?r:1;let s=parseInt(t[4],10);s=s>=0&&s<=23?s:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;let d=t[7]||"Z",c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let u=parseInt(t[9],10)||0;return u=u>=0&&u<=59?u:0,d==="-"?(s+=c,a+=u):d==="+"&&(s-=c,a-=u),new Date(Date.UTC(n,o,r,s,a,l))}};function cde(i,{scale:e=1,rotation:t=0}){let{width:n,height:o}=i.attributes.style,r=[0,0,parseInt(n),parseInt(o)];return new V0({viewBox:r,scale:e,rotation:t})}function LA(i){if(i.startsWith("#")){let e=parseInt(i.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(e=>parseInt(e)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(an(`Not a valid color format: "${i}"`),[0,0,0])}function ude(i){let e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(let t of i.keys()){e.style.color=t;let n=window.getComputedStyle(e).color;i.set(t,LA(n))}e.remove()}function So(i){let{a:e,b:t,c:n,d:o,e:r,f:s}=i.getTransform();return[e,t,n,o,r,s]}function rc(i){let{a:e,b:t,c:n,d:o,e:r,f:s}=i.getTransform().invertSelf();return[e,t,n,o,r,s]}function Ep(i,e,t=!1,n=!0){if(e instanceof V0){let{pageWidth:o,pageHeight:r}=e.rawDims,{style:s}=i,a=Hr.isCSSRoundSupported,l=`var(--scale-factor) * ${o}px`,d=`var(--scale-factor) * ${r}px`,c=a?`round(${l}, 1px)`:`calc(${l})`,u=a?`round(${d}, 1px)`:`calc(${d})`;!t||e.rotation%180===0?(s.width=c,s.height=u):(s.width=u,s.height=c)}n&&i.setAttribute("data-main-rotation",e.rotation)}var xT=class i{#e=null;#t=null;#i;#o=null;constructor(e){this.#i=e}render(){let e=this.#e=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");let t=this.#i._uiManager._signal;e.addEventListener("contextmenu",Ms,{signal:t}),e.addEventListener("pointerdown",i.#r,{signal:t});let n=this.#o=document.createElement("div");n.className="buttons",e.append(n);let o=this.#i.toolbarPosition;if(o){let{style:r}=e,s=this.#i._uiManager.direction==="ltr"?1-o[0]:o[0];r.insetInlineEnd=`${100*s}%`,r.top=`calc(${100*o[1]}% + var(--editor-toolbar-vert-offset))`}return this.#h(),e}static#r(e){e.stopPropagation()}#n(e){this.#i._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()}#s(e){this.#i._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()}#l(e){let t=this.#i._uiManager._signal;e.addEventListener("focusin",this.#n.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#s.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Ms,{signal:t})}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden")}#h(){let e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${this.#i.editorType}-button`),this.#l(e),e.addEventListener("click",t=>{this.#i._uiManager.delete()},{signal:this.#i._uiManager._signal}),this.#o.append(e)}get#d(){let e=document.createElement("div");return e.className="divider",e}addAltTextButton(e){this.#l(e),this.#o.prepend(e,this.#d)}addColorPicker(e){this.#t=e;let t=e.renderButton();this.#l(t),this.#o.prepend(t,this.#d)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}},CT=class{#e=null;#t=null;#i;constructor(e){this.#i=e}#o(){let e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Ms,{signal:this.#i._signal});let t=this.#e=document.createElement("div");return t.className="buttons",e.append(t),this.#n(),e}#r(e,t){let n=0,o=0;for(let r of e){let s=r.y+r.height;if(s<n)continue;let a=r.x+(t?r.width:0);if(s>n){o=a,n=s;continue}t?a>o&&(o=a):a<o&&(o=a)}return[t?1-o:o,n]}show(e,t,n){let[o,r]=this.#r(t,n),{style:s}=this.#t||=this.#o();e.append(this.#t),s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#n(){let e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");let t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");let n=this.#i._signal;e.addEventListener("contextmenu",Ms,{signal:n}),e.addEventListener("click",()=>{this.#i.highlightSelection("floating_button")},{signal:n}),this.#e.append(e)}};function xC(i,e,t){for(let n of t)e.addEventListener(n,i[n].bind(i))}function hde(i){return Math.round(Math.min(255,Math.max(1,255*i))).toString(16).padStart(2,"0")}var wT=class{#e=0;get id(){return`${Yle}${this.#e++}`}},ST=class i{#e=ade();#t=0;#i=null;static get _isSVGFittingCanvas(){let e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),o=new Image;o.src=e;let r=o.decode().then(()=>(n.drawImage(o,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return yn(this,"_isSVGFittingCanvas",r)}#o(e,t){return ze(this,null,function*(){this.#i||=new Map;let n=this.#i.get(e);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let o;if(typeof t=="string"?(n.url=t,o=yield qC(t,"blob")):o=n.file=t,o.type==="image/svg+xml"){let r=i._isSVGFittingCanvas,s=new FileReader,a=new Image,l=new Promise((d,c)=>{a.onload=()=>{n.bitmap=a,n.isSvg=!0,d()},s.onload=()=>ze(this,null,function*(){let u=n.svgUrl=s.result;a.src=(yield r)?`${u}#svgView(preserveAspectRatio(none))`:u}),a.onerror=s.onerror=c});s.readAsDataURL(o),yield l}else n.bitmap=yield createImageBitmap(o);n.refCounter=1}catch(o){console.error(o),n=null}return this.#i.set(e,n),n&&this.#i.set(n.id,n),n})}getFromFile(e){return ze(this,null,function*(){let{lastModified:t,name:n,size:o,type:r}=e;return this.#o(`${t}_${n}_${o}_${r}`,e)})}getFromUrl(e){return ze(this,null,function*(){return this.#o(e,e)})}getFromId(e){return ze(this,null,function*(){this.#i||=new Map;let t=this.#i.get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null})}getSvgUrl(e){let t=this.#i.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#i||=new Map;let t=this.#i.get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${this.#e}_`)}},ET=class{#e=[];#t=!1;#i;#o=-1;constructor(e=128){this.#i=e}add({cmd:e,undo:t,post:n,mustExec:o,type:r=NaN,overwriteIfSameType:s=!1,keepUndo:a=!1}){if(o&&e(),this.#t)return;let l={cmd:e,undo:t,post:n,type:r};if(this.#o===-1){this.#e.length>0&&(this.#e.length=0),this.#o=0,this.#e.push(l);return}if(s&&this.#e[this.#o].type===r){a&&(l.undo=this.#e[this.#o].undo),this.#e[this.#o]=l;return}let d=this.#o+1;d===this.#i?this.#e.splice(0,1):(this.#o=d,d<this.#e.length&&this.#e.splice(d)),this.#e.push(l)}undo(){if(this.#o===-1)return;this.#t=!0;let{undo:e,post:t}=this.#e[this.#o];e(),t?.(),this.#t=!1,this.#o-=1}redo(){if(this.#o<this.#e.length-1){this.#o+=1,this.#t=!0;let{cmd:e,post:t}=this.#e[this.#o];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#o!==-1}hasSomethingToRedo(){return this.#o<this.#e.length-1}destroy(){this.#e=null}},Op=class{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;let{isMac:t}=Hr.platform;for(let[n,o,r={}]of e)for(let s of n){let a=s.startsWith("mac+");t&&a?(this.callbacks.set(s.slice(4),{callback:o,options:r}),this.allKeys.add(s.split("+").at(-1))):!t&&!a&&(this.callbacks.set(s,{callback:o,options:r}),this.allKeys.add(s.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);let t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;let n=this.callbacks.get(this.#e(t));if(!n)return;let{callback:o,options:{bubbles:r=!1,args:s=[],checker:a=null}}=n;a&&!a(e,t)||(o.bind(e,...s,t)(),r||(t.stopPropagation(),t.preventDefault()))}},OT=class i{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){let e=new Map([["CanvasText",null],["Canvas",null]]);return ude(e),yn(this,"_colors",e)}convert(e){let t=LA(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(let[n,o]of this._colors)if(o.every((r,s)=>r===t[s]))return i._colorsMapping.get(n);return t}getHexCode(e){let t=this._colors.get(e);return t?ni.makeHexColor(...t):e}},z0=(()=>{class i{#e=new AbortController;#t=null;#i=new Map;#o=new Map;#r=null;#n=null;#s=null;#l=new ET;#h=0;#d=new Set;#u=null;#c=null;#a=new Set;#f=!1;#m=!1;#p=null;#g=null;#_=null;#b=!1;#y=null;#C=new wT;#w=!1;#S=!1;#O=null;#A=null;#E=null;#x=bn.NONE;#v=new Set;#T=null;#D=null;#M=null;#I=this.blur.bind(this);#R=this.focus.bind(this);#F=this.copy.bind(this);#L=this.cut.bind(this);#P=this.paste.bind(this);#B=this.keydown.bind(this);#j=this.keyup.bind(this);#N=this.onEditingAction.bind(this);#$=this.onPageChanging.bind(this);#V=this.onScaleChanging.bind(this);#Y=this.onRotationChanging.bind(this);#X={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#U=[0,0];#H=null;#W=null;#Z=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){let t=i.prototype,n=a=>a.#W.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),o=(a,{target:l})=>{if(l instanceof HTMLInputElement){let{type:d}=l;return d!=="text"&&d!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return yn(this,"_keyboardManager",new Op([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:o}],[["ctrl+z","mac+meta+z"],t.undo,{checker:o}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:o}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:o}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&a.#W.contains(l)&&!a.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&a.#W.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:n}]]))}constructor(t,n,o,r,s,a,l,d,c,u){this._signal=this.#e.signal,this.#W=t,this.#Z=n,this.#r=o,this._eventBus=r,this._eventBus._on("editingaction",this.#N),this._eventBus._on("pagechanging",this.#$),this._eventBus._on("scalechanging",this.#V),this._eventBus._on("rotationchanging",this.#Y),this.#se(),this.#ce(),this.#J(),this.#n=s.annotationStorage,this.#p=s.filterFactory,this.#D=a,this.#_=l||null,this.#f=d,this.#m=c,this.#E=u||null,this.viewParameters={realScale:zu.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#e?.abort(),this.#e=null,this._signal=null,this._eventBus._off("editingaction",this.#N),this._eventBus._off("pagechanging",this.#$),this._eventBus._off("scalechanging",this.#V),this._eventBus._off("rotationchanging",this.#Y);for(let t of this.#o.values())t.destroy();this.#o.clear(),this.#i.clear(),this.#a.clear(),this.#t=null,this.#v.clear(),this.#l.destroy(),this.#r?.destroy(),this.#y?.hide(),this.#y=null,this.#g&&(clearTimeout(this.#g),this.#g=null),this.#H&&(clearTimeout(this.#H),this.#H=null)}mlGuess(t){return ze(this,null,function*(){return this.#E?.guess(t)||null})}isMLEnabledFor(t){return ze(this,null,function*(){return!!(yield this.#E?.isEnabledFor(t))})}get useNewAltTextFlow(){return this.#m}get hcmFilter(){return yn(this,"hcmFilter",this.#D?this.#p.addHCMFilter(this.#D.foreground,this.#D.background):"none")}get direction(){return yn(this,"direction",getComputedStyle(this.#W).direction)}get highlightColors(){return yn(this,"highlightColors",this.#_?new Map(this.#_.split(",").map(t=>t.split("=").map(n=>n.trim()))):null)}get highlightColorNames(){return yn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){this.#A=t}editAltText(t){this.#r?.editAltText(this,t)}switchToMode(t,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,n){this._eventBus.dispatch("setpreference",{source:this,name:t,value:n})}onPageChanging({pageNumber:t}){this.#h=t-1}focusMainContainer(){this.#W.focus()}findParent(t,n){for(let o of this.#o.values()){let{x:r,y:s,width:a,height:l}=o.div.getBoundingClientRect();if(t>=r&&t<=r+a&&n>=s&&n<=s+l)return o}return null}disableUserSelect(t=!1){this.#Z.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#a.add(t)}removeShouldRescale(t){this.#a.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*zu.PDF_TO_CSS_UNITS;for(let n of this.#a)n.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#K({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#Q(t){let{currentLayer:n}=this;if(n.hasTextLayer(t))return n;for(let o of this.#o.values())if(o.hasTextLayer(t))return o;return null}highlightSelection(t=""){let n=document.getSelection();if(!n||n.isCollapsed)return;let{anchorNode:o,anchorOffset:r,focusNode:s,focusOffset:a}=n,l=n.toString(),c=this.#K(n).closest(".textLayer"),u=this.getSelectionBoxes(c);if(!u)return;n.empty();let h=this.#Q(c),f=this.#x===bn.NONE,p=()=>{h?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:u,anchorNode:o,anchorOffset:r,focusNode:s,focusOffset:a,text:l}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(bn.HIGHLIGHT,p);return}p()}#oe(){let t=document.getSelection();if(!t||t.isCollapsed)return;let o=this.#K(t).closest(".textLayer"),r=this.getSelectionBoxes(o);r&&(this.#y||=new CT(this),this.#y.show(o,r,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#n&&!this.#n.has(t.id)&&this.#n.setValue(t.id,t)}#re(){let t=document.getSelection();if(!t||t.isCollapsed){this.#T&&(this.#y?.hide(),this.#T=null,this.#k({hasSelectedText:!1}));return}let{anchorNode:n}=t;if(n===this.#T)return;let r=this.#K(t).closest(".textLayer");if(!r){this.#T&&(this.#y?.hide(),this.#T=null,this.#k({hasSelectedText:!1}));return}if(this.#y?.hide(),this.#T=n,this.#k({hasSelectedText:!0}),!(this.#x!==bn.HIGHLIGHT&&this.#x!==bn.NONE)&&(this.#x===bn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#b=this.isShiftKeyDown,!this.isShiftKeyDown)){let s=this.#x===bn.HIGHLIGHT?this.#Q(r):null;s?.toggleDrawing();let a=this._signal,l=d=>{d.type==="pointerup"&&d.button!==0||(s?.toggleDrawing(!0),window.removeEventListener("pointerup",l),window.removeEventListener("blur",l),d.type==="pointerup"&&this.#q("main_toolbar"))};window.addEventListener("pointerup",l,{signal:a}),window.addEventListener("blur",l,{signal:a})}}#q(t=""){this.#x===bn.HIGHLIGHT?this.highlightSelection(t):this.#f&&this.#oe()}#se(){document.addEventListener("selectionchange",this.#re.bind(this),{signal:this._signal})}#ae(){let t=this._signal;window.addEventListener("focus",this.#R,{signal:t}),window.addEventListener("blur",this.#I,{signal:t})}#le(){window.removeEventListener("focus",this.#R),window.removeEventListener("blur",this.#I)}blur(){if(this.isShiftKeyDown=!1,this.#b&&(this.#b=!1,this.#q("main_toolbar")),!this.hasSelection)return;let{activeElement:t}=document;for(let n of this.#v)if(n.div.contains(t)){this.#O=[n,t],n._focusEventsAllowed=!1;break}}focus(){if(!this.#O)return;let[t,n]=this.#O;this.#O=null,n.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}#J(){let t=this._signal;window.addEventListener("keydown",this.#B,{signal:t}),window.addEventListener("keyup",this.#j,{signal:t})}#de(){window.removeEventListener("keydown",this.#B),window.removeEventListener("keyup",this.#j)}#ee(){let t=this._signal;document.addEventListener("copy",this.#F,{signal:t}),document.addEventListener("cut",this.#L,{signal:t}),document.addEventListener("paste",this.#P,{signal:t})}#te(){document.removeEventListener("copy",this.#F),document.removeEventListener("cut",this.#L),document.removeEventListener("paste",this.#P)}#ce(){let t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#J(),this.#ee()}removeEditListeners(){this.#de(),this.#te()}dragOver(t){for(let{type:n}of t.dataTransfer.items)for(let o of this.#c)if(o.isHandlingMimeForPasting(n)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(let n of t.dataTransfer.items)for(let o of this.#c)if(o.isHandlingMimeForPasting(n.type)){o.paste(n,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;let n=[];for(let o of this.#v){let r=o.serialize(!0);r&&n.push(r)}n.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(t){this.copy(t),this.delete()}paste(t){t.preventDefault();let{clipboardData:n}=t;for(let s of n.items)for(let a of this.#c)if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let o=n.getData("application/pdfjs");if(!o)return;try{o=JSON.parse(o)}catch(s){an(`paste: "${s.message}".`);return}if(!Array.isArray(o))return;this.unselectAll();let r=this.currentLayer;try{let s=[];for(let d of o){let c=r.deserialize(d);if(!c)return;s.push(c)}let a=()=>{for(let d of s)this.#ie(d);this.#ne(s)},l=()=>{for(let d of s)d.remove()};this.addCommands({cmd:a,undo:l,mustExec:!0})}catch(s){an(`paste: "${s.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#x!==bn.NONE&&!this.isEditorHandlingKeyboard&&i._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#b&&(this.#b=!1,this.#q("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#k(t){Object.entries(t).some(([o,r])=>this.#X[o]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#X,t)}),this.#x===bn.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#z([[Fi.HIGHLIGHT_FREE,!0]]))}#z(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#ae(),this.#ee(),this.#k({isEditing:this.#x!==bn.NONE,isEmpty:this.#G(),hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:this.#l.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#le(),this.#te(),this.#k({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#c){this.#c=t;for(let n of this.#c)this.#z(n.defaultPropertiesToUpdate)}}getId(){return this.#C.id}get currentLayer(){return this.#o.get(this.#h)}getLayer(t){return this.#o.get(t)}get currentPageIndex(){return this.#h}addLayer(t){this.#o.set(t.pageIndex,t),this.#w?t.enable():t.disable()}removeLayer(t){this.#o.delete(t.pageIndex)}updateMode(t,n=null,o=!1){if(this.#x!==t){if(this.#x=t,t===bn.NONE){this.setEditingState(!1),this.#he();return}this.setEditingState(!0),this.#ue(),this.unselectAll();for(let r of this.#o.values())r.updateMode(t);if(!n&&o){this.addNewEditorFromKeyboard();return}if(n){for(let r of this.#i.values())if(r.annotationElementId===n){this.setSelected(r),r.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==this.#x&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,n){if(this.#c){switch(t){case Fi.CREATE:this.currentLayer.addNewEditor();return;case Fi.HIGHLIGHT_DEFAULT_COLOR:this.#A?.updateColor(n);break;case Fi.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#M||=new Map).set(t,n),this.showAllEditors("highlight",n);break}for(let o of this.#v)o.updateParams(t,n);for(let o of this.#c)o.updateDefaultParams(t,n)}}showAllEditors(t,n,o=!1){for(let s of this.#i.values())s.editorType===t&&s.show(n);(this.#M?.get(Fi.HIGHLIGHT_SHOW_ALL)??!0)!==n&&this.#z([[Fi.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(t=!1){if(this.#S!==t){this.#S=t;for(let n of this.#o.values())t?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",t)}}#ue(){if(!this.#w){this.#w=!0;for(let t of this.#o.values())t.enable();for(let t of this.#i.values())t.enable()}}#he(){if(this.unselectAll(),this.#w){this.#w=!1;for(let t of this.#o.values())t.disable();for(let t of this.#i.values())t.disable()}}getEditors(t){let n=[];for(let o of this.#i.values())o.pageIndex===t&&n.push(o);return n}getEditor(t){return this.#i.get(t)}addEditor(t){this.#i.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#g&&clearTimeout(this.#g),this.#g=setTimeout(()=>{this.focusMainContainer(),this.#g=null},0)),this.#i.delete(t.id),this.unselect(t),(!t.annotationElementId||!this.#d.has(t.annotationElementId))&&this.#n?.remove(t.id)}addDeletedAnnotationElement(t){this.#d.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#d.has(t)}removeDeletedAnnotationElement(t){this.#d.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#ie(t){let n=this.#o.get(t.pageIndex);n?n.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#t!==t&&(this.#t=t,t&&this.#z(t.propertiesToUpdate))}get#pe(){let t=null;for(t of this.#v);return t}updateUI(t){this.#pe===t&&this.#z(t.propertiesToUpdate)}toggleSelected(t){if(this.#v.has(t)){this.#v.delete(t),t.unselect(),this.#k({hasSelectedEditor:this.hasSelection});return}this.#v.add(t),t.select(),this.#z(t.propertiesToUpdate),this.#k({hasSelectedEditor:!0})}setSelected(t){for(let n of this.#v)n!==t&&n.unselect();this.#v.clear(),this.#v.add(t),t.select(),this.#z(t.propertiesToUpdate),this.#k({hasSelectedEditor:!0})}isSelected(t){return this.#v.has(t)}get firstSelectedEditor(){return this.#v.values().next().value}unselect(t){t.unselect(),this.#v.delete(t),this.#k({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#v.size!==0}get isEnterHandled(){return this.#v.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#l.undo(),this.#k({hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#G()})}redo(){this.#l.redo(),this.#k({hasSomethingToUndo:!0,hasSomethingToRedo:this.#l.hasSomethingToRedo(),isEmpty:this.#G()})}addCommands(t){this.#l.add(t),this.#k({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#G()})}#G(){if(this.#i.size===0)return!0;if(this.#i.size===1)for(let t of this.#i.values())return t.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;let t=[...this.#v],n=()=>{for(let r of t)r.remove()},o=()=>{for(let r of t)this.#ie(r)};this.addCommands({cmd:n,undo:o,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#ne(t){for(let n of this.#v)n.unselect();this.#v.clear();for(let n of t)n.isEmpty()||(this.#v.add(n),n.select());this.#k({hasSelectedEditor:this.hasSelection})}selectAll(){for(let t of this.#v)t.commit();this.#ne(this.#i.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#x!==bn.NONE))&&this.hasSelection){for(let t of this.#v)t.unselect();this.#v.clear(),this.#k({hasSelectedEditor:!1})}}translateSelectedEditors(t,n,o=!1){if(o||this.commitOrRemove(),!this.hasSelection)return;this.#U[0]+=t,this.#U[1]+=n;let[r,s]=this.#U,a=[...this.#v],l=1e3;this.#H&&clearTimeout(this.#H),this.#H=setTimeout(()=>{this.#H=null,this.#U[0]=this.#U[1]=0,this.addCommands({cmd:()=>{for(let d of a)this.#i.has(d.id)&&d.translateInPage(r,s)},undo:()=>{for(let d of a)this.#i.has(d.id)&&d.translateInPage(-r,-s)},mustExec:!1})},l);for(let d of a)d.translateInPage(t,n)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#u=new Map;for(let t of this.#v)this.#u.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#u)return!1;this.disableUserSelect(!1);let t=this.#u;this.#u=null;let n=!1;for(let[{x:r,y:s,pageIndex:a},l]of t)l.newX=r,l.newY=s,l.newPageIndex=a,n||=r!==l.savedX||s!==l.savedY||a!==l.savedPageIndex;if(!n)return!1;let o=(r,s,a,l)=>{if(this.#i.has(r.id)){let d=this.#o.get(l);d?r._setParentAndPosition(d,s,a):(r.pageIndex=l,r.x=s,r.y=a)}};return this.addCommands({cmd:()=>{for(let[r,{newX:s,newY:a,newPageIndex:l}]of t)o(r,s,a,l)},undo:()=>{for(let[r,{savedX:s,savedY:a,savedPageIndex:l}]of t)o(r,s,a,l)},mustExec:!0}),!0}dragSelectedEditors(t,n){if(this.#u)for(let o of this.#u.keys())o.drag(t,n)}rebuild(t){if(t.parent===null){let n=this.getLayer(t.pageIndex);n?(n.changeParent(t),n.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#v.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#t===t}getActive(){return this.#t}getMode(){return this.#x}get imageManager(){return yn(this,"imageManager",new ST)}getSelectionBoxes(t){if(!t)return null;let n=document.getSelection();for(let c=0,u=n.rangeCount;c<u;c++)if(!t.contains(n.getRangeAt(c).commonAncestorContainer))return null;let{x:o,y:r,width:s,height:a}=t.getBoundingClientRect(),l;switch(t.getAttribute("data-main-rotation")){case"90":l=(c,u,h,f)=>({x:(u-r)/a,y:1-(c+h-o)/s,width:f/a,height:h/s});break;case"180":l=(c,u,h,f)=>({x:1-(c+h-o)/s,y:1-(u+f-r)/a,width:h/s,height:f/a});break;case"270":l=(c,u,h,f)=>({x:1-(u+f-r)/a,y:(c-o)/s,width:f/a,height:h/s});break;default:l=(c,u,h,f)=>({x:(c-o)/s,y:(u-r)/a,width:h/s,height:f/a});break}let d=[];for(let c=0,u=n.rangeCount;c<u;c++){let h=n.getRangeAt(c);if(!h.collapsed)for(let{x:f,y:p,width:m,height:g}of h.getClientRects())m===0||g===0||d.push(l(f,p,m,g))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:n}){(this.#s||=new Map).set(t,n)}removeChangedExistingAnnotation({annotationElementId:t}){this.#s?.delete(t)}renderAnnotationElement(t){let n=this.#s?.get(t.data.id);if(!n)return;let o=this.#n.getRawValue(n);o&&(this.#x===bn.NONE&&!o.hasBeenModified||o.renderAnnotationElement(t))}}return i})(),U6=(()=>{class i{#e="";#t=!1;#i=null;#o=null;#r=null;#n=!1;#s=null;static _l10nPromise=null;constructor(t){this.#s=t}static initialize(t){i._l10nPromise||=t}render(){return ze(this,null,function*(){let t=this.#i=document.createElement("button");t.className="altText";let n=yield i._l10nPromise.get("pdfjs-editor-alt-text-button-label");t.textContent=n,t.setAttribute("aria-label",n),t.tabIndex="0";let o=this.#s._uiManager._signal;t.addEventListener("contextmenu",Ms,{signal:o}),t.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:o});let r=s=>{s.preventDefault(),this.#s._uiManager.editAltText(this.#s)};return t.addEventListener("click",r,{capture:!0,signal:o}),t.addEventListener("keydown",s=>{s.target===t&&s.key==="Enter"&&(this.#n=!0,r(s))},{signal:o}),yield this.#l(),t})}finish(){this.#i&&(this.#i.focus({focusVisible:this.#n}),this.#n=!1)}isEmpty(){return!this.#e&&!this.#t}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:t,decorative:n}){this.#e===t&&this.#t===n||(this.#e=t,this.#t=n,this.#l())}toggle(t=!1){this.#i&&(!t&&this.#r&&(clearTimeout(this.#r),this.#r=null),this.#i.disabled=!t)}destroy(){this.#i?.remove(),this.#i=null,this.#o=null}#l(){return ze(this,null,function*(){let t=this.#i;if(!t)return;if(!this.#e&&!this.#t){t.classList.remove("done"),this.#o?.remove();return}t.classList.add("done"),i._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(r=>{t.setAttribute("aria-label",r)});let n=this.#o;if(!n){this.#o=n=document.createElement("span"),n.className="tooltip",n.setAttribute("role","tooltip");let r=n.id=`alt-text-tooltip-${this.#s.id}`;t.setAttribute("aria-describedby",r);let s=100,a=this.#s._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(this.#r),this.#r=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#r=setTimeout(()=>{this.#r=null,this.#o.classList.add("show"),this.#s._reportTelemetry({action:"alt_text_tooltip"})},s)},{signal:a}),t.addEventListener("mouseleave",()=>{this.#r&&(clearTimeout(this.#r),this.#r=null),this.#o?.classList.remove("show")},{signal:a})}n.innerText=this.#t?yield i._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):this.#e,n.parentNode||t.append(n),this.#s.getImageForAltText()?.setAttribute("aria-describedby",n.id)})}}return i})(),zn=class i{#e=null;#t=null;#i=null;#o=!1;#r=!1;#n=null;#s=null;#l=this.focusin.bind(this);#h=this.focusout.bind(this);#d=null;#u="";#c=!1;#a=null;#f=!1;#m=!1;#p=!1;#g=null;#_=0;#b=0;#y=null;_initialOptions=Object.create(null);_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#C=!1;#w=i._zIndex++;static _borderLineWidth=-1;static _colorManager=new OT;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){let e=i.prototype._resizeWithKeyboard,t=z0.TRANSLATE_SMALL,n=z0.TRANSLATE_BIG;return yn(this,"_resizerKeyboardManager",new Op([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],i.prototype._stopResizingWithKeyboard]]))}constructor(e){this.constructor===i&&qn("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;let{rotation:t,rawDims:{pageWidth:n,pageHeight:o,pageX:r,pageY:s}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,o],this.pageTranslation=[r,s];let[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return yn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){let t=new IT({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,n){if(i._l10nPromise||=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(r=>[r,e.get(r.replaceAll(/([A-Z])/g,s=>`-${s.toLowerCase()}`))])),n?.strings)for(let r of n.strings)i._l10nPromise.set(r,e.get(r));if(i._borderLineWidth!==-1)return;let o=getComputedStyle(document.documentElement);i._borderLineWidth=parseFloat(o.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){qn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#C}set _isDraggable(e){this.#C=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){let[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#w}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#P(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#c?this.#c=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,o){let[r,s]=this.parentDimensions;[n,o]=this.screenToPageTranslation(n,o),this.x=(e+n)/r,this.y=(t+o)/s,this.fixAndSetPosition()}#S([e,t],n,o){[n,o]=this.screenToPageTranslation(n,o),this.x+=n/e,this.y+=o/t,this.fixAndSetPosition()}translate(e,t){this.#S(this.parentDimensions,e,t)}translateInPage(e,t){this.#a||=[this.x,this.y],this.#S(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){this.#a||=[this.x,this.y];let[n,o]=this.parentDimensions;if(this.x+=e/n,this.y+=t/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){let{x:d,y:c}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,c)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:s}=this,[a,l]=this.getBaseTranslation();r+=a,s+=l,this.div.style.left=`${(100*r).toFixed(2)}%`,this.div.style.top=`${(100*s).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#a&&(this.#a[0]!==this.x||this.#a[1]!==this.y)}getBaseTranslation(){let[e,t]=this.parentDimensions,{_borderLineWidth:n}=i,o=n/e,r=n/t;switch(this.rotation){case 90:return[-o,r];case 180:return[o,r];case 270:return[o,-r];default:return[-o,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){let[t,n]=this.pageDimensions,{x:o,y:r,width:s,height:a}=this;if(s*=t,a*=n,o*=t,r*=n,this._mustFixPosition)switch(e){case 0:o=Math.max(0,Math.min(t-s,o)),r=Math.max(0,Math.min(n-a,r));break;case 90:o=Math.max(0,Math.min(t-a,o)),r=Math.min(n,Math.max(s,r));break;case 180:o=Math.min(t,Math.max(s,o)),r=Math.min(n,Math.max(a,r));break;case 270:o=Math.min(t,Math.max(a,o)),r=Math.max(0,Math.min(n-s,r));break}this.x=o/=t,this.y=r/=n;let[l,d]=this.getBaseTranslation();o+=l,r+=d;let{style:c}=this.div;c.left=`${(100*o).toFixed(2)}%`,c.top=`${(100*r).toFixed(2)}%`,this.moveInDOM()}static#O(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return i.#O(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return i.#O(e,t,360-this.parentRotation)}#A(e){switch(e){case 90:{let[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{let[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){let{parentScale:e,pageDimensions:[t,n]}=this,o=t*e,r=n*e;return Hr.isCSSRoundSupported?[Math.round(o),Math.round(r)]:[o,r]}setDims(e,t){let[n,o]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,this.#r||(this.div.style.height=`${(100*t/o).toFixed(2)}%`)}fixDims(){let{style:e}=this.div,{height:t,width:n}=e,o=n.endsWith("%"),r=!this.#r&&t.endsWith("%");if(o&&r)return;let[s,a]=this.parentDimensions;o||(e.width=`${(100*parseFloat(n)/s).toFixed(2)}%`),!this.#r&&!r&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#E(){if(this.#n)return;this.#n=document.createElement("div"),this.#n.classList.add("resizers");let e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(let n of e){let o=document.createElement("div");this.#n.append(o),o.classList.add("resizer",n),o.setAttribute("data-resizer-name",n),o.addEventListener("pointerdown",this.#x.bind(this,n),{signal:t}),o.addEventListener("contextmenu",Ms,{signal:t}),o.tabIndex=-1}this.div.prepend(this.#n)}#x(e,t){t.preventDefault();let{isMac:n}=Hr.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#i?.toggle(!1);let o=this.#T.bind(this,e),r=this._isDraggable;this._isDraggable=!1;let s=this._uiManager._signal,a={passive:!0,capture:!0,signal:s};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",o,a),window.addEventListener("contextmenu",Ms,{signal:s});let l=this.x,d=this.y,c=this.width,u=this.height,h=this.parent.div.style.cursor,f=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;let p=()=>{this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=r,window.removeEventListener("pointerup",p),window.removeEventListener("blur",p),window.removeEventListener("pointermove",o,a),window.removeEventListener("contextmenu",Ms),this.parent.div.style.cursor=h,this.div.style.cursor=f,this.#v(l,d,c,u)};window.addEventListener("pointerup",p,{signal:s}),window.addEventListener("blur",p,{signal:s})}#v(e,t,n,o){let r=this.x,s=this.y,a=this.width,l=this.height;r===e&&s===t&&a===n&&l===o||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=r,this.y=s;let[d,c]=this.parentDimensions;this.setDims(d*a,c*l),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=o,this.x=e,this.y=t;let[d,c]=this.parentDimensions;this.setDims(d*n,c*o),this.fixAndSetPosition()},mustExec:!0})}#T(e,t){let[n,o]=this.parentDimensions,r=this.x,s=this.y,a=this.width,l=this.height,d=i.MIN_SIZE/n,c=i.MIN_SIZE/o,u=y=>Math.round(y*1e4)/1e4,h=this.#A(this.rotation),f=(y,w)=>[h[0]*y+h[2]*w,h[1]*y+h[3]*w],p=this.#A(360-this.rotation),m=(y,w)=>[p[0]*y+p[2]*w,p[1]*y+p[3]*w],g,b,x=!1,E=!1;switch(e){case"topLeft":x=!0,g=(y,w)=>[0,0],b=(y,w)=>[y,w];break;case"topMiddle":g=(y,w)=>[y/2,0],b=(y,w)=>[y/2,w];break;case"topRight":x=!0,g=(y,w)=>[y,0],b=(y,w)=>[0,w];break;case"middleRight":E=!0,g=(y,w)=>[y,w/2],b=(y,w)=>[0,w/2];break;case"bottomRight":x=!0,g=(y,w)=>[y,w],b=(y,w)=>[0,0];break;case"bottomMiddle":g=(y,w)=>[y/2,w],b=(y,w)=>[y/2,0];break;case"bottomLeft":x=!0,g=(y,w)=>[0,w],b=(y,w)=>[y,0];break;case"middleLeft":E=!0,g=(y,w)=>[0,w/2],b=(y,w)=>[y,w/2];break}let D=g(a,l),L=b(a,l),k=f(...L),R=u(r+k[0]),N=u(s+k[1]),z=1,V=1,[S,T]=this.screenToPageTranslation(t.movementX,t.movementY);if([S,T]=m(S/n,T/o),x){let y=Math.hypot(a,l);z=V=Math.max(Math.min(Math.hypot(L[0]-D[0]-S,L[1]-D[1]-T)/y,1/a,1/l),d/a,c/l)}else E?z=Math.max(d,Math.min(1,Math.abs(L[0]-D[0]-S)))/a:V=Math.max(c,Math.min(1,Math.abs(L[1]-D[1]-T)))/l;let B=u(a*z),_=u(l*V);k=f(...b(B,_));let v=R-k[0],C=N-k[1];this.width=B,this.height=_,this.x=v,this.y=C,this.setDims(n*B,o*_),this.fixAndSetPosition()}altTextFinish(){this.#i?.finish()}addEditToolbar(){return ze(this,null,function*(){return this.#d||this.#m?this.#d:(this.#d=new xT(this),this.div.append(this.#d.render()),this.#i&&this.#d.addAltTextButton(yield this.#i.render()),this.#d)})}removeEditToolbar(){this.#d&&(this.#d.remove(),this.#d=null,this.#i?.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}addAltTextButton(){return ze(this,null,function*(){this.#i||(U6.initialize(i._l10nPromise),this.#i=new U6(this),this.#e&&(this.#i.data=this.#e,this.#e=null),yield this.addEditToolbar())})}get altTextData(){return this.#i?.data}set altTextData(e){this.#i&&(this.#i.data=e)}hasAltText(){return!this.#i?.isEmpty()}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#o?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();let e=this._uiManager._signal;this.div.addEventListener("focusin",this.#l,{signal:e}),this.div.addEventListener("focusout",this.#h,{signal:e});let[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/n).toFixed(2)}%`);let[o,r]=this.getInitialTranslation();return this.translate(o,r),xC(this,this.div,["pointerdown"]),this.div}pointerdown(e){let{isMac:t}=Hr.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#c=!0,this._isDraggable){this.#M(e);return}this.#D(e)}#D(e){let{isMac:t}=Hr.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#M(e){let t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let n,o,r=this._uiManager._signal;t&&(this.div.classList.add("moving"),n={passive:!0,capture:!0,signal:r},this.#_=e.clientX,this.#b=e.clientY,o=a=>{let{clientX:l,clientY:d}=a,[c,u]=this.screenToPageTranslation(l-this.#_,d-this.#b);this.#_=l,this.#b=d,this._uiManager.dragSelectedEditors(c,u)},window.addEventListener("pointermove",o,n));let s=()=>{window.removeEventListener("pointerup",s),window.removeEventListener("blur",s),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",o,n)),this.#c=!1,this._uiManager.endDragSession()||this.#D(e)};window.addEventListener("pointerup",s,{signal:r}),window.addEventListener("blur",s,{signal:r})}moveInDOM(){this.#g&&clearTimeout(this.#g),this.#g=setTimeout(()=>{this.#g=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t,n=this.rotation){let o=this.parentScale,[r,s]=this.pageDimensions,[a,l]=this.pageTranslation,d=e/o,c=t/o,u=this.x*r,h=this.y*s,f=this.width*r,p=this.height*s;switch(n){case 0:return[u+d+a,s-h-c-p+l,u+d+f+a,s-h-c+l];case 90:return[u+c+a,s-h+d+l,u+c+p+a,s-h+d+f+l];case 180:return[u-d-f+a,s-h+c+l,u-d+a,s-h+c+p+l];case 270:return[u-c-p+a,s-h-d-f+l,u-c+a,s-h-d+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){let[n,o,r,s]=e,a=r-n,l=s-o;switch(this.rotation){case 0:return[n,t-s,a,l];case 90:return[n,t-o,l,a];case 180:return[r,t-o,a,l];case 270:return[r,t-s,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#m=!0}disableEditMode(){this.#m=!1}isInEditMode(){return this.#m}shouldGetKeyboardEvents(){return this.#p}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){let e=this._uiManager._signal;this.div?.addEventListener("focusin",this.#l,{signal:e}),this.div?.addEventListener("focusout",this.#h,{signal:e})}rotate(e){}serialize(e=!1,t=null){qn("An editor must be serializable")}static deserialize(e,t,n){let o=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});o.rotation=e.rotation,o.#e=e.accessibilityData;let[r,s]=o.pageDimensions,[a,l,d,c]=o.getRectInCurrentCoords(e.rect,s);return o.x=a/r,o.y=l/s,o.width=d/r,o.height=c/s,o}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",this.#l),this.div.removeEventListener("focusout",this.#h),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#g&&(clearTimeout(this.#g),this.#g=null),this.#P(),this.removeEditToolbar(),this.#y){for(let e of this.#y.values())clearTimeout(e);this.#y=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#E(),this.#n.classList.remove("hidden"),xC(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#s={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};let t=this.#n.children;if(!this.#t){this.#t=Array.from(t);let s=this.#I.bind(this),a=this.#R.bind(this),l=this._uiManager._signal;for(let d of this.#t){let c=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",s,{signal:l}),d.addEventListener("blur",a,{signal:l}),d.addEventListener("focus",this.#F.bind(this,c),{signal:l}),i._l10nPromise.get(`pdfjs-editor-resizer-label-${c}`).then(u=>d.setAttribute("aria-label",u))}}let n=this.#t[0],o=0;for(let s of t){if(s===n)break;o++}let r=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(r!==o){if(r<o)for(let a=0;a<o-r;a++)this.#n.append(this.#n.firstChild);else if(r>o)for(let a=0;a<r-o;a++)this.#n.firstChild.before(this.#n.lastChild);let s=0;for(let a of t){let d=this.#t[s++].getAttribute("data-resizer-name");i._l10nPromise.get(`pdfjs-editor-resizer-label-${d}`).then(c=>a.setAttribute("aria-label",c))}}this.#L(0),this.#p=!0,this.#n.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#I(e){i._resizerKeyboardManager.exec(this,e)}#R(e){this.#p&&e.relatedTarget?.parentNode!==this.#n&&this.#P()}#F(e){this.#u=this.#p?e:""}#L(e){if(this.#t)for(let t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#p&&this.#T(this.#u,{movementX:e,movementY:t})}#P(){if(this.#p=!1,this.#L(-1),this.#s){let{savedX:e,savedY:t,savedWidth:n,savedHeight:o}=this.#s;this.#v(e,t,n,o),this.#s=null}}_stopResizingWithKeyboard(){this.#P(),this.div.focus()}select(){if(this.makeResizable(),this.div?.classList.add("selectedEditor"),!this.#d){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this.#d?.show()});return}this.#d?.show()}unselect(){this.#n?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this.#d?.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#f}set isEditing(e){this.#f=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#r=!0;let n=e/t,{style:o}=this.div;o.aspectRatio=n,o.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#y||=new Map;let{action:n}=e,o=this.#y.get(n);o&&clearTimeout(o),o=setTimeout(()=>{this._reportTelemetry(e),this.#y.delete(n),this.#y.size===0&&(this.#y=null)},i._telemetryTimeout),this.#y.set(n,o);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#o=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#o=!0}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){let n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){let{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}},IT=class extends zn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}},G6=3285377520,ba=4294901760,Jl=65535,CC=class{constructor(e){this.h1=e?e&4294967295:G6,this.h2=e?e&4294967295:G6}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let m=0,g=e.length;m<g;m++){let b=e.charCodeAt(m);b<=255?t[n++]=b:(t[n++]=b>>>8,t[n++]=b&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");let o=n>>2,r=n-o*4,s=new Uint32Array(t.buffer,0,o),a=0,l=0,d=this.h1,c=this.h2,u=3432918353,h=461845907,f=u&Jl,p=h&Jl;for(let m=0;m<o;m++)m&1?(a=s[m],a=a*u&ba|a*f&Jl,a=a<<15|a>>>17,a=a*h&ba|a*p&Jl,d^=a,d=d<<13|d>>>19,d=d*5+3864292196):(l=s[m],l=l*u&ba|l*f&Jl,l=l<<15|l>>>17,l=l*h&ba|l*p&Jl,c^=l,c=c<<13|c>>>19,c=c*5+3864292196);switch(a=0,r){case 3:a^=t[o*4+2]<<16;case 2:a^=t[o*4+1]<<8;case 1:a^=t[o*4],a=a*u&ba|a*f&Jl,a=a<<15|a>>>17,a=a*h&ba|a*p&Jl,o&1?d^=a:c^=a}this.h1=d,this.h2=c}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&ba|e*36045&Jl,t=t*4283543511&ba|((t<<16|e>>>16)*2950163797&ba)>>>16,e^=t>>>1,e=e*444984403&ba|e*60499&Jl,t=t*3301882366&ba|((t<<16|e>>>16)*3120437893&ba)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}},DT=Object.freeze({map:null,hash:"",transfer:void 0}),j0=class{#e=!1;#t=null;#i=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){let n=this.#i.get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return this.#i.get(e)}remove(e){if(this.#i.delete(e),this.#i.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(let t of this.#i.values())if(t instanceof zn)return;this.onAnnotationEditor(null)}}setValue(e,t){let n=this.#i.get(e),o=!1;if(n!==void 0)for(let[r,s]of Object.entries(t))n[r]!==s&&(o=!0,n[r]=s);else o=!0,this.#i.set(e,t);o&&this.#o(),t instanceof zn&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#i.has(e)}getAll(){return this.#i.size>0?FA(this.#i):null}setAll(e){for(let[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return this.#i.size}#o(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new wC(this)}get serializable(){if(this.#i.size===0)return DT;let e=new Map,t=new CC,n=[],o=Object.create(null),r=!1;for(let[s,a]of this.#i){let l=a instanceof zn?a.serialize(!1,o):a;l&&(e.set(s,l),t.update(`${s}:${JSON.stringify(l)}`),r||=!!l.bitmap)}if(r)for(let s of e.values())s.bitmap&&n.push(s.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:DT}get editorStats(){let e=null,t=new Map;for(let n of this.#i.values()){if(!(n instanceof zn))continue;let o=n.telemetryFinalData;if(!o)continue;let{type:r}=o;t.has(r)||t.set(r,Object.getPrototypeOf(n).constructor),e||=Object.create(null);let s=e[r]||=new Map;for(let[a,l]of Object.entries(o)){if(a==="type")continue;let d=s.get(a);d||(d=new Map,s.set(a,d));let c=d.get(l)??0;d.set(l,c+1)}}for(let[n,o]of t)e[n]=o.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){this.#t=null}get modifiedIds(){if(this.#t)return this.#t;let e=[];for(let t of this.#i.values())!(t instanceof zn)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}},wC=class extends j0{#e;constructor(e){super();let{map:t,hash:n,transfer:o}=e.serializable,r=structuredClone(t,o?{transfer:o}:null);this.#e={map:r,hash:n,transfer:o}}get print(){qn("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return yn(this,"modifiedIds",{ids:new Set,hash:""})}},TT=class{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));let t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(let e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont(n){return ze(this,arguments,function*({systemFontInfo:e,_inspectFont:t}){if(!(!e||this.#e.has(e.loadedName))){if(fr(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){let{loadedName:o,src:r,style:s}=e,a=new FontFace(o,r,s);this.addNativeFontFace(a);try{yield a.load(),this.#e.add(o),t?.(e)}catch{an(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}qn("Not implemented: loadSystemFont without the Font Loading API.")}})}bind(e){return ze(this,null,function*(){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){yield this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){let n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{yield n.loaded}catch(o){throw an(`Failed to load font '${n.family}': '${o}'.`),e.disableFontFace=!0,o}}return}let t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;yield new Promise(n=>{let o=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,o)})}})}get isFontLoadingAPISupported(){let e=!!this._document?.fonts;return yn(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Vr||typeof navigator<"u"&&typeof navigator?.userAgent=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),yn(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(fr(!o.done,"completeRequest() cannot be called twice."),o.done=!0;n.length>0&&n[0].done;){let r=n.shift();setTimeout(r.callback,0)}}let{loadingRequests:n}=this,o={done:!1,complete:t,callback:e};return n.push(o),o}get _loadTestFont(){let e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return yn(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(D,L){return D.charCodeAt(L)<<24|D.charCodeAt(L+1)<<16|D.charCodeAt(L+2)<<8|D.charCodeAt(L+3)&255}function o(D,L,k,R){let N=D.substring(0,L),z=D.substring(L+k);return N+R+z}let r,s,a=this._document.createElement("canvas");a.width=1,a.height=1;let l=a.getContext("2d"),d=0;function c(D,L){if(++d>30){an("Load test font never loaded."),L();return}if(l.font="30px "+D,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){L();return}setTimeout(c.bind(null,D,L))}let u=`lt${Date.now()}${this.loadTestFontId++}`,h=this._loadTestFont;h=o(h,976,u.length,u);let p=16,m=1482184792,g=n(h,p);for(r=0,s=u.length-3;r<s;r+=4)g=g-m+n(u,r)|0;r<u.length&&(g=g-m+n(u+"XXX",r)|0),h=o(h,p,4,ide(g));let b=`url(data:font/opentype;base64,${btoa(h)});`,x=`@font-face {font-family:"${u}";src:${b}}`;this.insertRule(x);let E=this._document.createElement("div");E.style.visibility="hidden",E.style.width=E.style.height="10px",E.style.position="absolute",E.style.top=E.style.left="0px";for(let D of[e.loadedName,u]){let L=this._document.createElement("span");L.textContent="Hi",L.style.fontFamily=D,E.append(L)}this._document.body.append(E),c(u,()=>{E.remove(),t.complete()})}},AT=class{constructor(e,{disableFontFace:t=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(let o in e)this[o]=e[o];this.disableFontFace=t===!0,this._inspectFont=n}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{let t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;let e=rH(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`,n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let o=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(o+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${o}src:${t}}`}return this._inspectFont?.(this,t),n}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(r){an(`getPathGenerator - ignoring character: "${r}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[t]=function(r,s){};let o=[];for(let r=0,s=n.length;r<s;)switch(n[r++]){case oc.BEZIER_CURVE_TO:{let[a,l,d,c,u,h]=n.slice(r,r+6);o.push(f=>f.bezierCurveTo(a,l,d,c,u,h)),r+=6}break;case oc.MOVE_TO:{let[a,l]=n.slice(r,r+2);o.push(d=>d.moveTo(a,l)),r+=2}break;case oc.LINE_TO:{let[a,l]=n.slice(r,r+2);o.push(d=>d.lineTo(a,l)),r+=2}break;case oc.QUADRATIC_CURVE_TO:{let[a,l,d,c]=n.slice(r,r+4);o.push(u=>u.quadraticCurveTo(a,l,d,c)),r+=4}break;case oc.RESTORE:o.push(a=>a.restore());break;case oc.SAVE:o.push(a=>a.save());break;case oc.SCALE:fr(o.length===2,"Scale command is only valid at the third position.");break;case oc.TRANSFORM:{let[a,l,d,c,u,h]=n.slice(r,r+6);o.push(f=>f.transform(a,l,d,c,u,h)),r+=6}break;case oc.TRANSLATE:{let[a,l]=n.slice(r,r+2);o.push(d=>d.translate(a,l)),r+=2}break}return this.compiledGlyphs[t]=function(s,a){o[0](s),o[1](s),s.scale(a,-a);for(let l=2,d=o.length;l<d;l++)o[l](s)}}};Vr&&(cC=Promise.withResolvers(),uC=null,ze(void 0,null,function*(){let e=yield import("./chunk-L2HEV66R.js"),t=yield import("./chunk-BMBYILCS.js"),n=yield import("./chunk-ALIQTIYY.js"),o=yield import("./chunk-NYZOWURK.js"),r,s;return new Map(Object.entries({fs:e,http:t,https:n,url:o,canvas:r,path2d:s}))}).then(e=>{uC=e,cC.resolve()},e=>{an(`loadPackages: ${e}`),uC=new Map,cC.resolve()}));var cC,uC,va=class{static get promise(){return cC.promise}static get(e){return uC?.get(e)}},aH=function(i){return va.get("fs").promises.readFile(i).then(t=>new Uint8Array(t))},kT=class extends pC{},MT=class extends fC{_createCanvas(e,t){return va.get("canvas").createCanvas(e,t)}},RT=class extends mC{_fetchData(e,t){return aH(e).then(n=>({cMapData:n,compressionType:t}))}},FT=class extends gC{_fetchData(e){return aH(e)}},ss={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function PT(i,e){if(!e)return;let t=e[2]-e[0],n=e[3]-e[1],o=new Path2D;o.rect(e[0],e[1],t,n),i.clip(o)}var $0=class i{constructor(){this.constructor===i&&qn("Cannot initialize BaseShadingPattern.")}getPattern(){qn("Abstract method `getPattern` called.")}},LT=class extends $0{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(let n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,o){let r;if(o===ss.STROKE||o===ss.FILL){let s=t.current.getClippedPathBoundingBox(o,So(e))||[0,0,0,0],a=Math.ceil(s[2]-s[0])||1,l=Math.ceil(s[3]-s[1])||1,d=t.cachedCanvases.getCanvas("pattern",a,l,!0),c=d.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-s[0],-s[1]),n=ni.transform(n,[1,0,0,1,s[0],s[1]]),c.transform(...t.baseTransform),this.matrix&&c.transform(...this.matrix),PT(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),r=e.createPattern(d.canvas,"no-repeat");let u=new DOMMatrix(n);r.setTransform(u)}else PT(e,this._bbox),r=this._createGradient(e);return r}};function hT(i,e,t,n,o,r,s,a){let l=e.coords,d=e.colors,c=i.data,u=i.width*4,h;l[t+1]>l[n+1]&&(h=t,t=n,n=h,h=r,r=s,s=h),l[n+1]>l[o+1]&&(h=n,n=o,o=h,h=s,s=a,a=h),l[t+1]>l[n+1]&&(h=t,t=n,n=h,h=r,r=s,s=h);let f=(l[t]+e.offsetX)*e.scaleX,p=(l[t+1]+e.offsetY)*e.scaleY,m=(l[n]+e.offsetX)*e.scaleX,g=(l[n+1]+e.offsetY)*e.scaleY,b=(l[o]+e.offsetX)*e.scaleX,x=(l[o+1]+e.offsetY)*e.scaleY;if(p>=x)return;let E=d[r],D=d[r+1],L=d[r+2],k=d[s],R=d[s+1],N=d[s+2],z=d[a],V=d[a+1],S=d[a+2],T=Math.round(p),B=Math.round(x),_,v,C,y,w,O,P,W;for(let G=T;G<=B;G++){if(G<g){let A=G<p?0:(p-G)/(p-g);_=f-(f-m)*A,v=E-(E-k)*A,C=D-(D-R)*A,y=L-(L-N)*A}else{let A;G>x?A=1:g===x?A=0:A=(g-G)/(g-x),_=m-(m-b)*A,v=k-(k-z)*A,C=R-(R-V)*A,y=N-(N-S)*A}let K;G<p?K=0:G>x?K=1:K=(p-G)/(p-x),w=f-(f-b)*K,O=E-(E-z)*K,P=D-(D-V)*K,W=L-(L-S)*K;let F=Math.round(Math.min(_,w)),Y=Math.round(Math.max(_,w)),M=u*G+F*4;for(let A=F;A<=Y;A++)K=(_-A)/(_-w),K<0?K=0:K>1&&(K=1),c[M++]=v-(v-O)*K|0,c[M++]=C-(C-P)*K|0,c[M++]=y-(y-W)*K|0,c[M++]=255}}function pde(i,e,t){let n=e.coords,o=e.colors,r,s;switch(e.type){case"lattice":let a=e.verticesPerRow,l=Math.floor(n.length/a)-1,d=a-1;for(r=0;r<l;r++){let c=r*a;for(let u=0;u<d;u++,c++)hT(i,t,n[c],n[c+1],n[c+a],o[c],o[c+1],o[c+a]),hT(i,t,n[c+a+1],n[c+1],n[c+a],o[c+a+1],o[c+1],o[c+a])}break;case"triangles":for(r=0,s=n.length;r<s;r+=3)hT(i,t,n[r],n[r+1],n[r+2],o[r],o[r+1],o[r+2]);break;default:throw new Error("illegal figure")}}var NT=class extends $0{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){let a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-a,c=Math.ceil(this._bounds[3])-l,u=Math.min(Math.ceil(Math.abs(d*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(c*e[1]*1.1)),3e3),f=d/u,p=c/h,m={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/f,scaleY:1/p},g=u+2*2,b=h+2*2,x=n.getCanvas("mesh",g,b,!1),E=x.context,D=E.createImageData(u,h);if(t){let k=D.data;for(let R=0,N=k.length;R<N;R+=4)k[R]=t[0],k[R+1]=t[1],k[R+2]=t[2],k[R+3]=255}for(let k of this._figures)pde(D,k,m);return E.putImageData(D,2,2),{canvas:x.canvas,offsetX:a-2*f,offsetY:l-2*p,scaleX:f,scaleY:p}}getPattern(e,t,n,o){PT(e,this._bbox);let r;if(o===ss.SHADING)r=ni.singularValueDecompose2dScale(So(e));else if(r=ni.singularValueDecompose2dScale(t.baseTransform),this.matrix){let a=ni.singularValueDecompose2dScale(this.matrix);r=[r[0]*a[0],r[1]*a[1]]}let s=this._createMeshCanvas(r,o===ss.SHADING?null:this._background,t.cachedCanvases);return o!==ss.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}},BT=class extends $0{getPattern(){return"hotpink"}};function fde(i){switch(i[0]){case"RadialAxial":return new LT(i);case"Mesh":return new NT(i);case"Dummy":return new BT}throw new Error(`Unknown IR type: ${i[0]}`)}var K6={COLORED:1,UNCOLORED:2},mde=(()=>{class i{static MAX_PATTERN_SIZE=3e3;constructor(t,n,o,r,s){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=n,this.ctx=o,this.canvasGraphicsFactory=r,this.baseTransform=s}createPatternCanvas(t){let n=this.operatorList,o=this.bbox,r=this.xstep,s=this.ystep,a=this.paintType,l=this.tilingType,d=this.color,c=this.canvasGraphicsFactory;GC("TilingType: "+l);let u=o[0],h=o[1],f=o[2],p=o[3],m=ni.singularValueDecompose2dScale(this.matrix),g=ni.singularValueDecompose2dScale(this.baseTransform),b=[m[0]*g[0],m[1]*g[1]],x=this.getSizeAndScale(r,this.ctx.canvas.width,b[0]),E=this.getSizeAndScale(s,this.ctx.canvas.height,b[1]),D=t.cachedCanvases.getCanvas("pattern",x.size,E.size,!0),L=D.context,k=c.createCanvasGraphics(L);k.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(k,a,d);let R=u,N=h,z=f,V=p;return u<0&&(R=0,z+=Math.abs(u)),h<0&&(N=0,V+=Math.abs(h)),L.translate(-(x.scale*R),-(E.scale*N)),k.transform(x.scale,0,0,E.scale,0,0),L.save(),this.clipBbox(k,R,N,z,V),k.baseTransform=So(k.ctx),k.executeOperatorList(n),k.endDrawing(),{canvas:D.canvas,scaleX:x.scale,scaleY:E.scale,offsetX:R,offsetY:N}}getSizeAndScale(t,n,o){t=Math.abs(t);let r=Math.max(i.MAX_PATTERN_SIZE,n),s=Math.ceil(t*o);return s>=r?s=r:o=s/t,{scale:o,size:s}}clipBbox(t,n,o,r,s){let a=r-n,l=s-o;t.ctx.rect(n,o,a,l),t.current.updateRectMinMax(So(t.ctx),[n,o,r,s]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,n,o){let r=t.ctx,s=t.current;switch(n){case K6.COLORED:let a=this.ctx;r.fillStyle=a.fillStyle,r.strokeStyle=a.strokeStyle,s.fillColor=a.fillStyle,s.strokeColor=a.strokeStyle;break;case K6.UNCOLORED:let l=ni.makeHexColor(o[0],o[1],o[2]);r.fillStyle=l,r.strokeStyle=l,s.fillColor=l,s.strokeColor=l;break;default:throw new _T(`Unsupported paint type: ${n}`)}}getPattern(t,n,o,r){let s=o;r!==ss.SHADING&&(s=ni.transform(s,n.baseTransform),this.matrix&&(s=ni.transform(s,this.matrix)));let a=this.createPatternCanvas(n),l=new DOMMatrix(s);l=l.translate(a.offsetX,a.offsetY),l=l.scale(1/a.scaleX,1/a.scaleY);let d=t.createPattern(a.canvas,"repeat");return d.setTransform(l),d}}return i})();function gde({src:i,srcPos:e=0,dest:t,width:n,height:o,nonBlackColor:r=4294967295,inverseDecode:s=!1}){let a=Hr.isLittleEndian?4278190080:255,[l,d]=s?[r,a]:[a,r],c=n>>3,u=n&7,h=i.length;t=new Uint32Array(t.buffer);let f=0;for(let p=0;p<o;p++){for(let g=e+c;e<g;e++){let b=e<h?i[e]:255;t[f++]=b&128?d:l,t[f++]=b&64?d:l,t[f++]=b&32?d:l,t[f++]=b&16?d:l,t[f++]=b&8?d:l,t[f++]=b&4?d:l,t[f++]=b&2?d:l,t[f++]=b&1?d:l}if(u===0)continue;let m=e<h?i[e++]:255;for(let g=0;g<u;g++)t[f++]=m&1<<7-g?d:l}return{srcPos:e,destPos:f}}var q6=16,Y6=100,_de=15,X6=10,Z6=1e3,ks=16;function bde(i,e){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){e.save(),this.__originalSave()},i.restore=function(){e.restore(),this.__originalRestore()},i.translate=function(n,o){e.translate(n,o),this.__originalTranslate(n,o)},i.scale=function(n,o){e.scale(n,o),this.__originalScale(n,o)},i.transform=function(n,o,r,s,a,l){e.transform(n,o,r,s,a,l),this.__originalTransform(n,o,r,s,a,l)},i.setTransform=function(n,o,r,s,a,l){e.setTransform(n,o,r,s,a,l),this.__originalSetTransform(n,o,r,s,a,l)},i.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},i.rotate=function(n){e.rotate(n),this.__originalRotate(n)},i.clip=function(n){e.clip(n),this.__originalClip(n)},i.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},i.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},i.bezierCurveTo=function(t,n,o,r,s,a){e.bezierCurveTo(t,n,o,r,s,a),this.__originalBezierCurveTo(t,n,o,r,s,a)},i.rect=function(t,n,o,r){e.rect(t,n,o,r),this.__originalRect(t,n,o,r)},i.closePath=function(){e.closePath(),this.__originalClosePath()},i.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}var VT=class{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let o;return this.cache[e]!==void 0?(o=this.cache[e],this.canvasFactory.reset(o,t,n)):(o=this.canvasFactory.create(t,n),this.cache[e]=o),o}delete(e){delete this.cache[e]}clear(){for(let e in this.cache){let t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}};function nC(i,e,t,n,o,r,s,a,l,d){let[c,u,h,f,p,m]=So(i);if(u===0&&h===0){let x=s*c+p,E=Math.round(x),D=a*f+m,L=Math.round(D),k=(s+l)*c+p,R=Math.abs(Math.round(k)-E)||1,N=(a+d)*f+m,z=Math.abs(Math.round(N)-L)||1;return i.setTransform(Math.sign(c),0,0,Math.sign(f),E,L),i.drawImage(e,t,n,o,r,0,0,R,z),i.setTransform(c,u,h,f,p,m),[R,z]}if(c===0&&f===0){let x=a*h+p,E=Math.round(x),D=s*u+m,L=Math.round(D),k=(a+d)*h+p,R=Math.abs(Math.round(k)-E)||1,N=(s+l)*u+m,z=Math.abs(Math.round(N)-L)||1;return i.setTransform(0,Math.sign(u),Math.sign(h),0,E,L),i.drawImage(e,t,n,o,r,0,0,z,R),i.setTransform(c,u,h,f,p,m),[z,R]}i.drawImage(e,t,n,o,r,s,a,l,d);let g=Math.hypot(c,u),b=Math.hypot(h,f);return[g*l,b*d]}function vde(i){let{width:e,height:t}=i;if(e>Z6||t>Z6)return null;let n=1e3,o=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=e+1,s=new Uint8Array(r*(t+1)),a,l,d,c=e+7&-8,u=new Uint8Array(c*t),h=0;for(let b of i.data){let x=128;for(;x>0;)u[h++]=b&x?0:255,x>>=1}let f=0;for(h=0,u[h]!==0&&(s[0]=1,++f),l=1;l<e;l++)u[h]!==u[h+1]&&(s[l]=u[h]?2:1,++f),h++;for(u[h]!==0&&(s[l]=2,++f),a=1;a<t;a++){h=a*c,d=a*r,u[h-c]!==u[h]&&(s[d]=u[h]?1:8,++f);let b=(u[h]?4:0)+(u[h-c]?8:0);for(l=1;l<e;l++)b=(b>>2)+(u[h+1]?4:0)+(u[h-c+1]?8:0),o[b]&&(s[d+l]=o[b],++f),h++;if(u[h-c]!==u[h]&&(s[d+l]=u[h]?2:4,++f),f>n)return null}for(h=c*(t-1),d=a*r,u[h]!==0&&(s[d]=8,++f),l=1;l<e;l++)u[h]!==u[h+1]&&(s[d+l]=u[h]?4:8,++f),h++;if(u[h]!==0&&(s[d+l]=4,++f),f>n)return null;let p=new Int32Array([0,r,-1,0,-r,0,0,0,1]),m=new Path2D;for(a=0;f&&a<=t;a++){let b=a*r,x=b+e;for(;b<x&&!s[b];)b++;if(b===x)continue;m.moveTo(b%r,a);let E=b,D=s[b];do{let L=p[D];do b+=L;while(!s[b]);let k=s[b];k!==5&&k!==10?(D=k,s[b]=0):(D=k&51*D>>4,s[b]&=D>>2|D<<2),m.lineTo(b%r,b/r|0),s[b]||--f}while(E!==b);--a}return u=null,s=null,function(b){b.save(),b.scale(1/e,-1/t),b.translate(0,-t),b.fill(m),b.beginPath(),b.restore()}}var SC=class{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=oH,this.textMatrixScale=1,this.fontMatrix=mT,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Br.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){let e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=ni.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){let n=ni.applyTransform(t,e),o=ni.applyTransform(t.slice(2),e),r=ni.applyTransform([t[0],t[3]],e),s=ni.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],o[0],r[0],s[0]),this.minY=Math.min(this.minY,n[1],o[1],r[1],s[1]),this.maxX=Math.max(this.maxX,n[0],o[0],r[0],s[0]),this.maxY=Math.max(this.maxY,n[1],o[1],r[1],s[1])}updateScalingPathMinMax(e,t){ni.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,o,r,s,a,l,d,c){let u=ni.bezierBoundingBox(t,n,o,r,s,a,l,d,c);c||this.updateRectMinMax(e,u)}getPathBoundingBox(e=ss.FILL,t=null){let n=[this.minX,this.minY,this.maxX,this.maxY];if(e===ss.STROKE){t||qn("Stroke bounding box must include transform.");let o=ni.singularValueDecompose2dScale(t),r=o[0]*this.lineWidth/2,s=o[1]*this.lineWidth/2;n[0]-=r,n[1]-=s,n[2]+=r,n[3]+=s}return n}updateClipFromPath(){let e=ni.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=ss.FILL,t=null){return ni.intersect(this.clipBox,this.getPathBoundingBox(e,t))}};function Q6(i,e){if(typeof ImageData<"u"&&e instanceof ImageData){i.putImageData(e,0,0);return}let t=e.height,n=e.width,o=t%ks,r=(t-o)/ks,s=o===0?r:r+1,a=i.createImageData(n,ks),l=0,d,c=e.data,u=a.data,h,f,p,m;if(e.kind===dC.GRAYSCALE_1BPP){let g=c.byteLength,b=new Uint32Array(u.buffer,0,u.byteLength>>2),x=b.length,E=n+7>>3,D=4294967295,L=Hr.isLittleEndian?4278190080:255;for(h=0;h<s;h++){for(p=h<r?ks:o,d=0,f=0;f<p;f++){let k=g-l,R=0,N=k>E?n:k*8-7,z=N&-8,V=0,S=0;for(;R<z;R+=8)S=c[l++],b[d++]=S&128?D:L,b[d++]=S&64?D:L,b[d++]=S&32?D:L,b[d++]=S&16?D:L,b[d++]=S&8?D:L,b[d++]=S&4?D:L,b[d++]=S&2?D:L,b[d++]=S&1?D:L;for(;R<N;R++)V===0&&(S=c[l++],V=128),b[d++]=S&V?D:L,V>>=1}for(;d<x;)b[d++]=0;i.putImageData(a,0,h*ks)}}else if(e.kind===dC.RGBA_32BPP){for(f=0,m=n*ks*4,h=0;h<r;h++)u.set(c.subarray(l,l+m)),l+=m,i.putImageData(a,0,f),f+=ks;h<s&&(m=n*o*4,u.set(c.subarray(l,l+m)),i.putImageData(a,0,f))}else if(e.kind===dC.RGB_24BPP)for(p=ks,m=n*p,h=0;h<s;h++){for(h>=r&&(p=o,m=n*p),d=0,f=m;f--;)u[d++]=c[l++],u[d++]=c[l++],u[d++]=c[l++],u[d++]=255;i.putImageData(a,0,h*ks)}else throw new Error(`bad image kind: ${e.kind}`)}function J6(i,e){if(e.bitmap){i.drawImage(e.bitmap,0,0);return}let t=e.height,n=e.width,o=t%ks,r=(t-o)/ks,s=o===0?r:r+1,a=i.createImageData(n,ks),l=0,d=e.data,c=a.data;for(let u=0;u<s;u++){let h=u<r?ks:o;({srcPos:l}=gde({src:d,srcPos:l,dest:c,width:n,height:h,nonBlackColor:0})),i.putImageData(a,0,u*ks)}}function M0(i,e){let t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(let n of t)i[n]!==void 0&&(e[n]=i[n]);i.setLineDash!==void 0&&(e.setLineDash(i.getLineDash()),e.lineDashOffset=i.lineDashOffset)}function oC(i){if(i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0),!Vr){let{filter:e}=i;e!=="none"&&e!==""&&(i.filter="none")}}function eH(i,e){if(e)return!0;let t=ni.singularValueDecompose2dScale(i);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);let n=Math.fround((globalThis.devicePixelRatio||1)*zu.PDF_TO_CSS_UNITS);return t[0]<=n&&t[1]<=n}var yde=["butt","round","square"],xde=["miter","round","bevel"],Cde={},tH={},ym=class i{constructor(e,t,n,o,r,{optionalContentConfig:s,markedContentStack:a=null},l,d){this.ctx=e,this.current=new SC(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=o,this.filterFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=s,this.cachedCanvases=new VT(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:o=null}){let r=this.ctx.canvas.width,s=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=o||"#ffffff",this.ctx.fillRect(0,0,r,s),this.ctx.fillStyle=a,n){let l=this.cachedCanvases.getCanvas("transparent",r,s);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...So(this.compositeCtx))}this.ctx.save(),oC(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=So(this.ctx)}executeOperatorList(e,t,n,o){let r=e.argsArray,s=e.fnArray,a=t||0,l=r.length;if(l===a)return a;let d=l-a>X6&&typeof n=="function",c=d?Date.now()+_de:0,u=0,h=this.commonObjs,f=this.objs,p;for(;;){if(o!==void 0&&a===o.nextBreakPoint)return o.breakIt(a,n),a;if(p=s[a],p!==ll.dependency)this[p].apply(this,r[a]);else for(let m of r[a]){let g=m.startsWith("g_")?h:f;if(!g.has(m))return g.get(m,n),a}if(a++,a===l)return a;if(d&&++u>X6){if(Date.now()>c)return n(),a;u=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(let e of this._cachedBitmapsMap.values()){for(let t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){let e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){let t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){let n=e.width,o=e.height,r=Math.max(Math.hypot(t[0],t[1]),1),s=Math.max(Math.hypot(t[2],t[3]),1),a=n,l=o,d="prescale1",c,u;for(;r>2&&a>1||s>2&&l>1;){let h=a,f=l;r>2&&a>1&&(h=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),r/=a/h),s>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,s/=l/f),c=this.cachedCanvases.getCanvas(d,h,f),u=c.context,u.clearRect(0,0,h,f),u.drawImage(e,0,0,a,l,0,0,h,f),e=c.canvas,a=h,l=f,d=d==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){let t=this.ctx,{width:n,height:o}=e,r=this.current.fillColor,s=this.current.patternFill,a=So(t),l,d,c,u;if((e.bitmap||e.data)&&e.count>1){let N=e.bitmap||e.data.buffer;d=JSON.stringify(s?a:[a.slice(0,4),r]),l=this._cachedBitmapsMap.get(N),l||(l=new Map,this._cachedBitmapsMap.set(N,l));let z=l.get(d);if(z&&!s){let V=Math.round(Math.min(a[0],a[2])+a[4]),S=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:z,offsetX:V,offsetY:S}}c=z}c||(u=this.cachedCanvases.getCanvas("maskCanvas",n,o),J6(u.context,e));let h=ni.transform(a,[1/n,0,0,-1/o,0,0]);h=ni.transform(h,[1,0,0,1,0,-o]);let[f,p,m,g]=ni.getAxialAlignedBoundingBox([0,0,n,o],h),b=Math.round(m-f)||1,x=Math.round(g-p)||1,E=this.cachedCanvases.getCanvas("fillCanvas",b,x),D=E.context,L=f,k=p;D.translate(-L,-k),D.transform(...h),c||(c=this._scaleImage(u.canvas,rc(D)),c=c.img,l&&s&&l.set(d,c)),D.imageSmoothingEnabled=eH(So(D),e.interpolate),nC(D,c,0,0,c.width,c.height,0,0,n,o),D.globalCompositeOperation="source-in";let R=ni.transform(rc(D),[1,0,0,1,-L,-k]);return D.fillStyle=s?r.getPattern(t,this,R,ss.FILL):r,D.fillRect(0,0,n,o),l&&!s&&(this.cachedCanvases.delete("fillCanvas"),l.set(d,E.canvas)),{canvas:E.canvas,offsetX:Math.round(L),offsetY:Math.round(k)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=yde[e]}setLineJoin(e){this.ctx.lineJoin=xde[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){let n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(let[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");let e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=o.context;let r=this.ctx;r.setTransform(...So(this.suspendedCtx)),M0(this.suspendedCtx,r),bde(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),M0(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,o){let r=o[0],s=o[1],a=o[2]-r,l=o[3]-s;a===0||l===0||(this.genericComposeSMask(t.context,n,a,l,t.subtype,t.backdrop,t.transferMap,r,s,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,o,r,s,a,l,d,c,u){let h=e.canvas,f=l-c,p=d-u;if(s){if(f<0||p<0||f+n>h.width||p+o>h.height){let g=this.cachedCanvases.getCanvas("maskExtension",n,o),b=g.context;b.drawImage(h,-f,-p),s.some(x=>x!==0)&&(b.globalCompositeOperation="destination-atop",b.fillStyle=ni.makeHexColor(...s),b.fillRect(0,0,n,o),b.globalCompositeOperation="source-over"),h=g.canvas,f=p=0}else if(s.some(g=>g!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);let g=new Path2D;g.rect(f,p,n,o),e.clip(g),e.globalCompositeOperation="destination-atop",e.fillStyle=ni.makeHexColor(...s),e.fillRect(f,p,n,o),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),r==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):r==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));let m=new Path2D;m.rect(l,d,n,o),t.clip(m),t.globalCompositeOperation="destination-in",t.drawImage(h,f,p,n,o,l,d,n,o),t.restore()}save(){this.inSMaskMode?(M0(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();let e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),M0(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,o,r,s){this.ctx.transform(e,t,n,o,r,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){let o=this.ctx,r=this.current,s=r.x,a=r.y,l,d,c=So(o),u=c[0]===0&&c[3]===0||c[1]===0&&c[2]===0,h=u?n.slice(0):null;for(let f=0,p=0,m=e.length;f<m;f++)switch(e[f]|0){case ll.rectangle:s=t[p++],a=t[p++];let g=t[p++],b=t[p++],x=s+g,E=a+b;o.moveTo(s,a),g===0||b===0?o.lineTo(x,E):(o.lineTo(x,a),o.lineTo(x,E),o.lineTo(s,E)),u||r.updateRectMinMax(c,[s,a,x,E]),o.closePath();break;case ll.moveTo:s=t[p++],a=t[p++],o.moveTo(s,a),u||r.updatePathMinMax(c,s,a);break;case ll.lineTo:s=t[p++],a=t[p++],o.lineTo(s,a),u||r.updatePathMinMax(c,s,a);break;case ll.curveTo:l=s,d=a,s=t[p+4],a=t[p+5],o.bezierCurveTo(t[p],t[p+1],t[p+2],t[p+3],s,a),r.updateCurvePathMinMax(c,l,d,t[p],t[p+1],t[p+2],t[p+3],s,a,h),p+=6;break;case ll.curveTo2:l=s,d=a,o.bezierCurveTo(s,a,t[p],t[p+1],t[p+2],t[p+3]),r.updateCurvePathMinMax(c,l,d,s,a,t[p],t[p+1],t[p+2],t[p+3],h),s=t[p+2],a=t[p+3],p+=4;break;case ll.curveTo3:l=s,d=a,s=t[p+2],a=t[p+3],o.bezierCurveTo(t[p],t[p+1],s,a,s,a),r.updateCurvePathMinMax(c,l,d,t[p],t[p+1],s,a,s,a,h),p+=4;break;case ll.closePath:o.closePath();break}u&&r.updateScalingPathMinMax(c,h),r.setCurrentPoint(s,a)}closePath(){this.ctx.closePath()}stroke(e=!0){let t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&n?.getPattern?(t.save(),t.strokeStyle=n.getPattern(t,this,rc(t),ss.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){let t=this.ctx,n=this.current.fillColor,o=this.current.patternFill,r=!1;o&&(t.save(),t.fillStyle=n.getPattern(t,this,rc(t),ss.FILL),r=!0);let s=this.current.getClippedPathBoundingBox();this.contentVisible&&s!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),r&&t.restore(),e&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Cde}eoClip(){this.pendingClip=tH}beginText(){this.current.textMatrix=oH,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){let e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(let n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){let n=this.commonObjs.get(e),o=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(o.fontMatrix=n.fontMatrix||mT,(o.fontMatrix[0]===0||o.fontMatrix[3]===0)&&an("Invalid font matrix for font "+e),t<0?(t=-t,o.fontDirection=-1):o.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;let r=n.loadedName||"sans-serif",s=n.systemFontInfo?.css||`"${r}", ${n.fallbackName}`,a="normal";n.black?a="900":n.bold&&(a="bold");let l=n.italic?"italic":"normal",d=t;t<q6?d=q6:t>Y6&&(d=Y6),this.current.fontSizeScale=t/d,this.ctx.font=`${l} ${a} ${d}px ${s}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,o,r,s){this.current.textMatrix=[e,t,n,o,r,s],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,o){let r=this.ctx,s=this.current,a=s.font,l=s.textRenderingMode,d=s.fontSize/s.fontSizeScale,c=l&Br.FILL_STROKE_MASK,u=!!(l&Br.ADD_TO_PATH_FLAG),h=s.patternFill&&!a.missingFile,f;(a.disableFontFace||u||h)&&(f=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||h?(r.save(),r.translate(t,n),r.beginPath(),f(r,d),o&&r.setTransform(...o),(c===Br.FILL||c===Br.FILL_STROKE)&&r.fill(),(c===Br.STROKE||c===Br.FILL_STROKE)&&r.stroke(),r.restore()):((c===Br.FILL||c===Br.FILL_STROKE)&&r.fillText(e,t,n),(c===Br.STROKE||c===Br.FILL_STROKE)&&r.strokeText(e,t,n)),u&&(this.pendingTextPaths||=[]).push({transform:So(r),x:t,y:n,fontSize:d,addToPath:f})}get isFontSubpixelAAEnabled(){let{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);let t=e.getImageData(0,0,10,10).data,n=!1;for(let o=3;o<t.length;o+=4)if(t[o]>0&&t[o]<255){n=!0;break}return yn(this,"isFontSubpixelAAEnabled",n)}showText(e){let t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);let o=t.fontSize;if(o===0)return;let r=this.ctx,s=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,d=t.fontDirection,c=t.textHScale*d,u=e.length,h=n.vertical,f=h?1:-1,p=n.defaultVMetrics,m=o*t.fontMatrix[0],g=t.textRenderingMode===Br.FILL&&!n.disableFontFace&&!t.patternFill;r.save(),r.transform(...t.textMatrix),r.translate(t.x,t.y+t.textRise),d>0?r.scale(c,-1):r.scale(c,1);let b;if(t.patternFill){r.save();let k=t.fillColor.getPattern(r,this,rc(r),ss.FILL);b=So(r),r.restore(),r.fillStyle=k}let x=t.lineWidth,E=t.textMatrixScale;if(E===0||x===0){let k=t.textRenderingMode&Br.FILL_STROKE_MASK;(k===Br.STROKE||k===Br.FILL_STROKE)&&(x=this.getSinglePixelWidth())}else x/=E;if(s!==1&&(r.scale(s,s),x/=s),r.lineWidth=x,n.isInvalidPDFjsFont){let k=[],R=0;for(let N of e)k.push(N.unicode),R+=N.width;r.fillText(k.join(""),0,0),t.x+=R*m*c,r.restore(),this.compose();return}let D=0,L;for(L=0;L<u;++L){let k=e[L];if(typeof k=="number"){D+=f*k*o/1e3;continue}let R=!1,N=(k.isSpace?l:0)+a,z=k.fontChar,V=k.accent,S,T,B=k.width;if(h){let v=k.vmetric||p,C=-(k.vmetric?v[1]:B*.5)*m,y=v[2]*m;B=v?-v[0]:B,S=C/s,T=(D+y)/s}else S=D/s,T=0;if(n.remeasure&&B>0){let v=r.measureText(z).width*1e3/o*s;if(B<v&&this.isFontSubpixelAAEnabled){let C=B/v;R=!0,r.save(),r.scale(C,1),S/=C}else B!==v&&(S+=(B-v)/2e3*o/s)}if(this.contentVisible&&(k.isInFont||n.missingFile)){if(g&&!V)r.fillText(z,S,T);else if(this.paintChar(z,S,T,b),V){let v=S+o*V.offset.x/s,C=T-o*V.offset.y/s;this.paintChar(V.fontChar,v,C,b)}}let _=h?B*m-N*d:B*m+N*d;D+=_,R&&r.restore()}h?t.y-=D:t.x+=D*c,r.restore(),this.compose()}showType3Text(e){let t=this.ctx,n=this.current,o=n.font,r=n.fontSize,s=n.fontDirection,a=o.vertical?1:-1,l=n.charSpacing,d=n.wordSpacing,c=n.textHScale*s,u=n.fontMatrix||mT,h=e.length,f=n.textRenderingMode===Br.INVISIBLE,p,m,g,b;if(!(f||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(c,s),p=0;p<h;++p){if(m=e[p],typeof m=="number"){b=a*m*r/1e3,this.ctx.translate(b,0),n.x+=b*c;continue}let x=(m.isSpace?d:0)+l,E=o.charProcOperatorList[m.operatorListId];if(!E){an(`Type3 character "${m.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=m,this.save(),t.scale(r,r),t.transform(...u),this.executeOperatorList(E),this.restore()),g=ni.applyTransform([m.width,0],u)[0]*r+x,t.translate(g,0),n.x+=g*c}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,o,r,s){this.ctx.rect(n,o,r-n,s-o),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){let n=e[1],o=this.baseTransform||So(this.ctx),r={createCanvasGraphics:s=>new i(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new mde(e,n,this.ctx,r,o)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){this.ctx.strokeStyle=this.current.strokeColor=ni.makeHexColor(e,t,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,n){this.ctx.fillStyle=this.current.fillColor=ni.makeHexColor(e,t,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=fde(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;let t=this.ctx;this.save();let n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,rc(t),ss.SHADING);let o=rc(t);if(o){let{width:r,height:s}=t.canvas,[a,l,d,c]=ni.getAxialAlignedBoundingBox([0,0,r,s],o);this.ctx.fillRect(a,l,d-a,c-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){qn("Should not call beginInlineImage")}beginImageData(){qn("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=So(this.ctx),t)){let n=t[2]-t[0],o=t[3]-t[1];this.ctx.rect(t[0],t[1],n,o),this.current.updateRectMinMax(So(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let t=this.ctx;e.isolated||GC("TODO: Support non-isolated groups."),e.knockout&&an("Knockout groups not supported.");let n=So(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let o=ni.getAxialAlignedBoundingBox(e.bbox,So(t)),r=[0,0,t.canvas.width,t.canvas.height];o=ni.intersect(o,r)||[0,0,0,0];let s=Math.floor(o[0]),a=Math.floor(o[1]),l=Math.max(Math.ceil(o[2])-s,1),d=Math.max(Math.ceil(o[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,d]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);let u=this.cachedCanvases.getCanvas(c,l,d),h=u.context;h.translate(-s,-a),h.transform(...n),e.smask?this.smaskStack.push({canvas:u.canvas,context:h,offsetX:s,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(s,a),t.save()),M0(t,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;let t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();let o=So(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...o);let r=ni.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],o);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(e,t,n,o,r){if(this.#e(),oC(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){let s=t[2]-t[0],a=t[3]-t[1];if(r&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=s,t[3]=a;let[l,d]=ni.singularValueDecompose2dScale(So(this.ctx)),{viewportScale:c}=this,u=Math.ceil(s*this.outputScaleX*c),h=Math.ceil(a*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(u,h);let{canvas:f,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(e,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(l,0,0,-d,0,a*d),oC(this.ctx)}else oC(this.ctx),this.ctx.rect(t[0],t[1],s,a),this.ctx.clip(),this.endPath()}this.current=new SC(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...o)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;let t=e.count;e=this.getObject(e.data,e),e.count=t;let n=this.ctx,o=this.processingType3;if(o&&(o.compiled===void 0&&(o.compiled=vde(e)),o.compiled)){o.compiled(n);return}let r=this._createMaskCanvas(e),s=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(s,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,o=0,r,s){if(!this.contentVisible)return;e=this.getObject(e.data,e);let a=this.ctx;a.save();let l=So(a);a.transform(t,n,o,r,0,0);let d=this._createMaskCanvas(e);a.setTransform(1,0,0,1,d.offsetX-l[4],d.offsetY-l[5]);for(let c=0,u=s.length;c<u;c+=2){let h=ni.transform(l,[t,n,o,r,s[c],s[c+1]]),[f,p]=ni.applyTransform([0,0],h);a.drawImage(d.canvas,f,p)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;let t=this.ctx,n=this.current.fillColor,o=this.current.patternFill;for(let r of e){let{data:s,width:a,height:l,transform:d}=r,c=this.cachedCanvases.getCanvas("maskCanvas",a,l),u=c.context;u.save();let h=this.getObject(s,r);J6(u,h),u.globalCompositeOperation="source-in",u.fillStyle=o?n.getPattern(u,this,rc(t),ss.FILL):n,u.fillRect(0,0,a,l),u.restore(),t.save(),t.transform(...d),t.scale(1,-1),nC(t,c.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;let t=this.getObject(e);if(!t){an("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,o){if(!this.contentVisible)return;let r=this.getObject(e);if(!r){an("Dependent image isn't ready yet");return}let s=r.width,a=r.height,l=[];for(let d=0,c=o.length;d<c;d+=2)l.push({transform:[t,0,0,n,o[d],o[d+1]],x:0,y:0,w:s,h:a});this.paintInlineImageXObjectGroup(r,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;let{bitmap:t,width:n,height:o}=e,r=this.cachedCanvases.getCanvas("inlineImage",n,o),s=r.context;return s.filter=this.current.transferMaps,s.drawImage(t,0,0),s.filter="none",r.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;let t=e.width,n=e.height,o=this.ctx;if(this.save(),!Vr){let{filter:a}=o;a!=="none"&&a!==""&&(o.filter="none")}o.scale(1/t,-1/n);let r;if(e.bitmap)r=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)r=e;else{let l=this.cachedCanvases.getCanvas("inlineImage",t,n).context;Q6(l,e),r=this.applyTransferMapsToCanvas(l)}let s=this._scaleImage(r,rc(o));o.imageSmoothingEnabled=eH(So(o),e.interpolate),nC(o,s.img,0,0,s.paintWidth,s.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;let n=this.ctx,o;if(e.bitmap)o=e.bitmap;else{let r=e.width,s=e.height,l=this.cachedCanvases.getCanvas("inlineImage",r,s).context;Q6(l,e),o=this.applyTransferMapsToCanvas(l)}for(let r of t)n.save(),n.transform(...r.transform),n.scale(1,-1),nC(n,o,r.x,r.y,r.w,r.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){let t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);let n=this.ctx;this.pendingClip&&(t||(this.pendingClip===tH?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let e=So(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{let t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),o=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,o)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){let{lineWidth:e}=this.current,{a:t,b:n,c:o,d:r}=this.ctx.getTransform(),s,a;if(n===0&&o===0){let l=Math.abs(t),d=Math.abs(r);if(l===d)if(e===0)s=a=1/l;else{let c=l*e;s=a=c<1?1/c:1}else if(e===0)s=1/l,a=1/d;else{let c=l*e,u=d*e;s=c<1?1/c:1,a=u<1?1/u:1}}else{let l=Math.abs(t*r-n*o),d=Math.hypot(t,n),c=Math.hypot(o,r);if(e===0)s=c/l,a=d/l;else{let u=e*l;s=c>u?c/u:1,a=d>u?d/u:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){let{ctx:t}=this,{lineWidth:n}=this.current,[o,r]=this.getScaleForStroking();if(t.lineWidth=n||1,o===1&&r===1){t.stroke();return}let s=t.getLineDash();if(e&&t.save(),t.scale(o,r),s.length>0){let a=Math.max(o,r);t.setLineDash(s.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};for(let i in ll)ym.prototype[i]!==void 0&&(ym.prototype[ll[i]]=ym.prototype[i]);var Ip=class{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}},rC={UNKNOWN:0,DATA:1,ERROR:2},ir={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ys(i){switch(i instanceof Error||typeof i=="object"&&i!==null||qn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new cc(i.message);case"MissingPDFException":return new dc(i.message);case"PasswordException":return new L0(i.message,i.code);case"UnexpectedResponseException":return new Cm(i.message,i.status);case"UnknownErrorException":return new N0(i.message,i.details);default:return new N0(i.message,i.toString())}}var Sp=class{constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=o=>{let r=o.data;if(r.targetName!==this.sourceName)return;if(r.stream){this.#t(r);return}if(r.callback){let a=r.callbackId,l=this.callbackCapabilities[a];if(!l)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],r.callback===rC.DATA)l.resolve(r.data);else if(r.callback===rC.ERROR)l.reject(Ys(r.reason));else throw new Error("Unexpected callback case");return}let s=this.actionHandler[r.action];if(!s)throw new Error(`Unknown action from worker: ${r.action}`);if(r.callbackId){let a=this.sourceName,l=r.sourceName;new Promise(function(d){d(s(r.data))}).then(function(d){n.postMessage({sourceName:a,targetName:l,callback:rC.DATA,callbackId:r.callbackId,data:d})},function(d){n.postMessage({sourceName:a,targetName:l,callback:rC.ERROR,callbackId:r.callbackId,reason:Ys(d)})});return}if(r.streamId){this.#e(r);return}s(r.data)},n.addEventListener("message",this._onComObjOnMessage)}on(e,t){let n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){let o=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[o]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:o,data:t},n)}catch(s){r.reject(s)}return r.promise}sendWithStream(e,t,n,o){let r=this.streamId++,s=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:d=>{let c=Promise.withResolvers();return this.streamControllers[r]={controller:d,startCall:c,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:s,targetName:a,action:e,streamId:r,data:t,desiredSize:d.desiredSize},o),c.promise},pull:d=>{let c=Promise.withResolvers();return this.streamControllers[r].pullCall=c,l.postMessage({sourceName:s,targetName:a,stream:ir.PULL,streamId:r,desiredSize:d.desiredSize}),c.promise},cancel:d=>{fr(d instanceof Error,"cancel must have a valid reason");let c=Promise.withResolvers();return this.streamControllers[r].cancelCall=c,this.streamControllers[r].isClosed=!0,l.postMessage({sourceName:s,targetName:a,stream:ir.CANCEL,streamId:r,reason:Ys(d)}),c.promise}},n)}#e(e){let t=e.streamId,n=this.sourceName,o=e.sourceName,r=this.comObj,s=this,a=this.actionHandler[e.action],l={enqueue(d,c=1,u){if(this.isCancelled)return;let h=this.desiredSize;this.desiredSize-=c,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:n,targetName:o,stream:ir.ENQUEUE,streamId:t,chunk:d},u)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:o,stream:ir.CLOSE,streamId:t}),delete s.streamSinks[t])},error(d){fr(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:o,stream:ir.ERROR,streamId:t,reason:Ys(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(d){d(a(e.data,l))}).then(function(){r.postMessage({sourceName:n,targetName:o,stream:ir.START_COMPLETE,streamId:t,success:!0})},function(d){r.postMessage({sourceName:n,targetName:o,stream:ir.START_COMPLETE,streamId:t,reason:Ys(d)})})}#t(e){let t=e.streamId,n=this.sourceName,o=e.sourceName,r=this.comObj,s=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case ir.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(Ys(e.reason));break;case ir.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(Ys(e.reason));break;case ir.PULL:if(!a){r.postMessage({sourceName:n,targetName:o,stream:ir.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){l(a.onPull?.())}).then(function(){r.postMessage({sourceName:n,targetName:o,stream:ir.PULL_COMPLETE,streamId:t,success:!0})},function(l){r.postMessage({sourceName:n,targetName:o,stream:ir.PULL_COMPLETE,streamId:t,reason:Ys(l)})});break;case ir.ENQUEUE:if(fr(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case ir.CLOSE:if(fr(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),this.#i(s,t);break;case ir.ERROR:fr(s,"error should have stream controller"),s.controller.error(Ys(e.reason)),this.#i(s,t);break;case ir.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(Ys(e.reason)),this.#i(s,t);break;case ir.CANCEL:if(!a)break;new Promise(function(l){l(a.onCancel?.(Ys(e.reason)))}).then(function(){r.postMessage({sourceName:n,targetName:o,stream:ir.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){r.postMessage({sourceName:n,targetName:o,stream:ir.CANCEL_COMPLETE,streamId:t,reason:Ys(l)})}),a.sinkCapability.reject(Ys(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}#i(e,t){return ze(this,null,function*(){yield Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]})}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}},HT=class{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}getAll(){return FA(this.#e)}has(e){return this.#e.has(e)}},Vu=Symbol("INTERNAL"),zT=class{#e=!1;#t=!1;#i=!1;#o=!0;constructor(e,{name:t,intent:n,usage:o}){this.#e=!!(e&Xs.DISPLAY),this.#t=!!(e&Xs.PRINT),this.name=t,this.intent=n,this.usage=o}get visible(){if(this.#i)return this.#o;if(!this.#o)return!1;let{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,n=!1){e!==Vu&&qn("Internal method `_setVisible` called."),this.#i=n,this.#o=t}},jT=class{#e=null;#t=new Map;#i=null;#o=null;constructor(e,t=Xs.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#o=e.order;for(let n of e.groups)this.#t.set(n.id,new zT(t,n));if(e.baseState==="OFF")for(let n of this.#t.values())n._setVisible(Vu,!1);for(let n of e.on)this.#t.get(n)._setVisible(Vu,!0);for(let n of e.off)this.#t.get(n)._setVisible(Vu,!1);this.#i=this.getHash()}}#r(e){let t=e.length;if(t<2)return!0;let n=e[0];for(let o=1;o<t;o++){let r=e[o],s;if(Array.isArray(r))s=this.#r(r);else if(this.#t.has(r))s=this.#t.get(r).visible;else return an(`Optional content group not found: ${r}`),!0;switch(n){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return n==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return GC("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(an(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#r(e.expression);if(!e.policy||e.policy==="AnyOn"){for(let t of e.ids){if(!this.#t.has(t))return an(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(let t of e.ids){if(!this.#t.has(t))return an(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(let t of e.ids){if(!this.#t.has(t))return an(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(let t of e.ids){if(!this.#t.has(t))return an(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return an(`Unknown optional content policy ${e.policy}.`),!0}return an(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){let n=this.#t.get(e);if(!n){an(`Optional content group not found: ${e}`);return}n._setVisible(Vu,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let n;for(let o of e){switch(o){case"ON":case"OFF":case"Toggle":n=o;continue}let r=this.#t.get(o);if(r)switch(n){case"ON":r._setVisible(Vu,!0);break;case"OFF":r._setVisible(Vu,!1);break;case"Toggle":r._setVisible(Vu,!r.visible);break}}this.#e=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#t.size?this.#o?this.#o.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?FA(this.#t):null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;let e=new CC;for(let[t,n]of this.#t)e.update(`${t}:${n.visible}`);return this.#e=e.hexdigest()}},$T=class{constructor(e,{disableRange:t=!1,disableStream:n=!1}){fr(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');let{length:o,initialData:r,progressiveDone:s,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=a,r?.length>0){let l=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=o,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,d)=>{this._onReceiveData({begin:l,chunk:d})}),e.addProgressListener((l,d)=>{this._onProgress({loaded:l,total:d})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){let n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{let o=this._rangeReaders.some(function(r){return r._begin!==e?!1:(r._enqueue(n),!0)});fr(o,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){let t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){fr(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let e=this._queuedChunks;return this._queuedChunks=null,new WT(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;let n=new UT(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}},WT=class{constructor(e,t,n=!1,o=null){this._stream=e,this._done=n||!1,this._filename=PA(o)?o:null,this._queuedChunks=t||[],this._loaded=0;for(let r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){return ze(this,null,function*(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0;for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}},UT=class{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(let n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){return ze(this,null,function*(){if(this._queuedChunk){let t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0;for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}};function wde(i){let e=!0,t=n("filename\\*","i").exec(i);if(t){t=t[1];let c=a(t);return c=unescape(c),c=l(c),c=d(c),r(c)}if(t=s(i),t){let c=d(t);return r(c)}if(t=n("filename","i").exec(i),t){t=t[1];let c=a(t);return c=d(c),r(c)}function n(c,u){return new RegExp("(?:^|;)\\s*"+c+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',u)}function o(c,u){if(c){if(!/^[\x00-\xFF]+$/.test(u))return u;try{let h=new TextDecoder(c,{fatal:!0}),f=KC(u);u=h.decode(f),e=!1}catch{}}return u}function r(c){return e&&/[\x80-\xff]/.test(c)&&(c=o("utf-8",c),e&&(c=o("iso-8859-1",c))),c}function s(c){let u=[],h,f=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=f.exec(c))!==null;){let[,m,g,b]=h;if(m=parseInt(m,10),m in u){if(m===0)break;continue}u[m]=[g,b]}let p=[];for(let m=0;m<u.length&&m in u;++m){let[g,b]=u[m];b=a(b),g&&(b=unescape(b),m===0&&(b=l(b))),p.push(b)}return p.join("")}function a(c){if(c.startsWith('"')){let u=c.slice(1).split('\\"');for(let h=0;h<u.length;++h){let f=u[h].indexOf('"');f!==-1&&(u[h]=u[h].slice(0,f),u.length=h+1),u[h]=u[h].replaceAll(/\\(.)/g,"$1")}c=u.join('"')}return c}function l(c){let u=c.indexOf("'");if(u===-1)return c;let h=c.slice(0,u),p=c.slice(u+1).replace(/^[^']*'/,"");return o(h,p)}function d(c){return!c.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(c)?c:c.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(u,h,f,p){if(f==="q"||f==="Q")return p=p.replaceAll("_"," "),p=p.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,g){return String.fromCharCode(parseInt(g,16))}),o(h,p);try{p=atob(p)}catch{}return o(h,p)})}return""}function NA({getResponseHeader:i,isHttp:e,rangeChunkSize:t,disableRange:n}){let o={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(i("Content-Length"),10);return!Number.isInteger(r)||(o.suggestedLength=r,r<=2*t)||n||!e||i("Accept-Ranges")!=="bytes"||(i("Content-Encoding")||"identity")!=="identity"||(o.allowRangeRequests=!0),o}function BA(i){let e=i("Content-Disposition");if(e){let t=wde(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(PA(t))return t}return null}function XC(i,e){return i===404||i===0&&e.startsWith("file:")?new dc('Missing PDF "'+e+'".'):new Cm(`Unexpected server response (${i}) while retrieving PDF "${e}".`,i)}function lH(i){return i===200||i===206}function dH(i,e,t){return{method:"GET",headers:i,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function cH(i){let e=new Headers;for(let t in i){let n=i[t];n!==void 0&&e.append(t,n)}return e}function uH(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(an(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}var EC=class{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return fr(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new GT(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;let n=new KT(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeRequestReaders.slice(0))t.cancel(e)}},GT=class{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;let t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=cH(this._stream.httpHeaders);let n=t.url;fetch(n,dH(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!lH(o.status))throw XC(o.status,n);this._reader=o.body.getReader(),this._headersCapability.resolve();let r=l=>o.headers.get(l),{allowRangeRequests:s,suggestedLength:a}=NA({getResponseHeader:r,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=BA(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new cc("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return ze(this,null,function*(){yield this._headersCapability.promise;let{value:e,done:t}=yield this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:uH(e),done:!1})})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}},KT=class{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;let o=e.source;this._withCredentials=o.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!o.disableStream,this._abortController=new AbortController,this._headers=cH(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${n-1}`);let r=o.url;fetch(r,dH(this._headers,this._withCredentials,this._abortController)).then(s=>{if(!lH(s.status))throw XC(s.status,r);this._readCapability.resolve(),this._reader=s.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){return ze(this,null,function*(){yield this._readCapability.promise;let{value:e,done:t}=yield this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:uH(e),done:!1})})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}},pT=200,fT=206;function Sde(i){let e=i.response;return typeof e!="string"?e:KC(e).buffer}var qT=class{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){let o={begin:e,end:t};for(let r in n)o[r]=n[r];return this.request(o)}requestFull(e){return this.request(e)}request(e){let t=new XMLHttpRequest,n=this.currXhrId++,o=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(let r in this.httpHeaders){let s=this.httpHeaders[r];s!==void 0&&t.setRequestHeader(r,s)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),o.expectedStatus=fT):o.expectedStatus=pT,t.responseType="arraybuffer",e.onError&&(t.onerror=function(r){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),o.onHeadersReceived=e.onHeadersReceived,o.onDone=e.onDone,o.onError=e.onError,o.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){let n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){let n=this.pendingRequests[e];if(!n)return;let o=n.xhr;if(o.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),o.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],o.status===0&&this.isHttp){n.onError?.(o.status);return}let r=o.status||pT;if(!(r===pT&&n.expectedStatus===fT)&&r!==n.expectedStatus){n.onError?.(o.status);return}let a=Sde(o);if(r===fT){let l=o.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);n.onDone({begin:parseInt(d[1],10),chunk:a})}else a?n.onDone({begin:0,chunk:a}):n.onError?.(o.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){let t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}},YT=class{constructor(e){this._source=e,this._manager=new qT(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){let t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return fr(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new XT(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){let n=new ZT(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeRequestReaders.slice(0))t.cancel(e)}},XT=class{constructor(e,t){this._manager=e;let n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=s=>t.getResponseHeader(s),{allowRangeRequests:o,suggestedLength:r}=NA({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=BA(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=XC(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(let t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){return ze(this,null,function*(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},ZT=class{constructor(e,t,n){this._manager=e;let o={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,o),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){let t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(let n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=XC(e,this._url);for(let t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}read(){return ze(this,null,function*(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){let t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0;for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},hH=/^file:\/\/\/[a-zA-Z]:\//;function Ede(i){let e=va.get("url"),t=e.parse(i);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(i)?e.parse(`file:///${i}`):(t.host||(t.protocol="file:"),t)}var QT=class{constructor(e){this.source=e,this.url=Ede(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return fr(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new tA(this):new JT(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;let n=this.isFsUrl?new iA(this,e,t):new eA(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeRequestReaders.slice(0))t.cancel(e)}},OC=class{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;let t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return ze(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new cc("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},IC=class{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();let t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){return ze(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}};function DC(i,e){return{protocol:i.protocol,auth:i.auth,host:i.hostname,port:i.port,path:i.path,method:"GET",headers:e}}var JT=class extends OC{constructor(e){super(e);let t=n=>{if(n.statusCode===404){let a=new dc(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(n);let o=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:r,suggestedLength:s}=NA({getResponseHeader:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=s||this._contentLength,this._filename=BA(o)};if(this._request=null,this._url.protocol==="http:"){let n=va.get("http");this._request=n.request(DC(this._url,e.httpHeaders),t)}else{let n=va.get("https");this._request=n.request(DC(this._url,e.httpHeaders),t)}this._request.on("error",n=>{this._storedError=n,this._headersCapability.reject(n)}),this._request.end()}},eA=class extends IC{constructor(e,t,n){super(e),this._httpHeaders={};for(let r in e.httpHeaders){let s=e.httpHeaders[r];s!==void 0&&(this._httpHeaders[r]=s)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;let o=r=>{if(r.statusCode===404){let s=new dc(`Missing PDF "${this._url}".`);this._storedError=s;return}this._setReadableStream(r)};if(this._request=null,this._url.protocol==="http:"){let r=va.get("http");this._request=r.request(DC(this._url,this._httpHeaders),o)}else{let r=va.get("https");this._request=r.request(DC(this._url,this._httpHeaders),o)}this._request.on("error",r=>{this._storedError=r}),this._request.end()}},tA=class extends OC{constructor(e){super(e);let t=decodeURIComponent(this._url.path);hH.test(this._url.href)&&(t=t.replace(/^\//,""));let n=va.get("fs");n.promises.lstat(t).then(o=>{this._contentLength=o.size,this._setReadableStream(n.createReadStream(t)),this._headersCapability.resolve()},o=>{o.code==="ENOENT"&&(o=new dc(`Missing PDF "${t}".`)),this._storedError=o,this._headersCapability.reject(o)})}},iA=class extends IC{constructor(e,t,n){super(e);let o=decodeURIComponent(this._url.path);hH.test(this._url.href)&&(o=o.replace(/^\//,""));let r=va.get("fs");this._setReadableStream(r.createReadStream(o,{start:t,end:n-1}))}},Ode=1e5,As=30,Ide=.8,W0=class i{#e=Promise.withResolvers();#t=null;#i=!1;#o=!!globalThis.FontInspector?.enabled;#r=null;#n=null;#s=0;#l=0;#h=null;#d=null;#u=0;#c=0;#a=Object.create(null);#f=[];#m=null;#p=[];#g=new WeakMap;#_=null;static#b=new Map;static#y=new Map;static#C=null;static#w=new Set;constructor({textContentSource:e,container:t,viewport:n}){if(e instanceof ReadableStream)this.#m=e;else if(typeof e=="object")this.#m=new ReadableStream({start(l){l.enqueue(e),l.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#d=t,this.#c=n.scale*(globalThis.devicePixelRatio||1),this.#u=n.rotation,this.#n={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null};let{pageWidth:o,pageHeight:r,pageX:s,pageY:a}=n.rawDims;this.#_=[1,0,0,-1,-s,a+r],this.#l=o,this.#s=r,i.#x(),Ep(t,n),this.#e.promise.catch(()=>{}).then(()=>{i.#w.delete(this),this.#n=null,this.#a=null})}render(){let e=()=>{this.#h.read().then(({value:t,done:n})=>{if(n){this.#e.resolve();return}this.#r??=t.lang,Object.assign(this.#a,t.styles),this.#S(t.items),e()},this.#e.reject)};return this.#h=this.#m.getReader(),i.#w.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){let n=e.scale*(globalThis.devicePixelRatio||1),o=e.rotation;if(o!==this.#u&&(t?.(),this.#u=o,Ep(this.#d,{rotation:o})),n!==this.#c){t?.(),this.#c=n;let r={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:i.#E(this.#r)};for(let s of this.#p)r.properties=this.#g.get(s),r.div=s,this.#A(r)}}cancel(){let e=new cc("TextLayer task cancelled.");this.#h?.cancel(e).catch(()=>{}),this.#h=null,this.#e.reject(e)}get textDivs(){return this.#p}get textContentItemsStr(){return this.#f}#S(e){if(this.#i)return;this.#n.ctx??=i.#E(this.#r);let t=this.#p,n=this.#f;for(let o of e){if(t.length>Ode){an("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){let r=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),o.id!==null&&this.#t.setAttribute("id",`${o.id}`),r.append(this.#t)}else o.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}n.push(o.str),this.#O(o)}}#O(e){let t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#p.push(t);let o=ni.transform(this.#_,e.transform),r=Math.atan2(o[1],o[0]),s=this.#a[e.fontName];s.vertical&&(r+=Math.PI/2);let a=this.#o&&s.fontSubstitution||s.fontFamily,l=Math.hypot(o[2],o[3]),d=l*i.#v(a,this.#r),c,u;r===0?(c=o[4],u=o[5]-d):(c=o[4]+d*Math.sin(r),u=o[5]-d*Math.cos(r));let h="calc(var(--scale-factor)*",f=t.style;this.#t===this.#d?(f.left=`${(100*c/this.#l).toFixed(2)}%`,f.top=`${(100*u/this.#s).toFixed(2)}%`):(f.left=`${h}${c.toFixed(2)}px)`,f.top=`${h}${u.toFixed(2)}px)`),f.fontSize=`${h}${(i.#C*l).toFixed(2)}px)`,f.fontFamily=a,n.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#o&&(t.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),r!==0&&(n.angle=r*(180/Math.PI));let p=!1;if(e.str.length>1)p=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){let m=Math.abs(e.transform[0]),g=Math.abs(e.transform[3]);m!==g&&Math.max(m,g)/Math.min(m,g)>1.5&&(p=!0)}if(p&&(n.canvasWidth=s.vertical?e.height:e.width),this.#g.set(t,n),this.#n.div=t,this.#n.properties=n,this.#A(this.#n),n.hasText&&this.#t.append(t),n.hasEOL){let m=document.createElement("br");m.setAttribute("role","presentation"),this.#t.append(m)}}#A(e){let{div:t,properties:n,ctx:o,prevFontSize:r,prevFontFamily:s}=e,{style:a}=t,l="";if(i.#C>1&&(l=`scale(${1/i.#C})`),n.canvasWidth!==0&&n.hasText){let{fontFamily:d}=a,{canvasWidth:c,fontSize:u}=n;(r!==u||s!==d)&&(o.font=`${u*this.#c}px ${d}`,e.prevFontSize=u,e.prevFontFamily=d);let{width:h}=o.measureText(t.textContent);h>0&&(l=`scaleX(${c*this.#c/h}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(a.transform=l)}static cleanup(){if(!(this.#w.size>0)){this.#b.clear();for(let{canvas:e}of this.#y.values())e.remove();this.#y.clear()}}static#E(e=null){let t=this.#y.get(e||="");if(!t){let n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#y.set(e,t)}return t}static#x(){if(this.#C!==null)return;let e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#C=e.getBoundingClientRect().height,e.remove()}static#v(e,t){let n=this.#b.get(e);if(n)return n;let o=this.#E(t),r=o.font;o.canvas.width=o.canvas.height=As,o.font=`${As}px ${e}`;let s=o.measureText(""),a=s.fontBoundingBoxAscent,l=Math.abs(s.fontBoundingBoxDescent);if(a){let u=a/(a+l);return this.#b.set(e,u),o.canvas.width=o.canvas.height=0,o.font=r,u}o.strokeStyle="red",o.clearRect(0,0,As,As),o.strokeText("g",0,0);let d=o.getImageData(0,0,As,As).data;l=0;for(let u=d.length-1-3;u>=0;u-=4)if(d[u]>0){l=Math.ceil(u/4/As);break}o.clearRect(0,0,As,As),o.strokeText("A",0,As),d=o.getImageData(0,0,As,As).data,a=0;for(let u=0,h=d.length;u<h;u+=4)if(d[u]>0){a=As-Math.floor(u/4/As);break}o.canvas.width=o.canvas.height=0,o.font=r;let c=a?a/(a+l):Ide;return this.#b.set(e,c),c}},U0=class i{static textContent(e){let t=[],n={items:t,styles:Object.create(null)};function o(r){if(!r)return;let s=null,a=r.name;if(a==="#text")s=r.value;else if(i.shouldBuildText(a))r?.attributes?.textContent?s=r.attributes.textContent:r.value&&(s=r.value);else return;if(s!==null&&t.push({str:s}),!!r.children)for(let l of r.children)o(l)}return o(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}},Dde=65536,Tde=100,Ade=5e3,kde=Vr?MT:yT,Mde=Vr?RT:_C,Rde=Vr?kT:vT,Fde=Vr?FT:bC;function Pde(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});let e=new nA,{docId:t}=e,n=i.url?Lde(i.url):null,o=i.data?Nde(i.data):null,r=i.httpHeaders||null,s=i.withCredentials===!0,a=i.password??null,l=i.range instanceof TC?i.range:null,d=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:Dde,c=i.worker instanceof xm?i.worker:null,u=i.verbosity,h=typeof i.docBaseUrl=="string"&&!YC(i.docBaseUrl)?i.docBaseUrl:null,f=typeof i.cMapUrl=="string"?i.cMapUrl:null,p=i.cMapPacked!==!1,m=i.CMapReaderFactory||Mde,g=typeof i.standardFontDataUrl=="string"?i.standardFontDataUrl:null,b=i.StandardFontDataFactory||Fde,x=i.stopAtErrors!==!0,E=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,D=i.isEvalSupported!==!1,L=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!Vr,k=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,R=typeof i.disableFontFace=="boolean"?i.disableFontFace:Vr,N=i.fontExtraProperties===!0,z=i.enableXfa===!0,V=i.ownerDocument||globalThis.document,S=i.disableRange===!0,T=i.disableStream===!0,B=i.disableAutoFetch===!0,_=i.pdfBug===!0,v=i.enableHWA===!0,C=l?l.length:i.length??NaN,y=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!Vr&&!R,w=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:m===_C&&b===bC&&f&&g&&F0(f,document.baseURI)&&F0(g,document.baseURI),O=i.canvasFactory||new kde({ownerDocument:V,enableHWA:v}),P=i.filterFactory||new Rde({docId:t,ownerDocument:V}),W=null;Qle(u);let G={canvasFactory:O,filterFactory:P};if(w||(G.cMapReaderFactory=new m({baseUrl:f,isCompressed:p}),G.standardFontDataFactory=new b({baseUrl:g})),!c){let Y={verbosity:u,port:Ip.workerPort};c=Y.port?xm.fromPort(Y):new xm(Y),e._worker=c}let K={docId:t,apiVersion:"4.5.136",data:o,password:a,disableAutoFetch:B,rangeChunkSize:d,length:C,docBaseUrl:h,enableXfa:z,evaluatorOptions:{maxImageSize:E,disableFontFace:R,ignoreErrors:x,isEvalSupported:D,isOffscreenCanvasSupported:L,canvasMaxAreaInBytes:k,fontExtraProperties:N,useSystemFonts:y,cMapUrl:w?f:null,standardFontDataUrl:w?g:null}},F={disableFontFace:R,fontExtraProperties:N,ownerDocument:V,pdfBug:_,styleElement:W,loadingParams:{disableAutoFetch:B,enableXfa:z}};return c.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");let Y=c.messageHandler.sendWithPromise("GetDocRequest",K,o?[o.buffer]:null),M;if(l)M=new $T(l,{disableRange:S,disableStream:T});else if(!o){if(!n)throw new Error("getDocument - no `url` parameter provided.");M=(j=>Vr?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&F0(j.url)?new EC(j):new QT(j):F0(j.url)?new EC(j):new YT(j))({url:n,length:C,httpHeaders:r,withCredentials:s,rangeChunkSize:d,disableRange:S,disableStream:T})}return Y.then(A=>{if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");let j=new Sp(t,A,c.port),J=new aA(j,e,M,F,G);e._transport=J,j.send("Ready",null)})}).catch(e._capability.reject),e}function Lde(i){if(i instanceof URL)return i.href;try{return new URL(i,window.location).href}catch{if(Vr&&typeof i=="string")return i}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Nde(i){if(Vr&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return KC(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i?.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function iH(i){return typeof i=="object"&&Number.isInteger(i?.num)&&i.num>=0&&Number.isInteger(i?.gen)&&i.gen>=0}var nA=class i{static#e=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${i.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){return ze(this,null,function*(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),yield this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}},TC=class{constructor(e,t,n=!1,o=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=o,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(let n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(let n of this._progressListeners)n(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(let t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){qn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},oA=class{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return yn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){let{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}},rA=class{#e=null;#t=!1;constructor(e,t,n,o=!1){this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=o?new vC:null,this._pdfBug=o,this.commonObjs=n.commonObjs,this.objs=new AC,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:o=0,dontFlip:r=!1}={}){return new V0({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:o,dontFlip:r})}getAnnotations({intent:e="display"}={}){let{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return yn(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){return ze(this,null,function*(){return this._transport._htmlForXfa?.children[this._pageIndex]||null})}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:o=Hu.ENABLE,transform:r=null,background:s=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:d=null,printAnnotationStorage:c=null,isEditing:u=!1}){this._stats?.time("Overall");let h=this._transport.getRenderingIntent(n,o,c,u),{renderingIntent:f,cacheKey:p}=h;this.#t=!1,this.#o(),a||=this._transport.getOptionalContentConfig(f);let m=this._intentStates.get(p);m||(m=Object.create(null),this._intentStates.set(p,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);let g=!!(f&Xs.PRINT);m.displayReadyCapability||(m.displayReadyCapability=Promise.withResolvers(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(h));let b=D=>{m.renderTasks.delete(x),(this._maybeCleanupAfterRender||g)&&(this.#t=!0),this.#i(!g),D?(x.capability.reject(D),this._abortOperatorList({intentState:m,reason:D instanceof Error?D:new Error(D)})):x.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},x=new dA({callback:b,params:{canvasContext:e,viewport:t,transform:r,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!g,pdfBug:this._pdfBug,pageColors:d});(m.renderTasks||=new Set).add(x);let E=x.task;return Promise.all([m.displayReadyCapability.promise,a]).then(([D,L])=>{if(this.destroyed){b();return}if(this._stats?.time("Rendering"),!(L.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");x.initializeGraphics({transparency:D,optionalContentConfig:L}),x.operatorListChanged()}).catch(b),E}getOperatorList({intent:e="display",annotationMode:t=Hu.ENABLE,printAnnotationStorage:n=null,isEditing:o=!1}={}){function r(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}let s=this._transport.getRenderingIntent(e,t,n,o,!0),a=this._intentStates.get(s.cacheKey);a||(a=Object.create(null),this._intentStates.set(s.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=r,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||=new Set).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(s)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(o){return o.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>U0.textContent(n));let t=this.streamTextContent(e);return new Promise(function(n,o){function r(){s.read().then(function({value:l,done:d}){if(d){n(a);return}a.lang??=l.lang,Object.assign(a.styles,l.styles),a.items.push(...l.items),r()},o)}let s=t.getReader(),a={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let e=[];for(let t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(let n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#t=!1,this.#o(),Promise.all(e)}cleanup(e=!1){this.#t=!0;let t=this.#i(!1);return e&&t&&(this._stats&&=new vC),t}#i(e=!1){if(this.#o(),!this.#t||this.destroyed)return!1;if(e)return this.#e=setTimeout(()=>{this.#e=null,this.#i(!1)},Ade),!1;for(let{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#o(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(e,t){let n=this._intentStates.get(t);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let n=0,o=e.length;n<o;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(let n of t.renderTasks)n.operatorListChanged();e.lastChunk&&this.#i(!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:o}){let{map:r,transfer:s}=n,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r,modifiedIds:o},s).getReader(),d=this._intentStates.get(t);d.streamReader=l;let c=()=>{l.read().then(({value:u,done:h})=>{if(h){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(u,d),c())},u=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(let h of d.renderTasks)h.operatorListChanged();this.#i(!0)}if(d.displayReadyCapability)d.displayReadyCapability.reject(u);else if(d.opListReadCapability)d.opListReadCapability.reject(u);else throw u}})};c()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof H0){let o=Tde;t.extraDelay>0&&t.extraDelay<1e3&&(o+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},o);return}}if(e.streamReader.cancel(new cc(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(let[o,r]of this._intentStates)if(r===e){this._intentStates.delete(o);break}this.cleanup()}}}get stats(){return this._stats}},sA=class{#e=new Set;#t=Promise.resolve();postMessage(e,t){let n={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(let o of this.#e)o.call(this,n)})}addEventListener(e,t){this.#e.add(t)}removeEventListener(e,t){this.#e.delete(t)}terminate(){this.#e.clear()}},ac={isWorkerDisabled:!1,fakeWorkerId:0};Vr&&(ac.isWorkerDisabled=!0,Ip.workerSrc||="./pdf.worker.mjs"),ac.isSameOrigin=function(i,e){let t;try{if(t=new URL(i),!t.origin||t.origin==="null")return!1}catch{return!1}let n=new URL(e,t);return t.origin===n.origin},ac.createCDNWrapper=function(i){let e=`await import("${i}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var xm=class i{static#e;constructor({name:e=null,port:t=null,verbosity:n=Jle()}={}){if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if(i.#e?.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(i.#e||=new WeakMap).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Vr?Promise.all([va.promise,this._readyCapability.promise]):this._readyCapability.promise}#t(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Sp("main","worker",e),this._messageHandler.on("ready",function(){}),this.#t()}_initialize(){if(ac.isWorkerDisabled||i.#i){this._setupFakeWorker();return}let{workerSrc:e}=i;try{ac.isSameOrigin(window.location.href,e)||(e=ac.createCDNWrapper(new URL(e,window.location).href));let t=new Worker(e,{type:"module"}),n=new Sp("main","worker",t),o=()=>{r.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=new AbortController;t.addEventListener("error",()=>{this._webWorker||o()},{signal:r.signal}),n.on("test",a=>{if(r.abort(),this.destroyed||!a){o();return}this._messageHandler=n,this._port=t,this._webWorker=t,this.#t()}),n.on("ready",a=>{if(r.abort(),this.destroyed){o();return}try{s()}catch{this._setupFakeWorker()}});let s=()=>{let a=new Uint8Array;n.send("test",a,[a.buffer])};s();return}catch{GC("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){ac.isWorkerDisabled||(an("Setting up fake worker."),ac.isWorkerDisabled=!0),i._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}let t=new sA;this._port=t;let n=`fake${ac.fakeWorkerId++}`,o=new Sp(n+"_worker",n,t);e.setup(o,t),this._messageHandler=new Sp(n,n+"_worker",t),this.#t()}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),i.#e?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");let t=this.#e?.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new i(e)}static get workerSrc(){if(Ip.workerSrc)return Ip.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#i(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return yn(this,"_setupFakeWorkerGlobal",ze(this,null,function*(){return this.#i?this.#i:(yield import(this.workerSrc)).WorkerMessageHandler}))}},aA=class{#e=new Map;#t=new Map;#i=new Map;#o=new Map;#r=null;constructor(e,t,n,o,r){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new AC,this.fontLoader=new TT({ownerDocument:o.ownerDocument,styleElement:o.styleElement}),this.loadingParams=o.loadingParams,this._params=o,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#n(e,t=null){let n=this.#e.get(e);if(n)return n;let o=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,o),o}get annotationStorage(){return yn(this,"annotationStorage",new j0)}getRenderingIntent(e,t=Hu.ENABLE,n=null,o=!1,r=!1){let s=Xs.DISPLAY,a=DT;switch(e){case"any":s=Xs.ANY;break;case"display":break;case"print":s=Xs.PRINT;break;default:an(`getRenderingIntent - invalid intent: ${e}`)}let l=s&Xs.PRINT&&n instanceof wC?n:this.annotationStorage;switch(t){case Hu.DISABLE:s+=Xs.ANNOTATIONS_DISABLE;break;case Hu.ENABLE:break;case Hu.ENABLE_FORMS:s+=Xs.ANNOTATIONS_FORMS;break;case Hu.ENABLE_STORAGE:s+=Xs.ANNOTATIONS_STORAGE,a=l.serializable;break;default:an(`getRenderingIntent - invalid annotationMode: ${t}`)}o&&(s+=Xs.IS_EDITING),r&&(s+=Xs.OPLIST);let{ids:d,hash:c}=l.modifiedIds,u=[s,a.hash,c];return{renderingIntent:s,cacheKey:u.join("_"),annotationStorageSerializable:a,modifiedIds:d}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));let e=[];for(let n of this.#t.values())e.push(n._destroy());this.#t.clear(),this.#i.clear(),this.#o.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),W0.cleanup(),this._networkStream?.cancelAllRequests(new cc("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,o)=>{fr(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},o.onPull=()=>{this._fullReader.read().then(function({value:r,done:s}){if(s){o.close();return}fr(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{o.error(r)})},o.onCancel=r=>{this._fullReader.cancel(r),o.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",n=>{let o=Promise.withResolvers(),r=this._fullReader;return r.headersReady.then(()=>{(!r.isStreamingSupported||!r.isRangeSupported)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),r.onProgress=s=>{t.onProgress?.({loaded:s.loaded,total:s.total})}),o.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})},o.reject),o.promise}),e.on("GetRangeReader",(n,o)=>{fr(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let r=this._networkStream.getRangeReader(n.begin,n.end);if(!r){o.close();return}o.onPull=()=>{r.read().then(function({value:s,done:a}){if(a){o.close();return}fr(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{o.error(s)})},o.onCancel=s=>{r.cancel(s),o.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new oA(n,this))}),e.on("DocException",function(n){let o;switch(n.name){case"PasswordException":o=new L0(n.message,n.code);break;case"InvalidPDFException":o=new hC(n.message);break;case"MissingPDFException":o=new dc(n.message);break;case"UnexpectedResponseException":o=new Cm(n.message,n.status);break;case"UnknownErrorException":o=new N0(n.message,n.details);break;default:qn("DocException - expected a valid Error.")}t._capability.reject(o)}),e.on("PasswordRequest",n=>{if(this.#r=Promise.withResolvers(),t.onPassword){let o=r=>{r instanceof Error?this.#r.reject(r):this.#r.resolve({password:r})};try{t.onPassword(o,n.code)}catch(r){this.#r.reject(r)}}else this.#r.reject(new L0(n.message,n.code));return this.#r.promise}),e.on("DataLoaded",n=>{t.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;this.#t.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,o,r])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(o){case"Font":let{disableFontFace:s,fontExtraProperties:a,pdfBug:l}=this._params;if("error"in r){let h=r.error;an(`Error during font loading: ${h}`),this.commonObjs.resolve(n,h);break}let d=l&&globalThis.FontInspector?.enabled?(h,f)=>globalThis.FontInspector.fontAdded(h,f):null,c=new AT(r,{disableFontFace:s,inspectFont:d});this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!a&&c.data&&(c.data=null),this.commonObjs.resolve(n,c)});break;case"CopyLocalImage":let{imageRef:u}=r;fr(u,"The imageRef must be defined.");for(let h of this.#t.values())for(let[,f]of h.objs)if(f?.ref===u)return f.dataLen?(this.commonObjs.resolve(n,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,r);break;default:throw new Error(`Got unknown common object type ${o}`)}return null}),e.on("obj",([n,o,r,s])=>{if(this.destroyed)return;let a=this.#t.get(o);if(!a.objs.has(n)){if(a._intentStates.size===0){s?.bitmap?.close();return}switch(r){case"Image":a.objs.resolve(n,s),s?.dataLen>Kle&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(n,s);break;default:throw new Error(`Got unknown object type ${r}`)}}}),e.on("DocProgress",n=>{this.destroyed||t.onProgress?.({loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(n):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(n):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&an("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");let{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));let t=e-1,n=this.#i.get(t);if(n)return n;let o=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&this.#o.set(r.refStr,e);let s=new rA(t,r,this,this._params.pdfBug);return this.#t.set(t,s),s});return this.#i.set(t,o),o}getPageIndex(e){return iH(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#n("GetFieldObjects")}hasJSActions(){return this.#n("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#n("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#n("GetOptionalContentConfig").then(t=>new jT(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){let e="GetMetadata",t=this.#e.get(e);if(t)return t;let n=this.messageHandler.sendWithPromise(e,null).then(o=>({info:o[0],metadata:o[1]?new HT(o[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(e=!1){return ze(this,null,function*(){if(!this.destroyed){yield this.messageHandler.sendWithPromise("Cleanup",null);for(let t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),W0.cleanup()}})}cachedPageNumber(e){if(!iH(e))return null;let t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#o.get(t)??null}},sC=Symbol("INITIAL_DATA"),AC=class{#e=Object.create(null);#t(e){return this.#e[e]||=ci(Le({},Promise.withResolvers()),{data:sC})}get(e,t=null){if(t){let o=this.#t(e);return o.promise.then(()=>t(o.data)),null}let n=this.#e[e];if(!n||n.data===sC)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){let t=this.#e[e];return!!t&&t.data!==sC}resolve(e,t=null){let n=this.#t(e);n.data=t,n.resolve()}clear(){for(let e in this.#e){let{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(let e in this.#e){let{data:t}=this.#e[e];t!==sC&&(yield[e,t])}}},lA=class{#e=null;constructor(e){this.#e=e,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){let{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;let{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}},dA=class i{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:n,commonObjs:o,annotationCanvasMap:r,operatorList:s,pageIndex:a,canvasFactory:l,filterFactory:d,useRequestAnimationFrame:c=!1,pdfBug:u=!1,pageColors:h=null}){this.callback=e,this.params=t,this.objs=n,this.commonObjs=o,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=d,this._pdfBug=u,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new lA(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(i.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");i.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:n,viewport:o,transform:r,background:s}=this.params;this.gfx=new ym(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:r,viewport:o,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),i.#t.delete(this._canvas),this.callback(e||new H0(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){return ze(this,null,function*(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),i.#t.delete(this._canvas),this.callback())))})}},Bde="4.5.136",Vde="3a21f03b0";function nH(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function R0(i){return Math.max(0,Math.min(255,255*i))}var kC=class{static CMYK_G([e,t,n,o]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+o)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=R0(e),[e,e,e]}static G_HTML([e]){let t=nH(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(R0)}static RGB_HTML(e){return`#${e.map(nH).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,o]){return["RGB",1-Math.min(1,e+o),1-Math.min(1,n+o),1-Math.min(1,t+o)]}static CMYK_rgb([e,t,n,o]){return[R0(1-Math.min(1,e+o)),R0(1-Math.min(1,n+o)),R0(1-Math.min(1,t+o))]}static CMYK_HTML(e){let t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){let o=1-e,r=1-t,s=1-n,a=Math.min(o,r,s);return["CMYK",o,r,s,a]}},MC=class{static setupStorage(e,t,n,o,r){let s=o.getValue(t,{value:null});switch(n.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),r==="print")break;e.addEventListener("input",a=>{o.setValue(t,{value:a.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(s.value===n.attributes.xfaOn?e.setAttribute("checked",!0):s.value===n.attributes.xfaOff&&e.removeAttribute("checked"),r==="print")break;e.addEventListener("change",a=>{o.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),r==="print")break;e.addEventListener("input",a=>{o.setValue(t,{value:a.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(let a of n.children)a.attributes.value===s.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{let l=a.target.options,d=l.selectedIndex===-1?"":l[l.selectedIndex].value;o.setValue(t,{value:d})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:o,linkService:r}){let{attributes:s}=t,a=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${o}`);for(let[l,d]of Object.entries(s))if(d!=null)switch(l){case"class":d.length&&e.setAttribute(l,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,d)}a&&r.addLinkAttributes(e,s.href,s.newWindow),n&&s.dataId&&this.setupStorage(e,s.dataId,t,n)}static render(e){let t=e.annotationStorage,n=e.linkService,o=e.xfaHtml,r=e.intent||"display",s=document.createElement(o.name);o.attributes&&this.setAttributes({html:s,element:o,intent:r,linkService:n});let a=r!=="richText",l=e.div;if(l.append(s),e.viewport){let u=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=u}a&&l.setAttribute("class","xfaLayer xfaFont");let d=[];if(o.children.length===0){if(o.value){let u=document.createTextNode(o.value);s.append(u),a&&U0.shouldBuildText(o.name)&&d.push(u)}return{textDivs:d}}let c=[[o,-1,s]];for(;c.length>0;){let[u,h,f]=c.at(-1);if(h+1===u.children.length){c.pop();continue}let p=u.children[++c.at(-1)[1]];if(p===null)continue;let{name:m}=p;if(m==="#text"){let b=document.createTextNode(p.value);d.push(b),f.append(b);continue}let g=p?.attributes?.xmlns?document.createElementNS(p.attributes.xmlns,m):document.createElement(m);if(f.append(g),p.attributes&&this.setAttributes({html:g,element:p,storage:t,intent:r,linkService:n}),p.children?.length>0)c.push([p,-1,g]);else if(p.value){let b=document.createTextNode(p.value);a&&U0.shouldBuildText(m)&&d.push(b),g.append(b)}}for(let u of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))u.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){let t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}},q0=1e3,Hde=9,Dp=new WeakSet;function lc(i){return{width:i[2]-i[0],height:i[3]-i[1]}}var cA=class{static create(e){switch(e.data.annotationType){case pr.LINK:return new RC(e);case pr.TEXT:return new uA(e);case pr.WIDGET:switch(e.data.fieldType){case"Tx":return new hA(e);case"Btn":return e.data.radioButton?new FC(e):e.data.checkBox?new fA(e):new mA(e);case"Ch":return new gA(e);case"Sig":return new pA(e)}return new uc(e);case pr.POPUP:return new G0(e);case pr.FREETEXT:return new PC(e);case pr.LINE:return new bA(e);case pr.SQUARE:return new vA(e);case pr.CIRCLE:return new yA(e);case pr.POLYLINE:return new LC(e);case pr.CARET:return new CA(e);case pr.INK:return new NC(e);case pr.POLYGON:return new xA(e);case pr.HIGHLIGHT:return new wA(e);case pr.UNDERLINE:return new SA(e);case pr.SQUIGGLY:return new EA(e);case pr.STRIKEOUT:return new OA(e);case pr.STAMP:return new BC(e);case pr.FILEATTACHMENT:return new IA(e);default:return new Uo(e)}}},Uo=class i{#e=null;#t=!1;#i=null;constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:o=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),o&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:n}){return!!(e?.str||t?.str||n?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return i._hasPopupData(this.data)}updateEdited(e){if(!this.container)return;this.#e||={rect:this.data.rect.slice(0)};let{rect:t}=e;t&&this.#o(t),this.#i?.popup.updateEdited(e)}resetEdited(){this.#e&&(this.#o(this.#e.rect),this.#i?.popup.resetEdited(),this.#e=null)}#o(e){let{container:{style:t},data:{rect:n,rotation:o},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:s,pageX:a,pageY:l}}}}=this;n?.splice(0,4,...e);let{width:d,height:c}=lc(e);t.left=`${100*(e[0]-a)/r}%`,t.top=`${100*(s-e[3]+l)/s}%`,o===0?(t.width=`${100*d/r}%`,t.height=`${100*c/s}%`):this.setRotation(o)}_createContainer(e){let{data:t,parent:{page:n,viewport:o}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",t.id),this instanceof uc||(r.tabIndex=q0);let{style:s}=r;if(s.zIndex=this.parent.zIndex++,t.popupRef&&r.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(r.title=t.alternativeText),t.noRotate&&r.classList.add("norotate"),!t.rect||this instanceof G0){let{rotation:m}=t;return!t.hasOwnCanvas&&m!==0&&this.setRotation(m,r),r}let{width:a,height:l}=lc(t.rect);if(!e&&t.borderStyle.width>0){s.borderWidth=`${t.borderStyle.width}px`;let m=t.borderStyle.horizontalCornerRadius,g=t.borderStyle.verticalCornerRadius;if(m>0||g>0){let x=`calc(${m}px * var(--scale-factor)) / calc(${g}px * var(--scale-factor))`;s.borderRadius=x}else if(this instanceof FC){let x=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;s.borderRadius=x}switch(t.borderStyle.style){case k0.SOLID:s.borderStyle="solid";break;case k0.DASHED:s.borderStyle="dashed";break;case k0.BEVELED:an("Unimplemented border style: beveled");break;case k0.INSET:an("Unimplemented border style: inset");break;case k0.UNDERLINE:s.borderBottomStyle="solid";break;default:break}let b=t.borderColor||null;b?(this.#t=!0,s.borderColor=ni.makeHexColor(b[0]|0,b[1]|0,b[2]|0)):s.borderWidth=0}let d=ni.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:u,pageX:h,pageY:f}=o.rawDims;s.left=`${100*(d[0]-h)/c}%`,s.top=`${100*(d[1]-f)/u}%`;let{rotation:p}=t;return t.hasOwnCanvas||p===0?(s.width=`${100*a/c}%`,s.height=`${100*l/u}%`):this.setRotation(p,r),r}setRotation(e,t=this.container){if(!this.data.rect)return;let{pageWidth:n,pageHeight:o}=this.parent.viewport.rawDims,{width:r,height:s}=lc(this.data.rect),a,l;e%180===0?(a=100*r/n,l=100*s/o):(a=100*s/n,l=100*r/o),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){let e=(t,n,o)=>{let r=o.detail[t],s=r[0],a=r.slice(1);o.target.style[n]=kC[`${s}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[n]:kC[`${s}_rgb`](a)})};return yn(this,"_commonActions",{display:t=>{let{display:n}=t.detail,o=n%2===1;this.container.style.visibility=o?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:o,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{let{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{let n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){let n=this._commonActions;for(let o of Object.keys(t.detail))(e[o]||n[o])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;let t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;let n=this._commonActions;for(let[o,r]of Object.entries(t)){let s=n[o];if(s){let a={detail:{[o]:r},target:e};s(a),delete t[o]}}}_createQuadrilaterals(){if(!this.container)return;let{quadPoints:e}=this.data;if(!e)return;let[t,n,o,r]=this.data.rect.map(m=>Math.fround(m));if(e.length===8){let[m,g,b,x]=e.subarray(2,6);if(o===m&&r===g&&t===b&&n===x)return}let{style:s}=this.container,a;if(this.#t){let{borderColor:m,borderWidth:g}=s;s.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${m}" stroke-width="${g}">`],this.container.classList.add("hasBorder")}let l=o-t,d=r-n,{svgFactory:c}=this,u=c.createElement("svg");u.classList.add("quadrilateralsContainer"),u.setAttribute("width",0),u.setAttribute("height",0);let h=c.createElement("defs");u.append(h);let f=c.createElement("clipPath"),p=`clippath_${this.data.id}`;f.setAttribute("id",p),f.setAttribute("clipPathUnits","objectBoundingBox"),h.append(f);for(let m=2,g=e.length;m<g;m+=8){let b=e[m],x=e[m+1],E=e[m+2],D=e[m+3],L=c.createElement("rect"),k=(E-t)/l,R=(r-x)/d,N=(b-E)/l,z=(x-D)/d;L.setAttribute("x",k),L.setAttribute("y",R),L.setAttribute("width",N),L.setAttribute("height",z),f.append(L),a?.push(`<rect vector-effect="non-scaling-stroke" x="${k}" y="${R}" width="${N}" height="${z}"/>`)}this.#t&&(a.push("</g></svg>')"),s.backgroundImage=a.join("")),this.container.append(u),this.container.style.clipPath=`url(#${p})`}_createPopup(){let{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");let n=this.#i=new G0({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(n.render())}render(){qn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){let n=[];if(this._fieldObjects){let o=this._fieldObjects[e];if(o)for(let{page:r,id:s,exportValues:a}of o){if(r===-1||s===t)continue;let l=typeof a=="string"?a:null,d=document.querySelector(`[data-element-id="${s}"]`);if(d&&!Dp.has(d)){an(`_getElementsByName - element not allowed: ${s}`);continue}n.push({id:s,exportValue:l,domElement:d})}return n}for(let o of document.getElementsByName(e)){let{exportValue:r}=o,s=o.getAttribute("data-element-id");s!==t&&Dp.has(o)&&n.push({id:s,exportValue:r,domElement:o})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){let e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(let t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;let{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}},RC=class extends Uo{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){let{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let o=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),o=!0):e.action?(this._bindNamedAction(n,e.action),o=!0):e.attachment?(this.#t(n,e.attachment,e.attachmentDest),o=!0):e.setOCGState?(this.#i(n,e.setOCGState),o=!0):e.dest?(this._bindLink(n,e.dest),o=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),o=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(n,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(n),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#e()}#t(e,t,n=null){e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,n),!1),this.#e()}#i(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");let n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let o of Object.keys(t.actions)){let r=n.get(o);r&&(e[r]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:o}}),!1))}e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){let n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){an('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(e.onclick=()=>!1);return}e.onclick=()=>{n?.();let{fields:o,refs:r,include:s}=t,a=[];if(o.length!==0||r.length!==0){let c=new Set(r);for(let u of o){let h=this._fieldObjects[u]||[];for(let{id:f}of h)c.add(f)}for(let u of Object.values(this._fieldObjects))for(let h of u)c.has(h.id)===s&&a.push(h)}else for(let c of Object.values(this._fieldObjects))a.push(...c);let l=this.annotationStorage,d=[];for(let c of a){let{id:u}=c;switch(d.push(u),c.type){case"text":{let f=c.defaultValue||"";l.setValue(u,{value:f});break}case"checkbox":case"radiobutton":{let f=c.defaultValue===c.exportValues;l.setValue(u,{value:f});break}case"combobox":case"listbox":{let f=c.defaultValue||"";l.setValue(u,{value:f});break}default:continue}let h=document.querySelector(`[data-element-id="${u}"]`);if(h){if(!Dp.has(h)){an(`_bindResetFormAction - element not allowed: ${u}`);continue}}else continue;h.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}}),!1}}},uA=class extends Uo{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");let e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}},uc=class extends Uo{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Hr.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,o,r){n.includes("mouse")?e.addEventListener(n,s=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:r(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(n,s=>{if(n==="blur"){if(!t.focused||!s.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}r&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:r(s)}})})}_setEventListeners(e,t,n,o){for(let[r,s]of n)(s==="Action"||this.data.actions?.[s])&&((s==="Focus"||s==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,r,s,o),s==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):s==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){let t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":ni.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){let t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,o=this.data.defaultAppearanceData.fontSize||Hde,r=e.style,s,a=2,l=d=>Math.round(10*d)/10;if(this.data.multiLine){let d=Math.abs(this.data.rect[3]-this.data.rect[1]-a),c=Math.round(d/(lC*o))||1,u=d/c;s=Math.min(o,l(u/lC))}else{let d=Math.abs(this.data.rect[3]-this.data.rect[1]-a);s=Math.min(o,l(d/lC))}r.fontSize=`calc(${s}px * var(--scale-factor))`,r.color=ni.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(r.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}},hA=class extends uc{constructor(e){let t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,o){let r=this.annotationStorage;for(let s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[t]=n),r.setValue(s.id,{[o]:n})}render(){let e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){let o=e.getValue(t,{value:this.data.fieldValue}),r=o.value||"",s=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;s&&r.length>s&&(r=r.slice(0,s));let a=o.formattedValue||this.data.textContent?.join(`
`)||null;a&&this.data.comb&&(a=a.replaceAll(/\s+/g,""));let l={userValue:r,formattedValue:a,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=a??r,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",a??r),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Dp.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=q0,this._setRequired(n,this.data.required),s&&(n.maxLength=s),n.addEventListener("input",c=>{e.setValue(t,{value:c.target.value}),this.setPropertyOnSiblings(n,"value",c.target.value,"value"),l.formattedValue=null}),n.addEventListener("resetform",c=>{let u=this.data.defaultFieldValue??"";n.value=l.userValue=u,l.formattedValue=null});let d=c=>{let{formattedValue:u}=l;u!=null&&(c.target.value=u),c.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",u=>{if(l.focused)return;let{target:h}=u;l.userValue&&(h.value=l.userValue),l.lastCommittedValue=h.value,l.commitKey=1,this.data.actions?.Focus||(l.focused=!0)}),n.addEventListener("updatefromsandbox",u=>{this.showElementAndHideCanvas(u.target);let h={value(f){l.userValue=f.detail.value??"",e.setValue(t,{value:l.userValue.toString()}),f.target.value=l.userValue},formattedValue(f){let{formattedValue:p}=f.detail;l.formattedValue=p,p!=null&&f.target!==document.activeElement&&(f.target.value=p),e.setValue(t,{formattedValue:p})},selRange(f){f.target.setSelectionRange(...f.detail.selRange)},charLimit:f=>{let{charLimit:p}=f.detail,{target:m}=f;if(p===0){m.removeAttribute("maxLength");return}m.setAttribute("maxLength",p);let g=l.userValue;!g||g.length<=p||(g=g.slice(0,p),m.value=l.userValue=g,e.setValue(t,{value:g}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:1,selStart:m.selectionStart,selEnd:m.selectionEnd}}))}};this._dispatchEventFromSandbox(h,u)}),n.addEventListener("keydown",u=>{l.commitKey=1;let h=-1;if(u.key==="Escape"?h=0:u.key==="Enter"&&!this.data.multiLine?h=2:u.key==="Tab"&&(l.commitKey=3),h===-1)return;let{value:f}=u.target;l.lastCommittedValue!==f&&(l.lastCommittedValue=f,l.userValue=f,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:f,willCommit:!0,commitKey:h,selStart:u.target.selectionStart,selEnd:u.target.selectionEnd}}))});let c=d;d=null,n.addEventListener("blur",u=>{if(!l.focused||!u.relatedTarget)return;this.data.actions?.Blur||(l.focused=!1);let{value:h}=u.target;l.userValue=h,l.lastCommittedValue!==h&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:h,willCommit:!0,commitKey:l.commitKey,selStart:u.target.selectionStart,selEnd:u.target.selectionEnd}}),c(u)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",u=>{l.lastCommittedValue=null;let{data:h,target:f}=u,{value:p,selectionStart:m,selectionEnd:g}=f,b=m,x=g;switch(u.inputType){case"deleteWordBackward":{let E=p.substring(0,m).match(/\w*[^\w]*$/);E&&(b-=E[0].length);break}case"deleteWordForward":{let E=p.substring(m).match(/^[^\w]*\w*/);E&&(x+=E[0].length);break}case"deleteContentBackward":m===g&&(b-=1);break;case"deleteContentForward":m===g&&(x+=1);break}u.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:p,change:h||"",willCommit:!1,selStart:b,selEnd:x}})}),this._setEventListeners(n,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.value)}if(d&&n.addEventListener("blur",d),this.data.comb){let u=(this.data.rect[2]-this.data.rect[0])/s;n.classList.add("comb"),n.style.letterSpacing=`calc(${u}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}},pA=class extends uc{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}},fA=class extends uc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){let e=this.annotationStorage,t=this.data,n=t.id,o=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof o=="string"&&(o=o!=="Off",e.setValue(n,{value:o})),this.container.classList.add("buttonWidgetAnnotation","checkBox");let r=document.createElement("input");return Dp.add(r),r.setAttribute("data-element-id",n),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=t.fieldName,o&&r.setAttribute("checked",!0),r.setAttribute("exportValue",t.exportValue),r.tabIndex=q0,r.addEventListener("change",s=>{let{name:a,checked:l}=s.target;for(let d of this._getElementsByName(a,n)){let c=l&&d.exportValue===t.exportValue;d.domElement&&(d.domElement.checked=c),e.setValue(d.id,{value:c})}e.setValue(n,{value:l})}),r.addEventListener("resetform",s=>{let a=t.defaultFieldValue||"Off";s.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",s=>{let a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(n,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,s)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}},FC=class extends uc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");let e=this.annotationStorage,t=this.data,n=t.id,o=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof o=="string"&&(o=o!==t.buttonValue,e.setValue(n,{value:o})),o)for(let s of this._getElementsByName(t.fieldName,n))e.setValue(s.id,{value:!1});let r=document.createElement("input");if(Dp.add(r),r.setAttribute("data-element-id",n),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=t.fieldName,o&&r.setAttribute("checked",!0),r.tabIndex=q0,r.addEventListener("change",s=>{let{name:a,checked:l}=s.target;for(let d of this._getElementsByName(a,n))e.setValue(d.id,{value:!1});e.setValue(n,{value:l})}),r.addEventListener("resetform",s=>{let a=t.defaultFieldValue;s.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){let s=t.buttonValue;r.addEventListener("updatefromsandbox",a=>{let l={value:d=>{let c=s===d.detail.value;for(let u of this._getElementsByName(d.target.name)){let h=c&&u.id===n;u.domElement&&(u.domElement.checked=h),e.setValue(u.id,{value:h})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}},mA=class extends RC{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){let e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");let t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}},gA=class extends uc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");let e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),o=document.createElement("select");Dp.add(o),o.setAttribute("data-element-id",t),o.disabled=this.data.readOnly,this._setRequired(o,this.data.required),o.name=this.data.fieldName,o.tabIndex=q0;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(o.size=this.data.options.length,this.data.multiSelect&&(o.multiple=!0)),o.addEventListener("resetform",c=>{let u=this.data.defaultFieldValue;for(let h of o.options)h.selected=h.value===u});for(let c of this.data.options){let u=document.createElement("option");u.textContent=c.displayValue,u.value=c.exportValue,n.value.includes(c.exportValue)&&(u.setAttribute("selected",!0),r=!1),o.append(u)}let s=null;if(r){let c=document.createElement("option");c.value=" ",c.setAttribute("hidden",!0),c.setAttribute("selected",!0),o.prepend(c),s=()=>{c.remove(),o.removeEventListener("input",s),s=null},o.addEventListener("input",s)}let a=c=>{let u=c?"value":"textContent",{options:h,multiple:f}=o;return f?Array.prototype.filter.call(h,p=>p.selected).map(p=>p[u]):h.selectedIndex===-1?null:h[h.selectedIndex][u]},l=a(!1),d=c=>{let u=c.target.options;return Array.prototype.map.call(u,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(o.addEventListener("updatefromsandbox",c=>{let u={value(h){s?.();let f=h.detail.value,p=new Set(Array.isArray(f)?f:[f]);for(let m of o.options)m.selected=p.has(m.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(h){o.multiple=!0},remove(h){let f=o.options,p=h.detail.remove;f[p].selected=!1,o.remove(p),f.length>0&&Array.prototype.findIndex.call(f,g=>g.selected)===-1&&(f[0].selected=!0),e.setValue(t,{value:a(!0),items:d(h)}),l=a(!1)},clear(h){for(;o.length!==0;)o.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(h){let{index:f,displayValue:p,exportValue:m}=h.detail.insert,g=o.children[f],b=document.createElement("option");b.textContent=p,b.value=m,g?g.before(b):o.append(b),e.setValue(t,{value:a(!0),items:d(h)}),l=a(!1)},items(h){let{items:f}=h.detail;for(;o.length!==0;)o.remove(0);for(let p of f){let{displayValue:m,exportValue:g}=p,b=document.createElement("option");b.textContent=m,b.value=g,o.append(b)}o.options.length>0&&(o.options[0].selected=!0),e.setValue(t,{value:a(!0),items:d(h)}),l=a(!1)},indices(h){let f=new Set(h.detail.indices);for(let p of h.target.options)p.selected=f.has(p.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(u,c)}),o.addEventListener("input",c=>{let u=a(!0),h=a(!1);e.setValue(t,{value:u}),c.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:h,changeEx:u,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(o,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],c=>c.target.value)):o.addEventListener("input",function(c){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(o),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}},G0=class extends Uo{constructor(e){let{data:t,elements:n}=e;super(e,{isRenderable:Uo._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");let e=this.popup=new _A({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(let n of this.elements)n.popup=e,t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(n=>`${sH}${n}`).join(",")),this.container}},_A=class{#e=this.#O.bind(this);#t=this.#v.bind(this);#i=this.#x.bind(this);#o=this.#E.bind(this);#r=null;#n=null;#s=null;#l=null;#h=null;#d=null;#u=null;#c=!1;#a=null;#f=null;#m=null;#p=null;#g=null;#_=null;#b=!1;constructor({container:e,color:t,elements:n,titleObj:o,modificationDate:r,contentsObj:s,richText:a,parent:l,rect:d,parentRect:c,open:u}){this.#n=e,this.#g=o,this.#s=s,this.#p=a,this.#d=l,this.#r=t,this.#m=d,this.#u=c,this.#h=n,this.#l=yC.toDateObject(r),this.trigger=n.flatMap(h=>h.getElementsToTriggerPopup());for(let h of this.trigger)h.addEventListener("click",this.#o),h.addEventListener("mouseenter",this.#i),h.addEventListener("mouseleave",this.#t),h.classList.add("popupTriggerArea");for(let h of n)h.container?.addEventListener("keydown",this.#e);this.#n.hidden=!0,u&&this.#E()}render(){if(this.#a)return;let e=this.#a=document.createElement("div");if(e.className="popup",this.#r){let r=e.style.outlineColor=ni.makeHexColor(...this.#r);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`:e.style.backgroundColor=ni.makeHexColor(...this.#r.map(a=>Math.floor(.7*(255-a)+a)))}let t=document.createElement("span");t.className="header";let n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=this.#g,e.append(t),this.#l){let r=document.createElement("span");r.classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),r.setAttribute("data-l10n-args",JSON.stringify({date:this.#l.toLocaleDateString(),time:this.#l.toLocaleTimeString()})),t.append(r)}let o=this.#y;if(o)MC.render({xfaHtml:o,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{let r=this._formatContents(this.#s);e.append(r)}this.#n.append(e)}get#y(){let e=this.#p,t=this.#s;return e?.str&&(!t?.str||t.str===e.str)&&this.#p.html||null}get#C(){return this.#y?.attributes?.style?.fontSize||0}get#w(){return this.#y?.attributes?.style?.color||null}#S(e){let t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},o={style:{color:this.#w,fontSize:this.#C?`calc(${this.#C}px * var(--scale-factor))`:""}};for(let r of e.split(`
`))t.push({name:"span",value:r,attributes:o});return n}_formatContents({str:e,dir:t}){let n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;let o=e.split(/(?:\r\n?|\n)/);for(let r=0,s=o.length;r<s;++r){let a=o[r];n.append(document.createTextNode(a)),r<s-1&&n.append(document.createElement("br"))}return n}#O(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#c)&&this.#E()}updateEdited({rect:e,popupContent:t}){this.#_||={contentsObj:this.#s,richText:this.#p},e&&(this.#f=null),t&&(this.#p=this.#S(t),this.#s=null),this.#a?.remove(),this.#a=null}resetEdited(){this.#_&&({contentsObj:this.#s,richText:this.#p}=this.#_,this.#_=null,this.#a?.remove(),this.#a=null,this.#f=null)}#A(){if(this.#f!==null)return;let{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:o,pageY:r}}}=this.#d,s=!!this.#u,a=s?this.#u:this.#m;for(let p of this.#h)if(!a||ni.intersect(p.data.rect,a)!==null){a=p.data.rect,s=!0;break}let l=ni.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),c=s?a[2]-a[0]+5:0,u=l[0]+c,h=l[1];this.#f=[100*(u-o)/t,100*(h-r)/n];let{style:f}=this.#n;f.left=`${this.#f[0]}%`,f.top=`${this.#f[1]}%`}#E(){this.#c=!this.#c,this.#c?(this.#x(),this.#n.addEventListener("click",this.#o),this.#n.addEventListener("keydown",this.#e)):(this.#v(),this.#n.removeEventListener("click",this.#o),this.#n.removeEventListener("keydown",this.#e))}#x(){this.#a||this.render(),this.isVisible?this.#c&&this.#n.classList.add("focused"):(this.#A(),this.#n.hidden=!1,this.#n.style.zIndex=parseInt(this.#n.style.zIndex)+1e3)}#v(){this.#n.classList.remove("focused"),!(this.#c||!this.isVisible)&&(this.#n.hidden=!0,this.#n.style.zIndex=parseInt(this.#n.style.zIndex)-1e3)}forceHide(){this.#b=this.isVisible,this.#b&&(this.#n.hidden=!0)}maybeShow(){this.#b&&(this.#a||this.#x(),this.#b=!1,this.#n.hidden=!1)}get isVisible(){return this.#n.hidden===!1}},PC=class extends Uo{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=bn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){let e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(let t of this.textContent){let n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}},bA=class extends Uo{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");let e=this.data,{width:t,height:n}=lc(e.rect),o=this.svgFactory.create(t,n,!0),r=this.#e=this.svgFactory.createElement("svg:line");return r.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),r.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),r.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),r.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),r.setAttribute("stroke-width",e.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),o.append(r),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},vA=class extends Uo{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");let e=this.data,{width:t,height:n}=lc(e.rect),o=this.svgFactory.create(t,n,!0),r=e.borderStyle.width,s=this.#e=this.svgFactory.createElement("svg:rect");return s.setAttribute("x",r/2),s.setAttribute("y",r/2),s.setAttribute("width",t-r),s.setAttribute("height",n-r),s.setAttribute("stroke-width",r||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),o.append(s),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},yA=class extends Uo{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");let e=this.data,{width:t,height:n}=lc(e.rect),o=this.svgFactory.create(t,n,!0),r=e.borderStyle.width,s=this.#e=this.svgFactory.createElement("svg:ellipse");return s.setAttribute("cx",t/2),s.setAttribute("cy",n/2),s.setAttribute("rx",t/2-r/2),s.setAttribute("ry",n/2-r/2),s.setAttribute("stroke-width",r||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),o.append(s),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},LC=class extends Uo{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);let{data:{rect:e,vertices:t,borderStyle:n,popupRef:o}}=this;if(!t)return this.container;let{width:r,height:s}=lc(e),a=this.svgFactory.create(r,s,!0),l=[];for(let c=0,u=t.length;c<u;c+=2){let h=t[c]-e[0],f=e[3]-t[c+1];l.push(`${h},${f}`)}l=l.join(" ");let d=this.#e=this.svgFactory.createElement(this.svgElementName);return d.setAttribute("points",l),d.setAttribute("stroke-width",n.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),a.append(d),this.container.append(a),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},xA=class extends LC{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}},CA=class extends Uo{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}},NC=class extends Uo{#e=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=bn.INK}render(){this.container.classList.add(this.containerClassName);let{data:{rect:e,inkLists:t,borderStyle:n,popupRef:o}}=this,{width:r,height:s}=lc(e),a=this.svgFactory.create(r,s,!0);for(let l of t){let d=[];for(let u=0,h=l.length;u<h;u+=2){let f=l[u]-e[0],p=e[3]-l[u+1];d.push(`${f},${p}`)}d=d.join(" ");let c=this.svgFactory.createElement(this.svgElementName);this.#e.push(c),c.setAttribute("points",d),c.setAttribute("stroke-width",n.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),!o&&this.hasPopupData&&this._createPopup(),a.append(c)}return this.container.append(a),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},wA=class extends Uo{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}},SA=class extends Uo{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}},EA=class extends Uo{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}},OA=class extends Uo{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}},BC=class extends Uo{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}},IA=class extends Uo{#e=null;constructor(e){super(e,{isRenderable:!0});let{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",Le({source:this},t))}render(){this.container.classList.add("fileAttachmentAnnotation");let{container:e,data:t}=this,n;t.hasAppearance||t.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#t.bind(this)),this.#e=n;let{isMac:o}=Hr.platform;return e.addEventListener("keydown",r=>{r.key==="Enter"&&(o?r.metaKey:r.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}},DA=class{#e=null;#t=null;#i=new Map;constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:o,page:r,viewport:s}){this.div=e,this.#e=t,this.#t=n,this.page=r,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=o}hasEditableAnnotations(){return this.#i.size>0}#o(e,t){let n=e.firstChild||e;n.id=`${sH}${t}`,this.div.append(e),this.#e?.moveElementInDOM(this.div,e,n,!1)}render(e){return ze(this,null,function*(){let{annotations:t}=e,n=this.div;Ep(n,this.viewport);let o=new Map,r={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new B0,annotationStorage:e.annotationStorage||new j0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(let s of t){if(s.noHTML)continue;let a=s.annotationType===pr.POPUP;if(a){let c=o.get(s.id);if(!c)continue;r.elements=c}else{let{width:c,height:u}=lc(s.rect);if(c<=0||u<=0)continue}r.data=s;let l=cA.create(r);if(!l.isRenderable)continue;if(!a&&s.popupRef){let c=o.get(s.popupRef);c?c.push(l):o.set(s.popupRef,[l])}let d=l.render();s.hidden&&(d.style.visibility="hidden"),this.#o(d,s.id),l._isEditable&&(this.#i.set(l.data.id,l),this._annotationEditorUIManager?.renderAnnotationElement(l))}this.#r()})}update({viewport:e}){let t=this.div;this.viewport=e,Ep(t,{rotation:e.rotation}),this.#r(),t.hidden=!1}#r(){if(!this.#t)return;let e=this.div;for(let[t,n]of this.#t){let o=e.querySelector(`[data-annotation-id="${t}"]`);if(!o)continue;n.className="annotationContent";let{firstChild:r}=o;r?r.nodeName==="CANVAS"?r.replaceWith(n):r.classList.contains("annotationContent")?r.after(n):r.before(n):o.append(n)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#i.values())}getEditableAnnotation(e){return this.#i.get(e)}},aC=/\r\n?|\n/g,TA=class i extends zn{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#i=this.editorDivInput.bind(this);#o=this.editorDivKeydown.bind(this);#r=this.editorDivPaste.bind(this);#n;#s="";#l=`${this.id}-editor`;#h;#d=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){let e=i.prototype,t=r=>r.isEmpty(),n=z0.TRANSLATE_SMALL,o=z0.TRANSLATE_BIG;return yn(this,"_keyboardManager",new Op([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-o,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[o,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-o],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,o],checker:t}]]))}static _type="freetext";static _editorType=bn.FREETEXT;constructor(e){super(ci(Le({},e),{name:"freeTextEditor"})),this.#n=e.color||i._defaultColor||zn._defaultLineColor,this.#h=e.fontSize||i._defaultFontSize}static initialize(e,t){zn.initialize(e,t,{strings:["pdfjs-free-text-default-content"]});let n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case Fi.FREETEXT_SIZE:i._defaultFontSize=t;break;case Fi.FREETEXT_COLOR:i._defaultColor=t;break}}updateParams(e,t){switch(e){case Fi.FREETEXT_SIZE:this.#u(t);break;case Fi.FREETEXT_COLOR:this.#c(t);break}}static get defaultPropertiesToUpdate(){return[[Fi.FREETEXT_SIZE,i._defaultFontSize],[Fi.FREETEXT_COLOR,i._defaultColor||zn._defaultLineColor]]}get propertiesToUpdate(){return[[Fi.FREETEXT_SIZE,this.#h],[Fi.FREETEXT_COLOR,this.#n]]}#u(e){let t=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-this.#h)*this.parentScale),this.#h=o,this.#f()},n=this.#h;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Fi.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#c(e){let t=o=>{this.#n=this.editorDiv.style.color=o},n=this.#n;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Fi.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){let e=this.parentScale;return[-i._internalPadding*e,-(i._internalPadding+this.#h)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(bn.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");let e=this._uiManager._signal;this.editorDiv.addEventListener("keydown",this.#o,{signal:e}),this.editorDiv.addEventListener("focus",this.#t,{signal:e}),this.editorDiv.addEventListener("blur",this.#e,{signal:e}),this.editorDiv.addEventListener("input",this.#i,{signal:e}),this.editorDiv.addEventListener("paste",this.#r,{signal:e})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#l),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#o),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#i),this.editorDiv.removeEventListener("paste",this.#r),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#a(){let e=[];this.editorDiv.normalize();for(let t of this.editorDiv.childNodes)e.push(i.#m(t));return e.join(`
`)}#f(){let[e,t]=this.parentDimensions,n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{let{currentLayer:o,div:r}=this,s=r.style.display,a=r.classList.contains("hidden");r.classList.remove("hidden"),r.style.display="hidden",o.div.append(this.div),n=r.getBoundingClientRect(),r.remove(),r.style.display=s,r.classList.toggle("hidden",a)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();let e=this.#s,t=this.#s=this.#a().trimEnd();if(e===t)return;let n=o=>{if(this.#s=o,!o){this.remove();return}this.#p(),this._uiManager.rebuild(this),this.#f()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),this.#f()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){i._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#l),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),zn._l10nPromise.get("pdfjs-free-text-default-content").then(o=>this.editorDiv?.setAttribute("default-content",o)),this.editorDiv.contentEditable=!0;let{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#h}px * var(--scale-factor))`,n.color=this.#n,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),xC(this,this.div,["dblclick","keydown"]),this.width){let[o,r]=this.parentDimensions;if(this.annotationElementId){let{position:s}=this.#d,[a,l]=this.getInitialTranslation();[a,l]=this.pageTranslationToScreen(a,l);let[d,c]=this.pageDimensions,[u,h]=this.pageTranslation,f,p;switch(this.rotation){case 0:f=e+(s[0]-u)/d,p=t+this.height-(s[1]-h)/c;break;case 90:f=e+(s[0]-u)/d,p=t-(s[1]-h)/c,[a,l]=[l,-a];break;case 180:f=e-this.width+(s[0]-u)/d,p=t-(s[1]-h)/c,[a,l]=[-a,-l];break;case 270:f=e+(s[0]-u-this.height*c)/d,p=t+(s[1]-h-this.width*d)/c,[a,l]=[-l,a];break}this.setAt(f*o,p*r,a,l)}else this.setAt(e*o,t*r,this.width*o,this.height*r);this.#p(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#m(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(aC,"")}editorDivPaste(e){let t=e.clipboardData||window.clipboardData,{types:n}=t;if(n.length===1&&n[0]==="text/plain")return;e.preventDefault();let o=i.#_(t.getData("text")||"").replaceAll(aC,`
`);if(!o)return;let r=window.getSelection();if(!r.rangeCount)return;this.editorDiv.normalize(),r.deleteFromDocument();let s=r.getRangeAt(0);if(!o.includes(`
`)){s.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),r.collapseToStart();return}let{startContainer:a,startOffset:l}=s,d=[],c=[];if(a.nodeType===Node.TEXT_NODE){let f=a.parentElement;if(c.push(a.nodeValue.slice(l).replaceAll(aC,"")),f!==this.editorDiv){let p=d;for(let m of this.editorDiv.childNodes){if(m===f){p=c;continue}p.push(i.#m(m))}}d.push(a.nodeValue.slice(0,l).replaceAll(aC,""))}else if(a===this.editorDiv){let f=d,p=0;for(let m of this.editorDiv.childNodes)p++===l&&(f=c),f.push(i.#m(m))}this.#s=`${d.join(`
`)}${o}${c.join(`
`)}`,this.#p();let u=new Range,h=d.reduce((f,p)=>f+p.length,0);for(let{firstChild:f}of this.editorDiv.childNodes)if(f.nodeType===Node.TEXT_NODE){let p=f.nodeValue.length;if(h<=p){u.setStart(f,h),u.setEnd(f,h);break}h-=p}r.removeAllRanges(),r.addRange(u)}#p(){if(this.editorDiv.replaceChildren(),!!this.#s)for(let e of this.#s.split(`
`)){let t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#g(){return this.#s.replaceAll("\xA0"," ")}static#_(e){return e.replaceAll(" ","\xA0")}get contentDiv(){return this.editorDiv}static deserialize(e,t,n){let o=null;if(e instanceof PC){let{data:{defaultAppearanceData:{fontSize:s,fontColor:a},rect:l,rotation:d,id:c},textContent:u,textPosition:h,parent:{page:{pageNumber:f}}}=e;if(!u||u.length===0)return null;o=e={annotationType:bn.FREETEXT,color:Array.from(a),fontSize:s,value:u.join(`
`),position:h,pageIndex:f-1,rect:l.slice(0),rotation:d,id:c,deleted:!1}}let r=super.deserialize(e,t,n);return r.#h=e.fontSize,r.#n=ni.makeHexColor(...e.color),r.#s=i.#_(e.value),r.annotationElementId=e.id||null,r.#d=o,r}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};let t=i._internalPadding*this.parentScale,n=this.getRect(t,t),o=zn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#n),r={annotationType:bn.FREETEXT,color:o,fontSize:this.#h,value:this.#g(),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?r:this.annotationElementId&&!this.#b(r)?null:(r.id=this.annotationElementId,r)}#b(e){let{value:t,fontSize:n,color:o,pageIndex:r}=this.#d;return this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some((s,a)=>s!==o[a])||e.pageIndex!==r}renderAnnotationElement(e){let t=super.renderAnnotationElement(e);if(this.deleted)return t;let{style:n}=t;n.fontSize=`calc(${this.#h}px * var(--scale-factor))`,n.color=this.#n,t.replaceChildren();for(let r of this.#s.split(`
`)){let s=document.createElement("div");s.append(r?document.createTextNode(r):document.createElement("br")),t.append(s)}let o=i._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(o,o),popupContent:this.#s}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}},VC=class{#e;#t=[];#i=[];constructor(e,t=0,n=0,o=!0){let r=1/0,s=-1/0,a=1/0,l=-1/0,c=10**-4;for(let{x:b,y:x,width:E,height:D}of e){let L=Math.floor((b-t)/c)*c,k=Math.ceil((b+E+t)/c)*c,R=Math.floor((x-t)/c)*c,N=Math.ceil((x+D+t)/c)*c,z=[L,R,N,!0],V=[k,R,N,!1];this.#t.push(z,V),r=Math.min(r,L),s=Math.max(s,k),a=Math.min(a,R),l=Math.max(l,N)}let u=s-r+2*n,h=l-a+2*n,f=r-n,p=a-n,m=this.#t.at(o?-1:-2),g=[m[0],m[2]];for(let b of this.#t){let[x,E,D]=b;b[0]=(x-f)/u,b[1]=(E-p)/h,b[2]=(D-p)/h}this.#e={x:f,y:p,width:u,height:h,lastPoint:g}}getOutlines(){this.#t.sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);let e=[];for(let t of this.#t)t[3]?(e.push(...this.#l(t)),this.#n(t)):(this.#s(t),e.push(...this.#l(t)));return this.#o(e)}#o(e){let t=[],n=new Set;for(let s of e){let[a,l,d]=s;t.push([a,l,s],[a,d,s])}t.sort((s,a)=>s[1]-a[1]||s[0]-a[0]);for(let s=0,a=t.length;s<a;s+=2){let l=t[s][2],d=t[s+1][2];l.push(d),d.push(l),n.add(l),n.add(d)}let o=[],r;for(;n.size>0;){let s=n.values().next().value,[a,l,d,c,u]=s;n.delete(s);let h=a,f=l;for(r=[a,d],o.push(r);;){let p;if(n.has(c))p=c;else if(n.has(u))p=u;else break;n.delete(p),[a,l,d,c,u]=p,h!==a&&(r.push(h,f,a,f===l?l:d),h=a),f=f===l?d:l}r.push(h,f)}return new AA(o,this.#e)}#r(e){let t=this.#i,n=0,o=t.length-1;for(;n<=o;){let r=n+o>>1,s=t[r][0];if(s===e)return r;s<e?n=r+1:o=r-1}return o+1}#n([,e,t]){let n=this.#r(e);this.#i.splice(n,0,[e,t])}#s([,e,t]){let n=this.#r(e);for(let o=n;o<this.#i.length;o++){let[r,s]=this.#i[o];if(r!==e)break;if(r===e&&s===t){this.#i.splice(o,1);return}}for(let o=n-1;o>=0;o--){let[r,s]=this.#i[o];if(r!==e)break;if(r===e&&s===t){this.#i.splice(o,1);return}}}#l(e){let[t,n,o]=e,r=[[t,n,o]],s=this.#r(o);for(let a=0;a<s;a++){let[l,d]=this.#i[a];for(let c=0,u=r.length;c<u;c++){let[,h,f]=r[c];if(!(d<=h||f<=l)){if(h>=l){if(f>d)r[c][1]=d;else{if(u===1)return[];r.splice(c,1),c--,u--}continue}r[c][2]=l,f>d&&r.push([t,d,f])}}}return r}},HC=class{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof K0}},AA=class extends HC{#e;#t;constructor(e,t){super(),this.#t=e,this.#e=t}toSVGPath(){let e=[];for(let t of this.#t){let[n,o]=t;e.push(`M${n} ${o}`);for(let r=2;r<t.length;r+=2){let s=t[r],a=t[r+1];s===n?(e.push(`V${a}`),o=a):a===o&&(e.push(`H${s}`),n=s)}e.push("Z")}return e.join(" ")}serialize([e,t,n,o],r){let s=[],a=n-e,l=o-t;for(let d of this.#t){let c=new Array(d.length);for(let u=0;u<d.length;u+=2)c[u]=e+d[u]*a,c[u+1]=o-d[u+1]*l;s.push(c)}return s}get box(){return this.#e}},zC=class i{#e;#t=[];#i;#o;#r=[];#n=new Float64Array(18);#s;#l;#h;#d;#u;#c;#a=[];static#f=8;static#m=2;static#p=i.#f+i.#m;constructor({x:e,y:t},n,o,r,s,a=0){this.#e=n,this.#c=r*o,this.#o=s,this.#n.set([NaN,NaN,NaN,NaN,e,t],6),this.#i=a,this.#d=i.#f*o,this.#h=i.#p*o,this.#u=o,this.#a.push(e,t)}get free(){return!0}isEmpty(){return isNaN(this.#n[8])}#g(){let e=this.#n.subarray(4,6),t=this.#n.subarray(16,18),[n,o,r,s]=this.#e;return[(this.#s+(e[0]-t[0])/2-n)/r,(this.#l+(e[1]-t[1])/2-o)/s,(this.#s+(t[0]-e[0])/2-n)/r,(this.#l+(t[1]-e[1])/2-o)/s]}add({x:e,y:t}){this.#s=e,this.#l=t;let[n,o,r,s]=this.#e,[a,l,d,c]=this.#n.subarray(8,12),u=e-d,h=t-c,f=Math.hypot(u,h);if(f<this.#h)return!1;let p=f-this.#d,m=p/f,g=m*u,b=m*h,x=a,E=l;a=d,l=c,d+=g,c+=b,this.#a?.push(e,t);let D=-b/p,L=g/p,k=D*this.#c,R=L*this.#c;return this.#n.set(this.#n.subarray(2,8),0),this.#n.set([d+k,c+R],4),this.#n.set(this.#n.subarray(14,18),12),this.#n.set([d-k,c-R],16),isNaN(this.#n[6])?(this.#r.length===0&&(this.#n.set([a+k,l+R],2),this.#r.push(NaN,NaN,NaN,NaN,(a+k-n)/r,(l+R-o)/s),this.#n.set([a-k,l-R],14),this.#t.push(NaN,NaN,NaN,NaN,(a-k-n)/r,(l-R-o)/s)),this.#n.set([x,E,a,l,d,c],6),!this.isEmpty()):(this.#n.set([x,E,a,l,d,c],6),Math.abs(Math.atan2(E-l,x-a)-Math.atan2(b,g))<Math.PI/2?([a,l,d,c]=this.#n.subarray(2,6),this.#r.push(NaN,NaN,NaN,NaN,((a+d)/2-n)/r,((l+c)/2-o)/s),[a,l,x,E]=this.#n.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((x+a)/2-n)/r,((E+l)/2-o)/s),!0):([x,E,a,l,d,c]=this.#n.subarray(0,6),this.#r.push(((x+5*a)/6-n)/r,((E+5*l)/6-o)/s,((5*a+d)/6-n)/r,((5*l+c)/6-o)/s,((a+d)/2-n)/r,((l+c)/2-o)/s),[d,c,a,l,x,E]=this.#n.subarray(12,18),this.#t.push(((x+5*a)/6-n)/r,((E+5*l)/6-o)/s,((5*a+d)/6-n)/r,((5*l+c)/6-o)/s,((a+d)/2-n)/r,((l+c)/2-o)/s),!0))}toSVGPath(){if(this.isEmpty())return"";let e=this.#r,t=this.#t,n=this.#n.subarray(4,6),o=this.#n.subarray(16,18),[r,s,a,l]=this.#e,[d,c,u,h]=this.#g();if(isNaN(this.#n[6])&&!this.isEmpty())return`M${(this.#n[2]-r)/a} ${(this.#n[3]-s)/l} L${(this.#n[4]-r)/a} ${(this.#n[5]-s)/l} L${d} ${c} L${u} ${h} L${(this.#n[16]-r)/a} ${(this.#n[17]-s)/l} L${(this.#n[14]-r)/a} ${(this.#n[15]-s)/l} Z`;let f=[];f.push(`M${e[4]} ${e[5]}`);for(let p=6;p<e.length;p+=6)isNaN(e[p])?f.push(`L${e[p+4]} ${e[p+5]}`):f.push(`C${e[p]} ${e[p+1]} ${e[p+2]} ${e[p+3]} ${e[p+4]} ${e[p+5]}`);f.push(`L${(n[0]-r)/a} ${(n[1]-s)/l} L${d} ${c} L${u} ${h} L${(o[0]-r)/a} ${(o[1]-s)/l}`);for(let p=t.length-6;p>=6;p-=6)isNaN(t[p])?f.push(`L${t[p+4]} ${t[p+5]}`):f.push(`C${t[p]} ${t[p+1]} ${t[p+2]} ${t[p+3]} ${t[p+4]} ${t[p+5]}`);return f.push(`L${t[4]} ${t[5]} Z`),f.join(" ")}getOutlines(){let e=this.#r,t=this.#t,n=this.#n,o=n.subarray(4,6),r=n.subarray(16,18),[s,a,l,d]=this.#e,c=new Float64Array((this.#a?.length??0)+2);for(let b=0,x=c.length-2;b<x;b+=2)c[b]=(this.#a[b]-s)/l,c[b+1]=(this.#a[b+1]-a)/d;c[c.length-2]=(this.#s-s)/l,c[c.length-1]=(this.#l-a)/d;let[u,h,f,p]=this.#g();if(isNaN(n[6])&&!this.isEmpty()){let b=new Float64Array(36);return b.set([NaN,NaN,NaN,NaN,(n[2]-s)/l,(n[3]-a)/d,NaN,NaN,NaN,NaN,(n[4]-s)/l,(n[5]-a)/d,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(n[16]-s)/l,(n[17]-a)/d,NaN,NaN,NaN,NaN,(n[14]-s)/l,(n[15]-a)/d],0),new K0(b,c,this.#e,this.#u,this.#i,this.#o)}let m=new Float64Array(this.#r.length+24+this.#t.length),g=e.length;for(let b=0;b<g;b+=2){if(isNaN(e[b])){m[b]=m[b+1]=NaN;continue}m[b]=e[b],m[b+1]=e[b+1]}m.set([NaN,NaN,NaN,NaN,(o[0]-s)/l,(o[1]-a)/d,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(r[0]-s)/l,(r[1]-a)/d],g),g+=24;for(let b=t.length-6;b>=6;b-=6)for(let x=0;x<6;x+=2){if(isNaN(t[b+x])){m[g]=m[g+1]=NaN,g+=2;continue}m[g]=t[b+x],m[g+1]=t[b+x+1],g+=2}return m.set([NaN,NaN,NaN,NaN,t[4],t[5]],g),new K0(m,c,this.#e,this.#u,this.#i,this.#o)}},K0=class extends HC{#e;#t=null;#i;#o;#r;#n;#s;constructor(e,t,n,o,r,s){super(),this.#s=e,this.#r=t,this.#e=n,this.#n=o,this.#i=r,this.#o=s,this.#d(s);let{x:a,y:l,width:d,height:c}=this.#t;for(let u=0,h=e.length;u<h;u+=2)e[u]=(e[u]-a)/d,e[u+1]=(e[u+1]-l)/c;for(let u=0,h=t.length;u<h;u+=2)t[u]=(t[u]-a)/d,t[u+1]=(t[u+1]-l)/c}toSVGPath(){let e=[`M${this.#s[4]} ${this.#s[5]}`];for(let t=6,n=this.#s.length;t<n;t+=6){if(isNaN(this.#s[t])){e.push(`L${this.#s[t+4]} ${this.#s[t+5]}`);continue}e.push(`C${this.#s[t]} ${this.#s[t+1]} ${this.#s[t+2]} ${this.#s[t+3]} ${this.#s[t+4]} ${this.#s[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,n,o],r){let s=n-e,a=o-t,l,d;switch(r){case 0:l=this.#l(this.#s,e,o,s,-a),d=this.#l(this.#r,e,o,s,-a);break;case 90:l=this.#h(this.#s,e,t,s,a),d=this.#h(this.#r,e,t,s,a);break;case 180:l=this.#l(this.#s,n,t,-s,a),d=this.#l(this.#r,n,t,-s,a);break;case 270:l=this.#h(this.#s,n,o,-s,-a),d=this.#h(this.#r,n,o,-s,-a);break}return{outline:Array.from(l),points:[Array.from(d)]}}#l(e,t,n,o,r){let s=new Float64Array(e.length);for(let a=0,l=e.length;a<l;a+=2)s[a]=t+e[a]*o,s[a+1]=n+e[a+1]*r;return s}#h(e,t,n,o,r){let s=new Float64Array(e.length);for(let a=0,l=e.length;a<l;a+=2)s[a]=t+e[a+1]*o,s[a+1]=n+e[a]*r;return s}#d(e){let t=this.#s,n=t[4],o=t[5],r=n,s=o,a=n,l=o,d=n,c=o,u=e?Math.max:Math.min;for(let g=6,b=t.length;g<b;g+=6){if(isNaN(t[g]))r=Math.min(r,t[g+4]),s=Math.min(s,t[g+5]),a=Math.max(a,t[g+4]),l=Math.max(l,t[g+5]),c<t[g+5]?(d=t[g+4],c=t[g+5]):c===t[g+5]&&(d=u(d,t[g+4]));else{let x=ni.bezierBoundingBox(n,o,...t.slice(g,g+6));r=Math.min(r,x[0]),s=Math.min(s,x[1]),a=Math.max(a,x[2]),l=Math.max(l,x[3]),c<x[3]?(d=x[2],c=x[3]):c===x[3]&&(d=u(d,x[2]))}n=t[g+4],o=t[g+5]}let h=r-this.#i,f=s-this.#i,p=a-r+2*this.#i,m=l-s+2*this.#i;this.#t={x:h,y:f,width:p,height:m,lastPoint:[d,c]}}get box(){return this.#t}getNewOutline(e,t){let{x:n,y:o,width:r,height:s}=this.#t,[a,l,d,c]=this.#e,u=r*d,h=s*c,f=n*d+a,p=o*c+l,m=new zC({x:this.#r[0]*u+f,y:this.#r[1]*h+p},this.#e,this.#n,e,this.#o,t??this.#i);for(let g=2;g<this.#r.length;g+=2)m.add({x:this.#r[g]*u+f,y:this.#r[g+1]*h+p});return m.getOutlines()}},jC=class i{#e=this.#m.bind(this);#t=this.#g.bind(this);#i=null;#o=null;#r;#n=null;#s=!1;#l=!1;#h=null;#d;#u=null;#c;static get _keyboardManager(){return yn(this,"_keyboardManager",new Op([[["Escape","mac+Escape"],i.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],i.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],i.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],i.prototype._moveToPrevious],[["Home","mac+Home"],i.prototype._moveToBeginning],[["End","mac+End"],i.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#l=!1,this.#c=Fi.HIGHLIGHT_COLOR,this.#h=e):(this.#l=!0,this.#c=Fi.HIGHLIGHT_DEFAULT_COLOR),this.#u=e?._uiManager||t,this.#d=this.#u._eventBus,this.#r=e?.color||this.#u?.highlightColors.values().next().value||"#FFFF98"}renderButton(){let e=this.#i=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);let t=this.#u._signal;e.addEventListener("click",this.#p.bind(this),{signal:t}),e.addEventListener("keydown",this.#e,{signal:t});let n=this.#o=document.createElement("span");return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=this.#r,e.append(n),e}renderMainDropdown(){let e=this.#n=this.#a();return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}#a(){let e=document.createElement("div"),t=this.#u._signal;e.addEventListener("contextmenu",Ms,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(let[n,o]of this.#u.highlightColors){let r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",o),r.title=n,r.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${n}`);let s=document.createElement("span");r.append(s),s.className="swatch",s.style.backgroundColor=o,r.setAttribute("aria-selected",o===this.#r),r.addEventListener("click",this.#f.bind(this,o),{signal:t}),e.append(r)}return e.addEventListener("keydown",this.#e,{signal:t}),e}#f(e,t){t.stopPropagation(),this.#d.dispatch("switchannotationeditorparams",{source:this,type:this.#c,value:e})}_colorSelectFromKeyboard(e){if(e.target===this.#i){this.#p(e);return}let t=e.target.getAttribute("data-color");t&&this.#f(t,e)}_moveToNext(e){if(!this.#_){this.#p(e);return}if(e.target===this.#i){this.#n.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#n?.firstChild||e.target===this.#i){this.#_&&this._hideDropdownFromKeyboard();return}this.#_||this.#p(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#_){this.#p(e);return}this.#n.firstChild?.focus()}_moveToEnd(e){if(!this.#_){this.#p(e);return}this.#n.lastChild?.focus()}#m(e){i._keyboardManager.exec(this,e)}#p(e){if(this.#_){this.hideDropdown();return}if(this.#s=e.detail===0,window.addEventListener("pointerdown",this.#t,{signal:this.#u._signal}),this.#n){this.#n.classList.remove("hidden");return}let t=this.#n=this.#a();this.#i.append(t)}#g(e){this.#n?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),window.removeEventListener("pointerdown",this.#t)}get#_(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#l){if(!this.#_){this.#h?.unselect();return}this.hideDropdown(),this.#i.focus({preventScroll:!0,focusVisible:this.#s})}}updateColor(e){if(this.#o&&(this.#o.style.backgroundColor=e),!this.#n)return;let t=this.#u.highlightColors.values();for(let n of this.#n.children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){this.#i?.remove(),this.#i=null,this.#o=null,this.#n?.remove(),this.#n=null}},$C=class i extends zn{#e=null;#t=0;#i;#o=null;#r=null;#n=null;#s=null;#l=0;#h=null;#d=null;#u=null;#c=!1;#a=this.#v.bind(this);#f=null;#m;#p=null;#g="";#_;#b="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _l10nPromise;static _type="highlight";static _editorType=bn.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){let e=i.prototype;return yn(this,"_keyboardManager",new Op([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super(ci(Le({},e),{name:"highlightEditor"})),this.color=e.color||i._defaultColor,this.#_=e.thickness||i._defaultThickness,this.#m=e.opacity||i._defaultOpacity,this.#i=e.boxes||null,this.#b=e.methodOfCreation||"",this.#g=e.text||"",this._isDraggable=!1,e.highlightId>-1?(this.#c=!0,this.#C(e),this.#E()):(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#s=e.focusNode,this.#l=e.focusOffset,this.#y(),this.#E(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#c?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#_,methodOfCreation:this.#b}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#y(){let e=new VC(this.#i,.001);this.#d=e.getOutlines(),{x:this.x,y:this.y,width:this.width,height:this.height}=this.#d.box;let t=new VC(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#n=t.getOutlines();let{lastPoint:n}=this.#n.box;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}#C({highlightOutlines:e,highlightId:t,clipPathId:n}){this.#d=e;let o=1.5;if(this.#n=e.getNewOutline(this.#_/2+o,.0025),t>=0)this.#u=t,this.#o=n,this.parent.drawLayer.finalizeLine(t,e),this.#p=this.parent.drawLayer.highlightOutline(this.#n);else if(this.parent){let c=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(this.#u,e),this.parent.drawLayer.updateBox(this.#u,i.#x(this.#d.box,(c-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#p,this.#n),this.parent.drawLayer.updateBox(this.#p,i.#x(this.#n.box,c))}let{x:r,y:s,width:a,height:l}=e.box;switch(this.rotation){case 0:this.x=r,this.y=s,this.width=a,this.height=l;break;case 90:{let[c,u]=this.parentDimensions;this.x=s,this.y=1-r,this.width=a*u/c,this.height=l*c/u;break}case 180:this.x=1-r,this.y=1-s,this.width=a,this.height=l;break;case 270:{let[c,u]=this.parentDimensions;this.x=1-s,this.y=r,this.width=a*u/c,this.height=l*c/u;break}}let{lastPoint:d}=this.#n.box;this.#f=[(d[0]-r)/a,(d[1]-s)/l]}static initialize(e,t){zn.initialize(e,t),i._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case Fi.HIGHLIGHT_DEFAULT_COLOR:i._defaultColor=t;break;case Fi.HIGHLIGHT_THICKNESS:i._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#f}updateParams(e,t){switch(e){case Fi.HIGHLIGHT_COLOR:this.#w(t);break;case Fi.HIGHLIGHT_THICKNESS:this.#S(t);break}}static get defaultPropertiesToUpdate(){return[[Fi.HIGHLIGHT_DEFAULT_COLOR,i._defaultColor],[Fi.HIGHLIGHT_THICKNESS,i._defaultThickness]]}get propertiesToUpdate(){return[[Fi.HIGHLIGHT_COLOR,this.color||i._defaultColor],[Fi.HIGHLIGHT_THICKNESS,this.#_||i._defaultThickness],[Fi.HIGHLIGHT_FREE,this.#c]]}#w(e){let t=o=>{this.color=o,this.parent?.drawLayer.changeColor(this.#u,o),this.#r?.updateColor(o)},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Fi.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}#S(e){let t=this.#_,n=o=>{this.#_=o,this.#O(o)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Fi.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}addEditToolbar(){return ze(this,null,function*(){let e=yield YV(i.prototype,this,"addEditToolbar").call(this);return e?(this._uiManager.highlightColors&&(this.#r=new jC({editor:this}),e.addColorPicker(this.#r)),e):null})}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#D())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#D())}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#A(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#E(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#A():e&&(this.#E(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#O(e){if(!this.#c)return;this.#C({highlightOutlines:this.#d.getNewOutline(e/2)}),this.fixAndSetPosition();let[t,n]=this.parentDimensions;this.setDims(this.width*t,this.height*n)}#A(){this.#u===null||!this.parent||(this.parent.drawLayer.remove(this.#u),this.#u=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#E(e=this.parent){this.#u===null&&({id:this.#u,clipPathId:this.#o}=e.drawLayer.highlight(this.#d,this.color,this.#m),this.#p=e.drawLayer.highlightOutline(this.#n),this.#h&&(this.#h.style.clipPath=this.#o))}static#x({x:e,y:t,width:n,height:o},r){switch(r){case 90:return{x:1-t-o,y:e,width:o,height:n};case 180:return{x:1-e-n,y:1-t-o,width:n,height:o};case 270:return{x:t,y:1-e-n,width:o,height:n}}return{x:e,y:t,width:n,height:o}}rotate(e){let{drawLayer:t}=this.parent,n;this.#c?(e=(e-this.rotation+360)%360,n=i.#x(this.#d.box,e)):n=i.#x(this,e),t.rotate(this.#u,e),t.rotate(this.#p,e),t.updateBox(this.#u,n),t.updateBox(this.#p,i.#x(this.#n.box,e))}render(){if(this.div)return this.div;let e=super.render();this.#g&&(e.setAttribute("aria-label",this.#g),e.setAttribute("role","mark")),this.#c?e.classList.add("free"):this.div.addEventListener("keydown",this.#a,{signal:this._uiManager._signal});let t=this.#h=document.createElement("div");e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#o;let[n,o]=this.parentDimensions;return this.setDims(this.width*n,this.height*o),xC(this,this.#h,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.parent.drawLayer.addClass(this.#p,"hovered")}pointerleave(){this.parent.drawLayer.removeClass(this.#p,"hovered")}#v(e){i._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#T(!0);break;case 1:case 3:this.#T(!1);break}}#T(e){if(!this.#e)return;let t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#s,this.#l)}select(){super.select(),this.#p&&(this.parent?.drawLayer.removeClass(this.#p,"hovered"),this.parent?.drawLayer.addClass(this.#p,"selected"))}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.removeClass(this.#p,"selected"),this.#c||this.#T(!1))}get _mustFixPosition(){return!this.#c}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(this.#u,e),this.parent.drawLayer.show(this.#p,e))}#D(){return this.#c?this.rotation:0}#M(){if(this.#c)return null;let[e,t]=this.pageDimensions,[n,o]=this.pageTranslation,r=this.#i,s=new Float32Array(r.length*8),a=0;for(let{x:l,y:d,width:c,height:u}of r){let h=l*e+n,f=(1-d-u)*t+o;s[a]=s[a+4]=h,s[a+1]=s[a+3]=f,s[a+2]=s[a+6]=h+c*e,s[a+5]=s[a+7]=f+u*t,a+=8}return s}#I(e){return this.#d.serialize(e,this.#D())}static startHighlighting(e,t,{target:n,x:o,y:r}){let{x:s,y:a,width:l,height:d}=n.getBoundingClientRect(),c=m=>{this.#R(e,m)},u=e._signal,h={capture:!0,passive:!1,signal:u},f=m=>{m.preventDefault(),m.stopPropagation()},p=m=>{n.removeEventListener("pointermove",c),window.removeEventListener("blur",p),window.removeEventListener("pointerup",p),window.removeEventListener("pointerdown",f,h),window.removeEventListener("contextmenu",Ms),this.#F(e,m)};window.addEventListener("blur",p,{signal:u}),window.addEventListener("pointerup",p,{signal:u}),window.addEventListener("pointerdown",f,h),window.addEventListener("contextmenu",Ms,{signal:u}),n.addEventListener("pointermove",c,{signal:u}),this._freeHighlight=new zC({x:o,y:r},[s,a,l,d],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static#R(e,t){this._freeHighlight.add(t)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#F(e,t){this._freeHighlight.isEmpty()?e.drawLayer.removeFreeHighlight(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(e,t,n){let o=super.deserialize(e,t,n),{rect:[r,s,a,l],color:d,quadPoints:c}=e;o.color=ni.makeHexColor(...d),o.#m=e.opacity;let[u,h]=o.pageDimensions;o.width=(a-r)/u,o.height=(l-s)/h;let f=o.#i=[];for(let p=0;p<c.length;p+=8)f.push({x:(c[4]-a)/u,y:(l-(1-c[p+5]))/h,width:(c[p+2]-c[p])/u,height:(c[p+5]-c[p+1])/h});return o.#y(),o}serialize(e=!1){if(this.isEmpty()||e)return null;let t=this.getRect(0,0),n=zn._colorManager.convert(this.color);return{annotationType:bn.HIGHLIGHT,color:n,opacity:this.#m,thickness:this.#_,quadPoints:this.#M(),outlines:this.#I(t),pageIndex:this.pageIndex,rect:t,rotation:this.#D(),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}},kA=class i extends zn{#e=0;#t=0;#i=this.canvasPointermove.bind(this);#o=this.canvasPointerleave.bind(this);#r=this.canvasPointerup.bind(this);#n=this.canvasPointerdown.bind(this);#s=null;#l=new Path2D;#h=!1;#d=!1;#u=!1;#c=null;#a=0;#f=0;#m=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=bn.INK;constructor(e){super(ci(Le({},e),{name:"inkEditor"})),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,t){zn.initialize(e,t)}static updateDefaultParams(e,t){switch(e){case Fi.INK_THICKNESS:i._defaultThickness=t;break;case Fi.INK_COLOR:i._defaultColor=t;break;case Fi.INK_OPACITY:i._defaultOpacity=t/100;break}}updateParams(e,t){switch(e){case Fi.INK_THICKNESS:this.#p(t);break;case Fi.INK_COLOR:this.#g(t);break;case Fi.INK_OPACITY:this.#_(t);break}}static get defaultPropertiesToUpdate(){return[[Fi.INK_THICKNESS,i._defaultThickness],[Fi.INK_COLOR,i._defaultColor||zn._defaultLineColor],[Fi.INK_OPACITY,Math.round(i._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Fi.INK_THICKNESS,this.thickness||i._defaultThickness],[Fi.INK_COLOR,this.color||i._defaultColor||zn._defaultLineColor],[Fi.INK_OPACITY,Math.round(100*(this.opacity??i._defaultOpacity))]]}#p(e){let t=o=>{this.thickness=o,this.#V()},n=this.thickness;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Fi.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#g(e){let t=o=>{this.color=o,this.#v()},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Fi.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#_(e){let t=o=>{this.opacity=o,this.#v()};e/=100;let n=this.opacity;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Fi.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#D(),this.#M()),this.isAttachedToDOM||(this.parent.add(this),this.#I()),this.#V()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#s&&(clearTimeout(this.#s),this.#s=null),this.#c?.disconnect(),this.#c=null,super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){let[e,t]=this.parentDimensions,n=this.width*e,o=this.height*t;this.setDimensions(n,o)}enableEditMode(){this.#h||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#n,{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#n))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#b(){let{parentRotation:e,parentDimensions:[t,n]}=this;switch(e){case 90:return[0,n,n,t];case 180:return[t,n,t,n];case 270:return[t,0,n,t];default:return[0,0,t,n]}}#y(){let{ctx:e,color:t,opacity:n,thickness:o,parentScale:r,scaleFactor:s}=this;e.lineWidth=o*r/s,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${t}${hde(n)}`}#C(e,t){let n=this._uiManager._signal;this.canvas.addEventListener("contextmenu",Ms,{signal:n}),this.canvas.addEventListener("pointerleave",this.#o,{signal:n}),this.canvas.addEventListener("pointermove",this.#i,{signal:n}),this.canvas.addEventListener("pointerup",this.#r,{signal:n}),this.canvas.removeEventListener("pointerdown",this.#n),this.isEditing=!0,this.#u||(this.#u=!0,this.#I(),this.thickness||=i._defaultThickness,this.color||=i._defaultColor||zn._defaultLineColor,this.opacity??=i._defaultOpacity),this.currentPath.push([e,t]),this.#d=!1,this.#y(),this.#m=()=>{this.#A(),this.#m&&window.requestAnimationFrame(this.#m)},window.requestAnimationFrame(this.#m)}#w(e,t){let[n,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===n&&t===o)return;let r=this.currentPath,s=this.#l;if(r.push([e,t]),this.#d=!0,r.length<=2){s.moveTo(...r[0]),s.lineTo(e,t);return}r.length===3&&(this.#l=s=new Path2D,s.moveTo(...r[0])),this.#E(s,...r.at(-3),...r.at(-2),e,t)}#S(){if(this.currentPath.length===0)return;let e=this.currentPath.at(-1);this.#l.lineTo(...e)}#O(e,t){this.#m=null,e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),this.#w(e,t),this.#S();let n;if(this.currentPath.length!==1)n=this.#x();else{let l=[e,t];n=[[l,l.slice(),l.slice(),l]]}let o=this.#l,r=this.currentPath;this.currentPath=[],this.#l=new Path2D;let s=()=>{this.allRawPaths.push(r),this.paths.push(n),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},a=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#D(),this.#M()),this.#V())};this.addCommands({cmd:s,undo:a,mustExec:!0})}#A(){if(!this.#d)return;this.#d=!1;let e=Math.ceil(this.thickness*this.parentScale),t=this.currentPath.slice(-3),n=t.map(c=>c[0]),o=t.map(c=>c[1]),r=Math.min(...n)-e,s=Math.max(...n)+e,a=Math.min(...o)-e,l=Math.max(...o)+e,{ctx:d}=this;d.save(),d.clearRect(0,0,this.canvas.width,this.canvas.height);for(let c of this.bezierPath2D)d.stroke(c);d.stroke(this.#l),d.restore()}#E(e,t,n,o,r,s,a){let l=(t+o)/2,d=(n+r)/2,c=(o+s)/2,u=(r+a)/2;e.bezierCurveTo(l+2*(o-l)/3,d+2*(r-d)/3,c+2*(o-c)/3,u+2*(r-u)/3,c,u)}#x(){let e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];let t=[],n,[o,r]=e[0];for(n=1;n<e.length-2;n++){let[h,f]=e[n],[p,m]=e[n+1],g=(h+p)/2,b=(f+m)/2,x=[o+2*(h-o)/3,r+2*(f-r)/3],E=[g+2*(h-g)/3,b+2*(f-b)/3];t.push([[o,r],x,E,[g,b]]),[o,r]=[g,b]}let[s,a]=e[n],[l,d]=e[n+1],c=[o+2*(s-o)/3,r+2*(a-r)/3],u=[l+2*(s-l)/3,d+2*(a-d)/3];return t.push([[o,r],c,u,[l,d]]),t}#v(){if(this.isEmpty()){this.#F();return}this.#y();let{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),this.#F();for(let n of this.bezierPath2D)t.stroke(n)}commit(){this.#h||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#h=!0,this.div.classList.add("disabled"),this.#V(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||this.#h||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#C(e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),this.#w(e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),this.#T(e)}canvasPointerleave(e){this.#T(e)}#T(e){this.canvas.removeEventListener("pointerleave",this.#o),this.canvas.removeEventListener("pointermove",this.#i),this.canvas.removeEventListener("pointerup",this.#r),this.canvas.addEventListener("pointerdown",this.#n,{signal:this._uiManager._signal}),this.#s&&clearTimeout(this.#s),this.#s=setTimeout(()=>{this.#s=null,this.canvas.removeEventListener("contextmenu",Ms)},10),this.#O(e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#D(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#M(){this.#c=new ResizeObserver(e=>{let t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)}),this.#c.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#c?.disconnect(),this.#c=null},{once:!0})}get isResizable(){return!this.isEmpty()&&this.#h}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");let[n,o,r,s]=this.#b();if(this.setAt(n,o,0,0),this.setDims(r,s),this.#D(),this.width){let[a,l]=this.parentDimensions;this.setAspectRatio(this.width*a,this.height*l),this.setAt(e*a,t*l,this.width*a,this.height*l),this.#u=!0,this.#I(),this.setDims(this.width*a,this.height*l),this.#v(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#M(),this.div}#I(){if(!this.#u)return;let[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),this.#F()}setDimensions(e,t){let n=Math.round(e),o=Math.round(t);if(this.#a===n&&this.#f===o)return;this.#a=n,this.#f=o,this.canvas.style.visibility="hidden";let[r,s]=this.parentDimensions;this.width=e/r,this.height=t/s,this.fixAndSetPosition(),this.#h&&this.#R(e,t),this.#I(),this.#v(),this.canvas.style.visibility="visible",this.fixDims()}#R(e,t){let n=this.#$(),o=(e-n)/this.#t,r=(t-n)/this.#e;this.scaleFactor=Math.min(o,r)}#F(){let e=this.#$()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}static#L(e){let t=new Path2D;for(let n=0,o=e.length;n<o;n++){let[r,s,a,l]=e[n];n===0&&t.moveTo(...r),t.bezierCurveTo(s[0],s[1],a[0],a[1],l[0],l[1])}return t}static#P(e,t,n){let[o,r,s,a]=t;switch(n){case 0:for(let l=0,d=e.length;l<d;l+=2)e[l]+=o,e[l+1]=a-e[l+1];break;case 90:for(let l=0,d=e.length;l<d;l+=2){let c=e[l];e[l]=e[l+1]+o,e[l+1]=c+r}break;case 180:for(let l=0,d=e.length;l<d;l+=2)e[l]=s-e[l],e[l+1]+=r;break;case 270:for(let l=0,d=e.length;l<d;l+=2){let c=e[l];e[l]=s-e[l+1],e[l+1]=a-c}break;default:throw new Error("Invalid rotation")}return e}static#B(e,t,n){let[o,r,s,a]=t;switch(n){case 0:for(let l=0,d=e.length;l<d;l+=2)e[l]-=o,e[l+1]=a-e[l+1];break;case 90:for(let l=0,d=e.length;l<d;l+=2){let c=e[l];e[l]=e[l+1]-r,e[l+1]=c-o}break;case 180:for(let l=0,d=e.length;l<d;l+=2)e[l]=s-e[l],e[l+1]-=r;break;case 270:for(let l=0,d=e.length;l<d;l+=2){let c=e[l];e[l]=a-e[l+1],e[l+1]=s-c}break;default:throw new Error("Invalid rotation")}return e}#j(e,t,n,o){let r=[],s=this.thickness/2,a=e*t+s,l=e*n+s;for(let d of this.paths){let c=[],u=[];for(let h=0,f=d.length;h<f;h++){let[p,m,g,b]=d[h];if(p[0]===b[0]&&p[1]===b[1]&&f===1){let V=e*p[0]+a,S=e*p[1]+l;c.push(V,S),u.push(V,S);break}let x=e*p[0]+a,E=e*p[1]+l,D=e*m[0]+a,L=e*m[1]+l,k=e*g[0]+a,R=e*g[1]+l,N=e*b[0]+a,z=e*b[1]+l;h===0&&(c.push(x,E),u.push(x,E)),c.push(D,L,k,R,N,z),u.push(D,L),h===f-1&&u.push(N,z)}r.push({bezier:i.#P(c,o,this.rotation),points:i.#P(u,o,this.rotation)})}return r}#N(){let e=1/0,t=-1/0,n=1/0,o=-1/0;for(let r of this.paths)for(let[s,a,l,d]of r){let c=ni.bezierBoundingBox(...s,...a,...l,...d);e=Math.min(e,c[0]),n=Math.min(n,c[1]),t=Math.max(t,c[2]),o=Math.max(o,c[3])}return[e,n,t,o]}#$(){return this.#h?Math.ceil(this.thickness*this.parentScale):0}#V(e=!1){if(this.isEmpty())return;if(!this.#h){this.#v();return}let t=this.#N(),n=this.#$();this.#t=Math.max(zn.MIN_SIZE,t[2]-t[0]),this.#e=Math.max(zn.MIN_SIZE,t[3]-t[1]);let o=Math.ceil(n+this.#t*this.scaleFactor),r=Math.ceil(n+this.#e*this.scaleFactor),[s,a]=this.parentDimensions;this.width=o/s,this.height=r/a,this.setAspectRatio(o,r);let l=this.translationX,d=this.translationY;this.translationX=-t[0],this.translationY=-t[1],this.#I(),this.#v(),this.#a=o,this.#f=r,this.setDims(o,r);let c=e?n/this.scaleFactor/2:0;this.translate(l-this.translationX-c,d-this.translationY-c)}static deserialize(e,t,n){if(e instanceof NC)return null;let o=super.deserialize(e,t,n);o.thickness=e.thickness,o.color=ni.makeHexColor(...e.color),o.opacity=e.opacity;let[r,s]=o.pageDimensions,a=o.width*r,l=o.height*s,d=o.parentScale,c=e.thickness/2;o.#h=!0,o.#a=Math.round(a),o.#f=Math.round(l);let{paths:u,rect:h,rotation:f}=e;for(let{bezier:m}of u){m=i.#B(m,h,f);let g=[];o.paths.push(g);let b=d*(m[0]-c),x=d*(m[1]-c);for(let D=2,L=m.length;D<L;D+=6){let k=d*(m[D]-c),R=d*(m[D+1]-c),N=d*(m[D+2]-c),z=d*(m[D+3]-c),V=d*(m[D+4]-c),S=d*(m[D+5]-c);g.push([[b,x],[k,R],[N,z],[V,S]]),b=V,x=S}let E=this.#L(g);o.bezierPath2D.push(E)}let p=o.#N();return o.#t=Math.max(zn.MIN_SIZE,p[2]-p[0]),o.#e=Math.max(zn.MIN_SIZE,p[3]-p[1]),o.#R(a,l),o}serialize(){if(this.isEmpty())return null;let e=this.getRect(0,0),t=zn._colorManager.convert(this.ctx.strokeStyle);return{annotationType:bn.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:this.#j(this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}},MA=class i extends zn{#e=null;#t=null;#i=null;#o=null;#r=null;#n="";#s=null;#l=!1;#h=null;#d=null;#u=!1;#c=!1;static _type="stamp";static _editorType=bn.STAMP;constructor(e){super(ci(Le({},e),{name:"stampEditor"})),this.#o=e.bitmapUrl,this.#r=e.bitmapFile}static initialize(e,t){zn.initialize(e,t)}static get supportedTypes(){return yn(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(t=>`image/${t}`))}static get supportedTypesStr(){return yn(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(bn.STAMP,{bitmapFile:e.getAsFile()})}#a(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#u=e.isSvg),e.file&&(this.#n=e.file.name),this.#p()}#f(){this.#i=null,this._uiManager.enableWaiting(!1),this.#s&&this.div.focus()}#m(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(n=>this.#a(n,!0)).finally(()=>this.#f());return}if(this.#o){let n=this.#o;this.#o=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(n).then(o=>this.#a(o)).finally(()=>this.#f());return}if(this.#r){let n=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(n).then(o=>this.#a(o)).finally(()=>this.#f());return}let e=document.createElement("input");e.type="file",e.accept=i.supportedTypesStr;let t=this._uiManager._signal;this.#i=new Promise(n=>{e.addEventListener("change",()=>ze(this,null,function*(){if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);let o=yield this._uiManager.imageManager.getFromFile(e.files[0]);this.#a(o)}n()}),{signal:t}),e.addEventListener("cancel",()=>{this.remove(),n()},{signal:t})}).finally(()=>this.#f()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#s?.remove(),this.#s=null,this.#h?.disconnect(),this.#h=null,this.#d&&(clearTimeout(this.#d),this.#d=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#m();return}super.rebuild(),this.div!==null&&(this.#t&&this.#s===null&&this.#m(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#i||this.#e||this.#o||this.#r||this.#t)}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#e?this.#p():this.#m(),this.width){let[n,o]=this.parentDimensions;this.setAt(e*n,t*o,this.width*n,this.height*o)}return this.div}#p(){let{div:e}=this,{width:t,height:n}=this.#e,[o,r]=this.pageDimensions,s=.75;if(this.width)t=this.width*o,n=this.height*r;else if(t>s*o||n>s*r){let c=Math.min(s*o/t,s*r/n);t*=c,n*=c}let[a,l]=this.parentDimensions;this.setDims(t*a/o,n*l/r),this._uiManager.enableWaiting(!1);let d=this.#s=document.createElement("canvas");e.append(d),e.hidden=!1,this.#y(t,n),this.#w(),this.#c||(this.parent.addUndoableEditor(this),this.#c=!0),this._reportTelemetry({action:"inserted_image"}),this.#n&&d.setAttribute("aria-label",this.#n)}#g(e,t){let[n,o]=this.parentDimensions;this.width=e/n,this.height=t/o,this.setDims(e,t),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#d!==null&&clearTimeout(this.#d);let r=200;this.#d=setTimeout(()=>{this.#d=null,this.#y(e,t)},r)}#_(e,t){let{width:n,height:o}=this.#e,r=n,s=o,a=this.#e;for(;r>2*e||s>2*t;){let l=r,d=s;r>2*e&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2)),s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2));let c=new OffscreenCanvas(r,s);c.getContext("2d").drawImage(a,0,0,l,d,0,0,r,s),a=c.transferToImageBitmap()}return a}#b(e,t,n){return ze(this,null,function*(){if(this.#l||(this.#l=!0,!(yield this._uiManager.isMLEnabledFor("altText"))||this.hasAltText()))return;let s=new OffscreenCanvas(t,n).getContext("2d",{willReadFrequently:!0});s.drawImage(e,0,0,e.width,e.height,0,0,t,n);let l=(yield this._uiManager.mlGuess({service:"moz-image-to-text",request:{data:s.getImageData(0,0,t,n).data,width:t,height:n,channels:4}}))?.output||"";this.parent&&l&&!this.hasAltText()&&(this.altTextData={altText:l,decorative:!1})})}#y(e,t){e=Math.ceil(e),t=Math.ceil(t);let n=this.#s;if(!n||n.width===e&&n.height===t)return;n.width=e,n.height=t;let o=this.#u?this.#e:this.#_(e,t);this.#b(o,e,t);let r=n.getContext("2d");r.filter=this._uiManager.hcmFilter,r.drawImage(o,0,0,o.width,o.height,0,0,e,t)}getImageForAltText(){return this.#s}#C(e){if(e){if(this.#u){let o=this._uiManager.imageManager.getSvgUrl(this.#t);if(o)return o}let t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#u){let[t,n]=this.pageDimensions,o=Math.round(this.width*t*zu.PDF_TO_CSS_UNITS),r=Math.round(this.height*n*zu.PDF_TO_CSS_UNITS),s=new OffscreenCanvas(o,r);return s.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,o,r),s.transferToImageBitmap()}return structuredClone(this.#e)}#w(){this._uiManager._signal&&(this.#h=new ResizeObserver(e=>{let t=e[0].contentRect;t.width&&t.height&&this.#g(t.width,t.height)}),this.#h.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#h?.disconnect(),this.#h=null},{once:!0}))}static deserialize(e,t,n){if(e instanceof BC)return null;let o=super.deserialize(e,t,n),{rect:r,bitmapUrl:s,bitmapId:a,isSvg:l,accessibilityData:d}=e;a&&n.imageManager.isValidId(a)?o.#t=a:o.#o=s,o.#u=l;let[c,u]=o.pageDimensions;return o.width=(r[2]-r[0])/c,o.height=(r[3]-r[1])/u,d&&(o.altTextData=d),o}serialize(e=!1,t=null){if(this.isEmpty())return null;let n={annotationType:bn.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#u,structTreeParentId:this._structTreeParentId};if(e)return n.bitmapUrl=this.#C(!0),n.accessibilityData=this.altTextData,n;let{decorative:o,altText:r}=this.altTextData;if(!o&&r&&(n.accessibilityData={type:"Figure",alt:r}),t===null)return n;t.stamps||=new Map;let s=this.#u?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:s,serialized:n}),n.bitmap=this.#C(!1);else if(this.#u){let a=t.stamps.get(this.#t);s>a.area&&(a.area=s,a.serialized.bitmap.close(),a.serialized.bitmap=this.#C(!1))}return n}},zde=(()=>{class i{#e;#t=!1;#i=null;#o=null;#r=null;#n=null;#s=null;#l=new Map;#h=!1;#d=!1;#u=!1;#c=null;#a;static _initialized=!1;static#f=new Map([TA,kA,MA,$C].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:n,div:o,accessibilityManager:r,annotationLayer:s,drawLayer:a,textLayer:l,viewport:d,l10n:c}){let u=[...i.#f.values()];if(!i._initialized){i._initialized=!0;for(let h of u)h.initialize(c,t)}t.registerEditorTypes(u),this.#a=t,this.pageIndex=n,this.div=o,this.#e=r,this.#i=s,this.viewport=d,this.#c=l,this.drawLayer=a,this.#a.addLayer(this)}get isEmpty(){return this.#l.size===0}get isInvisible(){return this.isEmpty&&this.#a.getMode()===bn.NONE}updateToolbar(t){this.#a.updateToolbar(t)}updateMode(t=this.#a.getMode()){switch(this.#b(),t){case bn.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case bn.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case bn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);let{classList:n}=this.div;for(let o of i.#f.values())n.toggle(`${o._type}Editing`,t===o._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#c?.div}addInkEditorIfNeeded(t){if(this.#a.getMode()!==bn.INK)return;if(!t){for(let o of this.#l.values())if(o.isEmpty()){o.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){this.#a.setEditingState(t)}addCommands(t){this.#a.addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#i?.div.classList.toggle("disabled",!t)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);let t=new Set;for(let o of this.#l.values())o.enableEditing(),o.show(!0),o.annotationElementId&&(this.#a.removeChangedExistingAnnotation(o),t.add(o.annotationElementId));if(!this.#i)return;let n=this.#i.getEditableAnnotations();for(let o of n){if(o.hide(),this.#a.isDeletedAnnotationElement(o.data.id)||t.has(o.data.id))continue;let r=this.deserialize(o);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){this.#u=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);let t=new Map,n=new Map;for(let r of this.#l.values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){t.set(r.annotationElementId,r);continue}else n.set(r.annotationElementId,r);this.getEditableAnnotation(r.annotationElementId)?.show(),r.remove()}if(this.#i){let r=this.#i.getEditableAnnotations();for(let s of r){let{id:a}=s.data;if(this.#a.isDeletedAnnotationElement(a))continue;let l=n.get(a);if(l){l.resetAnnotationElement(s),l.show(!1),s.show();continue}l=t.get(a),l&&(this.#a.addChangedExistingAnnotation(l),l.renderAnnotationElement(s),l.show(!1)),s.show()}}this.#b(),this.isEmpty&&(this.div.hidden=!0);let{classList:o}=this.div;for(let r of i.#f.values())o.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#u=!1}getEditableAnnotation(t){return this.#i?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#a.getActive()!==t&&this.#a.setActiveEditor(t)}enableTextSelection(){this.div.tabIndex=-1,this.#c?.div&&!this.#n&&(this.#n=this.#m.bind(this),this.#c.div.addEventListener("pointerdown",this.#n,{signal:this.#a._signal}),this.#c.div.classList.add("highlighting"))}disableTextSelection(){this.div.tabIndex=0,this.#c?.div&&this.#n&&(this.#c.div.removeEventListener("pointerdown",this.#n),this.#n=null,this.#c.div.classList.remove("highlighting"))}#m(t){this.#a.unselectAll();let{target:n}=t;if(n===this.#c.div||n.classList.contains("endOfContent")&&this.#c.div.contains(n)){let{isMac:o}=Hr.platform;if(t.button!==0||t.ctrlKey&&o)return;this.#a.showAllEditors("highlight",!0,!0),this.#c.div.classList.add("free"),this.toggleDrawing(),$C.startHighlighting(this,this.#a.direction==="ltr",t),this.#c.div.addEventListener("pointerup",()=>{this.#c.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#a._signal}),t.preventDefault()}}enableClick(){if(this.#r)return;let t=this.#a._signal;this.#r=this.pointerdown.bind(this),this.#o=this.pointerup.bind(this),this.div.addEventListener("pointerdown",this.#r,{signal:t}),this.div.addEventListener("pointerup",this.#o,{signal:t})}disableClick(){this.#r&&(this.div.removeEventListener("pointerdown",this.#r),this.div.removeEventListener("pointerup",this.#o),this.#r=null,this.#o=null)}attach(t){this.#l.set(t.id,t);let{annotationElementId:n}=t;n&&this.#a.isDeletedAnnotationElement(n)&&this.#a.removeDeletedAnnotationElement(t)}detach(t){this.#l.delete(t.id),this.#e?.removePointerInTextLayer(t.contentDiv),!this.#u&&t.annotationElementId&&this.#a.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#a.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,this.#d||this.addInkEditorIfNeeded(!1)}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#a.addDeletedAnnotationElement(t.annotationElementId),zn.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#a.addEditor(t),this.attach(t),!t.isAttachedToDOM){let n=t.render();this.div.append(n),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),this.#a.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;let{activeElement:n}=document;t.div.contains(n)&&!this.#s&&(t._focusEventsAllowed=!1,this.#s=setTimeout(()=>{this.#s=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#a._signal}),n.focus())},0)),t._structTreeParentId=this.#e?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){let n=()=>t._uiManager.rebuild(t),o=()=>{t.remove()};this.addCommands({cmd:n,undo:o,mustExec:!1})}getNextId(){return this.#a.getId()}get#p(){return i.#f.get(this.#a.getMode())}get _signal(){return this.#a._signal}#g(t){let n=this.#p;return n?new n.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#p?.canCreateNewEmptyEditor()}pasteEditor(t,n){this.#a.updateToolbar(t),this.#a.updateMode(t);let{offsetX:o,offsetY:r}=this.#_(),s=this.getNextId(),a=this.#g(Le({parent:this,id:s,x:o,y:r,uiManager:this.#a,isCentered:!0},n));a&&this.add(a)}deserialize(t){return i.#f.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#a)||null}createAndAddNewEditor(t,n,o={}){let r=this.getNextId(),s=this.#g(Le({parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:this.#a,isCentered:n},o));return s&&this.add(s),s}#_(){let{x:t,y:n,width:o,height:r}=this.div.getBoundingClientRect(),s=Math.max(0,t),a=Math.max(0,n),l=Math.min(window.innerWidth,t+o),d=Math.min(window.innerHeight,n+r),c=(s+l)/2-t,u=(a+d)/2-n,[h,f]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:h,offsetY:f}}addNewEditor(){this.createAndAddNewEditor(this.#_(),!0)}setSelected(t){this.#a.setSelected(t)}toggleSelected(t){this.#a.toggleSelected(t)}isSelected(t){return this.#a.isSelected(t)}unselect(t){this.#a.unselect(t)}pointerup(t){let{isMac:n}=Hr.platform;if(!(t.button!==0||t.ctrlKey&&n)&&t.target===this.div&&this.#h){if(this.#h=!1,!this.#t){this.#t=!0;return}if(this.#a.getMode()===bn.STAMP){this.#a.unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(this.#a.getMode()===bn.HIGHLIGHT&&this.enableTextSelection(),this.#h){this.#h=!1;return}let{isMac:n}=Hr.platform;if(t.button!==0||t.ctrlKey&&n||t.target!==this.div)return;this.#h=!0;let o=this.#a.getActive();this.#t=!o||o.isEmpty()}findNewParent(t,n,o){let r=this.#a.findParent(n,o);return r===null||r===this?!1:(r.changeParent(t),!0)}destroy(){this.#a.getActive()?.parent===this&&(this.#a.commitOrRemove(),this.#a.setActiveEditor(null)),this.#s&&(clearTimeout(this.#s),this.#s=null);for(let t of this.#l.values())this.#e?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#l.clear(),this.#a.removeLayer(this)}#b(){this.#d=!0;for(let t of this.#l.values())t.isEmpty()&&t.remove();this.#d=!1}render({viewport:t}){this.viewport=t,Ep(this.div,t);for(let n of this.#a.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:t}){this.#a.commitOrRemove(),this.#b();let n=this.viewport.rotation,o=t.rotation;if(this.viewport=t,Ep(this.div,{rotation:o}),n!==o)for(let r of this.#l.values())r.rotate(o);this.addInkEditorIfNeeded(!1)}get pageDimensions(){let{pageWidth:t,pageHeight:n}=this.viewport.rawDims;return[t,n]}get scale(){return this.#a.viewParameters.realScale}}return i})(),RA=class i{#e=null;#t=0;#i=new Map;#o=new Map;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#i.size>0)for(let t of this.#i.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return yn(this,"_svgFactory",new B0)}static#r(e,{x:t=0,y:n=0,width:o=1,height:r=1}={}){let{style:s}=e;s.top=`${100*n}%`,s.left=`${100*t}%`,s.width=`${100*o}%`,s.height=`${100*r}%`}#n(e){let t=i._svgFactory.create(1,1,!0);return this.#e.append(t),t.setAttribute("aria-hidden",!0),i.#r(t,e),t}#s(e,t){let n=i._svgFactory.createElement("clipPath");e.append(n);let o=`clip_${t}`;n.setAttribute("id",o),n.setAttribute("clipPathUnits","objectBoundingBox");let r=i._svgFactory.createElement("use");return n.append(r),r.setAttribute("href",`#${t}`),r.classList.add("clip"),o}highlight(e,t,n,o=!1){let r=this.#t++,s=this.#n(e.box);s.classList.add("highlight"),e.free&&s.classList.add("free");let a=i._svgFactory.createElement("defs");s.append(a);let l=i._svgFactory.createElement("path");a.append(l);let d=`path_p${this.pageIndex}_${r}`;l.setAttribute("id",d),l.setAttribute("d",e.toSVGPath()),o&&this.#o.set(r,l);let c=this.#s(a,d),u=i._svgFactory.createElement("use");return s.append(u),s.setAttribute("fill",t),s.setAttribute("fill-opacity",n),u.setAttribute("href",`#${d}`),this.#i.set(r,s),{id:r,clipPathId:`url(#${c})`}}highlightOutline(e){let t=this.#t++,n=this.#n(e.box);n.classList.add("highlightOutline");let o=i._svgFactory.createElement("defs");n.append(o);let r=i._svgFactory.createElement("path");o.append(r);let s=`path_p${this.pageIndex}_${t}`;r.setAttribute("id",s),r.setAttribute("d",e.toSVGPath()),r.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.free){n.classList.add("free");let c=i._svgFactory.createElement("mask");o.append(c),a=`mask_p${this.pageIndex}_${t}`,c.setAttribute("id",a),c.setAttribute("maskUnits","objectBoundingBox");let u=i._svgFactory.createElement("rect");c.append(u),u.setAttribute("width","1"),u.setAttribute("height","1"),u.setAttribute("fill","white");let h=i._svgFactory.createElement("use");c.append(h),h.setAttribute("href",`#${s}`),h.setAttribute("stroke","none"),h.setAttribute("fill","black"),h.setAttribute("fill-rule","nonzero"),h.classList.add("mask")}let l=i._svgFactory.createElement("use");n.append(l),l.setAttribute("href",`#${s}`),a&&l.setAttribute("mask",`url(#${a})`);let d=l.cloneNode();return n.append(d),l.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.#i.set(t,n),t}finalizeLine(e,t){let n=this.#o.get(e);this.#o.delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){this.#i.get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),this.#o.delete(e)}updatePath(e,t){this.#o.get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){i.#r(this.#i.get(e),t)}show(e,t){this.#i.get(e).classList.toggle("hidden",!t)}rotate(e,t){this.#i.get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){this.#i.get(e).setAttribute("fill",t)}changeOpacity(e,t){this.#i.get(e).setAttribute("fill-opacity",t)}addClass(e,t){this.#i.get(e).classList.add(t)}removeClass(e,t){this.#i.get(e).classList.remove(t)}remove(e){this.#e!==null&&(this.#i.get(e).remove(),this.#i.delete(e))}destroy(){this.#e=null;for(let e of this.#i.values())e.remove();this.#i.clear()}};var jde=Bi.AbortException,$de=Bi.AnnotationEditorLayer,Wde=Bi.AnnotationEditorParamsType,VA=Bi.AnnotationEditorType,Ude=Bi.AnnotationEditorUIManager,Gde=Bi.AnnotationLayer,Kde=Bi.AnnotationMode,qde=Bi.CMapCompressionType,Yde=Bi.ColorPicker,Xde=Bi.DOMSVGFactory,Zde=Bi.DrawLayer,Qde=Bi.FeatureTest,HA=Bi.GlobalWorkerOptions,Jde=Bi.ImageKind,ece=Bi.InvalidPDFException,tce=Bi.MissingPDFException,ice=Bi.OPS,nce=Bi.PDFDataRangeTransport,oce=Bi.PDFDateString,rce=Bi.PDFWorker,sce=Bi.PasswordResponses,ace=Bi.PermissionFlag,lce=Bi.PixelsPerInch,dce=Bi.RenderingCancelledException,cce=Bi.TextLayer,uce=Bi.UnexpectedResponseException,hce=Bi.Util,zA=Bi.VerbosityLevel,pce=Bi.XfaLayer,fce=Bi.build,mce=Bi.createValidAbsoluteUrl,gce=Bi.fetchData,jA=Bi.getDocument,_ce=Bi.getFilenameFromUrl,bce=Bi.getPdfFilenameFromUrl,vce=Bi.getXfaPageViewport,yce=Bi.isDataScheme,xce=Bi.isPdfFile,Cce=Bi.noContextMenu,wce=Bi.normalizeUnicode,Sce=Bi.setLayerDimensions,Ece=Bi.shadow,Y0=Bi.version;var kk={};ky(kk,{AnnotationLayerBuilder:()=>uhe,DownloadManager:()=>hhe,EventBus:()=>phe,FindState:()=>fhe,GenericL10n:()=>Ok,LinkTarget:()=>Rp,PDFFindController:()=>Ik,PDFHistory:()=>mhe,PDFLinkService:()=>Dk,PDFPageView:()=>ghe,PDFScriptingManager:()=>_he,PDFSinglePageViewer:()=>Tk,PDFViewer:()=>Ak,ProgressBar:()=>bhe,RenderingStates:()=>vhe,ScrollMode:()=>yhe,SimpleLinkService:()=>xhe,SpreadMode:()=>Che,StructTreeLayerBuilder:()=>whe,TextLayerBuilder:()=>She,XfaLayerBuilder:()=>Ehe,parseQueryString:()=>Ohe});var Z0={};Z0.d=(i,e)=>{for(var t in e)Z0.o(e,t)&&!Z0.o(i,t)&&Object.defineProperty(i,t,{enumerable:!0,get:e[t]})};Z0.o=(i,e)=>Object.prototype.hasOwnProperty.call(i,e);var Eo=globalThis.pdfjsViewer={};Z0.d(Eo,{AnnotationLayerBuilder:()=>rw,DownloadManager:()=>ik,EventBus:()=>sw,FindState:()=>$u,GenericL10n:()=>Im,LinkTarget:()=>Tp,PDFFindController:()=>ek,PDFHistory:()=>pk,PDFLinkService:()=>nw,PDFPageView:()=>hw,PDFScriptingManager:()=>Ck,PDFSinglePageViewer:()=>Ek,PDFViewer:()=>pw,ProgressBar:()=>JA,RenderingStates:()=>Ro,ScrollMode:()=>xn,SimpleLinkService:()=>eb,SpreadMode:()=>zr,StructTreeLayerBuilder:()=>dw,TextLayerBuilder:()=>cw,XfaLayerBuilder:()=>uw,parseQueryString:()=>fw});var Oce="auto",GH=1,pH=1.1,Ice=.1,Dce=10,$A=0,Tce=1.25,fH=40,mH=5,Ro={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},Sm={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};var ed={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2},xn={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},zr={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};var QA=class{constructor(){let e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}};function KH(i,e,t=!1){let n=i.offsetParent;if(!n){console.error("offsetParent is not set -- cannot scroll");return}let o=i.offsetTop+i.clientTop,r=i.offsetLeft+i.clientLeft;for(;n.clientHeight===n.scrollHeight&&n.clientWidth===n.scrollWidth||t&&(n.classList.contains("markedContent")||getComputedStyle(n).overflow==="hidden");)if(o+=n.offsetTop,r+=n.offsetLeft,n=n.offsetParent,!n)return;e&&(e.top!==void 0&&(o+=e.top),e.left!==void 0&&(r+=e.left,n.scrollLeft=r)),n.scrollTop=o}function Ace(i,e,t=void 0){let n=function(s){r||(r=window.requestAnimationFrame(function(){r=null;let l=i.scrollLeft,d=o.lastX;l!==d&&(o.right=l>d),o.lastX=l;let c=i.scrollTop,u=o.lastY;c!==u&&(o.down=c>u),o.lastY=c,e(o)}))},o={right:!0,down:!0,lastX:i.scrollLeft,lastY:i.scrollTop,_eventHandler:n},r=null;return i.addEventListener("scroll",n,{useCapture:!0,signal:t}),t?.addEventListener("abort",()=>window.cancelAnimationFrame(r),{once:!0}),o}function fw(i){let e=new Map;for(let[t,n]of new URLSearchParams(i))e.set(t.toLowerCase(),n);return e}var gH=/[\x00-\x1F]/g;function iw(i,e=!1){return gH.test(i)?e?i.replaceAll(gH,t=>t==="\0"?"":" "):i.replaceAll("\0",""):i}function J0(i,e,t=0){let n=t,o=i.length-1;if(o<0||!e(i[o]))return i.length;if(e(i[n]))return n;for(;n<o;){let r=n+o>>1,s=i[r];e(s)?o=r:n=r+1}return n}function _H(i){if(Math.floor(i)===i)return[i,1];let e=1/i,t=8;if(e>t)return[1,t];if(Math.floor(e)===e)return[1,e];let n=i>1?e:i,o=0,r=1,s=1,a=1;for(;;){let d=o+s,c=r+a;if(c>t)break;n<=d/c?(s=d,a=c):(o=d,r=c)}let l;return n-o/r<s/a-n?l=n===i?[o,r]:[r,o]:l=n===i?[s,a]:[a,s],l}function ZC(i,e){return i-i%e}function kce(i,e,t){if(i<2)return i;let n=e[i].div,o=n.offsetTop+n.clientTop;o>=t&&(n=e[i-1].div,o=n.offsetTop+n.clientTop);for(let r=i-2;r>=0&&(n=e[r].div,!(n.offsetTop+n.clientTop+n.clientHeight<=o));--r)i=r;return i}function Mce({scrollEl:i,views:e,sortByVisibility:t=!1,horizontal:n=!1,rtl:o=!1}){let r=i.scrollTop,s=r+i.clientHeight,a=i.scrollLeft,l=a+i.clientWidth;function d(x){let E=x.div;return E.offsetTop+E.clientTop+E.clientHeight>r}function c(x){let E=x.div,D=E.offsetLeft+E.clientLeft,L=D+E.clientWidth;return o?D<l:L>a}let u=[],h=new Set,f=e.length,p=J0(e,n?c:d);p>0&&p<f&&!n&&(p=kce(p,e,r));let m=n?l:-1;for(let x=p;x<f;x++){let E=e[x],D=E.div,L=D.offsetLeft+D.clientLeft,k=D.offsetTop+D.clientTop,R=D.clientWidth,N=D.clientHeight,z=L+R,V=k+N;if(m===-1)V>=s&&(m=V);else if((n?L:k)>m)break;if(V<=r||k>=s||z<=a||L>=l)continue;let S=Math.max(0,r-k)+Math.max(0,V-s),T=Math.max(0,a-L)+Math.max(0,z-l),B=(N-S)/N,_=(R-T)/R,v=B*_*100|0;u.push({id:E.id,x:L,y:k,view:E,percent:v,widthPercent:_*100|0}),h.add(E.id)}let g=u[0],b=u.at(-1);return t&&u.sort(function(x,E){let D=x.percent-E.percent;return Math.abs(D)>.001?-D:x.id-E.id}),{first:g,last:b,views:u,ids:h}}function qH(i){return Number.isInteger(i)&&i%90===0}function Rce(i){return Number.isInteger(i)&&Object.values(xn).includes(i)&&i!==xn.UNKNOWN}function Fce(i){return Number.isInteger(i)&&Object.values(zr).includes(i)&&i!==zr.UNKNOWN}function bH(i){return i.width<=i.height}var k2e=new Promise(function(i){window.requestAnimationFrame(i)}),Pce=document.documentElement.style;function Lce(i,e,t){return Math.min(Math.max(i,e),t)}var JA=class{#e=null;#t=null;#i=0;#o=null;#r=!0;constructor(e){this.#e=e.classList,this.#o=e.style}get percent(){return this.#i}set percent(e){if(this.#i=Lce(e,0,100),isNaN(e)){this.#e.add("indeterminate");return}this.#e.remove("indeterminate"),this.#o.setProperty("--progressBar-percent",`${this.#i}%`)}setWidth(e){if(!e)return;let n=e.parentNode.offsetWidth-e.offsetWidth;n>0&&this.#o.setProperty("--progressBar-end-offset",`${n}px`)}setDisableAutoFetch(e=5e3){this.#i===100||isNaN(this.#i)||(this.#t&&clearTimeout(this.#t),this.show(),this.#t=setTimeout(()=>{this.#t=null,this.hide()},e))}hide(){this.#r&&(this.#r=!1,this.#e.add("hidden"))}show(){this.#r||(this.#r=!0,this.#e.remove("hidden"))}};function Nce(i){let e=xn.VERTICAL,t=zr.NONE;switch(i){case"SinglePage":e=xn.PAGE;break;case"OneColumn":break;case"TwoPageLeft":e=xn.PAGE;case"TwoColumnLeft":t=zr.ODD;break;case"TwoPageRight":e=xn.PAGE;case"TwoColumnRight":t=zr.EVEN;break}return{scrollMode:e,spreadMode:t}}var dl={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function Bce(i){return i<11904}function Vce(i){return(i&65408)===0}function Hce(i){return i>=97&&i<=122||i>=65&&i<=90}function zce(i){return i>=48&&i<=57}function jce(i){return i===32||i===9||i===13||i===10}function $ce(i){return i>=13312&&i<=40959||i>=63744&&i<=64255}function Wce(i){return i>=12448&&i<=12543}function Uce(i){return i>=12352&&i<=12447}function Gce(i){return i>=65376&&i<=65439}function Kce(i){return(i&65408)===3584}function QC(i){return Bce(i)?Vce(i)?jce(i)?dl.SPACE:Hce(i)||zce(i)||i===95?dl.ALPHA_LETTER:dl.PUNCT:Kce(i)?dl.THAI_LETTER:i===160?dl.SPACE:dl.ALPHA_LETTER:$ce(i)?dl.HAN_LETTER:Wce(i)?dl.KATAKANA_LETTER:Uce(i)?dl.HIRAGANA_LETTER:Gce(i)?dl.HALFWIDTH_KATAKANA_LETTER:dl.ALPHA_LETTER}var vH;function qce(){return vH||="\xA0\xA8\xAA\xAF\xB2-\xB5\xB8-\xBA\xBC-\xBE\u0132-\u0133\u013F-\u0140\u0149\u017F\u01C4-\u01CC\u01F1-\u01F3\u02B0-\u02B8\u02D8-\u02DD\u02E0-\u02E4\u0374\u037A\u037E\u0384-\u0385\u0387\u03D0-\u03D6\u03F0-\u03F2\u03F4-\u03F5\u03F9\u0587\u0675-\u0678\u0958-\u095F\u09DC-\u09DD\u09DF\u0A33\u0A36\u0A59-\u0A5B\u0A5E\u0B5C-\u0B5D\u0E33\u0EB3\u0EDC-\u0EDD\u0F0C\u0F43\u0F4D\u0F52\u0F57\u0F5C\u0F69\u10FC\u1D2C-\u1D2E\u1D30-\u1D3A\u1D3C-\u1D4D\u1D4F-\u1D6A\u1D78\u1D9B-\u1DBF\u1E9A-\u1E9B\u1F71\u1F73\u1F75\u1F77\u1F79\u1F7B\u1F7D\u1FBB\u1FBD-\u1FC1\u1FC9\u1FCB\u1FCD-\u1FCF\u1FD3\u1FDB\u1FDD-\u1FDF\u1FE3\u1FEB\u1FED-\u1FEF\u1FF9\u1FFB\u1FFD-\u1FFE\u2000-\u200A\u2011\u2017\u2024-\u2026\u202F\u2033-\u2034\u2036-\u2037\u203C\u203E\u2047-\u2049\u2057\u205F\u2070-\u2071\u2074-\u208E\u2090-\u209C\u20A8\u2100-\u2103\u2105-\u2107\u2109-\u2113\u2115-\u2116\u2119-\u211D\u2120-\u2122\u2124\u2126\u2128\u212A-\u212D\u212F-\u2131\u2133-\u2139\u213B-\u2140\u2145-\u2149\u2150-\u217F\u2189\u222C-\u222D\u222F-\u2230\u2329-\u232A\u2460-\u24EA\u2A0C\u2A74-\u2A76\u2ADC\u2C7C-\u2C7D\u2D6F\u2E9F\u2EF3\u2F00-\u2FD5\u3000\u3036\u3038-\u303A\u309B-\u309C\u309F\u30FF\u3131-\u318E\u3192-\u319F\u3200-\u321E\u3220-\u3247\u3250-\u327E\u3280-\u33FF\uA69C-\uA69D\uA770\uA7F2-\uA7F4\uA7F8-\uA7F9\uAB5C-\uAB5F\uAB69\uF900-\uFA0D\uFA10\uFA12\uFA15-\uFA1E\uFA20\uFA22\uFA25-\uFA26\uFA2A-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE10-\uFE19\uFE30-\uFE44\uFE47-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFE70-\uFE72\uFE74\uFE76-\uFEFC\uFF01-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE0-\uFFE6",vH}var $u={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},Yce=250,Xce=-50,Zce=-400,yH={"\u2010":"-","\u2018":"'","\u2019":"'","\u201A":"'","\u201B":"'","\u201C":'"',"\u201D":'"',"\u201E":'"',"\u201F":'"',"\xBC":"1/4","\xBD":"1/2","\xBE":"3/4"},xH=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),CH,Qce=new RegExp("\\p{M}+","gu"),Jce=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),eue=new RegExp("([^\\p{M}])\\p{M}*$","u"),tue=new RegExp("^\\p{M}*([^\\p{M}])","u"),iue=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,wH=new Map,nue="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",SH=new Map,WA=null,UA=null;function GA(i){let e=[],t;for(;(t=iue.exec(i))!==null;){let{index:f}=t;for(let p of t[0]){let m=wH.get(p);m||(m=p.normalize("NFD").length,wH.set(p,m)),e.push([m,f++])}}let n;if(e.length===0&&WA)n=WA;else if(e.length>0&&UA)n=UA;else{let f=Object.keys(yH).join(""),p=qce(),b=`([${f}])|([${p}])|((?:\u3099|\u309A)\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|((?:\\p{Ideographic}|[\u3040-\u30FF])\\n)|(\\n)`;e.length===0?n=WA=new RegExp(b+"|(\\u0000)","gum"):n=UA=new RegExp(b+`|(${nue})`,"gum")}let o=[];for(;(t=Qce.exec(i))!==null;)o.push([t[0].length,t.index]);let r=i.normalize("NFD"),s=[[0,0]],a=0,l=0,d=0,c=0,u=0,h=!1;return r=r.replace(n,(f,p,m,g,b,x,E,D,L,k)=>{if(k-=c,p){let R=yH[p],N=R.length;for(let z=1;z<N;z++)s.push([k-d+z,d-z]);return d-=N-1,R}if(m){let R=SH.get(m);R||(R=m.normalize("NFKC"),SH.set(m,R));let N=R.length;for(let z=1;z<N;z++)s.push([k-d+z,d-z]);return d-=N-1,R}if(g)return h=!0,k+u===o[a]?.[1]?++a:(s.push([k-1-d+1,d-1]),d-=1,c+=1),s.push([k-d+1,d]),c+=1,u+=1,g.charAt(0);if(b){let R=b.endsWith(`
`),N=R?b.length-2:b.length;h=!0;let z=N;k+u===o[a]?.[1]&&(z-=o[a][0],++a);for(let V=1;V<=z;V++)s.push([k-1-d+V,d-V]);return d-=z,c+=z,R?(k+=N-1,s.push([k-d+1,1+d]),d+=1,c+=1,u+=1,b.slice(0,N)):b}if(x){let R=x.length-2;return s.push([k-d+R,1+d]),d+=1,c+=1,u+=1,x.slice(0,-2)}if(E){let R=E.length-1;return s.push([k-d+R,d]),c+=1,u+=1,E.slice(0,-1)}if(D)return s.push([k-d+1,d-1]),d-=1,c+=1,u+=1," ";if(k+u===e[l]?.[1]){let R=e[l][0]-1;++l;for(let N=1;N<=R;N++)s.push([k-(d-N),d-N]);d-=R,c+=R}return L}),s.push([r.length,d]),[r,s,h]}function oue(i,e,t){if(!i)return[e,t];let n=e,o=e+t-1,r=J0(i,c=>c[0]>=n);i[r][0]>n&&--r;let s=J0(i,c=>c[0]>=o,r);i[s][0]>o&&--s;let a=n+i[r][1],d=o+i[s][1]+1-a;return[a,d]}var ek=class{#e=null;#t=!0;#i=0;constructor({linkService:e,eventBus:t,updateMatchesCountOnProgress:n=!0}){this._linkService=e,this._eventBus=t,this.#t=n,this.onIsPageVisible=null,this.#r(),t._on("find",this.#o.bind(this)),t._on("findbarclose",this.#y.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this.#e}setDocument(e){this._pdfDocument&&this.#r(),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}#o(e){if(!e)return;let t=this._pdfDocument,{type:n}=e;(this.#e===null||this.#s(e))&&(this._dirtyMatch=!0),this.#e=e,n!=="highlightallchange"&&this.#S($u.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||t&&this._pdfDocument!==t)return;this.#c();let o=!this._highlightMatches,r=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),n?this._dirtyMatch?this.#m():n==="again"?(this.#m(),o&&this.#e.highlightAll&&this.#f()):n==="highlightallchange"?(r?this.#m():this._highlightMatches=!0,this.#f()):this.#m():this._findTimeout=setTimeout(()=>{this.#m(),this._findTimeout=null},Yce)})}scrollMatchIntoView({element:e=null,selectedLeft:t=0,pageIndex:n=-1,matchIndex:o=-1}){if(!this._scrollMatches||!e)return;if(o===-1||o!==this._selected.matchIdx)return;if(n===-1||n!==this._selected.pageIdx)return;this._scrollMatches=!1;let r={top:Xce,left:t+Zce};KH(e,r,!0)}#r(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this.#i=0,this.#e=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()}get#n(){let{query:e}=this.#e;return typeof e=="string"?(e!==this._rawQuery&&(this._rawQuery=e,[this._normalizedQuery]=GA(e)),this._normalizedQuery):(e||[]).filter(t=>!!t).map(t=>GA(t)[0])}#s(e){let t=e.query,n=this.#e.query,o=typeof t;if(o!==typeof n)return!0;if(o==="string"){if(t!==n)return!0}else if(JSON.stringify(t)!==JSON.stringify(n))return!0;switch(e.type){case"again":let s=this._selected.pageIdx+1,a=this._linkService;return s>=1&&s<=a.pagesCount&&s!==a.page&&!(this.onIsPageVisible?.(s)??!0);case"highlightallchange":return!1}return!0}#l(e,t,n){let o=e.slice(0,t).match(eue);if(o){let r=e.charCodeAt(t),s=o[1].charCodeAt(0);if(QC(r)===QC(s))return!1}if(o=e.slice(t+n).match(tue),o){let r=e.charCodeAt(t+n-1),s=o[1].charCodeAt(0);if(QC(r)===QC(s))return!1}return!0}#h(e,t,n,o){let r=this._pageMatches[n]=[],s=this._pageMatchesLength[n]=[];if(!e)return;let a=this._pageDiffs[n],l;for(;(l=e.exec(o))!==null;){if(t&&!this.#l(o,l.index,l[0].length))continue;let[d,c]=oue(a,l.index,l[0].length);c&&(r.push(d),s.push(c))}}#d(e,t){let{matchDiacritics:n}=this.#e,o=!1;e=e.replaceAll(Jce,(s,a,l,d,c,u)=>a?`[ ]*\\${a}[ ]*`:l?`[ ]*${l}[ ]*`:d?"[ ]+":n?c||u:c?xH.has(c.charCodeAt(0))?c:"":t?(o=!0,`${u}\\p{M}*`):u);let r="[ ]*";return e.endsWith(r)&&(e=e.slice(0,e.length-r.length)),n&&t&&(CH||=String.fromCharCode(...xH),o=!0,e=`${e}(?=[${CH}]|[^\\p{M}]|$)`),[o,e]}#u(e){let t=this.#n;if(t.length===0)return;let{caseSensitive:n,entireWord:o}=this.#e,r=this._pageContents[e],s=this._hasDiacritics[e],a=!1;typeof t=="string"?[a,t]=this.#d(t,s):t=t.sort().reverse().map(c=>{let[u,h]=this.#d(c,s);return a||=u,`(${h})`}).join("|");let l=`g${a?"u":""}${n?"":"i"}`;t=t?new RegExp(t,l):null,this.#h(t,o,e,r),this.#e.highlightAll&&this.#a(e),this._resumePageIdx===e&&(this._resumePageIdx=null,this.#g());let d=this._pageMatches[e].length;this._matchesCountTotal+=d,this.#t?d>0&&this.#w():++this.#i===this._linkService.pagesCount&&this.#w()}#c(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve(),t={disableNormalization:!0};for(let n=0,o=this._linkService.pagesCount;n<o;n++){let{promise:r,resolve:s}=Promise.withResolvers();this._extractTextPromises[n]=r,e=e.then(()=>this._pdfDocument.getPage(n+1).then(a=>a.getTextContent(t)).then(a=>{let l=[];for(let d of a.items)l.push(d.str),d.hasEOL&&l.push(`
`);[this._pageContents[n],this._pageDiffs[n],this._hasDiacritics[n]]=GA(l.join("")),s()},a=>{console.error(`Unable to get text content for page ${n+1}`,a),this._pageContents[n]="",this._pageDiffs[n]=null,this._hasDiacritics[n]=!1,s()}))}}#a(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})}#f(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#m(){let e=this.#e.findPrevious,t=this._linkService.page-1,n=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=t,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this.#i=0,this._matchesCountTotal=0,this.#f();for(let s=0;s<n;s++)this._pendingFindMatches.has(s)||(this._pendingFindMatches.add(s),this._extractTextPromises[s].then(()=>{this._pendingFindMatches.delete(s),this.#u(s)}))}if(this.#n.length===0){this.#S($u.FOUND);return}if(this._resumePageIdx)return;let r=this._offset;if(this._pagesToSearch=n,r.matchIdx!==null){let s=this._pageMatches[r.pageIdx].length;if(!e&&r.matchIdx+1<s||e&&r.matchIdx>0){r.matchIdx=e?r.matchIdx-1:r.matchIdx+1,this.#b(!0);return}this.#_(e)}this.#g()}#p(e){let t=this._offset,n=e.length,o=this.#e.findPrevious;return n?(t.matchIdx=o?n-1:0,this.#b(!0),!0):(this.#_(o),t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0)?(this.#b(!1),!0):!1)}#g(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let e=null;do{let t=this._offset.pageIdx;if(e=this._pageMatches[t],!e){this._resumePageIdx=t;break}}while(!this.#p(e))}#_(e){let t=this._offset,n=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=n||t.pageIdx<0)&&(t.pageIdx=e?n-1:0,t.wrapped=!0)}#b(e=!1){let t=$u.NOT_FOUND,n=this._offset.wrapped;if(this._offset.wrapped=!1,e){let o=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=n?$u.WRAPPED:$u.FOUND,o!==-1&&o!==this._selected.pageIdx&&this.#a(o)}this.#S(t,this.#e.findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,this.#a(this._selected.pageIdx))}#y(e){let t=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||t&&this._pdfDocument!==t||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#S($u.FOUND),this._highlightMatches=!1,this.#f())})}#C(){let{pageIdx:e,matchIdx:t}=this._selected,n=0,o=this._matchesCountTotal;if(t!==-1){for(let r=0;r<e;r++)n+=this._pageMatches[r]?.length||0;n+=t+1}return(n<1||n>o)&&(n=o=0),{current:n,total:o}}#w(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#C()})}#S(e,t=!1){!this.#t&&(this.#i!==this._linkService.pagesCount||e===$u.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,entireWord:this.#e?.entireWord??null,matchesCount:this.#C(),rawQuery:this.#e?.query??null})}},rue="noopener noreferrer nofollow",Tp={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},nw=class i{externalLinkEnabled=!0;constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:n=null,ignoreDestinationZoom:o=!1}={}){this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=n,this._ignoreDestinationZoom=o,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(e,t=null){this.baseUrl=t,this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(e){this.pdfDocument&&(this.pdfViewer.currentPageNumber=e)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(e){this.pdfDocument&&(this.pdfViewer.pagesRotation=e)}get isInPresentationMode(){return this.pdfDocument?this.pdfViewer.isInPresentationMode:!1}goToDestination(e){return ze(this,null,function*(){if(!this.pdfDocument)return;let t,n,o;if(typeof e=="string"?(t=e,n=yield this.pdfDocument.getDestination(e)):(t=null,n=yield e),!Array.isArray(n)){console.error(`goToDestination: "${n}" is not a valid destination array, for dest="${e}".`);return}let[r]=n;if(r&&typeof r=="object"){if(o=this.pdfDocument.cachedPageNumber(r),!o)try{o=(yield this.pdfDocument.getPageIndex(r))+1}catch{console.error(`goToDestination: "${r}" is not a valid page reference, for dest="${e}".`);return}}else Number.isInteger(r)&&(o=r+1);if(!o||o<1||o>this.pagesCount){console.error(`goToDestination: "${o}" is not a valid page number, for dest="${e}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:t,explicitDest:n,pageNumber:o})),this.pdfViewer.scrollPageIntoView({pageNumber:o,destArray:n,ignoreDestinationZoom:this._ignoreDestinationZoom})})}goToPage(e){if(!this.pdfDocument)return;let t=typeof e=="string"&&this.pdfViewer.pageLabelToPageNumber(e)||e|0;if(!(Number.isInteger(t)&&t>0&&t<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})}addLinkAttributes(e,t,n=!1){if(!t||typeof t!="string")throw new Error('A valid "url" parameter must provided.');let o=n?Tp.BLANK:this.externalLinkTarget,r=this.externalLinkRel;this.externalLinkEnabled?e.href=e.title=t:(e.href="",e.title=`Disabled: ${t}`,e.onclick=()=>!1);let s="";switch(o){case Tp.NONE:break;case Tp.SELF:s="_self";break;case Tp.BLANK:s="_blank";break;case Tp.PARENT:s="_parent";break;case Tp.TOP:s="_top";break}e.target=s,e.rel=typeof r=="string"?r:rue}getDestinationHash(e){if(typeof e=="string"){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){let t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return this.baseUrl?this.baseUrl+e:e}setHash(e){if(!this.pdfDocument)return;let t,n;if(e.includes("=")){let o=fw(e);if(o.has("search")){let r=o.get("search").replaceAll('"',""),s=o.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:s?r:r.match(/\S+/g)})}if(o.has("page")&&(t=o.get("page")|0||1),o.has("zoom")){let r=o.get("zoom").split(","),s=r[0],a=parseFloat(s);s.includes("Fit")?s==="Fit"||s==="FitB"?n=[null,{name:s}]:s==="FitH"||s==="FitBH"||s==="FitV"||s==="FitBV"?n=[null,{name:s},r.length>1?r[1]|0:null]:s==="FitR"?r.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):n=[null,{name:s},r[1]|0,r[2]|0,r[3]|0,r[4]|0]:console.error(`PDFLinkService.setHash: "${s}" is not a valid zoom value.`):n=[null,{name:"XYZ"},r.length>1?r[1]|0:null,r.length>2?r[2]|0:null,a?a/100:s]}n?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:n,allowNegativeOffset:!0}):t&&(this.page=t),o.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:o.get("pagemode")}),o.has("nameddest")&&this.goToDestination(o.get("nameddest"));return}n=unescape(e);try{n=JSON.parse(n),Array.isArray(n)||(n=n.toString())}catch{}if(typeof n=="string"||i.#e(n)){this.goToDestination(n);return}console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}executeNamedAction(e){if(this.pdfDocument){switch(e){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break;default:break}this.eventBus.dispatch("namedaction",{source:this,action:e})}}executeSetOCGState(e){return ze(this,null,function*(){if(!this.pdfDocument)return;let t=this.pdfDocument,n=yield this.pdfViewer.optionalContentConfigPromise;t===this.pdfDocument&&(n.setOCGState(e),this.pdfViewer.optionalContentConfigPromise=Promise.resolve(n))})}static#e(e){if(!Array.isArray(e)||e.length<2)return!1;let[t,n,...o]=e;if(!(typeof t=="object"&&Number.isInteger(t?.num)&&Number.isInteger(t?.gen))&&!Number.isInteger(t)||!(typeof n=="object"&&typeof n?.name=="string"))return!1;let r=o.length,s=!0;switch(n.name){case"XYZ":if(r<2||r>3)return!1;break;case"Fit":case"FitB":return r===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(r>1)return!1;break;case"FitR":if(r!==4)return!1;s=!1;break;default:return!1}for(let a of o)if(!(typeof a=="number"||s&&a===null))return!1;return!0}},eb=class extends nw{setDocument(e,t=null){}},{AbortException:sue,AnnotationEditorLayer:aue,AnnotationEditorParamsType:M2e,AnnotationEditorType:cl,AnnotationEditorUIManager:lue,AnnotationLayer:due,AnnotationMode:pc,build:R2e,CMapCompressionType:F2e,ColorPicker:P2e,createValidAbsoluteUrl:cue,DOMSVGFactory:L2e,DrawLayer:uue,FeatureTest:N2e,fetchData:EH,getDocument:B2e,getFilenameFromUrl:V2e,getPdfFilenameFromUrl:hue,getXfaPageViewport:H2e,GlobalWorkerOptions:z2e,ImageKind:j2e,InvalidPDFException:$2e,isDataScheme:W2e,isPdfFile:pue,MissingPDFException:U2e,noContextMenu:G2e,normalizeUnicode:fue,OPS:K2e,PasswordResponses:q2e,PDFDataRangeTransport:Y2e,PDFDateString:X2e,PDFWorker:Z2e,PermissionFlag:JC,PixelsPerInch:hc,RenderingCancelledException:tk,setLayerDimensions:mue,shadow:ow,TextLayer:gue,UnexpectedResponseException:Q2e,Util:J2e,VerbosityLevel:eLe,version:OH,XfaLayer:KA}=globalThis.pdfjsLib,rw=class{#e=null;#t=null;constructor({pdfPage:e,linkService:t,downloadManager:n,annotationStorage:o=null,imageResourcesPath:r="",renderForms:s=!0,enableScripting:a=!1,hasJSActionsPromise:l=null,fieldObjectsPromise:d=null,annotationCanvasMap:c=null,accessibilityManager:u=null,annotationEditorUIManager:h=null,onAppend:f=null}){this.pdfPage=e,this.linkService=t,this.downloadManager=n,this.imageResourcesPath=r,this.renderForms=s,this.annotationStorage=o,this.enableScripting=a,this._hasJSActionsPromise=l||Promise.resolve(!1),this._fieldObjectsPromise=d||Promise.resolve(null),this._annotationCanvasMap=c,this._accessibilityManager=u,this._annotationEditorUIManager=h,this.#e=f,this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=t.eventBus}render(e,t="display"){return ze(this,null,function*(){if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:e.clone({dontFlip:!0})});return}let[n,o,r]=yield Promise.all([this.pdfPage.getAnnotations({intent:t}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;let s=this.div=document.createElement("div");if(s.className="annotationLayer",this.#e?.(s),n.length===0){this.hide();return}this.annotationLayer=new due({div:s,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,annotationEditorUIManager:this._annotationEditorUIManager,page:this.pdfPage,viewport:e.clone({dontFlip:!0})}),yield this.annotationLayer.render({annotations:n,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:o,fieldObjects:r}),this.linkService.isInPresentationMode&&this.#i(Sm.FULLSCREEN),this.#t||(this.#t=new AbortController,this._eventBus?._on("presentationmodechanged",a=>{this.#i(a.state)},{signal:this.#t.signal}))})}cancel(){this._cancelled=!0,this.#t?.abort(),this.#t=null}hide(){this.div&&(this.div.hidden=!0)}hasEditableAnnotations(){return!!this.annotationLayer?.hasEditableAnnotations()}#i(e){if(!this.div)return;let t=!1;switch(e){case Sm.FULLSCREEN:t=!0;break;case Sm.NORMAL:break;default:return}for(let n of this.div.childNodes)n.hasAttribute("data-internal-link")||(n.inert=t)}};function IH(i,e){let t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=i,t.target="_parent","download"in t&&(t.download=e),(document.body||document.documentElement).append(t),t.click(),t.remove()}var ik=class{#e=new WeakMap;downloadData(e,t,n){let o=URL.createObjectURL(new Blob([e],{type:n}));IH(o,t)}openOrDownloadData(e,t,n=null){let r=pue(t)?"application/pdf":"";return this.downloadData(e,t,r),!1}download(e,t,n,o){let r;if(e)r=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));else{if(!cue(t,"http://example.com")){console.error(`download - not a valid URL: ${t}`);return}r=t+"#pdfjs.action=download"}IH(r,n)}},DH={EVENT:"event",TIMEOUT:"timeout"};function _ue(n){return ze(this,arguments,function*({target:i,name:e,delay:t=0}){if(typeof i!="object"||!(e&&typeof e=="string")||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");let{promise:o,resolve:r}=Promise.withResolvers(),s=new AbortController;function a(c){s.abort(),clearTimeout(d),r(c)}let l=i instanceof sw?"_on":"addEventListener";i[l](e,a.bind(null,DH.EVENT),{signal:s.signal});let d=setTimeout(a.bind(null,DH.TIMEOUT),t);return o})}var sw=class{#e=Object.create(null);on(e,t,n=null){this._on(e,t,{external:!0,once:n?.once,signal:n?.signal})}off(e,t,n=null){this._off(e,t)}dispatch(e,t){let n=this.#e[e];if(!n||n.length===0)return;let o;for(let{listener:r,external:s,once:a}of n.slice(0)){if(a&&this._off(e,r),s){(o||=[]).push(r);continue}r(t)}if(o){for(let r of o)r(t);o=null}}_on(e,t,n=null){let o=null;if(n?.signal instanceof AbortSignal){let{signal:s}=n;if(s.aborted){console.error("Cannot use an `aborted` signal.");return}let a=()=>this._off(e,t);o=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}(this.#e[e]||=[]).push({listener:t,external:n?.external===!0,once:n?.once===!0,rmAbort:o})}_off(e,t,n=null){let o=this.#e[e];if(o)for(let r=0,s=o.length;r<s;r++){let a=o[r];if(a.listener===t){a.rmAbort?.(),o.splice(r,1);return}}}};var Em=class{constructor(e){this.value=e}valueOf(){return this.value}},Fo=class extends Em{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}},ul=class extends Em{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),this.value.toString(10)}}},Mp=class extends Em{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),new Date(this.value).toISOString()}}},TH=100,bue="\u2068",vue="\u2069";function yue(i,e,t){if(t===e||t instanceof ul&&e instanceof ul&&t.value===e.value)return!0;if(e instanceof ul&&typeof t=="string"){let n=i.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value);if(t===n)return!0}return!1}function AH(i,e,t){return e[t]?Om(i,e[t].value):(i.reportError(new RangeError("No default")),new Fo)}function nk(i,e){let t=[],n=Object.create(null);for(let o of e)o.type==="narg"?n[o.name]=tb(i,o.value):t.push(tb(i,o));return{positional:t,named:n}}function tb(i,e){switch(e.type){case"str":return e.value;case"num":return new ul(e.value,{minimumFractionDigits:e.precision});case"var":return xue(i,e);case"mesg":return Cue(i,e);case"term":return wue(i,e);case"func":return Sue(i,e);case"select":return Eue(i,e);default:return new Fo}}function xue(i,{name:e}){let t;if(i.params)if(Object.prototype.hasOwnProperty.call(i.params,e))t=i.params[e];else return new Fo(`$${e}`);else if(i.args&&Object.prototype.hasOwnProperty.call(i.args,e))t=i.args[e];else return i.reportError(new ReferenceError(`Unknown variable: $${e}`)),new Fo(`$${e}`);if(t instanceof Em)return t;switch(typeof t){case"string":return t;case"number":return new ul(t);case"object":if(t instanceof Date)return new Mp(t.getTime());default:return i.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof t}`)),new Fo(`$${e}`)}}function Cue(i,{name:e,attr:t}){let n=i.bundle._messages.get(e);if(!n)return i.reportError(new ReferenceError(`Unknown message: ${e}`)),new Fo(e);if(t){let o=n.attributes[t];return o?Om(i,o):(i.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new Fo(`${e}.${t}`))}return n.value?Om(i,n.value):(i.reportError(new ReferenceError(`No value: ${e}`)),new Fo(e))}function wue(i,{name:e,attr:t,args:n}){let o=`-${e}`,r=i.bundle._terms.get(o);if(!r)return i.reportError(new ReferenceError(`Unknown term: ${o}`)),new Fo(o);if(t){let a=r.attributes[t];if(a){i.params=nk(i,n).named;let l=Om(i,a);return i.params=null,l}return i.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new Fo(`${o}.${t}`)}i.params=nk(i,n).named;let s=Om(i,r.value);return i.params=null,s}function Sue(i,{name:e,args:t}){let n=i.bundle._functions[e];if(!n)return i.reportError(new ReferenceError(`Unknown function: ${e}()`)),new Fo(`${e}()`);if(typeof n!="function")return i.reportError(new TypeError(`Function ${e}() is not callable`)),new Fo(`${e}()`);try{let o=nk(i,t);return n(o.positional,o.named)}catch(o){return i.reportError(o),new Fo(`${e}()`)}}function Eue(i,{selector:e,variants:t,star:n}){let o=tb(i,e);if(o instanceof Fo)return AH(i,t,n);for(let r of t){let s=tb(i,r.key);if(yue(i,o,s))return Om(i,r.value)}return AH(i,t,n)}function YH(i,e){if(i.dirty.has(e))return i.reportError(new RangeError("Cyclic reference")),new Fo;i.dirty.add(e);let t=[],n=i.bundle._useIsolating&&e.length>1;for(let o of e){if(typeof o=="string"){t.push(i.bundle._transform(o));continue}if(i.placeables++,i.placeables>TH)throw i.dirty.delete(e),new RangeError(`Too many placeables expanded: ${i.placeables}, max allowed is ${TH}`);n&&t.push(bue),t.push(tb(i,o).toString(i)),n&&t.push(vue)}return i.dirty.delete(e),t.join("")}function Om(i,e){return typeof e=="string"?i.bundle._transform(e):YH(i,e)}var ok=class{constructor(e,t,n){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=n}reportError(e){if(!this.errors||!(e instanceof Error))throw e;this.errors.push(e)}memoizeIntlObject(e,t){let n=this.bundle._intls.get(e);n||(n={},this.bundle._intls.set(e,n));let o=JSON.stringify(t);return n[o]||(n[o]=new e(this.bundle.locales,t)),n[o]}};function aw(i,e){let t=Object.create(null);for(let[n,o]of Object.entries(i))e.includes(n)&&(t[n]=o.valueOf());return t}var kH=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function Oue(i,e){let t=i[0];if(t instanceof Fo)return new Fo(`NUMBER(${t.valueOf()})`);if(t instanceof ul)return new ul(t.valueOf(),Le(Le({},t.opts),aw(e,kH)));if(t instanceof Mp)return new ul(t.valueOf(),Le({},aw(e,kH)));throw new TypeError("Invalid argument to NUMBER")}var MH=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function Iue(i,e){let t=i[0];if(t instanceof Fo)return new Fo(`DATETIME(${t.valueOf()})`);if(t instanceof Mp)return new Mp(t.valueOf(),Le(Le({},t.opts),aw(e,MH)));if(t instanceof ul)return new Mp(t.valueOf(),Le({},aw(e,MH)));throw new TypeError("Invalid argument to DATETIME")}var RH=new Map;function Due(i){let e=Array.isArray(i)?i.join(" "):i,t=RH.get(e);return t===void 0&&(t=new Map,RH.set(e,t)),t}var rk=class{constructor(e,{functions:t,useIsolating:n=!0,transform:o=r=>r}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(e)?e:[e],this._functions=Le({NUMBER:Oue,DATETIME:Iue},t),this._useIsolating=n,this._transform=o,this._intls=Due(e)}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e,{allowOverrides:t=!1}={}){let n=[];for(let o=0;o<e.body.length;o++){let r=e.body[o];if(r.id.startsWith("-")){if(t===!1&&this._terms.has(r.id)){n.push(new Error(`Attempt to override an existing term: "${r.id}"`));continue}this._terms.set(r.id,r)}else{if(t===!1&&this._messages.has(r.id)){n.push(new Error(`Attempt to override an existing message: "${r.id}"`));continue}this._messages.set(r.id,r)}}return n}formatPattern(e,t=null,n=null){if(typeof e=="string")return this._transform(e);let o=new ok(this,n,t);try{return YH(o,e).toString(o)}catch(r){if(o.errors&&r instanceof Error)return o.errors.push(r),new Fo().toString(o);throw r}}},qA=/^(-?[a-zA-Z][\w-]*) *= */gm,FH=/\.([a-zA-Z][\w-]*) *= */y,Tue=/\*?\[/y,YA=/(-?[0-9]+(?:\.([0-9]+))?)/y,Aue=/([a-zA-Z][\w-]*)/y,PH=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,kue=/^[A-Z][A-Z0-9_-]*$/,ew=/([^{}\n\r]+)/y,Mue=/([^\\"\n\r]*)/y,LH=/\\([\\"])/y,NH=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,Rue=/^\n+/,BH=/ +$/,Fue=/ *\r?\n/g,Pue=/( *)$/,Lue=/{\s*/y,VH=/\s*}/y,Nue=/\[\s*/y,Bue=/\s*] */y,Vue=/\s*\(\s*/y,Hue=/\s*->\s*/y,zue=/\s*:\s*/y,jue=/\s*,?\s*/y,$ue=/\s+/y,sk=class{constructor(e){this.body=[],qA.lastIndex=0;let t=0;for(;;){let z=qA.exec(e);if(z===null)break;t=qA.lastIndex;try{this.body.push(l(z[1]))}catch(V){if(V instanceof SyntaxError)continue;throw V}}function n(z){return z.lastIndex=t,z.test(e)}function o(z,V){if(e[t]===z)return t++,!0;if(V)throw new V(`Expected ${z}`);return!1}function r(z,V){if(n(z))return t=z.lastIndex,!0;if(V)throw new V(`Expected ${z.toString()}`);return!1}function s(z){z.lastIndex=t;let V=z.exec(e);if(V===null)throw new SyntaxError(`Expected ${z.toString()}`);return t=z.lastIndex,V}function a(z){return s(z)[1]}function l(z){let V=c(),S=d();if(V===null&&Object.keys(S).length===0)throw new SyntaxError("Expected message value or attributes");return{id:z,value:V,attributes:S}}function d(){let z=Object.create(null);for(;n(FH);){let V=a(FH),S=c();if(S===null)throw new SyntaxError("Expected attribute value");z[V]=S}return z}function c(){let z;if(n(ew)&&(z=a(ew)),e[t]==="{"||e[t]==="}")return u(z?[z]:[],1/0);let V=k();return V?z?u([z,V],V.length):(V.value=R(V.value,Rue),u([V],V.length)):z?R(z,BH):null}function u(z=[],V){for(;;){if(n(ew)){z.push(a(ew));continue}if(e[t]==="{"){z.push(h());continue}if(e[t]==="}")throw new SyntaxError("Unbalanced closing brace");let _=k();if(_){z.push(_),V=Math.min(V,_.length);continue}break}let S=z.length-1,T=z[S];typeof T=="string"&&(z[S]=R(T,BH));let B=[];for(let _ of z)_ instanceof lw&&(_=_.value.slice(0,_.value.length-V)),_&&B.push(_);return B}function h(){r(Lue,SyntaxError);let z=f();if(r(VH))return z;if(r(Hue)){let V=g();return r(VH,SyntaxError),Le({type:"select",selector:z},V)}throw new SyntaxError("Unclosed placeable")}function f(){if(e[t]==="{")return h();if(n(PH)){let[,z,V,S=null]=s(PH);if(z==="$")return{type:"var",name:V};if(r(Vue)){let T=p();if(z==="-")return{type:"term",name:V,attr:S,args:T};if(kue.test(V))return{type:"func",name:V,args:T};throw new SyntaxError("Function names must be all upper-case")}return z==="-"?{type:"term",name:V,attr:S,args:[]}:{type:"mesg",name:V,attr:S}}return x()}function p(){let z=[];for(;;){switch(e[t]){case")":return t++,z;case void 0:throw new SyntaxError("Unclosed argument list")}z.push(m()),r(jue)}}function m(){let z=f();return z.type!=="mesg"?z:r(zue)?{type:"narg",name:z.name,value:x()}:z}function g(){let z=[],V=0,S;for(;n(Tue);){o("*")&&(S=V);let T=b(),B=c();if(B===null)throw new SyntaxError("Expected variant value");z[V++]={key:T,value:B}}if(V===0)return null;if(S===void 0)throw new SyntaxError("Expected default variant");return{variants:z,star:S}}function b(){r(Nue,SyntaxError);let z;return n(YA)?z=E():z={type:"str",value:a(Aue)},r(Bue,SyntaxError),z}function x(){if(n(YA))return E();if(e[t]==='"')return D();throw new SyntaxError("Invalid expression")}function E(){let[,z,V=""]=s(YA),S=V.length;return{type:"num",value:parseFloat(z),precision:S}}function D(){o('"',SyntaxError);let z="";for(;;){if(z+=a(Mue),e[t]==="\\"){z+=L();continue}if(o('"'))return{type:"str",value:z};throw new SyntaxError("Unclosed string literal")}}function L(){if(n(LH))return a(LH);if(n(NH)){let[,z,V]=s(NH),S=parseInt(z||V,16);return S<=55295||57344<=S?String.fromCodePoint(S):"\uFFFD"}throw new SyntaxError("Unknown escape sequence")}function k(){let z=t;switch(r($ue),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return N(e.slice(z,t))}return e[t-1]===" "?N(e.slice(z,t)):!1}function R(z,V){return z.replace(V,"")}function N(z){let V=z.replace(Fue,`
`),S=Pue.exec(z)[1].length;return new lw(V,S)}}},lw=class{constructor(e,t){this.value=e,this.length=t}},Wue=/<|&#?\w+;/,Uue={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},Gue={"http://www.w3.org/1999/xhtml":{global:["title","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function Kue(i,e){let{value:t}=e;if(typeof t=="string")if(i.localName==="title"&&i.namespaceURI==="http://www.w3.org/1999/xhtml")i.textContent=t;else if(!Wue.test(t))i.textContent=t;else{let n=i.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");n.innerHTML=t,que(n.content,i)}XH(e,i)}function que(i,e){for(let t of i.childNodes)if(t.nodeType!==t.TEXT_NODE){if(t.hasAttribute("data-l10n-name")){let n=Xue(e,t);i.replaceChild(n,t);continue}if(Que(t)){let n=Zue(t);i.replaceChild(n,t);continue}console.warn(`An element of forbidden type "${t.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),i.replaceChild(ak(t),t)}e.textContent="",e.appendChild(i)}function Yue(i,e){if(!i)return!1;for(let t of i)if(t.name===e)return!0;return!1}function XH(i,e){let t=e.hasAttribute("data-l10n-attrs")?e.getAttribute("data-l10n-attrs").split(",").map(n=>n.trim()):null;for(let n of Array.from(e.attributes))HH(n.name,e,t)&&!Yue(i.attributes,n.name)&&e.removeAttribute(n.name);if(i.attributes)for(let n of Array.from(i.attributes))HH(n.name,e,t)&&e.getAttribute(n.name)!==n.value&&e.setAttribute(n.name,n.value)}function Xue(i,e){let t=e.getAttribute("data-l10n-name"),n=i.querySelector(`[data-l10n-name="${t}"]`);if(!n)return console.warn(`An element named "${t}" wasn't found in the source.`),ak(e);if(n.localName!==e.localName)return console.warn(`An element named "${t}" was found in the translation but its type ${e.localName} didn't match the element found in the source (${n.localName}).`),ak(e);i.removeChild(n);let o=n.cloneNode(!1);return ZH(e,o)}function Zue(i){let e=i.ownerDocument.createElement(i.localName);return ZH(i,e)}function ak(i){return i.ownerDocument.createTextNode(i.textContent)}function Que(i){let e=Uue[i.namespaceURI];return e&&e.includes(i.localName)}function HH(i,e,t=null){if(t&&t.includes(i))return!0;let n=Gue[e.namespaceURI];if(!n)return!1;let o=i.toLowerCase(),r=e.localName;if(n.global.includes(o))return!0;if(!n[r])return!1;if(n[r].includes(o))return!0;if(e.namespaceURI==="http://www.w3.org/1999/xhtml"&&r==="input"&&o==="value"){let s=e.type.toLowerCase();if(s==="submit"||s==="button"||s==="reset")return!0}return!1}function ZH(i,e){return e.textContent=i.textContent,XH(i,e),e}var lk=class extends Array{static from(e){return e instanceof this?e:new this(e)}};var dk=class extends lk{constructor(e){if(super(),Symbol.asyncIterator in Object(e))this.iterator=e[Symbol.asyncIterator]();else if(Symbol.iterator in Object(e))this.iterator=e[Symbol.iterator]();else throw new TypeError("Argument must implement the iteration protocol.")}[Symbol.asyncIterator](){let e=this,t=0;return{next(){return ze(this,null,function*(){return e.length<=t&&e.push(e.iterator.next()),e[t++]})}}}touchNext(e=1){return ze(this,null,function*(){let t=0;for(;t++<e;){let n=this[this.length-1];if(n&&(yield n).done)break;this.push(this.iterator.next())}return this[this.length-1]})}},ck=class{constructor(e=[],t){this.resourceIds=e,this.generateBundles=t,this.onChange(!0)}addResourceIds(e,t=!1){return this.resourceIds.push(...e),this.onChange(t),this.resourceIds.length}removeResourceIds(e){return this.resourceIds=this.resourceIds.filter(t=>!e.includes(t)),this.onChange(),this.resourceIds.length}formatWithFallback(e,t){return ze(this,null,function*(){let n=[],o=!1;try{for(var r=Af(this.bundles),s,a,l;s=!(a=yield r.next()).done;s=!1){let d=a.value;o=!0;let c=the(t,d,e,n);if(c.size===0)break;if(typeof console<"u"){let u=d.locales[0],h=Array.from(c).join(", ");console.warn(`[fluent] Missing translations in ${u}: ${h}`)}}}catch{l=[a]}finally{try{s&&(a=r.return)&&(yield a.call(r))}finally{if(l)throw l[0]}}return!o&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.
  keys: ${JSON.stringify(e)}.
  resourceIds: ${JSON.stringify(this.resourceIds)}.`),n})}formatMessages(e){return this.formatWithFallback(e,ehe)}formatValues(e){return this.formatWithFallback(e,Jue)}formatValue(e,t){return ze(this,null,function*(){let[n]=yield this.formatValues([{id:e,args:t}]);return n})}handleEvent(){this.onChange()}onChange(e=!1){this.bundles=dk.from(this.generateBundles(this.resourceIds)),e&&this.bundles.touchNext(2)}};function Jue(i,e,t,n){return t.value?i.formatPattern(t.value,n,e):null}function ehe(i,e,t,n){let o={value:null,attributes:null};t.value&&(o.value=i.formatPattern(t.value,n,e));let r=Object.keys(t.attributes);if(r.length>0){o.attributes=new Array(r.length);for(let[s,a]of r.entries()){let l=i.formatPattern(t.attributes[a],n,e);o.attributes[s]={name:a,value:l}}}return o}function the(i,e,t,n){let o=[],r=new Set;return t.forEach(({id:s,args:a},l)=>{if(n[l]!==void 0)return;let d=e.getMessage(s);if(d){if(o.length=0,n[l]=i(e,o,d,a),o.length>0&&typeof console<"u"){let c=e.locales[0],u=o.join(", ");console.warn(`[fluent][resolver] errors in ${c}/${s}: ${u}.`)}}else r.add(s)}),r}var Ap="data-l10n-id",X0="data-l10n-args",ihe=`[${Ap}]`,uk=class extends ck{constructor(e,t){super(e,t),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[Ap,X0]}}onChange(e=!1){super.onChange(e),this.roots&&this.translateRoots()}setAttributes(e,t,n){return e.setAttribute(Ap,t),n?e.setAttribute(X0,JSON.stringify(n)):e.removeAttribute(X0),e}getAttributes(e){return{id:e.getAttribute(Ap),args:JSON.parse(e.getAttribute(X0)||null)}}connectRoot(e){for(let t of this.roots)if(t===e||t.contains(e)||e.contains(t))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==e.ownerDocument.defaultView)throw new Error(`Cannot connect a root:
          DOMLocalization already has a root from a different window.`)}else this.windowElement=e.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(t=>this.translateMutations(t));this.roots.add(e),this.mutationObserver.observe(e,this.observerConfig)}disconnectRoot(e){return this.roots.delete(e),this.pauseObserving(),this.roots.size===0?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){let e=Array.from(this.roots);return Promise.all(e.map(t=>this.translateFragment(t)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(let e of this.roots)this.mutationObserver.observe(e,this.observerConfig)}translateMutations(e){for(let t of e)switch(t.type){case"attributes":t.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(t.target);break;case"childList":for(let n of t.addedNodes)if(n.nodeType===n.ELEMENT_NODE)if(n.childElementCount)for(let o of this.getTranslatables(n))this.pendingElements.add(o);else n.hasAttribute(Ap)&&this.pendingElements.add(n);break}this.pendingElements.size>0&&this.pendingrAF===null&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(e){return this.translateElements(this.getTranslatables(e))}translateElements(e){return ze(this,null,function*(){if(!e.length)return;let t=e.map(this.getKeysForElement),n=yield this.formatMessages(t);return this.applyTranslations(e,n)})}applyTranslations(e,t){this.pauseObserving();for(let n=0;n<e.length;n++)t[n]!==void 0&&Kue(e[n],t[n]);this.resumeObserving()}getTranslatables(e){let t=Array.from(e.querySelectorAll(ihe));return typeof e.hasAttribute=="function"&&e.hasAttribute(Ap)&&t.push(e),t}getKeysForElement(e){return{id:e.getAttribute(Ap),args:JSON.parse(e.getAttribute(X0)||null)}}},hk=class i{#e;#t=new Set;#i;#o;constructor({lang:e,isRTL:t},n=null){this.#i=i.#r(e),this.#o=n,this.#e=t??i.#n(this.#i)?"rtl":"ltr"}_setL10n(e){this.#o=e}getLanguage(){return this.#i}getDirection(){return this.#e}get(e,t=null,n){return ze(this,null,function*(){return Array.isArray(e)?(e=e.map(s=>({id:s})),(yield this.#o.formatMessages(e)).map(s=>s.value)):(yield this.#o.formatMessages([{id:e,args:t}]))?.[0].value||n})}translate(e){return ze(this,null,function*(){this.#t.add(e);try{this.#o.connectRoot(e),yield this.#o.translateRoots()}catch{}})}destroy(){return ze(this,null,function*(){for(let e of this.#t)this.#o.disconnectRoot(e);this.#t.clear(),this.#o.pauseObserving()})}pause(){this.#o.pauseObserving()}resume(){this.#o.resumeObserving()}static#r(e){return e=e?.toLowerCase()||"en-us",{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[e]||e}static#n(e){let t=e.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(t)}};function zH(i,e){let t=new sk(e),n=new rk(i),o=n.addResource(t);return o.length&&console.error("L10n errors",o),n}var Im=class i extends hk{constructor(e){super({lang:e});let t=e?i.#e.bind(i,"en-us",this.getLanguage()):i.#o.bind(i,this.getLanguage());this._setL10n(new uk([],t))}static#e(e,t){return b_(this,null,function*(){let{baseURL:n,paths:o}=yield new Tf(this.#i()),r=[t];if(e!==t){let s=t.split("-",1)[0];s!==t&&r.push(s),r.push(e)}for(let s of r){let a=yield new Tf(this.#t(s,n,o));a?yield a:s==="en-us"&&(yield this.#r(s))}})}static#t(e,t,n){return ze(this,null,function*(){let o=n[e];if(!o)return null;let r=new URL(o,t),s=yield EH(r,"text");return zH(e,s)})}static#i(){return ze(this,null,function*(){try{let{href:e}=document.querySelector('link[type="application/l10n"]'),t=yield EH(e,"json");return{baseURL:e.replace(/[^/]*$/,"")||"./",paths:t}}catch{}return{baseURL:"./",paths:Object.create(null)}})}static#o(e){return b_(this,null,function*(){yield this.#r(e)})}static#r(e){return ze(this,null,function*(){return zH(e,`pdfjs-previous-button =
    .title = Previous Page
pdfjs-previous-button-label = Previous
pdfjs-next-button =
    .title = Next Page
pdfjs-next-button-label = Next
pdfjs-page-input =
    .title = Page
pdfjs-of-pages = of { $pagesCount }
pdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })
pdfjs-zoom-out-button =
    .title = Zoom Out
pdfjs-zoom-out-button-label = Zoom Out
pdfjs-zoom-in-button =
    .title = Zoom In
pdfjs-zoom-in-button-label = Zoom In
pdfjs-zoom-select =
    .title = Zoom
pdfjs-presentation-mode-button =
    .title = Switch to Presentation Mode
pdfjs-presentation-mode-button-label = Presentation Mode
pdfjs-open-file-button =
    .title = Open File
pdfjs-open-file-button-label = Open
pdfjs-print-button =
    .title = Print
pdfjs-print-button-label = Print
pdfjs-save-button =
    .title = Save
pdfjs-save-button-label = Save
pdfjs-download-button =
    .title = Download
pdfjs-download-button-label = Download
pdfjs-bookmark-button =
    .title = Current Page (View URL from Current Page)
pdfjs-bookmark-button-label = Current Page
pdfjs-tools-button =
    .title = Tools
pdfjs-tools-button-label = Tools
pdfjs-first-page-button =
    .title = Go to First Page
pdfjs-first-page-button-label = Go to First Page
pdfjs-last-page-button =
    .title = Go to Last Page
pdfjs-last-page-button-label = Go to Last Page
pdfjs-page-rotate-cw-button =
    .title = Rotate Clockwise
pdfjs-page-rotate-cw-button-label = Rotate Clockwise
pdfjs-page-rotate-ccw-button =
    .title = Rotate Counterclockwise
pdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise
pdfjs-cursor-text-select-tool-button =
    .title = Enable Text Selection Tool
pdfjs-cursor-text-select-tool-button-label = Text Selection Tool
pdfjs-cursor-hand-tool-button =
    .title = Enable Hand Tool
pdfjs-cursor-hand-tool-button-label = Hand Tool
pdfjs-scroll-page-button =
    .title = Use Page Scrolling
pdfjs-scroll-page-button-label = Page Scrolling
pdfjs-scroll-vertical-button =
    .title = Use Vertical Scrolling
pdfjs-scroll-vertical-button-label = Vertical Scrolling
pdfjs-scroll-horizontal-button =
    .title = Use Horizontal Scrolling
pdfjs-scroll-horizontal-button-label = Horizontal Scrolling
pdfjs-scroll-wrapped-button =
    .title = Use Wrapped Scrolling
pdfjs-scroll-wrapped-button-label = Wrapped Scrolling
pdfjs-spread-none-button =
    .title = Do not join page spreads
pdfjs-spread-none-button-label = No Spreads
pdfjs-spread-odd-button =
    .title = Join page spreads starting with odd-numbered pages
pdfjs-spread-odd-button-label = Odd Spreads
pdfjs-spread-even-button =
    .title = Join page spreads starting with even-numbered pages
pdfjs-spread-even-button-label = Even Spreads
pdfjs-document-properties-button =
    .title = Document Properties\u2026
pdfjs-document-properties-button-label = Document Properties\u2026
pdfjs-document-properties-file-name = File name:
pdfjs-document-properties-file-size = File size:
pdfjs-document-properties-kb = { $size_kb } KB ({ $size_b } bytes)
pdfjs-document-properties-mb = { $size_mb } MB ({ $size_b } bytes)
pdfjs-document-properties-title = Title:
pdfjs-document-properties-author = Author:
pdfjs-document-properties-subject = Subject:
pdfjs-document-properties-keywords = Keywords:
pdfjs-document-properties-creation-date = Creation Date:
pdfjs-document-properties-modification-date = Modification Date:
pdfjs-document-properties-date-string = { $date }, { $time }
pdfjs-document-properties-creator = Creator:
pdfjs-document-properties-producer = PDF Producer:
pdfjs-document-properties-version = PDF Version:
pdfjs-document-properties-page-count = Page Count:
pdfjs-document-properties-page-size = Page Size:
pdfjs-document-properties-page-size-unit-inches = in
pdfjs-document-properties-page-size-unit-millimeters = mm
pdfjs-document-properties-page-size-orientation-portrait = portrait
pdfjs-document-properties-page-size-orientation-landscape = landscape
pdfjs-document-properties-page-size-name-a-three = A3
pdfjs-document-properties-page-size-name-a-four = A4
pdfjs-document-properties-page-size-name-letter = Letter
pdfjs-document-properties-page-size-name-legal = Legal
pdfjs-document-properties-page-size-dimension-string = { $width } \xD7 { $height } { $unit } ({ $orientation })
pdfjs-document-properties-page-size-dimension-name-string = { $width } \xD7 { $height } { $unit } ({ $name }, { $orientation })
pdfjs-document-properties-linearized = Fast Web View:
pdfjs-document-properties-linearized-yes = Yes
pdfjs-document-properties-linearized-no = No
pdfjs-document-properties-close-button = Close
pdfjs-print-progress-message = Preparing document for printing\u2026
pdfjs-print-progress-percent = { $progress }%
pdfjs-print-progress-close-button = Cancel
pdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.
pdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.
pdfjs-toggle-sidebar-button =
    .title = Toggle Sidebar
pdfjs-toggle-sidebar-notification-button =
    .title = Toggle Sidebar (document contains outline/attachments/layers)
pdfjs-toggle-sidebar-button-label = Toggle Sidebar
pdfjs-document-outline-button =
    .title = Show Document Outline (double-click to expand/collapse all items)
pdfjs-document-outline-button-label = Document Outline
pdfjs-attachments-button =
    .title = Show Attachments
pdfjs-attachments-button-label = Attachments
pdfjs-layers-button =
    .title = Show Layers (double-click to reset all layers to the default state)
pdfjs-layers-button-label = Layers
pdfjs-thumbs-button =
    .title = Show Thumbnails
pdfjs-thumbs-button-label = Thumbnails
pdfjs-current-outline-item-button =
    .title = Find Current Outline Item
pdfjs-current-outline-item-button-label = Current Outline Item
pdfjs-findbar-button =
    .title = Find in Document
pdfjs-findbar-button-label = Find
pdfjs-additional-layers = Additional Layers
pdfjs-thumb-page-title =
    .title = Page { $page }
pdfjs-thumb-page-canvas =
    .aria-label = Thumbnail of Page { $page }
pdfjs-find-input =
    .title = Find
    .placeholder = Find in document\u2026
pdfjs-find-previous-button =
    .title = Find the previous occurrence of the phrase
pdfjs-find-previous-button-label = Previous
pdfjs-find-next-button =
    .title = Find the next occurrence of the phrase
pdfjs-find-next-button-label = Next
pdfjs-find-highlight-checkbox = Highlight All
pdfjs-find-match-case-checkbox-label = Match Case
pdfjs-find-match-diacritics-checkbox-label = Match Diacritics
pdfjs-find-entire-word-checkbox-label = Whole Words
pdfjs-find-reached-top = Reached top of document, continued from bottom
pdfjs-find-reached-bottom = Reached end of document, continued from top
pdfjs-find-match-count =
    { $total ->
        [one] { $current } of { $total } match
       *[other] { $current } of { $total } matches
    }
pdfjs-find-match-count-limit =
    { $limit ->
        [one] More than { $limit } match
       *[other] More than { $limit } matches
    }
pdfjs-find-not-found = Phrase not found
pdfjs-page-scale-width = Page Width
pdfjs-page-scale-fit = Page Fit
pdfjs-page-scale-auto = Automatic Zoom
pdfjs-page-scale-actual = Actual Size
pdfjs-page-scale-percent = { $scale }%
pdfjs-page-landmark =
    .aria-label = Page { $page }
pdfjs-loading-error = An error occurred while loading the PDF.
pdfjs-invalid-file-error = Invalid or corrupted PDF file.
pdfjs-missing-file-error = Missing PDF file.
pdfjs-unexpected-response-error = Unexpected server response.
pdfjs-rendering-error = An error occurred while rendering the page.
pdfjs-annotation-date-string = { $date }, { $time }
pdfjs-text-annotation-type =
    .alt = [{ $type } Annotation]
pdfjs-password-label = Enter the password to open this PDF file.
pdfjs-password-invalid = Invalid password. Please try again.
pdfjs-password-ok-button = OK
pdfjs-password-cancel-button = Cancel
pdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.
pdfjs-editor-free-text-button =
    .title = Text
pdfjs-editor-free-text-button-label = Text
pdfjs-editor-ink-button =
    .title = Draw
pdfjs-editor-ink-button-label = Draw
pdfjs-editor-stamp-button =
    .title = Add or edit images
pdfjs-editor-stamp-button-label = Add or edit images
pdfjs-editor-highlight-button =
    .title = Highlight
pdfjs-editor-highlight-button-label = Highlight
pdfjs-highlight-floating-button1 =
    .title = Highlight
    .aria-label = Highlight
pdfjs-highlight-floating-button-label = Highlight
pdfjs-editor-remove-ink-button =
    .title = Remove drawing
pdfjs-editor-remove-freetext-button =
    .title = Remove text
pdfjs-editor-remove-stamp-button =
    .title = Remove image
pdfjs-editor-remove-highlight-button =
    .title = Remove highlight
pdfjs-editor-free-text-color-input = Color
pdfjs-editor-free-text-size-input = Size
pdfjs-editor-ink-color-input = Color
pdfjs-editor-ink-thickness-input = Thickness
pdfjs-editor-ink-opacity-input = Opacity
pdfjs-editor-stamp-add-image-button =
    .title = Add image
pdfjs-editor-stamp-add-image-button-label = Add image
pdfjs-editor-free-highlight-thickness-input = Thickness
pdfjs-editor-free-highlight-thickness-title =
    .title = Change thickness when highlighting items other than text
pdfjs-free-text =
    .aria-label = Text Editor
pdfjs-free-text-default-content = Start typing\u2026
pdfjs-ink =
    .aria-label = Draw Editor
pdfjs-ink-canvas =
    .aria-label = User-created image
pdfjs-editor-alt-text-button-label = Alt text
pdfjs-editor-alt-text-edit-button-label = Edit alt text
pdfjs-editor-alt-text-dialog-label = Choose an option
pdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people can\u2019t see the image or when it doesn\u2019t load.
pdfjs-editor-alt-text-add-description-label = Add a description
pdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.
pdfjs-editor-alt-text-mark-decorative-label = Mark as decorative
pdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.
pdfjs-editor-alt-text-cancel-button = Cancel
pdfjs-editor-alt-text-save-button = Save
pdfjs-editor-alt-text-decorative-tooltip = Marked as decorative
pdfjs-editor-alt-text-textarea =
    .placeholder = For example, \u201CA young man sits down at a table to eat a meal\u201D
pdfjs-editor-resizer-label-top-left = Top left corner \u2014 resize
pdfjs-editor-resizer-label-top-middle = Top middle \u2014 resize
pdfjs-editor-resizer-label-top-right = Top right corner \u2014 resize
pdfjs-editor-resizer-label-middle-right = Middle right \u2014 resize
pdfjs-editor-resizer-label-bottom-right = Bottom right corner \u2014 resize
pdfjs-editor-resizer-label-bottom-middle = Bottom middle \u2014 resize
pdfjs-editor-resizer-label-bottom-left = Bottom left corner \u2014 resize
pdfjs-editor-resizer-label-middle-left = Middle left \u2014 resize
pdfjs-editor-highlight-colorpicker-label = Highlight color
pdfjs-editor-colorpicker-button =
    .title = Change color
pdfjs-editor-colorpicker-dropdown =
    .aria-label = Color choices
pdfjs-editor-colorpicker-yellow =
    .title = Yellow
pdfjs-editor-colorpicker-green =
    .title = Green
pdfjs-editor-colorpicker-blue =
    .title = Blue
pdfjs-editor-colorpicker-pink =
    .title = Pink
pdfjs-editor-colorpicker-red =
    .title = Red
pdfjs-editor-highlight-show-all-button-label = Show all
pdfjs-editor-highlight-show-all-button =
    .title = Show all`)})}},nhe=1e3,XA=50,jH=1e3;function ZA(){return document.location.hash}var pk=class{#e=null;constructor({linkService:e,eventBus:t}){this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",n=>{this._isPagesLoaded=!!n.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:t=!1,updateUrl:n=!1}){if(!e||typeof e!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();let o=this._fingerprint!==""&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=n===!0,this._initialized=!0,this.#u();let r=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=ZA(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this.#r(r,!0)||t){let{hash:a,page:l,rotation:d}=this.#s(!0);if(!a||o||t){this.#t(null,!0);return}this.#t({hash:a,page:l,rotation:d},!0);return}let s=r.destination;this.#n(s,r.uid,!0),s.rotation!==void 0&&(this._initialRotation=s.rotation),s.dest?(this._initialBookmark=JSON.stringify(s.dest),this._destination.page=null):s.hash?this._initialBookmark=s.hash:s.page&&(this._initialBookmark=`page=${s.page}`)}reset(){this._initialized&&(this.#d(),this._initialized=!1,this.#c()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:t,pageNumber:n}){if(!this._initialized)return;if(e&&typeof e!="string"){console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);return}else if(Array.isArray(t)){if(!this.#o(n)&&(n!==null||this._destination)){console.error(`PDFHistory.push: "${n}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${t}" is not a valid explicitDest parameter.`);return}let o=e||JSON.stringify(t);if(!o)return;let r=!1;if(this._destination&&(ohe(this._destination.hash,o)||rhe(this._destination.dest,t))){if(this._destination.page)return;r=!0}this._popStateInProgress&&!r||(this.#t({dest:t,hash:o,page:n,rotation:this.linkService.rotation},r),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){if(this._initialized){if(!this.#o(e)){console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);return}this._destination?.page!==e&&(this._popStateInProgress||(this.#t({dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this.#i()}back(){if(!this._initialized||this._popStateInProgress)return;let e=window.history.state;this.#r(e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;let e=window.history.state;this.#r(e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}#t(e,t=!1){let n=t||!this._destination,o={fingerprint:this._fingerprint,uid:n?this._uid:this._uid+1,destination:e};this.#n(e,o.uid);let r;if(this._updateUrl&&e?.hash){let s=document.location.href.split("#",1)[0];s.startsWith("file://")||(r=`${s}#${e.hash}`)}n?window.history.replaceState(o,"",r):window.history.pushState(o,"",r)}#i(e=!1){if(!this._position)return;let t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),!this._destination){this.#t(t);return}if(this._destination.temporary){this.#t(t,!0);return}if(this._destination.hash===t.hash||!this._destination.page&&(XA<=0||this._numPositionUpdates<=XA))return;let n=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(this._destination.dest!==void 0||!this._destination.first)return;n=!0}this.#t(t,n)}#o(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount}#r(e,t=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint)if(t){if(typeof e.fingerprint!="string"||e.fingerprint.length!==this._fingerprint.length)return!1;let[n]=performance.getEntriesByType("navigation");if(n?.type!=="reload")return!1}else return!1;return!(!Number.isInteger(e.uid)||e.uid<0||e.destination===null||typeof e.destination!="object")}#n(e,t,n=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),n&&e?.temporary&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0}#s(e=!1){let t=unescape(ZA()).substring(1),n=fw(t),o=n.get("nameddest")||"",r=n.get("page")|0;return(!this.#o(r)||e&&o.length>0)&&(r=null),{hash:t,page:r,rotation:this.linkService.rotation}}#l({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(XA>0&&this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,jH>0&&(this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this.#i(!0),this._updateViewareaTimeout=null},jH)))}#h({state:e}){let t=ZA(),n=this._currentHash!==t;if(this._currentHash=t,!e){this._uid++;let{hash:r,page:s,rotation:a}=this.#s();this.#t({hash:r,page:s,rotation:a},!0);return}if(!this.#r(e))return;this._popStateInProgress=!0,n&&(this._blockHashChange++,_ue({target:window,name:"hashchange",delay:nhe}).then(()=>{this._blockHashChange--}));let o=e.destination;this.#n(o,e.uid,!0),qH(o.rotation)&&(this.linkService.rotation=o.rotation),o.dest?this.linkService.goToDestination(o.dest):o.hash?this.linkService.setHash(o.hash):o.page&&(this.linkService.page=o.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}#d(){(!this._destination||this._destination.temporary)&&this.#i()}#u(){if(this.#e)return;this.#e=new AbortController;let{signal:e}=this.#e;this.eventBus._on("updateviewarea",this.#l.bind(this),{signal:e}),window.addEventListener("popstate",this.#h.bind(this),{signal:e}),window.addEventListener("pagehide",this.#d.bind(this),{signal:e})}#c(){this.#e?.abort(),this.#e=null}};function ohe(i,e){return typeof i!="string"||typeof e!="string"?!1:i===e||fw(i).get("nameddest")===e}function rhe(i,e){function t(n,o){if(typeof n!=typeof o||Array.isArray(n)||Array.isArray(o))return!1;if(n!==null&&typeof n=="object"&&o!==null){if(Object.keys(n).length!==Object.keys(o).length)return!1;for(let r in n)if(!t(n[r],o[r]))return!1;return!0}return n===o||Number.isNaN(n)&&Number.isNaN(o)}if(!(Array.isArray(i)&&Array.isArray(e))||i.length!==e.length)return!1;for(let n=0,o=i.length;n<o;n++)if(!t(i[n],e[n]))return!1;return!0}var fk=class{#e=null;#t=null;#i=null;#o=null;#r;constructor(e){this.pdfPage=e.pdfPage,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n,this.l10n||=new Im,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,this.#r=e.uiManager,this.#e=e.annotationLayer||null,this.#o=e.textLayer||null,this.#t=e.drawLayer||null,this.#i=e.onAppend||null}render(e,t="display"){return ze(this,null,function*(){if(t!=="display"||this._cancelled)return;let n=e.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:n}),this.show();return}let o=this.div=document.createElement("div");o.className="annotationEditorLayer",o.hidden=!0,o.dir=this.#r.direction,this.#i?.(o),this.annotationEditorLayer=new aue({uiManager:this.#r,div:o,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:n,annotationLayer:this.#e,textLayer:this.#o,drawLayer:this.#t});let r={viewport:n,div:o,annotations:null,intent:t};this.annotationEditorLayer.render(r),this.show()})}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1)}};{Q0=new Map;let i=navigator.userAgent||"",e=navigator.platform||"",t=navigator.maxTouchPoints||1,n=/Android/.test(i),o=/\b(iPad|iPhone|iPod)(?=;)/.test(i)||e==="MacIntel"&&t>1;(function(){(o||n)&&Q0.set("maxCanvasPixels",5242880)})(),function(){n&&Q0.set("useSystemFonts",!1)}()}var Q0,Ze={BROWSER:1,VIEWER:2,API:4,WORKER:8,EVENT_DISPATCH:16,PREFERENCE:128},mk={BOOLEAN:1,NUMBER:2,OBJECT:4,STRING:8,UNDEFINED:16},Wu={allowedGlobalEvents:{value:null,kind:Ze.BROWSER},canvasMaxAreaInBytes:{value:-1,kind:Ze.BROWSER+Ze.API},isInAutomation:{value:!1,kind:Ze.BROWSER},localeProperties:{value:{lang:navigator.language||"en-US"},kind:Ze.BROWSER},nimbusDataStr:{value:"",kind:Ze.BROWSER},supportsCaretBrowsingMode:{value:!1,kind:Ze.BROWSER},supportsDocumentFonts:{value:!0,kind:Ze.BROWSER},supportsIntegratedFind:{value:!1,kind:Ze.BROWSER},supportsMouseWheelZoomCtrlKey:{value:!0,kind:Ze.BROWSER},supportsMouseWheelZoomMetaKey:{value:!0,kind:Ze.BROWSER},supportsPinchToZoom:{value:!0,kind:Ze.BROWSER},toolbarDensity:{value:0,kind:Ze.BROWSER+Ze.EVENT_DISPATCH},altTextLearnMoreUrl:{value:"",kind:Ze.VIEWER+Ze.PREFERENCE},annotationEditorMode:{value:0,kind:Ze.VIEWER+Ze.PREFERENCE},annotationMode:{value:2,kind:Ze.VIEWER+Ze.PREFERENCE},cursorToolOnLoad:{value:0,kind:Ze.VIEWER+Ze.PREFERENCE},debuggerSrc:{value:"./debugger.mjs",kind:Ze.VIEWER},defaultZoomDelay:{value:400,kind:Ze.VIEWER+Ze.PREFERENCE},defaultZoomValue:{value:"",kind:Ze.VIEWER+Ze.PREFERENCE},disableHistory:{value:!1,kind:Ze.VIEWER},disablePageLabels:{value:!1,kind:Ze.VIEWER+Ze.PREFERENCE},enableAltText:{value:!1,kind:Ze.VIEWER+Ze.PREFERENCE},enableGuessAltText:{value:!0,kind:Ze.VIEWER+Ze.PREFERENCE},enableHighlightEditor:{value:!1,kind:Ze.VIEWER+Ze.PREFERENCE},enableHighlightFloatingButton:{value:!1,kind:Ze.VIEWER+Ze.PREFERENCE},enablePermissions:{value:!1,kind:Ze.VIEWER+Ze.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:Ze.VIEWER+Ze.PREFERENCE},enableScripting:{value:!0,kind:Ze.VIEWER+Ze.PREFERENCE},enableUpdatedAddImage:{value:!1,kind:Ze.VIEWER+Ze.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:Ze.VIEWER},externalLinkTarget:{value:0,kind:Ze.VIEWER+Ze.PREFERENCE},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F",kind:Ze.VIEWER+Ze.PREFERENCE},historyUpdateUrl:{value:!1,kind:Ze.VIEWER+Ze.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:Ze.VIEWER+Ze.PREFERENCE},imageResourcesPath:{value:"./images/",kind:Ze.VIEWER},maxCanvasPixels:{value:2**25,kind:Ze.VIEWER},forcePageColors:{value:!1,kind:Ze.VIEWER+Ze.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:Ze.VIEWER+Ze.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:Ze.VIEWER+Ze.PREFERENCE},pdfBugEnabled:{value:!1,kind:Ze.VIEWER+Ze.PREFERENCE},printResolution:{value:150,kind:Ze.VIEWER},sidebarViewOnLoad:{value:-1,kind:Ze.VIEWER+Ze.PREFERENCE},scrollModeOnLoad:{value:-1,kind:Ze.VIEWER+Ze.PREFERENCE},spreadModeOnLoad:{value:-1,kind:Ze.VIEWER+Ze.PREFERENCE},textLayerMode:{value:1,kind:Ze.VIEWER+Ze.PREFERENCE},viewOnLoad:{value:0,kind:Ze.VIEWER+Ze.PREFERENCE},cMapPacked:{value:!0,kind:Ze.API},cMapUrl:{value:"../web/cmaps/",kind:Ze.API},disableAutoFetch:{value:!1,kind:Ze.API+Ze.PREFERENCE},disableFontFace:{value:!1,kind:Ze.API+Ze.PREFERENCE},disableRange:{value:!1,kind:Ze.API+Ze.PREFERENCE},disableStream:{value:!1,kind:Ze.API+Ze.PREFERENCE},docBaseUrl:{value:"",kind:Ze.API},enableHWA:{value:!0,kind:Ze.API+Ze.VIEWER+Ze.PREFERENCE},enableXfa:{value:!0,kind:Ze.API+Ze.PREFERENCE},fontExtraProperties:{value:!1,kind:Ze.API},isEvalSupported:{value:!0,kind:Ze.API},isOffscreenCanvasSupported:{value:!0,kind:Ze.API},maxImageSize:{value:-1,kind:Ze.API},pdfBug:{value:!1,kind:Ze.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:Ze.API},useSystemFonts:{value:void 0,kind:Ze.API,type:mk.BOOLEAN+mk.UNDEFINED},verbosity:{value:1,kind:Ze.API},workerPort:{value:null,kind:Ze.WORKER},workerSrc:{value:"../build/pdf.worker.mjs",kind:Ze.WORKER}};Wu.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:Ze.VIEWER},Wu.sandboxBundleSrc={value:"../build/pdf.sandbox.mjs",kind:Ze.VIEWER},Wu.viewerCssTheme={value:0,kind:Ze.VIEWER+Ze.PREFERENCE};Wu.disablePreferences={value:!1,kind:Ze.VIEWER};var kp=new Map;for(let[i,e]of Q0)kp.set(i,e);var gk=(()=>{class i{static eventBus;constructor(){throw new Error("Cannot initialize AppOptions.")}static get(t){return kp.has(t)?kp.get(t):Wu[t]?.value}static getAll(t=null,n=!1){let o=Object.create(null);for(let r in Wu){let s=Wu[r];t&&!(t&s.kind)||(o[r]=!n&&kp.has(r)?kp.get(r):s.value)}return o}static set(t,n){this.setAll({[t]:n})}static setAll(t,n=!1){let o;for(let r in t){let s=Wu[r],a=t[r];if(!s||!(typeof a==typeof s.value||mk[(typeof a).toUpperCase()]&s.type))continue;let{kind:l}=s;n&&!(l&Ze.BROWSER||l&Ze.PREFERENCE)||(this.eventBus&&l&Ze.EVENT_DISPATCH&&(o||=new Map).set(r,a),kp.set(r,a))}if(o)for(let[r,s]of o)this.eventBus.dispatch(r.toLowerCase(),{source:this,value:s})}}return i})();gk._checkDisablePreferences=()=>{if(gk.get("disablePreferences"))return!0;for(let[i]of kp)if(!Q0.has(i)){console.warn('The Preferences may override manually set AppOptions; please use the "disablePreferences"-option to prevent that.');break}return!1};var _k=class{#e=null;constructor(e){this.pageIndex=e.pageIndex}render(e="display"){return ze(this,null,function*(){e!=="display"||this.#e||this._cancelled||(this.#e=new uue({pageIndex:this.pageIndex}))})}cancel(){this._cancelled=!0,this.#e&&(this.#e.destroy(),this.#e=null)}setParent(e){this.#e?.setParent(e)}getDrawLayer(){return this.#e}},$H={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},she=/^H(\d+)$/,dw=class{#e=void 0;get renderingDone(){return this.#e!==void 0}render(e){if(this.#e!==void 0)return this.#e;let t=this.#i(e);return t?.classList.add("structTree"),this.#e=t}hide(){this.#e&&!this.#e.hidden&&(this.#e.hidden=!0)}show(){this.#e?.hidden&&(this.#e.hidden=!1)}#t(e,t){let{alt:n,id:o,lang:r}=e;n!==void 0&&t.setAttribute("aria-label",iw(n)),o!==void 0&&t.setAttribute("aria-owns",o),r!==void 0&&t.setAttribute("lang",iw(r,!0))}#i(e){if(!e)return null;let t=document.createElement("span");if("role"in e){let{role:n}=e,o=n.match(she);o?(t.setAttribute("role","heading"),t.setAttribute("aria-level",o[1])):$H[n]&&t.setAttribute("role",$H[n])}if(this.#t(e,t),e.children)if(e.children.length===1&&"id"in e.children[0])this.#t(e.children[0],t);else for(let n of e.children)t.append(this.#i(n));return t}},bk=class i{#e=!1;#t=null;#i=new Map;#o=new Map;setTextMapping(e){this.#t=e}static#r(e,t){let n=e.getBoundingClientRect(),o=t.getBoundingClientRect();if(n.width===0&&n.height===0)return 1;if(o.width===0&&o.height===0)return-1;let r=n.y,s=n.y+n.height,a=n.y+n.height/2,l=o.y,d=o.y+o.height,c=o.y+o.height/2;if(a<=l&&c>=s)return-1;if(c<=r&&a>=d)return 1;let u=n.x+n.width/2,h=o.x+o.width/2;return u-h}enable(){if(this.#e)throw new Error("TextAccessibilityManager is already enabled.");if(!this.#t)throw new Error("Text divs and strings have not been set.");if(this.#e=!0,this.#t=this.#t.slice(),this.#t.sort(i.#r),this.#i.size>0){let e=this.#t;for(let[t,n]of this.#i){if(!document.getElementById(t)){this.#i.delete(t);continue}this.#n(t,e[n])}}for(let[e,t]of this.#o)this.addPointerInTextLayer(e,t);this.#o.clear()}disable(){this.#e&&(this.#o.clear(),this.#t=null,this.#e=!1)}removePointerInTextLayer(e){if(!this.#e){this.#o.delete(e);return}let t=this.#t;if(!t||t.length===0)return;let{id:n}=e,o=this.#i.get(n);if(o===void 0)return;let r=t[o];this.#i.delete(n);let s=r.getAttribute("aria-owns");s?.includes(n)&&(s=s.split(" ").filter(a=>a!==n).join(" "),s?r.setAttribute("aria-owns",s):(r.removeAttribute("aria-owns"),r.setAttribute("role","presentation")))}#n(e,t){let n=t.getAttribute("aria-owns");n?.includes(e)||t.setAttribute("aria-owns",n?`${n} ${e}`:e),t.removeAttribute("role")}addPointerInTextLayer(e,t){let{id:n}=e;if(!n)return null;if(!this.#e)return this.#o.set(e,t),null;t&&this.removePointerInTextLayer(e);let o=this.#t;if(!o||o.length===0)return null;let r=J0(o,d=>i.#r(e,d)<0),s=Math.max(0,r-1),a=o[s];this.#n(n,a),this.#i.set(n,s);let l=a.parentNode;return l?.classList.contains("markedContent")?l.id:null}moveElementInDOM(e,t,n,o){let r=this.addPointerInTextLayer(n,o);if(!e.hasChildNodes())return e.append(t),r;let s=Array.from(e.childNodes).filter(d=>d!==t);if(s.length===0)return r;let a=n||t,l=J0(s,d=>i.#r(a,d)<0);return l===0?s[0].before(t):s[l-1].after(t),r}},vk=class{#e=null;constructor({findController:e,eventBus:t,pageIndex:n}){this.findController=e,this.matches=[],this.eventBus=t,this.pageIdx=n,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(e,t){this.textDivs=e,this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this.#e||(this.#e=new AbortController,this.eventBus._on("updatetextlayermatches",e=>{(e.pageIndex===this.pageIdx||e.pageIndex===-1)&&this._updateMatches()},{signal:this.#e.signal})),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this.#e?.abort(),this.#e=null,this._updateMatches(!0))}_convertMatches(e,t){if(!e)return[];let{textContentItemsStr:n}=this,o=0,r=0,s=n.length-1,a=[];for(let l=0,d=e.length;l<d;l++){let c=e[l];for(;o!==s&&c>=r+n[o].length;)r+=n[o].length,o++;o===n.length&&console.error("Could not find a matching mapping");let u={begin:{divIdx:o,offset:c-r}};for(c+=t[l];o!==s&&c>r+n[o].length;)r+=n[o].length,o++;u.end={divIdx:o,offset:c-r},a.push(u)}return a}_renderMatches(e){if(e.length===0)return;let{findController:t,pageIdx:n}=this,{textContentItemsStr:o,textDivs:r}=this,s=n===t.selected.pageIdx,a=t.selected.matchIdx,l=t.state.highlightAll,d=null,c={divIdx:-1,offset:void 0};function u(b,x){let E=b.divIdx;return r[E].textContent="",h(E,0,b.offset,x)}function h(b,x,E,D){let L=r[b];if(L.nodeType===Node.TEXT_NODE){let N=document.createElement("span");L.before(N),N.append(L),r[b]=N,L=N}let k=o[b].substring(x,E),R=document.createTextNode(k);if(D){let N=document.createElement("span");return N.className=`${D} appended`,N.append(R),L.append(N),D.includes("selected")?N.offsetLeft:0}return L.append(R),0}let f=a,p=f+1;if(l)f=0,p=e.length;else if(!s)return;let m=-1,g=-1;for(let b=f;b<p;b++){let x=e[b],E=x.begin;if(E.divIdx===m&&E.offset===g)continue;m=E.divIdx,g=E.offset;let D=x.end,L=s&&b===a,k=L?" selected":"",R=0;if(!d||E.divIdx!==d.divIdx?(d!==null&&h(d.divIdx,d.offset,c.offset),u(E)):h(d.divIdx,d.offset,E.offset),E.divIdx===D.divIdx)R=h(E.divIdx,E.offset,D.offset,"highlight"+k);else{R=h(E.divIdx,E.offset,c.offset,"highlight begin"+k);for(let N=E.divIdx+1,z=D.divIdx;N<z;N++)r[N].className="highlight middle"+k;u(D,"highlight end"+k)}d=D,L&&t.scrollMatchIntoView({element:r[E.divIdx],selectedLeft:R,pageIndex:n,matchIndex:a})}d&&h(d.divIdx,d.offset,c.offset)}_updateMatches(e=!1){if(!this.enabled&&!e)return;let{findController:t,matches:n,pageIdx:o}=this,{textContentItemsStr:r,textDivs:s}=this,a=-1;for(let c of n){let u=Math.max(a,c.begin.divIdx);for(let h=u,f=c.end.divIdx;h<=f;h++){let p=s[h];p.textContent=r[h],p.className=""}a=c.end.divIdx+1}if(!t?.highlightMatches||e)return;let l=t.pageMatches[o]||null,d=t.pageMatchesLength[o]||null;this.matches=this._convertMatches(l,d),this._renderMatches(this.matches)}},cw=class i{#e=!1;#t=null;#i=!1;#o=null;static#r=new Map;static#n=null;constructor({pdfPage:e,highlighter:t=null,accessibilityManager:n=null,enablePermissions:o=!1,onAppend:r=null}){this.pdfPage=e,this.highlighter=t,this.accessibilityManager=n,this.#e=o===!0,this.#t=r,this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}render(e,t=null){return ze(this,null,function*(){if(this.#i&&this.#o){this.#o.update({viewport:e,onBefore:this.hide.bind(this)}),this.show();return}this.cancel(),this.#o=new gue({textContentSource:this.pdfPage.streamTextContent(t||{includeMarkedContent:!0,disableNormalization:!0}),container:this.div,viewport:e});let{textDivs:n,textContentItemsStr:o}=this.#o;this.highlighter?.setTextMapping(n,o),this.accessibilityManager?.setTextMapping(n),yield this.#o.render(),this.#i=!0;let r=document.createElement("div");r.className="endOfContent",this.div.append(r),this.#s(r),this.#t?.(this.div),this.highlighter?.enable(),this.accessibilityManager?.enable()})}hide(){!this.div.hidden&&this.#i&&(this.highlighter?.disable(),this.div.hidden=!0)}show(){this.div.hidden&&this.#i&&(this.div.hidden=!1,this.highlighter?.enable())}cancel(){this.#o?.cancel(),this.#o=null,this.highlighter?.disable(),this.accessibilityManager?.disable(),i.#l(this.div)}#s(e){let{div:t}=this;t.addEventListener("mousedown",n=>{e.classList.add("active")}),t.addEventListener("copy",n=>{if(!this.#e){let o=document.getSelection();n.clipboardData.setData("text/plain",iw(fue(o.toString())))}n.preventDefault(),n.stopPropagation()}),i.#r.set(t,e),i.#h()}static#l(e){this.#r.delete(e),this.#r.size===0&&(this.#n?.abort(),this.#n=null)}static#h(){if(this.#n)return;this.#n=new AbortController;let{signal:e}=this.#n,t=(r,s)=>{s.append(r),r.style.width="",r.style.height="",r.classList.remove("active")};document.addEventListener("pointerup",()=>{this.#r.forEach(t)},{signal:e});var n,o;document.addEventListener("selectionchange",()=>{let r=document.getSelection();if(r.rangeCount===0){this.#r.forEach(t);return}let s=new Set;for(let h=0;h<r.rangeCount;h++){let f=r.getRangeAt(h);for(let p of this.#r.keys())!s.has(p)&&f.intersectsNode(p)&&s.add(p)}for(let[h,f]of this.#r)s.has(h)?f.classList.add("active"):t(f,h);if(n??=getComputedStyle(this.#r.values().next().value).getPropertyValue("-moz-user-select")==="none",n)return;let a=r.getRangeAt(0),l=o&&(a.compareBoundaryPoints(Range.END_TO_END,o)===0||a.compareBoundaryPoints(Range.START_TO_END,o)===0),d=l?a.startContainer:a.endContainer;d.nodeType===Node.TEXT_NODE&&(d=d.parentNode);let c=d.parentElement.closest(".textLayer"),u=this.#r.get(c);u&&(u.style.width=c.style.width,u.style.height=c.style.height,d.parentElement.insertBefore(u,l?d:d.nextSibling)),o=a.cloneRange()},{signal:e})}},uw=class{constructor({pdfPage:e,annotationStorage:t=null,linkService:n,xfaHtml:o=null}){this.pdfPage=e,this.annotationStorage=t,this.linkService=n,this.xfaHtml=o,this.div=null,this._cancelled=!1}render(e,t="display"){return ze(this,null,function*(){if(t==="print"){let r={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div=document.createElement("div"),r.div=this.div,KA.render(r)}let n=yield this.pdfPage.getXfa();if(this._cancelled||!n)return{textDivs:[]};let o={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:n,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?KA.update(o):(this.div=document.createElement("div"),o.div=this.div,KA.render(o))})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}},ahe={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new eb}},lhe=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]),hw=class{#e=pc.ENABLE_FORMS;#t=!1;#i=!1;#o=!1;#r=null;#n=null;#s=null;#l=null;#h=Ro.INITIAL;#d=ed.ENABLE;#u={directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0};#c=new WeakMap;#a=[null,null,null,null];constructor(e){let t=e.container,n=e.defaultViewport;this.id=e.id,this.renderingId="page"+this.id,this.#r=e.layerProperties||ahe,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=e.scale||GH,this.viewport=n,this.pdfPageRotate=n.rotation,this._optionalContentConfigPromise=e.optionalContentConfigPromise||null,this.#d=e.textLayerMode??ed.ENABLE,this.#e=e.annotationMode??pc.ENABLE_FORMS,this.imageResourcesPath=e.imageResourcesPath||"",this.maxCanvasPixels=e.maxCanvasPixels??gk.get("maxCanvasPixels"),this.pageColors=e.pageColors||null,this.#t=e.enableHWA||!1,this.eventBus=e.eventBus,this.renderingQueue=e.renderingQueue,this.l10n=e.l10n,this.l10n||=new Im,this.renderTask=null,this.resume=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._container=t,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null;let o=document.createElement("div");if(o.className="page",o.setAttribute("data-page-number",this.id),o.setAttribute("role","region"),o.setAttribute("data-l10n-id","pdfjs-page-landmark"),o.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=o,this.#m(),t?.append(o),this._isStandalone){t?.style.setProperty("--scale-factor",this.scale*hc.PDF_TO_CSS_UNITS);let{optionalContentConfigPromise:r}=e;r&&r.then(s=>{r===this._optionalContentConfigPromise&&(this.#u.initialOptionalContent=s.hasInitialVisibility)}),e.l10n||this.l10n.translate(this.div)}}#f(e,t){let n=lhe.get(t),o=this.#a[n];if(this.#a[n]=e,o){o.replaceWith(e);return}for(let r=n-1;r>=0;r--){let s=this.#a[r];if(s){s.after(e);return}}this.div.prepend(e)}get renderingState(){return this.#h}set renderingState(e){if(e!==this.#h)switch(this.#h=e,this.#n&&(clearTimeout(this.#n),this.#n=null),e){case Ro.PAUSED:this.div.classList.remove("loading");break;case Ro.RUNNING:this.div.classList.add("loadingIcon"),this.#n=setTimeout(()=>{this.div.classList.add("loading"),this.#n=null},0);break;case Ro.INITIAL:case Ro.FINISHED:this.div.classList.remove("loadingIcon","loading");break}}#m(){let{viewport:e}=this;if(this.pdfPage){if(this.#s===e.rotation)return;this.#s=e.rotation}mue(this.div,e,!0,!1)}setPdfPage(e){this._isStandalone&&(this.pageColors?.foreground==="CanvasText"||this.pageColors?.background==="Canvas")&&(this._container?.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),this._container?.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=e,this.pdfPageRotate=e.rotate;let t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport({scale:this.scale*hc.PDF_TO_CSS_UNITS,rotation:t}),this.#m(),this.reset()}destroy(){this.reset(),this.pdfPage?.cleanup()}hasEditableAnnotations(){return!!this.annotationLayer?.hasEditableAnnotations()}get _textHighlighter(){return ow(this,"_textHighlighter",new vk({pageIndex:this.id-1,eventBus:this.eventBus,findController:this.#r.findController}))}#p(e,t){this.eventBus.dispatch(e,{source:this,pageNumber:this.id,error:t})}#g(){return ze(this,null,function*(){let e=null;try{yield this.annotationLayer.render(this.viewport,"display")}catch(t){console.error(`#renderAnnotationLayer: "${t}".`),e=t}finally{this.#p("annotationlayerrendered",e)}})}#_(){return ze(this,null,function*(){let e=null;try{yield this.annotationEditorLayer.render(this.viewport,"display")}catch(t){console.error(`#renderAnnotationEditorLayer: "${t}".`),e=t}finally{this.#p("annotationeditorlayerrendered",e)}})}#b(){return ze(this,null,function*(){try{yield this.drawLayer.render("display")}catch(e){console.error(`#renderDrawLayer: "${e}".`)}})}#y(){return ze(this,null,function*(){let e=null;try{let t=yield this.xfaLayer.render(this.viewport,"display");t?.textDivs&&this._textHighlighter&&this.#S(t.textDivs)}catch(t){console.error(`#renderXfaLayer: "${t}".`),e=t}finally{this.xfaLayer?.div&&(this.l10n.pause(),this.#f(this.xfaLayer.div,"xfaLayer"),this.l10n.resume()),this.#p("xfalayerrendered",e)}})}#C(){return ze(this,null,function*(){if(!this.textLayer)return;let e=null;try{yield this.textLayer.render(this.viewport)}catch(t){if(t instanceof sue)return;console.error(`#renderTextLayer: "${t}".`),e=t}this.#p("textlayerrendered",e),this.#w()})}#w(){return ze(this,null,function*(){if(!this.textLayer)return;this.structTreeLayer||=new dw;let e=yield this.structTreeLayer.renderingDone?null:this.pdfPage.getStructTree(),t=this.structTreeLayer?.render(e);t&&(this.l10n.pause(),this.canvas?.append(t),this.l10n.resume()),this.structTreeLayer?.show()})}#S(e){return ze(this,null,function*(){let t=yield this.pdfPage.getTextContent(),n=[];for(let o of t.items)n.push(o.str);this._textHighlighter.setTextMapping(e,n),this._textHighlighter.enable()})}_resetZoomLayer(e=!1){if(!this.zoomLayer)return;let t=this.zoomLayer.firstChild;this.#c.delete(t),t.width=0,t.height=0,e&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:e=!1,keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:n=!1,keepXfaLayer:o=!1,keepTextLayer:r=!1}={}){this.cancelRendering({keepAnnotationLayer:t,keepAnnotationEditorLayer:n,keepXfaLayer:o,keepTextLayer:r}),this.renderingState=Ro.INITIAL;let s=this.div,a=s.childNodes,l=e&&this.zoomLayer||null,d=t&&this.annotationLayer?.div||null,c=n&&this.annotationEditorLayer?.div||null,u=o&&this.xfaLayer?.div||null,h=r&&this.textLayer?.div||null;for(let f=a.length-1;f>=0;f--){let p=a[f];switch(p){case l:case d:case c:case u:case h:continue}p.remove();let m=this.#a.indexOf(p);m>=0&&(this.#a[m]=null)}s.removeAttribute("data-loaded"),d&&this.annotationLayer.hide(),c&&this.annotationEditorLayer.hide(),u&&this.xfaLayer.hide(),h&&this.textLayer.hide(),this.structTreeLayer?.hide(),l||(this.canvas&&(this.#c.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}toggleEditingMode(e){this.hasEditableAnnotations()&&(this.#o=e,this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0}))}update({scale:e=0,rotation:t=null,optionalContentConfigPromise:n=null,drawingDelay:o=-1}){this.scale=e||this.scale,typeof t=="number"&&(this.rotation=t),n instanceof Promise&&(this._optionalContentConfigPromise=n,n.then(s=>{n===this._optionalContentConfigPromise&&(this.#u.initialOptionalContent=s.hasInitialVisibility)})),this.#u.directDrawing=!0;let r=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*hc.PDF_TO_CSS_UNITS,rotation:r}),this.#m(),this._isStandalone&&this._container?.style.setProperty("--scale-factor",this.viewport.scale),this.canvas){let s=!1;if(this.#i){if(this.maxCanvasPixels===0)s=!0;else if(this.maxCanvasPixels>0){let{width:l,height:d}=this.viewport,{sx:c,sy:u}=this.outputScale;s=(Math.floor(l)*c|0)*(Math.floor(d)*u|0)>this.maxCanvasPixels}}let a=o>=0&&o<1e3;if(a||s){if(a&&!s&&this.renderingState!==Ro.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:o}),this.renderingState=Ro.FINISHED,this.#u.directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!a,hideTextLayer:a}),a)return;this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this.#l});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:e=!1,keepAnnotationEditorLayer:t=!1,keepXfaLayer:n=!1,keepTextLayer:o=!1,cancelExtraDelay:r=0}={}){this.renderTask&&(this.renderTask.cancel(r),this.renderTask=null),this.resume=null,this.textLayer&&(!o||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationLayer&&(!e||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!t||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!n||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this._textHighlighter?.disable())}cssTransform({target:e,redrawAnnotationLayer:t=!1,redrawAnnotationEditorLayer:n=!1,redrawXfaLayer:o=!1,redrawTextLayer:r=!1,hideTextLayer:s=!1}){if(!e.hasAttribute("zooming")){e.setAttribute("zooming",!0);let{style:l}=e;l.width=l.height=""}let a=this.#c.get(e);if(this.viewport!==a){let l=this.viewport.rotation-a.rotation,d=Math.abs(l),c=1,u=1;if(d===90||d===270){let{width:h,height:f}=this.viewport;c=f/h,u=h/f}e.style.transform=`rotate(${l}deg) scale(${c}, ${u})`}t&&this.annotationLayer&&this.#g(),n&&this.annotationEditorLayer&&(this.drawLayer&&this.#b(),this.#_()),o&&this.xfaLayer&&this.#y(),this.textLayer&&(s?(this.textLayer.hide(),this.structTreeLayer?.hide()):r&&this.#C())}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(e,t){return this.viewport.convertToPdfPoint(e,t)}#O(e,t=null){return ze(this,null,function*(){if(e===this.renderTask&&(this.renderTask=null),t instanceof tk){this.#l=null;return}if(this.#l=t,this.renderingState=Ro.FINISHED,this._resetZoomLayer(!0),this.#u.regularAnnotations=!e.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:this.#l}),t)throw t})}draw(){return ze(this,null,function*(){this.renderingState!==Ro.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());let{div:e,l10n:t,pageColors:n,pdfPage:o,viewport:r}=this;if(!o)throw this.renderingState=Ro.FINISHED,new Error("pdfPage is not loaded");this.renderingState=Ro.RUNNING;let s=document.createElement("div");if(s.classList.add("canvasWrapper"),this.#f(s,"canvasWrapper"),!this.textLayer&&this.#d!==ed.DISABLE&&!o.isPureXfa&&(this._accessibilityManager||=new bk,this.textLayer=new cw({pdfPage:o,highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,enablePermissions:this.#d===ed.ENABLE_PERMISSIONS,onAppend:k=>{this.l10n.pause(),this.#f(k,"textLayer"),this.l10n.resume()}})),!this.annotationLayer&&this.#e!==pc.DISABLE){let{annotationStorage:k,annotationEditorUIManager:R,downloadManager:N,enableScripting:z,fieldObjectsPromise:V,hasJSActionsPromise:S,linkService:T}=this.#r;this._annotationCanvasMap||=new Map,this.annotationLayer=new rw({pdfPage:o,annotationStorage:k,imageResourcesPath:this.imageResourcesPath,renderForms:this.#e===pc.ENABLE_FORMS,linkService:T,downloadManager:N,enableScripting:z,hasJSActionsPromise:S,fieldObjectsPromise:V,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager,annotationEditorUIManager:R,onAppend:B=>{this.#f(B,"annotationLayer")}})}let a=k=>{if(h?.(!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=Ro.PAUSED,this.resume=()=>{this.renderingState=Ro.RUNNING,k()};return}k()},{width:l,height:d}=r,c=document.createElement("canvas");c.setAttribute("role","presentation"),c.hidden=!0;let u=!!(n?.background&&n?.foreground),h=k=>{(!u||k)&&(c.hidden=!1,h=null)};s.append(c),this.canvas=c;let f=c.getContext("2d",{alpha:!1,willReadFrequently:!this.#t}),p=this.outputScale=new QA;if(this.maxCanvasPixels===0){let k=1/this.scale;p.sx*=k,p.sy*=k,this.#i=!0}else if(this.maxCanvasPixels>0){let k=l*d,R=Math.sqrt(this.maxCanvasPixels/k);p.sx>R||p.sy>R?(p.sx=R,p.sy=R,this.#i=!0):this.#i=!1}let m=_H(p.sx),g=_H(p.sy);c.width=ZC(l*p.sx,m[0]),c.height=ZC(d*p.sy,g[0]);let{style:b}=c;b.width=ZC(l,m[1])+"px",b.height=ZC(d,g[1])+"px",this.#c.set(c,r);let x=p.scaled?[p.sx,0,0,p.sy,0,0]:null,E={canvasContext:f,transform:x,viewport:r,annotationMode:this.#e,optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:n,isEditing:this.#o},D=this.renderTask=o.render(E);D.onContinue=a;let L=D.promise.then(()=>ze(this,null,function*(){h?.(!0),yield this.#O(D),this.#C(),this.annotationLayer&&(yield this.#g());let{annotationEditorUIManager:k}=this.#r;k&&(this.drawLayer||=new _k({pageIndex:this.id}),yield this.#b(),this.drawLayer.setParent(s),this.annotationEditorLayer||(this.annotationEditorLayer=new fk({uiManager:k,pdfPage:o,l10n:t,accessibilityManager:this._accessibilityManager,annotationLayer:this.annotationLayer?.annotationLayer,textLayer:this.textLayer,drawLayer:this.drawLayer.getDrawLayer(),onAppend:R=>{this.#f(R,"annotationEditorLayer")}})),this.#_())}),k=>(k instanceof tk||h?.(!0),this.#O(D,k)));if(o.isPureXfa){if(!this.xfaLayer){let{annotationStorage:k,linkService:R}=this.#r;this.xfaLayer=new uw({pdfPage:o,annotationStorage:k,linkService:R})}this.#y()}return e.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),L})}setPageLabel(e){this.pageLabel=typeof e=="string"?e:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){let{directDrawing:e,initialOptionalContent:t,regularAnnotations:n}=this.#u;return e&&t&&n?this.canvas:null}};function dhe(i){return ze(this,null,function*(){let e="",t=e.split("#",1)[0],{info:n,metadata:o,contentDispositionFilename:r,contentLength:s}=yield i.getMetadata();if(!s){let{length:a}=yield i.getDownloadInfo();s=a}return ci(Le({},n),{baseURL:t,filesize:s,filename:r||hue(e),metadata:o?.getRaw(),authors:o?.get("dc:creator"),numPages:i.numPages,URL:e})})}var yk=class{constructor(e){this._ready=new Promise((t,n)=>{import(e).then(r=>{t(r.QuickJSSandbox())}).catch(n)})}createSandbox(e){return ze(this,null,function*(){(yield this._ready).create(e)})}dispatchEventInSandbox(e){return ze(this,null,function*(){let t=yield this._ready;setTimeout(()=>t.dispatchEvent(e),0)})}destroySandbox(){return ze(this,null,function*(){(yield this._ready).nukeSandbox()})}},xk=class{#e=null;#t=null;#i=null;#o=null;#r=null;#n=null;#s=null;#l=null;#h=!1;#d=null;#u=null;constructor({eventBus:e,externalServices:t=null,docProperties:n=null}){this.#r=e,this.#n=t,this.#i=n}setViewer(e){this.#l=e}setDocument(e){return ze(this,null,function*(){if(this.#s&&(yield this.#p()),this.#s=e,!e)return;let[t,n,o]=yield Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!t&&!o){yield this.#p();return}if(e!==this.#s)return;try{this.#d=this.#m()}catch(a){console.error(`setDocument: "${a.message}".`),yield this.#p();return}let r=this.#r;this.#o=new AbortController;let{signal:s}=this.#o;r._on("updatefromsandbox",a=>{a?.source===window&&this.#c(a.detail)},{signal:s}),r._on("dispatcheventinsandbox",a=>{this.#d?.dispatchEventInSandbox(a.detail)},{signal:s}),r._on("pagechanging",({pageNumber:a,previous:l})=>{a!==l&&(this.#f(l),this.#a(a))},{signal:s}),r._on("pagerendered",({pageNumber:a})=>{this._pageOpenPending.has(a)&&a===this.#l.currentPageNumber&&this.#a(a)},{signal:s}),r._on("pagesdestroy",()=>ze(this,null,function*(){yield this.#f(this.#l.currentPageNumber),yield this.#d?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),this.#e?.resolve()}),{signal:s});try{let a=yield this.#i(e);if(e!==this.#s)return;yield this.#d.createSandbox({objects:t,calculationOrder:n,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:ci(Le({},a),{actions:o})}),r.dispatch("sandboxcreated",{source:this})}catch(a){console.error(`setDocument: "${a.message}".`),yield this.#p();return}yield this.#d?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield this.#a(this.#l.currentPageNumber,!0),Promise.resolve().then(()=>{e===this.#s&&(this.#h=!0)})})}dispatchWillSave(){return ze(this,null,function*(){return this.#d?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})}dispatchDidSave(){return ze(this,null,function*(){return this.#d?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})}dispatchWillPrint(){return ze(this,null,function*(){if(this.#d){yield this.#u?.promise,this.#u=Promise.withResolvers();try{yield this.#d.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(e){throw this.#u.resolve(),this.#u=null,e}yield this.#u.promise}})}dispatchDidPrint(){return ze(this,null,function*(){return this.#d?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})}get destroyPromise(){return this.#t?.promise||null}get ready(){return this.#h}get _pageOpenPending(){return ow(this,"_pageOpenPending",new Set)}get _visitedPages(){return ow(this,"_visitedPages",new Map)}#c(e){return ze(this,null,function*(){let t=this.#l,n=t.isInPresentationMode||t.isChangingPresentationMode,{id:o,siblings:r,command:s,value:a}=e;if(!o){switch(s){case"clear":console.clear();break;case"error":console.error(a);break;case"layout":if(!n){let d=Nce(a);t.spreadMode=d.spreadMode}break;case"page-num":t.currentPageNumber=a+1;break;case"print":yield t.pagesPromise,this.#r.dispatch("print",{source:this});break;case"println":console.log(a);break;case"zoom":n||(t.currentScaleValue=a);break;case"SaveAs":this.#r.dispatch("download",{source:this});break;case"FirstPage":t.currentPageNumber=1;break;case"LastPage":t.currentPageNumber=t.pagesCount;break;case"NextPage":t.nextPage();break;case"PrevPage":t.previousPage();break;case"ZoomViewIn":n||t.increaseScale();break;case"ZoomViewOut":n||t.decreaseScale();break;case"WillPrintFinished":this.#u?.resolve(),this.#u=null;break}return}if(n&&e.focus)return;delete e.id,delete e.siblings;let l=r?[o,...r]:[o];for(let d of l){let c=document.querySelector(`[data-element-id="${d}"]`);c?c.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):this.#s?.annotationStorage.setValue(d,e)}})}#a(e,t=!1){return ze(this,null,function*(){let n=this.#s,o=this._visitedPages;if(t&&(this.#e=Promise.withResolvers()),!this.#e)return;let r=this.#l.getPageView(e-1);if(r?.renderingState!==Ro.FINISHED){this._pageOpenPending.add(e);return}this._pageOpenPending.delete(e);let s=ze(this,null,function*(){let a=yield o.has(e)?null:r.pdfPage?.getJSActions();n===this.#s&&(yield this.#d?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:a}))});o.set(e,s)})}#f(e){return ze(this,null,function*(){let t=this.#s,n=this._visitedPages;if(!this.#e||this._pageOpenPending.has(e))return;let o=n.get(e);o&&(n.set(e,null),yield o,t===this.#s&&(yield this.#d?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))})}#m(){if(this.#t=Promise.withResolvers(),this.#d)throw new Error("#initScripting: Scripting already exists.");return this.#n.createScripting()}#p(){return ze(this,null,function*(){if(!this.#d){this.#s=null,this.#t?.resolve();return}this.#e&&(yield Promise.race([this.#e.promise,new Promise(e=>{setTimeout(e,1e3)})]).catch(()=>{}),this.#e=null),this.#s=null;try{yield this.#d.destroySandbox()}catch{}this.#u?.reject(new Error("Scripting destroyed.")),this.#u=null,this.#o?.abort(),this.#o=null,this._pageOpenPending.clear(),this._visitedPages.clear(),this.#d=null,this.#h=!1,this.#t?.resolve()})}},Ck=class extends xk{constructor(e){e.externalServices||window.addEventListener("updatefromsandbox",t=>{e.eventBus.dispatch("updatefromsandbox",{source:window,detail:t.detail})}),e.externalServices||={createScripting:()=>new yk(e.sandboxBundleSrc)},e.docProperties||=t=>dhe(t),super(e)}},che=3e4,wk=class{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(e)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),che)))}getHighestPriority(e,t,n,o=!1){let r=e.views,s=r.length;if(s===0)return null;for(let u=0;u<s;u++){let h=r[u].view;if(!this.isViewFinished(h))return h}let a=e.first.id,l=e.last.id;if(l-a+1>s){let u=e.ids;for(let h=1,f=l-a;h<f;h++){let p=n?a+h:l-h;if(u.has(p))continue;let m=t[p-1];if(!this.isViewFinished(m))return m}}let d=n?l:a-2,c=t[d];return c&&!this.isViewFinished(c)||o&&(d+=n?1:-1,c=t[d],c&&!this.isViewFinished(c))?c:null}isViewFinished(e){return e.renderingState===Ro.FINISHED}renderView(e){switch(e.renderingState){case Ro.FINISHED:return!1;case Ro.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case Ro.RUNNING:this.highestPriorityPage=e.renderingId;break;case Ro.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(t=>{t instanceof tk||console.error(`renderView: "${t}"`)});break}return!0}},WH=10,tw={FORCE_SCROLL_MODE_PAGE:1e4,FORCE_LAZY_PAGE_INIT:5e3,PAUSE_EAGER_PAGE_INIT:250};function UH(i){return Object.values(cl).includes(i)&&i!==cl.DISABLE}var Sk=class{#e=new Set;#t=0;constructor(e){this.#t=e}push(e){let t=this.#e;t.has(e)&&t.delete(e),t.add(e),t.size>this.#t&&this.#i()}resize(e,t=null){this.#t=e;let n=this.#e;if(t){let o=n.size,r=1;for(let s of n)if(t.has(s.id)&&(n.delete(s),n.add(s)),++r>o)break}for(;n.size>this.#t;)this.#i()}has(e){return this.#e.has(e)}[Symbol.iterator](){return this.#e.keys()}#i(){let e=this.#e.keys().next().value;e?.destroy(),this.#e.delete(e)}},pw=class{#e=null;#t=null;#i=null;#o=cl.NONE;#r=null;#n=pc.ENABLE_FORMS;#s=null;#l=!1;#h=!1;#d=!1;#u=!1;#c=null;#a=null;#f=null;#m=null;#p=!1;#g=null;#_=!1;#b=0;#y=new ResizeObserver(this.#j.bind(this));#C=null;#w=null;#S=ed.ENABLE;constructor(e){let t="4.5.136";if(OH!==t)throw new Error(`The API version "${OH}" does not match the Viewer version "${t}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,this.container?.tagName!=="DIV"||this.viewer?.tagName!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");this.#y.observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new eb,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,this.#t=e.altTextManager||null,this.findController&&(this.findController.onIsPageVisible=o=>this._getVisiblePages().ids.has(o)),this._scriptingManager=e.scriptingManager||null,this.#S=e.textLayerMode??ed.ENABLE,this.#n=e.annotationMode??pc.ENABLE_FORMS,this.#o=e.annotationEditorMode??cl.NONE,this.#i=e.annotationEditorHighlightColors||null,this.#h=e.enableHighlightFloatingButton===!0,this.#u=e.enableUpdatedAddImage===!0,this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.removePageBorders=e.removePageBorders||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.l10n=e.l10n,this.l10n||=new Im,this.#d=e.enablePermissions||!1,this.pageColors=e.pageColors||null,this.#a=e.mlManager||null,this.#l=e.enableHWA||!1,this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new wk,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue;let{abortSignal:n}=e;n?.addEventListener("abort",()=>{this.#y.disconnect(),this.#y=null},{once:!0}),this.scroll=Ace(this.container,this._scrollUpdate.bind(this),n),this.presentationModeState=Sm.UNKNOWN,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.#B(),this.eventBus._on("thumbnailrendered",({pageNumber:o,pdfPage:r})=>{let s=this._pages[o-1];this.#e.has(s)||r?.cleanup()}),e.l10n||this.l10n.translate(this.container)}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}getCachedPageViews(){return new Set(this.#e)}get pageViewsReady(){return this._pages.every(e=>e?.pdfPage)}get renderForms(){return this.#n===pc.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){if(this._currentPageNumber===e)return t&&this.#R(),!0;if(!(0<e&&e<=this.pagesCount))return!1;let n=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:this._pageLabels?.[e-1]??null,previous:n}),t&&this.#R(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=e|0;if(this._pageLabels){let n=this._pageLabels.indexOf(e);n>=0&&(t=n+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return this._currentScale!==$A?this._currentScale:GH}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&this.#I(e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&this.#I(e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!qH(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(e%=360,e<0&&(e+=360),this._pagesRotation===e))return;this._pagesRotation=e;let t=this._currentPageNumber;this.refresh(!0,{rotation:e}),this._currentScaleValue&&this.#I(this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){let e=this;return ow(this,"_layerProperties",{get annotationEditorUIManager(){return e.#r},get annotationStorage(){return e.pdfDocument?.annotationStorage},get downloadManager(){return e.downloadManager},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){return e.pdfDocument?.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){return e.pdfDocument?.hasJSActions()},get linkService(){return e.linkService}})}#O(e){let t={annotationEditorMode:this.#o,annotationMode:this.#n,textLayerMode:this.#S};return e&&(!e.includes(JC.COPY)&&this.#S===ed.ENABLE&&(t.textLayerMode=ed.ENABLE_PERMISSIONS),e.includes(JC.MODIFY_CONTENTS)||(t.annotationEditorMode=cl.DISABLE),!e.includes(JC.MODIFY_ANNOTATIONS)&&!e.includes(JC.FILL_INTERACTIVE_FORMS)&&this.#n===pc.ENABLE_FORMS&&(t.annotationMode=pc.ENABLE)),t}#A(e){return ze(this,null,function*(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return;let t=Promise.withResolvers();function n(){document.visibilityState==="hidden"&&t.resolve()}document.addEventListener("visibilitychange",n,{signal:e}),yield Promise.race([this._onePageRenderedCapability.promise,t.promise]),document.removeEventListener("visibilitychange",n)})}getAllText(){return ze(this,null,function*(){let e=[],t=[];for(let n=1,o=this.pdfDocument.numPages;n<=o;++n){if(this.#_)return null;t.length=0;let r=yield this.pdfDocument.getPage(n),{items:s}=yield r.getTextContent();for(let a of s)a.str&&t.push(a.str),a.hasEOL&&t.push(`
`);e.push(iw(t.join("")))}return e.join(`
`)})}#E(e,t){let n=document.getSelection(),{focusNode:o,anchorNode:r}=n;if(r&&o&&n.containsNode(this.#g)){if(this.#p||e===ed.ENABLE_PERMISSIONS){t.preventDefault(),t.stopPropagation();return}this.#p=!0;let{classList:s}=this.viewer;s.add("copyAll");let a=new AbortController;window.addEventListener("keydown",l=>this.#_=l.key==="Escape",{signal:a.signal}),this.getAllText().then(l=>ze(this,null,function*(){l!==null&&(yield navigator.clipboard.writeText(l))})).catch(l=>{console.warn(`Something goes wrong when extracting the text: ${l.message}`)}).finally(()=>{this.#p=!1,this.#_=!1,a.abort(),s.remove("copyAll")}),t.preventDefault(),t.stopPropagation()}}setDocument(e){if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController?.setDocument(null),this._scriptingManager?.setDocument(null),this.#r&&(this.#r.destroy(),this.#r=null)),this.pdfDocument=e,!e)return;let t=e.numPages,n=e.getPage(1),o=e.getOptionalContentConfig({intent:"display"}),r=this.#d?e.getPermissions():Promise.resolve(),{eventBus:s,pageColors:a,viewer:l}=this;this.#c=new AbortController;let{signal:d}=this.#c;if(t>tw.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");let h=this._scrollMode=xn.PAGE;s.dispatch("scrollmodechanged",{source:this,mode:h})}this._pagesCapability.promise.then(()=>{s.dispatch("pagesloaded",{source:this,pagesCount:t})},()=>{});let c=h=>{let f=this._pages[h.pageNumber-1];f&&this.#e.push(f)};s._on("pagerender",c,{signal:d});let u=h=>{h.cssTransform||(this._onePageRenderedCapability.resolve({timestamp:h.timestamp}),s._off("pagerendered",u))};s._on("pagerendered",u,{signal:d}),Promise.all([n,r]).then(([h,f])=>{if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(h),this._optionalContentConfigPromise=o;let{annotationEditorMode:p,annotationMode:m,textLayerMode:g}=this.#O(f);if(g!==ed.DISABLE){let D=this.#g=document.createElement("div");D.id="hiddenCopyElement",l.before(D)}if(p!==cl.DISABLE){let D=p;e.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):UH(D)?(this.#r=new lue(this.container,l,this.#t,s,e,a,this.#i,this.#h,this.#u,this.#a),s.dispatch("annotationeditoruimanager",{source:this,uiManager:this.#r}),D!==cl.NONE&&this.#r.updateMode(D)):console.error(`Invalid AnnotationEditor mode: ${D}`)}let b=this._scrollMode===xn.PAGE?null:l,x=this.currentScale,E=h.getViewport({scale:x*hc.PDF_TO_CSS_UNITS});l.style.setProperty("--scale-factor",E.scale),(a?.foreground==="CanvasText"||a?.background==="Canvas")&&(l.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),l.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let D=1;D<=t;++D){let L=new hw({container:b,eventBus:s,id:D,scale:x,defaultViewport:E.clone(),optionalContentConfigPromise:o,renderingQueue:this.renderingQueue,textLayerMode:g,annotationMode:m,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,pageColors:a,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:this.#l});this._pages.push(L)}this._pages[0]?.setPdfPage(h),this._scrollMode===xn.PAGE?this.#x():this._spreadMode!==zr.NONE&&this._updateSpreadMode(),this.#A(d).then(()=>ze(this,null,function*(){if(e!==this.pdfDocument)return;if(this.findController?.setDocument(e),this._scriptingManager?.setDocument(e),this.#g&&document.addEventListener("copy",this.#E.bind(this,g),{signal:d}),this.#r&&s.dispatch("annotationeditormodechanged",{source:this,mode:this.#o}),e.loadingParams.disableAutoFetch||t>tw.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let D=t-1;if(D<=0){this._pagesCapability.resolve();return}for(let L=2;L<=t;++L){let k=e.getPage(L).then(R=>{let N=this._pages[L-1];N.pdfPage||N.setPdfPage(R),--D===0&&this._pagesCapability.resolve()},R=>{console.error(`Unable to get page ${L} to initialize viewer`,R),--D===0&&this._pagesCapability.resolve()});L%tw.PAUSE_EAGER_PAGE_INIT===0&&(yield k)}})),s.dispatch("pagesinit",{source:this}),e.getMetadata().then(({info:D})=>{e===this.pdfDocument&&D.Language&&(l.lang=D.Language)}),this.defaultRenderingQueue&&this.update()}).catch(h=>{console.error("Unable to initialize viewer",h),this._pagesCapability.reject(h)})}setPageLabels(e){if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let t=0,n=this._pages.length;t<n;t++)this._pages[t].setPageLabel(this._pageLabels?.[t]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=$A,this._currentScaleValue=null,this._pageLabels=null,this.#e=new Sk(WH),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=xn.VERTICAL,this._previousScrollMode=xn.UNKNOWN,this._spreadMode=zr.NONE,this.#C={previousPageNumber:1,scrollDown:!0,pages:[]},this.#c?.abort(),this.#c=null,this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.#g?.remove(),this.#g=null,this.#N()}#x(){if(this._scrollMode!==xn.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");let e=this._currentPageNumber,t=this.#C,n=this.viewer;if(n.textContent="",t.pages.length=0,this._spreadMode===zr.NONE&&!this.isInPresentationMode){let o=this._pages[e-1];n.append(o.div),t.pages.push(o)}else{let o=new Set,r=this._spreadMode-1;r===-1?o.add(e-1):e%2!==r?(o.add(e-1),o.add(e)):(o.add(e-2),o.add(e-1));let s=document.createElement("div");if(s.className="spread",this.isInPresentationMode){let a=document.createElement("div");a.className="dummyPage",s.append(a)}for(let a of o){let l=this._pages[a];l&&(s.append(l.div),t.pages.push(l))}n.append(s)}t.scrollDown=e>=t.previousPageNumber,t.previousPageNumber=e}_scrollUpdate(){this.pagesCount!==0&&this.update()}#v(e,t=null){let{div:n,id:o}=e;if(this._currentPageNumber!==o&&this._setCurrentPageNumber(o),this._scrollMode===xn.PAGE&&(this.#x(),this.update()),!t&&!this.isInPresentationMode){let r=n.offsetLeft+n.clientLeft,s=r+n.clientWidth,{scrollLeft:a,clientWidth:l}=this.container;(this._scrollMode===xn.HORIZONTAL||r<a||s>a+l)&&(t={left:0,top:0})}KH(n,t),!this._currentScaleValue&&this._location&&(this._location=null)}#T(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15}#D(e,t,{noScroll:n=!1,preset:o=!1,drawingDelay:r=-1,origin:s=null}){if(this._currentScaleValue=t.toString(),this.#T(e)){o&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});return}this.viewer.style.setProperty("--scale-factor",e*hc.PDF_TO_CSS_UNITS);let a=r>=0&&r<1e3;this.refresh(!0,{scale:e,drawingDelay:a?r:-1}),a&&(this.#w=setTimeout(()=>{this.#w=null,this.refresh()},r));let l=this._currentScale;if(this._currentScale=e,!n){let d=this._currentPageNumber,c;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(d=this._location.pageNumber,c=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:d,destArray:c,allowNegativeOffset:!0}),Array.isArray(s)){let u=e/l-1,[h,f]=this.containerTopLeft;this.container.scrollLeft+=(s[0]-f)*u,this.container.scrollTop+=(s[1]-h)*u}}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:o?t:void 0}),this.defaultRenderingQueue&&this.update()}get#M(){return this._spreadMode!==zr.NONE&&this._scrollMode!==xn.HORIZONTAL?2:1}#I(e,t){let n=parseFloat(e);if(n>0)t.preset=!1,this.#D(n,e,t);else{let o=this._pages[this._currentPageNumber-1];if(!o)return;let r=fH,s=mH;this.isInPresentationMode?(r=s=4,this._spreadMode!==zr.NONE&&(r*=2)):this.removePageBorders?r=s=0:this._scrollMode===xn.HORIZONTAL&&([r,s]=[s,r]);let a=(this.container.clientWidth-r)/o.width*o.scale/this.#M,l=(this.container.clientHeight-s)/o.height*o.scale;switch(e){case"page-actual":n=1;break;case"page-width":n=a;break;case"page-height":n=l;break;case"page-fit":n=Math.min(a,l);break;case"auto":let d=bH(o)?a:Math.min(l,a);n=Math.min(Tce,d);break;default:console.error(`#setScale: "${e}" is an unknown zoom value.`);return}t.preset=!0,this.#D(n,e,t)}}#R(){let e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this.#I(this._currentScaleValue,{noScroll:!0}),this.#v(e)}pageLabelToPageNumber(e){if(!this._pageLabels)return null;let t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:n=!1,ignoreDestinationZoom:o=!1}){if(!this.pdfDocument)return;let r=Number.isInteger(e)&&this._pages[e-1];if(!r){console.error(`scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!t){this._setCurrentPageNumber(e,!0);return}let s=0,a=0,l=0,d=0,c,u,h=r.rotation%180!==0,f=(h?r.height:r.width)/r.scale/hc.PDF_TO_CSS_UNITS,p=(h?r.width:r.height)/r.scale/hc.PDF_TO_CSS_UNITS,m=0;switch(t[1].name){case"XYZ":s=t[2],a=t[3],m=t[4],s=s!==null?s:0,a=a!==null?a:p;break;case"Fit":case"FitB":m="page-fit";break;case"FitH":case"FitBH":a=t[2],m="page-width",a===null&&this._location?(s=this._location.left,a=this._location.top):(typeof a!="number"||a<0)&&(a=p);break;case"FitV":case"FitBV":s=t[2],l=f,d=p,m="page-height";break;case"FitR":s=t[2],a=t[3],l=t[4]-s,d=t[5]-a;let E=fH,D=mH;this.removePageBorders&&(E=D=0),c=(this.container.clientWidth-E)/l/hc.PDF_TO_CSS_UNITS,u=(this.container.clientHeight-D)/d/hc.PDF_TO_CSS_UNITS,m=Math.min(Math.abs(c),Math.abs(u));break;default:console.error(`scrollPageIntoView: "${t[1].name}" is not a valid destination type.`);return}if(o||(m&&m!==this._currentScale?this.currentScaleValue=m:this._currentScale===$A&&(this.currentScaleValue=Oce)),m==="page-fit"&&!t[4]){this.#v(r);return}let g=[r.viewport.convertToViewportPoint(s,a),r.viewport.convertToViewportPoint(s+l,a+d)],b=Math.min(g[0][0],g[1][0]),x=Math.min(g[0][1],g[1][1]);n||(b=Math.max(b,0),x=Math.max(x,0)),this.#v(r,{left:b,top:x})}_updateLocation(e){let t=this._currentScale,n=this._currentScaleValue,o=parseFloat(n)===t?Math.round(t*1e4)/100:n,r=e.id,s=this._pages[r-1],a=this.container,l=s.getPagePoint(a.scrollLeft-e.x,a.scrollTop-e.y),d=Math.round(l[0]),c=Math.round(l[1]),u=`#page=${r}`;this.isInPresentationMode||(u+=`&zoom=${o},${d},${c}`),this._location={pageNumber:r,scale:o,top:c,left:d,rotation:this._pagesRotation,pdfOpenParams:u}}update(){let e=this._getVisiblePages(),t=e.views,n=t.length;if(n===0)return;let o=Math.max(WH,2*n+1);this.#e.resize(o,e.ids),this.renderingQueue.renderHighestPriority(e);let r=this._spreadMode===zr.NONE&&(this._scrollMode===xn.PAGE||this._scrollMode===xn.VERTICAL),s=this._currentPageNumber,a=!1;for(let l of t){if(l.percent<100)break;if(l.id===s&&r){a=!0;break}}this._setCurrentPageNumber(a?s:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}#F(){let e=this._getVisiblePages(),t=[],{ids:n,views:o}=e;for(let r of o){let{view:s}=r;if(!s.hasEditableAnnotations()){n.delete(s.id);continue}t.push(r)}return t.length===0?null:(this.renderingQueue.renderHighestPriority({first:t[0],last:t.at(-1),views:t,ids:n}),n)}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===Sm.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===Sm.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){let e=this._scrollMode===xn.PAGE?this.#C.pages:this._pages,t=this._scrollMode===xn.HORIZONTAL,n=t&&this._isContainerRtl;return Mce({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:n})}cleanup(){for(let e of this._pages)e.renderingState!==Ro.FINISHED&&e.reset()}_cancelRendering(){for(let e of this._pages)e.cancelRendering()}#L(e){return ze(this,null,function*(){if(e.pdfPage)return e.pdfPage;try{let t=yield this.pdfDocument.getPage(e.id);return e.pdfPage||e.setPdfPage(t),t}catch(t){return console.error("Unable to get page for page view",t),null}})}#P(e){if(e.first?.id===1)return!0;if(e.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case xn.PAGE:return this.#C.scrollDown;case xn.HORIZONTAL:return this.scroll.right}return this.scroll.down}forceRendering(e){let t=e||this._getVisiblePages(),n=this.#P(t),o=this._spreadMode!==zr.NONE&&this._scrollMode!==xn.HORIZONTAL,r=this.renderingQueue.getHighestPriority(t,this._pages,n,o);return r?(this.#L(r).then(()=>{this.renderingQueue.renderView(r)}),!0):!1}get hasEqualPageSizes(){let e=this._pages[0];for(let t=1,n=this._pages.length;t<n;++t){let o=this._pages[t];if(o.width!==e.width||o.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map(t=>{let n=t.pdfPage.getViewport({scale:1}),o=bH(n);if(e===void 0)e=o;else if(this.enablePrintAutoRotate&&o!==e)return{width:n.height,height:n.width,rotation:(n.rotation-90)%360};return{width:n.width,height:n.height,rotation:n.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=e,this.refresh(!1,{optionalContentConfigPromise:e}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!Rce(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>tw.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(e=null){let t=this._scrollMode,n=this.viewer;n.classList.toggle("scrollHorizontal",t===xn.HORIZONTAL),n.classList.toggle("scrollWrapped",t===xn.WRAPPED),!(!this.pdfDocument||!e)&&(t===xn.PAGE?this.#x():this._previousScrollMode===xn.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#I(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!Fce(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;let t=this.viewer,n=this._pages;if(this._scrollMode===xn.PAGE)this.#x();else if(t.textContent="",this._spreadMode===zr.NONE)for(let o of this._pages)t.append(o.div);else{let o=this._spreadMode-1,r=null;for(let s=0,a=n.length;s<a;++s)r===null?(r=document.createElement("div"),r.className="spread",t.append(r)):s%2===o&&(r=r.cloneNode(!1),t.append(r)),r.append(n[s].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#I(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e,t=!1){switch(this._scrollMode){case xn.WRAPPED:{let{views:n}=this._getVisiblePages(),o=new Map;for(let{id:r,y:s,percent:a,widthPercent:l}of n){if(a===0||l<100)continue;let d=o.get(s);d||o.set(s,d||=[]),d.push(r)}for(let r of o.values()){let s=r.indexOf(e);if(s===-1)continue;let a=r.length;if(a===1)break;if(t)for(let l=s-1,d=0;l>=d;l--){let c=r[l],u=r[l+1]-1;if(c<u)return e-u}else for(let l=s+1,d=a;l<d;l++){let c=r[l],u=r[l-1]+1;if(c>u)return u-e}if(t){let l=r[0];if(l<e)return e-l+1}else{let l=r[a-1];if(l>e)return l-e+1}break}break}case xn.HORIZONTAL:break;case xn.PAGE:case xn.VERTICAL:{if(this._spreadMode===zr.NONE)break;let n=this._spreadMode-1;if(t&&e%2!==n)break;if(!t&&e%2===n)break;let{views:o}=this._getVisiblePages(),r=t?e-1:e+1;for(let{id:s,percent:a,widthPercent:l}of o)if(s===r){if(a>0&&l===100)return 2;break}break}}return 1}nextPage(){let e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;let n=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+n,t),!0}previousPage(){let e=this._currentPageNumber;if(e<=1)return!1;let t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}updateScale({drawingDelay:e,scaleFactor:t=null,steps:n=null,origin:o}){if(n===null&&t===null)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let r=this._currentScale;if(t>0&&t!==1)r=Math.round(r*t*100)/100;else if(n){let s=n>0?pH:1/pH,a=n>0?Math.ceil:Math.floor;n=Math.abs(n);do r=a((r*s).toFixed(2)*10)/10;while(--n>0)}r=Math.max(Ice,Math.min(Dce,r)),this.#I(r,{noScroll:!1,drawingDelay:e,origin:o})}increaseScale(e={}){this.updateScale(ci(Le({},e),{steps:e.steps??1}))}decreaseScale(e={}){this.updateScale(ci(Le({},e),{steps:-(e.steps??1)}))}#B(e=this.container.clientHeight){e!==this.#b&&(this.#b=e,Pce.setProperty("--viewer-container-height",`${e}px`))}#j(e){for(let t of e)if(t.target===this.container){this.#B(Math.floor(t.borderBoxSize[0].blockSize)),this.#s=null;break}}get containerTopLeft(){return this.#s||=[this.container.offsetTop,this.container.offsetLeft]}#N(){this.#f&&(this.eventBus._off("pagerendered",this.#f),this.#f=null),this.#m!==null&&(clearTimeout(this.#m),this.#m=null)}get annotationEditorMode(){return this.#r?this.#o:cl.DISABLE}set annotationEditorMode({mode:e,editId:t=null,isFromKeyboard:n=!1}){if(!this.#r)throw new Error("The AnnotationEditor is not enabled.");if(this.#o===e)return;if(!UH(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);if(!this.pdfDocument)return;let{eventBus:o}=this,r=()=>{this.#N(),this.#o=e,this.#r.updateMode(e,t,n),o.dispatch("annotationeditormodechanged",{source:this,mode:e})};if(e===cl.NONE||this.#o===cl.NONE){let s=e!==cl.NONE;s||this.pdfDocument.annotationStorage.resetModifiedIds();for(let l of this._pages)l.toggleEditingMode(s);let a=this.#F();if(s&&a){this.#N(),this.#f=({pageNumber:d})=>{a.delete(d),a.size===0&&(this.#m=setTimeout(r,0))};let{signal:l}=this.#c;o._on("pagerendered",this.#f,{signal:l});return}}r()}set annotationEditorParams({type:e,value:t}){if(!this.#r)throw new Error("The AnnotationEditor is not enabled.");this.#r.updateParams(e,t)}refresh(e=!1,t=Object.create(null)){if(this.pdfDocument){for(let n of this._pages)n.update(t);this.#w!==null&&(clearTimeout(this.#w),this.#w=null),e||this.update()}}},Ek=class extends pw{_resetView(){super._resetView(),this._scrollMode=xn.PAGE,this._spreadMode=zr.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}};var uhe=Eo.AnnotationLayerBuilder,hhe=Eo.DownloadManager,phe=Eo.EventBus,fhe=Eo.FindState,Ok=Eo.GenericL10n,Rp=Eo.LinkTarget,Ik=Eo.PDFFindController,mhe=Eo.PDFHistory,Dk=Eo.PDFLinkService,ghe=Eo.PDFPageView,_he=Eo.PDFScriptingManager,Tk=Eo.PDFSinglePageViewer,Ak=Eo.PDFViewer,bhe=Eo.ProgressBar,vhe=Eo.RenderingStates,yhe=Eo.ScrollMode,xhe=Eo.SimpleLinkService,Che=Eo.SpreadMode,whe=Eo.StructTreeLayerBuilder,She=Eo.TextLayerBuilder,Ehe=Eo.XfaLayerBuilder,Ohe=Eo.parseQueryString;var Ihe=["pdfViewerContainer"];function Dhe(i,e){let t=new i.EventBus;return The(t,e),t}function The(i,e){$n(i,"documentload").pipe(Xi(e)).subscribe(()=>{let t=document.createEvent("CustomEvent");t.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(t)}),$n(i,"pagerendered").pipe(Xi(e)).subscribe(({pageNumber:t,cssTransform:n,source:o})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("pagerendered",!0,!0,{pageNumber:t,cssTransform:n}),o.div.dispatchEvent(r)}),$n(i,"textlayerrendered").pipe(Xi(e)).subscribe(({pageNumber:t,source:n})=>{let o=document.createEvent("CustomEvent");o.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:t}),n.textLayerDiv?.dispatchEvent(o)}),$n(i,"pagechanging").pipe(Xi(e)).subscribe(({pageNumber:t,source:n})=>{let o=document.createEvent("UIEvents");o.initEvent("pagechanging",!0,!0),o.pageNumber=t,n.container.dispatchEvent(o)}),$n(i,"pagesinit").pipe(Xi(e)).subscribe(({source:t})=>{let n=document.createEvent("CustomEvent");n.initCustomEvent("pagesinit",!0,!0,null),t.container.dispatchEvent(n)}),$n(i,"pagesloaded").pipe(Xi(e)).subscribe(({pagesCount:t,source:n})=>{let o=document.createEvent("CustomEvent");o.initCustomEvent("pagesloaded",!0,!0,{pagesCount:t}),n.container.dispatchEvent(o)}),$n(i,"scalechange").pipe(Xi(e)).subscribe(({scale:t,presetValue:n,source:o})=>{let r=document.createEvent("UIEvents");r.initEvent("scalechange",!0,!0),r.scale=t,r.presetValue=n,o.container.dispatchEvent(r)}),$n(i,"updateviewarea").pipe(Xi(e)).subscribe(({location:t,source:n})=>{let o=document.createEvent("UIEvents");o.initEvent("updateviewarea",!0,!0),o.location=t,n.container.dispatchEvent(o)}),$n(i,"find").pipe(Xi(e)).subscribe(({source:t,type:n,query:o,phraseSearch:r,caseSensitive:s,highlightAll:a,findPrevious:l})=>{if(t===window)return;let d=document.createEvent("CustomEvent");d.initCustomEvent("find"+n,!0,!0,{query:o,phraseSearch:r,caseSensitive:s,highlightAll:a,findPrevious:l}),window.dispatchEvent(d)}),$n(i,"attachmentsloaded").pipe(Xi(e)).subscribe(({attachmentsCount:t,source:n})=>{let o=document.createEvent("CustomEvent");o.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:t}),n.container.dispatchEvent(o)}),$n(i,"sidebarviewchanged").pipe(Xi(e)).subscribe(({view:t,source:n})=>{let o=document.createEvent("CustomEvent");o.initCustomEvent("sidebarviewchanged",!0,!0,{view:t}),n.outerContainer.dispatchEvent(o)}),$n(i,"pagemode").pipe(Xi(e)).subscribe(({mode:t,source:n})=>{let o=document.createEvent("CustomEvent");o.initCustomEvent("pagemode",!0,!0,{mode:t}),n.pdfViewer.container.dispatchEvent(o)}),$n(i,"namedaction").pipe(Xi(e)).subscribe(({action:t,source:n})=>{let o=document.createEvent("CustomEvent");o.initCustomEvent("namedaction",!0,!0,{action:t}),n.pdfViewer.container.dispatchEvent(o)}),$n(i,"presentationmodechanged").pipe(Xi(e)).subscribe(({active:t,switchInProgress:n})=>{let o=document.createEvent("CustomEvent");o.initCustomEvent("presentationmodechanged",!0,!0,{active:t,switchInProgress:n}),window.dispatchEvent(o)}),$n(i,"outlineloaded").pipe(Xi(e)).subscribe(({outlineCount:t,source:n})=>{let o=document.createEvent("CustomEvent");o.initCustomEvent("outlineloaded",!0,!0,{outlineCount:t}),n.container.dispatchEvent(o)})}function Mk(i,e,t){i[e]=t}function ib(){return typeof window>"u"}ib()||Mk(wm,"verbosity",zA.INFOS);typeof Promise.withResolvers>"u"&&window&&(window.Promise.withResolvers=()=>{let i,e;return{promise:new Promise((n,o)=>{i=n,e=o}),resolve:i,reject:e}});var Rk=function(i){return i[i.DISABLED=0]="DISABLED",i[i.ENABLED=1]="ENABLED",i[i.ENHANCED=2]="ENHANCED",i}(Rk||{}),QH=(()=>{class i{element;ngZone;static CSS_UNITS=96/72;static BORDER_WIDTH=9;pdfViewerContainer;eventBus;pdfLinkService;pdfFindController;pdfViewer;isVisible=!1;_cMapsUrl=typeof wm<"u"?`https://unpkg.com/pdfjs-dist@${Y0}/cmaps/`:null;_imageResourcesPath=typeof wm<"u"?`https://unpkg.com/pdfjs-dist@${Y0}/web/images/`:void 0;_renderText=!0;_renderTextMode=Rk.ENABLED;_stickToPage=!1;_originalSize=!0;_pdf;_page=1;_zoom=1;_zoomScale="page-width";_rotation=0;_showAll=!0;_canAutoResize=!0;_fitToPage=!1;_externalLinkTarget="blank";_showBorders=!1;lastLoaded;_latestScrolledPage;pageScrollTimeout=null;isInitialized=!1;loadingTask;destroy$=new Tt;afterLoadComplete=new St;pageRendered=new St;pageInitialized=new St;textLayerRendered=new St;onError=new St;onProgress=new St;pageChange=new St(!0);src;set cMapsUrl(t){this._cMapsUrl=t}set page(t){t=parseInt(t,10)||1;let n=t;this._pdf&&(t=this.getValidPageNumber(t)),this._page=t,n!==t&&this.pageChange.emit(t)}set renderText(t){this._renderText=t}set renderTextMode(t){this._renderTextMode=t}set originalSize(t){this._originalSize=t}set showAll(t){this._showAll=t}set stickToPage(t){this._stickToPage=t}set zoom(t){t<=0||(this._zoom=t)}get zoom(){return this._zoom}set zoomScale(t){this._zoomScale=t}get zoomScale(){return this._zoomScale}set rotation(t){if(!(typeof t=="number"&&t%90===0)){console.warn("Invalid pages rotation angle.");return}this._rotation=t}set externalLinkTarget(t){this._externalLinkTarget=t}set autoresize(t){this._canAutoResize=!!t}set fitToPage(t){this._fitToPage=!!t}set showBorders(t){this._showBorders=!!t}static getLinkTarget(t){switch(t){case"blank":return Rp.BLANK;case"none":return Rp.NONE;case"self":return Rp.SELF;case"parent":return Rp.PARENT;case"top":return Rp.TOP}return null}constructor(t,n){if(this.element=t,this.ngZone=n,ib())return;let o,r=Y0,s=window[`pdfWorkerSrc${r}`];s?o=s:window.hasOwnProperty("pdfWorkerSrc")&&typeof window.pdfWorkerSrc=="string"&&window.pdfWorkerSrc?o=window.pdfWorkerSrc:o=`https://cdn.jsdelivr.net/npm/pdfjs-dist@${r}/legacy/build/pdf.worker.min.mjs`,Mk(HA,"workerSrc",o)}ngAfterViewChecked(){if(this.isInitialized)return;let t=this.pdfViewerContainer.nativeElement.offsetParent;if(this.isVisible===!0&&t==null){this.isVisible=!1;return}this.isVisible===!1&&t!=null&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})}))}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(t){if(!(ib()||!this.isVisible)){if("src"in t)this.loadPDF();else if(this._pdf){if(("renderText"in t||"showAll"in t)&&(this.setupViewer(),this.resetPdfDocument()),"page"in t){let{page:n}=t;if(n.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}}updateSize(){Qo(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(Xi(this.destroy$)).subscribe({next:t=>{let n=this._rotation+t.rotate,o=t.getViewport({scale:this._zoom,rotation:n}).width*i.CSS_UNITS,r=this._zoom,s=!0;if(!this._originalSize||this._fitToPage&&o>this.pdfViewerContainer.nativeElement.clientWidth){let a=t.getViewport({scale:1,rotation:n});r=this.getScale(a.width,a.height),s=!this._stickToPage}this.pdfViewer.pagesPromise?.then(()=>{this.pdfViewer.currentScale=r,s&&this.pdfViewer.scrollPageIntoView({pageNumber:t.pageNumber,ignoreDestinationZoom:!0})})}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=void 0),this.pdfViewer&&this.pdfViewer.setDocument(null),this.pdfLinkService&&this.pdfLinkService.setDocument(null,null),this.pdfFindController&&this.pdfFindController.setDocument(null)}getPDFLinkServiceConfig(){let t=i.getLinkTarget(this._externalLinkTarget);return t?{externalLinkTarget:t}:{}}initEventBus(){this.eventBus=Dhe(kk,this.destroy$),$n(this.eventBus,"pagerendered").pipe(Xi(this.destroy$)).subscribe(t=>{this.pageRendered.emit(t)}),$n(this.eventBus,"pagesinit").pipe(Xi(this.destroy$)).subscribe(t=>{this.pageInitialized.emit(t)}),$n(this.eventBus,"pagechanging").pipe(Xi(this.destroy$)).subscribe(({pageNumber:t})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=t,this.pageChange.emit(t)},100)}),$n(this.eventBus,"textlayerrendered").pipe(Xi(this.destroy$)).subscribe(t=>{this.textLayerRendered.emit(t)})}initPDFServices(){this.pdfLinkService=new Dk(Le({eventBus:this.eventBus},this.getPDFLinkServiceConfig())),this.pdfFindController=new Ik({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:Rk.DISABLED,findController:this.pdfFindController,l10n:new Ok("en"),imageResourcesPath:this._imageResourcesPath,annotationEditorMode:VA.DISABLE}}setupViewer(){this.pdfViewer&&this.pdfViewer.setDocument(null),Mk(wm,"disableTextLayer",!this._renderText),this.initPDFServices(),this._showAll?this.pdfViewer=new Ak(this.getPDFOptions()):this.pdfViewer=new Tk(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(t){return t<1?1:t>this._pdf.numPages?this._pdf.numPages:t}getDocumentParams(){let t=typeof this.src;if(!this._cMapsUrl)return this.src;let n={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return n.isEvalSupported=!1,t==="string"?n.url=this.src:t==="object"&&(this.src.byteLength!==void 0?n.data=this.src:Object.assign(n,this.src)),n}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src){this.update();return}this.clear(),this.setupViewer(),this.loadingTask=jA(this.getDocumentParams()),this.loadingTask.onProgress=n=>{this.onProgress.emit(n)};let t=this.src;Qo(this.loadingTask.promise).pipe(Xi(this.destroy$)).subscribe({next:n=>{this._pdf=n,this.lastLoaded=t,this.afterLoadComplete.emit(n),this.resetPdfDocument(),this.update()},error:n=>{this.lastLoaded=null,this.onError.emit(n)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(this._rotation!==0||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(t,n){let o=this._showBorders?2*i.BORDER_WIDTH:0,r=this.pdfViewerContainer.nativeElement.clientWidth-o,s=this.pdfViewerContainer.nativeElement.clientHeight-o;if(s===0||n===0||r===0||t===0)return 1;let a=1;switch(this._zoomScale){case"page-fit":a=Math.min(s/n,r/t);break;case"page-height":a=s/n;break;case"page-width":default:a=r/t;break}return this._zoom*a/i.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){ib()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){ib()||this.ngZone.runOutsideAngular(()=>{$n(window,"resize").pipe(Mf(100),Bn(()=>this._canAutoResize&&!!this._pdf),Xi(this.destroy$)).subscribe(()=>{this.updateSize()})})}static \u0275fac=function(n){return new(n||i)(oe(At),oe(_t))};static \u0275cmp=$e({type:i,selectors:[["pdf-viewer"]],viewQuery:function(n,o){if(n&1&&_n(Ihe,5),n&2){let r;Lt(r=Nt())&&(o.pdfViewerContainer=r.first)}},inputs:{src:"src",cMapsUrl:[0,"c-maps-url","cMapsUrl"],page:"page",renderText:[0,"render-text","renderText"],renderTextMode:[0,"render-text-mode","renderTextMode"],originalSize:[0,"original-size","originalSize"],showAll:[0,"show-all","showAll"],stickToPage:[0,"stick-to-page","stickToPage"],zoom:"zoom",zoomScale:[0,"zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:[0,"external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:[0,"fit-to-page","fitToPage"],showBorders:[0,"show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[on],decls:3,vars:0,consts:[["pdfViewerContainer",""],[1,"ng2-pdf-viewer-container"],[1,"pdfViewer"]],template:function(n,o){n&1&&(se(0,"div",1,0),je(2,"div",2),ne())},styles:[`.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--viewer-container-height: 0;--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>");--xfa-unfocused-field-background: var( --annotation-unfocused-field-background );--page-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=) 9 9 repeat;--scale-factor: 1;--focus-outline: solid 2px blue;--hover-outline: dashed 2px blue;--freetext-line-height: 1.35;--freetext-padding: 2px;--editorInk-editing-cursor: pointer}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 8px auto -1px;--page-border: 1px solid CanvasText;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: 3.5px}}@media (forced-colors: active){[_nghost-%COMP%]    {--focus-outline: solid 3px ButtonText;--hover-outline: dashed 3px ButtonText}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;inset:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;inset:100% 0 0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}@media (forced-colors: active){[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .annotationLayer{position:absolute;top:0;left:0;pointer-events:none;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial;pointer-events:auto;box-sizing:border-box;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:rgb(255,255,0);box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font:calc(9px * var(--scale-factor)) sans-serif;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid red}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid rgb(0,0,0)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:CanvasText;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;appearance:none}[_nghost-%COMP%]     .annotationLayer .popupTriggerArea{height:100%;width:100%}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;font-size:calc(9px * var(--scale-factor));width:100%;min-width:calc(180px * var(--scale-factor));pointer-events:none}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;max-width:calc(180px * var(--scale-factor));background-color:#ff9;box-shadow:0 calc(2px * var(--scale-factor)) calc(5px * var(--scale-factor)) #888;border-radius:calc(2px * var(--scale-factor));padding:calc(6px * var(--scale-factor));margin-left:calc(5px * var(--scale-factor));cursor:pointer;font:message-box;white-space:normal;word-wrap:break-word;pointer-events:auto}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:calc(5px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid rgb(51,51,51);margin-top:calc(2px * var(--scale-factor));padding-top:calc(2px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap;font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .annotationLayer section svg{position:absolute;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .annotationTextContent{position:absolute;width:100%;height:100%;opacity:0;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]     .annotationLayer .annotationTextContent span{width:100%;display:inline-block}@media (forced-colors: active){[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid red}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;appearance:none;text-indent:1px;text-overflow:""}}[_nghost-%COMP%]     [data-editor-rotation="90"]{transform:rotate(90deg)}[_nghost-%COMP%]     [data-editor-rotation="180"]{transform:rotate(180deg)}[_nghost-%COMP%]     [data-editor-rotation="270"]{transform:rotate(270deg)}[_nghost-%COMP%]     .annotationEditorLayer{background:transparent;position:absolute;top:0;left:0;font-size:calc(100px * var(--scale-factor));transform-origin:0 0}[_nghost-%COMP%]     .annotationEditorLayer .selectedEditor{outline:var(--focus-outline);resize:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor{position:absolute;background:transparent;border-radius:3px;padding:calc(var(--freetext-padding) * var(--scale-factor));resize:none;width:auto;height:auto;z-index:1;transform-origin:0 0;touch-action:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal{background:transparent;border:none;top:0;left:0;overflow:visible;white-space:nowrap;resize:none;font:10px sans-serif;line-height:var(--freetext-line-height)}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay{position:absolute;display:none;background:transparent;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay.enabled{display:block}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:empty:before{content:attr(default-content);color:gray}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:focus{outline:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled{resize:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled.selectedEditor{resize:horizontal}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor:hover:not(.selectedEditor), [_nghost-%COMP%]     .annotationEditorLayer .inkEditor:hover:not(.selectedEditor){outline:var(--hover-outline)}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor{position:absolute;background:transparent;border-radius:3px;overflow:auto;width:100%;height:100%;z-index:1;transform-origin:0 0;cursor:auto}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.editing{resize:none;cursor:var(--editorInk-editing-cursor),pointer}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor .inkEditorCanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none}[_nghost-%COMP%]     [data-main-rotation="90"]{transform:rotate(90deg) translateY(-100%)}[_nghost-%COMP%]     [data-main-rotation="180"]{transform:rotate(180deg) translate(-100%,-100%)}[_nghost-%COMP%]     [data-main-rotation="270"]{transform:rotate(270deg) translate(-100%)}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);border-image:var(--page-border-image);background-clip:content-box;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;inset:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}`]})}return i})(),JH=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var khe=["*"],mw;function Mhe(){if(mw===void 0&&(mw=null,typeof window<"u")){let i=window;i.trustedTypes!==void 0&&(mw=i.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return mw}function nb(i){return Mhe()?.createHTML(i)||i}function e8(i){return Error(`Unable to find icon with the name "${i}"`)}function Rhe(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function t8(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function i8(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}var fc=class{constructor(e,t,n){this.url=e,this.svgText=t,this.options=n}},Fhe=(()=>{let e=class e{constructor(n,o,r,s){this._httpClient=n,this._sanitizer=o,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(n,o,r){return this.addSvgIconInNamespace("",n,o,r)}addSvgIconLiteral(n,o,r){return this.addSvgIconLiteralInNamespace("",n,o,r)}addSvgIconInNamespace(n,o,r,s){return this._addSvgIconConfig(n,o,new fc(r,null,s))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,o,r,s){let a=this._sanitizer.sanitize(Ws.HTML,r);if(!a)throw i8(r);let l=nb(a);return this._addSvgIconConfig(n,o,new fc("",l,s))}addSvgIconSet(n,o){return this.addSvgIconSetInNamespace("",n,o)}addSvgIconSetLiteral(n,o){return this.addSvgIconSetLiteralInNamespace("",n,o)}addSvgIconSetInNamespace(n,o,r){return this._addSvgIconSetConfig(n,new fc(o,null,r))}addSvgIconSetLiteralInNamespace(n,o,r){let s=this._sanitizer.sanitize(Ws.HTML,o);if(!s)throw i8(o);let a=nb(s);return this._addSvgIconSetConfig(n,new fc("",a,r))}registerFontClassAlias(n,o=n){return this._fontCssClassesByAlias.set(n,o),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(...n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){let o=this._sanitizer.sanitize(Ws.RESOURCE_URL,n);if(!o)throw t8(n);let r=this._cachedIconsByUrl.get(o);return r?Bt(gw(r)):this._loadSvgIconFromConfig(new fc(n,null)).pipe(eo(s=>this._cachedIconsByUrl.set(o,s)),Oi(s=>gw(s)))}getNamedSvgIcon(n,o=""){let r=n8(o,n),s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(o,n),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);let a=this._iconSetConfigs.get(o);return a?this._getSvgFromIconSetConfigs(n,a):Cs(e8(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?Bt(gw(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe(Oi(o=>gw(o)))}_getSvgFromIconSetConfigs(n,o){let r=this._extractIconWithNameFromAnySet(n,o);if(r)return Bt(r);let s=o.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(jo(l=>{let c=`Loading icon set URL: ${this._sanitizer.sanitize(Ws.RESOURCE_URL,a.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(c)),Bt(null)})));return Fy(s).pipe(Oi(()=>{let a=this._extractIconWithNameFromAnySet(n,o);if(!a)throw e8(n);return a}))}_extractIconWithNameFromAnySet(n,o){for(let r=o.length-1;r>=0;r--){let s=o[r];if(s.svgText&&s.svgText.toString().indexOf(n)>-1){let a=this._svgElementFromConfig(s),l=this._extractSvgIconFromSet(a,n,s.options);if(l)return l}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe(eo(o=>n.svgText=o),Oi(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?Bt(null):this._fetchIcon(n).pipe(eo(o=>n.svgText=o))}_extractSvgIconFromSet(n,o,r){let s=n.querySelector(`[id="${o}"]`);if(!s)return null;let a=s.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,r);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),r);let l=this._svgElementFromString(nb("<svg></svg>"));return l.appendChild(a),this._setSvgAttributes(l,r)}_svgElementFromString(n){let o=this._document.createElement("DIV");o.innerHTML=n;let r=o.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(n){let o=this._svgElementFromString(nb("<svg></svg>")),r=n.attributes;for(let s=0;s<r.length;s++){let{name:a,value:l}=r[s];a!=="id"&&o.setAttribute(a,l)}for(let s=0;s<n.childNodes.length;s++)n.childNodes[s].nodeType===this._document.ELEMENT_NODE&&o.appendChild(n.childNodes[s].cloneNode(!0));return o}_setSvgAttributes(n,o){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),o&&o.viewBox&&n.setAttribute("viewBox",o.viewBox),n}_fetchIcon(n){let{url:o,options:r}=n,s=r?.withCredentials??!1;if(!this._httpClient)throw Rhe();if(o==null)throw Error(`Cannot fetch icon from URL "${o}".`);let a=this._sanitizer.sanitize(Ws.RESOURCE_URL,o);if(!a)throw t8(o);let l=this._inProgressUrlFetches.get(a);if(l)return l;let d=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(Oi(c=>nb(c)),Kd(()=>this._inProgressUrlFetches.delete(a)),i3());return this._inProgressUrlFetches.set(a,d),d}_addSvgIconConfig(n,o,r){return this._svgIconConfigs.set(n8(n,o),r),this}_addSvgIconSetConfig(n,o){let r=this._iconSetConfigs.get(n);return r?r.push(o):this._iconSetConfigs.set(n,[o]),this}_svgElementFromConfig(n){if(!n.svgElement){let o=this._svgElementFromString(n.svgText);this._setSvgAttributes(o,n.options),n.svgElement=o}return n.svgElement}_getIconConfigFromResolvers(n,o){for(let r=0;r<this._resolvers.length;r++){let s=this._resolvers[r](o,n);if(s)return Phe(s)?new fc(s.url,null,s.options):new fc(s,null)}}};e.\u0275fac=function(o){return new(o||e)(ke(cp,8),ke(N_),ke(jt,8),ke(sp))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function gw(i){return i.cloneNode(!0)}function n8(i,e){return i+":"+e}function Phe(i){return!!(i.url&&i.options)}var Lhe=new ct("MAT_ICON_DEFAULT_OPTIONS"),Nhe=new ct("mat-icon-location",{providedIn:"root",factory:Bhe});function Bhe(){let i=Ge(jt),e=i?i.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var o8=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Vhe=o8.map(i=>`[${i}]`).join(", "),Hhe=/^url\(['"]?#(.*?)['"]?\)$/,Dm=(()=>{let e=class e{get color(){return this._color||this._defaultColor}set color(n){this._color=n}get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}get fontSet(){return this._fontSet}set fontSet(n){let o=this._cleanupFontValue(n);o!==this._fontSet&&(this._fontSet=o,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(n){let o=this._cleanupFontValue(n);o!==this._fontIcon&&(this._fontIcon=o,this._updateFontIconClasses())}constructor(n,o,r,s,a,l){this._elementRef=n,this._iconRegistry=o,this._location=s,this._errorHandler=a,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Xn.EMPTY,l&&(l.color&&(this.color=this._defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),r||n.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(n){if(!n)return["",""];let o=n.split(":");switch(o.length){case 1:return["",o[0]];case 2:return o;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let n=this._elementsWithExternalReferences;if(n&&n.size){let o=this._location.getPathname();o!==this._previousPath&&(this._previousPath=o,this._prependPathToReferences(o))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();let o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(o),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){let n=this._elementRef.nativeElement,o=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();o--;){let r=n.childNodes[o];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let n=this._elementRef.nativeElement,o=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>n.classList.remove(r)),o.forEach(r=>n.classList.add(r)),this._previousFontSetClass=o,this.fontIcon!==this._previousFontIconClass&&!o.includes("mat-ligature-font")&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return typeof n=="string"?n.trim().split(" ")[0]:n}_prependPathToReferences(n){let o=this._elementsWithExternalReferences;o&&o.forEach((r,s)=>{r.forEach(a=>{s.setAttribute(a.name,`url('${n}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(n){let o=n.querySelectorAll(Vhe),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<o.length;s++)o8.forEach(a=>{let l=o[s],d=l.getAttribute(a),c=d?d.match(Hhe):null;if(c){let u=r.get(l);u||(u=[],r.set(l,u)),u.push({name:a,value:c[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){let[o,r]=this._splitIconName(n);o&&(this._svgNamespace=o),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,o).pipe(Jo(1)).subscribe(s=>this._setSvgElement(s),s=>{let a=`Error retrieving icon ${o}:${r}! ${s.message}`;this._errorHandler.handleError(new Error(a))})}}};e.\u0275fac=function(o){return new(o||e)(oe(At),oe(Fhe),qa("aria-hidden"),oe(Nhe),oe(sp),oe(Lhe,8))},e.\u0275cmp=$e({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(o,r){o&2&&(ki("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Gs(r.color?"mat-"+r.color:""),Mi("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Ui],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[to,Wi],ngContentSelectors:khe,decls:1,vars:0,template:function(o,r){o&1&&(Un(),Hi(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let i=e;return i})(),r8=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({imports:[sn,sn]});let i=e;return i})();var Uu=(()=>{let e=class e{constructor(n,o){this.dialogRef=n,this.data=o}ngOnInit(){this.pdfSrc=this.data.pdfSrc}downloadPDF(){let n=document.createElement("a");n.href=this.pdfSrc||"",n.download="document.pdf",n.click()}};e.\u0275fac=function(o){return new(o||e)(oe(wp),oe(dT))},e.\u0275cmp=$e({type:e,selectors:[["app-pdf-dialog"]],decls:13,vars:3,consts:[["mat-dialog-title","",1,"dialog-title"],[1,"form-title"],["mat-icon-button","","aria-label","close dialog","mat-dialog-close",""],[1,"close-button"],["mat-dialog-content",""],[2,"display","block","width","100%","height","100%",3,"src","render-text","original-size"],["mat-dialog-actions",""],["mat-flat-button","",3,"click"]],template:function(o,r){o&1&&(se(0,"div",0)(1,"h4",1),me(2,"Bak\u0131m Formu Bilgisi"),ne(),se(3,"button",2)(4,"mat-icon",3),me(5,"close"),ne()()(),se(6,"div",4),je(7,"pdf-viewer",5),ne(),se(8,"div",6)(9,"button",7),Et("click",function(){return r.downloadPDF()}),me(10,"\u0130ndir"),ne(),se(11,"button",7),Et("click",function(){return r.dialogRef.close()}),me(12,"Kapat"),ne()()),o&2&&(_e(7),Ee("src",r.pdfSrc)("render-text",!0)("original-size",!1))},dependencies:[Dr,A0,QH,P6,N6,V6,B6,Dm],styles:[".dialog-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.form-title[_ngcontent-%COMP%]{font-size:32px;padding-top:6px;font-weight:500;color:var(--mat-protected-button-state-layer-color)}.close-button[_ngcontent-%COMP%]{color:var(--mat-form-field-error-text-color)}"]});let i=e;return i})();var s8={production:!1,apiUrl:"https://savas-backend.onrender.com/"};var a8=is(mp());var nr=(()=>{let e=class e{constructor(n){this.http=n,this.apiUrl=s8.apiUrl}handleError(n){let o="Bilinmeyen bir hata olu\u015Ftu";return n.error instanceof ErrorEvent?(console.error("Client-side hata:",n.error.message),o=`Client-side hata: ${n.error.message}`):(console.error(`Server-side hata: ${n.status}, hata mesaj\u0131: ${n.message}`),n.error&&n.error.message?o=n.error.message:n.status===404?o="\u0130stenen veri bulunamad\u0131 (404)":n.status===500?o="Sunucu hatas\u0131 olu\u015Ftu (500)":o=`Sunucu hatas\u0131: ${n.message}`),a8.default.fire({icon:"error",title:"Hata",text:o,confirmButtonText:"Tamam"}),Cs(()=>new Error(o))}submitForm(n,o){return this.http.post(`${this.apiUrl}/api/submit-form`,n,o).pipe(jo(this.handleError.bind(this)))}generateFormId(){return this.http.post(`${this.apiUrl}/api/generate-id`,{}).pipe(jo(this.handleError.bind(this)))}getDataSource(n,o,r){let s=new jl;return o&&(s=s.set("month",o.toString())),r&&(s=s.set("year",r.toString())),this.http.get(`${this.apiUrl}${n}`,{params:s}).pipe(jo(this.handleError.bind(this)))}addDataBlob(n,o){return this.http.post(`${this.apiUrl}${n}`,o,{responseType:"blob"}).pipe(jo(this.handleError.bind(this)))}addDataJson(n,o){return this.http.post(`${this.apiUrl}${n}`,o,{responseType:"json"}).pipe(jo(this.handleError.bind(this)))}removeData(n,o){return this.http.delete(`${this.apiUrl}${n}/${o}`).pipe(jo(this.handleError.bind(this)))}updateData(n,o,r){return this.http.put(`${this.apiUrl}${n}/${o}`,r).pipe(jo(this.handleError.bind(this)))}};e.\u0275fac=function(o){return new(o||e)(ke(cp))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var zhe=(()=>{let e=class e extends tx{constructor(n,o,r){super(n,o,r)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(o){return new(o||e)(ke(jt),ke(T_),ke(ex))},e.\u0275prov=rt({token:e,factory:e.\u0275fac});let i=e;return i})();function jhe(){return new G3}function $he(i,e,t){return new q3(i,e,t)}var d8=[{provide:ex,useFactory:jhe},{provide:tx,useClass:zhe},{provide:Bf,useFactory:$he,deps:[Hf,tx,_t]}],l8=[{provide:T_,useFactory:()=>new K3},{provide:$o,useValue:"BrowserAnimations"},...d8],Whe=[{provide:T_,useClass:U3},{provide:$o,useValue:"NoopAnimations"},...d8],c8=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:n.disableAnimations?Whe:l8}}};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({providers:l8,imports:[cx]});let i=e;return i})();function Uhe(i,e){if(i&1&&je(0,"span",8),i&2){let t=xt().$implicit;Cu("--animation-duration",t.time)}}function Ghe(i,e){if(i&1){let t=gn();se(0,"div",9),Et("click",function(){Xt(t);let o=xt().$implicit,r=xt().$implicit,s=xt();return Zt(s.removeToast(r,o))}),ne()}if(i&2){let t=xt().$implicit,n=xt(2);Ee("innerHTML",n.closeButtonSvg,tI)("ngClass",t.closeButtonPosition)}}function Khe(i,e){if(i&1){let t=gn();se(0,"span",3),Et("mouseenter",function(){let o=Xt(t).$implicit,r=xt().$implicit,s=xt();return Zt(s.onMouseEnter(r,o))})("mouseleave",function(){let o=Xt(t).$implicit,r=xt().$implicit,s=xt();return Zt(s.onMouseLeave(r,o))}),je(1,"div",4),se(2,"span",5),me(3),ne(),ii(4,Uhe,1,2,"span",6)(5,Ghe,1,2,"div",7),ne()}if(i&2){let t=e.$implicit;Ee("@fadeIn",void 0)("@fadeOut",void 0)("ngClass",t.type),_e(),Ee("ngClass",t.type+"-icon")("innerHTML",t.icon,tI),_e(2),Za(t.content),_e(),Ee("ngIf",t.allowTimeBar),_e(),Ee("ngIf",t.closeButton)}}function qhe(i,e){if(i&1&&(se(0,"span",1),ii(1,Khe,6,8,"span",2),ne()),i&2){let t=e.$implicit,n=xt();Ee("@fadeIn",void 0)("@fadeOut",void 0)("ngClass",t),_e(),Ee("ngForOf",n.toasts[t])}}var Yhe=Lr(":enter",[co({opacity:0}),Or("0.5s ease",co({opacity:1}))]),Xhe=la("fadeIn",[Yhe]),Zhe=Lr(":leave",[co({opacity:1}),Or("0.5s ease-out",co({opacity:0}))]),Qhe=la("fadeOut",[Zhe]),hl=(()=>{let e=class e{constructor(n,o,r){this.resolver=n,this.applicationRef=o,this.injector=r,this.onHiddenSubject=new Tt}toastCreator(){let n=this.resolver.resolveComponentFactory(epe);this.componentRef=n.create(this.injector),this.applicationRef.attachView(this.componentRef.hostView),this.domElement=this.componentRef.hostView.rootNodes[0],document.body.appendChild(this.domElement),new ns(r=>{this.componentRef?.instance.onHidden().subscribe(s=>{r.next(s)})}).subscribe(r=>{this.onHiddenSubject.next(r)})}create(n){this.componentRef||this.toastCreator(),this.componentRef?.instance.generateToast(n)}onHidden(){return this.onHiddenSubject.asObservable()}delete(){this.componentRef&&(document.body.removeChild(this.domElement),this.applicationRef.detachView(this.componentRef.hostView),this.componentRef?.destroy(),this.componentRef=null)}};e.\u0275fac=function(o){return new(o||e)(ke(Nf),ke(Yd),ke(En))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Jhe=(()=>{let e=class e{constructor(n){this.http=n}getIconSVG(n){return this.http.get(`assets/icons/${n}.svg`,{responseType:"text"})}};e.\u0275fac=function(o){return new(o||e)(ke(cp))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),epe=(()=>{let e=class e{constructor(n,o,r,s){this.ngZone=n,this.service=o,this.iconService=r,this.sanitizer=s,this.toasts={"top-center":[],"top-right":[],"right-center":[],"bottom-right":[],"bottom-center":[],"bottom-left":[],"left-center":[],"top-left":[]},this.toastTimeouts={"top-center":[],"top-right":[],"right-center":[],"bottom-right":[],"bottom-center":[],"bottom-left":[],"left-center":[],"top-left":[]},this.onHiddenSubject=new St,this.counter=0,this.iconService.getIconSVG("close").subscribe(a=>{this.closeButtonSvg=this.getTrustedSvgContent(a)})}getToastPositions(){let n=[];for(let o in this.toasts)this.toasts[o].length>0&&n.push(o);return n}generateToast(n){return ze(this,null,function*(){let o=this.fillParameters(n);this.counter+=1,this.setToastTypeIcon(o),this.toasts[o.position].push(o),n.time&&this.ngZone.runOutsideAngular(()=>{this.toastTimeouts[o.position][o.index]=setTimeout(()=>{this.ngZone.run(()=>{this.removeToast(o.position,o)})},n.time?n.time*1e3:0)})})}removeToast(n,o){return ze(this,null,function*(){let r=this.toasts[n].indexOf(o);this.toasts[n].splice(r,1),this.hide(o),this.isClear()&&setTimeout(()=>{this.isClear()&&this.service.delete()},500)})}isClear(){let n=!0;for(let o in this.toasts)this.toasts[o].length>0&&(n=!1);return n}onHidden(){return this.onHiddenSubject.asObservable()}hide(n){this.onHiddenSubject.next(n)}fillParameters(n){return{content:n.content!=null?n.content:"",time:n.time!=null?n.time+"s":"0s",type:n.type!=null?n.type:"success",closeButton:n.showCloseButton!=null?n.showCloseButton:!0,closeButtonPosition:n.closeButtonPosition!=null?n.closeButtonPosition:"right",allowTimeBar:n.allowTimeBar!=null?n.allowTimeBar:!0,closeWithHover:n.closeWithHover!=null?n.closeWithHover:!0,index:this.counter,position:n.position!=null?n.position:"top-right"}}onMouseEnter(n,o){o.closeWithHover==!0&&(o.allowTimeBar=!1,this.toastTimeouts[n][o.index]&&clearTimeout(this.toastTimeouts[n][o.index]))}onMouseLeave(n,o){o.closeWithHover==!0&&this.removeToast(n,o)}setToastTypeIcon(n){this.iconService.getIconSVG(n.type).subscribe(o=>{n.icon=this.getTrustedSvgContent(o)})}getTrustedSvgContent(n){return this.sanitizer.bypassSecurityTrustHtml(n)}};e.\u0275fac=function(o){return new(o||e)(oe(_t),oe(hl),oe(Jhe),oe(N_))},e.\u0275cmp=$e({type:e,selectors:[["dc-toast-ng"]],decls:1,vars:1,consts:[["class","toast-container",3,"ngClass",4,"ngFor","ngForOf"],[1,"toast-container",3,"ngClass"],["class","toast",3,"ngClass","mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"toast",3,"mouseenter","mouseleave","ngClass"],[1,"toast-icon",3,"ngClass","innerHTML"],[1,"toast-content"],["class","progress-bar",3,"--animation-duration",4,"ngIf"],["class","close-button",3,"innerHTML","ngClass","click",4,"ngIf"],[1,"progress-bar"],[1,"close-button",3,"click","innerHTML","ngClass"]],template:function(o,r){o&1&&ii(0,qhe,2,4,"span",0),o&2&&Ee("ngForOf",r.getToastPositions())},dependencies:[I_,Jy,wu],styles:['@import"../../../assets/fonts/IBM_Plex_Sans/IBM-Plex-Sans.css";*[_ngcontent-%COMP%]{font-family:IBMPlexSans,sans-serif;--dc-success: #4caf50;--dc-success-hover: #388e3c;--dc-error: #E53935;--dc-error-hover: #c62828;--dc-warn: #ff9800;--dc-warn-hover: #f57c00;--dc-info: #00bcd4;--dc-info-hover: #00838f;--dc-dark: #333333;--dc-light: #f5f5f5}.toast-container[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;margin:1em;z-index:99}.toast[_ngcontent-%COMP%]{padding-left:3.5rem;padding-right:1rem;margin:.5rem;border-radius:.6rem;width:16rem;min-height:4rem;display:flex;justify-content:center;align-items:center;text-align:center;animation:_ngcontent-%COMP%_slideInFromTop .5s ease forwards;animation-fill-mode:forwards;color:var(--dc-light);border:1px solid transparent}.toast[_ngcontent-%COMP%]:hover{cursor:pointer}.toast-content[_ngcontent-%COMP%]{max-width:16rem;overflow:hidden;margin-right:.5rem}.top-center[_ngcontent-%COMP%]{position:fixed;top:0;left:50%;transform:translate(-50%)}.top-right[_ngcontent-%COMP%]{position:fixed;top:0;right:0}.right-center[_ngcontent-%COMP%]{position:fixed;right:0;top:50%;transform:translateY(-50%)}.bottom-right[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0}.bottom-center[_ngcontent-%COMP%]{position:fixed;bottom:0;left:50%;transform:translate(-50%)}.bottom-left[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0}.left-center[_ngcontent-%COMP%]{position:fixed;left:0;top:50%;transform:translateY(-50%)}.top-left[_ngcontent-%COMP%]{position:fixed;top:0;left:0}.success[_ngcontent-%COMP%]{background-color:var(--dc-success);box-shadow:0 0 20px var(--dc-success)}.error[_ngcontent-%COMP%]{background-color:var(--dc-error);box-shadow:0 0 20px var(--dc-error)}.warn[_ngcontent-%COMP%]{background-color:var(--dc-warn);box-shadow:0 0 20px var(--dc-warn)}.info[_ngcontent-%COMP%]{background-color:var(--dc-info);box-shadow:0 0 20px var(--dc-info)}.success[_ngcontent-%COMP%]:hover{border:1px solid var(--dc-success-hover);box-shadow:0 0 20px var(--dc-success-hover)}.error[_ngcontent-%COMP%]:hover{border:1px solid var(--dc-error-hover);box-shadow:0 0 20px var(--dc-error-hover)}.warn[_ngcontent-%COMP%]:hover{border:1px solid var(--dc-warn-hover);box-shadow:0 0 20px var(--dc-warn-hover)}.info[_ngcontent-%COMP%]:hover{border:1px solid var(--dc-info-hover);box-shadow:0 0 20px var(--dc-info-hover)}.close-button[_ngcontent-%COMP%]{width:.7rem;height:.7rem;position:absolute;fill:var(--dc-light);border:none;background-color:transparent;display:flex;justify-content:center;align-items:center;text-align:center}.close-button[_ngcontent-%COMP%]:hover{fill:var(--dc-dark)}.close-button.right[_ngcontent-%COMP%]{right:0;margin-right:.5rem}.close-button.left[_ngcontent-%COMP%]{left:0;margin-left:.5rem}@keyframes _ngcontent-%COMP%_slideInFromTop{0%{opacity:0;transform:translateY(-8%)}to{opacity:1;transform:translateY(0)}}.progress-bar[_ngcontent-%COMP%]:before{position:absolute;border-bottom-left-radius:.6rem;content:"";height:3px;width:100%;bottom:0;left:3px;animation:_ngcontent-%COMP%_progress var(--animation-duration, 5s) linear forwards}@keyframes _ngcontent-%COMP%_progress{to{width:0%}}.success[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]:before{background-color:var(--dc-success-hover)}.warn[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]:before{background-color:var(--dc-warn-hover)}.error[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]:before{background-color:var(--dc-error-hover)}.info[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]:before{background-color:var(--dc-info-hover)}.toast-icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;position:absolute;left:0;margin-left:1.5rem;fill:#fff}'],data:{animation:[Xhe,Qhe]}});let i=e;return i})(),u8=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({imports:[Es,ax,c8]});let i=e;return i})();var h8=fa({passive:!0}),p8=(()=>{let e=class e{constructor(n,o){this._platform=n,this._ngZone=o,this._monitoredElements=new Map}monitor(n){if(!this._platform.isBrowser)return Vl;let o=pa(n),r=this._monitoredElements.get(o);if(r)return r.subject;let s=new Tt,a="cdk-text-field-autofilled",l=d=>{d.animationName==="cdk-text-field-autofill-start"&&!o.classList.contains(a)?(o.classList.add(a),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!0}))):d.animationName==="cdk-text-field-autofill-end"&&o.classList.contains(a)&&(o.classList.remove(a),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{o.addEventListener("animationstart",l,h8),o.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(o,{subject:s,unlisten:()=>{o.removeEventListener("animationstart",l,h8)}}),s}stopMonitoring(n){let o=pa(n),r=this._monitoredElements.get(o);r&&(r.unlisten(),r.subject.complete(),o.classList.remove("cdk-text-field-autofill-monitored"),o.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(o))}ngOnDestroy(){this._monitoredElements.forEach((n,o)=>this.stopMonitoring(o))}};e.\u0275fac=function(o){return new(o||e)(ke(rn),ke(_t))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var f8=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({});let i=e;return i})();var Pk=class{constructor(e){this._box=e,this._destroyed=new Tt,this._resizeSubject=new Tt,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new ns(t=>{let n=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),n.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Bn(t=>t.some(n=>n.target===e)),Q1({bufferSize:1,refCount:!0}),Xi(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},m8=(()=>{let e=class e{constructor(){this._observers=new Map,this._ngZone=Ge(_t),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,n]of this._observers)n.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(n,o){let r=o?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new Pk(r)),this._observers.get(r).observe(n)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var ipe=["notch"],npe=["matFormFieldNotchedOutline",""],ope=["*"],rpe=["textField"],spe=["iconPrefixContainer"],ape=["textPrefixContainer"],lpe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],dpe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function cpe(i,e){i&1&&je(0,"span",19)}function upe(i,e){if(i&1&&(se(0,"label",18),Hi(1,1),ii(2,cpe,1,0,"span",19),ne()),i&2){let t=xt(2);Ee("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),ki("for",t._control.disableAutomaticLabeling?null:t._control.id),_e(2),Wn(!t.hideRequiredMarker&&t._control.required?2:-1)}}function hpe(i,e){if(i&1&&ii(0,upe,3,5,"label",18),i&2){let t=xt();Wn(t._hasFloatingLabel()?0:-1)}}function ppe(i,e){i&1&&je(0,"div",5)}function fpe(i,e){}function mpe(i,e){if(i&1&&ii(0,fpe,0,0,"ng-template",11),i&2){xt(2);let t=rs(1);Ee("ngTemplateOutlet",t)}}function gpe(i,e){if(i&1&&(se(0,"div",7),ii(1,mpe,1,1,null,11),ne()),i&2){let t=xt();Ee("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),_e(),Wn(t._forceDisplayInfixLabel()?-1:1)}}function _pe(i,e){i&1&&(se(0,"div",8,2),Hi(2,2),ne())}function bpe(i,e){i&1&&(se(0,"div",9,3),Hi(2,3),ne())}function vpe(i,e){}function ype(i,e){if(i&1&&ii(0,vpe,0,0,"ng-template",11),i&2){xt();let t=rs(1);Ee("ngTemplateOutlet",t)}}function xpe(i,e){i&1&&(se(0,"div",12),Hi(1,4),ne())}function Cpe(i,e){i&1&&(se(0,"div",13),Hi(1,5),ne())}function wpe(i,e){i&1&&je(0,"div",14)}function Spe(i,e){if(i&1&&(se(0,"div",16),Hi(1,6),ne()),i&2){let t=xt();Ee("@transitionMessages",t._subscriptAnimationState)}}function Epe(i,e){if(i&1&&(se(0,"mat-hint",20),me(1),ne()),i&2){let t=xt(2);Ee("id",t._hintLabelId),_e(),Za(t.hintLabel)}}function Ope(i,e){if(i&1&&(se(0,"div",17),ii(1,Epe,2,2,"mat-hint",20),Hi(2,7),je(3,"div",21),Hi(4,8),ne()),i&2){let t=xt();Ee("@transitionMessages",t._subscriptAnimationState),_e(),Wn(t.hintLabel?1:-1)}}var ya=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=Pt({type:e,selectors:[["mat-label"]],standalone:!0});let i=e;return i})(),Ipe=0,S8=new ct("MatError"),bw=(()=>{let e=class e{constructor(n,o){this.id=`mat-mdc-error-${Ipe++}`,n||o.nativeElement.setAttribute("aria-live","polite")}};e.\u0275fac=function(o){return new(o||e)(qa("aria-live"),oe(At))},e.\u0275dir=Pt({type:e,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(o,r){o&2&&ws("id",r.id)},inputs:{id:"id"},standalone:!0,features:[Wt([{provide:S8,useExisting:e}])]});let i=e;return i})(),Dpe=0,g8=(()=>{let e=class e{constructor(){this.align="start",this.id=`mat-mdc-hint-${Dpe++}`}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=Pt({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(o,r){o&2&&(ws("id",r.id),ki("align",null),Mi("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let i=e;return i})(),E8=new ct("MatPrefix"),O8=(()=>{let e=class e{constructor(){this._isText=!1}set _isTextSelector(n){this._isText=!0}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=Pt({type:e,selectors:[["","matPrefix",""],["","matIconPrefix",""],["","matTextPrefix",""]],inputs:{_isTextSelector:[0,"matTextPrefix","_isTextSelector"]},standalone:!0,features:[Wt([{provide:E8,useExisting:e}])]});let i=e;return i})(),I8=new ct("MatSuffix"),td=(()=>{let e=class e{constructor(){this._isText=!1}set _isTextSelector(n){this._isText=!0}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=Pt({type:e,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[Wt([{provide:I8,useExisting:e}])]});let i=e;return i})(),D8=new ct("FloatingLabelParent"),_8=(()=>{let e=class e{get floating(){return this._floating}set floating(n){this._floating=n,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(n){this._monitorResize=n,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(n){this._elementRef=n,this._floating=!1,this._monitorResize=!1,this._resizeObserver=Ge(m8),this._ngZone=Ge(_t),this._parent=Ge(D8),this._resizeSubscription=new Xn}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return Tpe(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};e.\u0275fac=function(o){return new(o||e)(oe(At))},e.\u0275dir=Pt({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(o,r){o&2&&Mi("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let i=e;return i})();function Tpe(i){let e=i;if(e.offsetParent!==null)return e.scrollWidth;let t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);let n=t.scrollWidth;return t.remove(),n}var b8="mdc-line-ripple--active",_w="mdc-line-ripple--deactivating",v8=(()=>{let e=class e{constructor(n,o){this._elementRef=n,this._handleTransitionEnd=r=>{let s=this._elementRef.nativeElement.classList,a=s.contains(_w);r.propertyName==="opacity"&&a&&s.remove(b8,_w)},o.runOutsideAngular(()=>{n.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let n=this._elementRef.nativeElement.classList;n.remove(_w),n.add(b8)}deactivate(){this._elementRef.nativeElement.classList.add(_w)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};e.\u0275fac=function(o){return new(o||e)(oe(At),oe(_t))},e.\u0275dir=Pt({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let i=e;return i})(),y8=(()=>{let e=class e{constructor(n,o){this._elementRef=n,this._ngZone=o,this.open=!1}ngAfterViewInit(){let n=this._elementRef.nativeElement.querySelector(".mdc-floating-label");n?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(n.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>n.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(n){!this.open||!n?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${n}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};e.\u0275fac=function(o){return new(o||e)(oe(At),oe(_t))},e.\u0275cmp=$e({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(o,r){if(o&1&&_n(ipe,5),o&2){let s;Lt(s=Nt())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(o,r){o&2&&Mi("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[Wi],attrs:npe,ngContentSelectors:ope,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(o,r){o&1&&(Un(),je(0,"div",1),se(1,"div",2,0),Hi(3),ne(),je(4,"div",3))},encapsulation:2,changeDetection:0});let i=e;return i})(),Ape={transitionMessages:la("transitionMessages",[zl("enter",co({opacity:1,transform:"translateY(0%)"})),Lr("void => enter",[co({opacity:0,transform:"translateY(-5px)"}),Or("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},rb=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=Pt({type:e});let i=e;return i})();var Gu=new ct("MatFormField"),kpe=new ct("MAT_FORM_FIELD_DEFAULT_OPTIONS"),x8=0,C8="fill",Mpe="auto",w8="fixed",Rpe="translateY(-50%)",id=(()=>{let e=class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(n){this._hideRequiredMarker=gp(n)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||Mpe}set floatLabel(n){n!==this._floatLabel&&(this._floatLabel=n,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(n){let o=this._appearance,r=n||this._defaults?.appearance||C8;this._appearance=r,this._appearance==="outline"&&this._appearance!==o&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||w8}set subscriptSizing(n){this._subscriptSizing=n||this._defaults?.subscriptSizing||w8}get hintLabel(){return this._hintLabel}set hintLabel(n){this._hintLabel=n,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(n){this._explicitFormFieldControl=n}constructor(n,o,r,s,a,l,d,c){this._elementRef=n,this._changeDetectorRef=o,this._dir=s,this._platform=a,this._defaults=l,this._animationMode=d,this._labelChild=g3(ya),this._hideRequiredMarker=!1,this.color="primary",this._appearance=C8,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${x8++}`,this._hintLabelId=`mat-mdc-hint-${x8++}`,this._subscriptAnimationState="",this._destroyed=new Tt,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=Ge(En),this.getLabelId=Xd(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=Xd(()=>!!this._labelChild()),l&&(l.appearance&&(this.appearance=l.appearance),this._hideRequiredMarker=!!l?.hideRequiredMarker,l.color&&(this.color=l.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(n){let o=this._control,r="mat-mdc-form-field-type-";n&&this._elementRef.nativeElement.classList.remove(r+n.controlType),o.controlType&&this._elementRef.nativeElement.classList.add(r+o.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=o.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),o.ngControl&&o.ngControl.valueChanges&&(this._valueChanges=o.ngControl.valueChanges.pipe(Xi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(n=>!n._isText),this._hasTextPrefix=!!this._prefixChildren.find(n=>n._isText),this._hasIconSuffix=!!this._suffixChildren.find(n=>!n._isText),this._hasTextSuffix=!!this._suffixChildren.find(n=>n._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),os(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),Ny(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Xi(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(n){let o=this._control?this._control.ngControl:null;return o&&o[n]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let n=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&n.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let o=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,r=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;o?n.push(o.id):this._hintLabel&&n.push(this._hintLabelId),r&&n.push(r.id)}else this._errorChildren&&n.push(...this._errorChildren.map(o=>o.id));this._control.setDescribedByIds(n)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let n=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){n.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let o=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=o?.getBoundingClientRect().width??0,a=r?.getBoundingClientRect().width??0,l=this._dir.value==="rtl"?"-1":"1",d=`${s+a}px`,u=`calc(${l} * (${d} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;n.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${Rpe} translateX(${u})
    )`}_isAttachedToDom(){let n=this._elementRef.nativeElement;if(n.getRootNode){let o=n.getRootNode();return o&&o!==n}return document.documentElement.contains(n)}};e.\u0275fac=function(o){return new(o||e)(oe(At),oe(Vn),oe(_t),oe(Nr),oe(rn),oe(kpe,8),oe($o,8),oe(jt))},e.\u0275cmp=$e({type:e,selectors:[["mat-form-field"]],contentQueries:function(o,r,s){if(o&1&&(v3(s,r._labelChild,ya,5),cn(s,rb,5),cn(s,E8,5),cn(s,I8,5),cn(s,S8,5),cn(s,g8,5)),o&2){y3();let a;Lt(a=Nt())&&(r._formFieldControl=a.first),Lt(a=Nt())&&(r._prefixChildren=a),Lt(a=Nt())&&(r._suffixChildren=a),Lt(a=Nt())&&(r._errorChildren=a),Lt(a=Nt())&&(r._hintChildren=a)}},viewQuery:function(o,r){if(o&1&&(_n(rpe,5),_n(spe,5),_n(ape,5),_n(_8,5),_n(y8,5),_n(v8,5)),o&2){let s;Lt(s=Nt())&&(r._textField=s.first),Lt(s=Nt())&&(r._iconPrefixContainer=s.first),Lt(s=Nt())&&(r._textPrefixContainer=s.first),Lt(s=Nt())&&(r._floatingLabel=s.first),Lt(s=Nt())&&(r._notchedOutline=s.first),Lt(s=Nt())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(o,r){o&2&&Mi("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations",r._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[Wt([{provide:Gu,useExisting:e},{provide:D8,useExisting:e}]),Wi],ngContentSelectors:dpe,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(o,r){if(o&1){let s=gn();Un(lpe),ii(0,hpe,1,1,"ng-template",null,0,w3),se(2,"div",4,1),Et("click",function(l){return Xt(s),Zt(r._control.onContainerClick(l))}),ii(4,ppe,1,0,"div",5),se(5,"div",6),ii(6,gpe,2,2,"div",7)(7,_pe,3,0,"div",8)(8,bpe,3,0,"div",9),se(9,"div",10),ii(10,ype,1,1,null,11),Hi(11),ne(),ii(12,xpe,2,0,"div",12)(13,Cpe,2,0,"div",13),ne(),ii(14,wpe,1,0,"div",14),ne(),se(15,"div",15),ii(16,Spe,2,1,"div",16)(17,Ope,5,2,"div",17),ne()}if(o&2){let s;_e(2),Mi("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),_e(2),Wn(!r._hasOutline()&&!r._control.disabled?4:-1),_e(2),Wn(r._hasOutline()?6:-1),_e(),Wn(r._hasIconPrefix?7:-1),_e(),Wn(r._hasTextPrefix?8:-1),_e(2),Wn(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),_e(2),Wn(r._hasTextSuffix?12:-1),_e(),Wn(r._hasIconSuffix?13:-1),_e(),Wn(r._hasOutline()?-1:14),_e(),Mi("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic"),_e(),Wn((s=r._getDisplayedMessages())==="error"?16:s==="hint"?17:-1)}},dependencies:[_8,y8,H3,v8,g8],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Ape.transitionMessages]},changeDetection:0});let i=e;return i})(),sb=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({imports:[sn,Es,Kx,sn]});let i=e;return i})();var Lk=new ct("MAT_INPUT_VALUE_ACCESSOR"),Fpe=["button","checkbox","file","hidden","image","radio","range","reset","submit"],Ppe=0,nd=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(n){this._disabled=gp(n),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(n){this._id=n||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Ri.required)??!1}set required(n){this._required=gp(n)}get type(){return this._type}set type(n){this._type=n||"text",this._validateType(),!this._isTextarea&&DD().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(n){this._errorStateTracker.matcher=n}get value(){return this._inputValueAccessor.value}set value(n){n!==this.value&&(this._inputValueAccessor.value=n,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(n){this._readonly=gp(n)}get errorState(){return this._errorStateTracker.errorState}set errorState(n){this._errorStateTracker.errorState=n}constructor(n,o,r,s,a,l,d,c,u,h){this._elementRef=n,this._platform=o,this.ngControl=r,this._autofillMonitor=c,this._ngZone=u,this._formField=h,this._uid=`mat-input-${Ppe++}`,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new Tt,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(m=>DD().has(m)),this._iOSKeyupListener=m=>{let g=m.target;!g.value&&g.selectionStart===0&&g.selectionEnd===0&&(g.setSelectionRange(1,1),g.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};let f=this._elementRef.nativeElement,p=f.nodeName.toLowerCase();this._inputValueAccessor=d||f,this._previousNativeValue=this.value,this.id=this.id,o.IOS&&u.runOutsideAngular(()=>{n.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new gm(l,r,a,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=p==="select",this._isTextarea=p==="textarea",this._isInFormField=!!h,this._isNativeSelect&&(this.controlType=f.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(n=>{this.autofilled=n.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(n){this._elementRef.nativeElement.focus(n)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(n){n!==this.focused&&(this.focused=n,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let n=this._elementRef.nativeElement.value;this._previousNativeValue!==n&&(this._previousNativeValue=n,this.stateChanges.next())}_dirtyCheckPlaceholder(){let n=this._getPlaceholder();if(n!==this._previousPlaceholder){let o=this._elementRef.nativeElement;this._previousPlaceholder=n,n?o.setAttribute("placeholder",n):o.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Fpe.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let n=this._elementRef.nativeElement.validity;return n&&n.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let n=this._elementRef.nativeElement,o=n.options[0];return this.focused||n.multiple||!this.empty||!!(n.selectedIndex>-1&&o&&o.label)}else return this.focused||!this.empty}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let n=this._elementRef.nativeElement;return this._isNativeSelect&&(n.multiple||n.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}};e.\u0275fac=function(o){return new(o||e)(oe(At),oe(rn),oe(Au,10),oe(CD,8),oe(Ds,8),oe(nT),oe(Lk,10),oe(p8),oe(_t),oe(Gu,8))},e.\u0275dir=Pt({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(o,r){o&1&&Et("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),o&2&&(ws("id",r.id)("disabled",r.disabled)("required",r.required),ki("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Mi("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[Wt([{provide:rb,useExisting:e}]),on]});let i=e;return i})(),T8=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({imports:[sn,sb,sb,f8,sn]});let i=e;return i})();var Lpe=["mat-calendar-body",""];function Npe(i,e){return this._trackRow(e)}var N8=(i,e)=>e.id;function Bpe(i,e){if(i&1&&(se(0,"tr",0)(1,"td",3),me(2),ne()()),i&2){let t=xt();_e(),Cu("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),ki("colspan",t.numCols),_e(),Ss(" ",t.label," ")}}function Vpe(i,e){if(i&1&&(se(0,"td",3),me(1),ne()),i&2){let t=xt(2);Cu("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),ki("colspan",t._firstRowOffset),_e(),Ss(" ",t._firstRowOffset>=t.labelMinRequiredCells?t.label:""," ")}}function Hpe(i,e){if(i&1){let t=gn();se(0,"td",6)(1,"button",7),Et("click",function(o){let r=Xt(t).$implicit,s=xt(2);return Zt(s._cellClicked(r,o))})("focus",function(o){let r=Xt(t).$implicit,s=xt(2);return Zt(s._emitActiveDateChange(r,o))}),se(2,"span",8),me(3),ne(),je(4,"span",9),ne()()}if(i&2){let t=e.$implicit,n=e.$index,o=xt().$index,r=xt();Cu("width",r._cellWidth)("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),ki("data-mat-row",o)("data-mat-col",n),_e(),Mi("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",r._isActiveCell(o,n))("mat-calendar-body-range-start",r._isRangeStart(t.compareValue))("mat-calendar-body-range-end",r._isRangeEnd(t.compareValue))("mat-calendar-body-in-range",r._isInRange(t.compareValue))("mat-calendar-body-comparison-bridge-start",r._isComparisonBridgeStart(t.compareValue,o,n))("mat-calendar-body-comparison-bridge-end",r._isComparisonBridgeEnd(t.compareValue,o,n))("mat-calendar-body-comparison-start",r._isComparisonStart(t.compareValue))("mat-calendar-body-comparison-end",r._isComparisonEnd(t.compareValue))("mat-calendar-body-in-comparison-range",r._isInComparisonRange(t.compareValue))("mat-calendar-body-preview-start",r._isPreviewStart(t.compareValue))("mat-calendar-body-preview-end",r._isPreviewEnd(t.compareValue))("mat-calendar-body-in-preview",r._isInPreview(t.compareValue)),Ee("ngClass",t.cssClasses)("tabindex",r._isActiveCell(o,n)?0:-1),ki("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-pressed",r._isSelected(t.compareValue))("aria-current",r.todayValue===t.compareValue?"date":null)("aria-describedby",r._getDescribedby(t.compareValue)),_e(),Mi("mat-calendar-body-selected",r._isSelected(t.compareValue))("mat-calendar-body-comparison-identical",r._isComparisonIdentical(t.compareValue))("mat-calendar-body-today",r.todayValue===t.compareValue),_e(),Ss(" ",t.displayValue," ")}}function zpe(i,e){if(i&1&&(se(0,"tr",1),ii(1,Vpe,2,6,"td",4),By(2,Hpe,5,48,"td",5,N8),ne()),i&2){let t=e.$implicit,n=e.$index,o=xt();_e(),Wn(n===0&&o._firstRowOffset?1:-1),_e(),Vy(t)}}function jpe(i,e){if(i&1&&(se(0,"th",2)(1,"span",6),me(2),ne(),se(3,"span",3),me(4),ne()()),i&2){let t=e.$implicit;_e(2),Za(t.long),_e(2),Za(t.narrow)}}var $pe=["*"];function Wpe(i,e){}function Upe(i,e){if(i&1){let t=gn();se(0,"mat-month-view",4),Wy("activeDateChange",function(o){Xt(t);let r=xt();return $y(r.activeDate,o)||(r.activeDate=o),Zt(o)}),Et("_userSelection",function(o){Xt(t);let r=xt();return Zt(r._dateSelected(o))})("dragStarted",function(o){Xt(t);let r=xt();return Zt(r._dragStarted(o))})("dragEnded",function(o){Xt(t);let r=xt();return Zt(r._dragEnded(o))}),ne()}if(i&2){let t=xt();jy("activeDate",t.activeDate),Ee("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)("startDateAccessibleName",t.startDateAccessibleName)("endDateAccessibleName",t.endDateAccessibleName)("activeDrag",t._activeDrag)}}function Gpe(i,e){if(i&1){let t=gn();se(0,"mat-year-view",5),Wy("activeDateChange",function(o){Xt(t);let r=xt();return $y(r.activeDate,o)||(r.activeDate=o),Zt(o)}),Et("monthSelected",function(o){Xt(t);let r=xt();return Zt(r._monthSelectedInYearView(o))})("selectedChange",function(o){Xt(t);let r=xt();return Zt(r._goToDateInView(o,"month"))}),ne()}if(i&2){let t=xt();jy("activeDate",t.activeDate),Ee("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function Kpe(i,e){if(i&1){let t=gn();se(0,"mat-multi-year-view",6),Wy("activeDateChange",function(o){Xt(t);let r=xt();return $y(r.activeDate,o)||(r.activeDate=o),Zt(o)}),Et("yearSelected",function(o){Xt(t);let r=xt();return Zt(r._yearSelectedInMultiYearView(o))})("selectedChange",function(o){Xt(t);let r=xt();return Zt(r._goToDateInView(o,"year"))}),ne()}if(i&2){let t=xt();jy("activeDate",t.activeDate),Ee("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function qpe(i,e){}var Ype=["button"],Xpe=[[["","matDatepickerToggleIcon",""]]],Zpe=["[matDatepickerToggleIcon]"];function Qpe(i,e){i&1&&(Ff(),se(0,"svg",2),je(1,"path",3),ne())}var hb=(()=>{let e=class e{constructor(){this.changes=new Tt,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(n,o){return`${n} \u2013 ${o}`}formatYearRangeLabel(n,o){return`${n} to ${o}`}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Jpe=0,cb=class{constructor(e,t,n,o,r={},s=e,a){this.value=e,this.displayValue=t,this.ariaLabel=n,this.enabled=o,this.cssClasses=r,this.compareValue=s,this.rawValue=a,this.id=Jpe++}},efe=1,A8=fa({passive:!1,capture:!0}),Ku=fa({passive:!0,capture:!0}),vw=fa({passive:!0}),Am=(()=>{let e=class e{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(n,o){this._elementRef=n,this._ngZone=o,this._platform=Ge(rn),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new St,this.previewChange=new St,this.activeDateChange=new St,this.dragStarted=new St,this.dragEnded=new St,this._didDragSinceMouseDown=!1,this._injector=Ge(En),this._trackRow=r=>r,this._enterHandler=r=>{if(this._skipNextFocus&&r.type==="focus"){this._skipNextFocus=!1;return}if(r.target&&this.isRange){let s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._touchmoveHandler=r=>{if(!this.isRange)return;let s=k8(r),a=s?this._getCellFromElement(s):null;s!==r.target&&(this._didDragSinceMouseDown=!0),Bk(r.target)&&r.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:a?.enabled?a:null,event:r}))},this._leaveHandler=r=>{this.previewEnd!==null&&this.isRange&&(r.type!=="blur"&&(this._didDragSinceMouseDown=!0),r.target&&this._getCellFromElement(r.target)&&!(r.relatedTarget&&this._getCellFromElement(r.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r})))},this._mousedownHandler=r=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let s=r.target&&this._getCellFromElement(r.target);!s||!this._isInRange(s.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:s.rawValue,event:r})})},this._mouseupHandler=r=>{if(!this.isRange)return;let s=Bk(r.target);if(!s){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:r})});return}s.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let a=this._getCellFromElement(s);this.dragEnded.emit({value:a?.rawValue??null,event:r})})},this._touchendHandler=r=>{let s=k8(r);s&&this._mouseupHandler({target:s})},this._id=`mat-calendar-body-${efe++}`,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,o.runOutsideAngular(()=>{let r=n.nativeElement;r.addEventListener("touchmove",this._touchmoveHandler,A8),r.addEventListener("mouseenter",this._enterHandler,Ku),r.addEventListener("focus",this._enterHandler,Ku),r.addEventListener("mouseleave",this._leaveHandler,Ku),r.addEventListener("blur",this._leaveHandler,Ku),r.addEventListener("mousedown",this._mousedownHandler,vw),r.addEventListener("touchstart",this._mousedownHandler,vw),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(n,o){this._didDragSinceMouseDown||n.enabled&&this.selectedValueChange.emit({value:n.value,event:o})}_emitActiveDateChange(n,o){n.enabled&&this.activeDateChange.emit({value:n.value,event:o})}_isSelected(n){return this.startValue===n||this.endValue===n}ngOnChanges(n){let o=n.numCols,{rows:r,numCols:s}=this;(n.rows||o)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(n.cellAspectRatio||o||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/s}%`),(o||!this._cellWidth)&&(this._cellWidth=`${100/s}%`)}ngOnDestroy(){let n=this._elementRef.nativeElement;n.removeEventListener("touchmove",this._touchmoveHandler,A8),n.removeEventListener("mouseenter",this._enterHandler,Ku),n.removeEventListener("focus",this._enterHandler,Ku),n.removeEventListener("mouseleave",this._leaveHandler,Ku),n.removeEventListener("blur",this._leaveHandler,Ku),n.removeEventListener("mousedown",this._mousedownHandler,vw),n.removeEventListener("touchstart",this._mousedownHandler,vw),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(n,o){let r=n*this.numCols+o;return n&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(n=!0){Us(()=>{setTimeout(()=>{let o=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");o&&(n||(this._skipNextFocus=!0),o.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(n){return Vk(n,this.startValue,this.endValue)}_isRangeEnd(n){return Hk(n,this.startValue,this.endValue)}_isInRange(n){return zk(n,this.startValue,this.endValue,this.isRange)}_isComparisonStart(n){return Vk(n,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(n,o,r){if(!this._isComparisonStart(n)||this._isRangeStart(n)||!this._isInRange(n))return!1;let s=this.rows[o][r-1];if(!s){let a=this.rows[o-1];s=a&&a[a.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(n,o,r){if(!this._isComparisonEnd(n)||this._isRangeEnd(n)||!this._isInRange(n))return!1;let s=this.rows[o][r+1];if(!s){let a=this.rows[o+1];s=a&&a[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(n){return Hk(n,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(n){return zk(n,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(n){return this.comparisonStart===this.comparisonEnd&&n===this.comparisonStart}_isPreviewStart(n){return Vk(n,this.previewStart,this.previewEnd)}_isPreviewEnd(n){return Hk(n,this.previewStart,this.previewEnd)}_isInPreview(n){return zk(n,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(n){return this.isRange?this.startValue===n&&this.endValue===n?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===n?this._startDateLabelId:this.endValue===n?this._endDateLabelId:null:null}_getCellFromElement(n){let o=Bk(n);if(o){let r=o.getAttribute("data-mat-row"),s=o.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}};e.\u0275fac=function(o){return new(o||e)(oe(At),oe(_t))},e.\u0275cmp=$e({type:e,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[on,Wi],attrs:Lpe,decls:7,vars:5,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(o,r){o&1&&(ii(0,Bpe,3,6,"tr",0),By(1,zpe,4,1,"tr",1,Npe,!0),se(3,"label",2),me(4),ne(),se(5,"label",2),me(6),ne()),o&2&&(Wn(r._firstRowOffset<r.labelMinRequiredCells?0:-1),_e(),Vy(r.rows),_e(2),Ee("id",r._startDateLabelId),_e(),Ss(" ",r.startDateAccessibleName,`
`),_e(),Ee("id",r._endDateLabelId),_e(),Ss(" ",r.endDateAccessibleName,`
`))},dependencies:[I_],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-app-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-app-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-app-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-app-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-app-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-app-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-app-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-app-secondary))}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}'],encapsulation:2,changeDetection:0});let i=e;return i})();function Nk(i){return i?.nodeName==="TD"}function Bk(i){let e;return Nk(i)?e=i:Nk(i.parentNode)?e=i.parentNode:Nk(i.parentNode?.parentNode)&&(e=i.parentNode.parentNode),e?.getAttribute("data-mat-row")!=null?e:null}function Vk(i,e,t){return t!==null&&e!==t&&i<t&&i===e}function Hk(i,e,t){return e!==null&&e!==t&&i>=e&&i===t}function zk(i,e,t,n){return n&&e!==null&&t!==null&&e!==t&&i>=e&&i<=t}function k8(i){let e=i.changedTouches[0];return document.elementFromPoint(e.clientX,e.clientY)}var xa=class{constructor(e,t){this.start=e,this.end=t}},ub=(()=>{let e=class e{constructor(n,o){this.selection=n,this._adapter=o,this._selectionChanged=new Tt,this.selectionChanged=this._selectionChanged,this.selection=n}updateSelection(n,o){let r=this.selection;this.selection=n,this._selectionChanged.next({selection:n,source:o,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(n){return this._adapter.isDateInstance(n)&&this._adapter.isValid(n)}};e.\u0275fac=function(o){bu()},e.\u0275prov=rt({token:e,factory:e.\u0275fac});let i=e;return i})(),tfe=(()=>{let e=class e extends ub{constructor(n){super(null,n)}add(n){super.updateSelection(n,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let n=new e(this._adapter);return n.updateSelection(this.selection,this),n}};e.\u0275fac=function(o){return new(o||e)(ke(Ir))},e.\u0275prov=rt({token:e,factory:e.\u0275fac});let i=e;return i})();function ife(i,e){return i||new tfe(e)}var B8={provide:ub,deps:[[new Rf,new v_,ub],Ir],useFactory:ife};var V8=new ct("MAT_DATE_RANGE_SELECTION_STRATEGY");var jk=7,nfe=0,M8=(()=>{let e=class e{get activeDate(){return this._activeDate}set activeDate(n){let o=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(o,this._activeDate)||this._init()}get selected(){return this._selected}set selected(n){n instanceof xa?this._selected=n:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(n){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}get maxDate(){return this._maxDate}set maxDate(n){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}constructor(n,o,r,s,a){this._changeDetectorRef=n,this._dateFormats=o,this._dateAdapter=r,this._dir=s,this._rangeStrategy=a,this._rerenderSubscription=Xn.EMPTY,this.activeDrag=null,this.selectedChange=new St,this._userSelection=new St,this.dragStarted=new St,this.dragEnded=new St,this.activeDateChange=new St,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Er(null)).subscribe(()=>this._init())}ngOnChanges(n){let o=n.comparisonStart||n.comparisonEnd;o&&!o.firstChange&&this._setRanges(this.selected),n.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(n){let o=n.value,r=this._getDateFromDayOfMonth(o),s,a;this._selected instanceof xa?(s=this._getDateInCurrentMonth(this._selected.start),a=this._getDateInCurrentMonth(this._selected.end)):s=a=this._getDateInCurrentMonth(this._selected),(s!==o||a!==o)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:n.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(n){let o=n.value,r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(o),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(n){let o=this._activeDate,r=this._isRtl();switch(n.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=n.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=n.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&n.preventDefault();return;case 27:this._previewEnd!=null&&!hr(n)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:n}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:n})),n.preventDefault(),n.stopPropagation());return;default:return}this._dateAdapter.compareDate(o,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),n.preventDefault()}_handleCalendarBodyKeyup(n){(n.keyCode===32||n.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:n}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(jk+this._dateAdapter.getDayOfWeek(n)-this._dateAdapter.getFirstDayOfWeek())%jk,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(n){this._matCalendarBody._focusActiveCell(n)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:n,value:o}){if(this._rangeStrategy){let r=o?o.rawValue:null,s=this._rangeStrategy.createPreview(r,this.selected,n);if(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this.activeDrag&&r){let a=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,n);a&&(this._previewStart=this._getCellCompareValue(a.start),this._previewEnd=this._getCellCompareValue(a.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(n){if(this.activeDrag)if(n.value){let o=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,n.value,n.event);this.dragEnded.emit({value:o??null,event:n.event})}else this.dragEnded.emit({value:null,event:n.event})}_getDateFromDayOfMonth(n){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n)}_initWeekdays(){let n=this._dateAdapter.getFirstDayOfWeek(),o=this._dateAdapter.getDayOfWeekNames("narrow"),s=this._dateAdapter.getDayOfWeekNames("long").map((a,l)=>({long:a,narrow:o[l],id:nfe++}));this._weekdays=s.slice(n).concat(s.slice(0,n))}_createWeekCells(){let n=this._dateAdapter.getNumDaysInMonth(this.activeDate),o=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<n;r++,s++){s==jk&&(this._weeks.push([]),s=0);let a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),l=this._shouldEnableDate(a),d=this._dateAdapter.format(a,this._dateFormats.display.dateA11yLabel),c=this.dateClass?this.dateClass(a,"month"):void 0;this._weeks[this._weeks.length-1].push(new cb(r+1,o[r],d,l,c,this._getCellCompareValue(a),a))}}_shouldEnableDate(n){return!!n&&(!this.minDate||this._dateAdapter.compareDate(n,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(n,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(n))}_getDateInCurrentMonth(n){return n&&this._hasSameMonthAndYear(n,this.activeDate)?this._dateAdapter.getDate(n):null}_hasSameMonthAndYear(n,o){return!!(n&&o&&this._dateAdapter.getMonth(n)==this._dateAdapter.getMonth(o)&&this._dateAdapter.getYear(n)==this._dateAdapter.getYear(o))}_getCellCompareValue(n){if(n){let o=this._dateAdapter.getYear(n),r=this._dateAdapter.getMonth(n),s=this._dateAdapter.getDate(n);return new Date(o,r,s).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(n){n instanceof xa?(this._rangeStart=this._getCellCompareValue(n.start),this._rangeEnd=this._getCellCompareValue(n.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(n),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(n){return!this.dateFilter||this.dateFilter(n)}_clearPreview(){this._previewStart=this._previewEnd=null}};e.\u0275fac=function(o){return new(o||e)(oe(Vn),oe(Bu,8),oe(Ir,8),oe(Nr,8),oe(V8,8))},e.\u0275cmp=$e({type:e,selectors:[["mat-month-view"]],viewQuery:function(o,r){if(o&1&&_n(Am,5),o&2){let s;Lt(s=Nt())&&(r._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[on,Wi],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(o,r){o&1&&(se(0,"table",0)(1,"thead",1)(2,"tr"),By(3,jpe,5,2,"th",2,N8),ne(),se(5,"tr",3),je(6,"th",4),ne()(),se(7,"tbody",5),Et("selectedValueChange",function(a){return r._dateSelected(a)})("activeDateChange",function(a){return r._updateActiveDate(a)})("previewChange",function(a){return r._previewChanged(a)})("dragStarted",function(a){return r.dragStarted.emit(a)})("dragEnded",function(a){return r._dragEnded(a)})("keyup",function(a){return r._handleCalendarBodyKeyup(a)})("keydown",function(a){return r._handleCalendarBodyKeydown(a)}),ne()()),o&2&&(_e(3),Vy(r._weekdays),_e(4),Ee("label",r._monthLabel)("rows",r._weeks)("todayValue",r._todayDate)("startValue",r._rangeStart)("endValue",r._rangeEnd)("comparisonStart",r._comparisonRangeStart)("comparisonEnd",r._comparisonRangeEnd)("previewStart",r._previewStart)("previewEnd",r._previewEnd)("isRange",r._isRange)("labelMinRequiredCells",3)("activeCell",r._dateAdapter.getDate(r.activeDate)-1)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName))},dependencies:[Am],encapsulation:2,changeDetection:0});let i=e;return i})(),Zs=24,$k=4,R8=(()=>{let e=class e{get activeDate(){return this._activeDate}set activeDate(n){let o=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),H8(this._dateAdapter,o,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(n){n instanceof xa?this._selected=n:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n)),this._setSelectedYear(n)}get minDate(){return this._minDate}set minDate(n){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}get maxDate(){return this._maxDate}set maxDate(n){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}constructor(n,o,r){this._changeDetectorRef=n,this._dateAdapter=o,this._dir=r,this._rerenderSubscription=Xn.EMPTY,this.selectedChange=new St,this.yearSelected=new St,this.activeDateChange=new St,this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Er(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let o=this._dateAdapter.getYear(this._activeDate)-db(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<Zs;r++)s.push(o+r),s.length==$k&&(this._years.push(s.map(a=>this._createCellForYear(a))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(n){let o=n.value,r=this._dateAdapter.createDate(o,0,1),s=this._getDateFromYear(o);this.yearSelected.emit(r),this.selectedChange.emit(s)}_updateActiveDate(n){let o=n.value,r=this._activeDate;this.activeDate=this._getDateFromYear(o),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(n){let o=this._activeDate,r=this._isRtl();switch(n.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-$k);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,$k);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-db(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Zs-db(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n.altKey?-Zs*10:-Zs);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n.altKey?Zs*10:Zs);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),n.preventDefault()}_handleCalendarBodyKeyup(n){(n.keyCode===32||n.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:n}),this._selectionKeyPressed=!1)}_getActiveCell(){return db(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(n){let o=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(n,o,1));return this._dateAdapter.createDate(n,o,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(n){let o=this._dateAdapter.createDate(n,0,1),r=this._dateAdapter.getYearName(o),s=this.dateClass?this.dateClass(o,"multi-year"):void 0;return new cb(n,r,r,this._shouldEnableYear(n),s)}_shouldEnableYear(n){if(n==null||this.maxDate&&n>this._dateAdapter.getYear(this.maxDate)||this.minDate&&n<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let o=this._dateAdapter.createDate(n,0,1);for(let r=o;this._dateAdapter.getYear(r)==n;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(n){if(this._selectedYear=null,n instanceof xa){let o=n.start||n.end;o&&(this._selectedYear=this._dateAdapter.getYear(o))}else n&&(this._selectedYear=this._dateAdapter.getYear(n))}};e.\u0275fac=function(o){return new(o||e)(oe(Vn),oe(Ir,8),oe(Nr,8))},e.\u0275cmp=$e({type:e,selectors:[["mat-multi-year-view"]],viewQuery:function(o,r){if(o&1&&_n(Am,5),o&2){let s;Lt(s=Nt())&&(r._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[Wi],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(o,r){o&1&&(se(0,"table",0)(1,"thead",1)(2,"tr"),je(3,"th",2),ne()(),se(4,"tbody",3),Et("selectedValueChange",function(a){return r._yearSelected(a)})("activeDateChange",function(a){return r._updateActiveDate(a)})("keyup",function(a){return r._handleCalendarBodyKeyup(a)})("keydown",function(a){return r._handleCalendarBodyKeydown(a)}),ne()()),o&2&&(_e(4),Ee("rows",r._years)("todayValue",r._todayYear)("startValue",r._selectedYear)("endValue",r._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._getActiveCell()))},dependencies:[Am],encapsulation:2,changeDetection:0});let i=e;return i})();function H8(i,e,t,n,o){let r=i.getYear(e),s=i.getYear(t),a=z8(i,n,o);return Math.floor((r-a)/Zs)===Math.floor((s-a)/Zs)}function db(i,e,t,n){let o=i.getYear(e);return ofe(o-z8(i,t,n),Zs)}function z8(i,e,t){let n=0;return t?n=i.getYear(t)-Zs+1:e&&(n=i.getYear(e)),n}function ofe(i,e){return(i%e+e)%e}var F8=(()=>{let e=class e{get activeDate(){return this._activeDate}set activeDate(n){let o=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(o)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(n){n instanceof xa?this._selected=n:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n)),this._setSelectedMonth(n)}get minDate(){return this._minDate}set minDate(n){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}get maxDate(){return this._maxDate}set maxDate(n){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}constructor(n,o,r,s){this._changeDetectorRef=n,this._dateFormats=o,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=Xn.EMPTY,this.selectedChange=new St,this.monthSelected=new St,this.activeDateChange=new St,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Er(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(n){let o=n.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),o,1);this.monthSelected.emit(r);let s=this._getDateFromMonth(o);this.selectedChange.emit(s)}_updateActiveDate(n){let o=n.value,r=this._activeDate;this.activeDate=this._getDateFromMonth(o),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(n){let o=this._activeDate,r=this._isRtl();switch(n.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(o,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),n.preventDefault()}_handleCalendarBodyKeyup(n){(n.keyCode===32||n.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:n}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let n=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(o=>o.map(r=>this._createCellForMonth(r,n[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(n){return n&&this._dateAdapter.getYear(n)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(n):null}_getDateFromMonth(n){let o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,1),r=this._dateAdapter.getNumDaysInMonth(o);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(n,o){let r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),a=this.dateClass?this.dateClass(r,"year"):void 0;return new cb(n,o.toLocaleUpperCase(),s,this._shouldEnableMonth(n),a)}_shouldEnableMonth(n){let o=this._dateAdapter.getYear(this.activeDate);if(n==null||this._isYearAndMonthAfterMaxDate(o,n)||this._isYearAndMonthBeforeMinDate(o,n))return!1;if(!this.dateFilter)return!0;let r=this._dateAdapter.createDate(o,n,1);for(let s=r;this._dateAdapter.getMonth(s)==n;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(n,o){if(this.maxDate){let r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return n>r||n===r&&o>s}return!1}_isYearAndMonthBeforeMinDate(n,o){if(this.minDate){let r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return n<r||n===r&&o<s}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(n){n instanceof xa?this._selectedMonth=this._getMonthInCurrentYear(n.start)||this._getMonthInCurrentYear(n.end):this._selectedMonth=this._getMonthInCurrentYear(n)}};e.\u0275fac=function(o){return new(o||e)(oe(Vn),oe(Bu,8),oe(Ir,8),oe(Nr,8))},e.\u0275cmp=$e({type:e,selectors:[["mat-year-view"]],viewQuery:function(o,r){if(o&1&&_n(Am,5),o&2){let s;Lt(s=Nt())&&(r._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[Wi],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(o,r){o&1&&(se(0,"table",0)(1,"thead",1)(2,"tr"),je(3,"th",2),ne()(),se(4,"tbody",3),Et("selectedValueChange",function(a){return r._monthSelected(a)})("activeDateChange",function(a){return r._updateActiveDate(a)})("keyup",function(a){return r._handleCalendarBodyKeyup(a)})("keydown",function(a){return r._handleCalendarBodyKeydown(a)}),ne()()),o&2&&(_e(4),Ee("label",r._yearLabel)("rows",r._months)("todayValue",r._todayMonth)("startValue",r._selectedMonth)("endValue",r._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._dateAdapter.getMonth(r.activeDate)))},dependencies:[Am],encapsulation:2,changeDetection:0});let i=e;return i})(),rfe=1,j8=(()=>{let e=class e{constructor(n,o,r,s,a){this._intl=n,this.calendar=o,this._dateAdapter=r,this._dateFormats=s,this._id=`mat-calendar-header-${rfe++}`,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>a.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-Zs)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:Zs)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(n,o){return this.calendar.currentView=="month"?this._dateAdapter.getYear(n)==this._dateAdapter.getYear(o)&&this._dateAdapter.getMonth(n)==this._dateAdapter.getMonth(o):this.calendar.currentView=="year"?this._dateAdapter.getYear(n)==this._dateAdapter.getYear(o):H8(this._dateAdapter,n,o,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let o=this._dateAdapter.getYear(this.calendar.activeDate)-db(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=o+Zs-1,s=this._dateAdapter.getYearName(this._dateAdapter.createDate(o,0,1)),a=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return[s,a]}};e.\u0275fac=function(o){return new(o||e)(oe(hb),oe(er(()=>Wk)),oe(Ir,8),oe(Bu,8),oe(Vn))},e.\u0275cmp=$e({type:e,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[Wi],ngContentSelectors:$pe,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"]],template:function(o,r){o&1&&(Un(),se(0,"div",0)(1,"div",1)(2,"label",2),me(3),ne(),se(4,"button",3),Et("click",function(){return r.currentPeriodClicked()}),se(5,"span",4),me(6),ne(),Ff(),se(7,"svg",5),je(8,"polygon",6),ne()(),Ly(),je(9,"div",7),Hi(10),se(11,"button",8),Et("click",function(){return r.previousClicked()}),ne(),se(12,"button",9),Et("click",function(){return r.nextClicked()}),ne()()()),o&2&&(_e(2),Ee("id",r._periodButtonLabelId),_e(),Za(r.periodButtonDescription),_e(),ki("aria-label",r.periodButtonLabel)("aria-describedby",r._periodButtonLabelId),_e(2),Za(r.periodButtonText),_e(),Mi("mat-calendar-invert",r.calendar.currentView!=="month"),_e(4),Ee("disabled",!r.previousEnabled()),ki("aria-label",r.prevButtonLabel),_e(),Ee("disabled",!r.nextEnabled()),ki("aria-label",r.nextButtonLabel))},dependencies:[Dr,A0],encapsulation:2,changeDetection:0});let i=e;return i})(),Wk=(()=>{let e=class e{get startAt(){return this._startAt}set startAt(n){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}get selected(){return this._selected}set selected(n){n instanceof xa?this._selected=n:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}get minDate(){return this._minDate}set minDate(n){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}get maxDate(){return this._maxDate}set maxDate(n){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}get activeDate(){return this._clampedActiveDate}set activeDate(n){this._clampedActiveDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(n){let o=this._currentView!==n?n:null;this._currentView=n,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),o&&this.viewChanged.emit(o)}constructor(n,o,r,s){this._dateAdapter=o,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new St,this.yearSelected=new St,this.monthSelected=new St,this.viewChanged=new St(!0),this._userSelection=new St,this._userDragDrop=new St,this._activeDrag=null,this.stateChanges=new Tt,this._intlChanges=n.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new ma(this.headerComponent||j8),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(n){let o=n.minDate&&!this._dateAdapter.sameDate(n.minDate.previousValue,n.minDate.currentValue)?n.minDate:void 0,r=n.maxDate&&!this._dateAdapter.sameDate(n.maxDate.previousValue,n.maxDate.currentValue)?n.maxDate:void 0,s=o||r||n.dateFilter;if(s&&!s.firstChange){let a=this._getCurrentViewComponent();a&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),a._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(n){let o=n.value;(this.selected instanceof xa||o&&!this._dateAdapter.sameDate(o,this.selected))&&this.selectedChange.emit(o),this._userSelection.emit(n)}_yearSelectedInMultiYearView(n){this.yearSelected.emit(n)}_monthSelectedInYearView(n){this.monthSelected.emit(n)}_goToDateInView(n,o){this.activeDate=n,this.currentView=o}_dragStarted(n){this._activeDrag=n}_dragEnded(n){this._activeDrag&&(n.value&&this._userDragDrop.emit(n),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}};e.\u0275fac=function(o){return new(o||e)(oe(hb),oe(Ir,8),oe(Bu,8),oe(Vn))},e.\u0275cmp=$e({type:e,selectors:[["mat-calendar"]],viewQuery:function(o,r){if(o&1&&(_n(M8,5),_n(F8,5),_n(R8,5)),o&2){let s;Lt(s=Nt())&&(r.monthView=s.first),Lt(s=Nt())&&(r.yearView=s.first),Lt(s=Nt())&&(r.multiYearView=s.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[Wt([B8]),on,Wi],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(o,r){if(o&1&&(ii(0,Wpe,0,0,"ng-template",0),se(1,"div",1),ii(2,Upe,1,11,"mat-month-view",2)(3,Gpe,1,6,"mat-year-view",3)(4,Kpe,1,6,"mat-multi-year-view",3),ne()),o&2){let s;Ee("cdkPortalOutlet",r._calendarHeaderPortal),_e(2),Wn((s=r.currentView)==="month"?2:s==="year"?3:s==="multi-year"?4:-1)}},dependencies:[ol,f6,M8,F8,R8],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-app-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-app-on-surface-variant))}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-app-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-app-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let i=e;return i})(),P8={transformPanel:la("transformPanel",[Lr("void => enter-dropdown",Or("120ms cubic-bezier(0, 0, 0.2, 1)",aI([co({opacity:0,transform:"scale(1, 0.8)"}),co({opacity:1,transform:"scale(1, 1)"})]))),Lr("void => enter-dialog",Or("150ms cubic-bezier(0, 0, 0.2, 1)",aI([co({opacity:0,transform:"scale(0.7)"}),co({transform:"none",opacity:1})]))),Lr("* => void",Or("100ms linear",co({opacity:0})))]),fadeInCalendar:la("fadeInCalendar",[zl("void",co({opacity:0})),zl("enter",co({opacity:1})),Lr("void => *",Or("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},sfe=0,$8=new ct("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let i=Ge(io);return()=>i.scrollStrategies.reposition()}});function afe(i){return()=>i.scrollStrategies.reposition()}var lfe={provide:$8,deps:[io],useFactory:afe},W8=(()=>{let e=class e{constructor(n,o,r,s,a,l){this._elementRef=n,this._changeDetectorRef=o,this._globalModel=r,this._dateAdapter=s,this._rangeSelectionStrategy=a,this._subscriptions=new Xn,this._animationDone=new Tt,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=l.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(n){let o=this._model.selection,r=n.value,s=o instanceof xa;if(s&&this._rangeSelectionStrategy){let a=this._rangeSelectionStrategy.selectionFinished(r,o,n.event);this._model.updateSelection(a,this)}else r&&(s||!this._dateAdapter.sameDate(r,o))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(n){this._model.updateSelection(n.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(n){this._isAnimating=n.phaseName==="start",this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(n,o){this._model=n?this._globalModel.clone():this._globalModel,this._actionsPortal=n,o&&this._changeDetectorRef.detectChanges()}};e.\u0275fac=function(o){return new(o||e)(oe(At),oe(Vn),oe(ub),oe(Ir),oe(V8,8),oe(hb))},e.\u0275cmp=$e({type:e,selectors:[["mat-datepicker-content"]],viewQuery:function(o,r){if(o&1&&_n(Wk,5),o&2){let s;Lt(s=Nt())&&(r._calendar=s.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(o,r){o&1&&zy("@transformPanel.start",function(a){return r._handleAnimationEvent(a)})("@transformPanel.done",function(a){return r._handleAnimationEvent(a)}),o&2&&(Hy("@transformPanel",r._animationState),Gs(r.color?"mat-"+r.color:""),Mi("mat-datepicker-content-touch",r.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[Wi],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(o,r){if(o&1&&(se(0,"div",0)(1,"mat-calendar",1),Et("yearSelected",function(a){return r.datepicker._selectYear(a)})("monthSelected",function(a){return r.datepicker._selectMonth(a)})("viewChanged",function(a){return r.datepicker._viewChanged(a)})("_userSelection",function(a){return r._handleUserSelection(a)})("_userDragDrop",function(a){return r._handleUserDragDrop(a)}),ne(),ii(2,qpe,0,0,"ng-template",2),se(3,"button",3),Et("focus",function(){return r._closeButtonFocused=!0})("blur",function(){return r._closeButtonFocused=!1})("click",function(){return r.datepicker.close()}),me(4),ne()()),o&2){let s;Mi("mat-datepicker-content-container-with-custom-header",r.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",r._actionsPortal),ki("aria-modal",!0)("aria-labelledby",(s=r._dialogLabelId)!==null&&s!==void 0?s:void 0),_e(),Gs(r.datepicker.panelClass),Ee("id",r.datepicker.id)("startAt",r.datepicker.startAt)("startView",r.datepicker.startView)("minDate",r.datepicker._getMinDate())("maxDate",r.datepicker._getMaxDate())("dateFilter",r.datepicker._getDateFilter())("headerComponent",r.datepicker.calendarHeaderComponent)("selected",r._getSelected())("dateClass",r.datepicker.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName),_e(),Ee("cdkPortalOutlet",r._actionsPortal),_e(),Mi("cdk-visually-hidden",!r._closeButtonFocused),Ee("color",r.color||"primary"),_e(),Za(r._closeButtonText)}},dependencies:[u6,Wk,ol,Dr],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-app-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-app-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-app-corner-large))}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-app-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[P8.transformPanel,P8.fadeInCalendar]},changeDetection:0});let i=e;return i})(),L8=(()=>{let e=class e{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(n){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(n){this._color=n}get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(n){n!==this._disabled&&(this._disabled=n,this.stateChanges.next(void 0))}get panelClass(){return this._panelClass}set panelClass(n){this._panelClass=U5(n)}get opened(){return this._opened}set opened(n){n?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(n,o,r,s,a,l,d){this._overlay=n,this._viewContainerRef=r,this._dateAdapter=a,this._dir=l,this._model=d,this._inputStateChanges=Xn.EMPTY,this._document=Ge(jt),this.startView="month",this.touchUi=!1,this.xPosition="start",this.yPosition="below",this.restoreFocus=!0,this.yearSelected=new St,this.monthSelected=new St,this.viewChanged=new St(!0),this.openedStream=new St,this.closedStream=new St,this._opened=!1,this.id=`mat-datepicker-${sfe++}`,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new Tt,this._injector=Ge(En),this._changeDetectorRef=Ge(Vn),this._dateAdapter,this._scrollStrategy=s,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(n){let o=n.xPosition||n.yPosition;if(o&&!o.firstChange&&this._overlayRef){let r=this._overlayRef.getConfig().positionStrategy;r instanceof m0&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(n){this._model.add(n)}_selectYear(n){this.yearSelected.emit(n)}_selectMonth(n){this.monthSelected.emit(n)}_viewChanged(n){this.viewChanged.emit(n)}registerInput(n){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=n,this._inputStateChanges=n.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(n){this._actionsPortal,this._actionsPortal=n,this._componentRef?.instance._assignActions(n,!0)}removeActions(n){n===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=Ru(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let n=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",o=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:r,location:s}=this._componentRef;r._startExitAnimation(),r._animationDone.pipe(Jo(1)).subscribe(()=>{let a=this._document.activeElement;n&&(!a||a===this._document.activeElement||s.nativeElement.contains(a))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}n?setTimeout(o):o()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(n){n.datepicker=this,n.color=this.color,n._dialogLabelId=this.datepickerInput.getOverlayLabelId(),n._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let n=this.touchUi,o=new ma(W8,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new sl({positionStrategy:n?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[n?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:n?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:`mat-datepicker-${n?"dialog":"popup"}`}));this._getCloseStream(r).subscribe(s=>{s&&s.preventDefault(),this.close()}),r.keydownEvents().subscribe(s=>{let a=s.keyCode;(a===38||a===40||a===37||a===39||a===33||a===34)&&s.preventDefault()}),this._componentRef=r.attach(o),this._forwardContentValues(this._componentRef.instance),n||Us(()=>{r.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){let n=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(n)}_setConnectedPositions(n){let o=this.xPosition==="end"?"end":"start",r=o==="start"?"end":"start",s=this.yPosition==="above"?"bottom":"top",a=s==="top"?"bottom":"top";return n.withPositions([{originX:o,originY:a,overlayX:o,overlayY:s},{originX:o,originY:s,overlayX:o,overlayY:a},{originX:r,originY:a,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:a}])}_getCloseStream(n){let o=["ctrlKey","shiftKey","metaKey"];return os(n.backdropClick(),n.detachments(),n.keydownEvents().pipe(Bn(r=>r.keyCode===27&&!hr(r)||this.datepickerInput&&hr(r,"altKey")&&r.keyCode===38&&o.every(s=>!hr(r,s)))))}};e.\u0275fac=function(o){return new(o||e)(oe(io),oe(_t),oe(Xa),oe($8),oe(Ir,8),oe(Nr,8),oe(ub))},e.\u0275dir=Pt({type:e,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",Ui],disabled:[2,"disabled","disabled",Ui],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",Ui],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",Ui]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[to,on]});let i=e;return i})(),qu=(()=>{let e=class e extends L8{};e.\u0275fac=(()=>{let n;return function(r){return(n||(n=Fn(e)))(r||e)}})(),e.\u0275cmp=$e({type:e,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],standalone:!0,features:[Wt([B8,{provide:L8,useExisting:e}]),yt,Wi],decls:0,vars:0,template:function(o,r){},encapsulation:2,changeDetection:0});let i=e;return i})(),Tm=class{constructor(e,t){this.target=e,this.targetElement=t,this.value=this.target.value}},dfe=(()=>{let e=class e{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(n){this._assignValueProgrammatically(n)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(n){let o=n,r=this._elementRef.nativeElement;this._disabled!==o&&(this._disabled=o,this.stateChanges.next(void 0)),o&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(n){this._model=n,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(o=>{if(this._shouldHandleChangeEvent(o)){let r=this._getValueFromModel(o.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new Tm(this,this._elementRef.nativeElement)),this.dateChange.emit(new Tm(this,this._elementRef.nativeElement))}})}constructor(n,o,r){this._elementRef=n,this._dateAdapter=o,this._dateFormats=r,this.dateChange=new St,this.dateInput=new St,this.stateChanges=new Tt,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Xn.EMPTY,this._localeSubscription=Xn.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{let a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!a||this._matchesFilter(a)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{let a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),l=this._getMinDate();return!l||!a||this._dateAdapter.compareDate(l,a)<=0?null:{matDatepickerMin:{min:l,actual:a}}},this._maxValidator=s=>{let a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),l=this._getMaxDate();return!l||!a||this._dateAdapter.compareDate(l,a)>=0?null:{matDatepickerMax:{max:l,actual:a}}},this._lastValueValid=!1,this._localeSubscription=o.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(n){cfe(n,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(n){this._validatorOnChange=n}validate(n){return this._validator?this._validator(n):null}writeValue(n){this._assignValueProgrammatically(n)}registerOnChange(n){this._cvaOnChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n}_onKeydown(n){let o=["ctrlKey","shiftKey","metaKey"];hr(n,"altKey")&&n.keyCode===40&&o.every(s=>!hr(n,s))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),n.preventDefault())}_onInput(n){let o=this._lastValueValid,r=this._dateAdapter.parse(n,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);let s=!this._dateAdapter.sameDate(r,this.value);!r||s?this._cvaOnChange(r):(n&&!this.value&&this._cvaOnChange(r),o!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(r),this.dateInput.emit(new Tm(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Tm(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(n){this._elementRef.nativeElement.value=n!=null?this._dateAdapter.format(n,this._dateFormats.display.dateInput):""}_assignValue(n){this._model?(this._assignValueToModel(n),this._pendingValue=null):this._pendingValue=n}_isValidValue(n){return!n||this._dateAdapter.isValid(n)}_parentDisabled(){return!1}_assignValueProgrammatically(n){n=this._dateAdapter.deserialize(n),this._lastValueValid=this._isValidValue(n),n=this._dateAdapter.getValidDateOrNull(n),this._assignValue(n),this._formatValue(n)}_matchesFilter(n){let o=this._getDateFilter();return!o||o(n)}};e.\u0275fac=function(o){return new(o||e)(oe(At),oe(Ir,8),oe(Bu,8))},e.\u0275dir=Pt({type:e,inputs:{value:"value",disabled:[2,"disabled","disabled",Ui]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[to,on]});let i=e;return i})();function cfe(i,e){let t=Object.keys(i);for(let n of t){let{previousValue:o,currentValue:r}=i[n];if(e.isDateInstance(o)&&e.isDateInstance(r)){if(!e.sameDate(o,r))return!0}else return!0}return!1}var ufe={provide:ua,useExisting:er(()=>od),multi:!0},hfe={provide:Ul,useExisting:er(()=>od),multi:!0},od=(()=>{let e=class e extends dfe{set matDatepicker(n){n&&(this._datepicker=n,this._ariaOwns.set(n.opened?n.id:null),this._closedSubscription=n.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=n.openedStream.subscribe(()=>{this._ariaOwns.set(n.id)}),this._registerModel(n.registerInput(this)))}get min(){return this._min}set min(n){let o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n));this._dateAdapter.sameDate(o,this._min)||(this._min=o,this._validatorOnChange())}get max(){return this._max}set max(n){let o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n));this._dateAdapter.sameDate(o,this._max)||(this._max=o,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(n){let o=this._matchesFilter(this.value);this._dateFilter=n,this._matchesFilter(this.value)!==o&&this._validatorOnChange()}constructor(n,o,r,s){super(n,o,r),this._formField=s,this._closedSubscription=Xn.EMPTY,this._openedSubscription=Xn.EMPTY,this._ariaOwns=vu(null),this._validator=Ri.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(n){return n}_assignValueToModel(n){this._model&&this._model.updateSelection(n,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(n){return n.source!==this}};e.\u0275fac=function(o){return new(o||e)(oe(At),oe(Ir,8),oe(Bu,8),oe(Gu,8))},e.\u0275dir=Pt({type:e,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(o,r){o&1&&Et("input",function(a){return r._onInput(a.target.value)})("change",function(){return r._onChange()})("blur",function(){return r._onBlur()})("keydown",function(a){return r._onKeydown(a)}),o&2&&(ws("disabled",r.disabled),ki("aria-haspopup",r._datepicker?"dialog":null)("aria-owns",r._ariaOwns())("min",r.min?r._dateAdapter.toIso8601(r.min):null)("max",r.max?r._dateAdapter.toIso8601(r.max):null)("data-mat-calendar",r._datepicker?r._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],standalone:!0,features:[Wt([ufe,hfe,{provide:Lk,useExisting:e}]),yt]});let i=e;return i})(),pfe=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=Pt({type:e,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0});let i=e;return i})(),gc=(()=>{let e=class e{get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(n){this._disabled=n}constructor(n,o,r){this._intl=n,this._changeDetectorRef=o,this._stateChanges=Xn.EMPTY;let s=Number(r);this.tabIndex=s||s===0?s:null}ngOnChanges(n){n.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(n){this.datepicker&&!this.disabled&&(this.datepicker.open(),n.stopPropagation())}_watchStateChanges(){let n=this.datepicker?this.datepicker.stateChanges:Bt(),o=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Bt(),r=this.datepicker?os(this.datepicker.openedStream,this.datepicker.closedStream):Bt();this._stateChanges.unsubscribe(),this._stateChanges=os(this._intl.changes,n,o,r).subscribe(()=>this._changeDetectorRef.markForCheck())}};e.\u0275fac=function(o){return new(o||e)(oe(hb),oe(Vn),qa("tabindex"))},e.\u0275cmp=$e({type:e,selectors:[["mat-datepicker-toggle"]],contentQueries:function(o,r,s){if(o&1&&cn(s,pfe,5),o&2){let a;Lt(a=Nt())&&(r._customIcon=a.first)}},viewQuery:function(o,r){if(o&1&&_n(Ype,5),o&2){let s;Lt(s=Nt())&&(r._button=s.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(o,r){o&1&&Et("click",function(a){return r._open(a)}),o&2&&(ki("tabindex",null)("data-mat-calendar",r.datepicker?r.datepicker.id:null),Mi("mat-datepicker-toggle-active",r.datepicker&&r.datepicker.opened)("mat-accent",r.datepicker&&r.datepicker.color==="accent")("mat-warn",r.datepicker&&r.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",Ui],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[to,on,Wi],ngContentSelectors:Zpe,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(o,r){o&1&&(Un(Xpe),se(0,"button",1,0),ii(2,Qpe,2,0,":svg:svg",2),Hi(3),ne()),o&2&&(Ee("disabled",r.disabled)("disableRipple",r.disableRipple),ki("aria-haspopup",r.datepicker?"dialog":null)("aria-label",r.ariaLabel||r._intl.openCalendarLabel)("tabindex",r.disabled?-1:r.tabIndex),_e(2),Wn(r._customIcon?-1:2))},dependencies:[A0],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-app-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-app-on-surface-variant))}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0});let i=e;return i})();var U8=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({providers:[hb,lfe],imports:[Es,bm,ga,Jx,rl,sn,W8,gc,j8,Pu]});let i=e;return i})();var ffe=["panel"],mfe=["*"];function gfe(i,e){if(i&1){let t=gn();se(0,"div",1,0),Et("@panelAnimation.done",function(o){Xt(t);let r=xt();return Zt(r._animationDone.next(o))}),Hi(2),ne()}if(i&2){let t=e.id,n=xt();Gs(n._classList),Mi("mat-mdc-autocomplete-visible",n.showPanel)("mat-mdc-autocomplete-hidden",!n.showPanel)("mat-primary",n._color==="primary")("mat-accent",n._color==="accent")("mat-warn",n._color==="warn"),Ee("id",n.id)("@panelAnimation",n.isOpen?"visible":"hidden"),ki("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby(t))}}var _fe=la("panelAnimation",[zl("void, hidden",co({opacity:0,transform:"scaleY(0.8)"})),Lr(":enter, hidden => visible",[W3([Or("0.03s linear",co({opacity:1})),Or("0.12s cubic-bezier(0, 0, 0.2, 1)",co({transform:"scaleY(1)"}))])]),Lr(":leave, visible => hidden",[Or("0.075s linear",co({opacity:0}))])]),bfe=0,Uk=class{constructor(e,t){this.source=e,this.option=t}},G8=new ct("mat-autocomplete-default-options",{providedIn:"root",factory:vfe});function vfe(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}var K8=(()=>{let e=class e{get isOpen(){return this._isOpen&&this.showPanel}_setColor(n){this._color=n,this._changeDetectorRef.markForCheck()}set classList(n){this._classList=n,this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(n){this._hideSingleSelectionIndicator=n,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(let n of this.options)n._changeDetectorRef.markForCheck()}constructor(n,o,r,s){this._changeDetectorRef=n,this._elementRef=o,this._defaults=r,this._activeOptionChanges=Xn.EMPTY,this._animationDone=new St,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new St,this.opened=new St,this.closed=new St,this.optionActivated=new St,this.id=`mat-autocomplete-${bfe++}`,this.inertGroups=s?.SAFARI||!1,this.autoActiveFirstOption=!!r.autoActiveFirstOption,this.autoSelectActiveOption=!!r.autoSelectActiveOption,this.requireSelection=!!r.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new Zx(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(n=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[n]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(n){this.panel&&(this.panel.nativeElement.scrollTop=n)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(n){let o=new Uk(this,n);this.optionSelected.emit(o)}_getPanelAriaLabelledby(n){if(this.ariaLabel)return null;let o=n?n+" ":"";return this.ariaLabelledby?o+this.ariaLabelledby:n}_skipPredicate(){return!1}};e.\u0275fac=function(o){return new(o||e)(oe(Vn),oe(At),oe(G8),oe(rn))},e.\u0275cmp=$e({type:e,selectors:[["mat-autocomplete"]],contentQueries:function(o,r,s){if(o&1&&(cn(s,I0,5),cn(s,O0,5)),o&2){let a;Lt(a=Nt())&&(r.options=a),Lt(a=Nt())&&(r.optionGroups=a)}},viewQuery:function(o,r){if(o&1&&(_n(Ya,7),_n(ffe,5)),o&2){let s;Lt(s=Nt())&&(r.template=s.first),Lt(s=Nt())&&(r.panel=s.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",Ui],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",Ui],requireSelection:[2,"requireSelection","requireSelection",Ui],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",Ui],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Ui]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[Wt([{provide:E0,useExisting:e}]),to,Wi],ngContentSelectors:mfe,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(o,r){o&1&&(Un(),ii(0,gfe,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape, var(--mat-app-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[_fe]},changeDetection:0});let i=e;return i})();var yfe={provide:ua,useExisting:er(()=>Gk),multi:!0};var q8=new ct("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let i=Ge(io);return()=>i.scrollStrategies.reposition()}});function xfe(i){return()=>i.scrollStrategies.reposition()}var Cfe={provide:q8,deps:[io],useFactory:xfe},Gk=(()=>{let e=class e{constructor(n,o,r,s,a,l,d,c,u,h,f){this._element=n,this._overlay=o,this._viewContainerRef=r,this._zone=s,this._changeDetectorRef=a,this._dir=d,this._formField=c,this._document=u,this._viewportRuler=h,this._defaults=f,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=Xn.EMPTY,this._breakpointObserver=Ge(cm),this._handsetLandscapeSubscription=Xn.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new Tt,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._initialized=new Tt,this._injector=Ge(En),this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=Gd(()=>{let p=this.autocomplete?this.autocomplete.options:null;return p?p.changes.pipe(Er(p),yr(()=>os(...p.map(m=>m.onSelectionChange)))):this._initialized.pipe(yr(()=>this.optionSelections))}),this._handlePanelKeydown=p=>{(p.keyCode===27&&!hr(p)||p.keyCode===38&&hr(p,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),p.stopPropagation(),p.preventDefault())},this._trackedModal=null,this._scrollStrategy=l}ngAfterViewInit(){this._initialized.next(),this._initialized.complete();let n=this._getWindow();typeof n<"u"&&this._zone.runOutsideAngular(()=>n.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(n){n.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){let n=this._getWindow();typeof n<"u"&&n.removeEventListener("blur",this._windowBlurHandler),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&Qx(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return os(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Bn(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Bn(()=>this._overlayAttached)):Bt()).pipe(Oi(n=>n instanceof w0?n:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return os($n(this._document,"click"),$n(this._document,"auxclick"),$n(this._document,"touchend")).pipe(Bn(n=>{let o=Ts(n),r=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,s=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&o!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!r||!r.contains(o))&&(!s||!s.contains(o))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(o)}))}writeValue(n){Promise.resolve(null).then(()=>this._assignOptionValue(n))}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this._element.nativeElement.disabled=n}_handleKeydown(n){let o=n.keyCode,r=hr(n);if(o===27&&!r&&n.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&o===13&&this.panelOpen&&!r)this.activeOption._selectViaInteraction(),this._resetActiveItem(),n.preventDefault();else if(this.autocomplete){let s=this.autocomplete._keyManager.activeItem,a=o===38||o===40;o===9||a&&!r&&this.panelOpen?this.autocomplete._keyManager.onKeydown(n):a&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(a||this.autocomplete._keyManager.activeItem!==s)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(n){let o=n.target,r=o.value;if(o.type==="number"&&(r=r==""?null:parseFloat(r)),this._previousValue!==r){if(this._previousValue=r,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(r),!r)this._clearPreviousSelectedOption(null,!1);else if(this.panelOpen&&!this.autocomplete.requireSelection){let s=this.autocomplete.options?.find(a=>a.selected);if(s){let a=this._getDisplayValue(s.value);r!==a&&s.deselect(!1)}}if(this._canOpen()&&this._document.activeElement===n.target){let s=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(s)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(n=!1){this._formField&&this._formField.floatLabel==="auto"&&(n?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){let n=new ns(r=>{Us(()=>{r.next()},{injector:this._injector})}),o=this.autocomplete.options.changes.pipe(eo(()=>this._positionStrategy.reapplyLastPosition()),JV(0));return os(n,o).pipe(yr(()=>this._zone.run(()=>{let r=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),r!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),Jo(1)).subscribe(r=>this._setValueAndClose(r))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(n){let o=this.autocomplete;return o&&o.displayWith?o.displayWith(n):n}_assignOptionValue(n){let o=this._getDisplayValue(n);n==null&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(o??"")}_updateNativeInputValue(n){this._formField?this._formField._control.value=n:this._element.nativeElement.value=n,this._previousValue=n}_setValueAndClose(n){let o=this.autocomplete,r=n?n.source:this._pendingAutoselectedOption;r?(this._clearPreviousSelectedOption(r),this._assignOptionValue(r.value),this._onChange(r.value),o._emitSelectEvent(r),this._element.nativeElement.focus()):o.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),o._animationDone?o._animationDone.pipe(Jo(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(n,o){this.autocomplete?.options?.forEach(r=>{r!==n&&r.selected&&r.deselect(o)})}_openPanelInternal(n=this._element.nativeElement.value){if(this._attachOverlay(n),this._floatLabel(),this._trackedModal){let o=this.autocomplete.id;WD(this._trackedModal,"aria-owns",o)}}_attachOverlay(n){this.autocomplete;let o=this._overlayRef;o?(this._positionStrategy.setOrigin(this._getConnectedElement()),o.updateSize({width:this._getPanelWidth()})):(this._portal=new nl(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),o=this._overlay.create(this._getOverlayConfig()),this._overlayRef=o,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&o&&o.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(qx.HandsetLandscape).subscribe(s=>{s.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),o&&!o.hasAttached()&&(o.attach(this._portal),this._valueOnAttach=n,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());let r=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&r!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){let n=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=n.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=n.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new sl({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){let n=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(n),this._positionStrategy=n,n}_setStrategyPositions(n){let o=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r=this._aboveClass,s=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:r},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:r}],a;this.position==="above"?a=s:this.position==="below"?a=o:a=[...o,...s],n.withPositions(a)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){let n=this.autocomplete;if(n.autoActiveFirstOption){let o=-1;for(let r=0;r<n.options.length;r++)if(!n.options.get(r).disabled){o=r;break}n._keyManager.setActiveItem(o)}else n._keyManager.setActiveItem(-1)}_canOpen(){let n=this._element.nativeElement;return!n.readOnly&&!n.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(n){let o=this.autocomplete,r=rT(n,o.options,o.optionGroups);if(n===0&&r===1)o._setScrollTop(0);else if(o.panel){let s=o.options.toArray()[n];if(s){let a=s._getHostElement(),l=sT(a.offsetTop,a.offsetHeight,o._getScrollTop(),o.panel.nativeElement.offsetHeight);o._setScrollTop(l)}}}_applyModalPanelOwnership(){let n=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!n)return;let o=this.autocomplete.id;this._trackedModal&&Qx(this._trackedModal,"aria-owns",o),WD(n,"aria-owns",o),this._trackedModal=n}_clearFromModal(){if(this._trackedModal){let n=this.autocomplete.id;Qx(this._trackedModal,"aria-owns",n),this._trackedModal=null}}};e.\u0275fac=function(o){return new(o||e)(oe(At),oe(io),oe(Xa),oe(_t),oe(Vn),oe(q8),oe(Nr,8),oe(Gu,9),oe(jt,8),oe(p0),oe(G8,8))},e.\u0275dir=Pt({type:e,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(o,r){o&1&&Et("focusin",function(){return r._handleFocus()})("blur",function(){return r._onTouched()})("input",function(a){return r._handleInput(a)})("keydown",function(a){return r._handleKeydown(a)})("click",function(){return r._handleClick()}),o&2&&ki("autocomplete",r.autocompleteAttribute)("role",r.autocompleteDisabled?null:"combobox")("aria-autocomplete",r.autocompleteDisabled?null:"list")("aria-activedescendant",r.panelOpen&&r.activeOption?r.activeOption.id:null)("aria-expanded",r.autocompleteDisabled?null:r.panelOpen.toString())("aria-controls",r.autocompleteDisabled||!r.panelOpen||r.autocomplete==null?null:r.autocomplete.id)("aria-haspopup",r.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",Ui]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[Wt([yfe]),to,on]});let i=e;return i})(),Y8=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({providers:[Cfe],imports:[ga,_m,sn,Es,Pu,_m,sn]});let i=e;return i})();function Sfe(i,e){if(i&1&&(se(0,"mat-option",19),me(1),ne()),i&2){let t=e.$implicit;Ee("value",t),_e(),Ss(" ",t," ")}}function Efe(i,e){if(i&1&&(se(0,"mat-optgroup",17),ii(1,Sfe,2,2,"mat-option",18),ne()),i&2){let t=e.$implicit;Ee("label",t.group),_e(),Ee("ngForOf",t.items)}}function Ofe(i,e){i&1&&(se(0,"mat-error"),me(1," Bir yer se\xE7mek zorunludur. "),ne())}function Ife(i,e){i&1&&(se(0,"mat-error"),me(1," Bak\u0131m\u0131 yapan ki\u015Fi zorunludur. "),ne())}function Dfe(i,e){i&1&&(se(0,"mat-error"),me(1," Bak\u0131m\u0131 yapan ki\u015Fi en az 3 karakter olmal\u0131d\u0131r. "),ne())}function Tfe(i,e){i&1&&(se(0,"mat-error"),me(1," Bak\u0131m\u0131 yapan ki\u015Fi en fazla 64 karakter olmal\u0131d\u0131r. "),ne())}function Afe(i,e){i&1&&(se(0,"mat-error"),me(1," Bak\u0131m Yap\u0131lma Tarihi zorunludur. "),ne())}function kfe(i,e){i&1&&(se(0,"mat-error"),me(1," G\xFCvenlik personeli zorunludur. "),ne())}function Mfe(i,e){i&1&&(se(0,"mat-error"),me(1," G\xFCvenlik personeli en az 3 karakter olmal\u0131d\u0131r. "),ne())}function Rfe(i,e){i&1&&(se(0,"mat-error"),me(1," G\xFCvenlik personeli en fazla 64 karakter olmal\u0131d\u0131r. "),ne())}var Q8=(()=>{let e=class e{constructor(n,o,r,s,a){this.fb=n,this.platformId=o,this.backendService=r,this.DcToastService=s,this.dialog=a,this.locationControl=new em(""),this.locations=W5}ngOnInit(){if(this.maintenanceForm=this.fb.group({maintenanceId:[{value:""}],locationControl:["",Ri.required],maintenancePerson:["",[Ri.required,Ri.minLength(3),Ri.maxLength(64)]],maintenanceDate:[new Date,[Ri.required]],maintenanceDescription:[""],securityPersonnel:["",[Ri.required,Ri.minLength(3),Ri.maxLength(64)]]}),this.filteredLocations=this.locationControl.valueChanges.pipe(Er(""),Oi(n=>this.filterLocations(n||""))),this.backendService.generateFormId().subscribe({next:n=>{this.maintenanceForm.patchValue({maintenanceId:n.formId})},error:()=>{this.DcToastService.create({allowTimeBar:!0,closeButtonPosition:"right",closeWithHover:!0,content:"Form ID olu\u015Fturulamad\u0131.",position:"bottom-center",time:3,showCloseButton:!0,type:"error"})}}),D_(this.platformId)){let n=localStorage.getItem("maintenanceLocation");this.maintenanceForm.patchValue({locationControl:n||"",maintenancePerson:localStorage.getItem("maintenancePerson")||"",securityPersonnel:localStorage.getItem("securityPersonnel")||""}),n&&this.locationControl.setValue(n)}}filterLocations(n){let o=n.toLowerCase();return this.locations.map(r=>({group:r.group,items:r.items.filter(s=>s.toLowerCase().includes(o))})).filter(r=>r.items.length>0)}onSubmit(){this.maintenanceForm.valid?Z8.default.fire({title:"Emin Misin?",text:"Girdi\u011Finiz bilgileriniz ile form g\xF6nderilecektirsin mi?",showCancelButton:!0,confirmButtonColor:"var(--mdc-protected-button-label-text-color, var(--mat-app-primary))",cancelButtonColor:"var(--mat-form-field-error-text-color)",focusCancel:!0,cancelButtonText:"Hay\u0131r",confirmButtonText:"Evet"}).then(n=>{n.isConfirmed&&this.sendForm()}):this.DcToastService.create({allowTimeBar:!0,closeButtonPosition:"right",closeWithHover:!0,content:"L\xFCtfen t\xFCm zorunlu alanlar\u0131 doldurun.",position:"bottom-center",time:3,showCloseButton:!0,type:"warn"})}sendForm(){D_(this.platformId)&&(localStorage.setItem("maintenanceLocation",this.maintenanceForm.value.locationControl||""),localStorage.setItem("maintenancePerson",this.maintenanceForm.value.maintenancePerson||""),localStorage.setItem("securityPersonnel",this.maintenanceForm.value.securityPersonnel||"")),this.backendService.submitForm(this.maintenanceForm.value,{responseType:"blob"}).subscribe({next:n=>{this.DcToastService.create({allowTimeBar:!0,closeButtonPosition:"right",closeWithHover:!0,content:"Form ba\u015Far\u0131yla g\xF6nderildi!",position:"bottom-center",time:3,showCloseButton:!0,type:"success"});let o=new FileReader;o.onloadend=()=>{let r=o.result;this.openPdfDialog(r)},o.readAsDataURL(n)},error:n=>{this.DcToastService.create({allowTimeBar:!0,closeButtonPosition:"right",closeWithHover:!0,content:"Bir hata olu\u015Ftu: "+(n.error?.message||n.message),position:"bottom-center",time:3,showCloseButton:!0,type:"error"})}})}showDownloadPrompt(n){if(confirm("PDF dosyas\u0131n\u0131 indirmek ister misiniz?")){let o=`${this.maintenanceForm.value.maintenanceId}.pdf`;(0,X8.saveAs)(n,o)}}openPdfDialog(n){this.dialog.open(Uu,{data:{pdfSrc:n},width:"80%",height:"80%"})}copyToClipboard(){let n=document.querySelector('input[formControlName="maintenanceId"]');n?(n.select(),document.execCommand("copy"),this.DcToastService.create({allowTimeBar:!0,closeButtonPosition:"right",closeWithHover:!0,content:"ID kopyaland\u0131!",position:"bottom-center",time:2,showCloseButton:!0,type:"info"})):this.DcToastService.create({allowTimeBar:!0,closeButtonPosition:"right",closeWithHover:!0,content:"ID kopyalanamad\u0131.",position:"bottom-center",time:2,showCloseButton:!0,type:"warn"})}};e.\u0275fac=function(o){return new(o||e)(oe(Yl),oe(tr),oe(nr),oe(hl),oe(al))},e.\u0275cmp=$e({type:e,selectors:[["app-form"]],decls:51,vars:15,consts:[["auto","matAutocomplete"],["picker",""],[1,"form-container"],[3,"ngSubmit","formGroup"],[2,"display","flex","justify-content","center"],["appearance","fill",3,"click"],["matInput","","formControlName","maintenanceId","readonly",""],["appearance","fill"],["type","text","matInput","","formControlName","locationControl","placeholder","\u0130stasyon ara",3,"matAutocomplete"],[3,"label",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","maintenancePerson","required",""],["matInput","","formControlName","maintenanceDate",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","maintenanceDescription"],["matInput","","formControlName","securityPersonnel","required",""],["mat-flat-button","","color","primary","type","submit"],[3,"label"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(o,r){if(o&1){let s=gn();se(0,"div",2)(1,"form",3),Et("ngSubmit",function(){return Xt(s),Zt(r.onSubmit())}),se(2,"h3",4),me(3,"Bak\u0131m Formu"),ne(),se(4,"div")(5,"mat-form-field",5),Et("click",function(){return Xt(s),Zt(r.copyToClipboard())}),se(6,"mat-label"),me(7,"Bak\u0131m Formu ID"),ne(),je(8,"input",6),ne()(),se(9,"div")(10,"mat-form-field",7)(11,"mat-label"),me(12,"Bir yer se\xE7in"),ne(),je(13,"input",8),se(14,"mat-autocomplete",null,0),ii(16,Efe,2,2,"mat-optgroup",9),x3(17,"async"),ne(),ii(18,Ofe,2,0,"mat-error",10),ne()(),se(19,"div")(20,"mat-form-field",7)(21,"mat-label"),me(22,"Bak\u0131m\u0131 Yapan Ki\u015Fi"),ne(),je(23,"input",11),ii(24,Ife,2,0,"mat-error",10)(25,Dfe,2,0,"mat-error",10)(26,Tfe,2,0,"mat-error",10),ne()(),se(27,"div")(28,"mat-form-field",7)(29,"mat-label"),me(30,"Bak\u0131m Yap\u0131lma Tarihi"),ne(),je(31,"input",12),ii(32,Afe,2,0,"mat-error",10),je(33,"mat-datepicker-toggle",13)(34,"mat-datepicker",null,1),ne()(),se(36,"div")(37,"mat-form-field",7)(38,"mat-label"),me(39,"Bak\u0131m Yapan\u0131n A\xE7\u0131klamas\u0131"),ne(),je(40,"textarea",14),ne()(),se(41,"div")(42,"mat-form-field",7)(43,"mat-label"),me(44,"G\xFCvenlik Personeli"),ne(),je(45,"input",15),ii(46,kfe,2,0,"mat-error",10)(47,Mfe,2,0,"mat-error",10)(48,Rfe,2,0,"mat-error",10),ne()(),se(49,"button",16),me(50,"Formu G\xF6nder"),ne()()()}if(o&2){let s,a,l,d,c,u,h,f,p=rs(15),m=rs(35);_e(),Ee("formGroup",r.maintenanceForm),_e(12),Ee("matAutocomplete",p),_e(3),Ee("ngForOf",C3(17,13,r.filteredLocations)),_e(2),Ee("ngIf",(s=r.maintenanceForm.get("locationControl"))==null?null:s.hasError("required")),_e(6),Ee("ngIf",(a=r.maintenanceForm.get("maintenancePerson"))==null?null:a.hasError("required")),_e(),Ee("ngIf",(l=r.maintenanceForm.get("maintenancePerson"))==null?null:l.hasError("minlength")),_e(),Ee("ngIf",(d=r.maintenanceForm.get("maintenancePerson"))==null?null:d.hasError("maxlength")),_e(5),Ee("matDatepicker",m),_e(),Ee("ngIf",(c=r.maintenanceForm.get("maintenanceDate"))==null?null:c.hasError("required")),_e(),Ee("for",m),_e(13),Ee("ngIf",(u=r.maintenanceForm.get("securityPersonnel"))==null?null:u.hasError("required")),_e(),Ee("ngIf",(h=r.maintenanceForm.get("securityPersonnel"))==null?null:h.hasError("minlength")),_e(),Ee("ngIf",(f=r.maintenanceForm.get("securityPersonnel"))==null?null:f.hasError("maxlength"))}},dependencies:[Jy,wu,nd,id,ya,bw,td,I0,I6,Dr,qu,od,gc,ql,ha,Gl,Kl,ec,Ds,el,K8,Gk,z3],styles:['@charset "UTF-8";.form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;margin:0}form[_ngcontent-%COMP%]{max-width:600px;width:100%;background:#fff;padding:20px;border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px))!important;box-shadow:0 4px 8px #0006}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:12px}button[_ngcontent-%COMP%]{margin-top:20px;width:100%}input[_ngcontent-%COMP%]:read-only{pointer-events:none;opacity:.5;transition:none!important}']});let i=e;return i})();var iz=is(mp());var Ffe=["input"],Pfe=["label"],Lfe=["*"],Nfe=new ct("mat-checkbox-default-options",{providedIn:"root",factory:ez});function ez(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var jr=function(i){return i[i.Init=0]="Init",i[i.Checked=1]="Checked",i[i.Unchecked=2]="Unchecked",i[i.Indeterminate=3]="Indeterminate",i}(jr||{}),Bfe={provide:ua,useExisting:er(()=>Yu),multi:!0},Kk=class{},Vfe=0,J8=ez(),Yu=(()=>{let e=class e{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(n){let o=new Kk;return o.source=this,o.checked=n,o}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(n,o,r,s,a,l){this._elementRef=n,this._changeDetectorRef=o,this._ngZone=r,this._animationMode=a,this._options=l,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new St,this.indeterminateChange=new St,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=jr.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||J8,this.color=this._options.color||J8.color,this.tabIndex=parseInt(s)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++Vfe}`,this.disabledInteractive=l?.disabledInteractive??!1}ngOnChanges(n){n.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(n){n!=this.checked&&(this._checked=n,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(n){n!==this.disabled&&(this._disabled=n,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(n){let o=n!=this._indeterminate;this._indeterminate=n,o&&(this._indeterminate?this._transitionCheckState(jr.Indeterminate):this._transitionCheckState(this.checked?jr.Checked:jr.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(n){this.checked=!!n}registerOnChange(n){this._controlValueAccessorChangeFn=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n}validate(n){return this.required&&n.value!==!0?{required:!0}:null}registerOnValidatorChange(n){this._validatorChangeFn=n}_transitionCheckState(n){let o=this._currentCheckState,r=this._getAnimationTargetElement();if(!(o===n||!r)&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(o,n),this._currentCheckState=n,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);let s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let n=this._options?.clickAction;!this.disabled&&n!=="noop"?(this.indeterminate&&n!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?jr.Checked:jr.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&n==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(n){n.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(n,o){if(this._animationMode==="NoopAnimations")return"";switch(n){case jr.Init:if(o===jr.Checked)return this._animationClasses.uncheckedToChecked;if(o==jr.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case jr.Unchecked:return o===jr.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case jr.Checked:return o===jr.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case jr.Indeterminate:return o===jr.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(n){let o=this._inputElement;o&&(o.nativeElement.indeterminate=n)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(n){n.target&&this._labelElement.nativeElement.contains(n.target)&&n.stopPropagation()}};e.\u0275fac=function(o){return new(o||e)(oe(At),oe(Vn),oe(_t),qa("tabindex"),oe($o,8),oe(Nfe,8))},e.\u0275cmp=$e({type:e,selectors:[["mat-checkbox"]],viewQuery:function(o,r){if(o&1&&(_n(Ffe,5),_n(Pfe,5),_n(S0,5)),o&2){let s;Lt(s=Nt())&&(r._inputElement=s.first),Lt(s=Nt())&&(r._labelElement=s.first),Lt(s=Nt())&&(r.ripple=s.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(o,r){o&2&&(ws("id",r.id),ki("tabindex",null)("aria-label",null)("aria-labelledby",null),Gs(r.color?"mat-"+r.color:"mat-accent"),Mi("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked)("mat-mdc-checkbox-disabled-interactive",r.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",Ui],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",Ui],tabIndex:[2,"tabIndex","tabIndex",n=>n==null?void 0:Zy(n)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Ui],checked:[2,"checked","checked",Ui],disabled:[2,"disabled","disabled",Ui],indeterminate:[2,"indeterminate","indeterminate",Ui]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[Wt([Bfe,{provide:Ul,useExisting:e,multi:!0}]),to,on,Wi],ngContentSelectors:Lfe,decls:15,vars:20,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(o,r){if(o&1){let s=gn();Un(),se(0,"div",3),Et("click",function(l){return Xt(s),Zt(r._preventBubblingFromLabel(l))}),se(1,"div",4,0)(3,"div",5),Et("click",function(){return Xt(s),Zt(r._onTouchTargetClick())}),ne(),se(4,"input",6,1),Et("blur",function(){return Xt(s),Zt(r._onBlur())})("click",function(){return Xt(s),Zt(r._onInputClick())})("change",function(l){return Xt(s),Zt(r._onInteractionEvent(l))}),ne(),je(6,"div",7),se(7,"div",8),Ff(),se(8,"svg",9),je(9,"path",10),ne(),Ly(),je(10,"div",11),ne(),je(11,"div",12),ne(),se(12,"label",13,2),Hi(14),ne()()}if(o&2){let s=rs(2);Ee("labelPosition",r.labelPosition),_e(4),Mi("mdc-checkbox--selected",r.checked),Ee("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled&&!r.disabledInteractive)("id",r.inputId)("required",r.required)("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex),ki("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("aria-disabled",r.disabled&&r.disabledInteractive?!0:null)("name",r.name)("value",r.value),_e(7),Ee("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),_e(),Ee("for",r.inputId)}},dependencies:[S0,T6],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.cdk-high-contrast-active .mdc-checkbox--disabled{opacity:.5}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-app-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-app-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.cdk-high-contrast-active .mdc-checkbox--disabled .mdc-checkbox__checkmark,.cdk-high-contrast-active .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let i=e;return i})();var tz=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({imports:[Yu,sn,sn]});let i=e;return i})();var nz=(()=>{let e=class e{constructor(n,o,r){this.fb=n,this.backend=o,this.dialog=r,this.isSubmitActive=!0,this.inspectionForm=this.fb.group({genelBilgiler:this.fb.group({tarih:[new Date,Ri.required],musteriAdi:["",Ri.required],musteriAdresi:["",Ri.required]}),kabinBakimi:this.fb.group({kapiMekanizmasi:[],kapiPatenleri:[],makaralar:[],kabinButonyeri:[],dijitalGostergeler:[],halatAskisi:[],patenler:[],yagdanliklar:[],klemensKutulari:[],kontaklar:[],durusKalitesi:[],halatGevsemeKontagi:[],revizyonButonu:[]}),emniyetBakimlari:this.fb.group({frenler:[],kapiCamlar:[],sogutmaFani:[],kapiKilitleri:[],kapiFisKontaklari:[],sinyalLambalari:[],fotoseller:[],stopDugmesi:[],alarm:[],tesisatinGenelDurumu:[],temizlik:[]}),makinaDairesiKontrolleri:this.fb.group({hidrolikKazan:[],takometre:[],tahrikKasnagi:[],akuplamaDisliBoglugu:[],yatakKontrolu:[],yag:[],kontaktorRolu:[],baglantiKlemensler:[],motorKabloFani:[],kumandaGerilimOlcumu:[],anaSalter:[],frenManyetik:[],saptrmaKasnagi:[],kumandaTablosu:[],makinaMotorTemizligi:[],makinaDairesiTemizligi:[]}),kuyuVeKabinBaglantilari:this.fb.group({kapiKontaklari:[],kapiYayiVeZinciri:[],kapiAcmaManyetigi:[],kapiDiktatoru:[],otomatikKapisiKayislari:[],makaralarMekanizmalar:[],svicler:[],kapiMotorFren:[],otomatikKapiPanelVeKablosu:[],butonyerler:[],kuyuBilgiSetleri:[],fleksibilKabloKontrolu:[],saptirmaMakaralari:[],katKapilari:[],kilitKollariAyarlar:[],halatGevsemeKontagi:[],limitSalterleri:[],kabinVeAgirlikRayTijleri:[],regulatorKarsiAgirlikSvic:[],takometre:[],dengeZinciri:[],tamponVeSvicler:[],kabinHalatlari:[],hidrolikPiston:[],kutuVeKuyuDibiTemizligi:[]}),yedekParcaAciklama:[""],bakimEkibi:["",Ri.required],yetkili:["",Ri.required],baslangicSaati:["",Ri.required],bitisSaati:["",Ri.required],istekVeDusunceler:[""]})}onSubmit(){iz.default.fire({title:"Emin misiniz?",text:"Kaydetmek istedi\u011Finize emin misiniz ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Evet",cancelButtonText:"Hay\u0131r"}).then(n=>{if(n.isConfirmed){this.isSubmitActive=!1;let o=JSON.parse(localStorage.getItem("userData")||"{}"),r=ci(Le({},this.inspectionForm.value),{user:{name:o.name||"",surname:o.surname||"",phone:o.phone||""}});this.backend.addDataBlob("elevator-maintenance",r).subscribe(s=>{let a=new FileReader;a.onloadend=()=>{let l=a.result;this.openPdfDialog(l)},a.readAsDataURL(new Blob([s]))})}})}openPdfDialog(n){this.dialog.open(Uu,{data:{pdfSrc:n},width:"80%",height:"80%",disableClose:!0}).afterClosed().subscribe(()=>{this.isSubmitActive=!0})}};e.\u0275fac=function(o){return new(o||e)(oe(Yl),oe(nr),oe(al))},e.\u0275cmp=$e({type:e,selectors:[["app-asansor-bakim"]],decls:193,vars:4,consts:[["picker",""],[1,"form-container"],[3,"ngSubmit","formGroup"],["formGroupName","genelBilgiler",1,"form-group"],["appearance","fill"],["matInput","","formControlName","tarih",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","musteriAdi","required",""],["matInput","","formControlName","musteriAdresi","required",""],["formGroupName","kabinBakimi",1,"form-group"],[1,"grid-form"],["formControlName","kapiMekanizmasi"],["formControlName","kapiPatenleri"],["formControlName","makaralar"],["formControlName","kabinButonyeri"],["formControlName","dijitalGostergeler"],["formControlName","halatAskisi"],["formControlName","patenler"],["formControlName","yagdanliklar"],["formControlName","klemensKutulari"],["formControlName","kontaklar"],["formControlName","durusKalitesi"],["formControlName","halatGevsemeKontagi"],["formGroupName","emniyetBakimlari",1,"form-group"],["formControlName","frenler"],["formControlName","kapiCamlar"],["formControlName","sogutmaFani"],["formControlName","kapiKilitleri"],["formControlName","kapiFisKontaklari"],["formControlName","sinyalLambalari"],["formControlName","fotoseller"],["formControlName","stopDugmesi"],["formControlName","alarm"],["formControlName","tesisatinGenelDurumu"],["formControlName","temizlik"],["formGroupName","makinaDairesiKontrolleri",1,"form-group"],["formControlName","hidrolikKazan"],["formControlName","takometre"],["formControlName","tahrikKasnagi"],["formControlName","akuplamaDisliBoglugu"],["formControlName","yatakKontrolu"],["formControlName","yag"],["formControlName","kontaktorRolu"],["formControlName","baglantiKlemensler"],["formControlName","motorKabloFani"],["formControlName","kumandaGerilimOlcumu"],["formControlName","anaSalter"],["formControlName","frenManyetik"],["formControlName","saptrmaKasnagi"],["formControlName","kumandaTablosu"],["formControlName","makinaMotorTemizligi"],["formControlName","makinaDairesiTemizligi"],["formGroupName","kuyuVeKabinBaglantilari",1,"form-group"],["formControlName","kapiKontaklari"],["formControlName","kapiYayiVeZinciri"],["formControlName","kapiAcmaManyetigi"],["formControlName","kapiDiktatoru"],["formControlName","otomatikKapisiKayislari"],["formControlName","makaralarMekanizmalar"],["formControlName","svicler"],["formControlName","kapiMotorFren"],["formControlName","otomatikKapiPanelVeKablosu"],["formControlName","butonyerler"],["formControlName","kuyuBilgiSetleri"],["formControlName","fleksibilKabloKontrolu"],["formControlName","saptirmaMakaralari"],["formControlName","katKapilari"],["formControlName","kilitKollariAyarlar"],["formControlName","limitSalterleri"],["formControlName","kabinVeAgirlikRayTijleri"],["formControlName","regulatorKarsiAgirlikSvic"],["formControlName","dengeZinciri"],["formControlName","tamponVeSvicler"],["formControlName","kabinHalatlari"],["formControlName","hidrolikPiston"],["formControlName","kutuVeKuyuDibiTemizligi"],[1,"form-group"],["matInput","","formControlName","yedekParcaAciklama"],["matInput","","formControlName","bakimEkibi","placeholder","Ad SOYAD, Ad SOYAD ..."],["matInput","","formControlName","yetkili","placeholder","Ad SOYAD"],["matInput","","formControlName","istekVeDusunceler"],["matInput","","type","time","id","appt","name","appt","formControlName","baslangicSaati",1,"time-picker"],["matInput","","type","time","id","appt","name","appt","formControlName","bitisSaati",1,"time-picker"],["mat-raised-button","","color","primary","type","submit",1,"submit-button",3,"disabled"]],template:function(o,r){if(o&1){let s=gn();se(0,"div",1)(1,"form",2),Et("ngSubmit",function(){return Xt(s),Zt(r.onSubmit())}),se(2,"div",3)(3,"h5"),me(4,"Genel Bilgiler"),ne(),se(5,"mat-form-field",4)(6,"mat-label"),me(7,"Tarih"),ne(),je(8,"input",5)(9,"mat-datepicker-toggle",6)(10,"mat-datepicker",null,0),ne(),se(12,"mat-form-field",4)(13,"mat-label"),me(14,"M\xFC\u015Fteri Ad\u0131"),ne(),je(15,"input",7),ne(),se(16,"mat-form-field",4)(17,"mat-label"),me(18,"M\xFC\u015Fteri Adresi"),ne(),je(19,"input",8),ne()(),se(20,"div",9)(21,"h5"),me(22,"Kabin Bak\u0131m\u0131"),ne(),se(23,"div",10)(24,"mat-checkbox",11),me(25," Kap\u0131 Mekanizmas\u0131 "),ne(),se(26,"mat-checkbox",12),me(27,"Kap\u0131 Pateni"),ne(),se(28,"mat-checkbox",13),me(29,"Makaralar"),ne(),se(30,"mat-checkbox",14),me(31," Kabin Butonyeri "),ne(),se(32,"mat-checkbox",15),me(33," Dijital G\xF6stergeler "),ne(),se(34,"mat-checkbox",16),me(35,"Halat Ask\u0131s\u0131"),ne(),se(36,"mat-checkbox",11),me(37,"Patenler"),ne(),se(38,"mat-checkbox",17),me(39,"Ya\u011Fdanl\u0131klar"),ne(),se(40,"mat-checkbox",18),me(41," Klemens Kutular\u0131 "),ne(),se(42,"mat-checkbox",19),me(43,"Kontaklar"),ne(),se(44,"mat-checkbox",20),me(45,"Duru\u015F Kalitesi"),ne(),se(46,"mat-checkbox",21),me(47," Halat Gev\u015Feme Konta\u011F\u0131 "),ne(),se(48,"mat-checkbox",22),me(49," Revizyon Butonu "),ne()()(),se(50,"div",23)(51,"h5"),me(52,"Emniyet Bak\u0131mlar\u0131"),ne(),se(53,"div",10)(54,"mat-checkbox",24),me(55,"Frenler"),ne(),se(56,"mat-checkbox",25),me(57,"Kap\u0131 Camlar\u0131"),ne(),se(58,"mat-checkbox",26),me(59,"So\u011Futma Fan\u0131"),ne(),se(60,"mat-checkbox",27),me(61," Kap\u0131 Kilitleri "),ne(),se(62,"mat-checkbox",28),me(63," Kap\u0131 Fi\u015F Kontaklar\u0131 "),ne(),se(64,"mat-checkbox",29),me(65," Sinyal Lambalar\u0131 "),ne(),se(66,"mat-checkbox",30),me(67,"Fotoseller"),ne(),se(68,"mat-checkbox",31),me(69,"Stop d\xFC\u011Fmesi"),ne(),se(70,"mat-checkbox",32),me(71,"Alarm"),ne(),se(72,"mat-checkbox",33),me(73," Tesisat\u0131n Genel Durumu "),ne(),se(74,"mat-checkbox",34),me(75,"Temizlik"),ne()()(),se(76,"div",35)(77,"h5"),me(78,"Makina Dairesi Kontrolleri"),ne(),se(79,"div",10)(80,"mat-checkbox",36),me(81," Hidrolik Kazan "),ne(),se(82,"mat-checkbox",37),me(83,"Takometre"),ne(),se(84,"mat-checkbox",38),me(85," Tahrik Kasna\u011F\u0131 "),ne(),se(86,"mat-checkbox",39),me(87," Akuplama Di\u015Fli Bo\u011Flu\u011Fu "),ne(),se(88,"mat-checkbox",40),me(89," Yatak Kontrol\xFC "),ne(),se(90,"mat-checkbox",41),me(91,"Ya\u011F"),ne(),se(92,"mat-checkbox",42),me(93," Kontakt\xF6r/Kontakt\xF6r R\xF6le "),ne(),se(94,"mat-checkbox",43),me(95," Ba\u011Flant\u0131 Klemensler "),ne(),se(96,"mat-checkbox",44),me(97," Motor Kablo Fan\u0131 "),ne(),se(98,"mat-checkbox",45),me(99," Kumanda Gerilim \xD6l\xE7\xFCm\xFC "),ne(),se(100,"mat-checkbox",46),me(101,"Ana \u015Ealter"),ne(),se(102,"mat-checkbox",47),me(103," Fren Manyetik "),ne(),se(104,"mat-checkbox",48),me(105," Sapt\u0131rma Kasna\u011F\u0131 "),ne(),se(106,"mat-checkbox",49),me(107," Kumanda Ttablosu "),ne(),se(108,"mat-checkbox",50),me(109," Makina Motor Temizli\u011Fi "),ne(),se(110,"mat-checkbox",51),me(111," Makina Dairesi Temizli\u011Fi "),ne()()(),se(112,"div",52)(113,"h5"),me(114,"Kuyu ve Kabin Ba\u011Flant\u0131lar\u0131"),ne(),se(115,"div",10)(116,"mat-checkbox",53),me(117," Kap\u0131 Kontaklar\u0131 "),ne(),se(118,"mat-checkbox",54),me(119," Kap\u0131 Yay\u0131 ve Zinciri "),ne(),se(120,"mat-checkbox",55),me(121," Kap\u0131 A\xE7ma Manyeti\u011Fi "),ne(),se(122,"mat-checkbox",56),me(123," Kap\u0131 Diktat\xF6r\xFC "),ne(),se(124,"mat-checkbox",57),me(125," Otomatik Kap\u0131\u015F\u0131 Kay\u0131\u015Flar\u0131 "),ne(),se(126,"mat-checkbox",58),me(127," Makaralar Mekanizmalar "),ne(),se(128,"mat-checkbox",59),me(129,"Svi\xE7ler"),ne(),se(130,"mat-checkbox",60),me(131," Kap\u0131 Motor-Fren "),ne(),se(132,"mat-checkbox",61),me(133," Otomatik Kap\u0131 Panel ve Kablosu "),ne(),se(134,"mat-checkbox",62),me(135,"Butonyerler"),ne(),se(136,"mat-checkbox",63),me(137," Kuyu Bilgi Setleri "),ne(),se(138,"mat-checkbox",64),me(139," Fleksibilkablo Kontrol\xFC "),ne(),se(140,"mat-checkbox",65),me(141," Sapt\u0131rma Makaralar\u0131 "),ne(),se(142,"mat-checkbox",66),me(143,"Kat Kap\u0131lar\u0131"),ne(),se(144,"mat-checkbox",67),me(145," Kilit Kollar\u0131 Ayarlar\u0131 "),ne(),se(146,"mat-checkbox",22),me(147," Halat Gev\u015Feme Konta\u011F\u0131 "),ne(),se(148,"mat-checkbox",68),me(149," Limit \u015Ealterleri "),ne(),se(150,"mat-checkbox",69),me(151," Kabin ve A\u011F\u0131rl\u0131k Ray ve Tijleri "),ne(),se(152,"mat-checkbox",70),me(153," Reg\xFClat\xF6r Kar\u015F\u0131 A\u011F\u0131rl\u0131k ve Svi\xE7 "),ne(),se(154,"mat-checkbox",37),me(155,"Takometre"),ne(),se(156,"mat-checkbox",71),me(157," Denge Zinciri "),ne(),se(158,"mat-checkbox",72),me(159," Tampon ve Svi\xE7ler "),ne(),se(160,"mat-checkbox",73),me(161," Kabin Halatlar\u0131 "),ne(),se(162,"mat-checkbox",74),me(163," Hidrolik Piston "),ne(),se(164,"mat-checkbox",75),me(165," Kutu ve Kuyu dibi Temizli\u011Fi "),ne()()(),se(166,"div",76)(167,"mat-form-field",4)(168,"mat-label"),me(169,"Yedek Par\xE7a Ve A\xE7\u0131klamalar"),ne(),je(170,"textarea",77),ne(),se(171,"mat-form-field",4)(172,"mat-label"),me(173,"Bak\u0131m Ekibi"),ne(),je(174,"textarea",78),ne(),se(175,"mat-form-field",4)(176,"mat-label"),me(177,"Yetkili"),ne(),je(178,"textarea",79),ne(),se(179,"mat-form-field",4)(180,"mat-label"),me(181,"\u0130stek ve D\xFC\u015F\xFCnceler"),ne(),je(182,"textarea",80),ne(),se(183,"mat-form-field",4)(184,"mat-label"),me(185,"Ba\u015Flang\u0131\xE7 Saati"),ne(),je(186,"input",81),ne(),se(187,"mat-form-field",4)(188,"mat-label"),me(189,"Biti\u015F Saati"),ne(),je(190,"input",82),ne()(),se(191,"button",83),me(192," G\xF6nder "),ne()()()}if(o&2){let s=rs(11);_e(),Ee("formGroup",r.inspectionForm),_e(7),Ee("matDatepicker",s),_e(),Ee("for",s),_e(182),Ee("disabled",!r.inspectionForm.valid||!r.isSubmitActive)}},dependencies:[nd,id,ya,td,Dr,qu,od,gc,ql,ha,Gl,Kl,ec,Ds,el,Mu,Yu],styles:['@charset "UTF-8";.nav[_ngcontent-%COMP%]{padding:16px;display:flex;align-items:center}.nav[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background-color:#e0e0ff;padding:12px;margin-left:20px;margin-right:20px;border-radius:12px}.form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:10px}form[_ngcontent-%COMP%]{max-width:600px;width:100%;background:#fff}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:12px}.form-group[_ngcontent-%COMP%]{margin-top:20px;border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px))!important;box-shadow:0 4px 8px #0006;padding:16px}.form-group[_ngcontent-%COMP%]   .grid-form[_ngcontent-%COMP%]{display:grid;grid-auto-flow:row;grid-template-columns:auto auto}.time-picker[_ngcontent-%COMP%]{position:relative}.time-picker[_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20enable-background%3D%22new%200%200%2024%2024%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224px%22%20fill%3D%22%23000000%22%3E%3Cg%3E%3Crect%20fill%3D%22none%22%20height%3D%2224%22%20width%3D%2224%22%2F%3E%3C%2Fg%3E%3Cg%3E%3Cg%3E%3Cg%3E%3Cpath%20d%3D%22M12%2C2C6.5%2C2%2C2%2C6.5%2C2%2C12s4.5%2C10%2C10%2C10s10-4.5%2C10-10S17.5%2C2%2C12%2C2z%20M16.2%2C16.2L11%2C13V7h1.5v5.2l4.5%2C2.7L16.2%2C16.2z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E);background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}[_nghost-%COMP%]     .mat-form-field-infix{display:flex}.mat-form-field[_ngcontent-%COMP%]{width:100%}.submit-button[_ngcontent-%COMP%]{display:flex;margin:20px auto}']});let i=e;return i})();var oz=is(mp());var rz=(()=>{let e=class e{constructor(n,o,r){this.fb=n,this.backend=o,this.dialog=r,this.isSubmitActive=!0,this.inspectionForm=this.fb.group({genelBilgiler:this.fb.group({tarih:[new Date,Ri.required],musteriAdi:["",Ri.required],musteriAdresi:["",Ri.required],mudahaleSaati:["",Ri.required],bitisSaati:["",Ri.required],kullanilanMalzemeVeOzellikleri:[""]}),mudahaleNedeni:this.fb.group({bakim:[],ariza:[],diger:[]}),herAyYapilmasiGerekenler:this.fb.group({ustVeAltMakinaDairesiTemizligi:[],basamakRaylariTemizligi:[],basamakZinciriGergiKontroluYaglama:[],emniyetDevresiZincirKontakKontrolu:[],basamakEteklikMesafeKontrolu:[],emniyetDevresiEtekSaciKontakKontrolu:[],basamakYuzeyKontrolu:[],basamakKilavuzPapuclarGreslenmesi:[],emniyetDevresiBasamakSarkmaKontakKontrolu:[],tarakElemanlariKontrolu:[],emniyetDevresiTarakKontakKontrolu:[],kupesteBandiTahrikZincirKontrolu:[],dublexTahrikZincirGergiKontrolu:[],emniyetDevresiTahrikZincirKopmaKontrolu:[],otomatikYaglamaUnitesiYagSeviyeKontrolu:[],kupesteBandiGerginlikKontrolu:[],kupesteBandiRulmanKontrolu:[],emniyetDevresiKupesteBandiKontrolu:[],istikametAnahtariAcilStopKontrolu:[],frenMagnetKontrolu:[],sonsuzDisliYagSeviyeKontrolu:[]}),altiAydaBirYapilmasiGerekenler:this.fb.group({tarakVidalarGreslenmesi:[],motorBakimi:[],frenPapuclarDurmaKontrolu:[],otomatikZincirYaglamaKontrolu:[]}),yildaBirYapilmasiGerekenler:this.fb.group({basamakMakaralariKontrolu:[],tahrikZincirTemizligi:[],merdivenAnaTahrikSaftKontrolu:[],kupesteBandiTahrikSaftKontrolu:[]}),sikayet:[""],netice:[""],binaYoneticisiAdiSoyadi:["",Ri.required],arizaBakimMontorAdiSoyadi:["",Ri.required]})}onSubmit(){oz.default.fire({title:"Emin misiniz?",text:"Kaydetmek istedi\u011Finize emin misiniz ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Evet",cancelButtonText:"Hay\u0131r"}).then(n=>{if(n.isConfirmed){this.isSubmitActive=!1;let o=JSON.parse(localStorage.getItem("userData")||"{}"),r=ci(Le({},this.inspectionForm.value),{user:{name:o.name||"",surname:o.surname||"",phone:o.phone||""}});this.backend.addDataBlob("escalator-maintenance",r).subscribe(s=>{let a=new FileReader;a.onloadend=()=>{let l=a.result;this.openPdfDialog(l)},a.readAsDataURL(new Blob([s]))})}})}openPdfDialog(n){this.dialog.open(Uu,{data:{pdfSrc:n},width:"80%",height:"80%",disableClose:!0}).afterClosed().subscribe(()=>{this.isSubmitActive=!0})}};e.\u0275fac=function(o){return new(o||e)(oe(Yl),oe(nr),oe(al))},e.\u0275cmp=$e({type:e,selectors:[["app-ym-bakim"]],decls:130,vars:4,consts:[["picker",""],[1,"form-container"],[3,"ngSubmit","formGroup"],["formGroupName","genelBilgiler",1,"form-group"],["appearance","fill"],["matInput","","formControlName","tarih",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","musteriAdi","required",""],["matInput","","formControlName","musteriAdresi","required",""],["matInput","","type","time","id","appt","name","appt","formControlName","mudahaleSaati",1,"time-picker"],["matInput","","type","time","id","appt","name","appt","formControlName","bitisSaati",1,"time-picker"],["matInput","","formControlName","kullanilanMalzemeVeOzellikleri"],["formGroupName","mudahaleNedeni",1,"form-group"],["formControlName","bakim"],["formControlName","ariza"],["formControlName","diger"],["formGroupName","herAyYapilmasiGerekenler",1,"form-group"],["formControlName","ustVeAltMakinaDairesiTemizligi"],["formControlName","basamakRaylariTemizligi"],["formControlName","basamakZinciriGergiKontroluYaglama"],["formControlName","emniyetDevresiZincirKontakKontrolu"],["formControlName","basamakEteklikMesafeKontrolu"],["formControlName","emniyetDevresiEtekSaciKontakKontrolu"],["formControlName","basamakYuzeyKontrolu"],["formControlName","basamakKilavuzPapuclarGreslenmesi"],["formControlName","emniyetDevresiBasamakSarkmaKontakKontrolu"],["formControlName","tarakElemanlariKontrolu"],["formControlName","emniyetDevresiTarakKontakKontrolu"],["formControlName","kupesteBandiTahrikZincirKontrolu"],["formControlName","dublexTahrikZincirGergiKontrolu"],["formControlName","emniyetDevresiTahrikZincirKopmaKontrolu"],["formControlName","otomatikYaglamaUnitesiYagSeviyeKontrolu"],["formControlName","kupesteBandiGerginlikKontrolu"],["formControlName","kupesteBandiRulmanKontrolu"],["formControlName","emniyetDevresiKupesteBandiKontrolu"],["formControlName","istikametAnahtariAcilStopKontrolu"],["formControlName","frenMagnetKontrolu"],["formControlName","sonsuzDisliYagSeviyeKontrolu"],["formGroupName","altiAydaBirYapilmasiGerekenler",1,"form-group"],["formControlName","tarakVidalarGreslenmesi"],["formControlName","motorBakimi"],["formControlName","frenPapuclarDurmaKontrolu"],["formControlName","otomatikZincirYaglamaKontrolu"],["formGroupName","yildaBirYapilmasiGerekenler",1,"form-group"],["formControlName","basamakMakaralariKontrolu"],["formControlName","tahrikZincirTemizligi"],["formControlName","merdivenAnaTahrikSaftKontrolu"],["formControlName","kupesteBandiTahrikSaftKontrolu"],[1,"form-group"],["matInput","","formControlName","sikayet"],["matInput","","formControlName","netice"],["matInput","","formControlName","binaYoneticisiAdiSoyadi","placeholder","Ad SOYAD, Ad SOYAD ..."],["matInput","","formControlName","arizaBakimMontorAdiSoyadi","placeholder","Ad SOYAD, Ad SOYAD ..."],["mat-raised-button","","color","primary","type","submit",1,"submit-button",3,"disabled"]],template:function(o,r){if(o&1){let s=gn();se(0,"div",1)(1,"form",2),Et("ngSubmit",function(){return Xt(s),Zt(r.onSubmit())}),se(2,"div",3)(3,"h5"),me(4,"Genel Bilgiler"),ne(),se(5,"mat-form-field",4)(6,"mat-label"),me(7,"Tarih"),ne(),je(8,"input",5)(9,"mat-datepicker-toggle",6)(10,"mat-datepicker",null,0),ne(),se(12,"mat-form-field",4)(13,"mat-label"),me(14,"M\xFC\u015Fteri Ad\u0131"),ne(),je(15,"input",7),ne(),se(16,"mat-form-field",4)(17,"mat-label"),me(18,"M\xFC\u015Fteri Adresi"),ne(),je(19,"input",8),ne(),se(20,"mat-form-field",4)(21,"mat-label"),me(22,"M\xFCdahele Saati"),ne(),je(23,"input",9),ne(),se(24,"mat-form-field",4)(25,"mat-label"),me(26,"Biti\u015F Saati"),ne(),je(27,"input",10),ne(),se(28,"mat-form-field",4)(29,"mat-label"),me(30,"Kullan\u0131lan Malzeme ve \xD6zellikleri"),ne(),je(31,"textarea",11),ne()(),se(32,"div",12)(33,"h5"),me(34,"M\xFCdahale Nedeni"),ne(),se(35,"mat-checkbox",13),me(36,"Bak\u0131m"),ne(),se(37,"mat-checkbox",14),me(38,"Ar\u0131za"),ne(),se(39,"mat-checkbox",15),me(40,"Di\u011Fer"),ne()(),se(41,"div",16)(42,"h5"),me(43,"Her Ay Yap\u0131lmas\u0131 Gerekenler"),ne(),se(44,"div")(45,"mat-checkbox",17),me(46," \xDCst ve alt makina dairelerinin temizlenmesi "),ne(),se(47,"mat-checkbox",18),me(48," Basamak Raylar\u0131n\u0131n temizlenmesi "),ne(),se(49,"mat-checkbox",19),me(50," Basamak zincirinin gergi kontrol\xFC ve ya\u011Flanmas\u0131 "),ne(),se(51,"mat-checkbox",20),me(52," Emniyet devresi zincir geri kontalar\u0131n\u0131n kontrol\xFC "),ne(),se(53,"mat-checkbox",21),me(54," basamak ile eteklik aras\u0131ndaki mesafelerin kontrol\xFC "),ne(),se(55,"mat-checkbox",22),me(56," Emniyet devresi etek sac\u0131 s\u0131k\u0131\u015Fma kontaklar\u0131n\u0131n kontrol\xFC "),ne(),se(57,"mat-checkbox",23),me(58," Basamak y\xFCzeylerinin fiziki kontrol\xFC "),ne(),se(59,"mat-checkbox",24),me(60," Basamak k\u0131lavuz papu\xE7lar\u0131n\u0131n greslenmesi "),ne(),se(61,"mat-checkbox",25),me(62," Emniyet devresi basamak sarkma kontaklar\u0131n\u0131n kontrol\xFC "),ne(),se(63,"mat-checkbox",26),me(64," Tarak elemanlar\u0131n\u0131n kontrol\xFC ve basamak taraklar\u0131na giri\u015Fin kontrol\xFC "),ne(),se(65,"mat-checkbox",27),me(66," Emniyet devresi tarak kontaklar\u0131n\u0131n kontrol\xFC "),ne(),se(67,"mat-checkbox",28),me(68," K\xFCpe\u015Fte band\u0131 tahrik zincirinin kontrol\xFC "),ne(),se(69,"mat-checkbox",29),me(70," Dublex tahrik zincirinin gergisinin kontrol\xFC "),ne(),se(71,"mat-checkbox",30),me(72," Emniyet devresi tahrik zinciri kopma konta\u011F\u0131n\u0131n kontrol\xFC "),ne(),se(73,"mat-checkbox",31),me(74," Otomatik ya\u011Flama \xFCnitesi ya\u011F seviyesinin tamamlanmas\u0131 "),ne(),se(75,"mat-checkbox",32),me(76," K\xFCpe\u015Fte band\u0131n\u0131n gerginli\u011Finin kontrol\xFC "),ne(),se(77,"mat-checkbox",33),me(78," K\xFCpe\u015Fte band\u0131 d\xF6n\xFC\u015F e\u011Frisi rulmanlar\u0131n\u0131n kontrol\xFC ve ayarlama "),ne(),se(79,"mat-checkbox",34),me(80," Emniyet devresi k\xFCpe\u015Fte band\u0131 giri\u015F kontaklar\u0131n\u0131n kontol\xFC "),ne(),se(81,"mat-checkbox",35),me(82," \u0130stikamet anahtarlar\u0131n\u0131n ve acil stop butonlar\u0131n\u0131n kontrol\xFC "),ne(),se(83,"mat-checkbox",36),me(84," Fren magnetinin \xE7al\u0131\u015Fma kontrol\xFC "),ne(),se(85,"mat-checkbox",37),me(86," Sonsuz di\u015Fli yap seviyesi kontrol\xFC "),ne()()(),se(87,"div",38)(88,"h5"),me(89,"Alt\u0131 Ayda Bir Yap\u0131lmas\u0131 Gerkenler"),ne(),se(90,"div")(91,"mat-checkbox",39),me(92," Tarak ba\u011Flant\u0131 vidalar\u0131n\u0131n s\xF6k\xFClerek greslenmesi "),ne(),se(93,"mat-checkbox",40),me(94,"Motor bak\u0131m\u0131"),ne(),se(95,"mat-checkbox",41),me(96," Fren papu\xE7lar\u0131, balata ve durma mesafesi kontrol\xFC "),ne(),se(97,"mat-checkbox",42),me(98," Otomatik zinci ya\u011Flama \xFCnitesi kontrol\xFC ve ya\u011F seviyesi tamamlanmas\u0131 "),ne()()(),se(99,"div",43)(100,"h5"),me(101,"Y\u0131lda Bir Yap\u0131lmas\u0131 Gerekenler"),ne(),se(102,"div")(103,"mat-checkbox",44),me(104," Basamak makaralar\u0131n\u0131n, klavuz pap\u0131\xE7lar\u0131n\u0131n ve plastik mil yataklar\u0131n\u0131n kontrol\xFC "),ne(),se(105,"mat-checkbox",45),me(106," T\xFCm tahrik zincilerinin temizlenmesi "),ne(),se(107,"mat-checkbox",46),me(108," Merdiven ana tahrik \u015Faft\u0131n\u0131n kontrol\xFC, genel temizli\u011Fi, rulmanlar\u0131n ya\u011Flanmas\u0131 "),ne(),se(109,"mat-checkbox",47),me(110," K\xFCpe\u015Fte band\u0131 tahrik \u015Faft\u0131n\u0131n kontrol\xFC, genel temizli\u011Fi, rulman ya\u011Flanmas\u0131 "),ne()()(),se(111,"div",48)(112,"mat-form-field",4)(113,"mat-label"),me(114,"\u015Eikayet"),ne(),je(115,"textarea",49),ne(),se(116,"mat-form-field",4)(117,"mat-label"),me(118,"Netice"),ne(),je(119,"textarea",50),ne(),se(120,"mat-form-field",4)(121,"mat-label"),me(122,"Bina Y\xF6neticisi Ad\u0131 Soyad\u0131"),ne(),je(123,"textarea",51),ne(),se(124,"mat-form-field",4)(125,"mat-label"),me(126,"Ar\u0131za Bak\u0131m Mont\xF6r\xFCn\xFCn Ad\u0131 Soyad\u0131"),ne(),je(127,"textarea",52),ne()(),se(128,"button",53),me(129," G\xF6nder "),ne()()()}if(o&2){let s=rs(11);_e(),Ee("formGroup",r.inspectionForm),_e(7),Ee("matDatepicker",s),_e(),Ee("for",s),_e(119),Ee("disabled",!r.inspectionForm.valid||!r.isSubmitActive)}},dependencies:[nd,id,ya,td,Dr,qu,od,gc,ql,ha,Gl,Kl,ec,Ds,el,Mu,Yu],styles:['@charset "UTF-8";.nav[_ngcontent-%COMP%]{padding:16px;display:flex;align-items:center}.nav[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background-color:#e0e0ff;padding:12px;margin-left:20px;margin-right:20px;border-radius:12px}.form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:10px}form[_ngcontent-%COMP%]{max-width:600px;width:100%;background:#fff}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:12px}.form-group[_ngcontent-%COMP%]{margin-top:20px;border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px))!important;box-shadow:0 4px 8px #0006;padding:16px}.form-group[_ngcontent-%COMP%]   .grid-form[_ngcontent-%COMP%]{display:grid;grid-auto-flow:row;grid-template-columns:auto auto}.time-picker[_ngcontent-%COMP%]{position:relative}.time-picker[_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20enable-background%3D%22new%200%200%2024%2024%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224px%22%20fill%3D%22%23000000%22%3E%3Cg%3E%3Crect%20fill%3D%22none%22%20height%3D%2224%22%20width%3D%2224%22%2F%3E%3C%2Fg%3E%3Cg%3E%3Cg%3E%3Cg%3E%3Cpath%20d%3D%22M12%2C2C6.5%2C2%2C2%2C6.5%2C2%2C12s4.5%2C10%2C10%2C10s10-4.5%2C10-10S17.5%2C2%2C12%2C2z%20M16.2%2C16.2L11%2C13V7h1.5v5.2l4.5%2C2.7L16.2%2C16.2z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E);background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}[_nghost-%COMP%]     .mat-form-field-infix{display:flex}.mat-form-field[_ngcontent-%COMP%]{width:100%}.submit-button[_ngcontent-%COMP%]{display:flex;margin:20px auto}']});let i=e;return i})();var sz=is(mp());var az=(()=>{let e=class e{constructor(n,o,r){this.fb=n,this.backend=o,this.dialog=r,this.isSubmitActive=!0,this.serviceForm=this.fb.group({genelBilgiler:this.fb.group({tarih:[new Date,Ri.required],musterininAdiUnvani:["",Ri.required],musteriAdresi:["",Ri.required],seriNo:["",Ri.required]}),mudahaleNedeni:this.fb.group({ariza:[],tamirat:[],revizyon:[]}),uniteTuru:this.fb.group({yuruyenMerdiven:[],engelliPlatform:[],servisPlatform:[]}),binayaGelindigindeUnite:this.fb.group({calisiyordu:[],calismiyordu:[],ulasilamadi:[]}),genelAciklamalar:this.fb.group({yapilanIsVeAciklamalar:[""],kullanilanDegisenYedekParcalar:[""],yapilmasiGerekenIsVeAciklamalar:[""]}),binadanAyrilirkenUnite:this.fb.group({calisiyordu:[],calismiyordu:[]}),binayaGirisSaati:["",Ri.required],binadanCikisSaati:["",Ri.required],binaYetkilisiAdSoyad:["",Ri.required],teknisyenAdSoyad:["",Ri.required]})}onSubmit(){sz.default.fire({title:"Emin misiniz?",text:"Kaydetmek istedi\u011Finize emin misiniz ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Evet",cancelButtonText:"Hay\u0131r"}).then(n=>{if(n.isConfirmed){this.isSubmitActive=!1;let o=JSON.parse(localStorage.getItem("userData")||"{}"),r=ci(Le({},this.serviceForm.value),{user:{name:o.name||"",surname:o.surname||"",phone:o.phone||""}});this.backend.addDataBlob("general-failure",r).subscribe(s=>{let a=new FileReader;a.onloadend=()=>{let l=a.result;this.openPdfDialog(l)},a.readAsDataURL(new Blob([s]))})}})}openPdfDialog(n){this.dialog.open(Uu,{data:{pdfSrc:n},width:"80%",height:"80%",disableClose:!0}).afterClosed().subscribe(()=>{this.isSubmitActive=!0})}};e.\u0275fac=function(o){return new(o||e)(oe(Yl),oe(nr),oe(al))},e.\u0275cmp=$e({type:e,selectors:[["app-genel-ariza"]],decls:92,vars:4,consts:[["picker",""],[1,"form-container"],[3,"ngSubmit","formGroup"],["formGroupName","genelBilgiler",1,"form-group"],["appearance","fill"],["matInput","","formControlName","tarih",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","musterininAdiUnvani","required",""],["matInput","","formControlName","musteriAdresi","required",""],["matInput","","formControlName","seriNo","required",""],["formGroupName","mudahaleNedeni",1,"form-group"],["formControlName","ariza"],["formControlName","tamirat"],["formControlName","revizyon"],["formGroupName","uniteTuru",1,"form-group"],["formControlName","yuruyenMerdiven"],["formControlName","engelliPlatform"],["formControlName","servisPlatform"],["formGroupName","binayaGelindigindeUnite",1,"form-group"],["formControlName","calisiyordu"],["formControlName","calismiyordu"],["formControlName","ulasilamadi"],["formGroupName","genelAciklamalar",1,"form-group"],["matInput","","formControlName","yapilanIsVeAciklamalar"],["matInput","","formControlName","kullanilanDegisenYedekParcalar"],["matInput","","formControlName","yapilmasiGerekenIsVeAciklamalar"],["formGroupName","binadanAyrilirkenUnite",1,"form-group"],[1,"form-group"],["matInput","","type","time","id","appt","name","appt","formControlName","binayaGirisSaati",1,"time-picker"],["matInput","","type","time","id","appt","name","appt","formControlName","binadanCikisSaati",1,"time-picker"],["matInput","","formControlName","binaYetkilisiAdSoyad","placeholder","Ad SOYAD, Ad SOYAD ..."],["matInput","","formControlName","teknisyenAdSoyad","placeholder","Ad SOYAD, Ad SOYAD ..."],["mat-raised-button","","color","primary","type","submit",1,"submit-button",3,"disabled"]],template:function(o,r){if(o&1){let s=gn();se(0,"div",1)(1,"form",2),Et("ngSubmit",function(){return Xt(s),Zt(r.onSubmit())}),se(2,"div",3)(3,"h5"),me(4,"Genel Bilgiler"),ne(),se(5,"mat-form-field",4)(6,"mat-label"),me(7,"Tarih"),ne(),je(8,"input",5)(9,"mat-datepicker-toggle",6)(10,"mat-datepicker",null,0),ne(),se(12,"mat-form-field",4)(13,"mat-label"),me(14,"M\xFC\u015Fteri Ad\u0131/Unvan\u0131"),ne(),je(15,"input",7),ne(),se(16,"mat-form-field",4)(17,"mat-label"),me(18,"M\xFC\u015Fteri Adresi"),ne(),je(19,"input",8),ne(),se(20,"mat-form-field",4)(21,"mat-label"),me(22,"Seri No"),ne(),je(23,"input",9),ne()(),se(24,"div",10)(25,"h5"),me(26,"M\xFCdahale Nedeni"),ne(),se(27,"mat-checkbox",11),me(28,"Ar\u0131za"),ne(),se(29,"mat-checkbox",12),me(30,"Tamirat"),ne(),se(31,"mat-checkbox",13),me(32,"Revizyon"),ne()(),se(33,"div",14)(34,"h5"),me(35,"Unite t\xFCr\xFC"),ne(),se(36,"mat-checkbox",15),me(37," Y\xFCr\xFCyen Merdiven "),ne(),se(38,"mat-checkbox",16),me(39," Engelli Platform "),ne(),se(40,"mat-checkbox",17),me(41," Servis Platform "),ne()(),se(42,"div",18)(43,"h5"),me(44,"Binaya Gelindi\u011Finde Unite"),ne(),se(45,"mat-checkbox",19),me(46,"\xC7al\u0131\u015F\u0131yordu"),ne(),se(47,"mat-checkbox",20),me(48,"\xC7al\u0131\u015Fm\u0131yordu"),ne(),se(49,"mat-checkbox",21),me(50,"Ula\u015F\u0131lamad\u0131"),ne()(),se(51,"div",22)(52,"h5"),me(53,"Genel A\xE7\u0131klamalar"),ne(),se(54,"mat-form-field",4)(55,"mat-label"),me(56,"Yap\u0131lan \u0130\u015F ve A\xE7\u0131klamalar"),ne(),je(57,"textarea",23),ne(),se(58,"mat-form-field",4)(59,"mat-label"),me(60,"Kullan\u0131lan/De\u011Fi\u015Fen Yedek Par\xE7alar"),ne(),je(61,"textarea",24),ne(),se(62,"mat-form-field",4)(63,"mat-label"),me(64,"Yap\u0131lmas\u0131 Gereken \u0130\u015F ve A\xE7\u0131klamalar"),ne(),je(65,"textarea",25),ne()(),se(66,"div",26)(67,"h5"),me(68,"Binadan Ayr\u0131l\u0131rken \xDCnite"),ne(),se(69,"mat-checkbox",19),me(70,"\xC7al\u0131\u015F\u0131yordu"),ne(),se(71,"mat-checkbox",20),me(72,"\xC7al\u0131\u015Fm\u0131yordu"),ne()(),se(73,"div",27)(74,"mat-form-field",4)(75,"mat-label"),me(76,"Binaya Giri\u015F Saati"),ne(),je(77,"input",28),ne(),se(78,"mat-form-field",4)(79,"mat-label"),me(80,"Binadan \xC7\u0131k\u0131\u015F Saati"),ne(),je(81,"input",29),ne(),se(82,"mat-form-field",4)(83,"mat-label"),me(84,"Bina Yetkilisi Ad Soyad"),ne(),je(85,"textarea",30),ne(),se(86,"mat-form-field",4)(87,"mat-label"),me(88,"Teknisyen Ad Soyad"),ne(),je(89,"textarea",31),ne()(),se(90,"button",32),me(91," G\xF6nder "),ne()()()}if(o&2){let s=rs(11);_e(),Ee("formGroup",r.serviceForm),_e(7),Ee("matDatepicker",s),_e(),Ee("for",s),_e(81),Ee("disabled",!r.serviceForm.valid)}},dependencies:[nd,id,ya,td,Dr,qu,od,gc,ql,ha,Gl,Kl,ec,Ds,el,Mu,Yu],styles:['@charset "UTF-8";.nav[_ngcontent-%COMP%]{padding:16px;display:flex;align-items:center}.nav[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background-color:#e0e0ff;padding:12px;margin-left:20px;margin-right:20px;border-radius:12px}.form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:10px}form[_ngcontent-%COMP%]{max-width:600px;width:100%;background:#fff}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:12px}.form-group[_ngcontent-%COMP%]{margin-top:20px;border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px))!important;box-shadow:0 4px 8px #0006;padding:16px}.form-group[_ngcontent-%COMP%]   .grid-form[_ngcontent-%COMP%]{display:grid;grid-auto-flow:row;grid-template-columns:auto auto}.time-picker[_ngcontent-%COMP%]{position:relative}.time-picker[_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20enable-background%3D%22new%200%200%2024%2024%22%20height%3D%2224px%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224px%22%20fill%3D%22%23000000%22%3E%3Cg%3E%3Crect%20fill%3D%22none%22%20height%3D%2224%22%20width%3D%2224%22%2F%3E%3C%2Fg%3E%3Cg%3E%3Cg%3E%3Cg%3E%3Cpath%20d%3D%22M12%2C2C6.5%2C2%2C2%2C6.5%2C2%2C12s4.5%2C10%2C10%2C10s10-4.5%2C10-10S17.5%2C2%2C12%2C2z%20M16.2%2C16.2L11%2C13V7h1.5v5.2l4.5%2C2.7L16.2%2C16.2z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E);background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}[_nghost-%COMP%]     .mat-form-field-infix{display:flex}.mat-form-field[_ngcontent-%COMP%]{width:100%}.submit-button[_ngcontent-%COMP%]{display:flex;margin:20px auto}']});let i=e;return i})();var Hfe=["*"];var zfe=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],jfe=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],$fe=new ct("MAT_CARD_CONFIG"),xw=(()=>{let e=class e{constructor(n){this.appearance=n?.appearance||"raised"}};e.\u0275fac=function(o){return new(o||e)(oe($fe,8))},e.\u0275cmp=$e({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(o,r){o&2&&Mi("mat-mdc-card-outlined",r.appearance==="outlined")("mdc-card--outlined",r.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[Wi],ngContentSelectors:Hfe,decls:1,vars:0,template:function(o,r){o&1&&(Un(),Hi(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface));border-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-app-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-app-corner-medium));border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color, var(--mat-app-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-app-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-app-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-app-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-app-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-app-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-app-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-app-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-app-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-app-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-app-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-app-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-app-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let i=e;return i})(),Cw=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=Pt({type:e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0});let i=e;return i})();var lz=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=Pt({type:e,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0});let i=e;return i})();var dz=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=$e({type:e,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[Wi],ngContentSelectors:jfe,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(o,r){o&1&&(Un(zfe),Hi(0),se(1,"div",0),Hi(2,1),ne(),Hi(3,2))},encapsulation:2,changeDetection:0});let i=e;return i})();var cz=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=Pt({type:e,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0});let i=e;return i})();var uz=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({imports:[sn,Es,sn]});let i=e;return i})();function Wfe(i,e){i&1&&(se(0,"mat-card",12)(1,"mat-card-header")(2,"mat-card-title"),me(3,"ADM\u0130N - Asans\xF6r Bak\u0131m\u0131"),ne()(),je(4,"img",2),ne())}function Ufe(i,e){i&1&&(se(0,"mat-card",13)(1,"mat-card-header")(2,"mat-card-title"),me(3,"ADM\u0130N - Genel Ar\u0131za"),ne()(),je(4,"img",2),ne())}function Gfe(i,e){i&1&&(se(0,"mat-card",14)(1,"mat-card-header")(2,"mat-card-title"),me(3,"ADM\u0130N - Y\xFCr\xFCyen Merdiven Bak\u0131m\u0131"),ne()(),je(4,"img",2),ne())}function Kfe(i,e){i&1&&(se(0,"mat-card",15)(1,"mat-card-header")(2,"mat-card-title"),me(3,"ADM\u0130N - Kullan\u0131c\u0131"),ne()(),je(4,"img",2),ne())}var pz=(()=>{let e=class e{constructor(){this.isAdmin=!1}ngOnInit(){let n=localStorage.getItem("userData");if(n){let o=JSON.parse(n);this.isAdmin=o.role==="admin"}}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=$e({type:e,selectors:[["app-menu"]],decls:25,vars:4,consts:[[1,"menu-cards"],["appearance","outlined","routerLink","/elevator-maintenance",1,"card"],["mat-card-image","","src","assets/savasLogo.jpg"],["appearance","outlined","routerLink","/general-failure",1,"card"],["appearance","outlined","routerLink","/escalator-maintenance",1,"card"],["class","card","appearance","outlined","routerLink","/admin-elevator-maintenance",4,"ngIf"],["class","card","appearance","outlined","routerLink","/admin-general-failure",4,"ngIf"],["class","card","appearance","outlined","routerLink","/admin-escalator-maintenance",4,"ngIf"],["class","card","appearance","outlined","routerLink","/user",4,"ngIf"],[1,"footer"],["href","https://ergulferik.github.io/Portfolio-Website/","target","_blank","rel","noopener noreferrer",1,"ef-wrapper"],["src","assets/ef.png",1,"ef-logo"],["appearance","outlined","routerLink","/admin-elevator-maintenance",1,"card"],["appearance","outlined","routerLink","/admin-general-failure",1,"card"],["appearance","outlined","routerLink","/admin-escalator-maintenance",1,"card"],["appearance","outlined","routerLink","/user",1,"card"]],template:function(o,r){o&1&&(se(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),me(4,"Asans\xF6r Bak\u0131m\u0131"),ne()(),je(5,"img",2),ne(),se(6,"mat-card",3)(7,"mat-card-header")(8,"mat-card-title"),me(9,"Genel Ar\u0131za"),ne()(),je(10,"img",2),ne(),se(11,"mat-card",4)(12,"mat-card-header")(13,"mat-card-title"),me(14,"Y\xFCr\xFCyen Merdiven Bak\u0131m\u0131"),ne()(),je(15,"img",2),ne(),ii(16,Wfe,5,0,"mat-card",5)(17,Ufe,5,0,"mat-card",6)(18,Gfe,5,0,"mat-card",7)(19,Kfe,5,0,"mat-card",8),ne(),se(20,"div",9),me(21," Created by "),se(22,"a",10),je(23,"img",11),me(24," Erg\xFCl FER\u0130K "),ne()()),o&2&&(_e(16),Ee("ngIf",r.isAdmin),_e(),Ee("ngIf",r.isAdmin),_e(),Ee("ngIf",r.isAdmin),_e(),Ee("ngIf",r.isAdmin))},dependencies:[wu,Mx,xw,dz,cz,Cw],styles:[".menu-cards[_ngcontent-%COMP%]{margin-top:20px;padding-bottom:56px;display:grid;grid-auto-flow:row;grid-template-columns:auto auto;justify-content:space-around;gap:20px}.menu-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{max-width:40vw;gap:20px;box-shadow:0 0 8px #0a35a59c;border:1px solid rgba(10,53,165,.4);border-radius:var(--mdc-outlined-card-container-shape, var(--mat-app-corner-medium))}@media only screen and (max-width: 480px){.menu-cards[_ngcontent-%COMP%]{grid-template-columns:auto}.menu-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{max-width:80vw}}.footer[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;background:#0f172a;color:#fff;text-align:center;display:flex;justify-content:center;align-items:center;font-style:italic;padding:4px}.footer[_ngcontent-%COMP%]   .ef-wrapper[_ngcontent-%COMP%]{margin-left:4px;display:flex;background-color:#0a36a5;padding:2px 8px 2px 2px;border-radius:10px;text-decoration:none;color:#fff;font-style:normal}.footer[_ngcontent-%COMP%]   .ef-wrapper[_ngcontent-%COMP%]   .ef-logo[_ngcontent-%COMP%]{width:24px;display:flex;align-self:center;margin-right:4px;border-radius:8px}"]});let i=e;return i})();var ute=is(pb()),hte=is(om());var qfe={"[object Array]":"array","[object Date]":"date","[object Object]":"object","[object String]":"string"},or=function(i){if(i===null)return"null";let e=Object.prototype.toString.call(i);return typeof i=="object"?qfe[e]||"object":typeof i},Xu=function(i){return typeof i=="boolean"},ww=function(i){return ai(i)&&i.toString().indexOf("e")!==-1},no=function(i){return or(i)==="date"},U=function(i){return i!=null},Ie=function(i){return typeof i=="function"},We=function(i){return typeof i=="string"},ai=function(i){return typeof i=="number"&&isFinite(i)||!isNaN(i-parseFloat(i))},Ke=function(i){return or(i)==="object"},Gn=function(i){let e;for(e in i)return!1;return!0},ht=function(i){if(!i||or(i)!=="object")return!1;let e=Object.getPrototypeOf(i);if(!e)return!0;let t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&Object.toString.call(t)===Object.toString.call(Object)},Zu=function(i){return["object","array","function"].indexOf(or(i))===-1},ln=function(i){return i!=null&&i===i.window},Oo=function(i){return!!i&&!!(i.jquery||i.dxRenderer)},rd=function(i){return!!i&&Ie(i.then)},km=function(i){return!!i&&Ie(i.done)&&Ie(i.fail)},mz=function(i){return!!(i&&i.preventDefault)};var Sw=function(){let i=[new RegExp("&","g"),new RegExp('"',"g"),new RegExp("'","g"),new RegExp("<","g"),new RegExp(">","g")];return function(e){return String(e).replace(i[0],"&amp;").replace(i[1],"&quot;").replace(i[2],"&#39;").replace(i[3],"&lt;").replace(i[4],"&gt;")}}(),Yfe=function(i){switch(typeof i){case"string":return i.split(/\s+/,4);case"object":return[i.x||i.h||i.left,i.y||i.v||i.top,i.x||i.h||i.right,i.y||i.v||i.bottom];case"number":return[i];default:return i}},gz=function(i){let e=Yfe(i),t=parseInt(e&&e[0],10),n=parseInt(e&&e[1],10),o=parseInt(e&&e[2],10),r=parseInt(e&&e[3],10);return isFinite(t)||(t=0),isFinite(n)||(n=t),isFinite(o)||(o=t),isFinite(r)||(r=n),{top:n,right:o,bottom:r,left:t}};function rr(i){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return Ie(i)?i(...t):(t.forEach((o,r)=>{We(o)&&(o=o.replace(/\$/g,"$$$$"));let s=new RegExp("\\{"+r+"\\}","gm");i=i.replace(s,o)}),i)}var Mm=function(){let i=/\s/g;return function(e){return!e||!e.replace(i,"")}}();var _z=function(i,e,t){i=i||{};for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)){let o=e[n];(!(n in i)||t)&&(i[n]=o)}return i},q=function(i){i=i||{};let e=1,t=!1;for(typeof i=="boolean"&&(t=i,i=arguments[1]||{},e++);e<arguments.length;e++){let n=arguments[e];if(n!=null)for(let o in n){let r=i[o],s=n[o],a=!1,l;o==="__proto__"||o==="constructor"||i===s||(t&&s&&(ht(s)||(a=Array.isArray(s)))?(a?l=r&&Array.isArray(r)?r:[]:l=r&&ht(r)?r:{},i[o]=q(t,l,s)):s!==void 0&&(i[o]=s))}}return i};var tn=(i,e)=>{if(Array.isArray(i))return i.map(e);let t=[];for(let n in i)t.push(e(i[n],n));return t},ee=(i,e)=>{if(i){if("length"in i)for(let t=0;t<i.length&&e.call(i[t],t,i[t])!==!1;t++);else for(let t in i)if(e.call(i[t],t,i[t])===!1)break;return i}};var Xfe=function(){},Ew=function(i){return typeof console>"u"||!Ie(console[i])?Xfe:console[i].bind(console)},Qu={log:Ew("log"),info:Ew("info"),warn:Ew("warn"),error:Ew("error")};var vz="24.1.5",Xk="24.1.5";var Zfe="https://js.devexpress.com/error/"+vz.split(".").slice(0,2).join("_")+"/";function Rm(i,e){let t={ERROR_MESSAGES:q(e,i),Error:function(){return function(s){let a=s[0];s=s.slice(1);let l=n(a,s),d=r(a),c=o(a,l);return q(new Error(c),{__id:a,__details:l,url:d})}([].slice.call(arguments))},log:function(s){let a="log";/^E\d+$/.test(s)?a="error":/^W\d+$/.test(s)&&(a="warn"),Qu[a](a==="log"?s:function(l){let d=l[0];return l=l.slice(1),o(d,n(d,l))}([].slice.call(arguments)))}};function n(s,a){return a=[t.ERROR_MESSAGES[s]].concat(a),rr.apply(this,a).replace(/\.*\s*?$/,"")}function o(s,a){let l=s!=null&&s.startsWith("W")?"warning":"error";return rr.apply(this,[`{0} - {1}.

For additional information on this {2} message, see: {3}`,s,a,l,r(s)])}function r(s){return Zfe+s}return t}var qt=Rm({E0001:"Method is not implemented",E0002:"Member name collision: {0}",E0003:"A class must be instantiated using the 'new' keyword",E0004:"The NAME property of the component is not specified",E0005:"Unknown device",E0006:"Unknown endpoint key is requested",E0007:"'Invalidate' method is called outside the update transaction",E0008:"Type of the option name is not appropriate to create an action",E0009:"Component '{0}' has not been initialized for an element",E0010:"Animation configuration with the '{0}' type requires '{1}' configuration as {2}",E0011:"Unknown animation type '{0}'",E0012:"jQuery version is too old. Please upgrade jQuery to 1.10.0 or later",E0013:"KnockoutJS version is too old. Please upgrade KnockoutJS to 2.3.0 or later",E0014:"The 'release' method shouldn't be called for an unlocked Lock object",E0015:"Queued task returned an unexpected result",E0017:"Event namespace is not defined",E0018:"DevExpress.ui.DevExpressPopup widget is required",E0020:"Template engine '{0}' is not supported",E0021:"Unknown theme is set: {0}",E0022:"LINK[rel=DevExpress-theme] tags must go before DevExpress included scripts",E0023:"Template name is not specified",E0024:"DevExtreme bundle already included",E0025:"Unexpected argument type",E0100:"Unknown validation type is detected",E0101:"Misconfigured range validation rule is detected",E0102:"Misconfigured comparison validation rule is detected",E0103:"validationCallback of an asynchronous rule should return a jQuery or a native promise",E0110:"Unknown validation group is detected",E0120:"Adapter for a DevExpressValidator component cannot be configured",E0121:"The 'customItem' parameter of the 'onCustomItemCreating' function is empty or contains invalid data. Assign a custom object or a Promise that is resolved after the item is created.",W0000:"'{0}' is deprecated in {1}. {2}",W0001:"{0} - '{1}' option is deprecated in {2}. {3}",W0002:"{0} - '{1}' method is deprecated in {2}. {3}",W0003:"{0} - '{1}' property is deprecated in {2}. {3}",W0004:"Timeout for theme loading is over: {0}",W0005:"'{0}' event is deprecated in {1}. {2}",W0006:"Invalid recurrence rule: '{0}'",W0007:"'{0}' Globalize culture is not defined",W0008:"Invalid view name: '{0}'",W0009:"Invalid time zone name: '{0}'",W0010:"{0} is deprecated in {1}. {2}",W0011:"Number parsing is invoked while the parser is not defined",W0012:"Date parsing is invoked while the parser is not defined",W0013:"'{0}' file is deprecated in {1}. {2}",W0014:"{0} - '{1}' type is deprecated in {2}. {3}",W0015:"Instead of returning a value from the '{0}' function, write it into the '{1}' field of the function's parameter.",W0016:'The "{0}" option does not accept the "{1}" value since v{2}. {3}.',W0017:'Setting the "{0}" property with a function is deprecated since v21.2',W0018:'Setting the "position" property with a function is deprecated since v21.2',W0019:`DevExtreme: Unable to Locate a Valid License Key.

If you are using a 30-day trial version of DevExtreme, you must uninstall all copies of DevExtreme once your 30-day trial period expires. For terms and conditions that govern use of DevExtreme UI components/libraries, please refer to the DevExtreme End User License Agreement: https://js.devexpress.com/EULAs/DevExtremeComplete.

To use DevExtreme in a commercial project, you must purchase a license. For pricing/licensing options, please visit: https://js.devexpress.com/Buy.

If you have licensing-related questions or need help with a purchase, please email clientservices@devexpress.com.

`,W0020:`DevExtreme: License Key Has Expired.

A mismatch exists between the license key used and the DevExtreme version referenced in this project.

To proceed, you can:
\u2022 use a version of DevExtreme linked to your license key: https://www.devexpress.com/ClientCenter/DownloadManager
\u2022 renew your DevExpress Subscription: https://www.devexpress.com/buy/renew (once you renew your subscription, you will be entitled to product updates and support service as defined in the DevExtreme End User License Agreement)

If you have licensing-related questions or need help with a renewal, please email clientservices@devexpress.com.

`,W0021:`DevExtreme: License Key Verification Has Failed.

To verify your DevExtreme license, make certain to specify a correct key in the GlobalConfig. If you continue to encounter this error, please visit https://www.devexpress.com/ClientCenter/DownloadManager to obtain a valid license key.

If you have a valid license and this problem persists, please submit a support ticket via the DevExpress Support Center. We will be happy to follow-up: https://supportcenter.devexpress.com/ticket/create.

`,W0022:`DevExtreme: Pre-release software. Not suitable for commercial use.

Pre-release software may contain deficiencies and as such, should not be considered for use or integrated in any mission critical application.

`,W0023:`DevExtreme: the following 'devextreme' package version does not match versions of other DevExpress products used in this application:

{0}

Interoperability between different versions of the products listed herein cannot be guaranteed.

`});var Qfe=function(i,e,t){return function(){let n=this.callBase;this.callBase=i[e];try{return t.apply(this,arguments)}finally{this.callBase=n}}},Jfe=function(i){let e=function(){};return e.prototype=i.prototype,new e},eme=function(i){let e=this,t,n,o;if(!i)return e;for(n in i)o=i[n],t=typeof e.prototype[n]=="function"&&typeof o=="function",e.prototype[n]=t?Qfe(e.parent.prototype,n,o):o;return e},tme=function(){let i=this,e,t,n,o=Object.prototype.hasOwnProperty.bind(i);for(!o("_includedCtors")&&!o("_includedPostCtors")&&(i._includedCtors=i._includedCtors.slice(0),i._includedPostCtors=i._includedPostCtors.slice(0)),n=0;n<arguments.length;n++){e=arguments[n],e.ctor&&i._includedCtors.push(e.ctor),e.postCtor&&i._includedPostCtors.push(e.postCtor);for(t in e)t==="ctor"||t==="postCtor"||t==="default"||(i.prototype[t]=e[t])}return i},ime=function(i){if(!Object.prototype.hasOwnProperty.bind(this)("parent")&&this.parent){let n=Object.getPrototypeOf(this);return n===i||n.subclassOf(i)}else return this.parent===i?!0:!this.parent||!this.parent.subclassOf?!1:this.parent.subclassOf(i)},yz=function(){throw qt.Error("E0001")},nme=function(){let i=Object.prototype.hasOwnProperty;return function(e,t){for(let n in e){if(!i.call(e,n))return;t[n]=e[n]}}}(),Zk=function(){};Zk.inherit=function(i){let e=function(){if(!this||ln(this)||typeof this.constructor!="function")throw qt.Error("E0003");let t=this,n=t.ctor,o=t.constructor._includedCtors,r=t.constructor._includedPostCtors,s;for(s=0;s<o.length;s++)o[s].call(t);for(n&&n.apply(t,arguments),s=0;s<r.length;s++)r[s].call(t)};return e.prototype=Jfe(this),nme(this,e),e.inherit=this.inherit,e.abstract=yz,e.redefine=eme,e.include=tme,e.subclassOf=ime,e.parent=this,e._includedCtors=this._includedCtors?this._includedCtors.slice(0):[],e._includedPostCtors=this._includedPostCtors?this._includedPostCtors.slice(0):[],e.prototype.constructor=e,e.redefine(i),e};Zk.abstract=yz;var Ut=Zk;function _o(i){let e=Ut.inherit(i),t=e,n=new t(i),o={},r=function(s,a){ee(s,function(l){Ie(n[l])?(a||!i[l])&&(i[l]=function(){return n[l].apply(i,arguments)}):(a&&(o[l]=i[l]),i[l]=n[l])})};return r(i,!0),i.inject=function(s){t=t.inherit(s),n=new t,r(s)},i.resetInjection=function(){q(i,o),t=e,n=new e},i}function ye(){return ye=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},ye.apply(null,arguments)}var xz={rtlEnabled:!1,defaultCurrency:"USD",defaultUseCurrencyAccountingStyle:!0,oDataFilterToLower:!0,serverDecimalSeparator:".",decimalSeparator:".",thousandsSeparator:",",forceIsoDateParsing:!0,wrapActionsBeforeExecute:!0,useLegacyStoreResult:!1,useJQuery:void 0,editorStylingMode:void 0,useLegacyVisibleIndex:!1,floatingActionButtonConfig:{icon:"add",closeIcon:"close",label:"",position:{at:"right bottom",my:"right bottom",offset:{x:-16,y:-16}},maxSpeedDialActionCount:5,shading:!1,direction:"auto"},optionsParser:i=>{i.trim().charAt(0)!=="{"&&(i="{"+i+"}");try{return JSON.parse(i)}catch(e){try{return JSON.parse(ome(i))}catch{throw qt.Error("E3018",e,i)}}}},ome=i=>i.replace(/'/g,'"').replace(/,\s*([\]}])/g,"$1").replace(/([{,])\s*([^":\s]+)\s*:/g,'$1"$2":'),rme=["decimalSeparator","thousandsSeparator"],Cz=function(){if(!arguments.length)return xz;let i=arguments.length<=0?void 0:arguments[0];rme.forEach(e=>{if(i[e]){let t=`Now, the ${e} is selected based on the specified locale.`;qt.log("W0003","config",e,"19.2",t)}}),q(xz,i)};typeof DevExpress<"u"&&DevExpress.config&&Cz(DevExpress.config);var ui=Cz;var sme=Ut.inherit({ctor:function(i){i&&(i=String(i)),this._value=this._normalize(i||this._generate())},_normalize:function(i){for(i=i.replace(/[^a-f0-9]/gi,"").toLowerCase();i.length<32;)i+="0";return[i.substr(0,8),i.substr(8,4),i.substr(12,4),i.substr(16,4),i.substr(20,12)].join("-")},_generate:function(){let i="";for(let e=0;e<32;e++)i+=Math.round(15*Math.random()).toString(16);return i},toString:function(){return this._value},valueOf:function(){return this._value},toJSON:function(){return this._value}}),yi=sme;var _c=function(i){this._options=i||{},this._list=[],this._queue=[],this._firing=!1,this._fired=!1,this._firingIndexes=[]};_c.prototype._fireCore=function(i,e){let t=this._firingIndexes,n=this._list,o=this._options.stopOnFalse,r=t.length;for(t[r]=0;t[r]<n.length&&!(n[t[r]].apply(i,e)===!1&&o);t[r]++);t.pop()};_c.prototype.add=function(i){return typeof i=="function"&&(!this._options.unique||!this.has(i))&&this._list.push(i),this};_c.prototype.remove=function(i){let e=this._list,t=this._firingIndexes,n=e.indexOf(i);if(n>-1&&(e.splice(n,1),this._firing&&t.length))for(let o=0;o<t.length;o++)n<=t[o]&&t[o]--;return this};_c.prototype.has=function(i){let e=this._list;return i?e.indexOf(i)>-1:!!e.length};_c.prototype.empty=function(i){return this._list=[],this};_c.prototype.fireWith=function(i,e){let t=this._queue;if(e=e||[],e=e.slice?e.slice():e,this._options.syncStrategy)this._firing=!0,this._fireCore(i,e);else{if(t.push([i,e]),this._firing)return;for(this._firing=!0;t.length;){let n=t.shift();this._fireCore(n[0],n[1])}}return this._firing=!1,this._fired=!0,this};_c.prototype.fire=function(){this.fireWith(this,arguments)};_c.prototype.fired=function(){return this._fired};var ame=function(i){return new _c(i)},Gt=ame;var wz=[{method:"resolve",handler:"done",state:"resolved"},{method:"reject",handler:"fail",state:"rejected"},{method:"notify",handler:"progress"}],Fm=function(){let i=this;this._state="pending",this._promise={},wz.forEach((function(e){let t=e.method;this[t+"Callbacks"]=Gt(),this[t]=(function(){return this[t+"With"](this._promise,arguments)}).bind(this),this._promise[e.handler]=function(n){if(!n)return this;let o=i[t+"Callbacks"];return o.fired()?n.apply(i[t+"Context"],i[t+"Args"]):o.add((function(r,s){n.apply(r,s)}).bind(this)),this}}).bind(this)),this._promise.always=function(e){return this.done(e).fail(e)},this._promise.catch=function(e){return this.then(null,e)},this._promise.then=function(e,t){let n=new Fm;return["done","fail"].forEach((function(o){let r=o==="done"?e:t;this[o](function(){if(!r){n[o==="done"?"resolve":"reject"].apply(this,arguments);return}let s=r&&r.apply(this,arguments);km(s)?s.done(n.resolve).fail(n.reject):rd(s)?s.then(n.resolve,n.reject):n.resolve.apply(this,U(s)?[s]:arguments)})}).bind(this)),n.promise()},this._promise.state=function(){return i._state},this._promise.promise=function(e){return e?q(e,i._promise):i._promise},this._promise.promise(this)};wz.forEach(function(i){let e=i.method,t=i.state;Fm.prototype[e+"With"]=function(n,o){let r=this[e+"Callbacks"];return this.state()==="pending"&&(this[e+"Args"]=o,this[e+"Context"]=n,t&&(this._state=t),r.fire(n,o),t!=="pending"&&(this.resolveCallbacks.empty(),this.rejectCallbacks.empty())),this}});function Yn(i,e){if(km(i))return i;if(rd(i)){let t=new Fm;return i.then(function(){t.resolveWith.apply(t,[e].concat([[].slice.call(arguments)]))},function(){t.rejectWith.apply(t,[e].concat([[].slice.call(arguments)]))}),t}return new Fm().resolveWith(e,[i])}var lme=function(){if(arguments.length===1)return Yn(arguments[0]);let i=[].slice.call(arguments),e=[],t=0,n=new Fm,o=function(r){return function(s){e[r]=this,i[r]=arguments.length>1?[].slice.call(arguments):s,t++,t===i.length&&n.resolveWith(e,i)}};for(let r=0;r<i.length;r++)km(i[r])?i[r].promise().done(o(r)).fail(n.reject):t++;return t===i.length&&n.resolveWith(e,i),n.promise()};function le(){return new Fm}function Be(){return lme.apply(this,arguments)}var bo=_o({isWrapped:function(){return!1},isWritableWrapped:function(){return!1},wrap:function(i){return i},unwrap:function(i){return i},assign:function(){Qu.error("Method 'assign' should not be used for not wrapped variables. Use 'isWrapped' method for ensuring.")}});var fb=function(i,e){let t=[],n,o;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.push(n);for(t.sort(function(r,s){let a=ai(r),l=ai(s);return a&&l?r-s:a&&!l?-1:!a&&l?1:r<s?-1:r>s?1:0}),o=0;o<t.length;o++)n=t[o],e(n,i[n])},dme=function(i,e,t,n){!n&&bo.isWrapped(i[e])?bo.assign(i[e],t):i[e]=t},Tr=function(i,e,t,n){let o,r;for(let s in e)if(o=i[s],r=e[s],!(s==="__proto__"||s==="constructor"||i===r)){if(ht(r)){let a=t?Ke(o):ht(o);r=Tr(a?o:{},r,t,n)}r!==void 0&&o!==r&&dme(i,s,r,n)}return i};var cme=bo.unwrap,Ez=bo.isWrapped,ume=bo.assign,hme=function(i){return i.replace(/\[/g,".").replace(/\]/g,"")},Ca=function(i){return hme(i).split(".")},pme=function(i,e,t){return t=t||{},mb(e==="this"?i:i[e],t)},Oz=function(i,e,t,n){if(e==="this")throw new qt.Error("E4016");let o=i[e];n.unwrapObservables&&Ez(o)?ume(o,t):i[e]=t},Iz=function(i){return i=i||{},i.unwrapObservables=i.unwrapObservables!==void 0?i.unwrapObservables:!0,i};function mb(i,e){return e.unwrapObservables?cme(i):i}var Qt=function(i){if(arguments.length>1&&(i=[].slice.call(arguments)),!i||i==="this")return function(e){return e};if(typeof i=="string"){let e=Ca(i);return function(t,n){n=Iz(n);let o=n.functionsAsIs,r="defaultValue"in n,s=mb(t,n);for(let a=0;a<e.length;a++){if(!s){if(s==null&&r)return n.defaultValue;break}let l=e[a];if(r&&Ke(s)&&!(l in s))return n.defaultValue;let d=mb(s[l],n);!o&&Ie(d)&&(d=d.call(s)),s=d}return s}}if(Array.isArray(i))return fme(i);if(Ie(i))return i};function fme(i){let e={};for(let t=0,n=i.length;t<n;t++){let o=i[t];e[o]=Qt(o)}return function(t,n){let o;return ee(e,function(r){let s=this(t,n);if(s===void 0)return;let a=o||(o={}),l=r.split("."),d=l.length-1;for(let c=0;c<d;c++){let u=l[c];u in a||(a[u]={}),a=a[u]}a[l[d]]=s}),o}}var Sz=function(i,e,t,n){if(U(t))return t;let o={};return Oz(i,e,o,n),o},Pm=function(i){i=Ca(i||"this");let e=i.length-1;return function(t,n,o){o=Iz(o);let r=mb(t,o);i.forEach(function(s,a){let l=pme(r,s,o),d=!o.functionsAsIs&&Ie(l)&&!Ez(l);a===e?o.merge&&ht(n)&&(!U(l)||ht(l))?(l=Sz(r,s,l,o),Tr(l,n,!1,!0)):d?r[s](n):Oz(r,s,n,o):(l=Sz(r,s,l,o),d&&(l=l.call(r)),r=l)})}},uo=function(i,e){var t;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(i instanceof Date)return i.getTime();if(i&&i instanceof Ut&&i.valueOf)return i.valueOf();if(!((n==null||(t=n.collatorOptions)===null||t===void 0?void 0:t.sensitivity)==="case"||e)&&typeof i=="string"){var r;if((n==null||(r=n.collatorOptions)===null||r===void 0?void 0:r.sensitivity)==="base"){let s=/[\u0300-\u036f]/g;i=i.normalize("NFD").replace(s,"")}return n!=null&&n.locale?i.toLocaleLowerCase(n.locale):i.toLowerCase()}return i};var ji=function(i,e){return U(i)?i:e},Nm=function(i,e){let t=new le,n=e||this,o={promise:t.promise(),abort:function(){clearTimeout(r),t.rejectWith(n)}},r=(arguments[2]||setTimeout)(function(){let s=i.call(n);s&&s.done&&Ie(s.done)?s.done(function(){t.resolveWith(n)}):t.resolveWith(n)},typeof e=="number"?e:0);return o},Qk=[],Dz=[],gb=[],Lm,Ow=function(i,e,t){if(Lm&&Lm!==i)return Qk.push(e),Dz.push(i),t=t||new le,gb.push(t),t;{let n=Lm,o=gb.length;Lm=i;let r=e();return r||(gb.length>o?r=Be.apply(this,gb.slice(o)):t&&t.resolve()),Lm=n,t&&r&&r.done&&r.done(t.resolve).fail(t.reject),!Lm&&Qk.length&&(Dz.shift()==="render"?jn:Go)(Qk.shift(),gb.shift()),r||Be()}},jn=function(i,e){return Ow("render",i,e)},Go=function(i,e){return Ow("update",i,e)},sd=function(i){return function(){let e=this;return Ow("render",function(){return i.call(e)})}},Jk=function(i){return function(){let e=this;return Ow("update",function(){return i.call(e)})}},Iw=function(i,e,t){let n=[],o=0;return ee(e,(r,s)=>{let a=0,l=t?t(s):s;ee(i,(d,c)=>{let u=l[d];if(u!==void 0){if(mme(u,c)){a++;return}return a=-1,!1}}),!(a<o)&&(a>o&&(n.length=0,o=a),n.push(s))}),n},mme=function(i,e){if(Array.isArray(i)&&Array.isArray(e)){let t=!1;return ee(i,(n,o)=>{if(o!==e[n])return t=!0,!1}),!t}return i===e},ad=function(i){switch(or(i)){case"string":return i.split(/\s+/,2);case"object":return[i.x??i.h,i.y??i.v];case"number":return[i];case"array":return i;default:return null}};var Dw=function(i,e){let t=ad(i),n=e?parseFloat(t&&t[0]):parseInt(t&&t[0],10),o=e?parseFloat(t&&t[1]):parseInt(t&&t[1],10);return isFinite(n)||(n=0),isFinite(o)||(o=n),{h:n,v:o}},$r=function(i){if(i instanceof yi)return i.toString();if(Ke(i)||Array.isArray(i))try{let e=JSON.stringify(i);return e==="{}"?i:e}catch{return i}return i},wa=function(i){return i.replace(/[[\]{}\-()*+?.\\^$|\s]/g,"\\$&")},Az=function(i){let e=ui().serverDecimalSeparator;return U(i)&&(i=i.toString().replace(".",e)),i},pe=function(){},Tw=function(){return new le().resolve().promise()},vo=function(i,e,t){let n=[],o,r=!t;for(let s=0;s<i.length;s++)o=!!e(i[s],s),o===r&&n.push(i[s]);return n},gme=(i,e,t,n)=>i.length!==e.length?!1:!i.some((o,r)=>!eM(o,e[r],t+1,ye({},n,{strict:!0}))),_me=(i,e,t,n)=>{let o=Object.keys(i),r=Object.keys(e);if(o.length!==r.length)return!1;let s=new Set(r);return!o.some(a=>!s.has(a)||!eM(i[a],e[a],t+1,n))},Tz={maxDepth:3,strict:!0},eM=(i,e,t,n)=>{let{strict:o,maxDepth:r}=n,s=uo(i,!0),a=uo(e,!0),l=o?s===a:s==a;switch(!0){case l:case t>=r:return!0;case(Ke(s)&&Ke(a)):return _me(s,a,t,n);case(Array.isArray(s)&&Array.isArray(a)):return gme(s,a,t,n);default:return!1}},hi=function(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Tz,n=ye({},Tz,t);return eM(i,e,0,n)};var pl=function(i){return i===0?0:i/Math.abs(i)},ho=function(i,e,t){let n=!e&&e!==0,o=!t&&t!==0;return n&&(e=o?i:Math.min(i,t)),o&&(t=n?i:Math.max(i,e)),Math.min(Math.max(i,e),t)},Rs=function(i,e,t){return i>=e&&i<=t};function kz(i){return Math.abs(parseInt(i.toExponential().split("e")[1]))}function bme(i){let e=i.toExponential().split("e"),t=parseFloat(e[0]);return{exponent:parseInt(e[1]),mantissa:t}}function Aw(i,e){let t=bme(i);return parseFloat(`${t.mantissa}e${t.exponent+e}`)}function vme(){return 3e-4.toPrecision(3)!=="0.000300"}function _b(i,e){let t=yme(e||0)+2,n=i.toString().split("."),o=i,r=Math.abs(i),s,a=ww(i),l=r>1?10:0;return n.length===1?i:(a||(ww(e)&&(t=n[0].length+kz(e)),i=r,i=i-Math.floor(i)+l),t=vme()&&kz(i)>6||t>7?15:7,!a&&(s=parseFloat(i.toPrecision(t)).toString().split("."),s[0]===l.toString())?parseFloat(n[0]+"."+s[1]):parseFloat(o.toPrecision(t)))}function yme(i){let e=i.toString();if(e.indexOf(".")<0)return 0;let t=e.split("."),n=t[1].indexOf("e");return n>=0?n:t[1].length}var xme=10;function Cme(i){return pl(i)*Math.round(Math.abs(i))}function wme(i,e){let t=Math.pow(xme,e),n=Aw(i,e);return Cme(n)/t}function kw(i,e){let t=e||0;return(t>0?wme(...arguments):i).toFixed(t)}var Sme={thousandsSeparator:",",decimalSeparator:"."},Mz="'";function Eme(i){return i.split(",").slice(1).map(function(e){let t=0;return e.split("").filter(function(n,o){t+=n==="'";let r=n==="#"||n==="0",s=t%2;return r&&!s}).length})}function Ome(i){let e=i.split(";");return e.length===1&&e.push("-"+e[0]),e}function tM(i){return i.toString().split("").reverse().join("")}function Ime(i){return i.indexOf("%")!==-1&&!i.match(/'[^']*%[^']*'/g)}function Vz(i){return i.replace(/'.+'/g,"")}function Rz(i){if(!i)return 0;let e=Vz(i);return e.length-e.replace(/[#]/g,"").length}function Fz(i){if(!i)return 0;let e=Vz(i);return e.length-e.replace(/[0]/g,"").length}function Pz(i,e,t){if(!i)return"";for(i.length>t&&(i=i.substr(0,t));i.length>e&&i.slice(-1)==="0";)i=i.substr(0,i.length-1);for(;i.length<e;)i+="0";return i}function Dme(i,e,t){if(!e.length)return i;let n=[],o=0;for(;i;){let r=e[o];if(!r)break;n.push(i.slice(0,r)),i=i.slice(r),o<e.length-1&&o++}return n.join(t)}function Lz(i,e){return i.split(Mz).map(function(t,n){let o=n%2;return!t&&o?Mz:o?t:t.replace(/[,#0]+/,e)}).join("")}function Tme(i){let e=!1;for(let t=0;t<i.length;t++)if(i[t]==="'"&&(e=!e),i[t]==="."&&!e)return t;return i.length}function Hz(i,e){return e=e||Sme,function(t){if(typeof t!="number"||isNaN(t))return"";let n=Ome(i),o=1/t===1/0,r=t>0||o,s=n[r?0:1],a=Tme(s),l=[s.substr(0,a),s.substr(a+1)],d=Fz(l[1]),c=d+Rz(l[1]);Ime(s)&&(t=Aw(t,2)),r||(t=-t);let u=Fz(l[0]),h=Rz(l[0])||e.unlimitedIntegerDigits?void 0:u,f=Math.floor(t).toString().length,p=ho(c,0,15-f),m=Eme(l[0]).reverse(),g=kw(t,p<0?0:p).split("."),b=Pz(tM(g[0]),u,h),x=Pz(g[1],d,c);b=Dme(b,m,e.thousandsSeparator);let E=tM(Lz(tM(l[0]),b)),D=c?Lz(l[1],x):"";return E+(D.match(/\d/)?e.decimalSeparator:"")+D}}function bb(i,e,t){let n=(e?.01:1)*parseFloat(i)||0;return t?-n:n}function Nz(i,e,t,n){let o=i,r,s,a;do a&&(r=s.length===a.length?"0":"1",i=n?r+i:i+r),s=a||e(bb(o,t)),o=n?"1"+o:o+"1",a=e(bb(o,t));while(s!==a&&(n?s.length===a.length:s.length<=a.length));if(n&&a.length>s.length){let l=e(12345).indexOf("12345")===-1;do i="1"+i;while(l&&bb(i,t)<1e5)}return i}function Bz(i,e,t,n){let o=e(bb(i,t,n)),r=i.split("."),s=r[0]+".3"+r[1].slice(1),a=bb(s,t,n),l=e(a).indexOf("3")-1;return o=o.replace(/(\d)\D(\d)/g,"$1,$2"),l>=0&&(o=o.slice(0,l)+"."+o.slice(l+1)),o=o.replace(/1+/,"1").replace(/1/g,"#"),t||(o=o.replace(/%/g,"'%'")),o}function zz(i){let e=".",t=i(1).indexOf("100")>=0;e=Nz(e,i,t,!0),e=Nz(e,i,t,!1);let n=Bz(e,i,t,!1),o=Bz(e,i,t,!0);return o==="-"+n?n:n+";"+o}var jz={_formatNumberCore:function(i,e,t){if(e==="currency"){t.precision=t.precision||0;let n=this.format(i,q({},t,{type:"fixedpoint"})),o=this.getCurrencySymbol().symbol.replace(/\$/g,"$$$$");return n=n.replace(/^(\D*)(\d.*)/,"$1"+o+"$2"),n}return this.callBase.apply(this,arguments)},getCurrencySymbol:function(){return{symbol:"$"}},getOpenXmlCurrencyFormat:function(){return"$#,##0{0}_);\\($#,##0{0}\\)"}};var $z={"en-150":"en-001","en-AG":"en-001","en-AI":"en-001","en-AU":"en-001","en-BB":"en-001","en-BM":"en-001","en-BS":"en-001","en-BW":"en-001","en-BZ":"en-001","en-CC":"en-001","en-CK":"en-001","en-CM":"en-001","en-CX":"en-001","en-CY":"en-001","en-DG":"en-001","en-DM":"en-001","en-ER":"en-001","en-FJ":"en-001","en-FK":"en-001","en-FM":"en-001","en-GB":"en-001","en-GD":"en-001","en-GG":"en-001","en-GH":"en-001","en-GI":"en-001","en-GM":"en-001","en-GY":"en-001","en-HK":"en-001","en-IE":"en-001","en-IL":"en-001","en-IM":"en-001","en-IN":"en-001","en-IO":"en-001","en-JE":"en-001","en-JM":"en-001","en-KE":"en-001","en-KI":"en-001","en-KN":"en-001","en-KY":"en-001","en-LC":"en-001","en-LR":"en-001","en-LS":"en-001","en-MG":"en-001","en-MO":"en-001","en-MS":"en-001","en-MT":"en-001","en-MU":"en-001","en-MV":"en-001","en-MW":"en-001","en-MY":"en-001","en-NA":"en-001","en-NF":"en-001","en-NG":"en-001","en-NR":"en-001","en-NU":"en-001","en-NZ":"en-001","en-PG":"en-001","en-PK":"en-001","en-PN":"en-001","en-PW":"en-001","en-RW":"en-001","en-SB":"en-001","en-SC":"en-001","en-SD":"en-001","en-SG":"en-001","en-SH":"en-001","en-SL":"en-001","en-SS":"en-001","en-SX":"en-001","en-SZ":"en-001","en-TC":"en-001","en-TK":"en-001","en-TO":"en-001","en-TT":"en-001","en-TV":"en-001","en-TZ":"en-001","en-UG":"en-001","en-VC":"en-001","en-VG":"en-001","en-VU":"en-001","en-WS":"en-001","en-ZA":"en-001","en-ZM":"en-001","en-ZW":"en-001","en-AT":"en-150","en-BE":"en-150","en-CH":"en-150","en-DE":"en-150","en-DK":"en-150","en-FI":"en-150","en-NL":"en-150","en-SE":"en-150","en-SI":"en-150","hi-Latn":"en-IN","es-AR":"es-419","es-BO":"es-419","es-BR":"es-419","es-BZ":"es-419","es-CL":"es-419","es-CO":"es-419","es-CR":"es-419","es-CU":"es-419","es-DO":"es-419","es-EC":"es-419","es-GT":"es-419","es-HN":"es-419","es-MX":"es-419","es-NI":"es-419","es-PA":"es-419","es-PE":"es-419","es-PR":"es-419","es-PY":"es-419","es-SV":"es-419","es-US":"es-419","es-UY":"es-419","es-VE":"es-419",nb:"no",nn:"no","pt-AO":"pt-PT","pt-CH":"pt-PT","pt-CV":"pt-PT","pt-FR":"pt-PT","pt-GQ":"pt-PT","pt-GW":"pt-PT","pt-LU":"pt-PT","pt-MO":"pt-PT","pt-MZ":"pt-PT","pt-ST":"pt-PT","pt-TL":"pt-PT","az-Arab":"und","az-Cyrl":"und","bal-Latn":"und","blt-Latn":"und","bm-Nkoo":"und","bs-Cyrl":"und","byn-Latn":"und","cu-Glag":"und","dje-Arab":"und","dyo-Arab":"und","en-Dsrt":"und","en-Shaw":"und","ff-Adlm":"und","ff-Arab":"und","ha-Arab":"und","iu-Latn":"und","kk-Arab":"und","ks-Deva":"und","ku-Arab":"und","ky-Arab":"und","ky-Latn":"und","ml-Arab":"und","mn-Mong":"und","mni-Mtei":"und","ms-Arab":"und","pa-Arab":"und","sat-Deva":"und","sd-Deva":"und","sd-Khoj":"und","sd-Sind":"und","shi-Latn":"und","so-Arab":"und","sr-Latn":"und","sw-Arab":"und","tg-Arab":"und","ug-Cyrl":"und","uz-Arab":"und","uz-Cyrl":"und","vai-Latn":"und","wo-Arab":"und","yo-Arab":"und","yue-Hans":"und","zh-Hant":"und","zh-Hant-MO":"zh-Hant-HK"};var Wz=(i,e)=>{let t=i[e];return t?t!=="root"&&t:e.substr(0,e.lastIndexOf("-"))};var Ko=_o({locale:(()=>{let i="en";return e=>{if(!e)return i;i=e}})(),getValueByClosestLocale:function(i){let e=this.locale(),t=i(e),n;for(;!t&&!n;)e=Wz($z,e),e?t=i(e):n=!0;return t===void 0&&e!=="en"?i("en"):t}});var Uz=(i,e)=>{if(!e)return;let t=i;if(typeof i=="string"){t="";for(let r=0;r<i.length;r++)i[r]!=="$"&&(t+="\\"),t+=i[r]}let n={".00":"{0}","'":"\\'","\\(":"\\(","\\)":"\\)"," ":"\\ ",'"':"&quot;","\\\xA4":t},o=e.split(";");for(let r=0;r<o.length;r++)for(let s in n)Object.prototype.hasOwnProperty.call(n,s)&&(o[r]=o[r].replace(new RegExp(s,"g"),n[s]));return o.length===2?o[0]+"_);"+o[1]:o[0]};var Gz={af:"\xA4#,##0.00;(\xA4#,##0.00)","af-NA":"\xA4#,##0.00;(\xA4#,##0.00)",agq:"#,##0.00\xA4",ak:"\xA4#,##0.00",am:"\xA4#,##0.00;(\xA4#,##0.00)",ar:"\xA4#,##0.00;(\xA4#,##0.00)","ar-AE":"\xA4#,##0.00;(\xA4#,##0.00)","ar-BH":"\xA4#,##0.00;(\xA4#,##0.00)","ar-DJ":"\xA4#,##0.00;(\xA4#,##0.00)","ar-DZ":"\xA4#,##0.00;(\xA4#,##0.00)","ar-EG":"\xA4#,##0.00;(\xA4#,##0.00)","ar-EH":"\xA4#,##0.00;(\xA4#,##0.00)","ar-ER":"\xA4#,##0.00;(\xA4#,##0.00)","ar-IL":"\xA4#,##0.00;(\xA4#,##0.00)","ar-IQ":"\xA4#,##0.00;(\xA4#,##0.00)","ar-JO":"\xA4#,##0.00;(\xA4#,##0.00)","ar-KM":"\xA4#,##0.00;(\xA4#,##0.00)","ar-KW":"\xA4#,##0.00;(\xA4#,##0.00)","ar-LB":"\xA4#,##0.00;(\xA4#,##0.00)","ar-LY":"\xA4#,##0.00;(\xA4#,##0.00)","ar-MA":"\xA4#,##0.00;(\xA4#,##0.00)","ar-MR":"\xA4#,##0.00;(\xA4#,##0.00)","ar-OM":"\xA4#,##0.00;(\xA4#,##0.00)","ar-PS":"\xA4#,##0.00;(\xA4#,##0.00)","ar-QA":"\xA4#,##0.00;(\xA4#,##0.00)","ar-SA":"\xA4#,##0.00;(\xA4#,##0.00)","ar-SD":"\xA4#,##0.00;(\xA4#,##0.00)","ar-SO":"\xA4#,##0.00;(\xA4#,##0.00)","ar-SS":"\xA4#,##0.00;(\xA4#,##0.00)","ar-SY":"\xA4#,##0.00;(\xA4#,##0.00)","ar-TD":"\xA4#,##0.00;(\xA4#,##0.00)","ar-TN":"\xA4#,##0.00;(\xA4#,##0.00)","ar-YE":"\xA4#,##0.00;(\xA4#,##0.00)",as:"\xA4\xA0#,##,##0.00",asa:"#,##0.00\xA0\xA4",ast:"#,##0.00\xA0\xA4",az:"#,##0.00\xA0\xA4","az-Cyrl":"#,##0.00\xA0\xA4","az-Latn":"#,##0.00\xA0\xA4",bas:"#,##0.00\xA0\xA4",be:"#,##0.00\xA0\xA4","be-tarask":"#,##0.00\xA0\xA4",bem:"\xA4#,##0.00;(\xA4#,##0.00)",bez:"#,##0.00\xA4",bg:"0.00\xA0\xA4;(0.00\xA0\xA4)",bm:"\xA4#,##0.00;(\xA4#,##0.00)",bn:"#,##,##0.00\xA4;(#,##,##0.00\xA4)","bn-IN":"#,##,##0.00\xA4;(#,##,##0.00\xA4)",bo:"\xA4\xA0#,##0.00","bo-IN":"\xA4\xA0#,##0.00",br:"#,##0.00\xA0\xA4",brx:"\xA4\xA0#,##,##0.00",bs:"#,##0.00\xA0\xA4","bs-Cyrl":"#,##0.00\xA0\xA4","bs-Latn":"#,##0.00\xA0\xA4",ca:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","ca-AD":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","ca-ES-valencia":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","ca-FR":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","ca-IT":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",ccp:"#,##,##0.00\xA4;(#,##,##0.00\xA4)","ccp-IN":"#,##,##0.00\xA4;(#,##,##0.00\xA4)",ce:"#,##0.00\xA0\xA4",ceb:"\xA4#,##0.00;(\xA4#,##0.00)",cgg:"\xA4#,##0.00",chr:"\xA4#,##0.00;(\xA4#,##0.00)",ckb:"\xA4\xA0#,##0.00","ckb-IR":"\xA4\xA0#,##0.00",cs:"#,##0.00\xA0\xA4",cy:"\xA4#,##0.00;(\xA4#,##0.00)",da:"#,##0.00\xA0\xA4","da-GL":"#,##0.00\xA0\xA4",dav:"\xA4#,##0.00;(\xA4#,##0.00)",de:"#,##0.00\xA0\xA4","de-AT":"#,##0.00\xA0\xA4","de-BE":"#,##0.00\xA0\xA4","de-CH":"#,##0.00\xA0\xA4","de-IT":"#,##0.00\xA0\xA4","de-LI":"#,##0.00\xA0\xA4","de-LU":"#,##0.00\xA0\xA4",dje:"#,##0.00\xA4",doi:"\xA4#,##0.00",dsb:"#,##0.00\xA0\xA4",dua:"#,##0.00\xA0\xA4",dyo:"#,##0.00\xA0\xA4",dz:"\xA4#,##,##0.00",ebu:"\xA4#,##0.00;(\xA4#,##0.00)",ee:"\xA4#,##0.00;(\xA4#,##0.00)","ee-TG":"\xA4#,##0.00;(\xA4#,##0.00)",el:"#,##0.00\xA0\xA4","el-CY":"#,##0.00\xA0\xA4",en:"\xA4#,##0.00;(\xA4#,##0.00)","en-001":"\xA4#,##0.00;(\xA4#,##0.00)","en-150":"#,##0.00\xA0\xA4","en-AE":"\xA4#,##0.00;(\xA4#,##0.00)","en-AG":"\xA4#,##0.00;(\xA4#,##0.00)","en-AI":"\xA4#,##0.00;(\xA4#,##0.00)","en-AS":"\xA4#,##0.00;(\xA4#,##0.00)","en-AT":"\xA4\xA0#,##0.00","en-AU":"\xA4#,##0.00;(\xA4#,##0.00)","en-BB":"\xA4#,##0.00;(\xA4#,##0.00)","en-BE":"#,##0.00\xA0\xA4","en-BI":"\xA4#,##0.00;(\xA4#,##0.00)","en-BM":"\xA4#,##0.00;(\xA4#,##0.00)","en-BS":"\xA4#,##0.00;(\xA4#,##0.00)","en-BW":"\xA4#,##0.00;(\xA4#,##0.00)","en-BZ":"\xA4#,##0.00;(\xA4#,##0.00)","en-CA":"\xA4#,##0.00;(\xA4#,##0.00)","en-CC":"\xA4#,##0.00;(\xA4#,##0.00)","en-CH":"\xA4\xA0#,##0.00;\xA4-#,##0.00","en-CK":"\xA4#,##0.00;(\xA4#,##0.00)","en-CM":"\xA4#,##0.00;(\xA4#,##0.00)","en-CX":"\xA4#,##0.00;(\xA4#,##0.00)","en-CY":"\xA4#,##0.00;(\xA4#,##0.00)","en-DE":"#,##0.00\xA0\xA4","en-DG":"\xA4#,##0.00;(\xA4#,##0.00)","en-DK":"#,##0.00\xA0\xA4","en-DM":"\xA4#,##0.00;(\xA4#,##0.00)","en-ER":"\xA4#,##0.00;(\xA4#,##0.00)","en-FI":"#,##0.00\xA0\xA4","en-FJ":"\xA4#,##0.00;(\xA4#,##0.00)","en-FK":"\xA4#,##0.00;(\xA4#,##0.00)","en-FM":"\xA4#,##0.00;(\xA4#,##0.00)","en-GB":"\xA4#,##0.00;(\xA4#,##0.00)","en-GD":"\xA4#,##0.00;(\xA4#,##0.00)","en-GG":"\xA4#,##0.00;(\xA4#,##0.00)","en-GH":"\xA4#,##0.00;(\xA4#,##0.00)","en-GI":"\xA4#,##0.00;(\xA4#,##0.00)","en-GM":"\xA4#,##0.00;(\xA4#,##0.00)","en-GU":"\xA4#,##0.00;(\xA4#,##0.00)","en-GY":"\xA4#,##0.00;(\xA4#,##0.00)","en-HK":"\xA4#,##0.00;(\xA4#,##0.00)","en-IE":"\xA4#,##0.00;(\xA4#,##0.00)","en-IL":"\xA4#,##0.00;(\xA4#,##0.00)","en-IM":"\xA4#,##0.00;(\xA4#,##0.00)","en-IN":"\xA4#,##0.00;(\xA4#,##0.00)","en-IO":"\xA4#,##0.00;(\xA4#,##0.00)","en-JE":"\xA4#,##0.00;(\xA4#,##0.00)","en-JM":"\xA4#,##0.00;(\xA4#,##0.00)","en-KE":"\xA4#,##0.00;(\xA4#,##0.00)","en-KI":"\xA4#,##0.00;(\xA4#,##0.00)","en-KN":"\xA4#,##0.00;(\xA4#,##0.00)","en-KY":"\xA4#,##0.00;(\xA4#,##0.00)","en-LC":"\xA4#,##0.00;(\xA4#,##0.00)","en-LR":"\xA4#,##0.00;(\xA4#,##0.00)","en-LS":"\xA4#,##0.00;(\xA4#,##0.00)","en-MG":"\xA4#,##0.00;(\xA4#,##0.00)","en-MH":"\xA4#,##0.00;(\xA4#,##0.00)","en-MO":"\xA4#,##0.00;(\xA4#,##0.00)","en-MP":"\xA4#,##0.00;(\xA4#,##0.00)","en-MS":"\xA4#,##0.00;(\xA4#,##0.00)","en-MT":"\xA4#,##0.00;(\xA4#,##0.00)","en-MU":"\xA4#,##0.00;(\xA4#,##0.00)","en-MV":"\xA4\xA0#,##0.00","en-MW":"\xA4#,##0.00;(\xA4#,##0.00)","en-MY":"\xA4#,##0.00;(\xA4#,##0.00)","en-NA":"\xA4#,##0.00;(\xA4#,##0.00)","en-NF":"\xA4#,##0.00;(\xA4#,##0.00)","en-NG":"\xA4#,##0.00;(\xA4#,##0.00)","en-NL":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","en-NR":"\xA4#,##0.00;(\xA4#,##0.00)","en-NU":"\xA4#,##0.00;(\xA4#,##0.00)","en-NZ":"\xA4#,##0.00;(\xA4#,##0.00)","en-PG":"\xA4#,##0.00;(\xA4#,##0.00)","en-PH":"\xA4#,##0.00;(\xA4#,##0.00)","en-PK":"\xA4#,##0.00;(\xA4#,##0.00)","en-PN":"\xA4#,##0.00;(\xA4#,##0.00)","en-PR":"\xA4#,##0.00;(\xA4#,##0.00)","en-PW":"\xA4#,##0.00;(\xA4#,##0.00)","en-RW":"\xA4#,##0.00;(\xA4#,##0.00)","en-SB":"\xA4#,##0.00;(\xA4#,##0.00)","en-SC":"\xA4#,##0.00;(\xA4#,##0.00)","en-SD":"\xA4#,##0.00;(\xA4#,##0.00)","en-SE":"#,##0.00\xA0\xA4","en-SG":"\xA4#,##0.00;(\xA4#,##0.00)","en-SH":"\xA4#,##0.00;(\xA4#,##0.00)","en-SI":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","en-SL":"\xA4#,##0.00;(\xA4#,##0.00)","en-SS":"\xA4#,##0.00;(\xA4#,##0.00)","en-SX":"\xA4#,##0.00;(\xA4#,##0.00)","en-SZ":"\xA4#,##0.00;(\xA4#,##0.00)","en-TC":"\xA4#,##0.00;(\xA4#,##0.00)","en-TK":"\xA4#,##0.00;(\xA4#,##0.00)","en-TO":"\xA4#,##0.00;(\xA4#,##0.00)","en-TT":"\xA4#,##0.00;(\xA4#,##0.00)","en-TV":"\xA4#,##0.00;(\xA4#,##0.00)","en-TZ":"\xA4#,##0.00;(\xA4#,##0.00)","en-UG":"\xA4#,##0.00;(\xA4#,##0.00)","en-UM":"\xA4#,##0.00;(\xA4#,##0.00)","en-VC":"\xA4#,##0.00;(\xA4#,##0.00)","en-VG":"\xA4#,##0.00;(\xA4#,##0.00)","en-VI":"\xA4#,##0.00;(\xA4#,##0.00)","en-VU":"\xA4#,##0.00;(\xA4#,##0.00)","en-WS":"\xA4#,##0.00;(\xA4#,##0.00)","en-ZA":"\xA4#,##0.00;(\xA4#,##0.00)","en-ZM":"\xA4#,##0.00;(\xA4#,##0.00)","en-ZW":"\xA4#,##0.00;(\xA4#,##0.00)",eo:"\xA4\xA0#,##0.00",es:"#,##0.00\xA0\xA4","es-419":"\xA4#,##0.00","es-AR":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","es-BO":"\xA4#,##0.00","es-BR":"\xA4#,##0.00","es-BZ":"\xA4#,##0.00","es-CL":"\xA4#,##0.00","es-CO":"\xA4#,##0.00","es-CR":"\xA4#,##0.00","es-CU":"\xA4#,##0.00","es-DO":"\xA4#,##0.00;(\xA4#,##0.00)","es-EA":"#,##0.00\xA0\xA4","es-EC":"\xA4#,##0.00","es-GQ":"#,##0.00\xA0\xA4","es-GT":"\xA4#,##0.00","es-HN":"\xA4#,##0.00","es-IC":"#,##0.00\xA0\xA4","es-MX":"\xA4#,##0.00","es-NI":"\xA4#,##0.00","es-PA":"\xA4#,##0.00","es-PE":"\xA4#,##0.00","es-PH":"#,##0.00\xA0\xA4","es-PR":"\xA4#,##0.00","es-PY":"\xA4#,##0.00","es-SV":"\xA4#,##0.00","es-US":"\xA4#,##0.00","es-UY":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","es-VE":"\xA4#,##0.00",et:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",eu:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",ewo:"#,##0.00\xA0\xA4",fa:"\u200E\xA4\xA0#,##0.00;\u200E(\xA4\xA0#,##0.00)","fa-AF":"\xA4\xA0#,##0.00;\u200E(\xA4\xA0#,##0.00)",ff:"#,##0.00\xA0\xA4","ff-Adlm":"\xA4\xA0#,##0.00","ff-Adlm-BF":"\xA4\xA0#,##0.00","ff-Adlm-CM":"\xA4\xA0#,##0.00","ff-Adlm-GH":"\xA4\xA0#,##0.00","ff-Adlm-GM":"\xA4\xA0#,##0.00","ff-Adlm-GW":"\xA4\xA0#,##0.00","ff-Adlm-LR":"\xA4\xA0#,##0.00","ff-Adlm-MR":"\xA4\xA0#,##0.00","ff-Adlm-NE":"\xA4\xA0#,##0.00","ff-Adlm-NG":"\xA4\xA0#,##0.00","ff-Adlm-SL":"\xA4\xA0#,##0.00","ff-Adlm-SN":"\xA4\xA0#,##0.00","ff-Latn":"#,##0.00\xA0\xA4","ff-Latn-BF":"#,##0.00\xA0\xA4","ff-Latn-CM":"#,##0.00\xA0\xA4","ff-Latn-GH":"#,##0.00\xA0\xA4","ff-Latn-GM":"#,##0.00\xA0\xA4","ff-Latn-GN":"#,##0.00\xA0\xA4","ff-Latn-GW":"#,##0.00\xA0\xA4","ff-Latn-LR":"#,##0.00\xA0\xA4","ff-Latn-MR":"#,##0.00\xA0\xA4","ff-Latn-NE":"#,##0.00\xA0\xA4","ff-Latn-NG":"#,##0.00\xA0\xA4","ff-Latn-SL":"#,##0.00\xA0\xA4",fi:"#,##0.00\xA0\xA4",fil:"\xA4#,##0.00;(\xA4#,##0.00)",fo:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fo-DK":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",fr:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-BE":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-BF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-BI":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-BJ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-BL":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CA":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CD":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CG":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CH":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CI":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-CM":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-DJ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-DZ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-GA":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-GF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-GN":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-GP":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-GQ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-HT":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-KM":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-LU":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MA":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MC":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MG":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-ML":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MQ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MR":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-MU":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-NC":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-NE":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-PF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-PM":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-RE":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-RW":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-SC":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-SN":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-SY":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-TD":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-TG":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-TN":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-VU":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-WF":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","fr-YT":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",fur:"\xA4\xA0#,##0.00",fy:"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)",ga:"\xA4#,##0.00;(\xA4#,##0.00)","ga-GB":"\xA4#,##0.00;(\xA4#,##0.00)",gd:"\xA4#,##0.00;(\xA4#,##0.00)",gl:"#,##0.00\xA0\xA4",gsw:"#,##0.00\xA0\xA4","gsw-FR":"#,##0.00\xA0\xA4","gsw-LI":"#,##0.00\xA0\xA4",gu:"\xA4#,##,##0.00;(\xA4#,##,##0.00)",guz:"\xA4#,##0.00;(\xA4#,##0.00)",gv:"\xA4#,##0.00",ha:"\xA4\xA0#,##0.00","ha-GH":"\xA4\xA0#,##0.00","ha-NE":"\xA4\xA0#,##0.00",haw:"\xA4#,##0.00;(\xA4#,##0.00)",he:"#,##0.00\xA0\xA4",hi:"\xA4#,##,##0.00","hi-Latn":"\xA4#,##,##0.00",hr:"#,##0.00\xA0\xA4","hr-BA":"#,##0.00\xA0\xA4",hsb:"#,##0.00\xA0\xA4",hu:"#,##0.00\xA0\xA4",hy:"#,##0.00\xA0\xA4",ia:"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)",id:"\xA4#,##0.00",ig:"\xA4#,##0.00;(\xA4#,##0.00)",ii:"\xA4\xA0#,##0.00",is:"#,##0.00\xA0\xA4",it:"#,##0.00\xA0\xA4","it-CH":"#,##0.00\xA0\xA4","it-SM":"#,##0.00\xA0\xA4","it-VA":"#,##0.00\xA0\xA4",ja:"\xA4#,##0.00;(\xA4#,##0.00)",jgo:"\xA4\xA0#,##0.00",jmc:"\xA4#,##0.00",jv:"\xA4\xA0#,##0.00",ka:"#,##0.00\xA0\xA4",kab:"#,##0.00\xA4",kam:"\xA4#,##0.00;(\xA4#,##0.00)",kde:"\xA4#,##0.00;(\xA4#,##0.00)",kea:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",kgp:"\xA4\xA0#,##0.00",khq:"#,##0.00\xA4",ki:"\xA4#,##0.00;(\xA4#,##0.00)",kk:"#,##0.00\xA0\xA4",kkj:"\xA4\xA0#,##0.00",kl:"\xA4#,##0.00;\xA4-#,##0.00",kln:"\xA4#,##0.00;(\xA4#,##0.00)",km:"#,##0.00\xA4;(#,##0.00\xA4)",kn:"\xA4#,##0.00;(\xA4#,##0.00)",ko:"\xA4#,##0.00;(\xA4#,##0.00)","ko-KP":"\xA4#,##0.00;(\xA4#,##0.00)",kok:"\xA4#,##0.00;(\xA4#,##0.00)",ks:"\xA4#,##0.00","ks-Arab":"\xA4#,##0.00","ks-Deva":"\xA4\xA0#,##0.00",ksb:"#,##0.00\xA4",ksf:"#,##0.00\xA0\xA4",ksh:"#,##0.00\xA0\xA4",ku:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",kw:"\xA4#,##0.00",ky:"#,##0.00\xA0\xA4",lag:"\xA4\xA0#,##0.00",lb:"#,##0.00\xA0\xA4",lg:"#,##0.00\xA4",lkt:"\xA4\xA0#,##0.00",ln:"#,##0.00\xA0\xA4","ln-AO":"#,##0.00\xA0\xA4","ln-CF":"#,##0.00\xA0\xA4","ln-CG":"#,##0.00\xA0\xA4",lo:"\xA4#,##0.00;\xA4-#,##0.00",lrc:"\xA4\xA0#,##0.00","lrc-IQ":"\xA4\xA0#,##0.00",lt:"#,##0.00\xA0\xA4",lu:"#,##0.00\xA4",luo:"#,##0.00\xA4",luy:"\xA4#,##0.00;\xA4-\xA0#,##0.00",lv:"#,##0.00\xA0\xA4",mai:"\xA4\xA0#,##0.00",mas:"\xA4#,##0.00;(\xA4#,##0.00)","mas-TZ":"\xA4#,##0.00;(\xA4#,##0.00)",mer:"\xA4#,##0.00;(\xA4#,##0.00)",mfe:"\xA4\xA0#,##0.00",mg:"\xA4#,##0.00",mgh:"\xA4\xA0#,##0.00",mgo:"\xA4\xA0#,##0.00",mi:"\xA4\xA0#,##0.00",mk:"#,##0.00\xA0\xA4",ml:"\xA4#,##0.00;(\xA4#,##0.00)",mn:"\xA4\xA0#,##0.00",mni:"\xA4\xA0#,##0.00","mni-Beng":"\xA4\xA0#,##0.00",mr:"\xA4#,##0.00;(\xA4#,##0.00)",ms:"\xA4#,##0.00;(\xA4#,##0.00)","ms-BN":"\xA4#,##0.00;(\xA4#,##0.00)","ms-ID":"\xA4#,##0.00","ms-SG":"\xA4#,##0.00;(\xA4#,##0.00)",mt:"\xA4#,##0.00",mua:"\xA4#,##0.00;(\xA4#,##0.00)",my:"\xA4\xA0#,##0.00",mzn:"\xA4\xA0#,##0.00",naq:"\xA4#,##0.00",nb:"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nb-SJ":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)",nd:"\xA4#,##0.00;(\xA4#,##0.00)",nds:"\xA4\xA0#,##0.00","nds-NL":"\xA4\xA0#,##0.00",ne:"\xA4\xA0#,##,##0.00","ne-IN":"\xA4\xA0#,##,##0.00",nl:"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-AW":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-BE":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-BQ":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-CW":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-SR":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)","nl-SX":"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)",nmg:"#,##0.00\xA0\xA4",nn:"#,##0.00\xA0\xA4",nnh:"\xA4\xA0#,##0.00",no:"\xA4\xA0#,##0.00;(\xA4\xA0#,##0.00)",nus:"\xA4#,##0.00;(\xA4#,##0.00)",nyn:"\xA4#,##0.00",om:"\xA4#,##0.00","om-KE":"\xA4#,##0.00",or:"\xA4#,##0.00;(\xA4#,##0.00)",os:"\xA4\xA0#,##0.00","os-RU":"\xA4\xA0#,##0.00",pa:"\xA4\xA0#,##0.00","pa-Arab":"\xA4\xA0#,##0.00","pa-Guru":"\xA4\xA0#,##0.00",pcm:"\xA4#,##0.00",pl:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",ps:"\xA4#,##0.00;(\xA4#,##0.00)","ps-PK":"\xA4#,##0.00;(\xA4#,##0.00)",pt:"\xA4\xA0#,##0.00","pt-AO":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-CH":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-CV":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-GQ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-GW":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-LU":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-MO":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-MZ":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-PT":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-ST":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","pt-TL":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",qu:"\xA4\xA0#,##0.00","qu-BO":"\xA4\xA0#,##0.00","qu-EC":"\xA4\xA0#,##0.00",rm:"#,##0.00\xA0\xA4",rn:"#,##0.00\xA4",ro:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","ro-MD":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",rof:"\xA4#,##0.00",ru:"#,##0.00\xA0\xA4","ru-BY":"#,##0.00\xA0\xA4","ru-KG":"#,##0.00\xA0\xA4","ru-KZ":"#,##0.00\xA0\xA4","ru-MD":"#,##0.00\xA0\xA4","ru-UA":"#,##0.00\xA0\xA4",rw:"\xA4\xA0#,##0.00",rwk:"#,##0.00\xA4",sa:"\xA4\xA0#,##0.00",sah:"#,##0.00\xA0\xA4",saq:"\xA4#,##0.00;(\xA4#,##0.00)",sat:"\xA4\xA0#,##0.00","sat-Olck":"\xA4\xA0#,##0.00",sbp:"#,##0.00\xA4",sc:"#,##0.00\xA0\xA4",sd:"\xA4\xA0#,##0.00","sd-Arab":"\xA4\xA0#,##0.00","sd-Deva":"\xA4\xA0#,##0.00",se:"#,##0.00\xA0\xA4","se-FI":"#,##0.00\xA0\xA4","se-SE":"#,##0.00\xA0\xA4",seh:"#,##0.00\xA4",ses:"#,##0.00\xA4",sg:"\xA4#,##0.00;\xA4-#,##0.00",shi:"#,##0.00\xA4","shi-Latn":"#,##0.00\xA4","shi-Tfng":"#,##0.00\xA4",si:"\xA4#,##0.00;(\xA4#,##0.00)",sk:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",sl:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",smn:"#,##0.00\xA0\xA4",sn:"\xA4#,##0.00;(\xA4#,##0.00)",so:"\xA4#,##0.00;(\xA4#,##0.00)","so-DJ":"\xA4#,##0.00;(\xA4#,##0.00)","so-ET":"\xA4#,##0.00;(\xA4#,##0.00)","so-KE":"\xA4#,##0.00;(\xA4#,##0.00)",sq:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sq-MK":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sq-XK":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",sr:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Cyrl":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Cyrl-BA":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Cyrl-ME":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Cyrl-XK":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Latn":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Latn-BA":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Latn-ME":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)","sr-Latn-XK":"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",su:"\xA4#,##0.00","su-Latn":"\xA4#,##0.00",sv:"#,##0.00\xA0\xA4","sv-AX":"#,##0.00\xA0\xA4","sv-FI":"#,##0.00\xA0\xA4",sw:"\xA4\xA0#,##0.00","sw-CD":"\xA4\xA0#,##0.00","sw-KE":"\xA4\xA0#,##0.00","sw-UG":"\xA4\xA0#,##0.00",ta:"\xA4#,##0.00;(\xA4#,##0.00)","ta-LK":"\xA4#,##0.00;(\xA4#,##0.00)","ta-MY":"\xA4#,##0.00;(\xA4#,##0.00)","ta-SG":"\xA4#,##0.00;(\xA4#,##0.00)",te:"\xA4#,##0.00;(\xA4#,##0.00)",teo:"\xA4#,##0.00;(\xA4#,##0.00)","teo-KE":"\xA4#,##0.00;(\xA4#,##0.00)",tg:"#,##0.00\xA0\xA4",th:"\xA4#,##0.00;(\xA4#,##0.00)",ti:"\xA4#,##0.00","ti-ER":"\xA4#,##0.00",tk:"#,##0.00\xA0\xA4",to:"\xA4\xA0#,##0.00",tr:"\xA4#,##0.00;(\xA4#,##0.00)","tr-CY":"\xA4#,##0.00;(\xA4#,##0.00)",tt:"#,##0.00\xA0\xA4",twq:"#,##0.00\xA4",tzm:"#,##0.00\xA0\xA4",ug:"\xA4#,##0.00;(\xA4#,##0.00)",uk:"#,##0.00\xA0\xA4",und:"\xA4\xA0#,##0.00",ur:"\xA4#,##0.00;(\xA4#,##0.00)","ur-IN":"\xA4#,##0.00;(\xA4#,##0.00)",uz:"#,##0.00\xA0\xA4","uz-Arab":"\xA4\xA0#,##0.00","uz-Cyrl":"#,##0.00\xA0\xA4","uz-Latn":"#,##0.00\xA0\xA4",vai:"\xA4#,##0.00;(\xA4#,##0.00)","vai-Latn":"\xA4#,##0.00;(\xA4#,##0.00)","vai-Vaii":"\xA4#,##0.00;(\xA4#,##0.00)",vi:"#,##0.00\xA0\xA4",vun:"\xA4#,##0.00",wae:"\xA4\xA0#,##0.00",wo:"\xA4\xA0#,##0.00",xh:"\xA4#,##0.00",xog:"#,##0.00\xA0\xA4",yav:"#,##0.00\xA0\xA4;(#,##0.00\xA0\xA4)",yi:"\xA4\xA0#,##0.00",yo:"\xA4#,##0.00;(\xA4#,##0.00)","yo-BJ":"\xA4#,##0.00;(\xA4#,##0.00)",yrl:"\xA4\xA0#,##0.00","yrl-CO":"\xA4\xA0#,##0.00","yrl-VE":"\xA4\xA0#,##0.00",yue:"\xA4#,##0.00;(\xA4#,##0.00)","yue-Hans":"\xA4#,##0.00;(\xA4#,##0.00)","yue-Hant":"\xA4#,##0.00;(\xA4#,##0.00)",zgh:"#,##0.00\xA4",zh:"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hans":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hans-HK":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hans-MO":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hans-SG":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hant":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hant-HK":"\xA4#,##0.00;(\xA4#,##0.00)","zh-Hant-MO":"\xA4#,##0.00;(\xA4#,##0.00)",zu:"\xA4#,##0.00;(\xA4#,##0.00)"};var Ame=["standard","accounting"];var kme=/([^\s0]+)?(\s*)0*[.,]*0*(\s*)([^\s0]+)?/,iM={},Kz=i=>{let e=Ko.locale()+"/"+JSON.stringify(i);return iM[e]||(iM[e]=new Intl.NumberFormat(Ko.locale(),i).format),iM[e]},Mme=i=>new Intl.NumberFormat(Ko.locale(),{style:"currency",currency:i}),qz={engine:function(){return"intl"},_formatNumberCore:function(i,e,t){return e==="exponential"?this.callBase.apply(this,arguments):Kz(this._normalizeFormatConfig(e,t,i))(i)},_normalizeFormatConfig:function(i,e,t){let n;if(i==="decimal"){let o=String(t).split(".")[1];n={minimumIntegerDigits:e.precision||void 0,useGrouping:!1,maximumFractionDigits:o&&o.length,round:t<0?"ceil":"floor"}}else n=this._getPrecisionConfig(e.precision);if(i==="percent")n.style="percent";else if(i==="currency"){let o=e.useCurrencyAccountingStyle??ui().defaultUseCurrencyAccountingStyle;n.style="currency",n.currency=e.currency||ui().defaultCurrency,n.currencySign=Ame[+o]}return n},_getPrecisionConfig:function(i){let e;return i===null?e={minimumFractionDigits:0,maximumFractionDigits:20}:e={minimumFractionDigits:i||0,maximumFractionDigits:i||0},e},format:function(i,e){return typeof i!="number"?i:(e=this._normalizeFormat(e),e.currency==="default"&&(e.currency=ui().defaultCurrency),!e||typeof e!="function"&&!e.type&&!e.formatter?Kz(e)(i):this.callBase.apply(this,arguments))},_getCurrencySymbolInfo:function(i){let e=Mme(i);return this._extractCurrencySymbolInfo(e.format(0))},_extractCurrencySymbolInfo:function(i){let e=kme.exec(i)||[],t=e[1]?"before":"after",n=e[1]||e[4]||"",o=e[2]||e[3]||"";return{position:t,symbol:n,delimiter:o}},getCurrencySymbol:function(i){return i||(i=ui().defaultCurrency),{symbol:this._getCurrencySymbolInfo(i).symbol}},getOpenXmlCurrencyFormat:function(i){let e=i||ui().defaultCurrency,t=this._getCurrencySymbolInfo(e).symbol,n=Ko.getValueByClosestLocale(o=>Gz[o]);return Uz(t,n)}};var Rme=typeof Intl<"u";var Yz=["currency","fixedpoint","exponential","percent","decimal"],nM={1:"K",2:"M",3:"B",4:"T"},Xz={largenumber:"auto",thousands:1,millions:2,billions:3,trillions:4},oM=_o({engine:function(){return"base"},numericFormats:Yz,defaultLargeNumberFormatPostfixes:nM,_parseNumberFormatString:function(i){let e={};if(!i||typeof i!="string")return;let t=i.toLowerCase().split(" ");if(ee(t,(n,o)=>{Yz.includes(o)?e.formatType=o:o in Xz&&(e.power=Xz[o])}),e.power&&!e.formatType&&(e.formatType="fixedpoint"),e.formatType)return e},_calculateNumberPower:function(i,e,t,n){let o=Math.abs(i),r=0;if(o>1)for(;o&&o>=e&&(n===void 0||r<n);)r++,o/=e;else if(o>0&&o<1)for(;o<1&&(t===void 0||r>t);)r--,o*=e;return r},_getNumberByPower:function(i,e,t){let n=i;for(;e>0;)n/=t,e--;for(;e<0;)n*=t,e++;return n},_formatNumber:function(i,e,t){e.power==="auto"&&(e.power=this._calculateNumberPower(i,1e3,0,4)),e.power&&(i=this._getNumberByPower(i,e.power,1e3));let n=this.defaultLargeNumberFormatPostfixes[e.power]||"",o=this._formatNumberCore(i,e.formatType,t);return o=o.replace(/(\d|.$)(\D*)$/,"$1"+n+"$2"),o},_formatNumberExponential:function(i,e){let t=this._calculateNumberPower(i,10),n=this._getNumberByPower(i,t,10);e.precision===void 0&&(e.precision=1),n.toFixed(e.precision||0)>=10&&(t++,n/=10);let o=(t>=0?"+":"")+t.toString();return this._formatNumberCore(n,"fixedpoint",e)+"E"+o},_addZeroes:function(i,e){let t=Math.pow(10,e),n=i<0?"-":"";i=(Math.abs(i)*t>>>0)/t;let o=i.toString();for(;o.length<e;)o="0"+o;return n+o},_addGroupSeparators:function(i){let e=i.toString().split(".");return e[0].replace(/\B(?=(\d{3})+(?!\d))/g,ui().thousandsSeparator)+(e[1]?ui().decimalSeparator+e[1]:"")},_formatNumberCore:function(i,e,t){return e==="exponential"?this._formatNumberExponential(i,t):(e!=="decimal"&&t.precision!==null&&(t.precision=t.precision||0),e==="percent"&&(i*=100),t.precision!==void 0&&(e==="decimal"?i=this._addZeroes(i,t.precision):i=t.precision===null?i.toPrecision():kw(i,t.precision)),e!=="decimal"?i=this._addGroupSeparators(i):i=i.toString().replace(".",ui().decimalSeparator),e==="percent"&&(i+="%"),i)},_normalizeFormat:function(i){return i?(typeof i=="function"||ht(i)||(i={type:i}),i):{}},_getSeparators:function(){return{decimalSeparator:this.getDecimalSeparator(),thousandsSeparator:this.getThousandsSeparator()}},getThousandsSeparator:function(){return this.format(1e4,"fixedPoint")[2]},getDecimalSeparator:function(){return this.format(1.2,{type:"fixedPoint",precision:1})[1]},convertDigits:function(i,e){let t=this.format(90,"decimal");if(typeof i!="string"||t[1]==="0")return i;let n=e?t[1]:"0",o=e?"0":t[1],r=e?t[0]:"9",s=new RegExp("["+n+"-"+r+"]","g");return i.replace(s,a=>String.fromCharCode(a.charCodeAt(0)+(o.charCodeAt(0)-n.charCodeAt(0))))},getNegativeEtalonRegExp:function(i){let e=this._getSeparators(),t=new RegExp("[0-9"+wa(e.decimalSeparator+e.thousandsSeparator)+"]+","g"),n=this.format(-1,i).replace(t,"1");return["\\","(",")","[","]","*","+","$","^","?","|","{","}"].forEach(o=>{n=n.replace(new RegExp(`\\${o}`,"g"),`\\${o}`)}),n=n.replace(/ /g,"\\s"),n=n.replace(/1/g,".*"),new RegExp(n,"g")},getSign:function(i,e){if(!e)return i.replace(/[^0-9-]/g,"").charAt(0)==="-"?-1:1;let t=this.getNegativeEtalonRegExp(e);return i.match(t)?-1:1},format:function(i,e){if(typeof i!="number"||typeof e=="number")return i;if(e=e&&e.formatter||e,typeof e=="function")return e(i);e=this._normalizeFormat(e),e.type||(e.type="decimal");let t=this._parseNumberFormatString(e.type);if(!t){let n=this._getSeparators();return n.unlimitedIntegerDigits=e.unlimitedIntegerDigits,this.convertDigits(Hz(e.type,n)(i))}return this._formatNumber(i,t,e)},parse:function(i,e){if(!i)return;if(e&&e.parser)return e.parser(i);i=this.convertDigits(i,!0),e&&typeof e!="string"&&qt.log("W0011");let t=this.getDecimalSeparator(),n=new RegExp("[^0-9"+wa(t)+"]","g"),o=i.replace(n,"").replace(t,".").replace(/\.$/g,"");if(o==="."||o==="")return null;if(this._calcSignificantDigits(o)>15)return NaN;let r=+o*this.getSign(i,e);e=this._normalizeFormat(e);let s=this._parseNumberFormatString(e.type),a=s?.power;if(a){if(a==="auto"){let l=i.match(/\d(K|M|B|T)/);l&&(a=Object.keys(nM).find(d=>nM[d]===l[1]))}r*=Math.pow(10,3*a)}return s?.formatType==="percent"&&(r/=100),r},_calcSignificantDigits:function(i){let[e,t]=i.split("."),n=r=>{let s=-1;for(let a=0;a<r.length;a++)if(r[a]!=="0"){s=a;break}return s>-1?r.length-s:0},o=0;return e&&(o+=n(e.split(""))),t&&(o+=n(t.split("").reverse())),o}});oM.inject(jz);Rme&&oM.inject(qz);var Ii=oM;function Sa(i,e){for(;i.length<e;)i="0"+i;return i}var vb={3:"abbreviated",4:"wide",5:"narrow"},rM={y:function(i,e,t){let n=i[t?"getUTCFullYear":"getFullYear"]();return e===2&&(n%=100),Sa(n.toString(),e)},M:function(i,e,t,n){let o=i[t?"getUTCMonth":"getMonth"](),r=vb[e];return r?n.getMonthNames(r,"format")[o]:Sa((o+1).toString(),Math.min(e,2))},L:function(i,e,t,n){let o=i[t?"getUTCMonth":"getMonth"](),r=vb[e];return r?n.getMonthNames(r,"standalone")[o]:Sa((o+1).toString(),Math.min(e,2))},Q:function(i,e,t,n){let o=i[t?"getUTCMonth":"getMonth"](),r=Math.floor(o/3),s=vb[e];return s?n.getQuarterNames(s)[r]:Sa((r+1).toString(),Math.min(e,2))},E:function(i,e,t,n){let o=i[t?"getUTCDay":"getDay"](),r=vb[e<3?3:e];return n.getDayNames(r)[o]},a:function(i,e,t,n){let r=i[t?"getUTCHours":"getHours"]()<12?0:1,s=vb[e];return n.getPeriodNames(s)[r]},d:function(i,e,t){return Sa(i[t?"getUTCDate":"getDate"]().toString(),Math.min(e,2))},H:function(i,e,t){return Sa(i[t?"getUTCHours":"getHours"]().toString(),Math.min(e,2))},h:function(i,e,t){let n=i[t?"getUTCHours":"getHours"]();return Sa((n%12||12).toString(),Math.min(e,2))},m:function(i,e,t){return Sa(i[t?"getUTCMinutes":"getMinutes"]().toString(),Math.min(e,2))},s:function(i,e,t){return Sa(i[t?"getUTCSeconds":"getSeconds"]().toString(),Math.min(e,2))},S:function(i,e,t){return Sa(i[t?"getUTCMilliseconds":"getMilliseconds"]().toString(),3).substr(0,e)},x:function(i,e,t){let n=t?0:i.getTimezoneOffset(),o=n>0?"-":"+",r=Math.abs(n),s=Math.floor(r/60),a=r%60,l=Sa(s.toString(),2),d=Sa(a.toString(),2);return o+l+(e>=3?":":"")+(e>1||a?d:"")},X:function(i,e,t){return t||!i.getTimezoneOffset()?"Z":rM.x(i,e,t)},Z:function(i,e,t){return rM.X(i,e>=5?3:2,t)}},Mw=function(i,e){return function(t){let n,o,r,s=0,a=!1,l,d="";if(!t)return null;if(!i)return t;let c=i[i.length-1]==="Z"||i.slice(-3)==="'Z'";for(n=0;n<i.length;n++)r=i[n],o=rM[r],l=r===i[n+1],s++,l||(o&&!a&&(d+=o(t,s,c,e)),s=0),r==="'"&&!l?a=!a:(a||!o)&&(d+=r),r==="'"&&l&&n++;return d}};var Qz=" .,:;/\\<>()-[]\u060C";var Ju=function(i){let e=i&&Ii.convertDigits(i,!1).charCodeAt(0),t=Ii.convertDigits("0",!1).charCodeAt(0);return t<=e&&e<t+10},Fme=function(i,e,t,n){let o=i[t],r=i[t+1];if(!n&&(o==="."||o===" "&&i.slice(t-1,t+3)===". m."||o==="-"&&!Ju(r)))return!0;let s=n&&e.some(a=>i[t]!==a[t]);return Qz.indexOf(o)<0&&n===Ju(o)&&(!n||s)},Pme=function(i,e){if(!Ju(i[e]))for(;e>0&&!Ju(i[e-1])&&(i[e-1]==="."||Qz.indexOf(i[e-1])<0);)e--;return e},Lme=function(i,e,t,n){let o=0,r=[],s=function(a){return i[o]!==a[o]&&(n===void 0||Ju(i[o])===n)};for(Array.isArray(e)||(e=[e]),o=0;o<i.length;o++)if(t.indexOf(o)<0&&e.filter(s).length){o=Pme(i,o);do{if(n=Ju(i[o]),!r.length&&!n&&Ju(e[0][o]))break;r.push(o),t.unshift(o),o++}while(i[o]&&Fme(i,e,o,n));break}return r.length===1&&(i[t[0]-1]==="0"||i[t[0]-1]==="\u0660")&&t.unshift(t[0]-1),r},Nme=function(i,e,t,n){let o=e[0],r=o<n.length?n[o]:o;return e.forEach(function(s,a){i=i.substr(0,r+a)+(t.length>1?t[a]:t)+i.substr(r+a+1)}),e.length===1&&(i=i.replace("0"+t,t+t),i=i.replace("\u0660"+t,t+t)),i},Bme=function(i,e,t,n){let o,r,s;if(!Ju(i[e[0]]||"0")){let a=Math.max(e.length<=3?3:4,t.length);for(;e.length>a;){for(r=e.pop(),s=n[r],n[r]=-1,o=r+1;o<n.length;o++)n[o]--;i=i.substr(0,s)+i.substr(s+1)}for(r=e[e.length-1]+1,s=r<n.length?n[r]:r;e.length<a;){for(e.push(e[e.length-1]+1),o=r;o<n.length;o++)n[o]++;i=i.substr(0,s)+" "+i.substr(s)}}return i=Nme(i,e,t,n),i},Zz=function(i,e){return Array.isArray(i)?i.map(function(t){return(e(t)||"").toString()}):(e(i)||"").toString()},Vme=/[a-zA-Z]/g,Hme=function(i,e,t,n){let o=e.split("").map(function(r,s){return t.indexOf(s)<0&&(r.match(Vme)||r==="'")?n[s]:-1});return i=i.split("").map(function(r,s){let a=r,l=o.indexOf(s)>=0,d=s>0&&o.indexOf(s-1)>=0,c=o.indexOf(s+1)>=0;return l&&(d||(a="'"+a),c||(a+="'")),a}).join(""),i},Bm=function(i){let e=[],t=Zz(new Date(2009,8,8,6,5,4),i),n=t.split("").map(function(a,l){return l}),o=t,r={},s=[{date:new Date(2009,8,8,6,5,4,111),pattern:"S"},{date:new Date(2009,8,8,6,5,2),pattern:"s"},{date:new Date(2009,8,8,6,2,4),pattern:"m"},{date:new Date(2009,8,8,18,5,4),pattern:"H",isDigit:!0},{date:new Date(2009,8,8,2,5,4),pattern:"h",isDigit:!0},{date:new Date(2009,8,8,18,5,4),pattern:"a",isDigit:!1},{date:new Date(2009,8,1,6,5,4),pattern:"d"},{date:[new Date(2009,8,2,6,5,4),new Date(2009,8,3,6,5,4),new Date(2009,8,4,6,5,4)],pattern:"E"},{date:new Date(2009,9,6,6,5,4),pattern:"M"},{date:new Date(1998,8,8,6,5,4),pattern:"y"}];if(o&&(s.forEach(function(a){let l=Lme(t,Zz(a.date,i),e,a.isDigit),d=a.pattern==="M"&&!r.d?"L":a.pattern;o=Bme(o,l,d,n),r[d]=l.length}),o=Hme(o,t,e,n),e.length))return o};var vc={3:"abbreviated",4:"wide",5:"narrow"},Jz=function(i,e){return i>2?Object.keys(vc).map(function(t){return["format","standalone"].map(function(n){return e.getMonthNames(vc[t],n).join("|")}).join("|")}).join("|"):i===2?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},zme={":":function(i,e){let t=i>1?`{${i}}`:"",n=wa(e.getTimeSeparator());return n!==":"&&(n=`${n}|:`),`${n}${t}`},y:function(i){return i===2?`[0-9]{${i}}`:"[0-9]+?"},M:Jz,L:Jz,Q:function(i,e){return i>2?e.getQuarterNames(vc[i],"format").join("|"):"0?[1-4]"},E:function(i,e){return"\\D*"},a:function(i,e){return e.getPeriodNames(vc[i<3?3:i],"format").join("|")},d:function(i){return i===2?"3[01]|[12][0-9]|0?[1-9]":"0??[1-9]|[12][0-9]|3[01]"},H:function(i){return i===2?"2[0-3]|1[0-9]|0?[0-9]":"0??[0-9]|1[0-9]|2[0-3]"},h:function(i){return i===2?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},m:function(i){return i===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},s:function(i){return i===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},S:function(i){return`[0-9]{1,${i}}`},w:function(i){return i===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},x:function(i){return i===3?"[+-](?:2[0-3]|[01][0-9]):(?:[0-5][0-9])|Z":"[+-](?:2[0-3]|[01][0-9])(?:[0-5][0-9])|Z"}},bc=Number,sM=function(i,e){return i.map(t=>t.toLowerCase()).indexOf(e.toLowerCase())},ej=function(i,e,t){return e>2?["format","standalone"].map(function(n){return Object.keys(vc).map(function(o){let r=t.getMonthNames(vc[o],n);return sM(r,i)})}).reduce(function(n,o){return n.concat(o)}).filter(function(n){return n>=0})[0]:bc(i)-1},jme={y:function(i,e){let t=bc(i);return e===2?t<30?2e3+t:1900+t:t},M:ej,L:ej,Q:function(i,e,t){return e>2?t.getQuarterNames(vc[e],"format").indexOf(i):bc(i)-1},E:function(i,e,t){let n=t.getDayNames(vc[e<3?3:e],"format");return sM(n,i)},a:function(i,e,t){let n=t.getPeriodNames(vc[e<3?3:e],"format");return sM(n,i)},d:bc,H:bc,h:bc,m:bc,s:bc,S:function(i,e){for(e=Math.max(e,3),i=i.slice(0,3);e<3;)i+="0",e++;return bc(i)}},Rw=["y","M","d","h","m","s","S"],aM={y:"setFullYear",M:"setMonth",L:"setMonth",a:function(i,e,t){let n=i.getHours(),o=t.h;o!==void 0&&o!==n&&n--,!e&&n===12?n=0:e&&n!==12&&(n+=12),i.setHours(n)},d:"setDate",H:"setHours",h:"setHours",m:"setMinutes",s:"setSeconds",S:"setMilliseconds"},$me=function(i,e){let t=i[e];if(!t)return 0;let n=0;do e++,n++;while(i[e]===t);return n},Wme=function(i,e){let t="";for(let n=0;n<e;n++)t+=i;return t},lM=function(i,e){let t="",n="",o,r=[],s=function(){n&&(r.push(`'${n}'`),t+=`${wa(n)})`,n="")};for(let a=0;a<i.length;a++){let l=i[a],d=l==="'",c=zme[l];if(!(d&&(o=!o,i[a-1]!=="'")))if(c&&!o){let u=$me(i,a),h=Wme(l,u);s(),r.push(h),t+=`(${c(u,e)})`,a+=u-1}else n||(t+="("),n+=l}return s(),Gme(r)||Qu.warn(`The following format may be parsed incorrectly: ${i}.`),{patterns:r,regexp:new RegExp(`^${t}$`,"i")}},Ume=["d","H","h","m","s","w","M","L","Q"],Gme=function(i){let e=o=>{if(!o)return!1;let r=o[0];return["y","S"].includes(r)||Ume.includes(r)&&o.length<3},t=!0,n=0;return i.every((o,r,s)=>(e(o)&&((a=>a[0]!=="S"&&a.length!==2)(o)&&(t=++n<2),e(s[r+1])||(n=0)),t))},tj=function(){return aM},Kme=function(i,e,t,n,o){let r=e[0],s=aM[r],a=jme[r];if(s&&a){let l=a(t,e.length,n);o[e]=l,i[s]?i[s](l):s(i,l,o)}},qme=function(i,e,t){let n=aM[e],o="g"+n.substr(1),r=t[o]();i[n](r)},Yme=function(i){return i.map(function(e){return e[0]==="'"?"":e[0]==="H"?"h":e[0]})},Xme=function(i){let e=i.map(function(t){return Rw.indexOf(t)});return Math.max.apply(Math,e)},Zme=function(i){let e=i.filter(function(t){return Rw.indexOf(t)<0});return Rw.concat(e)},ij=function(i,e){let t=lM(i,e);return function(n){let o=t.regexp.exec(n);if(o){let r=new Date,s=new Date(r.getFullYear(),0,1),a=Yme(t.patterns),l=Xme(a),d=Zme(a),c={};return d.forEach(function(u,h){if(!u||h<Rw.length&&h>l)return;let f=a.indexOf(u);if(f>=0){let p=t.patterns[f],m=o[f+1];Kme(s,p,m,e,c)}else qme(s,u,r)}),s}return null}};var Qme=["January","February","March","April","May","June","July","August","September","October","November","December"],Jme=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ege=["AM","PM"],tge=["Q1","Q2","Q3","Q4"],nj=(i,e)=>{let t={abbreviated:3,short:2,narrow:1};return tn(i,n=>n.substr(0,t[e]))},yc={getMonthNames:function(i){return nj(Qme,i)},getDayNames:function(i){return nj(Jme,i)},getQuarterNames:function(i){return tge},getPeriodNames:function(i){return ege}};var oj={"af-NA":1,agq:1,ak:1,ar:6,"ar-EH":1,"ar-ER":1,"ar-KM":1,"ar-LB":1,"ar-MA":1,"ar-MR":1,"ar-PS":1,"ar-SO":1,"ar-SS":1,"ar-TD":1,"ar-TN":1,asa:1,ast:1,az:1,"az-Cyrl":1,bas:1,be:1,bem:1,bez:1,bg:1,bm:1,br:1,bs:1,"bs-Cyrl":1,ca:1,ce:1,cgg:1,ckb:6,cs:1,cy:1,da:1,de:1,dje:1,dsb:1,dua:1,dyo:1,ee:1,el:1,"en-001":1,"en-AE":6,"en-BI":1,"en-MP":1,"en-MV":5,"en-SD":6,eo:1,es:1,et:1,eu:1,ewo:1,fa:6,ff:1,"ff-Adlm":1,fi:1,fo:1,fr:1,"fr-DJ":6,"fr-DZ":6,"fr-SY":6,fur:1,fy:1,ga:1,gd:1,gl:1,gsw:1,gv:1,ha:1,hr:1,hsb:1,hu:1,hy:1,ia:1,ig:1,is:1,it:1,jgo:1,jmc:1,ka:1,kab:6,kde:1,kea:1,khq:1,kk:1,kkj:1,kl:1,"ko-KP":1,ksb:1,ksf:1,ksh:1,ku:1,kw:1,ky:1,lag:1,lb:1,lg:1,ln:1,lrc:6,lt:1,lu:1,lv:1,"mas-TZ":1,mfe:1,mg:1,mgo:1,mi:1,mk:1,mn:1,ms:1,mua:1,mzn:6,naq:1,nds:1,nl:1,nmg:1,nnh:1,no:1,nus:1,nyn:1,os:1,pcm:1,pl:1,ps:6,"pt-AO":1,"pt-CH":1,"pt-CV":1,"pt-GQ":1,"pt-GW":1,"pt-LU":1,"pt-ST":1,"pt-TL":1,"qu-BO":1,"qu-EC":1,rm:1,rn:1,ro:1,rof:1,ru:1,rw:1,rwk:1,sah:1,sbp:1,sc:1,se:1,ses:1,sg:1,shi:1,"shi-Latn":1,si:1,sk:1,sl:1,smn:1,so:1,"so-DJ":6,sq:1,sr:1,"sr-Latn":1,sv:1,sw:1,"ta-LK":1,"ta-MY":1,teo:1,tg:1,"ti-ER":1,tk:1,to:1,tr:1,tt:1,twq:1,tzm:1,uk:1,uz:1,"uz-Arab":6,"uz-Cyrl":1,vai:1,"vai-Latn":1,vi:1,vun:1,wae:1,wo:1,xog:1,yav:1,yi:1,yo:1,zgh:1};var ige=/[\u200E\u200F]/g,nge=/[\u202F]/g,Fp=i=>e=>{if(!i.timeZoneName){let t=e.getFullYear(),n=String(t).length<3,r=n?t+400:t,s=new Date(Date.UTC(r,e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));n&&s.setFullYear(t);let a=q({timeZone:"UTC"},i);return cM(s,a)}return cM(e,i)},dM={},oge=i=>{let e=Ko.locale()+"/"+JSON.stringify(i);return dM[e]||(dM[e]=new Intl.DateTimeFormat(Ko.locale(),i).format),dM[e]};function cM(i,e){return oge(e)(i).replace(ige,"").replace(nge," ")}var uM=i=>new Intl.NumberFormat(Ko.locale()).format(i),rge=(()=>{let i={};return e=>{if(!(e in i)){if(uM(0)==="0")return i[e]=!1,!1;i[e]={};for(let t=0;t<10;++t)i[e][uM(t)]=t}return i[e]}})(),Fw=i=>{let e=rge(Ko.locale());return e?i.split("").map(t=>t in e?String(e[t]):t).join(""):i},rj=i=>i.replace(/(\D)0+(\d)/g,"$1$2"),sge=(i,e)=>rj(i)===rj(e),hM=i=>i.replace("d\u2019","de "),pM={day:{day:"numeric"},date:{year:"numeric",month:"long",day:"numeric"},dayofweek:{weekday:"long"},longdate:{weekday:"long",year:"numeric",month:"long",day:"numeric"},longdatelongtime:{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},longtime:{hour:"numeric",minute:"numeric",second:"numeric"},month:{month:"long"},monthandday:{month:"long",day:"numeric"},monthandyear:{year:"numeric",month:"long"},shortdate:{},shorttime:{hour:"numeric",minute:"numeric"},shortyear:{year:"2-digit"},year:{year:"numeric"}};Object.defineProperty(pM,"shortdateshorttime",{get:function(){let i=Intl.DateTimeFormat(Ko.locale()).resolvedOptions();return{year:i.year,month:i.month,day:i.day,hour:"numeric",minute:"numeric"}}});var age=i=>typeof i=="string"&&pM[i.toLowerCase()],sj={standalone:function(i,e){let t=new Date(1999,i,13,1);return Fp({month:e})(t)},format:function(i,e){let t=new Date(0,i,13,1),o=hM(Fp({day:"numeric",month:e})(t)).split(" ").filter(r=>r.indexOf("13")<0);return o.length===1?o[0]:o.length===2?o[0].length>o[1].length?o[0]:o[1]:sj.standalone(i,e)}},aj={engine:function(){return"intl"},getMonthNames:function(i,e){let t={wide:"long",abbreviated:"short",narrow:"narrow"}[i||"wide"];return e=e==="format"?e:"standalone",Array.apply(null,new Array(12)).map((n,o)=>sj[e](o,t))},getDayNames:function(i){return(t=>Array.apply(null,new Array(7)).map((n,o)=>Fp({weekday:t})(new Date(0,0,o))))({wide:"long",abbreviated:"short",short:"narrow",narrow:"narrow"}[i||"wide"])},getPeriodNames:function(){let i=Fp({hour:"numeric",hour12:!0});return[1,13].map(e=>{let t=uM(1),n=i(new Date(0,0,1,e)).split(t);return n.length!==2?"":(n[0].length>n[1].length?n[0]:n[1]).trim()})},format:function(i,e){if(!i)return;if(!e)return i;typeof e!="function"&&!e.formatter&&(e=e.type||e);let t=age(e);if(t)return Fp(t)(i);let n=typeof e;return e.formatter||n==="function"||n==="string"?this.callBase.apply(this,arguments):Fp(e)(i)},parse:function(i,e){let t;return e&&!e.parser&&typeof i=="string"&&(i=hM(i),t=n=>hM(this.format(n,e))),this.callBase(i,t||e)},_parseDateBySimpleFormat:function(i,e){i=Fw(i);let t=this.getFormatParts(e),n=i.split(/\D+/).filter(s=>s.length>0);if(t.length!==n.length)return;let o=this._generateDateArgs(t,n),r=s=>{let a=((l,d)=>{let c=d?12:0;return new Date(l.year,l.month,l.day,(l.hours+c)%24,l.minutes,l.seconds)})(o,s);if(sge(Fw(this.format(a,e)),i))return a};return r(!1)||r(!0)},_generateDateArgs:function(i,e){let t=new Date,n={year:t.getFullYear(),month:t.getMonth(),day:t.getDate(),hours:0,minutes:0,seconds:0};return i.forEach((o,r)=>{let s=e[r],a=parseInt(s,10);o==="month"&&(a-=1),n[o]=a}),n},formatUsesMonthName:function(i){return typeof i=="object"&&!(i.type||i.format)?i.month==="long":this.callBase.apply(this,arguments)},formatUsesDayName:function(i){return typeof i=="object"&&!(i.type||i.format)?i.weekday==="long":this.callBase.apply(this,arguments)},getTimeSeparator:function(){return Fw(cM(new Date(2001,1,1,11,11),{hour:"numeric",minute:"numeric",hour12:!1})).replace(/\d/g,"")},getFormatParts:function(i){if(typeof i=="string")return this.callBase(i);let e=q({},pM[i.toLowerCase()]),t=new Date(2001,2,4,5,6,7),n=Fp(e)(t);return n=Fw(n),[{name:"year",value:1},{name:"month",value:3},{name:"day",value:4},{name:"hours",value:5},{name:"minutes",value:6},{name:"seconds",value:7}].map(o=>({name:o.name,index:n.indexOf(o.value)})).filter(o=>o.index>-1).sort((o,r)=>o.index-r.index).map(o=>o.name)}};var lge=typeof Intl<"u",fM={shortdate:"M/d/y",shorttime:"h:mm a",longdate:"EEEE, MMMM d, y",longtime:"h:mm:ss a",monthandday:"MMMM d",monthandyear:"MMMM y",quarterandyear:"QQQ y",day:"d",year:"y",shortdateshorttime:"M/d/y, h:mm a",longdatelongtime:"EEEE, MMMM d, y, h:mm:ss a",month:"LLLL",shortyear:"yy",dayofweek:"EEEE",quarter:"QQQ",hour:"HH",minute:"mm",second:"ss",millisecond:"SSS","datetime-local":"yyyy-MM-ddTHH':'mm':'ss"},dge={year:["y","yy","yyyy"],day:["d","dd"],month:["M","MM","MMM","MMMM"],hours:["H","HH","h","hh","ah"],minutes:["m","mm"],seconds:["s","ss"],milliseconds:["S","SS","SSS"]},lj=_o({engine:function(){return"base"},_getPatternByFormat:function(i){return fM[i.toLowerCase()]},_expandPattern:function(i){return this._getPatternByFormat(i)||i},formatUsesMonthName:function(i){return this._expandPattern(i).indexOf("MMMM")!==-1},formatUsesDayName:function(i){return this._expandPattern(i).indexOf("EEEE")!==-1},getFormatParts:function(i){let e=this._getPatternByFormat(i)||i,t=[];return ee(e.split(/\W+/),(n,o)=>{ee(dge,(r,s)=>{s.includes(o)&&t.push(r)})}),t},getMonthNames:function(i){return yc.getMonthNames(i)},getDayNames:function(i){return yc.getDayNames(i)},getQuarterNames:function(i){return yc.getQuarterNames(i)},getPeriodNames:function(i){return yc.getPeriodNames(i)},getTimeSeparator:function(){return":"},is24HourFormat:function(i){let e=new Date(2017,0,20,11,0,0,0),t=new Date(2017,0,20,23,0,0,0),n=this.format(e,i),o=this.format(t,i);for(let r=0;r<n.length;r++)if(n[r]!==o[r])return!isNaN(parseInt(n[r]))},format:function(i,e){if(!i)return;if(!e)return i;let t;if(typeof e=="function")t=e;else if(e.formatter)t=e.formatter;else if(e=e.type||e,We(e))return e=fM[e.toLowerCase()]||e,Ii.convertDigits(Mw(e,this)(i));if(t)return t(i)},parse:function(i,e){let t=this,n,o;if(!i)return;if(!e)return this.parse(i,"shortdate");if(e.parser)return e.parser(i);if(typeof e=="string"&&!fM[e.toLowerCase()])n=e;else{o=s=>{let a=t.format(s,e);return Ii.convertDigits(a,!0)};try{n=Bm(o)}catch{}}if(n)return i=Ii.convertDigits(i,!0),ij(n,this)(i);qt.log("W0012");let r=new Date(i);if(!(!r||isNaN(r.getTime())))return r},firstDayOfWeekIndex:function(){let i=Ko.getValueByClosestLocale(e=>oj[e]);return i===void 0?0:i}});lge&&lj.inject(aj);var It=lj;var cge={ar:1,bg:2,ca:3,"zh-Hans":4,cs:5,da:6,de:7,el:8,en:9,es:10,fi:11,fr:12,he:13,hu:14,is:15,it:16,ja:17,ko:18,nl:19,no:20,pl:21,pt:22,rm:23,ro:24,ru:25,hr:26,sk:27,sq:28,sv:29,th:30,tr:31,ur:32,id:33,uk:34,be:35,sl:36,et:37,lv:38,lt:39,tg:40,fa:41,vi:42,hy:43,az:44,eu:45,hsb:46,mk:47,tn:50,xh:52,zu:53,af:54,ka:55,fo:56,hi:57,mt:58,se:59,ga:60,ms:62,kk:63,ky:64,sw:65,tk:66,uz:67,tt:68,bn:69,pa:70,gu:71,or:72,ta:73,te:74,kn:75,ml:76,as:77,mr:78,sa:79,mn:80,bo:81,cy:82,km:83,lo:84,gl:86,kok:87,syr:90,si:91,iu:93,am:94,tzm:95,ne:97,fy:98,ps:99,fil:100,dv:101,ha:104,yo:106,quz:107,nso:108,ba:109,lb:110,kl:111,ig:112,ii:120,arn:122,moh:124,br:126,ug:128,mi:129,oc:130,co:131,gsw:132,sah:133,qut:134,rw:135,wo:136,prs:140,gd:145,"ar-SA":1025,"bg-BG":1026,"ca-ES":1027,"zh-TW":1028,"cs-CZ":1029,"da-DK":1030,"de-DE":1031,"el-GR":1032,"en-US":1033,"fi-FI":1035,"fr-FR":1036,"he-IL":1037,"hu-HU":1038,"is-IS":1039,"it-IT":1040,"ja-JP":1041,"ko-KR":1042,"nl-NL":1043,"nb-NO":1044,"pl-PL":1045,"pt-BR":1046,"rm-CH":1047,"ro-RO":1048,"ru-RU":1049,"hr-HR":1050,"sk-SK":1051,"sq-AL":1052,"sv-SE":1053,"th-TH":1054,"tr-TR":1055,"ur-PK":1056,"id-ID":1057,"uk-UA":1058,"be-BY":1059,"sl-SI":1060,"et-EE":1061,"lv-LV":1062,"lt-LT":1063,"tg-Cyrl-TJ":1064,"fa-IR":1065,"vi-VN":1066,"hy-AM":1067,"az-Latn-AZ":1068,"eu-ES":1069,"hsb-DE":1070,"mk-MK":1071,"tn-ZA":1074,"xh-ZA":1076,"zu-ZA":1077,"af-ZA":1078,"ka-GE":1079,"fo-FO":1080,"hi-IN":1081,"mt-MT":1082,"se-NO":1083,"ms-MY":1086,"kk-KZ":1087,"ky-KG":1088,"sw-KE":1089,"tk-TM":1090,"uz-Latn-UZ":1091,"tt-RU":1092,"bn-IN":1093,"pa-IN":1094,"gu-IN":1095,"or-IN":1096,"ta-IN":1097,"te-IN":1098,"kn-IN":1099,"ml-IN":1100,"as-IN":1101,"mr-IN":1102,"sa-IN":1103,"mn-MN":1104,"bo-CN":1105,"cy-GB":1106,"km-KH":1107,"lo-LA":1108,"gl-ES":1110,"kok-IN":1111,"syr-SY":1114,"si-LK":1115,"iu-Cans-CA":1117,"am-ET":1118,"ne-NP":1121,"fy-NL":1122,"ps-AF":1123,"fil-PH":1124,"dv-MV":1125,"ha-Latn-NG":1128,"yo-NG":1130,"quz-BO":1131,"nso-ZA":1132,"ba-RU":1133,"lb-LU":1134,"kl-GL":1135,"ig-NG":1136,"ii-CN":1144,"arn-CL":1146,"moh-CA":1148,"br-FR":1150,"ug-CN":1152,"mi-NZ":1153,"oc-FR":1154,"co-FR":1155,"gsw-FR":1156,"sah-RU":1157,"qut-GT":1158,"rw-RW":1159,"wo-SN":1160,"prs-AF":1164,"gd-GB":1169,"ar-IQ":2049,"zh-CN":2052,"de-CH":2055,"en-GB":2057,"es-MX":2058,"fr-BE":2060,"it-CH":2064,"nl-BE":2067,"nn-NO":2068,"pt-PT":2070,"sr-Latn-CS":2074,"sv-FI":2077,"az-Cyrl-AZ":2092,"dsb-DE":2094,"se-SE":2107,"ga-IE":2108,"ms-BN":2110,"uz-Cyrl-UZ":2115,"bn-BD":2117,"mn-Mong-CN":2128,"iu-Latn-CA":2141,"tzm-Latn-DZ":2143,"quz-EC":2155,"ar-EG":3073,"zh-HK":3076,"de-AT":3079,"en-AU":3081,"es-ES":3082,"fr-CA":3084,"sr-Cyrl-CS":3098,"se-FI":3131,"quz-PE":3179,"ar-LY":4097,"zh-SG":4100,"de-LU":4103,"en-CA":4105,"es-GT":4106,"fr-CH":4108,"hr-BA":4122,"smj-NO":4155,"ar-DZ":5121,"zh-MO":5124,"de-LI":5127,"en-NZ":5129,"es-CR":5130,"fr-LU":5132,"bs-Latn-BA":5146,"smj-SE":5179,"ar-MA":6145,"en-IE":6153,"es-PA":6154,"fr-MC":6156,"sr-Latn-BA":6170,"sma-NO":6203,"ar-TN":7169,"en-ZA":7177,"es-DO":7178,"sr-Cyrl-BA":7194,"sma-SE":7227,"ar-OM":8193,"en-JM":8201,"es-VE":8202,"bs-Cyrl-BA":8218,"sms-FI":8251,"ar-YE":9217,"en-029":9225,"es-CO":9226,"sr-Latn-RS":9242,"smn-FI":9275,"ar-SY":10241,"en-BZ":10249,"es-PE":10250,"sr-Cyrl-RS":10266,"ar-JO":11265,"en-TT":11273,"es-AR":11274,"sr-Latn-ME":11290,"ar-LB":12289,"en-ZW":12297,"es-EC":12298,"sr-Cyrl-ME":12314,"ar-KW":13313,"en-PH":13321,"es-CL":13322,"ar-AE":14337,"es-UY":14346,"ar-BH":15361,"es-PY":15370,"ar-QA":16385,"en-IN":16393,"es-BO":16394,"en-MY":17417,"es-SV":17418,"en-SG":18441,"es-HN":18442,"es-NI":19466,"es-PR":20490,"es-US":21514,"bs-Cyrl":25626,"bs-Latn":26650,"sr-Cyrl":27674,"sr-Latn":28698,smn:28731,"az-Cyrl":29740,sms:29755,zh:30724,nn:30740,bs:30746,"az-Latn":30764,sma:30779,"uz-Cyrl":30787,"mn-Cyrl":30800,"iu-Cans":30813,"zh-Hant":31748,nb:31764,sr:31770,"tg-Cyrl":31784,dsb:31790,smj:31803,"uz-Latn":31811,"mn-Mong":31824,"iu-Latn":31837,"tzm-Latn":31839,"ha-Latn":31848};function dj(){return cge[Ko.locale()]}var cj=1632,uj={thousands:"#,##0{0},&quot;K&quot;",millions:"#,##0{0},,&quot;M&quot;",billions:"#,##0{0},,,&quot;B&quot;",trillions:"#,##0{0},,,,&quot;T&quot;",percent:"0{0}%",decimal:"#{0}",fixedpoint:"#,##0{0}",exponential:"0{0}E+00",currency:" "},uge=/a+/g,hge=/E/g,pge=/dE+/g,fge=/L/g,mge=/h/g,gge=/./g;function _ge(i,e){let t,n;if(e>0){for(t=i!=="decimal"?".":"",n=0;n<e;n++)t+="0";return t}return""}function bge(i){let e;for(let t=0;t<i.length;t++)if(e=i.charCodeAt(t),e>=cj&&e<cj+10)return!0;return!1}function vge(i){let e=(It.format(new Date(2009,8,8,6,5,4),i)||"").toString(),t=Bm(n=>It.format(n,i));return t&&(t=xge(t),t=yge(e)+t),t}function yge(i){let e=dj(),t=e?e.toString(16):"",n="";if(bge(i)){for(;t.length<3;)t="0"+t;n="[$-2010"+t+"]"}else t&&(n="[$-"+t+"]");return n}function xge(i){return i.split("/").join("\\/").split("'").map(function(e,t){return t%2===0?e.replace(uge,"AM/PM").replace(pge,"d").replace(hge,"d").replace(fge,"M").replace(mge,"H").split("[").join("\\[").split("]").join("\\]"):e?e.replace(gge,"\\$&"):"'"}).join("")}function Cge(i,e,t){let n,o;return i==="currency"?o=Ii.getOpenXmlCurrencyFormat(t):o=uj[i.toLowerCase()],o&&(n=rr(o,_ge(i,e))),n}function wge(i){return!i||i.length<2?!1:hj(i)}function Sge(i,e){return!i||i.length<4||i[0]!==e?!1:hj(i.substring(1,i.length-1))}function hj(i){return i?/^[@=\t\r]/.test(i)?!0:/^[+-]/.test(i)?!ai(i):!1:!1}var Pw={formatObjectConverter(i,e){let t={format:i,precision:i&&i.precision,dataType:e};return Ke(i)?q(t,i,{format:i.formatter||i.type,currency:i.currency}):t},convertFormat(i,e,t,n){if(U(i)){if(t==="date")return vge(i);if(We(i)&&uj[i.toLowerCase()])return Cge(i,e,n)}},encode(i){let e=!1;return wge(i)?e=!0:Sge(i,'"')&&(i=i.substring(1,i.length-1),e=!0),e?`"'`+i.replaceAll('"','""')+'"':i}};var mM="dx-",Lw=null;function pj(i){try{return new CSSStyleSheet}catch{let t=i.ownerDocument.createElement("style");return i.appendChild(t),t.sheet}}function fj(i,e,t){for(let n=0;n<e.length;n++){let o=e[n];try{for(let r=0;r<o.cssRules.length;r++)Ege(i,o.cssRules[r],t)}catch{}}}function Ege(i,e,t){var n,o,r,s;(t||((n=e.selectorText)===null||n===void 0?void 0:n.includes(mM))||((o=e.cssRules)===null||o===void 0||(o=o[0])===null||o===void 0||(o=o.selectorText)===null||o===void 0?void 0:o.includes(mM))||((r=e.name)===null||r===void 0?void 0:r.startsWith(mM))||((s=e.style)===null||s===void 0?void 0:s.fontFamily)==="DXIcons")&&i.insertRule(e.cssText,i.cssRules.length)}function mj(i){var e;let t=i.get(0),n=(e=t.getRootNode)===null||e===void 0?void 0:e.call(t);if(!(n!=null&&n.host))return;Lw||(Lw=pj(n),fj(Lw,t.ownerDocument.styleSheets,!1));let o=pj(n);fj(o,n.styleSheets,!0),n.adoptedStyleSheets=[Lw,o]}function Oge(i,e,t){let n=i.getBoundingClientRect();return n&&e>=n.left&&e<n.right&&t>=n.top&&t<n.bottom}function Ige(){let i=0,e=[];return{push(t){return e.push(t),this},shift(){return i++,e[i-1]},get length(){return e.length-i},get items(){return e}}}function gj(i,e,t){let n=Ige().push(t);for(;n.length;){let r=n.shift();for(let s=0;s<r.childNodes.length;s++){let a=r.childNodes[s];a.nodeType===Node.ELEMENT_NODE&&Oge(a,i,e)&&getComputedStyle(a).pointerEvents!=="none"&&n.push(a)}}let o=n.items.reverse();return o.pop(),o}var Dge={querySelectorAll:(i,e)=>i.querySelectorAll(e),elementMatches(i,e){return(i.matches||i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector||(n=>{let o=i.document||i.ownerDocument;if(!o)return!1;let r=this.querySelectorAll(o,n);for(let s=0;s<r.length;s++)if(r[s]===i)return!0})).call(i,e)},createElement(i,e){return e=e||this._document,e.createElement(i)},createElementNS(i,e,t){return t=t||this._document,t.createElementNS(i,e)},createTextNode(i,e){return e=e||this._document,e.createTextNode(i)},createAttribute(i,e){return e=e||this._document,e.createAttribute(i)},isNode:i=>i&&typeof i=="object"&&"nodeType"in i&&"nodeName"in i,isElementNode:i=>i&&i.nodeType===1,isTextNode:i=>i&&i.nodeType===3,isDocument:i=>i&&i.nodeType===9,isDocumentFragment:i=>i&&i.nodeType===11,removeElement(i){let e=i&&i.parentNode;e&&e.removeChild(i)},insertElement(i,e,t){i&&e&&i!==e&&(t?i.insertBefore(e,t):i.appendChild(e))},getAttribute:(i,e)=>i.getAttribute(e),setAttribute(i,e,t){e==="style"?i.style.cssText=t:i.setAttribute(e,t)},removeAttribute(i,e){i.removeAttribute(e)},setProperty(i,e,t){i[e]=t},setText(i,e){i&&(i.textContent=e)},setClass(i,e,t){i.nodeType===1&&e&&(t?i.classList.add(e):i.classList.remove(e))},setStyle(i,e,t){i.style[e]=t||""},_document:typeof document>"u"?void 0:document,getDocument(){return this._document},getActiveElement(i){return this.getRootNode(i).activeElement},getRootNode(i){var e;return(i==null||(e=i.getRootNode)===null||e===void 0?void 0:e.call(i))??this._document},getBody(){return this._document.body},createDocumentFragment(){return this._document.createDocumentFragment()},getDocumentElement(){return this._document.documentElement},getLocation(){return this._document.location},getSelection(){return this._document.selection},getReadyState(){return this._document.readyState},getHead(){return this._document.head},hasDocumentProperty(i){return i in this._document},listen(i,e,t,n){return!i||!("addEventListener"in i)?pe:(i.addEventListener(e,t,n),()=>{i.removeEventListener(e,t)})},elementsFromPoint(i,e,t){let n=this.getRootNode(t);return n.host?gj(i,e,n):n.elementsFromPoint(i,e)}},be=_o(Dge);var eh=class{constructor(){this.memory=[],this.callbacks=Gt()}add(e){ee(this.memory,(t,n)=>e.apply(e,n)),this.callbacks.add(e)}remove(e){this.callbacks.remove(e)}fire(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.memory.push(t),this.callbacks.fire.apply(this.callbacks,t)}};var yb=new eh;var Vm=i=>{var e,t;let n=i.originalEvent;if(!n)return i.target;if(!!!(!((e=n.target)===null||e===void 0)&&e.shadowRoot))return n.target;let r=n.path??((t=n.composedPath)===null||t===void 0?void 0:t.call(n));return r?.[0]??i.target};var Tge=typeof window<"u",it=()=>Tge,Pp=it()?window:void 0;Pp||(Pp={},Pp.window=Pp);var et=()=>Pp;var gM=i=>it()&&i in Pp,xb=i=>i<768?"xs":i<992?"sm":i<1200?"md":"lg",Nw=i=>{let e=i||xb,t=be.getDocumentElement().clientWidth;return e(t)},xc=()=>it()?Pp.navigator:{userAgent:""};var Age=["pageX","pageY","screenX","screenY","clientX","clientY"],kge=function(i,e){if(e[i]&&!e.touches||!e.touches)return e[i];let t=e.touches.length?e.touches:e.changedTouches;if(t.length)return t[0][i]};function _j(i){Age.forEach(function(e){i(e,function(t){return kge(e,t)})},this)}var Mge=function(i){let e,t=function(){return e=i.apply(this,arguments),t=function(){return e},e};return function(){return t.apply(this,arguments)}},Wr=Mge;var vM=et(),Bw="dxEmptyEventType",bj={mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},Rge={focusin:"focus",focusout:"blur"},Fge=["blur","focus","load"],Cj=["touchmove","wheel","mousewheel","touchstart"],Pge=["target","relatedTarget","delegateTarget","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","shiftKey","view","char","code","charCode","key","keyCode","button","buttons","offsetX","offsetY","pointerId","pointerType","targetTouches","toElement","touches"];function Lge(i,e){return!ln(i)&&i.nodeName!=="#document"&&be.elementMatches(i,e)}var _M=new WeakMap,wj=0,Vw,th=function(){let i={};return yb.add(function(e,t){i[e]=t}),{getField:function(e,t){return i[e]&&i[e][t]},callMethod:function(e,t,n,o){return i[e]&&i[e][t]&&i[e][t].apply(n,o)}}}(),yo=_o({on:Cb(bM(xj(function(i,e,t,n,o){Hm(i,e).addHandler(o,t,n)}))),one:Cb(bM(function(i,e,t,n,o){let r=function(){yo.off(i,e,t,r),o.apply(this,arguments)};yo.on(i,e,t,n,r)})),off:Cb(Vge(xj(function(i,e,t,n){Hm(i,e).removeHandler(n,t)}))),trigger:Cb(yj(function(i,e,t){let n=e.type,o=Hm(i,e.type);if(th.callMethod(n,"trigger",i,[e,t]),o.callHandlers(e,t),!(th.getField(n,"noBubble")||e.isPropagationStopped()||Fge.indexOf(n)!==-1)){let s=[],a=function(d){let c=d.parentNode??(Ke(d.host)?d.host:null);c&&(s.push(c),a(c))};a(i),s.push(vM);let l=0;for(;s[l]&&!e.isPropagationStopped();)Hm(s[l],e.type).callHandlers(q(e,{currentTarget:s[l]}),t),l++}(i.nodeType||ln(i))&&(th.callMethod(n,"_default",i,[e,t]),zge(n,i))})),triggerHandler:Cb(yj(function(i,e,t){Hm(i,e.type).callHandlers(e,t)}))});function yM(i,e){let t=i[0];if(t)if(be.isNode(t)||ln(t))e.apply(yo,i);else if(!We(t)&&"length"in t){let n=Array.prototype.slice.call(i,0);Array.prototype.forEach.call(t,function(o){n[0]=o,yM(n,e)})}else throw qt.Error("E0025")}function Cb(i){return function(){yM(arguments,i)}}function Nge(){let i=!1;try{let e=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});vM.addEventListener("test",null,e)}catch{}return i}var Sj=Wr(Nge),Ej=(i,e)=>ln(i)?Ej(i.document,e):i.contains?i.contains(e):!!(e.compareDocumentPosition(i)&e.DOCUMENT_POSITION_CONTAINS);function Hm(i,e){let t=_M.get(i);e=e||"";let n=e.split("."),o=n.slice(1),r=!!n[0];e=n[0]||Bw,t||(t={},_M.set(i,t)),t[e]||(t[e]={handleObjects:[],nativeHandler:null});let s=t[e];return{addHandler:function(a,l,d){let c=function(m,g){let b=[m],x=m.currentTarget,E=m.relatedTarget,D,L;e in bj&&(D=E&&x&&(E===x||Ej(x,E))),g!==void 0&&b.push(g),th.callMethod(e,"handle",i,[m,d]),D||(L=a.apply(x,b)),L===!1&&(m.preventDefault(),m.stopPropagation())},u={handler:a,wrappedHandler:function(m,g){if(!(Vw&&m.type===Vw))if(m.data=d,m.delegateTarget=i,l){let x=m.target;for(;x&&x!==i;)Lge(x,l)&&(m.currentTarget=x,c(m,g)),x=x.parentNode}else{var b;if(m.currentTarget=m.delegateTarget||m.target,!!(!((b=m.target)===null||b===void 0)&&b.shadowRoot)){let E=Vm(m);m.target=E}c(m,g)}},selector:l,type:e,data:d,namespace:o.join("."),namespaces:o,guid:++wj};s.handleObjects.push(u);let f=s.handleObjects.length===1&&r,p;f&&(f=!th.callMethod(e,"setup",i,[d,o,a])),f&&(s.nativeHandler=Bge(e),Sj()&&Cj.indexOf(e)>-1&&(p={passive:!1}),s.removeListener=be.listen(i,bj[e]||e,s.nativeHandler,p)),th.callMethod(e,"add",i,[u])},removeHandler:function(a,l){let d=function(u){let h=t[u];if(!h.handleObjects.length){delete t[u];return}let f;h.handleObjects=h.handleObjects.filter(function(g){let b=o.length&&!vj(g.namespaces,o)||a&&g.handler!==a||l&&g.selector!==l;return b||(f=g.handler,th.callMethod(u,"remove",i,[g])),b}),!h.handleObjects.length&&u!==Bw&&(th.callMethod(u,"teardown",i,[o,f]),h.nativeHandler&&h.removeListener(),delete t[u])};if(r)d(e);else for(let u in t)d(u);Object.keys(t).length===0&&_M.delete(i)},callHandlers:function(a,l){let d=!1,c=function(u){d||(!o.length||vj(u.namespaces,o))&&(u.wrappedHandler(a,l),d=a.isImmediatePropagationStopped())};s.handleObjects.forEach(c),o.length&&t[Bw]&&t[Bw].handleObjects.forEach(c)}}}function Bge(i){return function(e,t){let n=Hm(this,i);e=yo.Event(e),n.callHandlers(e,t)}}function vj(i,e){for(let t=0;t<e.length;t++)if(i.indexOf(e[t])<0)return!1;return!0}function bM(i){return function(e,t,n,o,r){r||(r=o,o=void 0),typeof n!="string"&&(o=n,n=void 0),!r&&typeof t=="string"&&(r=o||n,n=void 0,o=void 0),i(e,t,n,o,r)}}function Vge(i){return function(e,t,n,o){typeof n=="function"&&(o=n,n=void 0),i(e,t,n,o)}}function yj(i){return function(e,t,n){typeof t=="string"&&(t={type:t}),t.target||(t.target=e),t.currentTarget=e,t.delegateTarget||(t.delegateTarget=e),!t.type&&t.originalEvent&&(t.type=t.originalEvent.type),i(e,t instanceof yo.Event?t:yo.Event(t),n)}}function Hge(i){return yo.Event=function(e,t){if(!(this instanceof yo.Event))return new yo.Event(e,t);e||(e={}),typeof e=="string"&&(e={type:e}),t||(t={}),i.call(this,e,t)},Object.assign(yo.Event.prototype,{_propagationStopped:!1,_immediatePropagationStopped:!1,_defaultPrevented:!1,isPropagationStopped:function(){return!!(this._propagationStopped||this.originalEvent&&this.originalEvent.propagationStopped)},stopPropagation:function(){this._propagationStopped=!0,this.originalEvent&&this.originalEvent.stopPropagation()},isImmediatePropagationStopped:function(){return this._immediatePropagationStopped},stopImmediatePropagation:function(){this.stopPropagation(),this._immediatePropagationStopped=!0,this.originalEvent&&this.originalEvent.stopImmediatePropagation()},isDefaultPrevented:function(){return!!(this._defaultPrevented||this.originalEvent&&this.originalEvent.defaultPrevented)},preventDefault:function(){this._defaultPrevented=!0,this.originalEvent&&this.originalEvent.preventDefault()}}),yo.Event}function xj(i){let e=function(t,n){if(n&&n.indexOf(" ")>-1){let o=Array.prototype.slice.call(arguments,0);n.split(" ").forEach(function(r){o[1]=r,i.apply(this,o)})}else i.apply(this,arguments)};return function(t,n){if(typeof n=="object"){let o=Array.prototype.slice.call(arguments,0);for(let r in n)o[1]=r,o[o.length-1]=n[r],e.apply(this,o)}else e.apply(this,arguments)}}function zge(i,e){let t=Rge[i]||i;(function(n,o){return n==="click"&&o.localName==="a"})(i,e)||Ie(e[t])&&(Vw=i,e[t](),Vw=void 0)}function jge(i){return function(e){return e.which==null&&e.type.indexOf("key")===0}(i)?i.charCode!=null?i.charCode:i.keyCode:function(e){return!e.which&&e.button!==void 0&&/^(?:mouse|pointer|contextmenu|drag|drop)|click/.test(e.type)}(i)?{1:1,2:3,3:1,4:2}[i.button]:i.which}function Oj(i){i&&(yo.Event=i,yo.Event.prototype=i.prototype)}Oj(Hge(function(i,e){var t;i instanceof yo.Event||it()&&i instanceof vM.Event||((t=i.view)===null||t===void 0?void 0:t.Event)&&i instanceof i.view.Event?(this.originalEvent=i,this.type=i.type,this.currentTarget=void 0,Object.prototype.hasOwnProperty.call(i,"isTrusted")&&(this.isTrusted=i.isTrusted),this.timeStamp=i.timeStamp||Date.now()):Object.assign(this,i),xM("which",jge,this),i.type.indexOf("touch")===0&&(delete e.pageX,delete e.pageY),Object.assign(this,e),this.guid=++wj}));function xM(i,e,t){Object.defineProperty(t||yo.Event.prototype,i,{enumerable:!0,configurable:!0,get:function(){return this.originalEvent&&e(this.originalEvent)},set:function(n){Object.defineProperty(this,i,{enumerable:!0,configurable:!0,writable:!0,value:n})}})}Pge.forEach(i=>xM(i,e=>e[i]));_j(xM);var Ij=Gt(),Dj=Gt();yo.set=function(i){Ij.fire(),yo.inject(i),Oj(i.Event),Dj.fire()};yo.subscribeGlobal=function(){yM(arguments,bM(function(){let i=arguments;yo.on.apply(this,i),Ij.add(function(){let e=Array.prototype.slice.call(i,0);e.splice(3,1),yo.off.apply(this,e)}),Dj.add(function(){yo.on.apply(this,i)})}))};yo.forcePassiveFalseEventNames=Cj;yo.passiveEventHandlersSupported=Sj;var X=yo;var wb=new WeakMap,Lp,$ge=new eh,Tj=function(){},Wge=function(){},Uge=function(i){$ge.fire(i),Lp=i;let e=Lp.cleanData;Lp.cleanData=function(t){Tj(t);let n=e.call(this,t);return Wge(t),n}};Uge({data:function(){let i=arguments[0],e=arguments[1],t=arguments[2];if(!i)return;let n=wb.get(i);return n||(n={},wb.set(i,n)),e===void 0?n:arguments.length===2?n[e]:(n[e]=t,t)},removeData:function(i,e){if(i)if(e===void 0)wb.delete(i);else{let t=wb.get(i);t&&delete t[e]}},cleanData:function(i){for(let e=0;e<i.length;e++)X.off(i[e]),wb.delete(i[e])}});function Zi(){return Lp.data.apply(this,arguments)}function Aj(i){Tj=i}function ih(i,e){return Lp.removeData.call(this,i,e)}function nh(i,e){if(!be.isElementNode(i))return;let t=i.getElementsByTagName("*");Lp.cleanData(t),e&&Lp.cleanData([i])}var kj=function(i){return i==null?"":String(i)},CM=function(i){return kj(i).charAt(0).toUpperCase()+i.substr(1)},wM=function(i){return kj(i).replace(/([a-z\d])([A-Z])/g,"$1 $2").split(/[\s_-]+/)},Sb=function(i){return tn(wM(i),function(e){return e.toLowerCase()}).join("-")};var ld=function(i,e){return tn(wM(i),function(t,n){return t=t.toLowerCase(),(e||n>0)&&(t=CM(t)),t}).join("")},Mj=function(i){return CM(Sb(i).replace(/-/g," "))},oh=function(i){return tn(wM(i),function(e){return CM(e.toLowerCase())}).join(" ")},Gge=["0","1","2","3","4","5","6","7","8","9"],Ea=function(i){let e=[],t,n,o=!1,r=!1;for(t=0;t<i.length;t++)n=i.charAt(t),r=n===n.toUpperCase()&&n!=="-"&&n!==")"&&n!=="/"||n in Gge,n==="_"||n==="."?(n=" ",r=!0):t===0?(n=n.toUpperCase(),r=!0):!o&&r&&e.length>0&&e.push(" "),e.push(n),o=r;return e.join("")};var Hw=["","Webkit","Moz","O","Ms"],Kge={"":"",Webkit:"-webkit-",Moz:"-moz-",O:"-o-",ms:"-ms-"},SM=Wr(function(){return be.createElement("dx").style}),qge=function(i,e){i=ld(i,!0);let t;for(let n=0,o=Hw.length;n<o;n++){let r=Hw[n],s=r+i,a=ld(s);if(t=e(a,r),t===void 0&&(t=e(s,r)),t!==void 0)break}return t||""},fl=function(i){if(i in SM())return i;let e=i;i=i.charAt(0).toUpperCase()+i.substr(1);for(let t=1;t<Hw.length;t++){let n=Hw[t].toLowerCase()+i;if(n in SM())return n}return e},zm=function(i){return qge(i,function(e,t){if(e in SM())return Kge[t]})},Yge=["fillOpacity","columnCount","flexGrow","flexShrink","fontWeight","lineHeight","opacity","zIndex","zoom"];var Cc=function(i,e){return ai(e)&&Yge.indexOf(i)===-1&&(e+="px"),e},Rj=function(i,e,t){if(i){t=ai(t)?t+="px":t;for(let n=0;n<i.length;++n)i[n].style[e]=t}},Eb=function(i,e){Rj(i,"width",e)},zw=function(i,e){Rj(i,"height",e)},jw=function(i,e){(arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0)&&[].slice.call(i.style).forEach(o=>{i.style.removeProperty(o)}),e.split(";").forEach(n=>{let o=n.split(":").map(r=>r.trim());if(o.length===2){let[r,s]=o;i.style[r]=s}})};var $w=et(),Xge=["auto","none","inherit","initial"],EM=function(i,e){let t=0;return e.forEach(function(n){t+=parseFloat(i[n])||0}),t},Pj=function(i,e){let t=i==="width"?"Left":"Top",n=i==="width"?"Right":"Bottom";return{padding:EM(e,["padding"+t,"padding"+n]),border:EM(e,["border"+t+"Width","border"+n+"Width"]),margin:EM(e,["margin"+t,"margin"+n])}},Lj=function(i){var e;let t=(i==null||(e=i.ownerDocument)===null||e===void 0?void 0:e.defaultView)||$w;return t.getComputedStyle&&t.getComputedStyle(i)},OM=function(i,e,t,n){var o;return e?.[t]||((o=i.style)===null||o===void 0?void 0:o[t])||n},jm={content:0,padding:1,border:2,margin:3,"content-box":0,"border-box":2},Fj={width:["left","right"],height:["top","bottom"]};function Ob(i,e,t,n){let o=(s,a,l)=>parseFloat(OM(s,a,l,"0"))||0,r=t==="border"?"-width":"";return o(i,n,`${t}-${Fj[e][0]}${r}`)+o(i,n,`${t}-${Fj[e][1]}${r}`)}var Zge=function(i,e,t){let n=e==="width"?"offsetWidth":"offsetHeight",o=Lj(i),r=OM(i,o,e);(r===""||r==="auto")&&(r=i[n]),r=parseFloat(r)||0;let s=OM(i,o,"boxSizing","content-box"),l=jm[t||s],d=jm[s];if(l===void 0||d===void 0)throw new Error;if(d===l)return r;let c=Math.sign(l-d),u=!1,h=!1,f=!1,p=!1;c===1&&(l+=1,d+=1);for(let m=d;m!==l;m+=c)switch(m){case jm.content:break;case jm.padding:u=c*Ob(i,e,"padding",o);break;case jm.border:h=c*Ob(i,e,"border",o);break;case jm.margin:f=c*Ob(i,e,"margin",o)}if(u||h){let m=(u===!1?c*Ob(i,e,"padding",o):u)+(h===!1?c*Ob(i,e,"border",o):h);p=c*Math.max(0,Math.floor(i[n]-r-c*m))||0}return r+f+u+h+p},Qge=function(i){return ln(i)?i.innerHeight:i.offsetHeight},Jge=function(i,e,t){return i.indexOf("px")>0?i=parseInt(i.replace("px","")):i.indexOf("%")>0?i=parseInt(i.replace("%",""))*Qge(e)/100:isNaN(i)?i.indexOf("vh")>0?i=$w.innerHeight/100*parseInt(i.replace("vh","")):t&&i.indexOf("em")>0&&(i=parseFloat(i.replace("em",""))*parseFloat($w.getComputedStyle(t).fontSize)):i=parseInt(i),i},Nj=function(i,e,t){if(!i)return null;if(Xge.indexOf(i)>-1)return e?null:i;if(We(i)&&(i=Jge(i,t)),ai(i))return Math.max(0,i+e);let n=e<0?" - ":" ";return"calc("+i+n+Math.abs(e)+"px)"},Bj=function(i,e,t){let n=Nj(i,e,t);return n!==null?n:"none"},Vj=function(i,e,t){let n=Nj(i,e,t);return n!==null?n:0},Ww=function(i,e){if(!i)return 0;let t=Pj("height",$w.getComputedStyle(i));return t.padding+t.border+(e?t.margin:0)},DM=function(i){if(i){let e=i.getBoundingClientRect();if(e.height)return e.height}return 0},dd={getWidth:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return Oa("width",...e)},setWidth:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return Oa("width",...e)},getHeight:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return Oa("height",...e)},setHeight:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return Oa("height",...e)},getOuterWidth:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return Oa("outerWidth",...e)},setOuterWidth:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return Oa("outerWidth",...e)},getOuterHeight:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return Oa("outerHeight",...e)},setOuterHeight:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return Oa("outerHeight",...e)},getInnerWidth:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return Oa("innerWidth",...e)},setInnerWidth:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return Oa("innerWidth",...e)},getInnerHeight:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return Oa("innerHeight",...e)},setInnerHeight:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return Oa("innerHeight",...e)}};function Oa(i,e,t){return arguments.length===2?IM(e,i):IM(e,i,t)}var Qe=i=>dd.getWidth(i),$m=(i,e)=>dd.setWidth(i,e),ft=i=>dd.getHeight(i),Ia=(i,e)=>dd.setHeight(i,e),Ft=(i,e)=>dd.getOuterWidth(i,e||!1),TM=(i,e)=>dd.setOuterWidth(i,e),Ct=(i,e)=>dd.getOuterHeight(i,e||!1),AM=(i,e)=>dd.setOuterHeight(i,e),Ib=i=>dd.getInnerWidth(i);var Wm=i=>dd.getInnerHeight(i);var IM=function(i,e,t){let n=e.toLowerCase().indexOf("width")>=0?"Width":"Height",o=n.toLowerCase(),r=e.indexOf("outer")===0,s=e.indexOf("inner")===0,a=arguments.length===2||typeof t=="boolean";if(Oo(i)){if(i.length>1&&!a){for(let l=0;l<i.length;l++)IM(i[l],e,t);return}i=i[0]}if(i){if(ln(i))return r?i["inner"+n]:be.getDocumentElement()["client"+n];if(be.isDocument(i)){let l=be.getDocumentElement(),d=be.getBody();return Math.max(d["scroll"+n],d["offset"+n],l["scroll"+n],l["offset"+n],l["client"+n])}if(a){let l="content";return r&&(l=t?"margin":"border"),s&&(l="padding"),Zge(i,o,l)}if(ai(t)){let l=Lj(i),d=Pj(o,l),c=l.boxSizing==="border-box";t=Number(t),r?t-=c?0:d.border+d.padding:s?t+=c?d.border:-d.padding:c&&(t+=d.border+d.padding)}return t+=ai(t)?"px":"",be.setStyle(i,o,t),null}},kM=i=>ln(i)?i:i.defaultView,Db=i=>{if(!i.getClientRects().length)return{top:0,left:0};let e=i.getBoundingClientRect(),t=kM(i.ownerDocument),n=i.ownerDocument.documentElement;return{top:e.top+t.pageYOffset-n.clientTop,left:e.left+t.pageXOffset-n.clientLeft}};var Hj=/<([a-z][^/\0>\x20\t\r\n\f]+)/i,cd={default:{tagsCount:0,startTags:"",endTags:""},thead:{tagsCount:1,startTags:"<table>",endTags:"</table>"},td:{tagsCount:3,startTags:"<table><tbody><tr>",endTags:"</tr></tbody></table>"},col:{tagsCount:2,startTags:"<table><colgroup>",endTags:"</colgroup></table>"},tr:{tagsCount:2,startTags:"<table><tbody>",endTags:"</tbody></table>"}};cd.tbody=cd.colgroup=cd.caption=cd.tfoot=cd.thead;cd.th=cd.td;var Tb=function(i){if(typeof i!="string")return null;let t=be.createDocumentFragment().appendChild(be.createElement("div")),n=Hj.exec(i),o=n&&n[1].toLowerCase(),r=cd[o]||cd.default;t.innerHTML=r.startTags+i+r.endTags;for(let s=0;s<r.tagsCount;s++)t=t.lastChild;return[...t.childNodes]},zj=function(i){let e=Hj.exec(i);return e&&e[1]in cd};var e_e=et(),Pi,oi=function(i,e){return i?typeof i=="string"?i==="body"?(this[0]=e?e.body:be.getBody(),this.length=1,this):(e=e||be.getDocument(),i[0]==="<"?(this[0]=be.createElement(i.slice(1,-1),e),this.length=1,this):([].push.apply(this,be.querySelectorAll(e,i)),this)):be.isNode(i)||ln(i)?(this[0]=i,this.length=1,this):Array.isArray(i)?([].push.apply(this,i),this):Pi(i.toArray?i.toArray():[i]):(this.length=0,this)};Pi=function(i,e){return new oi(i,e)};Pi.fn={dxRenderer:!0};oi.prototype=Pi.fn;var Um=function(i,e){for(let t=0;t<this.length;t++){let n=Pi(this[t]);n[i].apply(n,e)}return this},MM=function(i,e,t){t!=null&&t!==!1?be.setAttribute(i,e,t):be.removeAttribute(i,e)};oi.prototype.show=function(){return this.toggle(!0)};oi.prototype.hide=function(){return this.toggle(!1)};oi.prototype.toggle=function(i){return this[0]&&this.toggleClass("dx-state-invisible",!i),this};oi.prototype.attr=function(i,e){if(this.length>1&&arguments.length>1)return Um.call(this,"attr",arguments);if(!this[0])return Ke(i)||e!==void 0?this:void 0;if(!this[0].getAttribute)return this.prop(i,e);if(typeof i=="string"&&arguments.length===1){let t=this[0].getAttribute(i);return t??void 0}else if(ht(i))for(let t in i)this.attr(t,i[t]);else MM(this[0],i,e);return this};oi.prototype.removeAttr=function(i){return this[0]&&be.removeAttribute(this[0],i),this};oi.prototype.prop=function(i,e){if(!this[0])return this;if(typeof i=="string"&&arguments.length===1)return this[0][i];if(ht(i))for(let t in i)this.prop(t,i[t]);else be.setProperty(this[0],i,e);return this};oi.prototype.addClass=function(i){return this.toggleClass(i,!0)};oi.prototype.removeClass=function(i){return this.toggleClass(i,!1)};oi.prototype.hasClass=function(i){if(!this[0]||this[0].className===void 0)return!1;let e=i.split(" ");for(let t=0;t<e.length;t++)if(this[0].classList){if(this[0].classList.contains(e[t]))return!0}else if(((We(this[0].className)?this[0].className:be.getAttribute(this[0],"class"))||"").split(" ").indexOf(e[t])>=0)return!0;return!1};oi.prototype.toggleClass=function(i,e){if(this.length>1)return Um.call(this,"toggleClass",arguments);if(!this[0]||!i)return this;e=e===void 0?!this.hasClass(i):e;let t=i.split(" ");for(let n=0;n<t.length;n++)be.setClass(this[0],t[n],e);return this};oi.prototype.html=function(i){return arguments.length?(this.empty(),typeof i=="string"&&!zj(i)||typeof i=="number"?(this[0].innerHTML=i,this):this.append(Tb(i))):this[0].innerHTML};var Wj=function(i,e){if(!(!this[0]||!i)){typeof i=="string"?i=Tb(i):i.nodeType?i=[i]:ai(i)&&(i=[be.createTextNode(i)]);for(let t=0;t<i.length;t++){let n=i[t],o=this[0];o.tagName==="TABLE"&&n.tagName==="TR"&&o.tBodies&&o.tBodies.length&&(o=o.tBodies[0]),be.insertElement(o,n.nodeType?n:n[0],e)}}},jj=function(i,e){if(!(!this[0]||!this[0].style)&&!(e===null||typeof e=="number"&&isNaN(e))){i=fl(i);for(let t=0;t<this.length;t++)this[t].style[i]=Cc(i,e)}};oi.prototype.css=function(i,e){if(We(i))if(arguments.length===2)jj.call(this,i,e);else{if(!this[0])return;i=fl(i);let t=e_e.getComputedStyle(this[0])[i]||this[0].style[i];return ai(t)?t.toString():t}else if(ht(i))for(let t in i)jj.call(this,t,i[t]);return this};oi.prototype.prepend=function(i){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.prepend(arguments[e]);return this}return Wj.apply(this,[i,this[0].firstChild]),this};oi.prototype.append=function(i){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.append(arguments[e]);return this}return Wj.apply(this,[i]),this};oi.prototype.prependTo=function(i){if(this.length>1){for(let e=this.length-1;e>=0;e--)Pi(this[e]).prependTo(i);return this}return i=Pi(i),i[0]&&be.insertElement(i[0],this[0],i[0].firstChild),this};oi.prototype.appendTo=function(i){return this.length>1?Um.call(this,"appendTo",arguments):(be.insertElement(Pi(i)[0],this[0]),this)};oi.prototype.insertBefore=function(i){return i&&i[0]&&be.insertElement(i[0].parentNode,this[0],i[0]),this};oi.prototype.insertAfter=function(i){return i&&i[0]&&be.insertElement(i[0].parentNode,this[0],i[0].nextSibling),this};oi.prototype.before=function(i){return this[0]&&be.insertElement(this[0].parentNode,i[0],this[0]),this};oi.prototype.after=function(i){return this[0]&&be.insertElement(this[0].parentNode,i[0],this[0].nextSibling),this};oi.prototype.wrap=function(i){if(this[0]){let e=Pi(i);e.insertBefore(this),e.append(this)}return this};oi.prototype.wrapInner=function(i){let e=this.contents();return e.length?e.wrap(i):this.append(i),this};oi.prototype.replaceWith=function(i){if(i&&i[0])return i.is(this)?this:(i.insertBefore(this),this.remove(),i)};oi.prototype.remove=function(){return this.length>1?Um.call(this,"remove",arguments):(nh(this[0],!0),be.removeElement(this[0]),this)};oi.prototype.detach=function(){return this.length>1?Um.call(this,"detach",arguments):(be.removeElement(this[0]),this)};oi.prototype.empty=function(){return this.length>1?Um.call(this,"empty",arguments):(nh(this[0]),be.setText(this[0],""),this)};oi.prototype.clone=function(){let i=[];for(let e=0;e<this.length;e++)i.push(this[e].cloneNode(!0));return Pi(i)};oi.prototype.text=function(i){if(!arguments.length){let t="";for(let n=0;n<this.length;n++)t+=this[n]&&this[n].textContent||"";return t}let e=Ie(i)?i():i;return nh(this[0],!1),be.setText(this[0],U(e)?e:""),this};oi.prototype.val=function(i){return arguments.length===1?this.prop("value",U(i)?i:""):this.prop("value")};oi.prototype.contents=function(){if(!this[0])return Pi();let i=[];return i.push.apply(i,this[0].childNodes),Pi(i)};oi.prototype.find=function(i){let e=Pi();if(!i)return e;let t=[],n;if(typeof i=="string")for(i=i.trim(),n=0;n<this.length;n++){let o=this[n];if(be.isElementNode(o)){let r=o.getAttribute("id"),s=r||"dx-query-children";r||MM(o,"id",s),s="[id='"+s+"'] ";let a=s+i.replace(/([^\\])(,)/g,"$1, "+s);t.push.apply(t,be.querySelectorAll(o,a)),MM(o,"id",r)}else(be.isDocument(o)||be.isDocumentFragment(o))&&t.push.apply(t,be.querySelectorAll(o,i))}else for(n=0;n<this.length;n++)i=be.isNode(i)?i:i[0],this[n]!==i&&this[n].contains(i)&&t.push(i);return e.add(t)};var $j=function(i,e){return e=e.host??e,e.nodeType?!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length):!0};oi.prototype.filter=function(i){if(!i)return Pi();if(i===":visible")return this.filter($j);if(i===":hidden")return this.filter(function(t,n){return!$j(0,n)});let e=[];for(let t=0;t<this.length;t++){let n=this[t];if(be.isElementNode(n)&&or(i)==="string")be.elementMatches(n,i)&&e.push(n);else if(be.isNode(i)||ln(i))i===n&&e.push(n);else if(Ie(i))i.call(n,t,n)&&e.push(n);else for(let o=0;o<i.length;o++)i[o]===n&&e.push(n)}return Pi(e)};oi.prototype.not=function(i){let e=[],t=this.filter(i).toArray();for(let n=0;n<this.length;n++)t.indexOf(this[n])===-1&&e.push(this[n]);return Pi(e)};oi.prototype.is=function(i){return!!this.filter(i).length};oi.prototype.children=function(i){let e=[];for(let t=0;t<this.length;t++){let n=this[t]?this[t].childNodes:[];for(let o=0;o<n.length;o++)be.isElementNode(n[o])&&e.push(n[o])}return e=Pi(e),i?e.filter(i):e};oi.prototype.siblings=function(){let i=this[0];if(!i||!i.parentNode)return Pi();let e=[],t=i.parentNode.childNodes||[];for(let n=0;n<t.length;n++){let o=t[n];be.isElementNode(o)&&o!==i&&e.push(o)}return Pi(e)};oi.prototype.each=function(i){for(let e=0;e<this.length&&i.call(this[e],e,this[e])!==!1;e++);};oi.prototype.index=function(i){return i?(i=Pi(i),this.toArray().indexOf(i[0])):this.parent().children().index(this)};oi.prototype.get=function(i){return this[i<0?this.length+i:i]};oi.prototype.eq=function(i){return i=i<0?this.length+i:i,Pi(this[i])};oi.prototype.first=function(){return this.eq(0)};oi.prototype.last=function(){return this.eq(-1)};oi.prototype.select=function(){for(let i=0;i<this.length;i+=1)this[i].select&&this[i].select();return this};oi.prototype.parent=function(i){if(!this[0])return Pi();let e=Pi(this[0].parentNode);return!i||e.is(i)?e:Pi()};oi.prototype.parents=function(i){let e=[],t=this.parent();for(;t&&t[0]&&!be.isDocument(t[0]);)be.isElementNode(t[0])&&(!i||t.is(i))&&e.push(t.get(0)),t=t.parent();return Pi(e)};oi.prototype.closest=function(i){if(this.is(i))return this;let e=this.parent();for(;e&&e.length;){if(e.is(i))return e;e=e.parent()}return Pi()};oi.prototype.next=function(i){if(!this[0])return Pi();let e=Pi(this[0].nextSibling);if(!arguments.length)return e;for(;e&&e.length;){if(e.is(i))return e;e=e.next()}return Pi()};oi.prototype.prev=function(){return this[0]?Pi(this[0].previousSibling):Pi()};oi.prototype.add=function(i){let e=Pi(i),t=this.toArray();for(let n=0;n<e.length;n++){let o=e[n];t.indexOf(o)===-1&&t.push(o)}return Pi(t)};var RM=[];oi.prototype.splice=function(){return Pi(RM.splice.apply(this,arguments))};oi.prototype.slice=function(){return Pi(RM.slice.apply(this,arguments))};oi.prototype.toArray=function(){return RM.slice.call(this)};oi.prototype.offset=function(){if(this[0])return Db(this[0])};oi.prototype.offsetParent=function(){if(!this[0])return Pi();let i=Pi(this[0].offsetParent);for(;i[0]&&i.css("position")==="static";)i=Pi(i[0].offsetParent);return i=i[0]?i:Pi(be.getDocumentElement()),i};oi.prototype.position=function(){if(!this[0])return;let i,e=parseFloat(this.css("marginTop")),t=parseFloat(this.css("marginLeft"));if(this.css("position")==="fixed")return i=this[0].getBoundingClientRect(),{top:i.top-e,left:i.left-t};i=this.offset();let n=this.offsetParent(),o={top:0,left:0};return n[0].nodeName!=="HTML"&&(o=n.offset()),o={top:o.top+parseFloat(n.css("borderTopWidth")),left:o.left+parseFloat(n.css("borderLeftWidth"))},{top:i.top-o.top-e,left:i.left-o.left-t}};[{name:"scrollLeft",offsetProp:"pageXOffset",scrollWindow:function(i,e){i.scrollTo(e,i.pageYOffset)}},{name:"scrollTop",offsetProp:"pageYOffset",scrollWindow:function(i,e){i.scrollTo(i.pageXOffset,e)}}].forEach(function(i){let e=i.name;oi.prototype[e]=function(t){if(!this[0])return;let n=kM(this[0]);return t===void 0?n?n[i.offsetProp]:this[0][e]:(n?i.scrollWindow(n,t):this[0][e]=t,this)}});oi.prototype.data=function(i,e){if(this[0])return arguments.length<2?Zi.call(Pi,this[0],i):(Zi.call(Pi,this[0],i,e),this)};oi.prototype.removeData=function(i){return this[0]&&ih(this[0],i),this};var Uj=function(){return Pi.apply(this,arguments)};Object.defineProperty(Uj,"fn",{enumerable:!0,configurable:!0,get:function(){return Pi.fn},set:function(i){Pi.fn=i}});var Gj={set:function(i){Pi=i},get:function(){return Uj}};var I=Gj.get();var Kj={en:{Yes:"Yes",No:"No",Cancel:"Cancel",Close:"Close",Clear:"Clear",Done:"Done",Loading:"Loading...",Select:"Select...",Search:"Search",Back:"Back",OK:"OK","dxCollectionWidget-noDataText":"No data to display","dxDropDownEditor-selectLabel":"Select","validation-required":"Required","validation-required-formatted":"{0} is required","validation-numeric":"Value must be a number","validation-numeric-formatted":"{0} must be a number","validation-range":"Value is out of range","validation-range-formatted":"{0} is out of range","validation-stringLength":"The length of the value is not correct","validation-stringLength-formatted":"The length of {0} is not correct","validation-custom":"Value is invalid","validation-custom-formatted":"{0} is invalid","validation-async":"Value is invalid","validation-async-formatted":"{0} is invalid","validation-compare":"Values do not match","validation-compare-formatted":"{0} does not match","validation-pattern":"Value does not match pattern","validation-pattern-formatted":"{0} does not match pattern","validation-email":"Email is invalid","validation-email-formatted":"{0} is invalid","validation-mask":"Value is invalid","dxLookup-searchPlaceholder":"Minimum character number: {0}","dxList-pullingDownText":"Pull down to refresh...","dxList-pulledDownText":"Release to refresh...","dxList-refreshingText":"Refreshing...","dxList-pageLoadingText":"Loading...","dxList-nextButtonText":"More","dxList-selectAll":"Select All","dxList-listAriaLabel":"Items","dxList-listAriaLabel-deletable":"Deletable items","dxListEditDecorator-delete":"Delete","dxListEditDecorator-more":"More","dxScrollView-pullingDownText":"Pull down to refresh...","dxScrollView-pulledDownText":"Release to refresh...","dxScrollView-refreshingText":"Refreshing...","dxScrollView-reachBottomText":"Loading...","dxDateBox-simulatedDataPickerTitleTime":"Select time","dxDateBox-simulatedDataPickerTitleDate":"Select date","dxDateBox-simulatedDataPickerTitleDateTime":"Select date and time","dxDateBox-validation-datetime":"Value must be a date or time","dxDateRangeBox-invalidStartDateMessage":"Start value must be a date","dxDateRangeBox-invalidEndDateMessage":"End value must be a date","dxDateRangeBox-startDateOutOfRangeMessage":"Start date is out of range","dxDateRangeBox-endDateOutOfRangeMessage":"End date is out of range","dxDateRangeBox-startDateLabel":"Start Date","dxDateRangeBox-endDateLabel":"End Date","dxFileUploader-selectFile":"Select a file","dxFileUploader-dropFile":"or Drop a file here","dxFileUploader-bytes":"bytes","dxFileUploader-kb":"KB","dxFileUploader-Mb":"MB","dxFileUploader-Gb":"GB","dxFileUploader-upload":"Upload","dxFileUploader-uploaded":"Uploaded","dxFileUploader-readyToUpload":"Ready to upload","dxFileUploader-uploadAbortedMessage":"Upload cancelled","dxFileUploader-uploadFailedMessage":"Upload failed","dxFileUploader-invalidFileExtension":"File type is not allowed","dxFileUploader-invalidMaxFileSize":"File is too large","dxFileUploader-invalidMinFileSize":"File is too small","dxRangeSlider-ariaFrom":"From","dxRangeSlider-ariaTill":"Till","dxSwitch-switchedOnText":"ON","dxSwitch-switchedOffText":"OFF","dxForm-optionalMark":"optional","dxForm-requiredMessage":"{0} is required","dxNumberBox-invalidValueMessage":"Value must be a number","dxNumberBox-noDataText":"No data","dxDataGrid-emptyHeaderWithColumnChooserText":"Use {0} to display columns","dxDataGrid-emptyHeaderWithGroupPanelText":"Drag a column from the group panel here","dxDataGrid-emptyHeaderWithColumnChooserAndGroupPanelText":"Use {0} or drag a column from the group panel","dxDataGrid-emptyHeaderColumnChooserText":"column chooser","dxDataGrid-columnChooserTitle":"Column Chooser","dxDataGrid-columnChooserEmptyText":"Drag a column here to hide it","dxDataGrid-groupContinuesMessage":"Continues on the next page","dxDataGrid-groupContinuedMessage":"Continued from the previous page","dxDataGrid-groupHeaderText":"Group by This Column","dxDataGrid-ungroupHeaderText":"Ungroup","dxDataGrid-ungroupAllText":"Ungroup All","dxDataGrid-editingEditRow":"Edit","dxDataGrid-editingSaveRowChanges":"Save","dxDataGrid-editingCancelRowChanges":"Cancel","dxDataGrid-editingDeleteRow":"Delete","dxDataGrid-editingUndeleteRow":"Undelete","dxDataGrid-editingConfirmDeleteMessage":"Are you sure you want to delete this record?","dxDataGrid-validationCancelChanges":"Cancel changes","dxDataGrid-groupPanelEmptyText":"Drag a column header here to group by that column","dxDataGrid-noDataText":"No data","dxDataGrid-searchPanelPlaceholder":"Search...","dxDataGrid-filterRowShowAllText":"(All)","dxDataGrid-filterRowResetOperationText":"Reset","dxDataGrid-filterRowOperationEquals":"Equals","dxDataGrid-filterRowOperationNotEquals":"Does not equal","dxDataGrid-filterRowOperationLess":"Less than","dxDataGrid-filterRowOperationLessOrEquals":"Less than or equal to","dxDataGrid-filterRowOperationGreater":"Greater than","dxDataGrid-filterRowOperationGreaterOrEquals":"Greater than or equal to","dxDataGrid-filterRowOperationStartsWith":"Starts with","dxDataGrid-filterRowOperationContains":"Contains","dxDataGrid-filterRowOperationNotContains":"Does not contain","dxDataGrid-filterRowOperationEndsWith":"Ends with","dxDataGrid-filterRowOperationBetween":"Between","dxDataGrid-filterRowOperationBetweenStartText":"Start","dxDataGrid-filterRowOperationBetweenEndText":"End","dxDataGrid-ariaSearchBox":"Search box","dxDataGrid-applyFilterText":"Apply filter","dxDataGrid-trueText":"true","dxDataGrid-falseText":"false","dxDataGrid-sortingAscendingText":"Sort Ascending","dxDataGrid-sortingDescendingText":"Sort Descending","dxDataGrid-sortingClearText":"Clear Sorting","dxDataGrid-ariaNotSortedColumn":"Not sorted column","dxDataGrid-ariaSortedAscendingColumn":"Column sorted in ascending order","dxDataGrid-ariaSortedDescendingColumn":"Column sorted in descending order","dxDataGrid-ariaSortIndex":"Sort index {0}","dxDataGrid-editingSaveAllChanges":"Save changes","dxDataGrid-editingCancelAllChanges":"Discard changes","dxDataGrid-editingAddRow":"Add a row","dxDataGrid-summaryMin":"Min: {0}","dxDataGrid-summaryMinOtherColumn":"Min of {1} is {0}","dxDataGrid-summaryMax":"Max: {0}","dxDataGrid-summaryMaxOtherColumn":"Max of {1} is {0}","dxDataGrid-summaryAvg":"Avg: {0}","dxDataGrid-summaryAvgOtherColumn":"Avg of {1} is {0}","dxDataGrid-summarySum":"Sum: {0}","dxDataGrid-summarySumOtherColumn":"Sum of {1} is {0}","dxDataGrid-summaryCount":"Count: {0}","dxDataGrid-columnFixingFix":"Fix","dxDataGrid-columnFixingUnfix":"Unfix","dxDataGrid-columnFixingLeftPosition":"To the left","dxDataGrid-columnFixingRightPosition":"To the right","dxDataGrid-exportTo":"Export","dxDataGrid-exportToExcel":"Export to Excel file","dxDataGrid-exporting":"Exporting...","dxDataGrid-excelFormat":"Excel file","dxDataGrid-selectedRows":"Selected rows","dxDataGrid-exportSelectedRows":"Export selected rows to {0}","dxDataGrid-exportAll":"Export all data to {0}","dxDataGrid-headerFilterLabel":"Filter options","dxDataGrid-headerFilterIndicatorLabel":"Show filter options for column '{0}'","dxDataGrid-headerFilterEmptyValue":"(Blanks)","dxDataGrid-headerFilterOK":"OK","dxDataGrid-headerFilterCancel":"Cancel","dxDataGrid-ariaAdaptiveCollapse":"Hide additional data","dxDataGrid-ariaAdaptiveExpand":"Display additional data","dxDataGrid-ariaColumn":"Column","dxDataGrid-ariaColumnHeader":"Column header","dxDataGrid-ariaValue":"Value","dxDataGrid-ariaError":"Error","dxDataGrid-ariaRevertButton":"Press Escape to discard the changes","dxDataGrid-ariaFilterCell":"Filter cell","dxDataGrid-ariaCollapse":"Collapse","dxDataGrid-ariaModifiedCell":"Modified","dxDataGrid-ariaDeletedCell":"Deleted","dxDataGrid-ariaEditableCell":"Editable","dxDataGrid-ariaExpand":"Expand","dxDataGrid-ariaCollapsedRow":"Collapsed row","dxDataGrid-ariaExpandedRow":"Expanded row","dxDataGrid-ariaDataGrid":"Data grid with {0} rows and {1} columns","dxDataGrid-ariaSearchInGrid":"Search in the data grid","dxDataGrid-ariaSelectAll":"Select all","dxDataGrid-ariaSelectRow":"Select row","dxDataGrid-ariaToolbar":"Data grid toolbar","dxDataGrid-ariaEditForm":"Edit form","dxDataGrid-filterBuilderPopupTitle":"Filter Builder","dxDataGrid-filterPanelCreateFilter":"Create Filter","dxDataGrid-filterPanelClearFilter":"Clear","dxDataGrid-filterPanelFilterEnabledHint":"Enable the filter","dxDataGrid-masterDetail":"Cell with details","dxTreeList-ariaTreeList":"Tree list with {0} rows and {1} columns","dxTreeList-ariaSearchInGrid":"Search in the tree list","dxTreeList-ariaToolbar":"Tree list toolbar","dxTreeList-editingAddRowToNode":"Add","dxPager-infoText":"Page {0} of {1} ({2} items)","dxPager-pagesCountText":"of","dxPager-pageSize":"Items per page: {0}","dxPager-pageSizesAllText":"All","dxPager-page":"Page {0}","dxPager-prevPage":"Previous Page","dxPager-nextPage":"Next Page","dxPager-ariaLabel":"Page Navigation","dxPager-ariaPageSize":"Page size","dxPager-ariaPageNumber":"Page number","dxPivotGrid-grandTotal":"Grand Total","dxPivotGrid-total":"{0} Total","dxPivotGrid-fieldChooserTitle":"Field Chooser","dxPivotGrid-showFieldChooser":"Show Field Chooser","dxPivotGrid-expandAll":"Expand All","dxPivotGrid-collapseAll":"Collapse All","dxPivotGrid-sortColumnBySummary":'Sort "{0}" by This Column',"dxPivotGrid-sortRowBySummary":'Sort "{0}" by This Row',"dxPivotGrid-removeAllSorting":"Remove All Sorting","dxPivotGrid-dataNotAvailable":"N/A","dxPivotGrid-rowFields":"Row Fields","dxPivotGrid-columnFields":"Column Fields","dxPivotGrid-dataFields":"Data Fields","dxPivotGrid-filterFields":"Filter Fields","dxPivotGrid-allFields":"All Fields","dxPivotGrid-columnFieldArea":"Drop Column Fields Here","dxPivotGrid-dataFieldArea":"Drop Data Fields Here","dxPivotGrid-rowFieldArea":"Drop Row Fields Here","dxPivotGrid-filterFieldArea":"Drop Filter Fields Here","dxScheduler-editorLabelTitle":"Subject","dxScheduler-editorLabelStartDate":"Start Date","dxScheduler-editorLabelEndDate":"End Date","dxScheduler-editorLabelDescription":"Description","dxScheduler-editorLabelRecurrence":"Repeat","dxScheduler-openAppointment":"Open appointment","dxScheduler-recurrenceNever":"Never","dxScheduler-recurrenceMinutely":"Every minute","dxScheduler-recurrenceHourly":"Hourly","dxScheduler-recurrenceDaily":"Daily","dxScheduler-recurrenceWeekly":"Weekly","dxScheduler-recurrenceMonthly":"Monthly","dxScheduler-recurrenceYearly":"Yearly","dxScheduler-recurrenceRepeatEvery":"Repeat Every","dxScheduler-recurrenceRepeatOn":"Repeat On","dxScheduler-recurrenceEnd":"End repeat","dxScheduler-recurrenceAfter":"After","dxScheduler-recurrenceOn":"On","dxScheduler-recurrenceRepeatMinutely":"minute(s)","dxScheduler-recurrenceRepeatHourly":"hour(s)","dxScheduler-recurrenceRepeatDaily":"day(s)","dxScheduler-recurrenceRepeatWeekly":"week(s)","dxScheduler-recurrenceRepeatMonthly":"month(s)","dxScheduler-recurrenceRepeatYearly":"year(s)","dxScheduler-switcherDay":"Day","dxScheduler-switcherWeek":"Week","dxScheduler-switcherWorkWeek":"Work Week","dxScheduler-switcherMonth":"Month","dxScheduler-switcherAgenda":"Agenda","dxScheduler-switcherTimelineDay":"Timeline Day","dxScheduler-switcherTimelineWeek":"Timeline Week","dxScheduler-switcherTimelineWorkWeek":"Timeline Work Week","dxScheduler-switcherTimelineMonth":"Timeline Month","dxScheduler-recurrenceRepeatOnDate":"on date","dxScheduler-recurrenceRepeatCount":"occurrence(s)","dxScheduler-allDay":"All day","dxScheduler-confirmRecurrenceEditTitle":"Edit Recurring Appointment","dxScheduler-confirmRecurrenceDeleteTitle":"Delete Recurring Appointment","dxScheduler-confirmRecurrenceEditMessage":"Do you want to edit only this appointment or the whole series?","dxScheduler-confirmRecurrenceDeleteMessage":"Do you want to delete only this appointment or the whole series?","dxScheduler-confirmRecurrenceEditSeries":"Edit series","dxScheduler-confirmRecurrenceDeleteSeries":"Delete series","dxScheduler-confirmRecurrenceEditOccurrence":"Edit appointment","dxScheduler-confirmRecurrenceDeleteOccurrence":"Delete appointment","dxScheduler-noTimezoneTitle":"No timezone","dxScheduler-moreAppointments":"{0} more","dxCalendar-currentDay":"Today","dxCalendar-currentMonth":"Current month","dxCalendar-currentYear":"Current year","dxCalendar-currentYearRange":"Current year range","dxCalendar-todayButtonText":"Today","dxCalendar-ariaWidgetName":"Calendar","dxCalendar-previousMonthButtonLabel":"Previous month","dxCalendar-previousYearButtonLabel":"Previous year","dxCalendar-previousDecadeButtonLabel":"Previous decade","dxCalendar-previousCenturyButtonLabel":"Previous century","dxCalendar-nextMonthButtonLabel":"Next month","dxCalendar-nextYearButtonLabel":"Next year","dxCalendar-nextDecadeButtonLabel":"Next decade","dxCalendar-nextCenturyButtonLabel":"Next century","dxCalendar-captionMonthLabel":"Month selection","dxCalendar-captionYearLabel":"Year selection","dxCalendar-captionDecadeLabel":"Decade selection","dxCalendar-captionCenturyLabel":"Century selection","dxCalendar-selectedDate":"The selected date is {0}","dxCalendar-selectedDateRange":"The selected date range is from {0} to {1}","dxColorView-ariaRed":"Red","dxColorView-ariaGreen":"Green","dxColorView-ariaBlue":"Blue","dxColorView-ariaAlpha":"Transparency","dxColorView-ariaHex":"Color code","dxTagBox-selected":"{0} selected","dxTagBox-allSelected":"All selected ({0})","dxTagBox-moreSelected":"{0} more","dxTagBox-tagRoleDescription":"Tag. Press the delete button to remove this tag","vizExport-printingButtonText":"Print","vizExport-titleMenuText":"Exporting/Printing","vizExport-exportButtonText":"{0} file","dxFilterBuilder-and":"And","dxFilterBuilder-or":"Or","dxFilterBuilder-notAnd":"Not And","dxFilterBuilder-notOr":"Not Or","dxFilterBuilder-addCondition":"Add Condition","dxFilterBuilder-addGroup":"Add Group","dxFilterBuilder-enterValueText":"<enter a value>","dxFilterBuilder-filterOperationEquals":"Equals","dxFilterBuilder-filterOperationNotEquals":"Does not equal","dxFilterBuilder-filterOperationLess":"Is less than","dxFilterBuilder-filterOperationLessOrEquals":"Is less than or equal to","dxFilterBuilder-filterOperationGreater":"Is greater than","dxFilterBuilder-filterOperationGreaterOrEquals":"Is greater than or equal to","dxFilterBuilder-filterOperationStartsWith":"Starts with","dxFilterBuilder-filterOperationContains":"Contains","dxFilterBuilder-filterOperationNotContains":"Does not contain","dxFilterBuilder-filterOperationEndsWith":"Ends with","dxFilterBuilder-filterOperationIsBlank":"Is blank","dxFilterBuilder-filterOperationIsNotBlank":"Is not blank","dxFilterBuilder-filterOperationBetween":"Is between","dxFilterBuilder-filterOperationAnyOf":"Is any of","dxFilterBuilder-filterOperationNoneOf":"Is none of","dxHtmlEditor-dialogColorCaption":"Change Font Color","dxHtmlEditor-dialogBackgroundCaption":"Change Background Color","dxHtmlEditor-dialogLinkCaption":"Add Link","dxHtmlEditor-dialogLinkUrlField":"URL","dxHtmlEditor-dialogLinkTextField":"Text","dxHtmlEditor-dialogLinkTargetField":"Open link in new window","dxHtmlEditor-dialogImageCaption":"Add Image","dxHtmlEditor-dialogImageUrlField":"URL","dxHtmlEditor-dialogImageAltField":"Alternate text","dxHtmlEditor-dialogImageWidthField":"Width (px)","dxHtmlEditor-dialogImageHeightField":"Height (px)","dxHtmlEditor-dialogInsertTableRowsField":"Rows","dxHtmlEditor-dialogInsertTableColumnsField":"Columns","dxHtmlEditor-dialogInsertTableCaption":"Insert Table","dxHtmlEditor-dialogUpdateImageCaption":"Update Image","dxHtmlEditor-dialogImageUpdateButton":"Update","dxHtmlEditor-dialogImageAddButton":"Add","dxHtmlEditor-dialogImageSpecifyUrl":"From the Web","dxHtmlEditor-dialogImageSelectFile":"From This Device","dxHtmlEditor-dialogImageKeepAspectRatio":"Keep Aspect Ratio","dxHtmlEditor-dialogImageEncodeToBase64":"Encode to Base64","dxHtmlEditor-heading":"Heading","dxHtmlEditor-normalText":"Normal text","dxHtmlEditor-background":"Background Color","dxHtmlEditor-bold":"Bold","dxHtmlEditor-color":"Font Color","dxHtmlEditor-font":"Font","dxHtmlEditor-italic":"Italic","dxHtmlEditor-link":"Add Link","dxHtmlEditor-image":"Add Image","dxHtmlEditor-size":"Size","dxHtmlEditor-strike":"Strikethrough","dxHtmlEditor-subscript":"Subscript","dxHtmlEditor-superscript":"Superscript","dxHtmlEditor-underline":"Underline","dxHtmlEditor-blockquote":"Blockquote","dxHtmlEditor-header":"Header","dxHtmlEditor-increaseIndent":"Increase Indent","dxHtmlEditor-decreaseIndent":"Decrease Indent","dxHtmlEditor-orderedList":"Ordered List","dxHtmlEditor-bulletList":"Bullet List","dxHtmlEditor-alignLeft":"Align Left","dxHtmlEditor-alignCenter":"Align Center","dxHtmlEditor-alignRight":"Align Right","dxHtmlEditor-alignJustify":"Align Justify","dxHtmlEditor-codeBlock":"Code Block","dxHtmlEditor-variable":"Add Variable","dxHtmlEditor-undo":"Undo","dxHtmlEditor-redo":"Redo","dxHtmlEditor-clear":"Clear Formatting","dxHtmlEditor-insertTable":"Insert Table","dxHtmlEditor-insertHeaderRow":"Insert Header Row","dxHtmlEditor-insertRowAbove":"Insert Row Above","dxHtmlEditor-insertRowBelow":"Insert Row Below","dxHtmlEditor-insertColumnLeft":"Insert Column Left","dxHtmlEditor-insertColumnRight":"Insert Column Right","dxHtmlEditor-deleteColumn":"Delete Column","dxHtmlEditor-deleteRow":"Delete Row","dxHtmlEditor-deleteTable":"Delete Table","dxHtmlEditor-cellProperties":"Cell Properties","dxHtmlEditor-tableProperties":"Table Properties","dxHtmlEditor-insert":"Insert","dxHtmlEditor-delete":"Delete","dxHtmlEditor-border":"Border","dxHtmlEditor-style":"Style","dxHtmlEditor-width":"Width","dxHtmlEditor-height":"Height","dxHtmlEditor-borderColor":"Color","dxHtmlEditor-tableBackground":"Background","dxHtmlEditor-dimensions":"Dimensions","dxHtmlEditor-alignment":"Alignment","dxHtmlEditor-horizontal":"Horizontal","dxHtmlEditor-vertical":"Vertical","dxHtmlEditor-paddingVertical":"Vertical Padding","dxHtmlEditor-paddingHorizontal":"Horizontal Padding","dxHtmlEditor-pixels":"Pixels","dxHtmlEditor-list":"List","dxHtmlEditor-ordered":"Ordered","dxHtmlEditor-bullet":"Bullet","dxHtmlEditor-align":"Align","dxHtmlEditor-center":"Center","dxHtmlEditor-left":"Left","dxHtmlEditor-right":"Right","dxHtmlEditor-indent":"Indent","dxHtmlEditor-justify":"Justify","dxHtmlEditor-borderStyleNone":"none","dxHtmlEditor-borderStyleHidden":"hidden","dxHtmlEditor-borderStyleDotted":"dotted","dxHtmlEditor-borderStyleDashed":"dashed","dxHtmlEditor-borderStyleSolid":"solid","dxHtmlEditor-borderStyleDouble":"double","dxHtmlEditor-borderStyleGroove":"groove","dxHtmlEditor-borderStyleRidge":"ridge","dxHtmlEditor-borderStyleInset":"inset","dxHtmlEditor-borderStyleOutset":"outset","dxFileManager-newDirectoryName":"Untitled directory","dxFileManager-rootDirectoryName":"Files","dxFileManager-errorNoAccess":"Access Denied. Operation could not be completed.","dxFileManager-errorDirectoryExistsFormat":"Directory '{0}' already exists.","dxFileManager-errorFileExistsFormat":"File '{0}' already exists.","dxFileManager-errorFileNotFoundFormat":"File '{0}' not found.","dxFileManager-errorDirectoryNotFoundFormat":"Directory '{0}' not found.","dxFileManager-errorWrongFileExtension":"File extension is not allowed.","dxFileManager-errorMaxFileSizeExceeded":"File size exceeds the maximum allowed size.","dxFileManager-errorInvalidSymbols":"This name contains invalid characters.","dxFileManager-errorDefault":"Unspecified error.","dxFileManager-errorDirectoryOpenFailed":"The directory cannot be opened","dxFileManager-commandCreate":"New directory","dxFileManager-commandRename":"Rename","dxFileManager-commandMove":"Move to","dxFileManager-commandCopy":"Copy to","dxFileManager-commandDelete":"Delete","dxFileManager-commandDownload":"Download","dxFileManager-commandUpload":"Upload files","dxFileManager-commandRefresh":"Refresh","dxFileManager-commandThumbnails":"Thumbnails View","dxFileManager-commandDetails":"Details View","dxFileManager-commandClearSelection":"Clear selection","dxFileManager-commandShowNavPane":"Toggle navigation pane","dxFileManager-dialogDirectoryChooserMoveTitle":"Move to","dxFileManager-dialogDirectoryChooserMoveButtonText":"Move","dxFileManager-dialogDirectoryChooserCopyTitle":"Copy to","dxFileManager-dialogDirectoryChooserCopyButtonText":"Copy","dxFileManager-dialogRenameItemTitle":"Rename","dxFileManager-dialogRenameItemButtonText":"Save","dxFileManager-dialogCreateDirectoryTitle":"New directory","dxFileManager-dialogCreateDirectoryButtonText":"Create","dxFileManager-dialogDeleteItemTitle":"Delete","dxFileManager-dialogDeleteItemButtonText":"Delete","dxFileManager-dialogDeleteItemSingleItemConfirmation":"Are you sure you want to delete {0}?","dxFileManager-dialogDeleteItemMultipleItemsConfirmation":"Are you sure you want to delete {0} items?","dxFileManager-dialogButtonCancel":"Cancel","dxFileManager-editingCreateSingleItemProcessingMessage":"Creating a directory inside {0}","dxFileManager-editingCreateSingleItemSuccessMessage":"Created a directory inside {0}","dxFileManager-editingCreateSingleItemErrorMessage":"Directory was not created","dxFileManager-editingCreateCommonErrorMessage":"Directory was not created","dxFileManager-editingRenameSingleItemProcessingMessage":"Renaming an item inside {0}","dxFileManager-editingRenameSingleItemSuccessMessage":"Renamed an item inside {0}","dxFileManager-editingRenameSingleItemErrorMessage":"Item was not renamed","dxFileManager-editingRenameCommonErrorMessage":"Item was not renamed","dxFileManager-editingDeleteSingleItemProcessingMessage":"Deleting an item from {0}","dxFileManager-editingDeleteMultipleItemsProcessingMessage":"Deleting {0} items from {1}","dxFileManager-editingDeleteSingleItemSuccessMessage":"Deleted an item from {0}","dxFileManager-editingDeleteMultipleItemsSuccessMessage":"Deleted {0} items from {1}","dxFileManager-editingDeleteSingleItemErrorMessage":"Item was not deleted","dxFileManager-editingDeleteMultipleItemsErrorMessage":"{0} items were not deleted","dxFileManager-editingDeleteCommonErrorMessage":"Some items were not deleted","dxFileManager-editingMoveSingleItemProcessingMessage":"Moving an item to {0}","dxFileManager-editingMoveMultipleItemsProcessingMessage":"Moving {0} items to {1}","dxFileManager-editingMoveSingleItemSuccessMessage":"Moved an item to {0}","dxFileManager-editingMoveMultipleItemsSuccessMessage":"Moved {0} items to {1}","dxFileManager-editingMoveSingleItemErrorMessage":"Item was not moved","dxFileManager-editingMoveMultipleItemsErrorMessage":"{0} items were not moved","dxFileManager-editingMoveCommonErrorMessage":"Some items were not moved","dxFileManager-editingCopySingleItemProcessingMessage":"Copying an item to {0}","dxFileManager-editingCopyMultipleItemsProcessingMessage":"Copying {0} items to {1}","dxFileManager-editingCopySingleItemSuccessMessage":"Copied an item to {0}","dxFileManager-editingCopyMultipleItemsSuccessMessage":"Copied {0} items to {1}","dxFileManager-editingCopySingleItemErrorMessage":"Item was not copied","dxFileManager-editingCopyMultipleItemsErrorMessage":"{0} items were not copied","dxFileManager-editingCopyCommonErrorMessage":"Some items were not copied","dxFileManager-editingUploadSingleItemProcessingMessage":"Uploading an item to {0}","dxFileManager-editingUploadMultipleItemsProcessingMessage":"Uploading {0} items to {1}","dxFileManager-editingUploadSingleItemSuccessMessage":"Uploaded an item to {0}","dxFileManager-editingUploadMultipleItemsSuccessMessage":"Uploaded {0} items to {1}","dxFileManager-editingUploadSingleItemErrorMessage":"Item was not uploaded","dxFileManager-editingUploadMultipleItemsErrorMessage":"{0} items were not uploaded","dxFileManager-editingUploadCanceledMessage":"Canceled","dxFileManager-editingDownloadSingleItemErrorMessage":"Item was not downloaded","dxFileManager-editingDownloadMultipleItemsErrorMessage":"{0} items were not downloaded","dxFileManager-listDetailsColumnCaptionName":"Name","dxFileManager-listDetailsColumnCaptionDateModified":"Date Modified","dxFileManager-listDetailsColumnCaptionFileSize":"File Size","dxFileManager-listThumbnailsTooltipTextSize":"Size","dxFileManager-listThumbnailsTooltipTextDateModified":"Date Modified","dxFileManager-notificationProgressPanelTitle":"Progress","dxFileManager-notificationProgressPanelEmptyListText":"No operations","dxFileManager-notificationProgressPanelOperationCanceled":"Canceled","dxDiagram-categoryGeneral":"General","dxDiagram-categoryFlowchart":"Flowchart","dxDiagram-categoryOrgChart":"Org Chart","dxDiagram-categoryContainers":"Containers","dxDiagram-categoryCustom":"Custom","dxDiagram-commandExportToSvg":"Export to SVG","dxDiagram-commandExportToPng":"Export to PNG","dxDiagram-commandExportToJpg":"Export to JPEG","dxDiagram-commandUndo":"Undo","dxDiagram-commandRedo":"Redo","dxDiagram-commandFontName":"Font Name","dxDiagram-commandFontSize":"Font Size","dxDiagram-commandBold":"Bold","dxDiagram-commandItalic":"Italic","dxDiagram-commandUnderline":"Underline","dxDiagram-commandTextColor":"Font Color","dxDiagram-commandLineColor":"Line Color","dxDiagram-commandLineWidth":"Line Width","dxDiagram-commandLineStyle":"Line Style","dxDiagram-commandLineStyleSolid":"Solid","dxDiagram-commandLineStyleDotted":"Dotted","dxDiagram-commandLineStyleDashed":"Dashed","dxDiagram-commandFillColor":"Fill Color","dxDiagram-commandAlignLeft":"Align Left","dxDiagram-commandAlignCenter":"Align Center","dxDiagram-commandAlignRight":"Align Right","dxDiagram-commandConnectorLineType":"Connector Line Type","dxDiagram-commandConnectorLineStraight":"Straight","dxDiagram-commandConnectorLineOrthogonal":"Orthogonal","dxDiagram-commandConnectorLineStart":"Connector Line Start","dxDiagram-commandConnectorLineEnd":"Connector Line End","dxDiagram-commandConnectorLineNone":"None","dxDiagram-commandConnectorLineArrow":"Arrow","dxDiagram-commandFullscreen":"Full Screen","dxDiagram-commandUnits":"Units","dxDiagram-commandPageSize":"Page Size","dxDiagram-commandPageOrientation":"Page Orientation","dxDiagram-commandPageOrientationLandscape":"Landscape","dxDiagram-commandPageOrientationPortrait":"Portrait","dxDiagram-commandPageColor":"Page Color","dxDiagram-commandShowGrid":"Show Grid","dxDiagram-commandSnapToGrid":"Snap to Grid","dxDiagram-commandGridSize":"Grid Size","dxDiagram-commandZoomLevel":"Zoom Level","dxDiagram-commandAutoZoom":"Auto Zoom","dxDiagram-commandFitToContent":"Fit to Content","dxDiagram-commandFitToWidth":"Fit to Width","dxDiagram-commandAutoZoomByContent":"Auto Zoom by Content","dxDiagram-commandAutoZoomByWidth":"Auto Zoom by Width","dxDiagram-commandSimpleView":"Simple View","dxDiagram-commandCut":"Cut","dxDiagram-commandCopy":"Copy","dxDiagram-commandPaste":"Paste","dxDiagram-commandSelectAll":"Select All","dxDiagram-commandDelete":"Delete","dxDiagram-commandBringToFront":"Bring to Front","dxDiagram-commandSendToBack":"Send to Back","dxDiagram-commandLock":"Lock","dxDiagram-commandUnlock":"Unlock","dxDiagram-commandInsertShapeImage":"Insert Image...","dxDiagram-commandEditShapeImage":"Change Image...","dxDiagram-commandDeleteShapeImage":"Delete Image","dxDiagram-commandLayoutLeftToRight":"Left-to-right","dxDiagram-commandLayoutRightToLeft":"Right-to-left","dxDiagram-commandLayoutTopToBottom":"Top-to-bottom","dxDiagram-commandLayoutBottomToTop":"Bottom-to-top","dxDiagram-unitIn":"in","dxDiagram-unitCm":"cm","dxDiagram-unitPx":"px","dxDiagram-dialogButtonOK":"OK","dxDiagram-dialogButtonCancel":"Cancel","dxDiagram-dialogInsertShapeImageTitle":"Insert Image","dxDiagram-dialogEditShapeImageTitle":"Change Image","dxDiagram-dialogEditShapeImageSelectButton":"Select image","dxDiagram-dialogEditShapeImageLabelText":"or drop a file here","dxDiagram-uiExport":"Export","dxDiagram-uiProperties":"Properties","dxDiagram-uiSettings":"Settings","dxDiagram-uiShowToolbox":"Show Toolbox","dxDiagram-uiSearch":"Search","dxDiagram-uiStyle":"Style","dxDiagram-uiLayout":"Layout","dxDiagram-uiLayoutTree":"Tree","dxDiagram-uiLayoutLayered":"Layered","dxDiagram-uiDiagram":"Diagram","dxDiagram-uiText":"Text","dxDiagram-uiObject":"Object","dxDiagram-uiConnector":"Connector","dxDiagram-uiPage":"Page","dxDiagram-shapeText":"Text","dxDiagram-shapeRectangle":"Rectangle","dxDiagram-shapeEllipse":"Ellipse","dxDiagram-shapeCross":"Cross","dxDiagram-shapeTriangle":"Triangle","dxDiagram-shapeDiamond":"Diamond","dxDiagram-shapeHeart":"Heart","dxDiagram-shapePentagon":"Pentagon","dxDiagram-shapeHexagon":"Hexagon","dxDiagram-shapeOctagon":"Octagon","dxDiagram-shapeStar":"Star","dxDiagram-shapeArrowLeft":"Left Arrow","dxDiagram-shapeArrowUp":"Up Arrow","dxDiagram-shapeArrowRight":"Right Arrow","dxDiagram-shapeArrowDown":"Down Arrow","dxDiagram-shapeArrowUpDown":"Up Down Arrow","dxDiagram-shapeArrowLeftRight":"Left Right Arrow","dxDiagram-shapeProcess":"Process","dxDiagram-shapeDecision":"Decision","dxDiagram-shapeTerminator":"Terminator","dxDiagram-shapePredefinedProcess":"Predefined Process","dxDiagram-shapeDocument":"Document","dxDiagram-shapeMultipleDocuments":"Multiple Documents","dxDiagram-shapeManualInput":"Manual Input","dxDiagram-shapePreparation":"Preparation","dxDiagram-shapeData":"Data","dxDiagram-shapeDatabase":"Database","dxDiagram-shapeHardDisk":"Hard Disk","dxDiagram-shapeInternalStorage":"Internal Storage","dxDiagram-shapePaperTape":"Paper Tape","dxDiagram-shapeManualOperation":"Manual Operation","dxDiagram-shapeDelay":"Delay","dxDiagram-shapeStoredData":"Stored Data","dxDiagram-shapeDisplay":"Display","dxDiagram-shapeMerge":"Merge","dxDiagram-shapeConnector":"Connector","dxDiagram-shapeOr":"Or","dxDiagram-shapeSummingJunction":"Summing Junction","dxDiagram-shapeContainerDefaultText":"Container","dxDiagram-shapeVerticalContainer":"Vertical Container","dxDiagram-shapeHorizontalContainer":"Horizontal Container","dxDiagram-shapeCardDefaultText":"Person's Name","dxDiagram-shapeCardWithImageOnLeft":"Card with Image on the Left","dxDiagram-shapeCardWithImageOnTop":"Card with Image on the Top","dxDiagram-shapeCardWithImageOnRight":"Card with Image on the Right","dxGantt-dialogTitle":"Title","dxGantt-dialogStartTitle":"Start","dxGantt-dialogEndTitle":"End","dxGantt-dialogProgressTitle":"Progress","dxGantt-dialogResourcesTitle":"Resources","dxGantt-dialogResourceManagerTitle":"Resource Manager","dxGantt-dialogTaskDetailsTitle":"Task Details","dxGantt-dialogEditResourceListHint":"Edit Resource List","dxGantt-dialogEditNoResources":"No resources","dxGantt-dialogButtonAdd":"Add","dxGantt-contextMenuNewTask":"New Task","dxGantt-contextMenuNewSubtask":"New Subtask","dxGantt-contextMenuDeleteTask":"Delete Task","dxGantt-contextMenuDeleteDependency":"Delete Dependency","dxGantt-dialogTaskDeleteConfirmation":"Deleting a task also deletes all its dependencies and subtasks. Are you sure you want to delete this task?","dxGantt-dialogDependencyDeleteConfirmation":"Are you sure you want to delete the dependency from the task?","dxGantt-dialogResourcesDeleteConfirmation":"Deleting a resource also deletes it from tasks to which this resource is assigned. Are you sure you want to delete these resources? Resources: {0}","dxGantt-dialogConstraintCriticalViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. How would you like to proceed?","dxGantt-dialogCancelOperationMessage":"Cancel the operation","dxGantt-dialogDeleteDependencyMessage":"Delete the dependency","dxGantt-dialogMoveTaskAndKeepDependencyMessage":"Move the task and keep the dependency","dxGantt-dialogConstraintCriticalViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. How would you like to proceed?","dxGantt-dialogDeleteDependenciesMessage":"Delete the dependency relations","dxGantt-dialogMoveTaskAndKeepDependenciesMessage":"Move the task and keep the dependencies","dxGantt-undo":"Undo","dxGantt-redo":"Redo","dxGantt-expandAll":"Expand All","dxGantt-collapseAll":"Collapse All","dxGantt-addNewTask":"Add New Task","dxGantt-deleteSelectedTask":"Delete Selected Task","dxGantt-zoomIn":"Zoom In","dxGantt-zoomOut":"Zoom Out","dxGantt-fullScreen":"Full Screen","dxGantt-quarter":"Q{0}","dxGantt-sortingAscendingText":"Sort Ascending","dxGantt-sortingDescendingText":"Sort Descending","dxGantt-sortingClearText":"Clear Sorting","dxGantt-showResources":"Show Resources","dxGantt-showDependencies":"Show Dependencies","dxGantt-dialogStartDateValidation":"Start date must be after {0}","dxGantt-dialogEndDateValidation":"End date must be after {0}","dxGallery-itemName":"Gallery item","dxMultiView-elementAriaRoleDescription":"MultiView","dxMultiView-elementAriaLabel":"Use the arrow keys or swipe to navigate between views","dxMultiView-itemAriaRoleDescription":"View","dxMultiView-itemAriaLabel":"{0} of {1}","dxSplitter-resizeHandleAriaLabel":"Split bar"}};var t_e=q(!0,{},Kj),i_e=(i,e)=>{var t;return i[e]||e?.toLowerCase&&((t=Object.entries(i).find(n=>{let[o]=n;return o.toLowerCase()===e.toLowerCase()}))===null||t===void 0?void 0:t[1])||{}},FM={},n_e=_o({engine:function(){return"base"},_dictionary:t_e,load:function(i){q(!0,this._dictionary,i)},_localizablePrefix:"@",setup:function(i){this._localizablePrefix=i},localizeString:function(i){let e=this,t=new RegExp("(^|[^a-zA-Z_0-9"+e._localizablePrefix+"-]+)("+e._localizablePrefix+"{1,2})([a-zA-Z_0-9-]+)","g"),n=e._localizablePrefix+e._localizablePrefix;return i.replace(t,(o,r,s,a)=>{let l=e._localizablePrefix+a,d;return s!==n&&(d=e.format(a)),d||(FM[a]=Mj(a)),r+(d||l)})},getMessagesByLocales:function(){return this._dictionary},getDictionary:function(i){return i?FM:q({},FM,this.getMessagesByLocales()[Ko.locale()])},getFormatter:function(i){return this._getFormatterBase(i)||this._getFormatterBase(i,"en")},_getFormatterBase:function(i,e){let t=Ko.getValueByClosestLocale(n=>i_e(this._dictionary,n)[i]);if(t)return function(){let n=arguments.length===1&&Array.isArray(arguments[0])?arguments[0].slice(0):Array.prototype.slice.call(arguments,0);return n.unshift(t),rr.apply(this,n)}},format:function(i){let e=this.getFormatter(i),t=Array.prototype.slice.call(arguments,1);return e&&e.apply(this,t)||""}}),de=n_e;var PM=new eh;var qj=function(i,e){let t={};"noBubble"in e&&(t.noBubble=e.noBubble),"bindType"in e&&(t.bindType=e.bindType),"delegateType"in e&&(t.delegateType=e.delegateType),ee(["setup","teardown","add","remove","trigger","handle","_default","dispose"],function(n,o){e[o]&&(t[o]=function(){let r=[].slice.call(arguments);return r.unshift(this),e[o].apply(e,r)})}),yb.fire(i,t)};qj.callbacks=yb;var mr=qj;var Io="dxremove",LM="dxRemoveEvent";Aj(function(i){i=[].slice.call(i);for(let e=0;e<i.length;e++){let t=I(i[e]);t.prop(LM)&&(t[0][LM]=null,X.triggerHandler(t,"dxremove"))}});mr("dxremove",{noBubble:!0,setup:function(i){I(i).prop(LM,!0)}});var Uw=new WeakMap,o_e=0,rh=function(i,e){if(U(e)){Uw.set(i,e);return}if(!Uw.has(i)){let t="dxPrivateComponent"+o_e++;return Uw.set(i,t),t}return Uw.get(i)};function Gw(i,e,t){let n=Zi(i.get(0)),o=rh(e.constructor);n[o]=e,t&&X.one(i,Io,function(){t.call(e)}),n.dxComponents||(n.dxComponents=[]),n.dxComponents.push(o)}function Kw(i,e){let t=rh(e);return Zi(i.get(0),t)}var r_e=function(i,e,t){t?e[i]=t:t=e,rh(t,i),PM.fire(i,t)},s_e=function(i,e){I.fn[i]=function(t){let n=typeof t=="string",o;if(n){let r=t,s=[].slice.call(arguments).slice(1);this.each(function(){let a=e.getInstance(this);if(!a)throw qt.Error("E0009",i);let d=a[r].apply(a,s);o===void 0&&(o=d)})}else this.each(function(){let r=e.getInstance(this);r?r.option(t):new e(this,t)}),o=this;return o}};PM.add(s_e);var ut=r_e;var NM=[],a_e=Wr(()=>{let i=be.listen(be.getDocument(),"DOMContentLoaded",()=>{Yj.fire(),i()})}),Yj={add:i=>{let e=it();e&&be.getReadyState()!=="loading"?i():(NM.push(i),e&&a_e())},fire:()=>{NM.forEach(i=>i()),NM=[]}},Do=_o(Yj);var l_e=function(){let i,e=Gt(),t=e.add,n=e.remove;if(!it())return e;let o=function(){let l=et();return{width:l.innerWidth,height:l.innerHeight}},r=function(){let l=o();if(l.width===i.width&&l.height===i.height)return;let d;l.width===i.width&&(d="height"),l.height===i.height&&(d="width"),i=l,e.fire(d)},s=Wr(function(){i=o()}),a;return e.add=function(){let l=t.apply(e,arguments);return s(),Do.add(function(){!a&&e.has()&&(a=be.listen(et(),"resize",r))}),l},e.remove=function(){let l=n.apply(e,arguments);return!e.has()&&a&&(a(),a=void 0),l},e}(),ml=l_e;var Da=class i{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._events={},this._owner=e,this._options=t}static create(e,t){return t?Ie(t)?t(e):t:new i(e)}hasEvent(e){let t=this._events[e];return t?t.has():!1}fireEvent(e,t){let n=this._events[e];return n&&n.fireWith(this._owner,t),this._owner}on(e,t){if(ht(e))ee(e,(n,o)=>{this.on(n,o)});else{let n=this._events[e];n||(n=Gt({syncStrategy:this._options.syncStrategy}),this._events[e]=n),(n.originalAdd||n.add).call(n,t)}}off(e,t){let n=this._events[e];n&&(Ie(t)?n.remove(t):n.empty())}dispose(){ee(this._events,(e,t)=>{t.empty()})}};var d_e=et(),qw=function(){let i;try{i=d_e.sessionStorage}catch{}return i};var c_e=Do.add,Np=Gt(),Xj=I(),Qs=function(){let i;return function(e){if(!arguments.length)return i;let t=I(e);Xj=t;let n=!!t.length,o=Qs();i=n?t:I("body"),Np.fire(n?Qs():I(),o)}}();c_e(function(){Qs(".dx-viewport")});function Yw(){return Xj}var e9=et(),u_e={iPhone:"iPhone",iPhone5:"iPhone",iPhone6:"iPhone",iPhone6plus:"iPhone",iPad:"iPad",iPadMini:"iPad Mini",androidPhone:"Android Mobile",androidTablet:"Android",msSurface:"Windows ARM Tablet PC",desktop:"desktop"},Zj={deviceType:"desktop",platform:"generic",version:[],phone:!1,tablet:!1,android:!1,ios:!1,generic:!0,grade:"A",mac:!1},BM={generic(i){let e=/windows phone/i.test(i)||i.match(/WPDesktop/),t=!e&&/Windows(.*)arm(.*)Tablet PC/i.test(i),n=!e&&!t&&/msapphost/i.test(i),o=/((intel|ppc) mac os x)/.test(i.toLowerCase());return e||t||n||o?{deviceType:e?"phone":t?"tablet":"desktop",platform:"generic",version:[],grade:"A",mac:o}:null},appleTouchDevice(i){let e=xc(),t=/Macintosh/i.test(i)&&e?.maxTouchPoints>2;if(!/ip(hone|od|ad)/i.test(i)&&!t)return null;let o=/ip(hone|od)/i.test(i),r=i.match(/os\s{0,}X? (\d+)_(\d+)_?(\d+)?/i),s=r?[parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3]||0,10)]:[],l=e9.screen.height===480?"B":"A";return{deviceType:o?"phone":"tablet",platform:"ios",version:s,grade:l}},android(i){let e=/android|htc_|silk/i.test(i),t=/windows phone/i.test(i);if(!e||t)return null;let n=/mobile/i.test(i),o=i.match(/android (\d+)\.?(\d+)?\.?(\d+)?/i),r=o?[parseInt(o[1],10),parseInt(o[2]||0,10),parseInt(o[3]||0,10)]:[],a=r.length>1&&(r[0]<4||r[0]===4&&r[1]<4)?"B":"A";return{deviceType:n?"phone":"tablet",platform:"android",version:r,grade:a}}},Qj=[BM.appleTouchDevice,BM.android,BM.generic],VM=class{constructor(e){this._window=e?.window||e9,this._realDevice=this._getDevice(),this._currentDevice=void 0,this._currentOrientation=void 0,this._eventsStrategy=new Da(this),this.changed=Gt(),it()&&(Do.add(this._recalculateOrientation.bind(this)),ml.add(this._recalculateOrientation.bind(this)))}current(e){if(e){this._currentDevice=this._getDevice(e),this._forced=!0,this.changed.fire();return}if(!this._currentDevice){e=void 0;try{e=this._getDeviceOrNameFromWindowScope()}catch{e=this._getDeviceNameFromSessionStorage()}finally{e||(e=this._getDeviceNameFromSessionStorage()),e&&(this._forced=!0)}this._currentDevice=this._getDevice(e)}return this._currentDevice}real(e){return q({},this._realDevice)}orientation(){return this._currentOrientation}isForced(){return this._forced}isRippleEmulator(){return!!this._window.tinyHippos}_getCssClasses(e){let t=[],n=this._realDevice;return e=e||this.current(),e.deviceType&&(t.push(`dx-device-${e.deviceType}`),e.deviceType!=="desktop"&&t.push("dx-device-mobile")),t.push(`dx-device-${n.platform}`),n.version&&n.version.length&&t.push(`dx-device-${n.platform}-${n.version[0]}`),this.isSimulator()&&t.push("dx-simulator"),ui().rtlEnabled&&t.push("dx-rtl"),t}attachCssClasses(e,t){this._deviceClasses=this._getCssClasses(t).join(" "),I(e).addClass(this._deviceClasses)}detachCssClasses(e){I(e).removeClass(this._deviceClasses)}isSimulator(){try{return this._isSimulator||it()&&this._window.top!==this._window.self&&this._window.top["dx-force-device"]||this.isRippleEmulator()}catch{return!1}}forceSimulator(){this._isSimulator=!0}_getDevice(e){if(e==="genericPhone"&&(e={deviceType:"phone",platform:"generic",generic:!0}),ht(e))return this._fromConfig(e);{let t;if(e){if(t=u_e[e],!t)throw qt.Error("E0005")}else t=xc().userAgent;return this._fromUA(t)}}_getDeviceOrNameFromWindowScope(){let e;return it()&&(this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"])&&(e=this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"]),e}_getDeviceNameFromSessionStorage(){let e=qw();if(!e)return;let t=e.getItem("dx-force-device");try{return JSON.parse(t)}catch{return t}}_fromConfig(e){let t=q({},Zj,this._currentDevice,e),n={phone:t.deviceType==="phone",tablet:t.deviceType==="tablet",android:t.platform==="android",ios:t.platform==="ios",generic:t.platform==="generic"};return q(t,n)}_fromUA(e){for(let t=0;t<Qj.length;t+=1){let n=Qj[t],o=n(e);if(o)return this._fromConfig(o)}return Zj}_changeOrientation(){let e=I(this._window),t=ft(e)>Qe(e)?"portrait":"landscape";this._currentOrientation!==t&&(this._currentOrientation=t,this._eventsStrategy.fireEvent("orientationChanged",[{orientation:t}]))}_recalculateOrientation(){let e=Qe(this._window);this._currentWidth!==e&&(this._currentWidth=e,this._changeOrientation())}on(e,t){return this._eventsStrategy.on(e,t),this}off(e,t){return this._eventsStrategy.off(e,t),this}},Xw=new VM,Jj=Qs();Jj&&Xw.attachCssClasses(Jj);Np.add((i,e)=>{Xw.detachCssClasses(e),Xw.attachCssClasses(i)});var Ve=Xw;var jM={};ky(jM,{animation:()=>Qw,inputType:()=>Bp,nativeScrolling:()=>Aa,pointerEvents:()=>n9,styleProp:()=>fl,stylePropPrefix:()=>zm,supportProp:()=>HM,touch:()=>Ta,touchEvents:()=>i9,transition:()=>Zw,transitionEndEventName:()=>zM});var{maxTouchPoints:t9}=xc(),h_e={webkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},HM=function(i){return!!fl(i)},p_e=function(){let{platform:i,mac:e}=Ve.real();return i==="ios"||i==="android"||e},Bp=function(i){if(i==="text")return!0;let e=be.createElement("input");try{return e.setAttribute("type",i),e.value="wrongValue",!e.value}catch{return!1}},f_e=function(i,e){return(i("ontouchstart")||!!e)&&!i("callPhantom")},m_e=function(i){return i("PointerEvent")},i9=f_e(gM,t9),n9=m_e(gM),g_e=!!t9;var Ta=i9||n9&&g_e,Zw=Wr(function(){return HM("transition")}),zM=Wr(function(){return h_e[fl("transition")]}),Qw=Wr(function(){return HM("animation")}),Aa=p_e();var Vp=Gt();var bt=Rm(qt.ERROR_MESSAGES,{E1001:"Module '{0}'. Controller '{1}' is already registered",E1002:"Module '{0}'. Controller '{1}' does not inherit from DevExpress.ui.dxDataGrid.Controller",E1003:"Module '{0}'. View '{1}' is already registered",E1004:"Module '{0}'. View '{1}' does not inherit from DevExpress.ui.dxDataGrid.View",E1005:"Public method '{0}' is already registered",E1006:"Public method '{0}.{1}' does not exist",E1007:"State storing cannot be provided due to the restrictions of the browser",E1010:"The template does not contain the TextBox widget",E1011:'Items cannot be deleted from the List. Implement the "remove" function in the data store',E1012:"Editing type '{0}' with the name '{1}' is unsupported",E1016:"Unexpected type of data source is provided for a lookup column",E1018:"The 'collapseAll' method cannot be called if you use a remote data source",E1019:"Search mode '{0}' is unavailable",E1020:"The type cannot be changed after initialization",E1021:"{0} '{1}' you are trying to remove does not exist",E1022:'The "markers" option is given an invalid value. Assign an array instead',E1023:'The "routes" option is given an invalid value. Assign an array instead',E1025:"This layout is too complex to render",E1026:'The "calculateCustomSummary" function is missing from a field whose "summaryType" option is set to "custom"',E1031:"Unknown subscription in the Scheduler widget: '{0}'",E1032:"Unknown start date in an appointment: '{0}'",E1033:"Unknown step in the date navigator: '{0}'",E1034:"The browser does not implement an API for saving files",E1035:"The editor cannot be created: {0}",E1037:"Invalid structure of grouped data",E1038:"The browser does not support local storages for local web pages",E1039:"A cell's position cannot be calculated",E1040:"The '{0}' key value is not unique within the data array",E1041:"The '{0}' script is referenced after the DevExtreme scripts or not referenced at all",E1042:"{0} requires the key field to be specified",E1043:"Changes cannot be processed due to the incorrectly set key",E1044:"The key field specified by the keyExpr option does not match the key field specified in the data store",E1045:"Editing requires the key field to be specified in the data store",E1046:"The '{0}' key field is not found in data objects",E1047:'The "{0}" field is not found in the fields array',E1048:'The "{0}" operation is not found in the filterOperations array',E1049:"Column '{0}': filtering is allowed but the 'dataField' or 'name' option is not specified",E1050:"The validationRules option does not apply to third-party editors defined in the editCellTemplate",E1051:`HtmlEditor's valueType is "{0}", but the {0} converter was not imported.`,E1052:'{0} should have the "dataSource" option specified',E1053:'The "buttons" option accepts an array that contains only objects or string values',E1054:"All text editor buttons must have names",E1055:'One or several text editor buttons have invalid or non-unique "name" values',E1056:'The {0} widget does not support buttons of the "{1}" type',E1058:'The "startDayHour" and "endDayHour" options must be integers in the [0, 24] range, with "endDayHour" being greater than "startDayHour".',E1059:"The following column names are not unique: {0}",E1060:"All editable columns must have names",E1061:'The "offset" option must be an integer in the [-1440, 1440] range, divisible by 5 without a remainder.',E1062:'The "cellDuration" must be a positive integer, evenly dividing the ("endDayHour" - "startDayHour") interval into minutes.',W1001:'The "key" option cannot be modified after initialization',W1002:"An item with the key '{0}' does not exist",W1003:"A group with the key '{0}' in which you are trying to select items does not exist",W1004:"The item '{0}' you are trying to select in the group '{1}' does not exist",W1005:"Due to column data types being unspecified, data has been loaded twice in order to apply initial filter settings. To resolve this issue, specify data types for all grid columns.",W1006:"The map service returned the following error: '{0}'",W1007:"No item with key {0} was found in the data source, but this key was used as the parent key for item {1}",W1008:"Cannot scroll to the '{0}' date because it does not exist on the current view",W1009:"Searching works only if data is specified using the dataSource option",W1010:"The capability to select all items works with source data of plain structure only",W1011:'The "keyExpr" option is not applied when dataSource is not an array',W1012:"The '{0}' key field is not found in data objects",W1013:'The "message" field in the dialog component was renamed to "messageHtml". Change your code correspondingly. In addition, if you used HTML code in the message, make sure that it is secure',W1014:"The Floating Action Button exceeds the recommended speed dial action count. If you need to display more speed dial actions, increase the maxSpeedDialActionCount option value in the global config.",W1016:"The '{0}' field in the HTML Editor toolbar item configuration was renamed to '{1}'. Please make a corresponding change in your code.",W1017:"The 'key' property is not specified for a lookup data source. Please specify it to prevent requests for the entire dataset when users filter data.",W1018:"Infinite scrolling may not work properly with multiple selection. To use these features together, set 'selection.deferred' to true or set 'selection.selectAllMode' to 'page'.",W1019:"Filter query string exceeds maximum length limit of {0} characters.",W1020:"hideEvent is ignored when the shading property is true",W1021:`The '{0}' is not rendered because none of the DOM elements match the value of the "container" property.`,W1022:"{0} JSON parsing error: '{1}'",W1023:"Appointments require unique keys. Otherwise, the agenda view may not work correctly.",W1024:"The client-side export is enabled. Implement the 'onExporting' function.",W1025:"'scrolling.mode' is set to 'virtual' or 'infinite'. Specify the height of the component."});var d9=et(),__e=Do.add,b_e=Qs,v_e=Np,Ab=new le,c9="link[rel=dx-theme]",y_e="data-theme",x_e="data-active",o9="dx-hairlines",u9="any",wc,WM,Sc,Js,sh,r9=15e3,$M="dx.";function UM(){if(!it())return null;let i=I("<div>",wc).addClass("dx-theme-marker").appendTo(wc.documentElement),e;try{return e=d9.getComputedStyle(i.get(0)).fontFamily,!e||(e=e.replace(/["']/g,""),e.substr(0,$M.length)!==$M)?null:e.substr($M.length)}finally{i.remove()}}function s9(i){let e,t,n=!0;sh=i;function o(){sh=null,clearInterval(t),n=!0,Vp.fire(),Vp.empty(),Ab.resolve()}if(a9()||!r9)o();else{if(!n){sh&&(sh=i);return}e=Date.now(),n=!1,t=setInterval(function(){let r=a9(),s=!r&&Date.now()-e>r9;s&&bt.log("W0004",sh),(r||s)&&o()},10)}}function a9(){if(!sh)return!0;let i=sh===u9;if(Ab.state()==="resolved"&&i)return!0;let e=UM();return e&&i?!0:e===sh}function C_e(){let i=I(c9,wc);i.length&&(Sc={},WM=I(Tb("<link rel=stylesheet>"),wc),i.each(function(){let e=I(this,wc),t=e.attr(y_e),n=e.attr("href"),o=e.attr(x_e)==="true";Sc[t]={url:n,isActive:o}}),i.last().after(WM),i.remove())}function w_e(i){let e=i?i.split("."):[],t=null;if(Sc){if(i in Sc)return i;ee(Sc,function(n,o){let r=n.split(".");if(!(e[0]&&r[0]!==e[0])&&!(e[1]&&e[1]!==r[1])&&!(e[2]&&e[2]!==r[2])&&((!t||o.isActive)&&(t=n),o.isActive))return!1})}return t}function S_e(i){try{i!==wc&&(Sc=null)}catch{Sc=null}wc=i}function h9(i){i=i||{},S_e(i.context||be.getDocument()),wc&&(C_e(),Js=void 0,oo(i))}function oo(i){if(!arguments.length)return Js=Js||UM(),Js;f9(b_e()),i=i||{},typeof i=="string"&&(i={theme:i});let e=i._autoInit,t=i.loadCallback,n;if(Js=w_e(i.theme||Js),Js&&(n=Sc[Js]),t&&Vp.add(t),n)WM.attr("href",Sc[Js].url),(Vp.has()||Ab.state()!=="resolved"||i._forceTimeout)&&s9(Js);else if(e)it()&&s9(u9),Vp.fire(),Vp.empty();else throw bt.Error("E0021",Js);Ab.done(()=>p9(Yw(),Js))}function E_e(i){i=i||oo();let e=[],t=i&&i.split(".");return t&&(e.push("dx-theme-"+t[0],"dx-theme-"+t[0]+"-typography"),t.length>1&&e.push("dx-color-scheme-"+t[1]+(xo(i)?"-"+t[2]:""))),e}var Jw;function p9(i,e){Jw=E_e(e).join(" "),I(i).addClass(Jw),function(){let t=it()&&d9.devicePixelRatio;if(!t||t<2)return;let n=I("<div>");n.css("border",".5px solid transparent"),I("body").append(n),Ct(n)===1&&(I(i).addClass(o9),Jw+=" "+o9),n.remove()}()}function f9(i){I(i).removeClass(Jw)}function GM(i,e){return e||(e=Js||UM()),new RegExp(i).test(e)}function xo(i){return Kn(i)||Zn(i)}function Kn(i){return GM("material",i)}function Zn(i){return GM("fluent",i)}function eS(i){return GM("generic",i)}function O_e(i,e){let t=be.getDocument(),n=t.createElement("span");n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",n.style.visibility="hidden",n.style.fontFamily="Arial",n.style.fontSize="250px",n.style.fontWeight=e,n.innerHTML=i,t.body.appendChild(n);let o=n.offsetWidth;n.style.fontFamily="Roboto, RobotoFallback, Arial";let r=n.offsetWidth;return n.parentNode.removeChild(n),o!==r}function m9(i,e){return new Promise(t=>{let n=()=>{clearInterval(o),clearTimeout(r),t()},o=setInterval(()=>{O_e(i,e)&&n()},15),r=setTimeout(n,2e3)})}function l9(){if(h9({_autoInit:!0,_forceTimeout:!0}),I(c9,wc).length)throw bt.Error("E0022")}it()?l9():__e(l9);v_e.add(function(i,e){Ab.done(function(){f9(e),p9(i)})});Ve.changed.add(function(){h9({_autoInit:!0})});var gl=(()=>{class i{constructor(t,n){n=n||{},this._action=t,this._context=n.context||et(),this._beforeExecute=n.beforeExecute,this._afterExecute=n.afterExecute,this._component=n.component,this._validatingTargetName=n.validatingTargetName;let o=this._excludeValidators={};if(n.excludeValidators)for(let r=0;r<n.excludeValidators.length;r++)o[n.excludeValidators[r]]=!0}execute(){let t={action:this._action,args:Array.prototype.slice.call(arguments),context:this._context,component:this._component,validatingTargetName:this._validatingTargetName,cancel:!1,handled:!1},n=this._beforeExecute,o=this._afterExecute,r=t.args[0]||{};if(!this._validateAction(t)||(n?.call(this._context,t),t.cancel))return;let s=this._executeAction(t);if(!r.cancel)return o?.call(this._context,t),s}_validateAction(t){let n=this._excludeValidators,{executors:o}=i;for(let s in o)if(!n[s]){var r;let a=o[s];if((r=a.validate)===null||r===void 0||r.call(a,t),t.cancel)return!1}return!0}_executeAction(t){let n,{executors:o}=i;for(let s in o){var r;let a=o[s];if((r=a.execute)===null||r===void 0||r.call(a,t),t.handled){n=t.result;break}}return n}static registerExecutor(t,n){if(ht(t)){ee(t,i.registerExecutor);return}i.executors[t]=n}static unregisterExecutor(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];ee(n,function(){delete i.executors[this]})}}return i.executors={},i})();var g9=i=>e=>{if(!e.args.length)return;let t=e.args[0],n=t[e.validatingTargetName]||t.element;n&&i(I(n))&&(e.cancel=!0)};gl.registerExecutor({disabled:{validate:g9(i=>i.is(".dx-state-disabled, .dx-state-disabled *"))},readOnly:{validate:g9(i=>i.is(".dx-state-readonly, .dx-state-readonly *:not(.dx-state-independent)"))},undefined:{execute:i=>{i.action||(i.result=void 0,i.handled=!0)}},func:{execute:i=>{Ie(i.action)&&(i.result=i.action.call(i.context,i.args[0]),i.handled=!0)}}});var I_e=function(i,e){return 1/i===1/e},_9=function(i,e){return i=uo(i,!0),e=uo(e,!0),i&&e&&Oo(i)&&Oo(e)?e.is(i):i!==i&&e!==e?!0:i===0&&e===0?I_e(i,e):i===null||typeof i!="object"||be.isElementNode(i)?i===e:!1};var KM={},_l=i=>{let e=Ve.current();return i.reduce((t,n)=>{let{device:o,options:r}=n,s=o||{};return(Ie(s)?s(e):D_e(e,s))&&q(!0,t,r),t},{})},b9=(i,e)=>typeof i!="string"?i:{[i]:e},D_e=(i,e)=>Gn(e)||Iw(i,[e]).length>0,qM=i=>i.substr(i.lastIndexOf(".")+1),YM=i=>i.substr(0,i.lastIndexOf(".")),v9=function(i,e){return KM[e]=KM[e]||Qt(e),KM[e](i,{functionsAsIs:!0})},y9=function(){return arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]};var XM={},ZM={},tS=class{constructor(e,t){this._options=e,this._optionsByReference=t,this._changingCallback,this._changedCallback,this._namePreparedCallbacks}_setByReference(e,t){q(!0,e,t);for(let n in this._optionsByReference)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}_setPreparedValue(e,t,n,o){let r=this.get(this._options,e,!1);if(!_9(r,t)){let s=Ca(e);!o&&this._changingCallback(e,r,t),ZM[e]=ZM[e]||Pm(e),ZM[e](this._options,t,{functionsAsIs:!0,merge:U(n)?n:!this._optionsByReference[e],unwrapObservables:s.length>1&&!!this._optionsByReference[s[0]]}),!o&&this._changedCallback(e,t,r)}}_prepareRelevantNames(e,t,n,o){if(ht(n))for(let r in n)this._prepareRelevantNames(e,`${t}.${r}`,n[r]);this._namePreparedCallbacks(e,t,n,o)}get(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._options,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return XM[t]=XM[t]||Qt(t),XM[t](e,{functionsAsIs:!0,unwrapObservables:n})}set(e,t,n,o){e=b9(e,t);for(let r in e)this._prepareRelevantNames(e,r,e[r],o);for(let r in e)this._setPreparedValue(r,e[r],n,o)}onRelevantNamesPrepared(e){this._namePreparedCallbacks=e}onChanging(e){this._changingCallback=e}onChanged(e){this._changedCallback=e}dispose(){this._changingCallback=pe,this._changedCallback=pe}};var iS=class{constructor(e,t,n,o){this._deprecatedCallback,this._startChangeCallback,this._endChangeCallback,this._default=t,this._deprecated=o,this._deprecatedNames=[],this._initDeprecatedNames(),this._optionManager=new tS(e,n),this._optionManager.onRelevantNamesPrepared((r,s,a,l)=>this._setRelevantNames(r,s,a,l)),this._cachedOptions={},this._rules=[]}set _initial(e){this._initialOptions=e}get _initial(){if(!this._initialOptions){let e=this._getByRules(this.silent("defaultOptionsRules"));this._initialOptions=this._default,this._optionManager._setByReference(this._initialOptions,e)}return this._initialOptions}_initDeprecatedNames(){for(let e in this._deprecated)this._deprecatedNames.push(e)}_getByRules(e){return e=Array.isArray(e)?this._rules.concat(e):this._rules,_l(e)}_notifyDeprecated(e){let t=this._deprecated[e];t&&this._deprecatedCallback(e,t)}_setRelevantNames(e,t,n,o){if(t){let r=this._normalizeName(t,o);r&&r!==t&&(this._setField(e,r,n),this._clearField(e,t))}}_setField(e,t,n){let o="",r=null;do o=o?`.${o}`:"",o=qM(t)+o,t=YM(t),r=t?this._optionManager.get(e,t,!1):e;while(!r);r[o]=n}_clearField(e,t){delete e[t];let n=YM(t),o=n?this._optionManager.get(e,n,!1):e;o&&delete o[qM(t)]}_normalizeName(e,t){if(this._deprecatedNames.length&&e){for(let n=0;n<this._deprecatedNames.length;n++)if(this._deprecatedNames[n]===e){let o=this._deprecated[e];if(o)return!t&&this._notifyDeprecated(e),o.alias||e}}return e}addRules(e){this._rules=e.concat(this._rules)}applyRules(e){let t=this._getByRules(e);this.silent(t)}dispose(){this._deprecatedCallback=pe,this._startChangeCallback=pe,this._endChangeCallback=pe,this._optionManager.dispose()}onChanging(e){this._optionManager.onChanging(e)}onChanged(e){this._optionManager.onChanged(e)}onDeprecated(e){this._deprecatedCallback=e}onStartChange(e){this._startChangeCallback=e}onEndChange(e){this._endChangeCallback=e}isInitial(e){let t=this.silent(e),n=this.initial(e);return Ie(t)&&Ie(n)?t.toString()===n.toString():hi(t,n)}initial(e){return v9(this._initial,e)}option(e,t){if(arguments.length<2&&or(e)!=="object")return this._optionManager.get(void 0,this._normalizeName(e));this._startChangeCallback();try{this._optionManager.set(e,t)}finally{this._endChangeCallback()}}silent(e,t){if(arguments.length<2&&or(e)!=="object")return this._optionManager.get(void 0,e,void 0,!0);this._optionManager.set(e,t,void 0,!0)}reset(e){if(e){let n=Ca(e).reduce((r,s)=>r?r[s]:this.initial(s),null),o=Ke(n)?ye({},n):n;this._optionManager.set(e,o,!1)}}getAliasesByName(e){return Object.keys(this._deprecated).filter(t=>e===this._deprecated[t].alias)}isDeprecated(e){return Object.prototype.hasOwnProperty.call(this._deprecated,e)}cache(e,t){if(arguments.length<2)return this._cachedOptions[e];this._cachedOptions[e]=q(this._cachedOptions[e],t)}};var nS=class{constructor(){this._postponedOperations={}}add(e,t,n){if(e in this._postponedOperations)n&&this._postponedOperations[e].promises.push(n);else{let o=new le;this._postponedOperations[e]={fn:t,completePromise:o,promises:n?[n]:[]}}return this._postponedOperations[e].completePromise.promise()}callPostponedOperations(){for(let e in this._postponedOperations){let t=this._postponedOperations[e];U(t)&&(t.promises&&t.promises.length?Be(...t.promises).done(t.fn).then(t.completePromise.resolve):t.fn().done(t.completePromise.resolve))}this._postponedOperations={}}};var x9=i=>i.charAt(2).toLowerCase()+i.substr(3),T_e=i=>i.indexOf("_",0)===0,QM=Ut.inherit({_setDeprecatedOptions(){this._deprecatedOptions={}},_getDeprecatedOptions(){return this._deprecatedOptions},_getDefaultOptions:()=>({onInitialized:null,onOptionChanged:null,onDisposing:null,defaultOptionsRules:null}),_defaultOptionsRules:()=>[],_setOptionsByDevice(i){this._options.applyRules(i)},_convertRulesToOptions:i=>_l(i),_isInitialOptionValue(i){return this._options.isInitial(i)},_setOptionsByReference(){this._optionsByReference={}},_getOptionsByReference(){return this._optionsByReference},ctor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{_optionChangedCallbacks:e,_disposingCallbacks:t}=i;this.NAME=rh(this.constructor),this._eventsStrategy=Da.create(this,i.eventsStrategy),this._updateLockCount=0,this._optionChangedCallbacks=e||Gt(),this._disposingCallbacks=t||Gt(),this.postponedOperations=new nS,this._createOptions(i)},_createOptions(i){this.beginUpdate();try{this._setOptionsByReference(),this._setDeprecatedOptions(),this._options=new iS(this._getDefaultOptions(),this._getDefaultOptions(),this._getOptionsByReference(),this._getDeprecatedOptions()),this._options.onChanging((e,t,n)=>this._initialized&&this._optionChanging(e,t,n)),this._options.onDeprecated((e,t)=>this._logDeprecatedOptionWarning(e,t)),this._options.onChanged((e,t,n)=>this._notifyOptionChanged(e,t,n)),this._options.onStartChange(()=>this.beginUpdate()),this._options.onEndChange(()=>this.endUpdate()),this._options.addRules(this._defaultOptionsRules()),i&&i.onInitializing&&i.onInitializing.apply(this,[i]),this._setOptionsByDevice(i.defaultOptionsRules),this._initOptions(i)}finally{this.endUpdate()}},_initOptions(i){this.option(i)},_init(){this._createOptionChangedAction(),this.on("disposing",i=>{this._disposingCallbacks.fireWith(this,[i])})},_logDeprecatedOptionWarning(i,e){let t=e.message||`Use the '${e.alias}' option instead`;qt.log("W0001",this.NAME,i,e.since,t)},_logDeprecatedComponentWarning(i,e){qt.log("W0000",this.NAME,i,`Use the '${e}' widget instead`)},_createOptionChangedAction(){this._optionChangedAction=this._createActionByOption("onOptionChanged",{excludeValidators:["disabled","readOnly"]})},_createDisposingAction(){this._disposingAction=this._createActionByOption("onDisposing",{excludeValidators:["disabled","readOnly"]})},_optionChanged(i){switch(i.name){case"onDisposing":case"onInitialized":case"defaultOptionsRules":break;case"onOptionChanged":this._createOptionChangedAction()}},_dispose(){this._optionChangedCallbacks.empty(),this._createDisposingAction(),this._disposingAction(),this._eventsStrategy.dispose(),this._options.dispose(),this._disposed=!0},_lockUpdate(){this._updateLockCount++},_unlockUpdate(){this._updateLockCount=Math.max(this._updateLockCount-1,0)},_isUpdateAllowed(){return this._updateLockCount===0},_isInitializingRequired(){return!this._initializing&&!this._initialized},isInitialized(){return this._initialized},_commitUpdate(){this.postponedOperations.callPostponedOperations(),this._isInitializingRequired()&&this._initializeComponent()},_initializeComponent(){this._initializing=!0;try{this._init()}finally{this._initializing=!1,this._lockUpdate(),this._createActionByOption("onInitialized",{excludeValidators:["disabled","readOnly"]})(),this._unlockUpdate(),this._initialized=!0}},instance(){return this},beginUpdate:function(){this._lockUpdate()},endUpdate:function(){this._unlockUpdate(),this._isUpdateAllowed()&&this._commitUpdate()},_optionChanging:pe,_notifyOptionChanged(i,e,t){if(this._initialized){let n=[i].concat(this._options.getAliasesByName(i));for(let o=0;o<n.length;o++){let r=n[o],s={name:Ca(r)[0],fullName:r,value:e,previousValue:t};T_e(r)||(this._optionChangedCallbacks.fireWith(this,[q(this._defaultActionArgs(),s)]),this._optionChangedAction(q({},s))),!this._disposed&&this._cancelOptionChange!==r&&this._optionChanged(s)}}},initialOption(i){return this._options.initial(i)},_defaultActionConfig(){return{context:this,component:this}},_defaultActionArgs(){return{component:this}},_createAction(i,e){let t;return n=>(U(n)||(n={}),ht(n)||(n={actionValue:n}),t=t||new gl(i,q({},e,this._defaultActionConfig())),t.execute.call(t,q(n,this._defaultActionArgs())))},_createActionByOption(i,e){var t=this;let n,o,r;e=q({},e);let s=function(){if(!o){if(e=e||{},typeof i!="string")throw qt.Error("E0008");i.indexOf("on")===0&&(o=x9(i)),r=t.option(i)}if(!(!n&&!r&&!e.beforeExecute&&!e.afterExecute&&!t._eventsStrategy.hasEvent(o))){if(!n){let u=e.beforeExecute;e.beforeExecute=function(){for(var h=arguments.length,f=new Array(h),p=0;p<h;p++)f[p]=arguments[p];u&&u.apply(t,f),t._eventsStrategy.fireEvent(o,f[0].args)},n=t._createAction(r,e)}for(var l=arguments.length,d=new Array(l),c=0;c<l;c++)d[c]=arguments[c];return ui().wrapActionsBeforeExecute?((t.option("beforeActionExecute")||pe)(t,n,e)||n).apply(t,d):n.apply(t,d)}};return ui().wrapActionsBeforeExecute?s:(this.option("onActionCreated")||pe)(this,s,e)||s},on(i,e){return this._eventsStrategy.on(i,e),this},off(i,e){return this._eventsStrategy.off(i,e),this},hasActionSubscription:function(i){return!!this._options.silent(i)||this._eventsStrategy.hasEvent(x9(i))},isOptionDeprecated(i){return this._options.isDeprecated(i)},_setOptionWithoutOptionChange(i,e){this._cancelOptionChange=i,this.option(i,e),this._cancelOptionChange=!1},_getOptionValue(i,e){let t=this.option(i);return Ie(t)?t.bind(e)():t},option(){return this._options.option(...arguments)},resetOption(i){this.beginUpdate(),this._options.reset(i),this.endUpdate()}});var JM=et(),A_e=i=>{if(!i.getRootNode)return;let e=i.getRootNode().host;if(!We(e))return e},ka=()=>{let i=be.getActiveElement();if(i&&i!==be.getBody()){var e;(e=i.blur)===null||e===void 0||e.call(i)}},C9=()=>{let i=JM.getSelection();if(i&&i.type!=="Caret"){if(i.empty)i.empty();else if(i.removeAllRanges)try{i.removeAllRanges()}catch{}}},w9=(i,e)=>{let t=I(i),n=I(e);if(t[0]===n[0])return t[0];let o=t.parents(),r=n.parents(),s=Math.min(o.length,r.length);for(let a=-s;a<0;a++)if(o.get(a)===r.get(a))return o.get(a)};var Hp=i=>{let e=U(i)&&(i.nodeType||Oo(i))?I(i):I("<div>").html(i).contents();return e.length===1&&(e.is("script")?e=Hp(e.html().trim()):e.is("table")&&(e=e.children("tbody").contents())),e},kb=(i,e)=>{let t=i.originalEvent&&i.originalEvent.clipboardData||JM.clipboardData;if(!e)return t&&t.getData("Text");t&&t.setData("Text",e)},as=(i,e)=>e?ln(i)?as(i.document,e):i.contains(e)||as(i,A_e(e)):!1,S9=(i,e,t)=>{let n=JM.getComputedStyle(I(i).get(0)),o=t&&t.includePaddings;return I("<div>").text(e).css({fontStyle:n.fontStyle,fontVariant:n.fontVariant,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFamily:n.fontFamily,letterSpacing:n.letterSpacing,border:n.border,paddingTop:o?n.paddingTop:"",paddingRight:o?n.paddingRight:"",paddingBottom:o?n.paddingBottom:"",paddingLeft:o?n.paddingLeft:"",visibility:"hidden",whiteSpace:"pre",position:"absolute",float:"left"})},k_e=(i,e)=>(e&&be.insertElement(i.parentNode,e,i),i),E9=(i,e)=>{if(e&&e[0])return e.is(i)?i:(ee(e,(t,n)=>{k_e(i[0],n)}),i.remove(),e)},ah=i=>{let e=i?.get(0),t=e?.getRootNode().host;return!!I(t||e).closest(et().document).length};var eR=function(i){return function(e){let t=I(e||"body"),n=t.filter(".dx-visibility-change-handler").add(t.find(".dx-visibility-change-handler"));for(let o=0;o<n.length;o++)X.triggerHandler(n[o],i)}},Gm=eR("dxshown"),O9=eR("dxhiding"),ls=eR("dxresize");var M_e=Gt({syncStrategy:!0}),ds=class{render(e){e=e||{};let t=e.onRendered;delete e.onRendered;let n;return e.renovated&&e.transclude&&this._element?n=I("<div>").append(this._element).contents():n=this._renderCore(e),this._ensureResultInContainer(n,e.container),M_e.fire(n,e.container),t&&t(),n}_ensureResultInContainer(e,t){if(!t)return;let n=I(t),o=as(n.get(0),e.get(0));n.append(e),!(o||!as(be.getBody(),n.get(0)))&&Gm(e)}_renderCore(){throw qt.Error("E0001")}};var Ma=class extends ds{constructor(e){super(),this._render=e}_renderCore(e){return Hp(this._render(e))}};var Fs=class extends ds{_renderCore(){return I()}};function R_e(i){return i&&i.get?i.get(0):i}var F_e=R_e;function tt(i){return F_e(i)}var lh=class extends ds{constructor(e){super(),this.name=e}};var I9={},oS;function D9(i,e){I9[i]=e}function T9(i){if(We(i)){if(oS=I9[i],!oS)throw qt.Error("E0020",i)}else oS=i}function tR(){return oS}D9("default",{compile:i=>Hp(i),render:(i,e,t)=>i.clone()});T9("default");var rS=class extends ds{constructor(e){super(),this._element=e}_renderCore(e){let t=e.transclude;return!t&&!this._compiledTemplate&&(this._compiledTemplate=tR().compile(this._element)),I("<div>").append(t?this._element:tR().render(this._compiledTemplate,e.model,e.index)).contents()}source(){return I(this._element).clone()}};function P_e(i){return i.reduce((e,t)=>{let n=(e.get(t)??0)+1;return e.set(t,n),e},new Map)}var A9=function(i){return Array.isArray(i)?i:[i]},k9=function(i){return[...new Set(i)]};var iR=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=P_e(e);return i.filter(n=>{let o=t.get(n);return o&&t.set(n,o-1),!o})},zp=function(i,e,t,n){let o={},{useLegacyVisibleIndex:r}=ui(),s=0,a=l=>!U(l[e])&&(!n||n(l));i.forEach(l=>{let d=l[e];d>=0?(o[d]=o[d]||[],l===t?o[d].unshift(l):o[d].push(l)):l[e]=void 0}),r||i.forEach(l=>{if(a(l)){for(;o[s];)s++;o[s]=[l],s++}}),s=0,fb(o,function(l,d){d.forEach(c=>{l>=0&&(c[e]=s++)})}),r&&i.forEach(l=>{a(l)&&(l[e]=s++)})},M9=(i,e)=>i.reduce((t,n)=>{let o=e(n);return t[o]=t[o]??[],t[o].push(n),t},{});var sS=(i,e)=>{let t=I(i).contents().filter(`[data-options*="${e}"]`);return[].slice.call(t).map(n=>{let o=I(n).attr("data-options")||"";return{element:n,options:ui().optionsParser(o)[e]}}).filter(n=>!!n.options)},R9=i=>{let e=M9(i,n=>n.options.name);if(e[void 0])throw qt.Error("E0023");let t={};return Object.keys(e).forEach(n=>{var o;let r=(o=Iw(Ve.current(),e[n],s=>s.options)[0])===null||o===void 0?void 0:o.element;r&&(t[n]=r)}),t},F9=i=>{let e=i.render.bind(i);return q({},i,{render(t){let n=e(t);return t&&t.onRendered&&t.onRendered(),n}})},L_e=i=>{let e=i.render.bind(i);return q({},i,{render(t){let n=I(t.container);return e(ye({},t,{container:tt(n)}))}})},P9=i=>{let e=[];return"model"in i&&e.push(i.model),"index"in i&&e.push(i.index),e.push(i.container),e},L9=i=>typeof i=="string"?Hp(i):i,nR=i=>Oo(i)&&i[0]||i,N9=i=>new rS(i),N_e=(i,e,t,n)=>{let o=null;return(!n||n.indexOf(i)===-1)&&(o=e[i],o&&!(o instanceof ds)&&(Ie(o.render)&&(o=L_e(o)),t||(o=F9(o)))),o},oR=(i,e,t,n,o,r)=>i==null?new Fs:i instanceof lh?r[i.name]:i instanceof ds?i:Ie(i.render)&&!Oo(i)?n?i:F9(i):i.nodeType||Oo(i)?e(I(i)):N_e(i,t,n,o)||r[i]||e(i);var B_e=new Ma(i=>{let{model:e,parent:t}=i,n=e.widget;if(!n)return I();let o=I("<div>"),r=e.options||{};return t?t._createComponent(o,n,r):o[n](r),o}),Mb=class{constructor(e,t){this._tempTemplates=[],this._defaultTemplates={},this._anonymousTemplateName=t||"template",this._createElement=e||N9,this._createTemplateIfNeeded=this._createTemplateIfNeeded.bind(this)}static createDefaultOptions(){return{integrationOptions:{watchMethod:function(e,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).skipImmediate||t(e()),pe},templates:{"dx-polymorph-widget":B_e},useDeferUpdateForTemplates:!0}}}get anonymousTemplateName(){return this._anonymousTemplateName}addDefaultTemplates(e){this._defaultTemplates=q({},this._defaultTemplates,e)}dispose(){this._tempTemplates.forEach(e=>{e.template.dispose&&e.template.dispose()}),this._tempTemplates=[]}extractTemplates(e){let t=this._extractTemplates(e),n=this._extractAnonymousTemplate(e);return{templates:t,anonymousTemplateMeta:n}}_extractTemplates(e){let t=sS(e,"dxTemplate"),n=R9(t);return t.forEach(o=>{let{element:r,options:{name:s}}=o;r===n[s]?I(r).addClass("dx-template-wrapper").detach():I(r).remove()}),Object.keys(n).map(o=>({name:o,template:this._createTemplate(n[o])}))}_extractAnonymousTemplate(e){let t=e.contents().detach();return t.filter((o,r)=>{let s=r.nodeType===3,a=I(r).text().trim().length<1;return!(s&&a)}).length>0?{template:this._createTemplate(t),name:this._anonymousTemplateName}:{}}_createTemplateIfNeeded(e){let t=this._tempTemplates.filter(o=>o.source===nR(e))[0];if(t)return t.template;let n=this._createTemplate(e);return this._tempTemplates.push({template:n,source:nR(e)}),n}_createTemplate(e){return this._createElement(L9(e))}getTemplate(e,t,n,o){let{isAsyncTemplate:r,skipTemplates:s}=n;return Ie(e)?new Ma(a=>{let l=e.apply(o,P9(a));if(!U(l))return new Fs;let d=!1,c=oR(l,h=>h.nodeType||Oo(h)&&!I(h).is("script")?new Ma(()=>h):(d=!0,this._createTemplate(h)),t,r,s,this._defaultTemplates),u=c.render(a);return d&&c.dispose&&c.dispose(),u}):oR(e,this._createTemplateIfNeeded,t,r,s,this._defaultTemplates)}};var rR=(i,e)=>{if(!e)throw qt.Error("E0017");return Array.isArray(i)?i.map(t=>rR(t,e)).join(" "):i.indexOf(" ")!==-1?rR(i.split(/\s+/g),e):`${i}.${e}`},B9=rR;var V9=function(i,e){if(!V_e(i))return!1;let t=i.nodeName.toLowerCase(),n=!isNaN(e),o=i.disabled,r=/^(input|select|textarea|button|object|iframe)$/.test(t),s=t==="a",a,l=i.isContentEditable;return r||l?a=!o:s?a=i.href||n:a=n,a};function V_e(i){let e=I(i);return e.is(":visible")&&e.css("visibility")!=="hidden"&&e.parents().css("visibility")!=="hidden"}var Rb=function(i,e){return V9(e,I(e).attr("tabIndex"))},sR=function(i,e){let t=I(e).attr("tabIndex");return(isNaN(t)||t>=0)&&V9(e,t)},Ps=function(i){let e=I(i).get(0);return be.getActiveElement(e)===e};var H_e={backspace:"backspace",tab:"tab",enter:"enter",escape:"escape",pageup:"pageUp",pagedown:"pageDown",end:"end",home:"home",arrowleft:"leftArrow",arrowup:"upArrow",arrowright:"rightArrow",arrowdown:"downArrow",delete:"del"," ":"space",f:"F",a:"A","*":"asterisk","-":"minus",alt:"alt",control:"control",shift:"shift"},z_e={8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",70:"F",65:"A",106:"asterisk",109:"minus",189:"minus",173:"minus",16:"shift",17:"control",18:"alt"},j_e={dx:/^dx/i,mouse:/(mouse|wheel)/i,touch:/^touch/i,keyboard:/^key/i,pointer:/^(ms)?pointer/i},$_e=i=>i,W_e=i=>$_e(X.Event(i,i),i),aR=i=>Km(i)==="dx",U_e=i=>Km(i)==="mouse",H9=i=>Km(i)==="touch",Km=i=>{let{type:e}=i,t="other";return ee(j_e,function(n){if(this.test(e))return t=n,!1}),t},z9=i=>Km(i)==="pointer",Ra=i=>U_e(i)||(z9(i)||aR(i))&&i.pointerType==="mouse",sr=i=>i&&i.type==="dxmousewheel",Ec=i=>H9(i)||(z9(i)||aR(i))&&i.pointerType==="touch";var On=i=>{let{pageX:e,pageY:t,timeStamp:n}=i;return{x:e,y:t,time:n}},ud=(i,e)=>({x:e.x-i.x,y:e.y-i.y,time:e.time-i.time||1}),j9=i=>{let{originalEvent:e,pointers:t}=i;return H9(i)?(e.touches||[]).length:aR(i)?(t||[]).length:0},G_e=!1;var aS=i=>{if(G_e)return!0;let{target:e}=i,t=I(e),n=e?.isContentEditable||e?.hasAttribute("contenteditable"),o=t.is("input, textarea, select")||n;if(sr(i))return t.is("textarea")&&t.hasClass("dx-texteditor-input")||n?!1:t.is("input[type='number'], textarea, select")&&t.is(":focus");if(Ra(i))return o||i.which>1;if(Ec(i))return o&&Ps(t)};var bl=(i,e)=>{let t=W_e(i);return e&&q(t,e),t},Ur=i=>{let{originalEvent:e,delegateTarget:t}=i,n=bl(e,i);return X.trigger(t||n.target,n),n},Ti=i=>{let{key:e,which:t}=i,n=H_e[e?.toLowerCase()]||e,o=z_e[t];return o&&n===e?o:!n&&t?String.fromCharCode(t):n},Fb=i=>{let{key:e,which:t}=i;return e||String.fromCharCode(t)},Se=B9,Dn=i=>{let{ctrlKey:e,metaKey:t}=i;return e||t};var lR="KeyboardProcessor",$9=i=>({keyName:Ti(i),key:i.key,code:i.code,ctrl:i.ctrlKey,location:i.location,metaKey:i.metaKey,shift:i.shiftKey,alt:i.altKey,which:i.which,originalEvent:i}),W9=Ut.inherit({_keydown:Se("keydown",lR),_compositionStart:Se("compositionstart",lR),_compositionEnd:Se("compositionend",lR),ctor:function(i){i=i||{},i.element&&(this._element=I(i.element)),i.focusTarget&&(this._focusTarget=i.focusTarget),this._handler=i.handler,this._element&&(this._processFunction=e=>{let t=I(this._focusTarget).toArray(),n=this._focusTarget&&this._focusTarget!==e.target&&!t.includes(e.target),o=this._isComposingJustFinished&&e.which===229||this._isComposing||n;this._isComposingJustFinished=!1,o||this.process(e)},this._toggleProcessingWithContext=this.toggleProcessing.bind(this),X.on(this._element,this._keydown,this._processFunction),X.on(this._element,this._compositionStart,this._toggleProcessingWithContext),X.on(this._element,this._compositionEnd,this._toggleProcessingWithContext))},dispose:function(){this._element&&(X.off(this._element,this._keydown,this._processFunction),X.off(this._element,this._compositionStart,this._toggleProcessingWithContext),X.off(this._element,this._compositionEnd,this._toggleProcessingWithContext)),this._element=void 0,this._handler=void 0},process:function(i){this._handler($9(i))},toggleProcessing:function(i){let{type:e}=i;this._isComposing=e==="compositionstart",this._isComposingJustFinished=!this._isComposing}});W9.createKeyDownOptions=$9;var lS=W9;function Po(i,e){return e?Se(i,e):i}function dR(i,e){return typeof i=="function"?i(e):i.execute(e)}var cR={on:(i,e,t,n)=>{let{selector:o,showTimeout:r,hideTimeout:s,namespace:a}=n;X.on(i,Po("dxactive",a),o,{timeout:r},l=>dR(e,{event:l,element:l.currentTarget})),X.on(i,Po("dxinactive",a),o,{timeout:s},l=>dR(t,{event:l,element:l.currentTarget}))},off:(i,e)=>{let{namespace:t,selector:n}=e;X.off(i,Po("dxactive",t),n),X.off(i,Po("dxinactive",t),n)}},qm={on:function(i,e){let{namespace:t}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};X.on(i,Po("dxresize",t),e)},off:function(i){let{namespace:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};X.off(i,Po("dxresize",e))}},uR={on:(i,e,t,n)=>{let{selector:o,namespace:r}=n;X.on(i,Po("dxhoverend",r),o,s=>t(s)),X.on(i,Po("dxhoverstart",r),o,s=>dR(e,{element:s.target,event:s}))},off:(i,e)=>{let{selector:t,namespace:n}=e;X.off(i,Po("dxhoverstart",n),t),X.off(i,Po("dxhoverend",n),t)}},Ym={on:(i,e,t,n)=>{let{namespace:o}=n;X.on(i,Po("dxhiding",o),t),X.on(i,Po("dxshown",o),e)},off:(i,e)=>{let{namespace:t}=e;X.off(i,Po("dxhiding",t)),X.off(i,Po("dxshown",t))}},Xm={on:(i,e,t,n)=>{let{namespace:o}=n;X.on(i,Po("focusin",o),e),X.on(i,Po("focusout",o),t)},off:(i,e)=>{let{namespace:t}=e;X.off(i,Po("focusin",t)),X.off(i,Po("focusout",t))},trigger:i=>X.trigger(i,"focus")},hR={on:function(i,e){let{namespace:t}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};X.on(i,Po("dxclick",t),e)},off:function(i){let{namespace:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};X.off(i,Po("dxclick",e))}},pR={on:function(i,e){let{namespace:t}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};X.on(i,Po("click",t),e)},off:function(i){let{namespace:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};X.off(i,Po("click",e))}},K_e=0,Pb={},q_e=()=>"keyboardProcessorId"+K_e++,Fa={on:(i,e,t)=>{let n=q_e();return Pb[n]=new lS({element:i,focusTarget:e,handler:t}),n},off:i=>{i&&Pb[i]&&(Pb[i].dispose(),delete Pb[i])},_getProcessor:i=>Pb[i]};function ri(i,e){if(i==null)return{};var t={};for(var n in i)if({}.hasOwnProperty.call(i,n)){if(e.includes(n))continue;t[n]=i[n]}return t}var Y_e=[],X_e=".";function Z_e(i){let{major:e,minor:t,patch:n}=i;return[e,t,n].join(X_e)}function fR(i){let[e,t,n]=i.split(".").map(Number);return{major:e,minor:t,patch:n}}function Q_e(i){return i.map(e=>`${e.packageName}: ${e.version}`).join(`
`)}function J_e(i,e){return i.major===e.major&&i.minor===e.minor&&i.patch===e.patch}function U9(i){let{major:e,minor:t,patch:n}=i;return t===1?{major:e-1,minor:2,patch:n}:{major:e,minor:t-1,patch:n}}function G9(i){let e=Y_e.filter(t=>!J_e(fR(t.version),i));return e.length?(qt.log("W0023",Q_e([{packageName:"devextreme",version:Z_e(i)},...e])),!1):!0}function K9(i){return new Uint8Array(atob(i).split("").map(e=>e.charCodeAt(0)))}function q9(i){var e;return new Uint8Array(((e=i.match(/.{1,2}/g))===null||e===void 0?void 0:e.map(t=>parseInt(t,16)))??[])}function Y9(i){let e=new Uint8Array(i.length);for(let t=0;t<i.length;t+=1)e[t]=255&i.charCodeAt(t);return e}function X9(i){let e=new Uint8Array(4*i.length);for(let t=0;t<e.length;t+=1)e[t]=i[t>>2]>>>8*(3-t%4);return e}function Z9(i){let e=new Uint32Array(1+(i.length-1>>2));for(let t=0;t<i.length;t+=1)e[t>>2]|=i[t]<<8*(3-t%4);return e}function mR(i,e){return(i<<e|i>>>32-e)>>>0}function gR(i,e){let t=new Uint8Array(i.length+e.length);return t.set(i,0),t.set(e,i.length),t}var dS={e:65537,n:new Uint8Array([200,219,153,203,140,7,228,253,193,243,62,137,139,60,68,242,48,142,113,88,185,235,253,105,80,74,32,170,96,74,111,250,7,205,154,3,146,115,153,53,45,132,123,56,61,208,184,201,63,24,109,223,0,179,169,102,139,224,73,233,45,173,138,66,98,88,69,76,177,111,113,218,192,33,101,152,25,134,34,173,32,82,230,44,247,200,253,170,192,246,30,12,96,205,100,249,181,93,0,231])},Q9="kZidfQgNWkeKeYsJB8XjWg";var e0e="3021300906052b0e03021a05000414";function J9(i){let e=(8*dS.n.length+6)/8,t=gR(q9(e0e),i);if(t.length+10>e)throw Error("Key is too short for SHA1 signing algorithm");let n=new Uint8Array(e-t.length);return n.fill(255,0,n.length-1),n[0]=0,n[1]=1,n[n.length-1]=0,gR(n,t)}function e7(i){try{let e=BigInt(0),t=BigInt(1),n=BigInt(8),o=(u,h,f)=>{let p=t,m=u,g=h;for(;g;)g&t&&(p=p*m%f),m=m*m%f,g>>=t;return p},r=u=>u.reduce((h,f)=>(h<<n)+BigInt(f),e),s=r(i.actual),a=r(i.signature),l=BigInt(i.key.e),d=r(i.key.n);return o(a,l,d)===s}catch{return!0}}function t0e(i){let e=new Uint8Array(i.length+1);e.set(Y9(i)),e[e.length-1]=128;let t=Z9(new Uint8Array(e)),n=new Uint32Array(16*Math.ceil((t.length+2)/16));return n.set(t,0),n[n.length-1]=8*(e.length-1),n}function t7(i){let e=t0e(i),t=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]);for(let n=0;n<e.length;n+=16){let o=new Uint32Array(80);for(let c=0;c<16;c+=1)o[c]=e[n+c];for(let c=16;c<80;c+=1){let u=o[c-3]^o[c-8]^o[c-14]^o[c-16];o[c]=u<<1|u>>>31}let r=t[0],s=t[1],a=t[2],l=t[3],d=t[4];for(let c=0;c<80;c+=1){let[u,h]=c<20?[s&a|~s&l,1518500249]:c<40?[s^a^l,1859775393]:c<60?[s&a|s&l|a&l,2400959708]:[s^a^l,3395469782],f=mR(r,5)+u+d+h+o[c];d=l,l=a,a=mR(s,30),s=r,r=f}t[0]+=r,t[1]+=s,t[2]+=a,t[3]+=l,t[4]+=d}return X9(t)}var bR=()=>typeof HTMLElement<"u",o7=bR()?HTMLElement:class{};var jp={trigger:"dx-license-trigger",panel:"dx-license"},dh={buyNow:"buy-now",version:"version"},r7={opacity:"1",visibility:"visible","clip-path":"none",filter:"none"},s7=ye({},r7,{width:"100%",height:"auto","line-height":"normal",display:"block","z-index":"1500",position:"static",transform:"translate(0px, 0px)","background-color":"#FF7200",border:"none",margin:"auto","box-sizing":"border-box","text-align":"center"}),i0e=ye({},s7,{display:"flex","align-items":"center","flex-direction":"row",position:"relative",top:"0px",left:"0px",padding:"0.5rem"}),n0e={width:"1rem",cursor:"pointer",height:"1rem"},i7=ye({},r7,{display:"inline",position:"static",padding:"0px",margin:"0px",color:"white","font-family":"'Segoe UI','Open Sans Condensed',-apple-system,BlinkMacSystemFont,avenir next,avenir,helvetica neue,helvetica,Cantarell,Ubuntu,roboto,noto,arial,sans-serif","font-size":"0.875rem","font-wight":"600"});function Oc(i,e){let t=e?ye({},i,e):i;return Object.keys(t).reduce((n,o)=>`${n}${[o,`${t[o]} !important;`].join(": ")}`,"")}var n7=(()=>{class i extends o7{constructor(){var t,n,o,r,s;super(),this._observer=null,this._inReassign=!1,this._hidden=!1,this._spanStyles=Oc(i7,(t=i.customStyles)===null||t===void 0?void 0:t.textStyles),this._linkStyles=Oc(i7,(n=i.customStyles)===null||n===void 0?void 0:n.linkStyles),this._containerStyles=Oc(i0e,(o=i.customStyles)===null||o===void 0?void 0:o.containerStyles),this._contentStyles=Oc(s7,(r=i.customStyles)===null||r===void 0?void 0:r.contentStyles),this._buttonStyles=Oc(n0e,(s=i.customStyles)===null||s===void 0?void 0:s.contentStyles)}_createSpan(t){let n=document.createElement("span");return n.innerText=t,n.style.cssText=this._spanStyles,n}_createLink(t,n){let o=document.createElement("a");return o.innerText=t,o.style.cssText=this._linkStyles,o.href=n,o.target="_blank",o}_createButton(){let t=document.createElement("div");t.style.cssText=this._buttonStyles;let n=document.createElementNS("http://www.w3.org/2000/svg","polygon"),o=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("points","13.4 12.7 8.7 8 13.4 3.4 12.6 2.6 8 7.3 3.4 2.6 2.6 3.4 7.3 8 2.6 12.6 3.4 13.4 8 8.7 12.7 13.4 13.4 12.7"),n.style.cssText=Oc({fill:"#fff",opacity:".5","stroke-width":"0px"}),o.setAttribute("id","Layer_1"),o.setAttribute("data-name","Layer 1"),o.setAttribute("version","1.1"),o.setAttribute("viewBox","0 0 16 16"),o.style.cssText=Oc({"vertical-align":"baseline"}),o.appendChild(n),t.appendChild(o),t.onclick=()=>{this._hidden=!0,this.style.cssText=Oc({display:"none"})},t}_createContentContainer(){let t=document.createElement("div");return t.style.cssText=this._contentStyles,t.append(this._createSpan("For evaluation purposes only. Redistribution not authorized. Please "),this._createLink("purchase a license",this.getAttribute(dh.buyNow)),this._createSpan(` to continue use of DevExpress product libraries (v${this.getAttribute(dh.version)}).`)),t}_reassignComponent(){this.innerHTML="",this.style.cssText=this._containerStyles,this.append(this._createContentContainer(),this._createButton())}connectedCallback(){this._reassignComponent(),this._observer||(this._observer=new MutationObserver(()=>{if(this._hidden){var t;(t=this._observer)===null||t===void 0||t.disconnect();return}this._inReassign?this._inReassign=!1:(this._inReassign=!0,this._reassignComponent())}),this._observer.observe(this,{childList:!0,attributes:!0,subtree:!0}))}disconnectedCallback(){setTimeout(()=>{document.getElementsByTagName(jp.panel).length||document.body.prepend(this)},100)}}return i.customStyles=void 0,i})(),_R=class extends o7{connectedCallback(){if(this.style.cssText=Oc({display:"none"}),!document.getElementsByTagName(jp.panel).length){let t=document.createElement(jp.panel);t.setAttribute(dh.version,this.getAttribute(dh.version)),t.setAttribute(dh.buyNow,this.getAttribute(dh.buyNow)),t.setAttribute("data-permanent","true"),document.body.prepend(t)}}};function a7(i){customElements.get(jp.trigger)||(n7.customStyles=i,customElements.define(jp.trigger,_R),customElements.define(jp.panel,n7))}function l7(i,e,t){a7(t);let n=document.createElement(jp.trigger);n.setAttribute(dh.buyNow,i),n.setAttribute(dh.version,e),document.body.appendChild(n)}function d7(i,e,t){bR()&&l7(i,e,t)}var ea;(function(i){i.corrupted="corrupted",i.verified="verified",i.internal="internal"})(ea||(ea={}));var o0e=["customerId","maxVersionAllowed","format","internalUsageId"],r0e=1,s0e=3,a0e=".",l0e="https://go.devexpress.com/Licensing_Installer_Watermark_DevExtremeJQuery.aspx",c7={kind:ea.corrupted,error:"general"},d0e={kind:ea.corrupted,error:"verification"},c0e={kind:ea.corrupted,error:"decoding"},u0e={kind:ea.corrupted,error:"deserialization"},h0e={kind:ea.corrupted,error:"payload"},p0e={kind:ea.corrupted,error:"version"},vR=!1;function f0e(i){let{text:e,signature:t}=i;return e7({key:dS,signature:K9(t),actual:J9(t7(e))})}function m0e(i){if(i===void 0)return c7;let e=i.split(a0e);if(e.length!==2||e[0].length===0||e[1].length===0)return c7;if(!f0e({text:e[0],signature:e[1]}))return d0e;let t="";try{t=atob(e[0])}catch{return c0e}let n={};try{n=JSON.parse(t)}catch{return u0e}let{customerId:o,maxVersionAllowed:r,format:s,internalUsageId:a}=n,l=ri(n,o0e);return a!==void 0?{kind:ea.internal,internalUsageId:a}:o===void 0||r===void 0||s===void 0?h0e:s!==r0e?p0e:{kind:ea.verified,payload:ye({customerId:o,maxVersionAllowed:r},l)}}function u7(i){return isNaN(i)||i<s0e}function g0e(i){let{licenseKey:e,version:t}=i,n=!1;try{n=u7(t.patch);let{major:o,minor:r}=n?U9(t):t;if(!e)return{preview:n,error:"W0019"};let s=m0e(e);return s.kind===ea.corrupted?{preview:n,error:"W0021"}:s.kind===ea.internal?{preview:n,internal:!0,error:s.internalUsageId===Q9?void 0:"W0020"}:o&&r?10*o+r>s.payload.maxVersionAllowed?{preview:n,error:"W0020"}:{preview:n,error:void 0}:{preview:n,error:"W0021"}}catch{return{preview:n,error:"W0021"}}}function _0e(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xk;if(vR)return;vR=!0;let t=fR(e),n=G9(t),{internal:o,error:r}=g0e({licenseKey:i,version:t});if(!n&&o)return;r&&!o&&d7(ui().buyNowLink??l0e,Xk);let s=u7(t.patch);if(r){qt.log(s?"W0022":r);return}s&&!o&&qt.log("W0022")}function yR(){return vR}var h7={validateLicense:_0e};var{abstract:cS}=QM,xR=QM.inherit({_getDefaultOptions(){return q(this.callBase(),{width:void 0,height:void 0,rtlEnabled:ui().rtlEnabled,elementAttr:{},disabled:!1,integrationOptions:{}},this._useTemplates()?Mb.createDefaultOptions():{})},ctor(i,e){this._customClass=null,this._createElement(i),Gw(this._$element,this,this._dispose),this.callBase(e);let t=yR();h7.validateLicense(ui().licenseKey),!t&&yR()&&ui({licenseKey:""})},_createElement(i){this._$element=I(i)},_getSynchronizableOptionsForCreateComponent:()=>["rtlEnabled","disabled","templatesRenderAsynchronously"],_checkFunctionValueDeprecation:function(i){this.option("_ignoreFunctionValueDeprecation")||i.forEach(e=>{Ie(this.option(e))&&qt.log("W0017",e)})},_visibilityChanged:cS,_dimensionChanged:cS,_init(){this.callBase(),this._checkFunctionValueDeprecation(["width","height","maxHeight","maxWidth","minHeight","minWidth","popupHeight","popupWidth"]),this._attachWindowResizeCallback(),this._initTemplateManager()},_setOptionsByDevice(i){this.callBase([].concat(this.constructor._classCustomRules||[],i||[]))},_isInitialOptionValue(i){return!(this.constructor._classCustomRules&&Object.prototype.hasOwnProperty.call(this._convertRulesToOptions(this.constructor._classCustomRules),i))&&this.callBase(i)},_attachWindowResizeCallback(){if(this._isDimensionChangeSupported()){let i=this._windowResizeCallBack=this._dimensionChanged.bind(this);ml.add(i)}},_isDimensionChangeSupported(){return this._dimensionChanged!==cS},_renderComponent(){mj(this.$element()),this._initMarkup(),it()&&this._render()},_initMarkup(){let{rtlEnabled:i}=this.option()||{};this._renderElementAttributes(),this._toggleRTLDirection(i),this._renderVisibilityChange(),this._renderDimensions()},_render(){this._attachVisibilityChangeHandlers()},_renderElementAttributes(){let{elementAttr:i}=this.option()||{},e=q({},i),t=e.class;delete e.class,this.$element().attr(e).removeClass(this._customClass).addClass(t),this._customClass=t},_renderVisibilityChange(){this._isDimensionChangeSupported()&&this._attachDimensionChangeHandlers(),this._isVisibilityChangeSupported()&&this.$element().addClass("dx-visibility-change-handler")},_renderDimensions(){let i=this.$element(),e=i.get(0),t=this._getOptionValue("width",e),n=this._getOptionValue("height",e);this._isCssUpdateRequired(e,n,t)&&i.css({width:t===null?"":t,height:n===null?"":n})},_isCssUpdateRequired:(i,e,t)=>!!(U(t)||U(e)||i.style.width||i.style.height),_attachDimensionChangeHandlers(){let i=this.$element(),e=`${this.NAME}VisibilityChange`;qm.off(i,{namespace:e}),qm.on(i,()=>this._dimensionChanged(),{namespace:e})},_attachVisibilityChangeHandlers(){if(this._isVisibilityChangeSupported()){let i=this.$element(),e=`${this.NAME}VisibilityChange`;this._isHidden=!this._isVisible(),Ym.off(i,{namespace:e}),Ym.on(i,()=>this._checkVisibilityChanged("shown"),()=>this._checkVisibilityChanged("hiding"),{namespace:e})}},_isVisible(){return this.$element().is(":visible")},_checkVisibilityChanged(i){this._isVisible()&&(i==="hiding"&&!this._isHidden?(this._visibilityChanged(!1),this._isHidden=!0):i==="shown"&&this._isHidden&&(this._isHidden=!1,this._visibilityChanged(!0)))},_isVisibilityChangeSupported(){return this._visibilityChanged!==cS&&it()},_clean:pe,_modelByElement(){let{modelByElement:i}=this.option(),e=this.$element();return i?i(e):void 0},_invalidate(){if(this._isUpdateAllowed())throw qt.Error("E0007");this._requireRefresh=!0},_refresh(){this._clean(),this._renderComponent()},_dispose(){this._templateManager&&this._templateManager.dispose(),this.callBase(),this._clean(),this._detachWindowResizeCallback()},_detachWindowResizeCallback(){this._isDimensionChangeSupported()&&ml.remove(this._windowResizeCallBack)},_toggleRTLDirection(i){this.$element().toggleClass("dx-rtl",i)},_createComponent(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=vo(this._getSynchronizableOptionsForCreateComponent(),l=>!(l in t)),{integrationOptions:o}=this.option(),{nestedComponentOptions:r}=this.option();r=r||pe;let s=q({integrationOptions:o},r(this));n.forEach(l=>s[l]=this.option(l)),this._extendConfig(t,s);let a;if(We(e)?a=I(i)[e](t)[e]("instance"):i&&(a=e.getInstance(i),a?a.option(t):a=new e(i,t)),a){let l=d=>{let{name:c,value:u}=d;n.includes(c)&&a.option(c,u)};this.on("optionChanged",l),a.on("disposing",()=>this.off("optionChanged",l))}return a},_extendConfig(i,e){ee(e,(t,n)=>{!Object.prototype.hasOwnProperty.call(i,t)&&(i[t]=n)})},_defaultActionConfig(){let i=this.$element(),e=this._modelByElement(i);return q(this.callBase(),{context:e})},_defaultActionArgs(){let i=this.$element(),e=this._modelByElement(i),t=this.element();return q(this.callBase(),{element:t,model:e})},_optionChanged(i){switch(i.name){case"width":case"height":this._renderDimensions();break;case"rtlEnabled":this._invalidate();break;case"elementAttr":this._renderElementAttributes();break;case"disabled":case"integrationOptions":break;default:this.callBase(i)}},_removeAttributes(i){let e=i.attributes;for(let t=e.length-1;t>=0;t--){let n=e[t];if(n){let{name:o}=n;(!o.indexOf("aria-")||o.indexOf("dx-")!==-1||o==="role"||o==="style"||o==="tabindex")&&i.removeAttribute(o)}}},_removeClasses(i){i.className=i.className.split(" ").filter(e=>e.lastIndexOf("dx-",0)!==0).join(" ")},_updateDOMComponent(i){i?this._renderComponent():this._requireRefresh&&(this._requireRefresh=!1,this._refresh())},endUpdate(){let i=this._isInitializingRequired();this.callBase(),this._isUpdateAllowed()&&this._updateDOMComponent(i)},$element(){return this._$element},element(){let i=this.$element();return tt(i)},dispose(){let i=this.$element().get(0);nh(i,!0),i.textContent="",this._removeAttributes(i),this._removeClasses(i)},resetOption(i){if(this.callBase(i),i==="width"||i==="height"){let e=this.initialOption(i);!U(e)&&this.$element().css(i,"")}},_getAnonymousTemplateName(){},_initTemplateManager(){if(this._templateManager||!this._useTemplates())return;let{integrationOptions:i={}}=this.option(),{createTemplate:e}=i;this._templateManager=new Mb(e,this._getAnonymousTemplateName()),this._initTemplates()},_initTemplates(){let{templates:i,anonymousTemplateMeta:e}=this._templateManager.extractTemplates(this.$element()),t=this.option(`integrationOptions.templates.${e.name}`);i.forEach(n=>{let{name:o,template:r}=n;this._options.silent(`integrationOptions.templates.${o}`,r)}),e.name&&!t&&(this._options.silent(`integrationOptions.templates.${e.name}`,e.template),this._options.silent("_hasAnonymousTemplateContent",!0))},_getTemplateByOption(i){return this._getTemplate(this.option(i))},_getTemplate(i){let e=this.option("integrationOptions.templates"),t=this.option("templatesRenderAsynchronously"),n=this.option("integrationOptions.skipTemplates");return this._templateManager.getTemplate(i,e,{isAsyncTemplate:t,skipTemplates:n},this)},_saveTemplate(i,e){this._setOptionWithoutOptionChange("integrationOptions.templates."+i,this._templateManager._createTemplate(e))},_useTemplates:()=>!0});xR.getInstance=function(i){return Kw(I(i),this)};xR.defaultOptions=function(i){this._classCustomRules=this._classCustomRules||[],this._classCustomRules.push(i)};var Gr=xR;function uS(i,e,t){function n(r){return typeof r=="string"?r.split("."):typeof r=="number"?[r]:r}i=n(i),e=n(e);let o=Math.max(i.length,e.length);isFinite(t)&&(o=Math.min(o,t));for(let r=0;r<o;r++){let s=parseInt(i[r]||0,10),a=parseInt(e[r]||0,10);if(s<a)return-1;if(s>a)return 1}return 0}var Pa=it()?et():{},f$e=1e3/60,p7=function(i){return setTimeout(i,16.666666666666668)},f7=function(i){clearTimeout(i)},m7=Wr(function(){let i=Pa.requestAnimationFrame||Pa.webkitRequestAnimationFrame||Pa.mozRequestAnimationFrame||Pa.oRequestAnimationFrame||Pa.msRequestAnimationFrame,e=Pa.cancelAnimationFrame||Pa.webkitCancelAnimationFrame||Pa.mozCancelAnimationFrame||Pa.oCancelAnimationFrame||Pa.msCancelAnimationFrame;i&&e&&(p7=i,f7=e)});function ch(){return m7(),p7.apply(Pa,arguments)}function ta(){m7(),f7.apply(Pa,arguments)}function g7(i){return i&&[i.target,i.delegateTarget,i.relatedTarget,i.currentTarget].filter(e=>!!e)}var _7=(i,e)=>{X.one(g7(i),Io,e)},b7=(i,e)=>{X.off(g7(i),Io,e)};var b0e=xc(),v0e=/(webkit)[ /]([\w.]+)/,y0e=/(mozilla)(?:.*? rv:([\w.]+))/,v7=i=>{i=i.toLowerCase();let e={},t=v0e.exec(i)||i.indexOf("compatible")<0&&y0e.exec(i)||[],n=t[1],o=t[2];return n==="webkit"&&(e.webkit=!0,i.indexOf("chrome")>=0||i.indexOf("crios")>=0?(n="chrome",o=/(?:chrome|crios)\/(\d+\.\d+)/.exec(i),o=o&&o[1]):i.indexOf("fxios")>=0?(n="mozilla",o=/fxios\/(\d+\.\d+)/.exec(i),o=o&&o[1]):i.indexOf("safari")>=0&&/version|phantomjs/.test(i)?(n="safari",o=/(?:version|phantomjs)\/([0-9.]+)/.exec(i),o=o&&o[1]):(n="unknown",o=/applewebkit\/([0-9.]+)/.exec(i),o=o&&o[1])),n&&(e[n]=!0,e.version=o),e},gi=q({_fromUA:v7},v7(b0e.userAgent));var x0e=Ut.inherit({ctor:function(i,e){this._eventName=i,this._originalEvents=Se(e,"dxPointerEvents"),this._handlerCount=0,this.noBubble=this._isNoBubble()},_isNoBubble:function(){let i=this._eventName;return i==="dxpointerenter"||i==="dxpointerleave"},_handler:function(i){let e=this._getDelegateTarget(i),t={type:this._eventName,pointerType:i.pointerType||Km(i),originalEvent:i,delegateTarget:e,timeStamp:gi.mozilla?new Date().getTime():i.timeStamp},n=Vm(i);return t.target=n,this._fireEvent(t)},_getDelegateTarget:function(i){let e;return this.noBubble&&(e=i.delegateTarget),e},_fireEvent:function(i){return Ur(i)},_setSelector:function(i){this._selector=this.noBubble&&i?i.selector:null},_getSelector:function(){return this._selector},setup:function(){return!0},add:function(i,e){if(this._handlerCount<=0||this.noBubble){i=this.noBubble?i:be.getDocument(),this._setSelector(e);let t=this;X.on(i,this._originalEvents,this._getSelector(),function(n){t._handler(n)})}this.noBubble||this._handlerCount++},remove:function(i){this._setSelector(i),this.noBubble||this._handlerCount--},teardown:function(i){this._handlerCount&&!this.noBubble||(i=this.noBubble?i:be.getDocument(),this._originalEvents!==".dxPointerEvents"&&X.off(i,this._originalEvents,this._getSelector()))},dispose:function(i){i=this.noBubble?i:be.getDocument(),X.off(i,this._originalEvents)}}),Zm=x0e;var C0e={dxpointerdown:"touchstart",dxpointermove:"touchmove",dxpointerup:"touchend",dxpointercancel:"touchcancel",dxpointerover:"",dxpointerout:"",dxpointerenter:"",dxpointerleave:""},y7=function(i){let e=[];return ee(i.touches,function(t,n){e.push(q({pointerId:n.identifier},n))}),{pointers:e,pointerId:i.changedTouches[0].identifier}},w0e=function(i){return Ve.real().platform==="ios"&&(i==="dxpointerdown"||i==="dxpointerup")},CR=Zm.inherit({ctor:function(){this.callBase.apply(this,arguments),this._pointerId=0},_handler:function(i){if(w0e(this._eventName)){let e=i.changedTouches[0];if(this._pointerId===e.identifier&&this._pointerId!==0)return;this._pointerId=e.identifier}return this.callBase.apply(this,arguments)},_fireEvent:function(i){return this.callBase(q(y7(i.originalEvent),i))}});CR.map=C0e;CR.normalize=y7;var Lb=CR;var hS=function(i,e){Do.add(function(){i.split(" ").forEach(function(t){be.listen(be.getDocument(),t,e,!0)})})},S0e=function(i,e,t){t=t||function(){};let n=[],o=function(s){let a=-1;return ee(n,function(l,d){return e(s,d)?(a=l,!1):!0}),a},r=function(s){let a=o(s);a>-1&&n.splice(a,1)};hS(i.dxpointerdown,function(s){o(s)===-1&&(t(s),n.push(s))}),hS(i.dxpointermove,function(s){n[o(s)]=s}),hS(i.dxpointerup,r),hS(i.dxpointercancel,r),this.pointers=function(){return n},this.reset=function(){n=[]}},x7=S0e;var w7={dxpointerdown:"mousedown",dxpointermove:"mousemove",dxpointerup:"mouseup",dxpointercancel:"",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},S7=function(i){return i.pointerId=1,{pointers:wR.pointers(),pointerId:1}},wR,C7=!1,E7=function(){C7||(wR=new x7(w7,function(){return!0}),C7=!0)},Nb=Zm.inherit({ctor:function(){this.callBase.apply(this,arguments),E7()},_fireEvent:function(i){return this.callBase(q(S7(i.originalEvent),i))}});Nb.map=w7;Nb.normalize=S7;Nb.activate=E7;Nb.resetObserver=function(){wR.reset()};var $p=Nb;var E0e={dxpointerdown:"touchstart mousedown",dxpointermove:"touchmove mousemove",dxpointerup:"touchend mouseup",dxpointercancel:"touchcancel",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},O7=!1,O0e=function(){O7||($p.activate(),O7=!0)},SR=Zm.inherit({EVENT_LOCK_TIMEOUT:100,ctor:function(){this.callBase.apply(this,arguments),O0e()},_handler:function(i){let e=Ra(i);if(e||(this._skipNextEvents=!0),!(e&&this._mouseLocked)){if(e&&this._skipNextEvents){this._skipNextEvents=!1,this._mouseLocked=!0,clearTimeout(this._unlockMouseTimer);let t=this;this._unlockMouseTimer=setTimeout(function(){t._mouseLocked=!1},this.EVENT_LOCK_TIMEOUT);return}return this.callBase(i)}},_fireEvent:function(i){let e=Ra(i.originalEvent)?$p.normalize:Lb.normalize;return this.callBase(q(e(i.originalEvent),i))},dispose:function(){this.callBase(),this._skipNextEvents=!1,this._mouseLocked=!1,clearTimeout(this._unlockMouseTimer)}});SR.map=E0e;SR.resetObserver=$p.resetObserver;var ER=SR;var I0e=(i,e)=>{let{tablet:t,phone:n}=e,o=T0e();return o||(i.touch&&!(t||n)?ER:i.touch?Lb:$p)},I7=I0e(jM,Ve.real());ee(I7.map,(i,e)=>{mr(i,new I7(i,e))});var D0e={down:"dxpointerdown",up:"dxpointerup",move:"dxpointermove",cancel:"dxpointercancel",enter:"dxpointerenter",leave:"dxpointerleave",over:"dxpointerover",out:"dxpointerout"};function T0e(){let i=ui().pointerEventStrategy;return{"mouse-and-touch":ER,touch:Lb,mouse:$p}[i]}var Mt=D0e;var A0e=Ut.inherit({ctor:function(i){this._$element=I(i),this._cancelCallback=Gt(),this._acceptCallback=Gt()},getElement:function(){return this._$element},validate:function(i){return!sr(i)},validatePointers:function(i){return j9(i)===1},allowInterruptionByMouseWheel:function(){return!0},configure:function(i){q(this,i)},addCancelCallback:function(i){this._cancelCallback.add(i)},removeCancelCallback:function(){this._cancelCallback.empty()},_cancel:function(i){this._cancelCallback.fire(this,i)},addAcceptCallback:function(i){this._acceptCallback.add(i)},removeAcceptCallback:function(){this._acceptCallback.empty()},_accept:function(i){this._acceptCallback.fire(this,i)},_requestAccept:function(i){this._acceptRequestEvent=i},_forgetAccept:function(){this._accept(this._acceptRequestEvent),this._acceptRequestEvent=null},start:pe,move:pe,end:pe,cancel:pe,reset:function(){this._acceptRequestEvent&&this._accept(this._acceptRequestEvent)},_fireEvent:function(i,e,t){let n=q({type:i,originalEvent:e,target:this._getEmitterTarget(e),delegateTarget:this.getElement().get(0)},t);return e=Ur(n),e.cancel&&this._cancel(e),e},_getEmitterTarget:function(i){return(this.delegateSelector?I(i.target).closest(this.delegateSelector):this.getElement()).get(0)},dispose:pe}),uh=A0e;var hh="dxmousewheel";var OR={setup:function(i){let e=I(i);X.on(e,Se("wheel","dxWheel"),OR._wheelHandler.bind(OR))},teardown:function(i){X.off(i,".dxWheel")},_wheelHandler:function(i){let{deltaMode:e,deltaY:t,deltaX:n,deltaZ:o}=i.originalEvent;Ur({type:hh,originalEvent:i,delta:this._normalizeDelta(t,e),deltaX:n,deltaY:t,deltaZ:o,deltaMode:e,pointerType:"mouse"}),i.stopPropagation()},_normalizeDelta(i){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:0)===0?-i:-30*i}};mr(hh,OR);var pS="dxEventManager";var k0e=Ut.inherit({ctor:function(){this._attachHandlers(),this.reset(),this._proxiedCancelHandler=this._cancelHandler.bind(this),this._proxiedAcceptHandler=this._acceptHandler.bind(this)},_attachHandlers:function(){Do.add((function(){let i=be.getDocument();X.subscribeGlobal(i,Se(Mt.down,pS),this._pointerDownHandler.bind(this)),X.subscribeGlobal(i,Se(Mt.move,pS),this._pointerMoveHandler.bind(this)),X.subscribeGlobal(i,Se([Mt.up,Mt.cancel].join(" "),pS),this._pointerUpHandler.bind(this)),X.subscribeGlobal(i,Se(hh,pS),this._mouseWheelHandler.bind(this))}).bind(this))},_eachEmitter:function(i){let e=this._activeEmitters||[],t=0;for(;e.length>t;){let n=e[t];if(i(n)===!1)break;e[t]===n&&t++}},_applyToEmitters:function(i,e){this._eachEmitter(function(t){t[i].call(t,e)})},reset:function(){this._eachEmitter(this._proxiedCancelHandler),this._activeEmitters=[]},resetEmitter:function(i){this._proxiedCancelHandler(i)},_pointerDownHandler:function(i){Ra(i)&&i.which>1||this._updateEmitters(i)},_updateEmitters:function(i){this._isSetChanged(i)&&(this._cleanEmitters(i),this._fetchEmitters(i))},_isSetChanged:function(i){let e=this._closestEmitter(i),t=this._emittersSet||[],n=e.length!==t.length;return ee(e,function(o,r){return n=n||t[o]!==r,!n}),this._emittersSet=e,n},_closestEmitter:function(i){let e=this,t=[],n=I(i.target);function o(r,s){s&&s.validatePointers(i)&&s.validate(i)&&(s.addCancelCallback(e._proxiedCancelHandler),s.addAcceptCallback(e._proxiedAcceptHandler),t.push(s))}for(;n.length;){let r=Zi(n.get(0),"dxEmitter")||[];ee(r,o),n=n.parent()}return t},_acceptHandler:function(i,e){let t=this;this._eachEmitter(function(n){n!==i&&t._cancelEmitter(n,e)})},_cancelHandler:function(i,e){this._cancelEmitter(i,e)},_cancelEmitter:function(i,e){let t=this._activeEmitters;e?i.cancel(e):i.reset(),i.removeCancelCallback(),i.removeAcceptCallback();let n=t.indexOf(i);n>-1&&t.splice(n,1)},_cleanEmitters:function(i){this._applyToEmitters("end",i),this.reset(i)},_fetchEmitters:function(i){this._activeEmitters=this._emittersSet.slice(),this._applyToEmitters("start",i)},_pointerMoveHandler:function(i){this._applyToEmitters("move",i)},_pointerUpHandler:function(i){this._updateEmitters(i)},_mouseWheelHandler:function(i){this._allowInterruptionByMouseWheel()&&(i.pointers=[null],this._pointerDownHandler(i),this._adjustWheelEvent(i),this._pointerMoveHandler(i),i.pointers=[],this._pointerUpHandler(i))},_allowInterruptionByMouseWheel:function(){let i=!0;return this._eachEmitter(function(e){return i=e.allowInterruptionByMouseWheel()&&i,i}),i},_adjustWheelEvent:function(i){let e=null;if(this._eachEmitter(function(r){if(!r.gesture)return;let s=r.getDirection(i);if(s!=="horizontal"&&!i.shiftKey||s!=="vertical"&&i.shiftKey)return e=r,!1}),!e)return;let t=e.getDirection(i),o=t==="both"&&!i.shiftKey||t==="vertical"?"pageY":"pageX";i[o]+=i.delta},isActive:function(i){let e=!1;return this._eachEmitter(function(t){e=e||t.getElement().is(i)}),e}}),D7=new k0e;var M0e=function(i){let e=i.emitter,t=i.events[0],n=i.events;ee(n,function(o,r){mr(r,{noBubble:!i.bubble,setup:function(s){let a=Zi(s,"dxEmitterSubscription")||{},l=Zi(s,"dxEmitter")||{},d=l[t]||new e(s);a[r]=!0,l[t]=d,Zi(s,"dxEmitter",l),Zi(s,"dxEmitterSubscription",a)},add:function(s,a){Zi(s,"dxEmitter")[t].configure(q({delegateSelector:a.selector},a.data),a.type)},teardown:function(s){let a=Zi(s,"dxEmitterSubscription"),l=Zi(s,"dxEmitter"),d=l[t];delete a[r];let c=!0;ee(n,function(u,h){return c=c&&!a[h],c}),c&&(D7.isActive(s)&&D7.resetEmitter(d),d&&d.dispose(),delete l[t])}})})},La=M0e;var Kt="dxclick";var IR=null,Bb=null,T7=()=>{Bb=null},A7=function(i){let e=i.originalEvent,t=Bb===e||e&&e.DXCLICK_FIRED;(!i.which||i.which===1)&&!IR&&!t&&(e&&(e.DXCLICK_FIRED=!0),b7(Bb,T7),Bb=e,_7(Bb,T7),Ur({type:"dxclick",originalEvent:i}))},R0e=uh.inherit({ctor:function(i){this.callBase(i),X.on(this.getElement(),"click",A7)},start:function(i){IR=null},cancel:function(){IR=!0},dispose:function(){X.off(this.getElement(),"click",A7)}});(function(){if(!Ve.real().generic){let e=null,t=!1,n=function(d){return I(d).is("input, textarea, select, button ,:focus, :focus *")},o=function(d){e=d.target,t=d.isDefaultPrevented()},r=function(d){let c=Vm(d);return I(c)},s=function(d){let c=r(d);!t&&e&&!c.is(e)&&!I(e).is("label")&&n(c)&&ka(),e=null,t=!1},a="NATIVE_CLICK_FIXER",l=be.getDocument();X.subscribeGlobal(l,Se(Mt.down,a),o),X.subscribeGlobal(l,Se("click",a),s)}})();La({emitter:R0e,bubble:!0,events:["dxclick"]});var k7="dxactive";var fS=Ut.inherit({ctor:function(i,e){this._timeout=i,this._fire=e},start:function(){let i=this;this._schedule(function(){i.force()})},_schedule:function(i){this.stop(),this._timer=setTimeout(i,this._timeout)},stop:function(){clearTimeout(this._timer)},force:function(){this._fired||(this.stop(),this._fire(),this._fired=!0)},fired:function(){return this._fired}}),vl,DR=uh.inherit({ctor:function(){this.callBase.apply(this,arguments),this._active=new fS(0,pe),this._inactive=new fS(0,pe)},configure:function(i,e){switch(e){case"dxactive":i.activeTimeout=i.timeout;break;case"dxinactive":i.inactiveTimeout=i.timeout}this.callBase(i)},start:function(i){if(vl){let e=as(this.getElement().get(0),vl.getElement().get(0)),t=!vl._active.fired();if(e&&t){this._cancel();return}vl._inactive.force()}vl=this,this._initEvents(i),this._active.start()},_initEvents:function(i){let e=this,t=this._getEmitterTarget(i),n=Ra(i),r=Ve.isSimulator()||!n,s=ji(this.activeTimeout,30),a=ji(this.inactiveTimeout,400);this._active=new fS(r?s:0,function(){e._fireEvent("dxactive",i,{target:t})}),this._inactive=new fS(r?a:0,function(){e._fireEvent("dxinactive",i,{target:t}),vl=null})},cancel:function(i){this.end(i)},end:function(i){let e=i.type!==Mt.up;e?this._active.stop():this._active.force(),this._inactive.start(),e&&this._inactive.force()},dispose:function(){this._active.stop(),this._inactive.stop(),vl===this&&(vl=null),this.callBase()},lockInactive:function(){return this._active.force(),this._inactive.stop(),vl=null,this._cancel(),this._inactive.force.bind(this._inactive)}});DR.lock=function(i){let e=vl?vl.lockInactive():pe;i.done(e)};La({emitter:DR,events:["dxactive","dxinactive"]});var M7=DR.lock;var ph="dxhoverstart",P0e=Se(Mt.enter,"dxHoverStart");var fh="dxhoverend",L0e=Se(Mt.leave,"dxHoverEnd"),R7=Ut.inherit({noBubble:!0,ctor:function(){this._handlerArrayKeyPath=this._eventNamespace+"_HandlerStore"},setup:function(i){Zi(i,this._handlerArrayKeyPath,{})},add:function(i,e){let t=this,n=function(o){t._handler(o)};X.on(i,this._originalEventName,e.selector,n),Zi(i,this._handlerArrayKeyPath)[e.guid]=n},_handler:function(i){Ec(i)||Ve.isSimulator()||Ur({type:this._eventName,originalEvent:i,delegateTarget:i.delegateTarget})},remove:function(i,e){let t=Zi(i,this._handlerArrayKeyPath)[e.guid];X.off(i,this._originalEventName,e.selector,t)},teardown:function(i){ih(i,this._handlerArrayKeyPath)}}),N0e=R7.inherit({ctor:function(){this._eventNamespace="dxHoverStart",this._eventName=ph,this._originalEventName=P0e,this.callBase()},_handler:function(i){(i.pointers||[]).length||this.callBase(i)}}),B0e=R7.inherit({ctor:function(){this._eventNamespace="dxHoverEnd",this._eventName=fh,this._originalEventName=L0e,this.callBase()}});mr(ph,new N0e);mr(fh,new B0e);function F7(i,e,t){i=i==="role"||i==="id"?i:`aria-${i}`,e=U(e)?e.toString():null,t.attr(i,e)}var TR=Gr.inherit({_feedbackHideTimeout:400,_feedbackShowTimeout:30,_supportedKeys:()=>({}),_getDefaultOptions(){return q(this.callBase(),{hoveredElement:null,isActive:!1,disabled:!1,visible:!0,hint:void 0,activeStateEnabled:!1,onContentReady:null,hoverStateEnabled:!1,focusStateEnabled:!1,tabIndex:0,accessKey:void 0,onFocusIn:null,onFocusOut:null,onKeyboardHandled:null,ignoreParentReadOnly:!1,useResizeObserver:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){let i=Ve.real(),e=i.platform,t=i.version;return e==="ios"&&uS(t,"13.3")<=0},options:{useResizeObserver:!1}}])},_init(){this.callBase(),this._initContentReadyAction()},_innerWidgetOptionChanged:function(i,e){let t=TR.getOptionsFromContainer(e);i&&i.option(t),this._options.cache(e.name,t)},_bindInnerWidgetOptions(i,e){let t=()=>this._options.silent(e,q({},i.option()));t(),i.on("optionChanged",t)},_getAriaTarget(){return this._focusTarget()},_initContentReadyAction(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initMarkup(){let{disabled:i,visible:e}=this.option();this.$element().addClass("dx-widget"),this._toggleDisabledState(i),this._toggleVisibility(e),this._renderHint(),this._isFocusable()&&this._renderFocusTarget(),this.callBase()},_render(){this.callBase(),this._renderContent(),this._renderFocusState(),this._attachFeedbackEvents(),this._attachHoverEvents(),this._toggleIndependentState()},_renderHint(){let{hint:i}=this.option();this.$element().attr("title",i||null)},_renderContent(){jn(()=>this._disposed?void 0:this._renderContentImpl()).done(()=>this._disposed?void 0:this._fireContentReadyAction())},_renderContentImpl:pe,_fireContentReadyAction:sd(function(){return this._contentReadyAction()}),_dispose(){this._contentReadyAction=null,this._detachKeyboardEvents(),this.callBase()},_resetActiveState(){this._toggleActiveState(this._eventBindingTarget(),!1)},_clean(){this._cleanFocusState(),this._resetActiveState(),this.callBase(),this.$element().empty()},_toggleVisibility(i){this.$element().toggleClass("dx-state-invisible",!i)},_renderFocusState(){this._attachKeyboardEvents(),this._isFocusable()&&(this._renderFocusTarget(),this._attachFocusEvents(),this._renderAccessKey())},_renderAccessKey(){let i=this._focusTarget(),{accessKey:e}=this.option();i.attr("accesskey",e)},_isFocusable(){let{focusStateEnabled:i,disabled:e}=this.option();return i&&!e},_eventBindingTarget(){return this.$element()},_focusTarget(){return this._getActiveElement()},_isFocusTarget:function(i){return I(this._focusTarget()).toArray().includes(i)},_findActiveTarget(i){return i.find(this._activeStateUnit).not(".dx-state-disabled")},_getActiveElement(){let i=this._eventBindingTarget();return this._activeStateUnit?this._findActiveTarget(i):i},_renderFocusTarget(){let{tabIndex:i}=this.option();this._focusTarget().attr("tabIndex",i)},_keyboardEventBindingTarget(){return this._eventBindingTarget()},_refreshFocusEvent(){this._detachFocusEvents(),this._attachFocusEvents()},_focusEventTarget(){return this._focusTarget()},_focusInHandler(i){i.isDefaultPrevented()||this._createActionByOption("onFocusIn",{beforeExecute:()=>this._updateFocusState(i,!0),excludeValidators:["readOnly"]})({event:i})},_focusOutHandler(i){i.isDefaultPrevented()||this._createActionByOption("onFocusOut",{beforeExecute:()=>this._updateFocusState(i,!1),excludeValidators:["readOnly","disabled"]})({event:i})},_updateFocusState(i,e){let{target:t}=i;this._isFocusTarget(t)&&this._toggleFocusClass(e,I(t))},_toggleFocusClass(i,e){(e&&e.length?e:this._focusTarget()).toggleClass("dx-state-focused",i)},_hasFocusClass(i){return I(i||this._focusTarget()).hasClass("dx-state-focused")},_isFocused(){return this._hasFocusClass()},_getKeyboardListeners:()=>[],_attachKeyboardEvents(){this._detachKeyboardEvents();let{focusStateEnabled:i,onKeyboardHandled:e}=this.option(),t=this._getKeyboardListeners().length;(i||t||!!e)&&(this._keyboardListenerId=Fa.on(this._keyboardEventBindingTarget(),this._focusTarget(),r=>this._keyboardHandler(r)))},_keyboardHandler(i,e){if(!e){let{originalEvent:o,keyName:r,which:s}=i,a=this._supportedKeys(o),l=a[r]||a[s];if(l!==void 0&&!l.bind(this)(o,i))return!1}let t=this._getKeyboardListeners(),{onKeyboardHandled:n}=this.option();return t.forEach(o=>o&&o._keyboardHandler(i)),n&&n(i),!0},_refreshFocusState(){this._cleanFocusState(),this._renderFocusState()},_cleanFocusState(){this._focusTarget().removeAttr("tabIndex"),this._toggleFocusClass(!1),this._detachFocusEvents(),this._detachKeyboardEvents()},_detachKeyboardEvents(){Fa.off(this._keyboardListenerId),this._keyboardListenerId=null},_attachHoverEvents(){let{hoverStateEnabled:i}=this.option(),e=this._activeStateUnit,t=this._eventBindingTarget();uR.off(t,{selector:e,namespace:"UIFeedback"}),i&&uR.on(t,new gl(n=>{let{event:o,element:r}=n;this._hoverStartHandler(o),this.option("hoveredElement",I(r))},{excludeValidators:["readOnly"]}),n=>{this.option("hoveredElement",null),this._hoverEndHandler(n)},{selector:e,namespace:"UIFeedback"})},_attachFeedbackEvents(){let{activeStateEnabled:i}=this.option(),e=this._activeStateUnit,t=this._eventBindingTarget();cR.off(t,{namespace:"UIFeedback",selector:e}),i&&cR.on(t,new gl(n=>{let{event:o,element:r}=n;return this._toggleActiveState(I(r),!0,o)}),new gl(n=>{let{event:o,element:r}=n;return this._toggleActiveState(I(r),!1,o)},{excludeValidators:["disabled","readOnly"]}),{showTimeout:this._feedbackShowTimeout,hideTimeout:this._feedbackHideTimeout,selector:e,namespace:"UIFeedback"})},_detachFocusEvents(){let i=this._focusEventTarget();Xm.off(i,{namespace:`${this.NAME}Focus`})},_attachFocusEvents(){let i=this._focusEventTarget();Xm.on(i,e=>this._focusInHandler(e),e=>this._focusOutHandler(e),{namespace:`${this.NAME}Focus`,isFocusable:(e,t)=>I(t).is(Rb)})},_hoverStartHandler:pe,_hoverEndHandler:pe,_toggleActiveState(i,e){this.option("isActive",e),i.toggleClass("dx-state-active",e)},_updatedHover(){let i=this._options.silent("hoveredElement");this._hover(i,i)},_findHoverTarget(i){return i&&i.closest(this._activeStateUnit||this._eventBindingTarget())},_hover(i,e){let{hoverStateEnabled:t,disabled:n,isActive:o}=this.option();if(e=this._findHoverTarget(e),e&&e.toggleClass("dx-state-hover",!1),i&&t&&!n&&!o){let r=this._findHoverTarget(i);r&&r.toggleClass("dx-state-hover",!0)}},_toggleDisabledState(i){this.$element().toggleClass("dx-state-disabled",!!i),this.setAria("disabled",i||void 0)},_toggleIndependentState(){this.$element().toggleClass("dx-state-independent",this.option("ignoreParentReadOnly"))},_setWidgetOption(i,e){if(!this[i])return;if(ht(e[0])){ee(e[0],(r,s)=>this._setWidgetOption(i,[r,s]));return}let t=e[0],n=e[1];e.length===1&&(n=this.option(t));let o=this[`${i}OptionMap`];this[i].option(o?o(t):t,n)},_optionChanged(i){let{name:e,value:t,previousValue:n}=i;switch(e){case"disabled":this._toggleDisabledState(t),this._updatedHover(),this._refreshFocusState();break;case"hint":this._renderHint();break;case"ignoreParentReadOnly":this._toggleIndependentState();break;case"activeStateEnabled":this._attachFeedbackEvents();break;case"hoverStateEnabled":this._attachHoverEvents(),this._updatedHover();break;case"tabIndex":case"focusStateEnabled":this._refreshFocusState();break;case"onFocusIn":case"onFocusOut":case"useResizeObserver":break;case"accessKey":this._renderAccessKey();break;case"hoveredElement":this._hover(t,n);break;case"isActive":this._updatedHover();break;case"visible":this._toggleVisibility(t),this._isVisibilityChangeSupported()&&this._checkVisibilityChanged(t?"shown":"hiding");break;case"onKeyboardHandled":this._attachKeyboardEvents();break;case"onContentReady":this._initContentReadyAction();break;default:this.callBase(i)}},_isVisible(){let{visible:i}=this.option();return this.callBase()&&i},beginUpdate(){this._ready(!1),this.callBase()},endUpdate(){this.callBase(),this._initialized&&this._ready(!0)},_ready(i){if(arguments.length===0)return this._isReady;this._isReady=i},setAria(){if(!ht(arguments.length<=0?void 0:arguments[0]))F7(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],(arguments.length<=2?void 0:arguments[2])||this._getAriaTarget());else{let i=(arguments.length<=1?void 0:arguments[1])||this._getAriaTarget();ee(arguments.length<=0?void 0:arguments[0],(e,t)=>F7(e,t,i))}},isReady(){return this._ready()},repaint(){this._refresh()},focus(){Xm.trigger(this._focusTarget())},registerKeyHandler(i,e){let t=this._supportedKeys();this._supportedKeys=()=>q(t,{[i]:e})}});TR.getOptionsFromContainer=i=>{let{name:e,fullName:t,value:n}=i,o={};if(e===t)o=n;else{let r=t.split(".").pop();o[r]=n}return o};var Tn=TR;var V0e=xc();var P7=Tn.inherit({_getDefaultOptions(){return q(this.callBase(),{indicatorSrc:"",activeStateEnabled:!1,hoverStateEnabled:!1,_animatingSegmentCount:1,_animatingSegmentInner:!1})},_defaultOptionsRules(){let i=oo();return this.callBase().concat([{device(){return Ve.real().platform==="android"&&!/chrome/i.test(V0e.userAgent)},options:{viaImage:!0}},{device:()=>xo(i),options:{_animatingSegmentCount:2,_animatingSegmentInner:!0}},{device:()=>eS(i),options:{_animatingSegmentCount:7}}])},_useTemplates:()=>!1,_init(){this.callBase(),this.$element().addClass("dx-loadindicator");let e={role:"alert",label:de.format("Loading")};this.setAria(e)},_initMarkup(){this.callBase(),this._renderWrapper(),this._renderIndicatorContent(),this._renderMarkup()},_renderWrapper(){this._$wrapper=I("<div>").addClass("dx-loadindicator-wrapper"),this.$element().append(this._$wrapper)},_renderIndicatorContent(){this._$content=I("<div>").addClass("dx-loadindicator-content"),this._$wrapper.append(this._$content)},_renderMarkup(){let{viaImage:i,indicatorSrc:e}=this.option();Qw()&&!i&&!e?this._renderMarkupForAnimation():this._renderMarkupForImage()},_renderMarkupForAnimation(){let i=this.option("_animatingSegmentInner");this._$indicator=I("<div>").addClass("dx-loadindicator-icon"),this._$content.append(this._$indicator);for(let e=this.option("_animatingSegmentCount");e>=0;--e){let t=I("<div>").addClass("dx-loadindicator-segment").addClass("dx-loadindicator-segment"+e);i&&t.append(I("<div>").addClass("dx-loadindicator-segment-inner")),this._$indicator.append(t)}},_renderMarkupForImage(){let{indicatorSrc:i}=this.option();i?(this._$wrapper.addClass("dx-loadindicator-image"),this._$wrapper.css("backgroundImage",`url(${i})`)):Qw()&&this._renderMarkupForAnimation()},_renderDimensions(){this.callBase(),this._updateContentSizeForAnimation()},_updateContentSizeForAnimation(){if(!this._$indicator)return;let i=this.option("width"),e=this.option("height");if(i||e){i=Qe(this.$element()),e=ft(this.$element());let t=Math.min(e,i);this._$wrapper.css({height:t,width:t,fontSize:t})}},_clean(){this.callBase(),this._removeMarkupForAnimation(),this._removeMarkupForImage()},_removeMarkupForAnimation(){this._$indicator&&(this._$indicator.remove(),delete this._$indicator)},_removeMarkupForImage(){this._$wrapper.css("backgroundImage","none")},_optionChanged(i){switch(i.name){case"_animatingSegmentCount":case"_animatingSegmentInner":case"indicatorSrc":this._invalidate();break;default:this.callBase(i)}}});ut("dxLoadIndicator",P7);var L7=P7;var qo=L7;var H0e=/matrix(3d)?\((.+?)\)/,z0e=/translate(?:3d)?\((.+?)\)/,ar=function(i){i=I(i);let e=Vb(i);return{left:e.x,top:e.y}};function mS(i){return or(i)==="string"&&i[i.length-1]==="%"}function N7(i,e){i.length&&Zi(i.get(0),"dxTranslator",e)}var gS=function(i){i.length&&ih(i.get(0),"dxTranslator")},Qm=function(i){i.x=i.x||0,i.y=i.y||0;let e=mS(i.x)?i.x:i.x+"px",t=mS(i.y)?i.y:i.y+"px";return"translate("+e+", "+t+")"},Vb=function(i){let e=i.length?Zi(i.get(0),"dxTranslator"):null;if(!e){let n=(i.css("transform")||Qm({x:0,y:0})).match(H0e),o=n&&n[1];n?(n=n[2].split(","),o==="3d"?n=n.slice(12,15):(n.push(0),n=n.slice(4,7))):n=[0,0,0],e={x:parseFloat(n[0]),y:parseFloat(n[1]),z:parseFloat(n[2])},N7(i,e)}return e},In=function(i,e){i=I(i);let t=e.left,n=e.top,o;t===void 0?(o=Vb(i),o.y=n||0):n===void 0?(o=Vb(i),o.x=t||0):(o={x:t||0,y:n||0,z:0},N7(i,o)),i.css({transform:Qm(o)}),(mS(t)||mS(n))&&gS(i)},hd=function(i,e){i=I(i);let t,n={left:0,top:0,transform:"none"};e&&(t=i.css("transition"),n.transition="none"),i.css(n),gS(i),e&&(i.get(0).offsetHeight,i.css("transition",t))},B7=function(i){let e=i.match(z0e);if(!(!e||!e[1]))return e=e[1].split(","),e={x:parseFloat(e[0]),y:parseFloat(e[1]),z:parseFloat(e[2])},e};var V7=/cubic-bezier\((\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\)/,H7={linear:"cubic-bezier(0, 0, 1, 1)",swing:"cubic-bezier(0.445, 0.05, 0.55, 0.95)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)"},j0e=function(i,e,t,n){let o=3*i,r=3*(t-i)-o,s=1-o-r,a=3*e,l=3*(n-e)-a,d=1-a-l,c=function(h){return h*(o+h*(r+h*s))},u=function(h){return o+h*(2*r+3*h*s)};return function(h){return function(f){return f*(a+f*(l+f*d))}(function(f){let p=f,m=0,g;for(;m<14&&(g=c(p)-f,!(Math.abs(g)<.001));)p-=g/u(p),m++;return p}(h))}},AR={},z7=function(i){i=H7[i]||i;let e=i.match(V7),t;e||(t="linear",e=H7[t].match(V7)),e=e.slice(1,5);for(let o=0;o<e.length;o++)e[o]=parseFloat(e[o]);let n=t||"cubicbezier_"+e.join("_").replace(/\./g,"p");return Ie(AR[n])||(AR[n]=function(o,r,s,a,l){return a*j0e(e[0],e[1],e[2],e[3])(r/l)+s}),n};function j7(i){return AR[i]}var Ar=i=>i??ui().rtlEnabled?"right":"left",un=i=>ln(i)?{width:i.outerWidth,height:i.outerHeight}:i.getBoundingClientRect();var $7=et(),$0e=/left|right/,W0e=/top|bottom/,W7=/fit|flip|none/,U0e=/scale\(.+?\)/,G0e=gi.safari,kR=function(i){let e={h:"center",v:"center"},t=ad(i);return t&&ee(t,function(){let n=String(this).toLowerCase();$0e.test(n)?e.h=n:W0e.test(n)&&(e.v=n)}),e},U7=function(i,e){return Dw(i,e)},K0e=function(i){let e=ad(i),t=String(e&&e[0]).toLowerCase(),n=String(e&&e[1]).toLowerCase();return W7.test(t)||(t="none"),W7.test(n)||(n=t),{h:t,v:n}},G7=function(i){switch(i){case"center":return .5;case"right":case"bottom":return 1;default:return 0}},MR=function(i){switch(i){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top";default:return i}},RR=function(i,e){let t=0;return i.myLocation<e.min&&(t+=e.min-i.myLocation),i.myLocation>e.max&&(t+=i.myLocation-e.max),t},K7=function(i,e,t){return e.myLocation<t.min?i==="h"?"left":"top":e.myLocation>t.max?i==="h"?"right":"bottom":"none"},FR=function(i){i.myLocation=i.atLocation+G7(i.atAlign)*i.atSize-G7(i.myAlign)*i.mySize+i.offset},_S={fit:function(i,e){let t=!1;i.myLocation>e.max&&(i.myLocation=e.max,t=!0),i.myLocation<e.min&&(i.myLocation=e.min,t=!0),i.fit=t},flip:function(i,e){if(i.flip=!1,!(i.myAlign==="center"&&i.atAlign==="center")&&(i.myLocation<e.min||i.myLocation>e.max)){let t=q({},i,{myAlign:MR(i.myAlign),atAlign:MR(i.atAlign),offset:-i.offset});FR(t),t.oversize=RR(t,e),(t.myLocation>=e.min&&t.myLocation<=e.max||i.oversize>t.oversize)&&(i.myLocation=t.myLocation,i.oversize=t.oversize,i.flip=!0)}},flipfit:function(i,e){this.flip(i,e),this.fit(i,e)},none:function(i){i.oversize=0}},Y7,X7=function(){let i=I("<div>").css({width:100,height:100,overflow:"scroll",position:"absolute",top:-9999}).appendTo(I("body")),e=i.get(0).offsetWidth-i.get(0).clientWidth;i.remove(),Y7=e},q0e={h:{location:0,flip:!1,fit:!1,oversize:0},v:{location:0,flip:!1,fit:!1,oversize:0}},Z7=function(i,e){let t=I(i),n=t.offset(),o=q(!0,{},q0e,{h:{location:n.left},v:{location:n.top}});if(!e)return o;let r=kR(e.my),s=kR(e.at),a=I(e.of).length&&e.of||$7,l=U7(e.offset,e.precise),d=K0e(e.collision),c=e.boundary,u=U7(e.boundaryOffset,e.precise),h={mySize:Ft(t),myAlign:r.h,atAlign:s.h,offset:l.h,collision:d.h,boundaryOffset:u.h},f={mySize:Ct(t),myAlign:r.v,atAlign:s.v,offset:l.v,collision:d.v,boundaryOffset:u.v};if(a.preventDefault)h.atLocation=a.pageX,f.atLocation=a.pageY,h.atSize=0,f.atSize=0;else if(a=I(a),ln(a[0]))h.atLocation=a.scrollLeft(),f.atLocation=a.scrollTop(),Ve.real().deviceType==="phone"&&a[0].visualViewport?(h.atLocation=Math.max(h.atLocation,a[0].visualViewport.offsetLeft),f.atLocation=Math.max(f.atLocation,a[0].visualViewport.offsetTop),h.atSize=a[0].visualViewport.width,f.atSize=a[0].visualViewport.height):(h.atSize=a[0].innerWidth>a[0].outerWidth?a[0].innerWidth:Qe(a),f.atSize=a[0].innerHeight>a[0].outerHeight||G0e?a[0].innerHeight:ft(a));else if(a[0].nodeType===9)h.atLocation=0,f.atLocation=0,h.atSize=Qe(a),f.atSize=ft(a);else{let g=un(a.get(0)),b=bS(a);h.atLocation=b.left,f.atLocation=b.top,h.atSize=Math.max(g.width,Ft(a)),f.atSize=Math.max(g.height,Ct(a))}FR(h),FR(f);let p=function(){let g=I($7),b=Qe(g),x=ft(g),E=g.scrollLeft(),D=g.scrollTop(),L=be.getDocumentElement(),k=Ta?L.clientWidth/b:1,R=Ta?L.clientHeight/x:1;Y7===void 0&&X7();let N=b,z=x;if(c&&!ln(c)){let V=I(c),S=V.offset();E=S.left,D=S.top,N=Qe(V),z=ft(V)}return{h:{min:E+h.boundaryOffset,max:E+N/k-h.mySize-h.boundaryOffset},v:{min:D+f.boundaryOffset,max:D+z/R-f.mySize-f.boundaryOffset}}}();h.oversize=RR(h,p.h),f.oversize=RR(f,p.v),h.collisionSide=K7("h",h,p.h),f.collisionSide=K7("v",f,p.v),_S[h.collision]&&_S[h.collision](h,p.h),_S[f.collision]&&_S[f.collision](f,p.v);let m=function(g){return e.precise?g:Math.round(g)};return q(!0,o,{h:{location:m(h.myLocation),oversize:m(h.oversize),fit:h.fit,flip:h.flip,collisionSide:h.collisionSide},v:{location:m(f.myLocation),oversize:m(f.oversize),fit:f.fit,flip:f.flip,collisionSide:f.collisionSide},precise:e.precise}),o},q7=function(i,e,t,n){let o=U(i.style)&&!be.isNode(i.style),r=n?t.replace(e,""):t;if(o)jw(i,r,!1);else{let s=be.createAttribute("style");s.value=r,i.setAttributeNode(s)}},bS=function(i){var e,t;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i,o=n.get(0);if(!o)return i.offset();let r=((e=o.getAttribute)===null||e===void 0?void 0:e.call(o,"style"))||"",s=(t=r.match(U0e))===null||t===void 0?void 0:t[0],a;return s?(q7(o,s,r,!0),a=bS(i,n.parent()),q7(o,s,r,!1)):a=bS(i,n.parent()),a},Hb=function(i,e){let t=I(i);if(!e)return t.offset();hd(t,!0);let n=bS(t),o=e.h&&e.v?e:Z7(t,e),r=function(s){return e.precise?s:Math.round(s)};return In(t,{left:o.h.location-r(n.left),top:o.v.location-r(n.top)}),o},Y0e=function(i){return i=I(i).get(0),ln(i)?null:i&&"pageY"in i&&"pageX"in i?{top:i.pageY,left:i.pageX}:I(i).offset()};Hb.inverseAlign||(Hb.inverseAlign=MR);Hb.normalizeAlign||(Hb.normalizeAlign=kR);var lr={calculateScrollbarWidth:X7,calculate:Z7,setup:Hb,offset:Y0e};var J7=et(),zb=Se(Io,"dxFX"),X0e=/^([+-])=(.*)/i,jb="dxAnimData",HR="dxAnimQueue";var Z0e={initAnimation:function(i,e){i.css({transitionProperty:"none"}),typeof e.from=="string"?i.addClass(e.from):VR(i,e.from);let t=this,n=new le,o=e.cleanupWhen;e.transitionAnimation={deferred:n,finish:function(){t._finishTransition(i),o?Be(n,o).always(function(){t._cleanup(i,e)}):t._cleanup(i,e),n.resolveWith(i,[e,i])}},this._completeAnimationCallback(i,e).done(function(){e.transitionAnimation.finish()}).fail(function(){n.rejectWith(i,[e,i])}),e.duration||e.transitionAnimation.finish(),i.css("transform")},animate:function(i,e){return this._startAnimation(i,e),e.transitionAnimation.deferred.promise()},_completeAnimationCallback:function(i,e){let t=this,n=Date.now()+e.delay,o=new le,r=new le,s=new le,a,l=zM()+".dxFX";e.transitionAnimation.cleanup=function(){clearTimeout(a),clearTimeout(d),X.off(i,l),X.off(i,zb)},X.one(i,l,function(){Date.now()-n>=e.duration&&r.reject()}),X.off(i,zb),X.on(i,zb,function(){t.stop(i,e),o.reject()});let d=setTimeout(function(){a=setTimeout(function(){s.reject()},e.duration+e.delay+$b._simulatedTransitionEndDelay),Be(r,s).fail((function(){o.resolve()}).bind(this))});return o.promise()},_startAnimation:function(i,e){i.css({transitionProperty:"all",transitionDelay:e.delay+"ms",transitionDuration:e.duration+"ms",transitionTimingFunction:e.easing}),typeof e.to=="string"?i[0].className+=" "+e.to:e.to&&VR(i,e.to)},_finishTransition:function(i){i.css("transition","none")},_cleanup:function(i,e){e.transitionAnimation.cleanup(),typeof e.from=="string"&&(i.removeClass(e.from),i.removeClass(e.to))},stop:function(i,e,t){e&&(t?e.transitionAnimation.finish():(ht(e.to)&&ee(e.to,function(n){i.css(n,i.css(n))}),this._finishTransition(i),this._cleanup(i,e)))}},Q7={initAnimation:function(i,e){VR(i,e.from)},animate:function(i,e){let t=new le,n=this;return e?(ee(e.to,function(o){e.from[o]===void 0&&(e.from[o]=n._normalizeValue(i.css(o)))}),e.to.transform&&(e.from.transform=n._parseTransform(e.from.transform),e.to.transform=n._parseTransform(e.to.transform)),e.frameAnimation={to:e.to,from:e.from,currentValue:e.from,easing:z7(e.easing),duration:e.duration,startTime:new Date().valueOf(),finish:function(){this.currentValue=this.to,this.draw(),ta(e.frameAnimation.animationFrameId),t.resolve()},draw:function(){if(e.draw){e.draw(this.currentValue);return}let o=q({},this.currentValue);o.transform&&(o.transform=tn(o.transform,function(r,s){if(s==="translate")return Qm(r);if(s==="scale")return"scale("+r+")";if(s.substr(0,s.length-1)==="rotate")return s+"("+r+"deg)"}).join(" ")),i.css(o)}},e.delay?(e.frameAnimation.startTime+=e.delay,e.frameAnimation.delayTimeout=setTimeout(function(){n._startAnimation(i,e)},e.delay)):n._startAnimation(i,e),t.promise()):t.reject().promise()},_startAnimation:function(i,e){X.off(i,zb),X.on(i,zb,function(){e.frameAnimation&&ta(e.frameAnimation.animationFrameId)}),this._animationStep(i,e)},_parseTransform:function(i){let e={};return ee(i.match(/\w+\d*\w*\([^)]*\)\s*/g),function(t,n){let o=B7(n),r=n.match(/scale\((.+?)\)/),s=n.match(/(rotate.)\((.+)deg\)/);o&&(e.translate=o),r&&r[1]&&(e.scale=parseFloat(r[1])),s&&s[1]&&(e[s[1]]=parseFloat(s[2]))}),e},stop:function(i,e,t){let n=e&&e.frameAnimation;n&&(ta(n.animationFrameId),clearTimeout(n.delayTimeout),t&&n.finish(),delete e.frameAnimation)},_animationStep:function(i,e){let t=e&&e.frameAnimation;if(!t)return;let n=new Date().valueOf();if(n>=t.startTime+t.duration){t.finish();return}t.currentValue=this._calcStepValue(t,n-t.startTime),t.draw();let o=this;t.animationFrameId=ch(function(){o._animationStep(i,e)})},_calcStepValue:function(i,e){let t=function(n,o){let r=Array.isArray(o)?[]:{};return ee(o,function(s,a){if(typeof a=="string"&&parseFloat(a)===!1)return!0;r[s]=typeof a=="object"?t(n[s],a):function(l){let d=e/i.duration,c=e,u=1*n[l],h=o[l]-n[l],f=i.duration;return j7(i.easing)(d,c,u,h,f)}(s)}),r};return t(i.from,i.to)},_normalizeValue:function(i){let e=parseFloat(i);return e===!1?i:e}},Q0e={initAnimation:function(){},animate:function(){return new le().resolve().promise()},stop:pe,isSynchronous:!0},J0e=function(i){i=i||{};let e={transition:Zw()?Z0e:Q7,frame:Q7,noAnimation:Q0e},t=i.strategy||"transition";return i.type==="css"&&!Zw()&&(t="noAnimation"),e[t]},e$=function(i,e,t,n){ee(["from","to"],function(){if(!t(i[this]))throw qt.Error("E0010",e,this,n)})},t$=function(i,e){return e$(i,e,function(t){return ht(t)},"a plain object")},ebe=function(i,e){return e$(i,e,function(t){return typeof t=="string"},"a string")},tbe={setup:function(){}},ibe={validateConfig:function(i){ebe(i,"css")},setup:function(){}},nbe={top:{my:"bottom center",at:"top center"},bottom:{my:"top center",at:"bottom center"},right:{my:"left center",at:"right center"},left:{my:"right center",at:"left center"}},PR={validateConfig:function(i){t$(i,"slide")},setup:function(i,e){let t=ar(i);if(e.type!=="slide"){let n=e.type==="slideIn"?e.from:e.to;n.position=q({of:J7},nbe[e.direction]),BR(i,n)}this._setUpConfig(t,e.from),this._setUpConfig(t,e.to),gS(i)},_setUpConfig:function(i,e){e.left="left"in e?e.left:"+=0",e.top="top"in e?e.top:"+=0",this._initNewPosition(i,e)},_initNewPosition:function(i,e){let t={left:e.left,top:e.top};delete e.left,delete e.top;let n=this._getRelativeValue(t.left);n!==void 0?t.left=n+i.left:e.left=0,n=this._getRelativeValue(t.top),n!==void 0?t.top=n+i.top:e.top=0,e.transform=Qm({x:t.left,y:t.top})},_getRelativeValue:function(i){let e;if(typeof i=="string"&&(e=X0e.exec(i)))return parseInt(e[1]+"1")*e[2]}},LR={setup:function(i,e){let t=e.from,n=e.to,o=e.type==="fadeOut"?1:0,r=e.type==="fadeOut"?0:1,s=ht(t)?String(t.opacity??o):String(t),a=ht(n)?String(n.opacity??r):String(n);switch(e.skipElementInitialStyles||(s=i.css("opacity")),e.type){case"fadeIn":a=1;break;case"fadeOut":a=0}e.from={visibility:"visible",opacity:s},e.to={opacity:a}}},obe={validateConfig:function(i){t$(i,"pop")},setup:function(i,e){let t=e.from,n=e.to,o="opacity"in t?t.opacity:i.css("opacity"),r="opacity"in n?n.opacity:1,s="scale"in t?t.scale:0,a="scale"in n?n.scale:1;e.from={opacity:o};let l=Vb(i);e.from.transform=this._getCssTransform(l,s),e.to={opacity:r},e.to.transform=this._getCssTransform(l,a)},_getCssTransform:function(i,e){return Qm(i)+"scale("+e+")"}},i$={custom:tbe,slide:PR,slideIn:PR,slideOut:PR,fade:LR,fadeIn:LR,fadeOut:LR,pop:obe,css:ibe},rbe=function(i){let e=i$[i.type];if(!e)throw qt.Error("E0011",i.type);return e},sbe={type:"custom",from:{},to:{},duration:400,start:pe,complete:pe,easing:"ease",delay:0},abe={duration:400,easing:"ease",delay:0};function lbe(){let i=this.element,e=this.config;if(BR(i,e.from),BR(i,e.to),this.configurator.setup(i,e),i.data(jb,this),$b.off&&(e.duration=0,e.delay=0),this.strategy.initAnimation(i,e),e.start){let t=tt(i);e.start.apply(this,[t,e])}}var dbe=function(i){let e=i.element,t=i.config;if(e.removeData(jb),t.complete){let n=tt(e);t.complete.apply(this,[n,t])}i.deferred.resolveWith(this,[e,t])},cbe=function(){let i=this,e=i.element,t=i.config;return i.isStarted=!0,i.strategy.animate(e,t).done(function(){dbe(i)}).fail(function(){i.deferred.rejectWith(this,[e,t])})},ube=function(i){let e=this,t=e.element,n=e.config;clearTimeout(e.startTimeout),e.isStarted||e.start(),e.strategy.stop(t,n,i)},NR=Se(Io,"dxFXStartAnimation"),hbe=function(i){X.off(i.element,NR),X.on(i.element,NR,function(){$b.stop(i.element)}),i.deferred.always(function(){X.off(i.element,NR)})},n$=function(i,e){let t=e.type==="css"?abe:sbe,n=q(!0,{},t,e),o=rbe(n),r=J0e(n),s={element:I(i),config:n,configurator:o,strategy:r,isSynchronous:r.isSynchronous,setup:lbe,start:cbe,stop:ube,deferred:new le};return Ie(o.validateConfig)&&o.validateConfig(n),hbe(s),s},pbe=function(i,e){let t=I(i);if(!t.length)return new le().resolve().promise();let n=n$(t,e);return fbe(t,n),n.deferred.promise()};function fbe(i,e){let t=zR(i);mbe(i,t),t.push(e),vS(i)||jR(i,t)}function zR(i){return i.data(HR)||[]}function mbe(i,e){i.data(HR,e)}var o$=function(i){i.removeData(HR)};function vS(i){return!!i.data(jb)}function jR(i,e){if(e=zR(i),!e.length)return;let t=e.shift();e.length===0&&o$(i),gbe(t).done(function(){vS(i)||jR(i)})}function gbe(i){return i.setup(),$b.off||i.isSynchronous?i.start():i.startTimeout=setTimeout(function(){i.start()}),i.deferred.promise()}function BR(i,e){if(!e||!e.position)return;let t=I(J7),n=0,o=0,r=lr.calculate(i,e.position),s=i.offset(),a=i.position();a.top>s.top&&(o=t.scrollTop()),a.left>s.left&&(n=t.scrollLeft()),q(e,{left:r.h.location-s.left+a.left-n,top:r.v.location-s.top+a.top-o}),delete e.position}function VR(i,e){ee(e,function(t,n){try{i.css(t,Ie(n)?n():n)}catch{}})}var _be=function(i,e){let t=I(i),n=zR(t);ee(n,function(r,s){s.config.delay=0,s.config.duration=0,s.isSynchronous=!0}),vS(t)||jR(t,n);let o=t.data(jb);o&&o.stop(e),t.removeData(jb),o$(t)},$b={off:!1,animationTypes:i$,animate:pbe,createAnimation:n$,isAnimating:vS,stop:_be,_simulatedTransitionEndDelay:100},hn=$b;var bbe=Do.add,r$=Math.abs;var yS=10;var vbe=function(){return fl("pointer-events")},ybe=Wr(function(){let i=Ve.real().deviceType==="desktop";if(!vbe()||!i)return pe;let e=I("<div>").addClass("dx-gesture-cover").css("pointerEvents","none");return X.subscribeGlobal(e,"dxmousewheel",function(t){t.preventDefault()}),bbe(function(){e.appendTo("body")}),function(t,n){e.css("pointerEvents",t?"all":"none"),t&&e.css("cursor",n)}}),xbe=function(i,e){ybe()(i,e)},$R=uh.inherit({gesture:!0,configure:function(i){this.getElement().css("msTouchAction",i.immediate?"pinch-zoom":""),this.callBase(i)},allowInterruptionByMouseWheel:function(){return this._stage!==2},getDirection:function(){return this.direction},_cancel:function(){this.callBase.apply(this,arguments),this._toggleGestureCover(!1),this._stage=0},start:function(i){if(i._needSkipEvent||aS(i)){this._cancel(i);return}this._startEvent=bl(i),this._startEventData=On(i),this._stage=1,this._init(i),this._setupImmediateTimer()},_setupImmediateTimer:function(){if(clearTimeout(this._immediateTimer),this._immediateAccepted=!1,!!this.immediate){if(this.immediateTimeout===0){this._immediateAccepted=!0;return}this._immediateTimer=setTimeout((function(){this._immediateAccepted=!0}).bind(this),this.immediateTimeout??180)}},move:function(i){if(this._stage===1&&this._directionConfirmed(i)){if(this._stage=2,this._resetActiveElement(),this._toggleGestureCover(!0),this._clearSelection(i),this._adjustStartEvent(i),this._start(this._startEvent),this._stage===0)return;this._requestAccept(i),this._move(i),this._forgetAccept()}else this._stage===2&&(this._clearSelection(i),this._move(i))},_directionConfirmed:function(i){let e=this._getTouchBoundary(i),t=ud(this._startEventData,On(i)),n=r$(t.x),o=r$(t.y),r=this._validateMove(e,n,o),s=this._validateMove(e,o,n),a=this.getDirection(i);return a==="both"&&(r||s)||a==="horizontal"&&r||a==="vertical"&&s||this._immediateAccepted},_validateMove:function(i,e,t){return e&&e>=i&&(this.immediate?e>=t:!0)},_getTouchBoundary:function(i){return this.immediate||sr(i)?0:yS},_adjustStartEvent:function(i){let e=this._getTouchBoundary(i),t=ud(this._startEventData,On(i));this._startEvent.pageX+=pl(t.x)*e,this._startEvent.pageY+=pl(t.y)*e},_resetActiveElement:function(){Ve.real().platform==="ios"&&this.getElement().find(":focus").length&&ka()},_toggleGestureCover:function(i){this._toggleGestureCoverImpl(i)},_toggleGestureCoverImpl:function(i){this._stage===2&&xbe(i,this.getElement().css("cursor"))},_clearSelection:function(i){sr(i)||Ec(i)||C9()},end:function(i){this._toggleGestureCover(!1),this._stage===2?this._end(i):this._stage===1&&this._stop(i),this._stage=0},dispose:function(){clearTimeout(this._immediateTimer),this.callBase.apply(this,arguments),this._toggleGestureCover(!1)},_init:pe,_start:pe,_move:pe,_stop:pe,_end:pe});$R.initialTouchBoundary=yS;$R.touchBoundary=function(i){if(U(i)){yS=i;return}return yS};var Jm=$R;var Dc="dxdragstart",yl="dxdrag",Tc="dxdragend",Wb="dxdragenter",Ub="dxdragleave",UR="dxdrop";var Ic=[],eg=[],WR=[],GR={setup:function(i,e){Ic.includes(i)||(Ic.push(i),eg.push([]),WR.push(e||{}))},add:function(i,e){let t=Ic.indexOf(i);this.updateEventsCounter(i,e.type,1);let n=e.selector;eg[t].includes(n)||eg[t].push(n)},updateEventsCounter:function(i,e,t){if([Wb,Ub,UR].indexOf(e)>-1){let n=Zi(i,"dxDragEventsCount")||0;Zi(i,"dxDragEventsCount",Math.max(0,n+t))}},remove:function(i,e){this.updateEventsCounter(i,e.type,-1)},teardown:function(i){if(!Zi(i,"dxDragEventsCount")){let t=Ic.indexOf(i);Ic.splice(t,1),eg.splice(t,1),WR.splice(t,1),ih(i,"dxDragEventsCount")}}};mr(Wb,GR);mr(Ub,GR);mr(UR,GR);var Cbe=function(i){let e=Ic.indexOf(i.get(0)),t=eg[e].filter(o=>o),n=i.find(t.join(", "));return eg[e].includes(void 0)&&(n=n.add(i)),n},wbe=function(i){let e=Ic.indexOf(i.get(0));return WR[e]},Sbe=function(i,e){return i.itemPositionFunc?i.itemPositionFunc(e):e.offset()},Ebe=function(i,e){return i.itemSizeFunc?i.itemSizeFunc(e):{width:e.get(0).getBoundingClientRect().width,height:e.get(0).getBoundingClientRect().height}},Obe=Jm.inherit({ctor:function(i){this.callBase(i),this.direction="both"},_init:function(i){this._initEvent=i},_start:function(i){if(i=this._fireEvent("dxdragstart",this._initEvent),this._maxLeftOffset=i.maxLeftOffset,this._maxRightOffset=i.maxRightOffset,this._maxTopOffset=i.maxTopOffset,this._maxBottomOffset=i.maxBottomOffset,i.targetElements||i.targetElements===null){let e=A9(i.targetElements||[]);this._dropTargets=tn(e,function(t){return I(t).get(0)})}else this._dropTargets=Ic},_move:function(i){let e=On(i),t=this._calculateOffset(e);i=this._fireEvent("dxdrag",i,{offset:t}),this._processDropTargets(i),i._cancelPreventDefault||i.preventDefault()},_calculateOffset:function(i){return{x:this._calculateXOffset(i),y:this._calculateYOffset(i)}},_calculateXOffset:function(i){if(this.direction!=="vertical"){let e=i.x-this._startEventData.x;return this._fitOffset(e,this._maxLeftOffset,this._maxRightOffset)}return 0},_calculateYOffset:function(i){if(this.direction!=="horizontal"){let e=i.y-this._startEventData.y;return this._fitOffset(e,this._maxTopOffset,this._maxBottomOffset)}return 0},_fitOffset:function(i,e,t){return e!=null&&(i=Math.max(i,-e)),t!=null&&(i=Math.min(i,t)),i},_processDropTargets:function(i){let e=this._findDropTarget(i);e===this._currentDropTarget||(this._fireDropTargetEvent(i,Ub),this._currentDropTarget=e,this._fireDropTargetEvent(i,Wb))},_fireDropTargetEvent:function(i,e){if(!this._currentDropTarget)return;let t={type:e,originalEvent:i,draggingElement:this._$element.get(0),target:this._currentDropTarget};Ur(t)},_findDropTarget:function(i){let e=this,t;return ee(Ic,function(n,o){if(!e._checkDropTargetActive(o))return;let r=I(o);ee(Cbe(r),function(s,a){let l=I(a);e._checkDropTarget(wbe(r),l,I(t),i)&&(t=a)})}),t},_checkDropTargetActive:function(i){let e=!1;return ee(this._dropTargets,function(t,n){return e=e||n===i||as(n,i),!e}),e},_checkDropTarget:function(i,e,t,n){if(e.get(0)===I(n.target).get(0))return!1;let r=Sbe(i,e);if(n.pageX<r.left||n.pageY<r.top)return!1;let s=Ebe(i,e);return n.pageX>r.left+s.width||n.pageY>r.top+s.height||t.length&&t.closest(e).length||i.checkDropTarget&&!i.checkDropTarget(e,n)?!1:e},_end:function(i){let e=On(i);this._fireEvent("dxdragend",i,{offset:this._calculateOffset(e)}),this._fireDropTargetEvent(i,UR),delete this._currentDropTarget}});La({emitter:Obe,events:["dxdragstart","dxdrag","dxdragend"]});var KR=function(){let i=[];return{add:function(e){i.includes(e)||i.push(e)},remove:function(e){let t=i.indexOf(e);t!==-1&&i.splice(t,1)},fire:function(){let e=i.pop(),t=!!e;return t&&e(),t},hasCallback:function(){return i.length>0}}}();var Ibe=i=>{let t=I(i).closest('[class^="dx-swatch-"], [class*=" dx-swatch-"]'),n=Qs();if(!t.length)return n;let o=new RegExp("(\\s|^)(dx-swatch-.*?)(\\s|$)"),r=t[0].className.match(o)[2],s=n.children("."+r);return s.length||(s=I("<div>").addClass(r).appendTo(n)),s},xS={getSwatchContainer:Ibe};var Dbe=et(),qR={top:{my:"top center",at:"top center"},bottom:{my:"bottom center",at:"bottom center"},right:{my:"right center",at:"right center"},left:{my:"left center",at:"left center"},center:{my:"center",at:"center"},"right bottom":{my:"right bottom",at:"right bottom"},"right top":{my:"right top",at:"right top"},"left bottom":{my:"left bottom",at:"left bottom"},"left top":{my:"left top",at:"left top"}},s$={h:0,v:0},tg=class{constructor(e){let{position:t,container:n,visualContainer:o,$root:r,$content:s,$wrapper:a,onPositioned:l,onVisualPositionChanged:d,restorePosition:c,_fixWrapperPosition:u,_skipContentPositioning:h}=e;this._props={position:t,container:n,visualContainer:o,restorePosition:c,onPositioned:l,onVisualPositionChanged:d,_fixWrapperPosition:u,_skipContentPositioning:h},this._$root=r,this._$content=s,this._$wrapper=a,this._$markupContainer=void 0,this._$visualContainer=void 0,this._shouldRenderContentInitialPosition=!0,this._visualPosition=void 0,this._initialPosition=void 0,this._previousVisualPosition=void 0,this.updateContainer(n),this.updatePosition(t),this.updateVisualContainer(o)}get $container(){return this.updateContainer(),this._$markupContainer}get $visualContainer(){return this._$visualContainer}get position(){return this._position}set fixWrapperPosition(e){this._props._fixWrapperPosition=e,this.styleWrapperPosition()}set restorePosition(e){this._props.restorePosition=e}restorePositionOnNextRender(e){this._shouldRenderContentInitialPosition=e||!this._visualPosition}openingHandled(){let e=this._props.restorePosition;this.restorePositionOnNextRender(e)}updatePosition(e){this._props.position=e,this._position=this._normalizePosition(e),this.updateVisualContainer()}updateContainer(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._props.container;this._props.container=e,this._$markupContainer=e?I(e):xS.getSwatchContainer(this._$root),this.updateVisualContainer(this._props.visualContainer)}updateVisualContainer(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._props.visualContainer;this._props.visualContainer=e,this._$visualContainer=this._getVisualContainer()}detectVisualPositionChange(e){this._updateVisualPositionValue(),this._raisePositionedEvents(e)}positionContent(){this._shouldRenderContentInitialPosition?this._renderContentInitialPosition():(In(this._$content,this._visualPosition),this.detectVisualPositionChange())}positionWrapper(){this._$visualContainer&&lr.setup(this._$wrapper,{my:"top left",at:"top left",of:this._$visualContainer})}styleWrapperPosition(){let t=ln(this.$visualContainer.get(0))||this._props._fixWrapperPosition?"fixed":"absolute";this._$wrapper.css("position",t)}_updateVisualPositionValue(){this._previousVisualPosition=this._visualPosition,this._visualPosition=ar(this._$content)}_renderContentInitialPosition(){this._renderBoundaryOffset(),hd(this._$content);let e=this._$wrapper.css("overflow");if(this._$wrapper.css("overflow","hidden"),!this._props._skipContentPositioning){let t=lr.setup(this._$content,this._position);this._initialPosition=t}this._$wrapper.css("overflow",e),this.detectVisualPositionChange()}_raisePositionedEvents(e){let t=this._previousVisualPosition,n=this._visualPosition;(t?.top!==n.top||t?.left!==n.left)&&this._props.onVisualPositionChanged({previousPosition:t,position:n,event:e}),this._props.onPositioned({position:this._initialPosition})}_renderBoundaryOffset(){let e=this._position??{boundaryOffset:s$};this._$content.css("margin",`${e.v}px ${e.h}px`)}_getVisualContainer(){var e,t;let n=this._props.container,o=this._props.visualContainer,r=mz((e=this._props.position)===null||e===void 0?void 0:e.of)?this._props.position.of.target:(t=this._props.position)===null||t===void 0?void 0:t.of;return o?I(o):n?I(n):r?I(r):I(Dbe)}_normalizePosition(e){let t={boundaryOffset:s$};return U(e)?q(!0,{},t,this._positionToObject(e)):t}_positionToObject(e){return We(e)?q({},qR[e]):e}};var CS=1500,mh=[],a$=i=>(CS=ji(i,CS),CS),wS=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:CS,{length:e}=mh,t=(e?mh[e-1]:i)+1;return mh.push(t),t},Gb=i=>{let e=mh.indexOf(i);e>=0&&mh.splice(e,1)},l$=i=>mh.length&&mh[mh.length-1]===i;var Tbe=Do.add,ig=et(),c$=Np;var YR=[];Tbe(()=>{X.subscribeGlobal(be.getDocument(),Mt.down,i=>{for(let e=YR.length-1;e>=0;e--)if(!YR[e]._proxiedDocumentDownHandler(i))return})});var SS=Tn.inherit({_supportedKeys(){return q(this.callBase(),{escape(){this.hide()}})},_getDefaultOptions(){return q(this.callBase(),{activeStateEnabled:!1,visible:!1,deferRendering:!0,shading:!0,shadingColor:"",wrapperAttr:{},position:q({},qR.center),width:"80vw",minWidth:null,maxWidth:null,height:"80vh",minHeight:null,maxHeight:null,animation:{show:{type:"pop",duration:300,from:{scale:.55}},hide:{type:"pop",duration:300,from:{opacity:1,scale:1},to:{opacity:0,scale:.55}}},closeOnOutsideClick:!1,hideOnOutsideClick:!1,_ignorePreventScrollEventsDeprecation:!1,onShowing:null,onShown:null,onHiding:null,onHidden:null,contentTemplate:"content",innerOverlay:!1,restorePosition:!0,container:void 0,visualContainer:void 0,hideTopOverlayHandler:()=>{this.hide()},hideOnParentScroll:!1,preventScrollEvents:!0,onPositioned:null,propagateOutsideClick:!1,ignoreChildEvents:!0,_checkParentVisibility:!0,_hideOnParentScrollTarget:void 0,_fixWrapperPosition:!1})},_defaultOptionsRules(){return this.callBase().concat([{device:()=>!it(),options:{width:null,height:null,animation:null,_checkParentVisibility:!1}}])},_setOptionsByReference(){this.callBase(),q(this._optionsByReference,{animation:!0})},$wrapper(){return this._$wrapper},_eventBindingTarget(){return this._$content},_setDeprecatedOptions(){this.callBase(),q(this._deprecatedOptions,{closeOnOutsideClick:{since:"22.1",alias:"hideOnOutsideClick"}})},ctor(i,e){this.callBase(i,e),e&&"preventScrollEvents"in e&&!e._ignorePreventScrollEventsDeprecation&&this._logDeprecatedPreventScrollEventsInfo()},_logDeprecatedPreventScrollEventsInfo(){this._logDeprecatedOptionWarning("preventScrollEvents",{since:"23.1",message:"If you enable this option, end-users may experience scrolling issues."})},_init(){this.callBase(),this._initActions(),this._initHideOnOutsideClickHandler(),this._initTabTerminatorHandler(),this._customWrapperClass=null,this._$wrapper=I("<div>").addClass("dx-overlay-wrapper"),this._$content=I("<div>").addClass("dx-overlay-content"),this._initInnerOverlayClass(),this.$element().addClass("dx-overlay"),this._$wrapper.attr("data-bind","dxControlsDescendantBindings: true"),this._toggleViewPortSubscription(!0),this._initHideTopOverlayHandler(this.option("hideTopOverlayHandler")),this._parentsScrollSubscriptionInfo={handler:e=>{this._hideOnParentsScrollHandler(e)}},this.warnPositionAsFunction()},warnPositionAsFunction(){Ie(this.option("position"))&&qt.log("W0018")},_initInnerOverlayClass(){this._$content.toggleClass("dx-inner-overlay",this.option("innerOverlay"))},_initHideTopOverlayHandler(i){this._hideTopOverlayHandler=i},_getActionsList:()=>["onShowing","onShown","onHiding","onHidden","onPositioned","onVisualPositionChanged"],_initActions(){this._actions={};let i=this._getActionsList();ee(i,(e,t)=>{this._actions[t]=this._createActionByOption(t,{excludeValidators:["disabled","readOnly"]})||pe})},_initHideOnOutsideClickHandler(){var i=this;this._proxiedDocumentDownHandler=function(){return i._documentDownHandler(...arguments)}},_initMarkup(){this.callBase(),this._renderWrapperAttributes(),this._initPositionController()},_documentDownHandler(i){this._showAnimationProcessing&&this._stopAnimation();let e=I(ig.document).is(i.target)||as(ig.document,i.target),t=I(i.target).closest(".dx-inner-overlay").length;return e&&!t&&!(this._$content.is(i.target)||as(this._$content.get(0),i.target))&&this._shouldHideOnOutsideClick(i)&&this._outsideClickHandler(i),this.option("propagateOutsideClick")},_shouldHideOnOutsideClick(i){let{hideOnOutsideClick:e}=this.option();return Ie(e)?e(i):e},_outsideClickHandler(i){this.option("shading")&&i.preventDefault(),this.hide()},_getAnonymousTemplateName:()=>"content",_initTemplates(){this._templateManager.addDefaultTemplates({content:new Fs}),this.callBase()},_isTopOverlay(){let i=this._overlayStack();for(let e=i.length-1;e>=0;e--){let t=i[e]._findTabbableBounds();if(t.first||t.last)return i[e]===this}return!1},_overlayStack:()=>YR,_zIndexInitValue:()=>SS.baseZIndex(),_toggleViewPortSubscription(i){var e=this;c$.remove(this._viewPortChangeHandle),i&&(this._viewPortChangeHandle=function(){e._viewPortChangeHandler(...arguments)},c$.add(this._viewPortChangeHandle))},_viewPortChangeHandler(){this._positionController.updateContainer(this.option("container")),this._refresh()},_renderWrapperAttributes(){let{wrapperAttr:i}=this.option(),e=q({},i),t=e.class;delete e.class,this.$wrapper().attr(e).removeClass(this._customWrapperClass).addClass(t),this._customWrapperClass=t},_renderVisibilityAnimate(i){return this._stopAnimation(),i?this._show():this._hide()},_getAnimationConfig(){return this._getOptionValue("animation",this)},_toggleBodyScroll:pe,_animateShowing(){var i=this;let e=this._getAnimationConfig()??{},t=this._normalizeAnimation(e.show,"to"),n=t?.start??pe,o=t?.complete??pe;this._animate(t,function(){if(!i._isAnimationPaused){i.option("focusStateEnabled")&&X.trigger(i._focusTarget(),"focus");for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];o.call(i,...s),i._showAnimationProcessing=!1,i._isHidden=!1,i._actions.onShown(),i._toggleSafariScrolling(),i._showingDeferred.resolve()}},function(){if(!i._isAnimationPaused){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];n.call(i,...s),i._showAnimationProcessing=!0}})},_processShowingHidingCancel(i,e,t){rd(i)?i.then(n=>{n?t():e()}).catch(()=>e()):i?t():e()},_show(){if(this._showingDeferred=le(),this._parentHidden=this._isParentHidden(),this._showingDeferred.done(()=>{delete this._parentHidden}),this._parentHidden)return this._isHidden=!0,this._showingDeferred.resolve();if(this._currentVisible)return le().resolve().promise();if(this._currentVisible=!0,this._isHidingActionCanceled)delete this._isHidingActionCanceled,this._showingDeferred.reject();else{let i=()=>{this._stopAnimation(),this._toggleBodyScroll(this.option("enableBodyScroll")),this._toggleVisibility(!0),this._$content.css("visibility","hidden"),this._$content.toggleClass("dx-state-invisible",!1),this._updateZIndexStackPosition(!0),this._positionController.openingHandled(),this._renderContent();let e={cancel:!1};this._actions.onShowing(e),this._processShowingHidingCancel(e.cancel,()=>{this._$content.css("visibility",""),this._renderVisibility(!0),this._animateShowing()},()=>{this._toggleVisibility(!1),this._$content.css("visibility",""),this._$content.toggleClass("dx-state-invisible",!0),this._isShowingActionCanceled=!0,this._moveFromContainer(),this._toggleBodyScroll(!0),this.option("visible",!1),this._showingDeferred.resolve()})};this.option("templatesRenderAsynchronously")?(this._stopShowTimer(),this._asyncShowTimeout=setTimeout(i)):i()}return this._showingDeferred.promise()},_normalizeAnimation(i,e){return i&&(i=q({type:"slide",skipElementInitialStyles:!0},i),Ke(i[e])&&q(i[e],{position:this._positionController.position})),i},_animateHiding(){var i=this;let e=this._getAnimationConfig()??{},t=this._normalizeAnimation(e.hide,"from"),n=t?.start??pe,o=t?.complete??pe;this._animate(t,function(){var r;i._$content.css("pointerEvents",""),i._renderVisibility(!1);for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];o.call(i,...a),i._hideAnimationProcessing=!1,(r=i._actions)===null||r===void 0||r.onHidden(),i._hidingDeferred.resolve()},function(){i._$content.css("pointerEvents","none");for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];n.call(i,...s),i._hideAnimationProcessing=!0})},_hide(){if(!this._currentVisible)return le().resolve().promise();this._currentVisible=!1,this._hidingDeferred=le();let i={cancel:!1};if(this._isShowingActionCanceled)delete this._isShowingActionCanceled,this._hidingDeferred.reject();else{this._actions.onHiding(i),this._toggleSafariScrolling(),this._toggleBodyScroll(!0);let e=()=>{this._isHidingActionCanceled=!0,this._toggleBodyScroll(this.option("enableBodyScroll")),this.option("visible",!0),this._hidingDeferred.resolve()},t=()=>{this._forceFocusLost(),this._toggleShading(!1),this._toggleSubscriptions(!1),this._stopShowTimer(),this._animateHiding()};this._processShowingHidingCancel(i.cancel,t,e)}return this._hidingDeferred.promise()},_forceFocusLost(){let i=be.getActiveElement();!!this._$content.find(i).length&&ka()},_animate(i,e,t){i?(t=t||i.start||pe,hn.animate(this._$content,q({},i,{start:t,complete:e}))):e()},_stopAnimation(){hn.stop(this._$content,!0)},_renderVisibility(i){i&&this._isParentHidden()||(this._currentVisible=i,this._stopAnimation(),i||O9(this._$content),i?(this._checkContainerExists(),this._moveToContainer(),this._renderGeometry(),Gm(this._$content),ls(this._$content)):(this._toggleVisibility(i),this._$content.toggleClass("dx-state-invisible",!i),this._updateZIndexStackPosition(i),this._moveFromContainer()),this._toggleShading(i),this._toggleSubscriptions(i))},_updateZIndexStackPosition(i){let e=this._overlayStack(),t=e.indexOf(this);i?(t===-1&&(this._zIndex=wS(this._zIndexInitValue()),e.push(this)),this._$wrapper.css("zIndex",this._zIndex),this._$content.css("zIndex",this._zIndex)):t!==-1&&(e.splice(t,1),Gb(this._zIndex))},_toggleShading(i){this._$wrapper.toggleClass("dx-overlay-shader",i&&this.option("shading")),this._$wrapper.css("backgroundColor",this.option("shading")?this.option("shadingColor"):""),this._toggleTabTerminator(i&&this.option("shading"))},_initTabTerminatorHandler(){var i=this;this._proxiedTabTerminatorHandler=function(){i._tabKeyHandler(...arguments)}},_toggleTabTerminator(i){let e=Se("keydown",this.NAME);i?X.on(be.getDocument(),e,this._proxiedTabTerminatorHandler):X.off(be.getDocument(),e,this._proxiedTabTerminatorHandler)},_findTabbableBounds(){let i=this._$wrapper.find("*"),e=i.length-1,t={first:null,last:null};for(let n=0;n<=e&&(!t.first&&i.eq(n).is(sR)&&(t.first=i.eq(n)),!t.last&&i.eq(e-n).is(sR)&&(t.last=i.eq(e-n)),!(t.first&&t.last));n++);return t},_tabKeyHandler(i){if(Ti(i)!=="tab"||!this._isTopOverlay())return;let e=this._findTabbableBounds(),t=e.first,n=e.last,o=!i.shiftKey&&i.target===n.get(0),r=i.shiftKey&&i.target===t.get(0),s=e.length===0,a=!as(this._$wrapper.get(0),i.target);if(o||r||s||a){i.preventDefault();let l=i.shiftKey?n:t;X.trigger(l,"focusin"),X.trigger(l,"focus")}},_toggleSubscriptions(i){it()&&(this._toggleHideTopOverlayCallback(i),this._toggleHideOnParentsScrollSubscription(i))},_toggleHideTopOverlayCallback(i){this._hideTopOverlayHandler&&(i?KR.add(this._hideTopOverlayHandler):KR.remove(this._hideTopOverlayHandler))},_toggleHideOnParentsScrollSubscription(i){let e=Se("scroll",this.NAME),{prevTargets:t,handler:n}=this._parentsScrollSubscriptionInfo??{};X.off(t,e,n);let o=this.option("hideOnParentScroll");if(i&&o){let r=this._getHideOnParentScrollTarget().parents();Ve.real().deviceType==="desktop"&&(r=r.add(ig)),X.on(r,e,n),this._parentsScrollSubscriptionInfo.prevTargets=r}},_hideOnParentsScrollHandler(i){let e=!1,t=this.option("hideOnParentScroll");Ie(t)&&(e=t(i)),!e&&!this._showAnimationProcessing&&this.hide()},_getHideOnParentScrollTarget(){let i=I(this.option("_hideOnParentScrollTarget"));return i.length?i:this._$wrapper},_render(){this.callBase(),this._appendContentToElement(),this._renderVisibilityAnimate(this.option("visible"))},_appendContentToElement(){this._$content.parent().is(this.$element())||this._$content.appendTo(this.$element())},_renderContent(){let i=!this._currentVisible&&this.option("deferRendering");if(this.option("visible")&&this._isParentHidden()){this._isHidden=!0;return}this._contentAlreadyRendered||i||(this._contentAlreadyRendered=!0,this._appendContentToElement(),this.callBase())},_isParentHidden(){if(!this.option("_checkParentVisibility"))return!1;if(this._parentHidden!==void 0)return this._parentHidden;let i=this.$element().parent();if(i.is(":visible"))return!1;let e=!1;return i.add(i.parents()).each((t,n)=>{if(I(n).css("display")==="none")return e=!0,!1}),e||!be.getBody().contains(i.get(0))},_renderContentImpl(){let i=le(),e=this.option("contentTemplate"),t=this._getTemplate(e),n=this._templateManager.anonymousTemplateName===e;return t&&t.render({container:tt(this.$content()),noModel:!0,transclude:n,onRendered:()=>{i.resolve(),this.option("templatesRenderAsynchronously")&&this._dimensionChanged()}}),this._toggleWrapperScrollEventsSubscription(this.option("preventScrollEvents")),i.done(()=>{this.option("visible")&&this._moveToContainer()}),i.promise()},_getPositionControllerConfig(){let{container:i,visualContainer:e,_fixWrapperPosition:t,restorePosition:n,_skipContentPositioning:o}=this.option();return{container:i,visualContainer:e,$root:this.$element(),$content:this._$content,$wrapper:this._$wrapper,onPositioned:this._actions.onPositioned,onVisualPositionChanged:this._actions.onVisualPositionChanged,restorePosition:n,_fixWrapperPosition:t,_skipContentPositioning:o}},_initPositionController(){this._positionController=new tg(this._getPositionControllerConfig())},_toggleWrapperScrollEventsSubscription(i){let e=Se(yl,this.NAME);X.off(this._$wrapper,e),i&&X.on(this._$wrapper,e,{validate:()=>!0,getDirection:()=>"both",_toggleGestureCover(t){t||this._toggleGestureCoverImpl(t)},_clearSelection:pe,isNative:!0},t=>{let{originalEvent:n}=t.originalEvent,{type:o}=n||{},r=o==="wheel",s=o==="mousemove",a=r&&!Dn(t);t._cancelPreventDefault=!0,n&&t.cancelable!==!1&&(!s&&!r||a)&&t.preventDefault()})},_moveFromContainer(){this._$content.appendTo(this.$element()),this._$wrapper.detach()},_checkContainerExists(){let i=this._positionController.$container;if(i===void 0)return;i.length>0||bt.log("W1021",this.NAME)},_moveToContainer(){let i=this._positionController.$container;this._$wrapper.appendTo(i),this._$content.appendTo(this._$wrapper)},_renderGeometry(i){let{visible:e}=this.option();e&&it()&&(this._stopAnimation(),this._renderGeometryImpl())},_renderGeometryImpl(){this._positionController.updatePosition(this._getOptionValue("position")),this._renderWrapper(),this._renderDimensions(),this._renderPosition()},_renderPosition(){this._positionController.positionContent()},_isAllWindowCovered(){return ln(this._positionController.$visualContainer.get(0))&&this.option("shading")},_toggleSafariScrolling(){let i=this.option("visible"),e=I(be.getBody()),t=Ve.real().platform==="ios"&&gi.safari,n=this._isAllWindowCovered(),o=e.hasClass("dx-prevent-safari-scrolling"),r=!o&&i&&n,s=o&&(!i||!n||this._disposed);t&&(s?(e.removeClass("dx-prevent-safari-scrolling"),ig.scrollTo(0,this._cachedBodyScrollTop),this._cachedBodyScrollTop=void 0):r&&(this._cachedBodyScrollTop=ig.pageYOffset,e.addClass("dx-prevent-safari-scrolling")))},_renderWrapper(){this._positionController.styleWrapperPosition(),this._renderWrapperDimensions(),this._positionController.positionWrapper()},_renderWrapperDimensions(){let{$visualContainer:i}=this._positionController,e=be.getDocumentElement(),t=ln(i.get(0)),n=t?e.clientWidth:Ft(i),o=t?ig.innerHeight:Ct(i);this._$wrapper.css({width:n,height:o})},_renderDimensions(){let i=this._$content.get(0);this._$content.css({minWidth:this._getOptionValue("minWidth",i),maxWidth:this._getOptionValue("maxWidth",i),minHeight:this._getOptionValue("minHeight",i),maxHeight:this._getOptionValue("maxHeight",i),width:this._getOptionValue("width",i),height:this._getOptionValue("height",i)})},_focusTarget(){return this._$content},_attachKeyboardEvents(){this._keyboardListenerId=Fa.on(this._$content,null,i=>this._keyboardHandler(i))},_keyboardHandler(i){let e=i.originalEvent;(I(e.target).is(this._$content)||!this.option("ignoreChildEvents"))&&this.callBase(...arguments)},_isVisible(){return this.option("visible")},_visibilityChanged(i){i?this.option("visible")&&this._renderVisibilityAnimate(i):this._renderVisibilityAnimate(i)},_dimensionChanged(){this._renderGeometry()},_clean(){let i=this.option();!this._contentAlreadyRendered&&!i.isRenovated&&this.$content().empty(),this._renderVisibility(!1),this._stopShowTimer(),this._cleanFocusState()},_stopShowTimer(){this._asyncShowTimeout&&clearTimeout(this._asyncShowTimeout),this._asyncShowTimeout=null},_dispose(){hn.stop(this._$content,!1),clearTimeout(this._deferShowTimer),this._toggleViewPortSubscription(!1),this._toggleSubscriptions(!1),this._updateZIndexStackPosition(!1),this._toggleTabTerminator(!1),this._actions=null,this._parentsScrollSubscriptionInfo=null,this.callBase(),this._toggleSafariScrolling(),this.option("visible")&&Gb(this._zIndex),this._$wrapper.remove(),this._$content.remove()},_toggleRTLDirection(i){this._$content.toggleClass("dx-rtl",i)},_optionChanged(i){let{value:e,name:t}=i;if(this._getActionsList().includes(t)){this._initActions();return}switch(t){case"animation":case"closeOnOutsideClick":case"hideOnOutsideClick":case"propagateOutsideClick":break;case"shading":this._toggleShading(this.option("visible")),this._toggleSafariScrolling();break;case"shadingColor":this._toggleShading(this.option("visible"));break;case"width":case"height":case"minWidth":case"maxWidth":case"minHeight":case"maxHeight":this._renderGeometry();break;case"position":this._positionController.updatePosition(this.option("position")),this._positionController.restorePositionOnNextRender(!0),this._renderGeometry(),this._toggleSafariScrolling();break;case"visible":this._renderVisibilityAnimate(e).done(()=>{var n;return(n=this._animateDeferred)===null||n===void 0?void 0:n.resolveWith(this)}).fail(()=>{var n;return(n=this._animateDeferred)===null||n===void 0?void 0:n.reject()});break;case"container":this._positionController.updateContainer(e),this._invalidate(),this._toggleSafariScrolling();break;case"visualContainer":this._positionController.updateVisualContainer(e),this._renderWrapper(),this._toggleSafariScrolling();break;case"innerOverlay":this._initInnerOverlayClass();break;case"deferRendering":case"contentTemplate":this._contentAlreadyRendered=!1,this._clean(),this._invalidate();break;case"hideTopOverlayHandler":this._toggleHideTopOverlayCallback(!1),this._initHideTopOverlayHandler(e),this._toggleHideTopOverlayCallback(this.option("visible"));break;case"hideOnParentScroll":case"_hideOnParentScrollTarget":this._toggleHideOnParentsScrollSubscription(this.option("visible"));break;case"rtlEnabled":this._contentAlreadyRendered=!1,this.callBase(i);break;case"_fixWrapperPosition":this._positionController.fixWrapperPosition=e;break;case"wrapperAttr":this._renderWrapperAttributes();break;case"restorePosition":this._positionController.restorePosition=e;break;case"preventScrollEvents":this._logDeprecatedPreventScrollEventsInfo(),this._toggleWrapperScrollEventsSubscription(e);break;default:this.callBase(i)}},toggle(i){i=i===void 0?!this.option("visible"):i;let e=le();if(i===this.option("visible"))return e.resolveWith(this,[i]).promise();let t=le();return this._animateDeferred=t,this.option("visible",i),t.promise().done(()=>{delete this._animateDeferred,e.resolveWith(this,[this.option("visible")])}).fail(()=>{delete this._animateDeferred,e.reject()}),e.promise()},$content(){return this._$content},show(){return this.toggle(!0)},hide(){return this.toggle(!1)},content(){return tt(this._$content)},repaint(){this._contentAlreadyRendered?(this._positionController.restorePositionOnNextRender(!0),this._renderGeometry({forceStopAnimation:!0}),ls(this._$content)):this.callBase()}});SS.baseZIndex=i=>a$(i);ut("dxOverlay",SS);var u$=SS;var cs=u$;var h$=cs.inherit({_supportedKeys(){return q(this.callBase(),{escape:pe})},_getDefaultOptions(){return q(this.callBase(),{message:de.format("Loading"),width:222,height:90,animation:null,showIndicator:!0,indicatorSrc:"",showPane:!0,delay:0,templatesRenderAsynchronously:!1,hideTopOverlayHandler:null,focusStateEnabled:!1,propagateOutsideClick:!0,preventScrollEvents:!1})},_defaultOptionsRules(){return this.callBase().concat([{device:{platform:"generic"},options:{shadingColor:"transparent"}},{device:()=>Kn(),options:{message:"",width:60,height:60,maxHeight:60,maxWidth:60}},{device:()=>Zn(),options:{width:"auto",height:"auto"}}])},_init(){this.callBase.apply(this,arguments)},_render(){this.callBase(),this.$element().addClass("dx-loadpanel"),this.$wrapper().addClass("dx-loadpanel-wrapper"),this._updateWrapperAria()},_updateWrapperAria(){if(this.$wrapper().removeAttr("aria-label").removeAttr("role"),!this.option("showIndicator")){let e=this._getAriaAttributes();this.$wrapper().attr(e)}},_getAriaAttributes(){let{message:i}=this.option();return{role:"alert","aria-label":i||de.format("Loading")}},_renderContentImpl(){this.callBase(),this.$content().addClass("dx-loadpanel-content"),this._$loadPanelContentWrapper=I("<div>").addClass("dx-loadpanel-content-wrapper"),this._$loadPanelContentWrapper.appendTo(this.$content()),this._togglePaneVisible(),this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage()},_show(){let i=this.option("delay");if(!i)return this.callBase();let e=le(),t=this.callBase.bind(this);return this._clearShowTimeout(),this._showTimeout=setTimeout(()=>{t().done(()=>{e.resolve()})},i),e.promise()},_hide(){return this._clearShowTimeout(),this.callBase()},_clearShowTimeout(){clearTimeout(this._showTimeout)},_renderMessage(){if(!this._$loadPanelContentWrapper)return;let i=this.option("message");if(!i)return;let e=I("<div>").addClass("dx-loadpanel-message").text(i);this._$loadPanelContentWrapper.append(e)},_renderLoadIndicator(){!this._$loadPanelContentWrapper||!this.option("showIndicator")||(this._$indicator||(this._$indicator=I("<div>").addClass("dx-loadpanel-indicator").appendTo(this._$loadPanelContentWrapper)),this._createComponent(this._$indicator,qo,{elementAttr:this._getAriaAttributes(),indicatorSrc:this.option("indicatorSrc")}))},_cleanPreviousContent(){this.$content().find(".dx-loadpanel-message").remove(),this.$content().find(".dx-loadpanel-indicator").remove(),delete this._$indicator},_togglePaneVisible(){this.$content().toggleClass("dx-loadpanel-pane-hidden",!this.option("showPane"))},_optionChanged(i){switch(i.name){case"delay":break;case"message":case"showIndicator":this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage(),this._updateWrapperAria();break;case"showPane":this._togglePaneVisible();break;case"indicatorSrc":this._renderLoadIndicator();break;default:this.callBase(i)}},_dispose(){this._clearShowTimeout(),this.callBase()}});ut("dxLoadPanel",h$);var p$=h$;var ng=p$;var Abe=Do.add,XR="DEVEXTREME_XHR_ERROR_UNLOAD",f$=function(i){return[i[0],i.length<3?"=":String(i[1]).toLowerCase(),i.length<2?!0:i[i.length-1]]},us=function(i){return Array.isArray(i)||(i=[i]),tn(i,function(e){let t={selector:Ie(e)||typeof e=="string"?e:e.getter||e.field||e.selector,desc:!!(e.desc||String(e.dir).charAt(0).toLowerCase()==="d")};return e.compare&&(t.compare=e.compare),t})},m$=function(){let i={timeout:"Network connection timeout",error:"Unspecified network error",parsererror:"Unexpected server response"},e;return Abe(function(){let t=et();be.listen(t,"beforeunload",function(){e=!0})}),function(t,n){return e?XR:t.status<400?function(o){let r=i[o];return r||o}(n):t.statusText}}(),Kb={count:{seed:0,step:function(i){return 1+i}},sum:{seed:0,step:function(i,e){return i+e}},min:{step:function(i,e){return e<i?e:i}},max:{step:function(i,e){return e>i?e:i}},avg:{seed:[0,0],step:function(i,e){return[i[0]+e,i[1]+1]},finalize:function(i){return i[1]?i[0]/i[1]:NaN}}},g$=function(){let i=0,e;return{obtain:function(){i===0&&(e=new le),i++},release:function(){i--,i<1&&e.resolve()},promise:function(){return(i===0?new le().resolve():e).promise()},reset:function(){i=0,e&&e.resolve()}}}();function _$(i){return/^(and|&&|&)$/i.test(i)}var Ac=function(i,e,t){if(Array.isArray(i)){let n=tn(e,function(r,s){return s}),o;for(let r=0;r<n.length;r++)if(o=n[r],!hi(e[o],t[o],{strict:!1}))return!1;return!0}return hi(e,t,{strict:!1})};var b$=function(i){return i[0]==="!"&&Array.isArray(i[1])},kbe=function(i){return i==="and"||i==="or"},v$=function(i){if(i.length>2&&Array.isArray(i[0])&&i[1]==="or"&&typeof i[0][0]=="string"&&i[0][1]==="="){let[e]=i[0];return!i.find((t,n)=>n%2!==0?t!=="or":!Array.isArray(t)||t.length!==3||t[0]!==e||t[1]!=="=")}return!1},y$=function(i){let e=i[0],t=i[1];return!!(Array.isArray(e)||Ie(e)&&(Array.isArray(t)||Ie(t)||kbe(t)))},gh=function(){let i=new le;return i.resolve.apply(i,arguments).promise()},ES=function(){let i=new le;return i.reject.apply(i,arguments).promise()};function Mbe(i,e){let t;return function(){return t||(t=setTimeout(()=>{t=void 0,i.call(this)},Ie(e)?e():e)),t}}function x$(i,e){let t=[],n=Mbe(function(){i.call(this,t),t=[]},e);return function(o){return Array.isArray(o)&&t.push(...o),n.call(this,t)}}var An=Rm(qt.ERROR_MESSAGES,{E4000:"[DevExpress.data]: {0}",E4001:"Unknown aggregating function is detected: '{0}'",E4002:"Unsupported OData protocol version is used",E4003:"Unknown filter operation is used: {0}",E4004:"The thenby() method is called before the sortby() method",E4005:"Store requires a key expression for this operation",E4006:"ArrayStore 'data' option must be an array",E4007:"Compound keys cannot be auto-generated",E4008:"Attempt to insert an item with a duplicated key",E4009:"Data item cannot be found",E4010:"CustomStore does not support creating queries",E4011:"Custom Store method is not implemented or is not a function: {0}",E4012:"Custom Store method returns an invalid value: {0}",E4013:"Local Store requires the 'name' configuration option is specified",E4014:"Unknown data type is specified for ODataStore: {0}",E4015:"Unknown entity name or alias is used: {0}",E4016:"The compileSetter(expr) method is called with 'self' passed as a parameter",E4017:"Keys cannot be modified",E4018:"The server has returned a non-numeric value in a response to an item count request",E4019:"Mixing of group operators inside a single group of filter expression is not allowed",E4020:"Unknown store type is detected: {0}",E4021:"The server response does not provide the totalCount value",E4022:"The server response does not provide the groupCount value",E4023:"Could not parse the following XML: {0}",E4024:"String function {0} cannot be used with the data field {1} of type {2}.",W4000:"Data returned from the server has an incorrect structure",W4001:'The {0} field is listed in both "keyType" and "fieldTypes". The value of "fieldTypes" is used.',W4002:"Data loading has failed for some cells due to the following error: {0}"}),Rbe=null,og=function(i){var e;(e=Rbe)===null||e===void 0||e(i)};function Fbe(i,e){let t,n=typeof e=="string"?e.split():e.slice();for(;n.length;)if(t=n.shift(),t in i)return!0;return!1}function C$(i,e,t,n){let o,r;if(n){for(let s=0;s<e.length;s++)if(o=e[s].items||e[s].collapsedItems||[],r=C$(i,o||[],t,n-1),r)return r}else if(kc(i,e,t)>=0)return e}function Pbe(i,e,t,n){return n?C$(i,e,t,n)||[]:e}function Lbe(i,e){if(i.key()&&(!e._dataByKeyMap||e._dataByKeyMapLength!==e.length)){let t={},n=e.length;for(let o=0;o<n;o++)t[JSON.stringify(i.keyOf(e[o]))]=e[o];e._dataByKeyMap=t,e._dataByKeyMapLength=n}}function Nbe(i,e){if(i._dataByKeyMap)return i._dataByKeyMap[JSON.stringify(e)]}function Bbe(i,e){return i._dataByKeyMap?i._dataByKeyMap[JSON.stringify(e)]:!0}function w$(i,e,t){i._dataByKeyMap&&(i._dataByKeyMap[JSON.stringify(e)]=t,i._dataByKeyMapLength+=t?1:-1)}function S$(i,e,t){t=t||new WeakMap;let n=i?Object.create(Object.getPrototypeOf(i)):{};i&&t.set(i,n);let o=ye({},i);Tr(n,o,!0,!0);for(let r in o){let s=o[r],a=e?.[r];Ke(s)&&!ht(s)&&Ke(a)&&!t.has(s)&&(n[r]=S$(s,a,t))}for(let r in n){let s=n[r];Ke(s)&&t.has(s)&&(n[r]=t.get(s))}return n}function xl(i,e){let t=S$(i,e);return Tr(t,e,!0,!0)}function Na(i){let{keyInfo:e,data:t,changes:n,groupCount:o,useInsertIndex:r,immutable:s,disableCache:a,logError:l,skipCopying:d}=i,c=s===!0?[...t]:t;return n.forEach(u=>{let h=u.type==="insert"?c:Pbe(e,c,u.key,o);switch(!a&&Lbe(e,h),u.type){case"update":qb(e,h,u.key,u.data,!0,s,l);break;case"insert":Yb(e,h,u.data,r&&U(u.index)?u.index:-1,!0,l,d);break;case"remove":ZR(e,h,u.key,!0,l)}}),c}function OS(i,e,t){return i?e&&An.log(t):ES(An.Error(t))}function qb(i,e,t,n,o,r,s){let a,l=i.key();if(l){if(Fbe(n,l)&&!Ac(l,t,i.keyOf(n)))return OS(o,s,"E4017");if(a=Nbe(e,t),!a){let d=kc(i,e,t);if(d<0)return OS(o,s,"E4009");if(a=e[d],r===!0&&U(a)){let c=xl(a,n);return e[d]=c,!o&&gh(c,t)}}}else a=t;if(Tr(a,n,!0),!o)return ui().useLegacyStoreResult?gh(t,n):gh(a,t)}function Yb(i,e,t,n,o,r,s){let a,l=i.key(),d=ht(t)&&!s?q({},t):t;if(l){if(a=i.keyOf(d),a===void 0||typeof a=="object"&&Gn(a)){if(Array.isArray(l))throw An.Error("E4007");a=d[l]=String(new yi)}else if(e[kc(i,e,a)]!==void 0)return OS(o,r,"E4008")}else a=d;if(n>=0?e.splice(n,0,d):e.push(d),w$(e,a,d),!o)return gh(ui().useLegacyStoreResult?t:d,a)}function ZR(i,e,t,n,o){let r=kc(i,e,t);if(r>-1&&(e.splice(r,1),w$(e,t,null)),n){if(r<0)return OS(n,o,"E4009")}else return gh(t)}function kc(i,e,t){let n=i.key();if(!Bbe(e,t))return-1;for(let o=0,r=e.length;o<r;o++)if(Ac(n,i.keyOf(e[o]),t))return o;return-1}var Xb=Ut.inherit({toArray:function(){let i=[];for(this.reset();this.next();)i.push(this.current());return i},countable:function(){return!1}}),tF=Xb.inherit({ctor:function(i){this.array=i,this.index=-1},next:function(){return this.index+1<this.array.length?(this.index++,!0):!1},current:function(){return this.array[this.index]},reset:function(){this.index=-1},toArray:function(){return this.array.slice(0)},countable:function(){return!0},count:function(){return this.array.length}}),IS=Xb.inherit({ctor:function(i){this.iter=i},next:function(){return this.iter.next()},current:function(){return this.iter.current()},reset:function(){return this.iter.reset()}}),QR=IS.inherit({ctor:function(i,e){this.callBase(i),this.index=-1,this.mapper=e},current:function(){return this.mapper(this.callBase(),this.index)},next:function(){let i=this.callBase();return i&&this.index++,i}}),Vbe=function(i,e,t){return We(i)&&We(e)&&(t!=null&&t.locale||t!=null&&t.collatorOptions)?new Intl.Collator(t?.locale||void 0,t?.collatorOptions||void 0).compare(i,e):(i=uo(i,!1,t),e=uo(e,!1,t),i===null&&e!==null?-1:i!==null&&e===null||i===void 0&&e!==void 0?1:i!==void 0&&e===void 0||i<e?-1:i>e?1:0)},JR=Xb.inherit({ctor:function(i,e,t,n){this.langParams=i.langParams,i instanceof QR||(i=new QR(i,this._wrap),i.langParams=this.langParams),this.iter=i,this.rules=[{getter:e,desc:t,compare:n,langParams:this.langParams}]},thenBy:function(i,e,t){let n=new JR(this.sortedIter||this.iter,i,e,t);return this.sortedIter||(n.rules=this.rules.concat(n.rules)),n},next:function(){return this._ensureSorted(),this.sortedIter.next()},current:function(){return this._ensureSorted(),this.sortedIter.current()},reset:function(){delete this.sortedIter},countable:function(){return this.sortedIter||this.iter.countable()},count:function(){return this.sortedIter?this.sortedIter.count():this.iter.count()},_ensureSorted:function(){let i=this;i.sortedIter||(ee(i.rules,function(){this.getter=Qt(this.getter)}),i.sortedIter=new QR(new tF(this.iter.toArray().sort(function(e,t){return i._compare(e,t)})),i._unwrap))},_wrap:function(i,e){return{index:e,value:i}},_unwrap:function(i){return i.value},_getDefaultCompare:i=>(e,t)=>Vbe(e,t,i),_compare:function(i,e){let t=i.index,n=e.index;if(i=i.value,e=e.value,i===e)return t-n;for(let o=0,r=this.rules.length;o<r;o++){let s=this.rules[o],a=s.getter(i),l=s.getter(e),c=(s.compare||this._getDefaultCompare(s.langParams))(a,l);if(c)return s.desc?-c:c}return t-n}}),eF=function(){let i={},e=s=>uo(s,!1,i),t=function(s){if(v$(s))return(c=>{let u=Qt(c[0][0]),h=c.reduce((f,p,m)=>(m%2===0&&f.push(e(p[2])),f),[]);return f=>{let p=e(u(f));return h.some(m=>r(m)?p===m:p==m)}})(s);let a=[],l=!1,d=!1;return ee(s,function(){if(Array.isArray(this)||Ie(this)){if(a.length>1&&l!==d)throw new An.Error("E4019");a.push(eF(this,i)),l=d,d=!0}else d=_$(this)}),function(c){let u=l;for(let h=0;h<a.length;h++)if(a[h](c)!==l){u=!l;break}return u}},n=function(s){var a;return U(s)?(a=i)!==null&&a!==void 0&&a.locale?s.toLocaleString(i.locale):s.toString():""};function o(s,a,l){return function(d){d=e(s(d));let c=r(a)?d===a:d==a;return l&&(c=!c),c}}function r(s){return s===""||s===0||s===!1}return function(s,a){return i=a||{},Ie(s)?s:y$(s)?t(s):b$(s)?function(l){let d=l[0],c=eF(l[1],i);if(d==="!")return function(u){return!c(u)};throw An.Error("E4003",d)}(s):function(l){l=f$(l);let d=Qt(l[0]),c=l[1],u=l[2];u=e(u);let h=(f,p)=>(f=e(d(f)),(u==null||f==null)&&u!==f?!1:p(f,u));switch(c.toLowerCase()){case"=":return o(d,u);case"<>":return o(d,u,!0);case">":return f=>h(f,(p,m)=>p>m);case"<":return f=>h(f,(p,m)=>p<m);case">=":return f=>h(f,(p,m)=>p>=m);case"<=":return f=>h(f,(p,m)=>p<=m);case"startswith":return function(f){return e(n(d(f))).indexOf(u)===0};case"endswith":return function(f){let p=e(n(d(f))),m=n(u);if(p.length<m.length)return!1;let g=p.lastIndexOf(u);return g!==-1&&g===p.length-u.length};case"contains":return function(f){return e(n(d(f))).indexOf(u)>-1};case"notcontains":return function(f){return e(n(d(f))).indexOf(u)===-1}}throw An.Error("E4003",c)}(s)}}(),Hbe=IS.inherit({ctor:function(i,e){this.callBase(i),this.langParams=i.langParams,this.criteria=eF(e,this.langParams)},next:function(){for(;this.iter.next();)if(this.criteria(this.current()))return!0;return!1}}),zbe=Xb.inherit({ctor:function(i,e){this.iter=i,this.getter=e},next:function(){return this._ensureGrouped(),this.groupedIter.next()},current:function(){return this._ensureGrouped(),this.groupedIter.current()},reset:function(){delete this.groupedIter},countable:function(){return!!this.groupedIter},count:function(){return this.groupedIter.count()},_ensureGrouped:function(){if(this.groupedIter)return;let i={},e=[],t=this.iter,n=Qt(this.getter);for(t.reset();t.next();){let o=t.current(),r=n(o);r in i?i[r].push(o):(i[r]=[o],e.push(r))}this.groupedIter=new tF(tn(e,function(o){return{key:o,items:i[o]}}))}}),jbe=IS.inherit({ctor:function(i,e){this.callBase(i),this.getter=Qt(e)},current:function(){return this.getter(this.callBase())},countable:function(){return this.iter.countable()},count:function(){return this.iter.count()}}),$be=IS.inherit({ctor:function(i,e,t){this.callBase(i),this.skip=Math.max(0,e),this.take=Math.max(0,t),this.pos=0},next:function(){if(this.pos>=this.skip+this.take)return!1;for(;this.pos<this.skip&&this.iter.next();)this.pos++;return this.pos++,this.iter.next()},reset:function(){this.callBase(),this.pos=0},countable:function(){return this.iter.countable()},count:function(){return Math.min(this.iter.count()-this.skip,this.take)}}),E$=function(i,e){e=e||{},i instanceof Xb||(i=new tF(i)),e.langParams&&(i.langParams=e.langParams);let t=function(l){let d=e.errorHandler;d&&d(l),og(l)},n=function(l){let d=new le().fail(t),c,u=l.step,h=l.finalize;try{i.reset(),"seed"in l?c=l.seed:c=i.next()?i.current():NaN;let f=c;for(;i.next();)f=u(f,i.current());d.resolve(h?h(f):f)}catch(f){d.reject(f)}return d.promise()},o=function(l){return n(Kb[l])},r=function(l){return!Ie(l)&&!Array.isArray(l)&&(l=[].slice.call(arguments)),a(new jbe(i,l))},s=function(l){return r(Qt(l))};function a(l){return E$(l,e)}return{toArray:function(){return i.toArray()},enumerate:function(){let l=new le().fail(t);try{l.resolve(i.toArray())}catch(d){l.reject(d)}return l.promise()},setLangParams(l){i.langParams=l},sortBy:function(l,d,c){return a(new JR(i,l,d,c))},thenBy:function(l,d,c){if(i instanceof JR)return a(i.thenBy(l,d,c));throw An.Error("E4004")},filter:function(l){return Array.isArray(l)||(l=[].slice.call(arguments)),a(new Hbe(i,l))},slice:function(l,d){return d===void 0&&(d=Number.MAX_VALUE),a(new $be(i,l,d))},select:r,groupBy:function(l){return a(new zbe(i,l))},aggregate:function(l,d,c){return arguments.length<2?n({step:arguments[0]}):n({seed:l,step:d,finalize:c})},count:function(){if(i.countable()){let l=new le().fail(t);try{l.resolve(i.count())}catch(d){l.reject(d)}return l.promise()}return o("count")},sum:function(l){return l?s(l).sum():o("sum")},min:function(l){return l?s(l).min():o("min")},max:function(l){return l?s(l).max():o("max")},avg:function(l){return l?s(l).avg():o("avg")}}},_h=E$;function iF(i,e){return i=i.groupBy(e[0].selector),e.length>1&&(i=i.select(function(t){return q({},t,{items:iF(_h(t.items),e.slice(1)).toArray()})})),i}function O$(i,e){let t=[];return ee(i,function(n,o){vo(e,function(s){return o.selector===s.selector}).length<1&&t.push(o)}),t.concat(e)}function Wbe(i,e,t){var n;e=e||{};let o=e.filter;if((n=e)!==null&&n!==void 0&&n.langParams){var r,s;(r=(s=i).setLangParams)===null||r===void 0||r.call(s,e.langParams)}if(o&&(i=i.filter(o)),t)return i;let a=e.sort,l=e.select,d=e.group,c=e.skip,u=e.take;return d&&(d=us(d),d.keepInitialKeyOrder=!!e.group.keepInitialKeyOrder),(a||d)&&(a=us(a||[]),d&&!d.keepInitialKeyOrder&&(a=O$(d,a)),ee(a,function(h){i=i[h?"thenBy":"sortBy"](this.selector,this.desc,this.compare)})),l&&(i=i.select(l)),d&&(i=iF(i,d)),(u||c)&&(i=i.slice(c||0,u)),i}var Kr={multiLevelGroup:iF,arrangeSortingInfo:O$,queryByOptions:Wbe};var Zb=Ut.abstract,I$=Kr.queryByOptions,nF={},rg=Ut.inherit({_langParams:{},ctor:function(i){let e=this;i=i||{},this._eventsStrategy=new Da(this),ee(["onLoaded","onLoading","onInserted","onInserting","onUpdated","onUpdating","onPush","onRemoved","onRemoving","onModified","onModifying"],function(t,n){n in i&&e.on(n.slice(2).toLowerCase(),i[n])}),this._key=i.key,this._errorHandler=i.errorHandler,this._useDefaultSearch=!0},_clearCache:pe,_customLoadOptions:function(){return null},key:function(){return this._key},keyOf:function(i){return this._keyGetter||(this._keyGetter=Qt(this.key())),this._keyGetter(i)},_requireKey:function(){if(!this.key())throw An.Error("E4005")},load:function(i){let e=this;return i=i||{},this._eventsStrategy.fireEvent("loading",[i]),this._withLock(this._loadImpl(i)).done(function(t){e._eventsStrategy.fireEvent("loaded",[t,i])})},_loadImpl:function(i){return Gn(this._langParams)||(i=i||{},i._langParams=ye({},this._langParams,i._langParams)),I$(this.createQuery(i),i).enumerate()},_withLock:function(i){let e=new le;return i.done(function(){let t=this,n=arguments;g$.promise().done(function(){e.resolveWith(t,n)})}).fail(function(){e.rejectWith(this,arguments)}),e},createQuery:Zb,totalCount:function(i){return this._totalCountImpl(i)},_totalCountImpl:function(i){return I$(this.createQuery(i),i,!0).count()},byKey:function(i,e){return this._addFailHandlers(this._withLock(this._byKeyImpl(i,e)))},_byKeyImpl:Zb,insert:function(i){let e=this;return e._eventsStrategy.fireEvent("modifying"),e._eventsStrategy.fireEvent("inserting",[i]),e._addFailHandlers(e._insertImpl(i).done(function(t,n){e._eventsStrategy.fireEvent("inserted",[t,n]),e._eventsStrategy.fireEvent("modified")}))},_insertImpl:Zb,update:function(i,e){let t=this;return t._eventsStrategy.fireEvent("modifying"),t._eventsStrategy.fireEvent("updating",[i,e]),t._addFailHandlers(t._updateImpl(i,e).done(function(){t._eventsStrategy.fireEvent("updated",[i,e]),t._eventsStrategy.fireEvent("modified")}))},_updateImpl:Zb,push:function(i){let e={changes:i,waitFor:[]};this._eventsStrategy.fireEvent("beforePushAggregation",[e]),Be(...e.waitFor).done(()=>{this._pushImpl(i),this._eventsStrategy.fireEvent("beforePush",[{changes:i}]),this._eventsStrategy.fireEvent("push",[i])})},_pushImpl:pe,remove:function(i){let e=this;return e._eventsStrategy.fireEvent("modifying"),e._eventsStrategy.fireEvent("removing",[i]),e._addFailHandlers(e._removeImpl(i).done(function(t){e._eventsStrategy.fireEvent("removed",[t]),e._eventsStrategy.fireEvent("modified")}))},_removeImpl:Zb,_addFailHandlers:function(i){return i.fail(this._errorHandler).fail(og)},on(i,e){return this._eventsStrategy.on(i,e),this},off(i,e){return this._eventsStrategy.off(i,e),this}});rg.create=function(i,e){if(!(i in nF))throw An.Error("E4020",i);return new nF[i](e)};rg.registerClass=function(i,e){return e&&(nF[e]=i),i};rg.inherit=function(i){return function(e,t){let n=i.apply(this,[e]);return rg.registerClass(n,t),n}}(rg.inherit);var Mc=rg;var M$="totalCount",oF="load",R$="byKey",D$="insert",T$="update",A$="remove";function sg(i){return i&&Ie(i.then)}function Up(i){return new le().resolve(i).promise()}function Qb(i,e){if(!Ie(e))throw An.Error("E4011",i)}function F$(i){throw An.Error("E4012",i)}function Wp(i){return function(e){let t;e instanceof Error?t=e:t=new Error(function(n){let o=n[0],r=n[1];return!o||!o.getResponseHeader?null:m$(o,r)}(arguments)||e&&String(e)||"Unknown error"),t.message!==XR&&i.reject(t)}}function P$(i,e){let t=i._loadFunc,n;return Qb(oF,t),n=t.apply(i,[e]),Array.isArray(n)?n=Up(n):n==null?n=Up([]):sg(n)||F$(oF),Yn(n)}function Ube(i,e){let t=i._totalCountFunc,n;if(!Ie(t))throw An.Error("E4021");return n=t.apply(i,[e]),sg(n)||(n=Number(n),isFinite(n)||F$(M$),n=Up(n)),Yn(n)}function Gbe(i,e,t){let n=i._byKeyFunc,o;return Qb(R$,n),o=n.apply(i,[e,t]),sg(o)||(o=Up(o)),Yn(o)}function L$(i,e,t,n){if(e.__rawData)n(e.__rawData);else{let o=e.__rawDataPromise||P$(e,t);e._cacheRawData&&(e.__rawDataPromise=o),o.always(function(){delete e.__rawDataPromise}).done(function(r){e._cacheRawData&&(e.__rawData=r),n(r)}).fail(r=>{var s;let a=Wp(i);(s=e._errorHandler)===null||s===void 0||s.call(e,r),a(r)})}}function k$(i,e,t,n){t=t||{};let o={};"userData"in t&&(o.userData=t.userData),L$(i,e,o,function(r){let s=_h(r,{errorHandler:e._errorHandler}),a,l,d=[],c,u;n||(a=Kr.queryByOptions(s,t),a===s?c=r.slice(0):d.push(a.enumerate().done(function(h){c=h}))),(t.requireTotalCount||n)&&(l=Kr.queryByOptions(s,t,!0),l===s?u=r.length:d.push(l.count().done(function(h){u=h}))),Be.apply(I,d).done(function(){n?i.resolve(u):t.requireTotalCount?i.resolve(c,{totalCount:u}):i.resolve(c)}).fail(function(h){i.reject(h)})})}function Kbe(i,e,t){L$(i,e,{},function(n){let o=e.key(),r;for(let s=0,a=n.length;s<a;s++)if(r=n[s],Ac(o,e.keyOf(n[s]),t)){i.resolve(r);return}i.reject(An.Error("E4009"))})}var qbe=Mc.inherit({ctor:function(i){i=i||{},this.callBase(i),this._useDefaultSearch=!!i.useDefaultSearch||i.loadMode==="raw",this._loadMode=i.loadMode,this._cacheRawData=i.cacheRawData!==!1,this._loadFunc=i[oF],this._totalCountFunc=i[M$],this._byKeyFunc=i[R$],this._insertFunc=i[D$],this._updateFunc=i[T$],this._removeFunc=i[A$]},_clearCache(){delete this.__rawData},createQuery:function(){throw An.Error("E4010")},clearRawDataCache:function(){this._clearCache()},_totalCountImpl:function(i){let e=new le;return this._loadMode==="raw"&&!this._totalCountFunc?k$(e,this,i,!0):(Ube(this,i).done(function(t){e.resolve(Number(t))}).fail(Wp(e)),e=this._addFailHandlers(e)),e.promise()},_pushImpl:function(i){this.__rawData&&Na({keyInfo:this,data:this.__rawData,changes:i})},_loadImpl:function(i){let e=new le;return this._loadMode==="raw"?k$(e,this,i,!1):(P$(this,i).done(function(t,n){e.resolve(t,n)}).fail(Wp(e)),e=this._addFailHandlers(e)),e.promise()},_byKeyImpl:function(i,e){let t=new le;return this._byKeyViaLoad()?(this._requireKey(),Kbe(t,this,i)):Gbe(this,i,e).done(function(n){t.resolve(n)}).fail(Wp(t)),t.promise()},_byKeyViaLoad:function(){return this._loadMode==="raw"&&!this._byKeyFunc},_insertImpl:function(i){let e=this,t=e._insertFunc,n,o=new le;return Qb(D$,t),n=t.apply(e,[i]),sg(n)||(n=Up(n)),Yn(n).done(function(r){ui().useLegacyStoreResult?o.resolve(i,r):o.resolve(r||i,e.keyOf(r))}).fail(Wp(o)),o.promise()},_updateImpl:function(i,e){let t=this._updateFunc,n,o=new le;return Qb(T$,t),n=t.apply(this,[i,e]),sg(n)||(n=Up(n)),Yn(n).done(function(r){ui().useLegacyStoreResult?o.resolve(i,e):o.resolve(r||e,i)}).fail(Wp(o)),o.promise()},_removeImpl:function(i){let e=this._removeFunc,t,n=new le;return Qb(A$,e),t=e.apply(this,[i]),sg(t)||(t=Up()),Yn(t).done(function(){n.resolve(i)}).fail(Wp(n)),n.promise()}}),Gp=qbe;function rF(i){let e=[],t=!1;function n(){for(;e.length;){t=!0;let r=e.shift()();if(r!==void 0){if(r.then){Be(r).always(n);return}throw qt.Error("E0015")}}t=!1}return{add:function(o,r){i?(e[0]&&r&&r(e[0]),e=[o]):e.push(o),t||n()},busy:function(){return t}}}var Xqe=rF().add;var Ybe=et(),Xbe={getXhr:function(){return new Ybe.XMLHttpRequest}},DS=_o(Xbe);var N$=et(),B$=function(i){let e=be.createElement("script");for(let t in i)e[t]=i[t];return e},V$=function(i){return be.getHead().appendChild(i)},H$=function(i){i.parentNode.removeChild(i)},sF=function(i){let e=B$({text:i});V$(e),H$(e)},z$=function(i){let e=B$({src:i});return new Promise(function(t,n){let o={load:t,error:n},r=function(s){o[s.type](),H$(e)};for(let s in o)be.listen(e,s,r);V$(e)})};function TS(i){return(i.method||"GET").toUpperCase()}var Zbe=function(i){let e=[];for(let t in i){let n=i[t];n!==void 0&&(n===null&&(n=""),typeof n=="function"&&(n=n()),e.push(encodeURIComponent(t)+"="+encodeURIComponent(n)))}return e.join("&")},Qbe=function(i){let e;return i.data&&!i.upload&&TS(i)!=="GET"&&(e="application/x-www-form-urlencoded;charset=utf-8"),i.contentType||e},Jbe=function(i){let e=i.dataType||"*",t="text/javascript, application/javascript, application/ecmascript, application/x-ecmascript",n={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",jsonp:t,script:t};return _z(n,i.accepts,!0),n[e]?n[e]+(e!=="*"?", */*; q=0.01":""):n["*"]},j$=function(i){let e=i.headers||{};return e["Content-Type"]=e["Content-Type"]||Qbe(i),e.Accept=e.Accept||Jbe(i),!i.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest"),e},$$=function(i){if(i.dataType==="jsonp"){let e=Math.random().toString().replace(/\D/g,""),t=i.jsonpCallback||"dxCallback"+Date.now()+"_"+e,n=i.jsonp||"callback";return i.data=i.data||{},i.data[n]=t,t}},W$=function(i,e){let t=i.data,n=typeof t=="string",o=i.url||N$.location.href;return!n&&!i.cache&&(t=t||{},t._=Date.now()),t&&!i.upload&&(n||(t=Zbe(t)),TS(i)==="GET"?(t!==""&&(o+=(o.indexOf("?")>-1?"&":"?")+t),t=null):e["Content-Type"]&&e["Content-Type"].indexOf("application/x-www-form-urlencoded")>-1&&(t=t.replace(/%20/g,"+"))),{url:o,parameters:t}},U$=function(i){if(!it())return!0;let e=!1,t=be.createElement("a"),n=be.createElement("a");t.href=N$.location.href;try{n.href=i,n.href=n.href,e=t.protocol+"//"+t.host!=n.protocol+"//"+n.host}catch{e=!0}return e};var eve=et(),Jb="success",aF="error",tve="timeout",ive="nocontent",nve="parsererror",ove=function(i){return 200<=i&&i<300},rve=function(i){return i!==204},sve=function(i){return i.responseType&&i.responseType!=="text"||typeof i.responseText!="string"?i.response:i.responseText},ave=function(i,e,t){let n=sve(e);switch(t){case"jsonp":sF(n);break;case"script":sF(n),i.resolve(n,Jb,e);break;case"json":try{i.resolve(JSON.parse(n),Jb,e)}catch(o){i.reject(e,nve,o)}break;default:i.resolve(n,Jb,e)}},lve=function(i,e){return i&&setTimeout(function(){e.customStatus=tve,e.abort()},i)},dve=function(i){let e=DS.getXhr(),t=new le,n=t.promise(),o=U(i.async)?i.async:!0,r=i.dataType,s=i.timeout||0,a;i.crossDomain=U$(i.url);let l=r==="jsonp"||r==="script";i.cache===void 0&&(i.cache=!l);let d=$$(i),c=j$(i),u=W$(i,c),h=u.url,f=u.parameters;if(d&&(eve[d]=function(p){t.resolve(p,Jb,e)}),i.crossDomain&&l){let p=function(){t.reject(e,aF)},m=function(){r!=="jsonp"&&t.resolve(null,Jb,e)};return z$(h).then(m,p),n}if(i.crossDomain&&!("withCredentials"in e))return t.reject(e,aF),n;if(e.open(TS(i),h,o,i.username,i.password),o&&(e.timeout=s,a=lve(s,e)),e.onreadystatechange=function(p){e.readyState===4&&(clearTimeout(a),ove(e.status)?rve(e.status)?ave(t,e,r):t.resolve(null,ive,e):t.reject(e,e.customStatus||aF))},i.upload&&(e.upload.onprogress=i.upload.onprogress,e.upload.onloadstart=i.upload.onloadstart,e.upload.onabort=i.upload.onabort),i.xhrFields)for(let p in i.xhrFields)e[p]=i.xhrFields[p];i.responseType==="arraybuffer"&&(e.responseType=i.responseType);for(let p in c)Object.prototype.hasOwnProperty.call(c,p)&&U(c[p])&&e.setRequestHeader(p,c[p]);return i.beforeSend&&i.beforeSend(e),e.send(f),n.abort=function(){e.abort()},n},lF=_o({sendRequest:dve});var G$={};var K$=function(i,e,t){t=t||[],e=e||{};let n=function(s,a){return{name:s,args:a}},o=function(s){let a=new le,l,d,c,u,h,f=function(m){let g=e.errorHandler;g&&g(m),og(m),a.reject(m)};function p(m){switch(m.name){case"sortBy":return h=[m.args],!0;case"thenBy":if(!h)throw An.Error("E4004");return h.push(m.args),!0}return!1}try{l=e.adapter,Ie(l)||(l=G$[l]),d=l(e),c=[].concat(t).concat(s);let m=d.optimize;for(m&&m(c);c.length;){if(u=c[0],!p(u)){if(h){c.unshift(n("multiSort",[h])),h=null;continue}if(String(u.name)!=="enumerate"&&(!d[u.name]||d[u.name].apply(d,u.args)===!1))break}c.shift()}(function(){let g=c[0],b=[];g&&g.name==="multiSort"&&(c.shift(),ee(g.args[0],function(){b.push(n(b.length?"thenBy":"sortBy",this))})),c=b.concat(c)})(),d.exec(i).done(function(g,b){if(!c.length)a.resolve(g,b);else{let x=_h(g,{errorHandler:e.errorHandler});ee(c,function(){x=x[this.name].apply(x,this.args)}),x.done(a.resolve).fail(a.reject)}}).fail(f)}catch(m){f(m)}return a.promise()},r={};return ee(["sortBy","thenBy","filter","slice","select","groupBy"],function(){let s=String(this);r[s]=function(){return K$(i,e,t.concat(n(s,arguments)))}}),ee(["count","min","max","sum","avg","aggregate","enumerate"],function(){let s=String(this);r[s]=function(){return o.call(this,n(s,arguments))}}),r},q$=K$;var Y$={array:_h,remote:q$};var cve=function(){let i=Array.isArray(arguments[0])?"array":"remote";return Y$[i].apply(this,arguments)},ro=cve;var uve=Mc.inherit({ctor:function(i){Array.isArray(i)?i={data:i}:i=i||{},this.callBase(i);let e=i.data;if(e&&!Array.isArray(e))throw An.Error("E4006");this._array=e||[]},createQuery:function(){return ro(this._array,{errorHandler:this._errorHandler})},_byKeyImpl:function(i){let e=kc(this,this._array,i);return e===-1?ES(An.Error("E4009")):gh(this._array[e])},_insertImpl:function(i){return Yb(this,this._array,i)},_pushImpl:function(i){Na({keyInfo:this,data:this._array,changes:i})},_updateImpl:function(i,e){return qb(this,this._array,i,e)},_removeImpl:function(i){return ZR(this,this._array,i)},clear:function(){this._eventsStrategy.fireEvent("modifying"),this._array=[],this._eventsStrategy.fireEvent("modified")}},"array"),pd=uve;var hve=["items"],AS="canceled",dF=i=>i.state()==="pending",cF=i=>{switch(i.length){case 0:return;case 1:return i[0]}return[].slice.call(i)},pve=(i,e,t)=>tn(i,n=>{let o=ri(n,hve);return ye({},o,{items:X$(n.items,e-1,t)})}),X$=(i,e,t)=>Array.isArray(i)?e?pve(i,e,t):tn(i,t):i,Z$=(i,e,t)=>{let n=t?us(t).length:0;return X$(i,n,e)},kS=(i,e)=>{var t;return(t=i)!==null&&t!==void 0&&t.data&&(e=i,i=i.data),Array.isArray(i)||(i=[i]),{data:i,extra:e}},fve=i=>{let e={};return ee(["useDefaultSearch","key","load","loadMode","cacheRawData","byKey","lookup","totalCount","insert","update","remove"],function(){e[this]=i[this],delete i[this]}),new Gp(e)},mve=i=>{let e=i.type;return delete i.type,Mc.create(e,i)},gve=(i,e)=>new Gp({load:()=>lF.sendRequest({url:i,dataType:"json"}),loadMode:e?.fromUrlLoadMode}),qr=(i,e)=>{let t;return typeof i=="string"&&(i={paginate:!1,store:gve(i,e)}),i===void 0&&(i=[]),Array.isArray(i)||i instanceof Mc?i={store:i}:i=q({},i),i.store===void 0&&(i.store=[]),t=i.store,"load"in i?t=fve(i):Array.isArray(t)?t=new pd(t):ht(t)&&(t=mve(q({},t))),i.store=t,i};var MS=class{constructor(){this._counter=-1,this._deferreds={}}add(e){return this._counter++,this._deferreds[this._counter]=e,this._counter}remove(e){return delete this._deferreds[e]}cancel(e){return e in this._deferreds?(this._deferreds[e].reject(AS),!0):!1}cancelAll(){for(;this._counter>-1;)this.cancel(this._counter),this._counter--}};var Lo=Ut.inherit({ctor(i){if(i=qr(i),this._eventsStrategy=new Da(this,{syncStrategy:!0}),this._store=i.store,this._changedTime=0,i.pushAggregationTimeout!==0){let t=i.pushAggregationTimeout===void 0?()=>5*this._changedTime:i.pushAggregationTimeout,n,o,r=x$(s=>{n.resolve(),Be(...o).done(()=>this._onPush(s)),o=void 0,n=void 0},t);this._onPushHandler=s=>{this._aggregationTimeoutId=r(s.changes),n||(n=new le),o=s.waitFor,s.waitFor.push(n.promise())},this._store.on("beforePushAggregation",this._onPushHandler)}else this._onPushHandler=t=>this._onPush(t),this._store.on("push",this._onPushHandler);this._storeLoadOptions=this._extractLoadOptions(i),this._mapFunc=i.map,this._postProcessFunc=i.postProcess,this._pageIndex=i.pageIndex!==void 0?i.pageIndex:0,this._pageSize=i.pageSize!==void 0?i.pageSize:20,this._loadingCount=0,this._loadQueue=this._createLoadQueue(),this._searchValue="searchValue"in i?i.searchValue:null,this._searchOperation=i.searchOperation||"contains",this._searchExpr=i.searchExpr,this._paginate=i.paginate,this._reshapeOnPush=i.reshapeOnPush??!1,ee(["onChanged","onLoadError","onLoadingChanged","onCustomizeLoadResult","onCustomizeStoreLoadOptions"],(t,n)=>{n in i&&this.on(n.substr(2,1).toLowerCase()+n.substr(3),i[n])}),this._operationManager=new MS,this._init()},_init(){this._items=[],this._userData={},this._totalCount=-1,this._isLoaded=!1,U(this._paginate)||(this._paginate=!this.group()),this._isLastPage=!this._paginate},dispose(){var i;this._store.off("beforePushAggregation",this._onPushHandler),this._store.off("push",this._onPushHandler),this._eventsStrategy.dispose(),clearTimeout(this._aggregationTimeoutId),(i=this._delayedLoadTask)===null||i===void 0||i.abort(),this._operationManager.cancelAll(),delete this._store,delete this._items,delete this._delayedLoadTask,this._disposed=!0},_extractLoadOptions(i){let e={},t=["sort","filter","langParams","select","group","requireTotalCount"],n=this._store._customLoadOptions();return n&&(t=t.concat(n)),ee(t,function(){e[this]=i[this]}),e},loadOptions(){return this._storeLoadOptions},items(){return this._items},pageIndex(i){if(!ai(i))return this._pageIndex;this._pageIndex=i,this._isLastPage=!this._paginate},paginate(i){if(!Xu(i))return this._paginate;this._paginate!==i&&(this._paginate=i,this.pageIndex(0))},pageSize(i){if(!ai(i))return this._pageSize;this._pageSize=i},isLastPage(){return this._isLastPage},generateStoreLoadOptionAccessor(i){return e=>{let t=cF(e);if(t===void 0)return this._storeLoadOptions[i];this._storeLoadOptions[i]=t}},sort(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return this.generateStoreLoadOptionAccessor("sort")(e)},filter(){let i=cF(arguments);if(i===void 0)return this._storeLoadOptions.filter;this._storeLoadOptions.filter=i,this.pageIndex(0)},group(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return this.generateStoreLoadOptionAccessor("group")(e)},select(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return this.generateStoreLoadOptionAccessor("select")(e)},requireTotalCount(i){if(!Xu(i))return this._storeLoadOptions.requireTotalCount;this._storeLoadOptions.requireTotalCount=i},searchValue(i){if(arguments.length<1)return this._searchValue;this._searchValue=i,this.pageIndex(0)},searchOperation(i){if(!We(i))return this._searchOperation;this._searchOperation=i,this.pageIndex(0)},searchExpr(i){let e=arguments.length;if(e===0)return this._searchExpr;e>1&&(i=[].slice.call(arguments)),this._searchExpr=i,this.pageIndex(0)},store(){return this._store},key(){var i;return(i=this._store)===null||i===void 0?void 0:i.key()},totalCount(){return this._totalCount},isLoaded(){return this._isLoaded},isLoading(){return this._loadingCount>0},beginLoading(){this._changeLoadingCount(1)},endLoading(){this._changeLoadingCount(-1)},_createLoadQueue:()=>rF(),_changeLoadingCount(i){let e=this.isLoading();this._loadingCount+=i;let t=this.isLoading();e^t&&this._eventsStrategy.fireEvent("loadingChanged",[t])},_scheduleLoadCallbacks(i){this.beginLoading(),i.always(()=>{this.endLoading()})},_scheduleFailCallbacks(i){var e=this;i.fail(function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];n[0]!==AS&&e._eventsStrategy.fireEvent("loadError",n)})},_fireChanged(i){let e=new Date;this._eventsStrategy.fireEvent("changed",i),this._changedTime=new Date-e},_scheduleChangedCallbacks(i){i.done(()=>this._fireChanged())},loadSingle(i,e){let t=new le,n=this.key(),o=this._store,r=this._createStoreLoadOptions();return this._scheduleFailCallbacks(t),arguments.length<2&&(e=i,i=n),delete r.skip,delete r.group,delete r.refresh,delete r.pageIndex,delete r.searchString,(i===n||o instanceof Gp&&!o._byKeyViaLoad()?o.byKey(e,r):(r.take=1,r.filter=r.filter?[r.filter,[i,e]]:[i,e],o.load(r))).fail(t.reject).done(s=>{let a=Array.isArray(s)&&!s.length;!U(s)||a?t.reject(new An.Error("E4009")):(Array.isArray(s)||(s=[s]),t.resolve(this._applyMapFunction(s)[0]))}),t.promise()},load(){let i=new le,e=()=>{if(!this._disposed&&dF(i))return this._loadFromStore(t,i)};this._scheduleLoadCallbacks(i),this._scheduleFailCallbacks(i),this._scheduleChangedCallbacks(i);let t=this._createLoadOperation(i);return this._eventsStrategy.fireEvent("customizeStoreLoadOptions",[t]),this._loadQueue.add(()=>(typeof t.delay=="number"?this._delayedLoadTask=Nm(e,t.delay):e(),i.promise())),i.promise({operationId:t.operationId})},_onPush(i){if(this._reshapeOnPush)this.load();else{let e={changes:i};this._eventsStrategy.fireEvent("changing",[e]);let t=this.group(),n=this.items(),o=0,r=this.paginate()||t?i.filter(s=>s.type==="update"):i;t&&(o=Array.isArray(t)?t.length:1),this._mapFunc&&r.forEach(s=>{s.type==="insert"&&(s.data=this._mapFunc(s.data))}),e.postProcessChanges&&(r=e.postProcessChanges(r)),Na({keyInfo:this.store(),data:n,changes:r,groupCount:o,useInsertIndex:!0}),this._fireChanged([{changes:i}])}},_createLoadOperation(i){let e=this._operationManager.add(i),t=this._createStoreLoadOptions();return this._store&&!Gn(t?.langParams)&&(this._store._langParams=ye({},this._store._langParams,t.langParams)),i.always(()=>this._operationManager.remove(e)),{operationId:e,storeLoadOptions:t}},reload(){return this.store()._clearCache(),this._init(),this.load()},cancel(i){return this._operationManager.cancel(i)},cancelAll(){return this._operationManager.cancelAll()},_addSearchOptions(i){this._disposed||(this.store()._useDefaultSearch?this._addSearchFilter(i):(i.searchOperation=this._searchOperation,i.searchValue=this._searchValue,i.searchExpr=this._searchExpr))},_createStoreLoadOptions(){let i=q({},this._storeLoadOptions);return this._addSearchOptions(i),this._paginate&&this._pageSize&&(i.skip=this._pageIndex*this._pageSize,i.take=this._pageSize),i.userData=this._userData,i},_addSearchFilter(i){let e=this._searchValue,t=this._searchOperation,n=this._searchExpr,o=[];e&&(n||(n="this"),Array.isArray(n)||(n=[n]),ee(n,function(r,s){o.length&&o.push("or"),o.push([s,t,e])}),i.filter?i.filter=[o,i.filter]:i.filter=o)},_loadFromStore(i,e){let t=(n,o)=>{if(this._disposed||!dF(e))return;let r=q(kS(n,o),i);this._eventsStrategy.fireEvent("customizeLoadResult",[r]),Be(r.data).done(s=>{r.data=s,this._processStoreLoadResult(r,e)}).fail(e.reject)};return i.data?new le().resolve(i.data).done(t):this.store().load(i.storeLoadOptions).done(t).fail(e.reject)},_processStoreLoadResult(i,e){let t=i.data,n=i.extra,o=i.storeLoadOptions,r=()=>(this._isLoaded=!0,this._totalCount=isFinite(n.totalCount)?n.totalCount:-1,e.resolve(t,n)),s=()=>{this.store().totalCount(o).done(function(a){n.totalCount=a,r()}).fail(e.reject)};this._disposed||(t=this._applyPostProcessFunction(this._applyMapFunction(t)),Ke(n)||(n={}),this._items=t,(!t.length||!this._paginate||this._pageSize&&t.length<this._pageSize)&&(this._isLastPage=!0),o.requireTotalCount&&!isFinite(n.totalCount)?s():r())},_applyMapFunction(i){return this._mapFunc?Z$(i,this._mapFunc,this.group()):i},_applyPostProcessFunction(i){return this._postProcessFunc?this._postProcessFunc(i):i},on(i,e){return this._eventsStrategy.on(i,e),this},off(i,e){return this._eventsStrategy.off(i,e),this}});var _ve={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,quarter:7776e6,year:31536e6};function ev(i){return _ve[i]}var iv=7;var tv=["millisecond","second","minute","hour","day","week","month","quarter","year"],bve=function(i,e,t){let n=e.getTime()-i.getTime(),o=ev(t)||1;return Math.floor(n/o)},vve=function(i,e){switch(PS(i)){case"millisecond":return"second";case"second":return"minute";case"minute":return"hour";case"hour":return"day";case"day":return e?"week":"month";case"week":return"month";case"month":return"quarter";case"quarter":case"year":return"year";default:return 0}},eW=function(i){let e,t,n,o=["millisecond","second","minute","hour","day","month","year"],r={};for(e=o.length-1;e>=0;e--)n=o[e],t=Math.floor(i/ev(n)),t>0&&(r[n+"s"]=t,i-=RS(n,t));return r},yve=function(i){let e=0;return Ke(i)&&ee(i,function(t,n){e+=RS(t.substr(0,t.length-1),n)}),We(i)&&(e=RS(i,1)),e};function RS(i,e){return ev(i)*e}function PS(i){let e=-1,t;return We(i)?i:Ke(i)?(ee(i,function(n,o){for(t=0;t<tv.length;t++)o&&(n===tv[t]+"s"||n===tv[t])&&e<t&&(e=t)}),tv[e]):""}var xve={millisecond:"millisecond",second:"longtime",minute:"shorttime",hour:"shorttime",day:"day",week:"day",month:"month",quarter:"quarter",year:"year"};function Cve(i){return xve[PS(i)]||""}var tW=function(i){return Math.floor(i/3)},iW=function(i){return 3*tW(i)};function nW(i,e,t,n){i=new Date(i.getTime());let o=new Date(i.getTime()),r,s,a=PS(e);switch(a){case"second":i=new Date(1e3*Math.floor(o.getTime()/1e3));break;case"minute":i=new Date(6e4*Math.floor(o.getTime()/6e4));break;case"hour":i=new Date(36e5*Math.floor(o.getTime()/36e5));break;case"year":i.setMonth(0);case"month":i.setDate(1);case"day":i.setHours(0,0,0,0);break;case"week":i=dW(i,n||0),i.setHours(0,0,0,0);break;case"quarter":r=iW(i.getMonth()),s=i.getMonth(),i.setDate(1),i.setHours(0,0,0,0),s!==r&&i.setMonth(r)}return t&&a!=="hour"&&a!=="minute"&&a!=="second"&&hW(o,i),i}function oW(i){return nW(i,"day")}var wve=function(i){let e=oW(i);return e.setDate(e.getDate()+1),new Date(e.getTime()-1)},Sve=function(i,e){let t=0,n={year:i.getFullYear()!==e.getFullYear(),month:i.getMonth()!==e.getMonth(),day:i.getDate()!==e.getDate(),hour:i.getHours()!==e.getHours(),minute:i.getMinutes()!==e.getMinutes(),second:i.getSeconds()!==e.getSeconds(),millisecond:i.getMilliseconds()!==e.getMilliseconds()};return ee(n,function(o,r){r&&t++}),t===0&&pW(i,e)!==0&&(n.hour=!0,t++),n.count=t,n};function rW(i,e,t){let n=new Date(i.getTime()),o=We(e)?aW(e.toLowerCase()):ai(e)?eW(e):e;return o.years&&n.setFullYear(n.getFullYear()+o.years*t),o.quarters&&n.setMonth(n.getMonth()+3*o.quarters*t),o.months&&n.setMonth(n.getMonth()+o.months*t),o.weeks&&n.setDate(n.getDate()+7*o.weeks*t),o.days&&n.setDate(n.getDate()+o.days*t),o.hours&&n.setTime(n.getTime()+36e5*o.hours*t),o.minutes&&n.setTime(n.getTime()+6e4*o.minutes*t),o.seconds&&n.setTime(n.getTime()+1e3*o.seconds*t),o.milliseconds&&n.setTime(n.getTime()+o.milliseconds*t),n}var sW=function(i,e,t){let n=t?-1:1;return no(i)?rW(i,e,n):_b(i+e*n,e)},Eve=function(i,e,t){let n=[],o;for(n.push(no(i)?new Date(i.getTime()):i),o=i;o<e;)o=sW(o,t),n.push(o);return n},Ove=function(i,e){if(i==="month")return ia(e.getFullYear(),e.getMonth(),1);if(i==="year")return ia(e.getFullYear(),0,e.getDate());if(i==="decade")return ia(ov(e),e.getMonth(),e.getDate());if(i==="century")return ia(nv(e),e.getMonth(),e.getDate())},Ive=function(i,e){if(i==="month")return ia(e.getFullYear(),e.getMonth(),FS(e));if(i==="year")return ia(e.getFullYear(),11,e.getDate());if(i==="decade")return ia(ov(e)+9,e.getMonth(),e.getDate());if(i==="century")return ia(nv(e)+90,e.getMonth(),e.getDate())},Dve=function(i,e){let t=ia(e.getFullYear(),e.getMonth(),1);return i==="month"||(t.setMonth(0),i==="year")||(i==="decade"&&t.setFullYear(ov(e)),i==="century"&&t.setFullYear(nv(e))),t},Tve=function(i,e){let t=new Date(e);return t.setDate(FS(e)),i==="month"||(t.setMonth(11),t.setDate(FS(t)),i==="year")||(i==="decade"&&t.setFullYear(ov(e)+9),i==="century"&&t.setFullYear(nv(e)+99)),t};function FS(i){return ia(i.getFullYear(),i.getMonth()+1,0).getDate()}var Ave=function(i){switch(i){case"month":return"year";case"year":return"decade";case"decade":return"century"}},kve=function(i){switch(i){case"century":return"decade";case"decade":return"year";case"year":return"month"}},Mve=function(i){let e=1;return i==="year"&&(e=12),i==="decade"&&(e=120),i==="century"&&(e=1200),e},Rve=function(i){let e=1;return i==="decade"&&(e=12),i==="century"&&(e=120),e};function aW(i){let e={};switch(i){case"year":e.years=1;break;case"month":e.months=1;break;case"quarter":e.months=3;break;case"week":e.weeks=1;break;case"day":e.days=1;break;case"hour":e.hours=1;break;case"minute":e.minutes=1;break;case"second":e.seconds=1;break;case"millisecond":e.milliseconds=1}return e}function Fve(i,e){return hF(i,e)&&i.getDate()===e.getDate()}function hF(i,e){return lW(i,e)&&i.getMonth()===e.getMonth()}function lW(i,e){return i&&e&&i.getFullYear()===e.getFullYear()}function Pve(i,e){return i&&e&&i.getHours()===e.getHours()&&i.getMinutes()===e.getMinutes()}var Lve=function(i,e){if(!U(i)||!U(e))return;let t=i.getFullYear()-i.getFullYear()%10,n=e.getFullYear()-e.getFullYear()%10;return i&&e&&t===n},Nve=function(i,e){if(!U(i)||!U(e))return;let t=i.getFullYear()-i.getFullYear()%100,n=e.getFullYear()-e.getFullYear()%100;return i&&e&&t===n};function nv(i){return i&&i.getFullYear()-i.getFullYear()%100}function ov(i){return i&&i.getFullYear()-i.getFullYear()%10}var Bve=function(){return"yyyy/MM/dd"},Vve=function(i){if(U(i))return ia(i.getFullYear(),i.getMonth(),1)},Hve=function(i){if(U(i))return ia(i.getFullYear(),i.getMonth()+1,0)};function dW(i,e){let t=(i.getDay()-e+iv)%iv,n=new Date(i);return n.setDate(i.getDate()-t),n}function Q$(i){return Date.UTC(i.getFullYear(),i.getMonth(),i.getDate())}function zve(i){let e=Q$(i)-Q$(cW(i.getFullYear()));return 1+Math.floor(e/ev("day"))}function cW(i){return new Date(i,0,1)}function uF(i){return new Date(i,11,31)}function J$(i,e){let t=i.getDay()-e+1;return t<=0&&(t+=iv),t}function pF(i,e,t){let n=J$(cW(i.getFullYear()),e),o=J$(uF(i.getFullYear()),e),r=iv-n+1,s=Math.ceil((zve(i)-r)/7);switch(t){case"fullWeek":if(r===iv&&s++,s===0){let a=uF(i.getFullYear()-1);return pF(a,e,t)}return s;case"firstDay":{r>0&&s++;let a=n===7||o===7;return(s>52&&!a||s===54)&&(s=1),s}case"firstFourDays":{r>3&&s++;let a=n===4||o===4;if(s>52&&!a&&(s=1),s===0){let l=uF(i.getFullYear()-1);return pF(l,e,t)}return s}}}var jve=function(i,e){let t=Kp.getDatesInterval(i,e,"day"),n=new Date(i);return t>=6&&(n=new Date(n.setDate(n.getDate()+7))),n},$ve=function(i,e,t,n){return n==="date"&&(e=e&&Kp.correctDateWithUnitBeginning(e,"day"),t=t&&Kp.correctDateWithUnitBeginning(t,"day"),i=i&&Kp.correctDateWithUnitBeginning(i,"day")),uW(i,e,t)===i},Wve=function(i){let{firstMin:e,firstMax:t,secondMin:n,secondMax:o}=i;return e<=n&&n<=t||e>n&&e<o||e<o&&t>o},Uve=function(i){let e=Math.floor(i),t=i%1*60;return{hours:e,minutes:t}},Gve=function(i,e){let t=this.dateTimeFromDecimal(e),n=new Date(i);return(i.getHours()===t.hours&&i.getMinutes()<t.minutes||i.getHours()<t.hours)&&n.setHours(t.hours,t.minutes,0,0),n};function uW(i,e,t){let n=i;return U(i)?(U(e)&&i<e&&(n=e),U(t)&&i>t&&(n=t),n):i}function hW(i,e){if(!U(i))return;let t=e.getHours()-i.getHours();if(t===0)return;let n=t===1||t===-23?-1:1,o=new Date(e.getTime()+36e5*n);(n>0||o.getDate()===e.getDate())&&e.setTime(o.getTime())}var Kve=function(i){let e=new Date(i.getTime());return e.setHours(e.getHours()+1),e.setMinutes(0),e};function pW(i,e){return 60*(e.getTimezoneOffset()-i.getTimezoneOffset())*1e3}var qve=function(i){return new Date(i)},Yve=function(i,e,t){let n=[],o=new Date(i.getTime());for(;o<e;)n.push(new Date(o.getTime())),o=this.addInterval(o,t);return n},ia=function(i){let e=new Date(...arguments);return e.setFullYear(i),e},Xve=()=>typeof Intl<"u"?Intl.DateTimeFormat().resolvedOptions().timeZone:null,Kp={dateUnitIntervals:tv,convertMillisecondsToDateUnits:eW,dateToMilliseconds:yve,getNextDateUnit:vve,convertDateUnitToMilliseconds:RS,getDateUnitInterval:PS,getDateFormatByTickInterval:Cve,getDatesDifferences:Sve,correctDateWithUnitBeginning:nW,trimTime:oW,setToDayEnd:wve,roundDateByStartDayHour:Gve,dateTimeFromDecimal:Uve,addDateInterval:rW,addInterval:sW,getSequenceByInterval:Eve,getDateIntervalByString:aW,sameHoursAndMinutes:Pve,sameDate:Fve,sameMonthAndYear:hF,sameMonth:hF,sameYear:lW,sameDecade:Lve,sameCentury:Nve,getDifferenceInMonth:Mve,getDifferenceInMonthForCells:Rve,getFirstYearInDecade:ov,getFirstDecadeInCentury:nv,getShortDateFormat:Bve,getViewFirstCellDate:Ove,getViewLastCellDate:Ive,getViewDown:kve,getViewUp:Ave,getLastMonthDay:FS,getLastMonthDate:Hve,getFirstMonthDate:Vve,getFirstWeekDate:dW,getWeekNumber:pF,normalizeDateByWeek:jve,getQuarter:tW,getFirstQuarterMonth:iW,dateInRange:$ve,intervalsOverlap:Wve,roundToHour:Kve,normalizeDate:uW,getViewMinBoundaryDate:Dve,getViewMaxBoundaryDate:Tve,fixTimezoneGap:hW,getTimezonesDifference:pW,makeDate:qve,getDatesInterval:bve,getDatesOfInterval:Yve,createDateWithFullYear:ia,getMachineTimezoneName:Xve};Kp.sameView=function(i,e,t){return Kp[ld("same "+i)](e,t)};var st=Kp;var LS=_o({format:function(i,e){let t=We(e)&&e!==""||ht(e)||Ie(e),n=ai(i)||no(i);if(!t||!n)return U(i)?i.toString():"";if(Ie(e))return e(i);if(We(e)&&(e={type:e}),ai(i))return Ii.format(i,e);if(no(i))return It.format(i,e)},getTimeFormat:function(i){return i?"longtime":"shorttime"},_normalizeFormat:function(i){return Array.isArray(i)?i.length===1?i[0]:function(e){return i.map(function(t){return It.format(e,t)}).join(" ")}:i},getDateFormatByDifferences:function(i,e){let t=[],n=e&&i.millisecond&&!(i.year||i.month||i.day);if(n){let o=function(r){return r.getSeconds()+r.getMilliseconds()/1e3+"s"};t.push(o)}else i.millisecond&&t.push("millisecond");if((i.hour||i.minute||!n&&i.second)&&t.unshift(this.getTimeFormat(i.second)),i.year&&i.month&&i.day)return e&&e==="month"?"monthandyear":(t.unshift("shortdate"),this._normalizeFormat(t));if(i.year&&i.month)return"monthandyear";if(i.year&&i.quarter)return"quarterandyear";if(i.year)return"year";if(i.quarter)return"quarter";if(i.month&&i.day){if(e){let o=function(r){return It.getMonthNames("abbreviated")[r.getMonth()]+" "+It.format(r,"day")};t.unshift(o)}else t.unshift("monthandday");return this._normalizeFormat(t)}if(i.month)return"month";if(i.day){if(e)t.unshift("day");else{let o=function(r){return It.format(r,"dayofweek")+", "+It.format(r,"day")};t.unshift(o)}return this._normalizeFormat(t)}return this._normalizeFormat(t)},getDateFormatByTicks:function(i){let e,t,n;if(i.length>1)for(e=st.getDatesDifferences(i[0],i[1]),n=1;n<i.length-1;n++)t=st.getDatesDifferences(i[n],i[n+1]),e.count<t.count&&(e=t);else e={year:!0,month:!0,day:!0,hour:i[0].getHours()>0,minute:i[0].getMinutes()>0,second:i[0].getSeconds()>0,millisecond:i[0].getMilliseconds()>0};return this.getDateFormatByDifferences(e)},getDateFormatByTickInterval:function(i,e,t){let n,o=function(a,l,d){switch(l){case"year":case"quarter":a.month=d;case"month":a.day=d;case"week":case"day":a.hour=d;case"hour":a.minute=d;case"minute":a.second=d;case"second":a.millisecond=d}};t=We(t)?t.toLowerCase():t;let r=st.getDatesDifferences(i,e);return i!==e&&function(a,l,d){!d.getMilliseconds()&&d.getSeconds()?d.getSeconds()-l.getSeconds()===1&&(a.millisecond=!0,a.second=!1):!d.getSeconds()&&d.getMinutes()?d.getMinutes()-l.getMinutes()===1&&(a.second=!0,a.minute=!1):!d.getMinutes()&&d.getHours()?d.getHours()-l.getHours()===1&&(a.minute=!0,a.hour=!1):!d.getHours()&&d.getDate()>1?d.getDate()-l.getDate()===1&&(a.hour=!0,a.day=!1):d.getDate()===1&&d.getMonth()?d.getMonth()-l.getMonth()===1&&(a.day=!0,a.month=!1):!d.getMonth()&&d.getFullYear()&&d.getFullYear()-l.getFullYear()===1&&(a.month=!0,a.year=!1)}(r,i>e?e:i,i>e?i:e),n=st.getDateUnitInterval(r),o(r,n,!0),n=st.getDateUnitInterval(t||"second"),o(r,n,!1),r[{week:"day"}[n]||n]=!0,this.getDateFormatByDifferences(r)}});var Zve=["year","month","day"],Qve=["year","month","day","hour","minute"],mF=function(i){return i==="date"||i==="datetime"},fF=function(i){let e,t=[],n=["year","month","day","hour","minute","second"],o=i.headerFilter&&i.headerFilter.groupInterval,r=o==="quarter"?"month":o;if(mF(i.dataType)&&o!==null)return t=i.dataType==="datetime"?Qve:Zve,e=n.indexOf(r),e>=0&&(t=n.slice(0,e),t.push(o)),t;if(U(o))return Array.isArray(o)?o:[o]},Ba=function(){let i=function(o,r){let s=o.dataField||o.selector;return r==="search"&&(s=o.displayField||o.calculateDisplayValue||s),s},e=function(o,r){let s=this,a,l,d,c=i(s,r);if(Array.isArray(o)&&U(o[0])&&U(o[1]))return l=[c,">=",o[0]],d=[c,"<=",o[1]],mF(s.dataType)&&(u=o[1],u.getHours()+u.getMinutes()+u.getSeconds()+u.getMilliseconds()<1)&&(a=new Date(o[1].getTime()),s.dataType==="date"&&a.setDate(o[1].getDate()+1),d=[c,"<",a]),[l,"and",d];var u},t=function(o,r,s){let a=this,l,d,c,u=function(f){return no(f)?[f.getFullYear(),f.getMonth(),f.getDate(),f.getHours(),f.getMinutes(),f.getSeconds()]:tn((""+f).split("/"),function(p,m){return m===1?Number(p)-1:Number(p)})}(o),h=i(a,s);switch(s==="headerFilter"?c=fF(a)[u.length-1]:a.dataType==="datetime"&&(c="minute"),c){case"year":l=new Date(u[0],0,1),d=new Date(u[0]+1,0,1);break;case"month":l=new Date(u[0],u[1],1),d=new Date(u[0],u[1]+1,1);break;case"quarter":l=new Date(u[0],3*u[1],1),d=new Date(u[0],3*u[1]+3,1);break;case"hour":l=new Date(u[0],u[1],u[2],u[3]),d=new Date(u[0],u[1],u[2],u[3]+1);break;case"minute":l=new Date(u[0],u[1],u[2],u[3],u[4]),d=new Date(u[0],u[1],u[2],u[3],u[4]+1);break;case"second":l=new Date(u[0],u[1],u[2],u[3],u[4],u[5]),d=new Date(u[0],u[1],u[2],u[3],u[4],u[5]+1);break;default:l=new Date(u[0],u[1],u[2]),d=new Date(u[0],u[1],u[2]+1)}switch(r){case"<":return[h,"<",l];case"<=":return[h,"<",d];case">":return[h,">=",d];case">=":return[h,">=",l];case"<>":return[[h,"<",l],"or",[h,">=",d]];default:return[[h,">=",l],"and",[h,"<",d]]}},n=function(o,r,s){let a=i(this,s),l=fF(this);if(s==="headerFilter"&&l&&U(o)){let d=(""+o).split("/"),c=Number(d[d.length-1]),u=l[d.length-1],h=[a,">=",c],f=[a,"<",c+u];return[h,"and",f]}return[a,r||"=",o]};return{defaultCalculateFilterExpression:function(o,r,s){let a=this,l=i(a,s),d=a.calculateDisplayValue&&s==="search",c=d&&a.lookup&&a.lookup.dataType||a.dataType,u=null;if((s==="headerFilter"||s==="filterBuilder")&&o===null)u=[l,r||"=",null],c==="string"&&(u=[u,r==="="?"or":"and",[l,r||"=",""]]);else if(c==="string"&&(!a.lookup||d))u=[l,r||"contains",o];else{if(r==="between")return e.apply(a,[o,s]);if(mF(c)&&U(o))return t.apply(a,arguments);if(c==="number")return n.apply(a,arguments);u=[l,r||"=",o]}return u},getGroupInterval:fF}}();var Jve="scrolling.legacyMode";var eye="scrolling.rowRenderingMode",tye={year:i=>i&&i.getFullYear(),month:i=>i&&i.getMonth()+1,day:i=>i&&i.getDate(),quarter:i=>i&&Math.floor(i.getMonth()/3)+1,hour:i=>i&&i.getHours(),minute:i=>i&&i.getMinutes(),second:i=>i&&i.getSeconds()},iye=function(){let i=arguments[1],e=this.calculateCellValue(i);if(!U(e))return null;if(_W(this.dataType)){let t=arguments[0];return tye[t](e)}if(this.dataType==="number"){let t=arguments[0];return Math.floor(Number(e)/t)*t}},nye=function(i,e){return Ie(i)&&Ie(e)&&i.originalCallback&&e.originalCallback?i.originalCallback===e.originalCallback&&i.columnIndex===e.columnIndex:i===e};function _W(i){return i==="date"||i==="datetime"}var fW=function(i){i.get(0).textContent="\xA0"},gF=function(i){i=i||[];let e=us(i);for(let t=0;t<i.length;t++)i&&i[t]&&i[t].isExpanded!==void 0&&(e[t].isExpanded=i[t].isExpanded),i&&i[t]&&i[t].groupInterval!==void 0&&(e[t].groupInterval=i[t].groupInterval);return e},bW=function(i,e){let t=LS.format(i,e.format)||i&&i.toString()||"",n={value:i,valueText:e.getDisplayFormat?e.getDisplayFormat(t):t,target:e.target||"row",groupInterval:e.groupInterval};return e.customizeText?e.customizeText.call(e,n):n.valueText},mW=function(i,e){let t=i.displayFormat||i.columnCaption&&e[`${i.summaryType}OtherColumn`]||e[i.summaryType];return bW(i.value,{format:i.valueFormat,getDisplayFormat:n=>t?rr(t,n,i.columnCaption):n,customizeText:i.customizeText})},gW=function(i){let e=i.data&&i.data(),t=e&&e.dxComponents,n=t&&t[0];return n&&e[n]},vW=function(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(!vW(i[t],e[t]))return!1;return!0}return Ie(i)&&i.columnIndex>=0&&Ie(e)&&e.columnIndex>=0?i.columnIndex===e.columnIndex&&uo(i.filterValue)===uo(e.filterValue)&&uo(i.selectedFilterOperation)===uo(e.selectedFilterOperation):uo(i)==uo(e)};function oye(i){return Array.isArray(i)||(i=[i]),i.map((e,t)=>We(e)?{selector:e,isExpanded:t<i.length-1}:e)}var De={renderNoDataText(i){let e=this;if(i=i||this.element(),!i)return;let t=e.addWidgetPrefix("nodata"),n=i.find(`.${t}`).last(),o=this._dataController.isEmpty(),r=this._dataController.isLoading();n.length||(n=I("<span>").addClass(t)),n.parent().is(i)||n.appendTo(i),o&&!r?n.removeClass("dx-hidden").text(e._getNoDataText()):n.addClass("dx-hidden")},renderLoadPanel(i,e,t){let n=this,o;n._loadPanel&&n._loadPanel.$element().remove(),o=n.option("loadPanel"),o&&(o.enabled==="auto"?!t:o.enabled)?(o=q({shading:!1,message:o.text,container:e},o),n._loadPanel=n._createComponent(I("<div>").appendTo(e),ng,o)):n._loadPanel=null},calculateLoadPanelPosition(i){let e=I(et());return ft(i)>ft(e)?{of:e,boundary:i,collision:"fit"}:{of:i}},getIndexByKey(i,e,t){let n=-1;if(i!==void 0&&Array.isArray(e)){t=arguments.length<=2?"key":t;for(let o=0;o<e.length;o++){let r=U(t)?e[o][t]:e[o];if(hi(i,r)){n=o;break}}}return n},combineFilters(i,e){let t=[];e=e||"and";for(let o=0;o<i.length;o++){var n;if(i[o]){if(((n=i[o])===null||n===void 0?void 0:n.length)===1&&i[o][0]==="!"){if(e==="and")return["!"];if(e==="or")continue}t.length&&t.push(e),t.push(i[o])}}if(t.length===1&&(t=t[0]),t.length)return t},checkChanges(i,e){let t=0;for(let n=0;n<e.length;n++)i[e[n]]&&t++;return i.length&&i.length===t},equalFilterParameters:vW,proxyMethod(i,e,t){i[e]||(i[e]=function(){let n=this._dataSource;return n?n[e].apply(n,arguments):t})},formatValue:bW,getFormatOptionsByColumn:(i,e)=>({format:i.format,getDisplayFormat:i.getDisplayFormat,customizeText:i.customizeText,target:e,trueText:i.trueText,falseText:i.falseText}),getDisplayValue(i,e,t,n){return i.displayValueMap&&i.displayValueMap[e]!==void 0?i.displayValueMap[e]:i.calculateDisplayValue&&t&&n!=="group"?i.calculateDisplayValue(t):i.lookup&&!(n==="group"&&(i.calculateGroupValue||i.calculateDisplayValue))?i.lookup.calculateCellValue(e):e},getGroupRowSummaryText(i,e){let t="(";for(let n=0;n<i.length;n++){let o=i[n];t+=(n>0?", ":"")+mW(o,e)}return t+")"},getSummaryText:mW,normalizeSortingInfo:gF,getFormatByDataType(i){switch(i){case"date":return"shortDate";case"datetime":return"shortDateShortTime";default:return}},getHeaderFilterGroupParameters(i,e){let t=[],n=i.dataField||i.name,o=Ba.getGroupInterval(i);return o?(ee(o,(r,s)=>{t.push(e?{selector:n,groupInterval:s,isExpanded:r<o.length-1}:iye.bind(i,s))}),t):(e?t=[{selector:n,isExpanded:!1}]:(t=function(r){let s=i.calculateCellValue(r);return(s===void 0||s==="")&&(s=null),s},i.sortingMethod&&(t=[{selector:t,compare:i.sortingMethod.bind(i)}])),t)},equalSortParameters(i,e,t){if(i=gF(i),e=gF(e),Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;for(let n=0;n<i.length;n++)if(!nye(i[n].selector,e[n].selector)||i[n].desc!==e[n].desc||i[n].groupInterval!==e[n].groupInterval||!t&&!!i[n].isExpanded!=!!e[n].isExpanded)return!1;return!0}return(!i||!i.length)==(!e||!e.length)},getPointsByColumns(i,e,t,n){let o=i.length,r=!1,s,a,l=n||0,d=[],c;for(let u=0;u<=o;u++){u<o&&(s=i.eq(u),a=s.offset(),c=s.css("direction")==="rtl");let h={index:l,x:a?a.left+(!t&&c^u===o?un(s[0]).width:0):0,y:a?a.top+(t&&u===o?un(s[0]).height:0):0,columnIndex:l};if(!t&&u>0){let f=i.eq(u-1).offset();f.top<h.y&&(h.y=f.top)}e&&(r=e(h)),r||d.push(h),l++}return d},getExpandCellTemplate:()=>({allowRenderToDetachedContainer:!0,render(i,e){let t=I(i);if(U(e.value)&&!(e.data&&e.data.isContinuation)&&!e.row.isNewRow){let n=e.component.getView("rowsView");t.addClass("dx-datagrid-expand").addClass("dx-selection-disabled"),I("<div>").addClass(e.value?"dx-datagrid-group-opened":"dx-datagrid-group-closed").appendTo(t),n.setAria("label",e.value?n.localize("dxDataGrid-ariaCollapse"):n.localize("dxDataGrid-ariaExpand"),t)}else fW(t)}}),setEmptyText:fW,isDateType:_W,getSelectionRange(i){try{if(i)return{selectionStart:i.selectionStart,selectionEnd:i.selectionEnd}}catch{}return{}},setSelectionRange(i,e){try{i&&i.setSelectionRange&&i.setSelectionRange(e.selectionStart,e.selectionEnd)}catch{}},focusAndSelectElement(i,e){let t=e.is(":focus");X.trigger(e,"focus");let n=i.option("editing.selectTextOnEditStart"),o=e.get(0);if(!t&&n&&e.is(".dx-texteditor-input")&&!e.is("[readonly]")){let r=gW(e.closest(".dx-texteditor"));Be(r&&r._loadItemDeferred).done(()=>{o.select()})}},getWidgetInstance:gW,getLastResizableColumnIndex(i,e){let t=i.some(o=>o&&!o.command&&!o.fixed&&o.allowResizing!==!1),n;for(n=i.length-1;i[n];n--){let o=i[n],r=e&&e[n],s=!t||o.allowResizing!==!1;if(!o.command&&!o.fixed&&r!=="adaptiveHidden"&&s)break}return n},isElementInCurrentGrid(i,e){return e&&e.length?e.closest(`.${i.getWidgetContainerClass()}`).parent().is(i.component.$element()):!1},isVirtualRowRendering(i){let e=i.option(eye),t=i.option("scrolling.mode")==="virtual",n=i.option("scrolling.mode")==="infinite";return i.option(Jve)===!1&&(t||n)?!0:e==="virtual"},getPixelRatio:i=>i.devicePixelRatio||1,getContentHeightLimit(i){return i.mozilla?8e6:15e6/this.getPixelRatio(et())},normalizeLookupDataSource(i){let e;return i.items?e=i.items:(e=i.dataSource,Ie(e)&&!bo.isWrapped(e)&&(e=e({}))),qr(e)},getWrappedLookupDataSource(i,e,t){if(!e)return[];let n=this.normalizeLookupDataSource(i.lookup);if(i.calculateCellValue!==i.defaultCalculateCellValue)return n;let o=e.remoteOperations().groupPaging,r=i.displayField&&We(i.displayField),s,a,l,d=(u,h)=>{let f=h.skip??0,p=h.take?f+h.take:u.length;return u.slice(f,p)};return ye({},n,{__dataGridSourceFilter:t,load:u=>{let h=new le;return(f=>{let p=oye(r?[i.dataField,i.displayField]:i.dataField),m=new le;return s&&(!o||f.skip===l&&f.take===a)?m.resolve(d(s,f)):(l=f.skip,a=f.take,e.load({filter:t,group:p,take:o?f.take:void 0,skip:o?f.skip:void 0}).done(b=>{s=b,m.resolve(o?b:d(b,f))}).fail(m.fail)),m})(u).done(f=>{if(f.length===0){h.resolve([]);return}let p=this.combineFilters(f.flatMap(g=>g.key).map(g=>[i.lookup.valueExpr,g]),"or");new Lo(ye({},n,u,{filter:this.combineFilters([p,u.filter],"and"),paginate:!1})).load().done(h.resolve).fail(h.fail)}).fail(h.fail),h},key:i.lookup.valueExpr,byKey(u){let h=le();return this.load({filter:[i.lookup.valueExpr,"=",u]}).done(f=>{h.resolve(f[0])}),h.promise()}})},logHeaderFilterDeprecatedWarningIfNeed(i){let e=i._logDeprecatedOptionWarning.bind(i);U(i.option("headerFilter.allowSearch"))&&e("headerFilter.allowSearch",{since:"23.1",alias:"headerFilter.search.enabled"}),U(i.option("headerFilter.searchTimeout"))&&e("headerFilter.searchTimeout",{since:"23.1",alias:"headerFilter.search.timeout"});let t=i.NAME==="dxPivotGrid"?"dataSource.fields":"columns",n=i.option(t);if(!Array.isArray(n))return;let o=r=>{r.forEach(s=>{var a;let l=s.headerFilter||{};U(l.allowSearch)&&e(`${t}[].headerFilter.allowSearch`,{since:"23.1",alias:`${t}[].headerFilter.search.enabled`}),U(l.searchMode)&&e(`${t}[].headerFilter.searchMode`,{since:"23.1",alias:`${t}[].headerFilter.search.mode`}),(a=s.columns)!==null&&a!==void 0&&a.length&&o(s.columns)})};o(n)}};var NS=class{constructor(e,t,n,o){this._$targetElement=t,this._$container=n,this._loadPanel=e._createComponent(I("<div>").addClass("dx-export-loadpanel").appendTo(this._$container),ng,this.getOptions(o))}getDefaultOptions(){return{animation:null,shading:!1,height:90,width:200,container:this._$container}}getOptions(e){return U(e.text)?e.message=e.text:e.message=de.format("dxDataGrid-exporting"),q(this.getDefaultOptions(),e)}show(){this._loadPanel.option("position",De.calculateLoadPanelPosition(this._$targetElement)),this._loadPanel.show()}dispose(){I(this._loadPanel.element()).remove(),delete this._loadPanel}};var BS={getFullOptions(i){let e=q({},i);if(!(U(e.worksheet)&&Ke(e.worksheet)))throw Error('The "worksheet" field must contain an object.');if(!U(e.topLeftCell))e.topLeftCell={row:1,column:1};else if(We(e.topLeftCell)){let{row:t,col:n}=e.worksheet.getCell(e.topLeftCell);e.topLeftCell={row:t,column:n}}return U(e.keepColumnWidths)||(e.keepColumnWidths=!0),U(e.loadPanel)||(e.loadPanel={}),U(e.loadPanel.enabled)||(e.loadPanel.enabled=!0),U(e.encodeExecutableContent)||(e.encodeExecutableContent=!1),e},convertDateForExcelJS:i=>new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())),setNumberFormat(i,e){i.numFmt=e},getCellStyles(i){let e=i.getStyles();return e.forEach(t=>{let n=this.tryConvertToExcelNumberFormat(t.format,t.dataType);U(n)&&(n=n.replace(/&quot;/g,'"')),t.numberFormat=n}),e},tryConvertToExcelNumberFormat(i,e){let t=Pw.formatObjectConverter(i,e),n=t.currency;return i=t.format,e=t.dataType,Pw.convertFormat(i,t.precision,e,n)},setAlignment(i,e,t){i.alignment=i.alignment??{},U(e)&&(i.alignment.wrapText=e),U(t)&&(i.alignment.horizontal=t),i.alignment.vertical="top"},setColumnsWidth(i,e,t){if(U(e))for(let n=0;n<e.length;n++){let o=e[n];typeof o=="number"&&isFinite(o)&&(i.getColumn(t+n).width=Math.min(255,Math.floor(o/7*100)/100))}},export(i,e,t,n){var o;let{component:r,worksheet:s,topLeftCell:a,keepColumnWidths:l,selectedRowsOnly:d,loadPanel:c,encodeExecutableContent:u}=i,h=r.getDataProvider(d),f=((o=r._getInternalInstance)===null||o===void 0?void 0:o.call(r))||r,p=f.option("loadPanel")&&f.option("loadPanel").enabled;p&&r.option("loadPanel.enabled",!1);let m;if(c.enabled&&it()){let x=t(r),E=n(r);m=new NS(r,x,E,c),m.show()}let g=!!r.option("wordWrapEnabled");s.properties.outlineProperties={summaryBelow:!1,summaryRight:!1};let b={from:{row:a.row,column:a.column},to:{row:a.row,column:a.column}};return new Promise(x=>{h.ready().done(()=>{let E=h.getColumns(),D=h.getRowsCount(),L=new e(r,h,s,i);l&&this.setColumnsWidth(s,h.getColumnsWidths(),b.from.column),L._exportAllFieldHeaders(E,this.setAlignment);let k=L._getFieldHeaderRowsCount();b.to.row=b.from.row+k;let R=this.getCellStyles(h);for(let z=0;z<D;z++){let V=b.from.row+k+z,S=s.getRow(V),T=0;L._isRowFieldHeadersRow(z)&&(T=h.getRowAreaColCount(),L._exportFieldHeaders("row",V,0,T,this.setAlignment)),L._trySetOutlineLevel(S,z),this.exportRow(h,L,S,z,T,E.length,g,R,u),b.to.row=V}L.mergedRangesManager.applyMergedRages(),b.to.column+=E.length>0?E.length-1:0;let N=s.views[0]||{};r.option("rtlEnabled")&&(N.rightToLeft=!0),L._isFrozenZone(h)&&(Object.keys(N).indexOf("state")===-1&&q(N,L._getWorksheetFrozenState(b)),L._trySetAutoFilter(b)),Object.keys(N).length>0&&(s.views=[N]),x(b)}).always(()=>{p&&r.option("loadPanel.enabled",p),c.enabled&&it()&&m.dispose()})})},exportRow(i,e,t,n,o,r,s,a,l){for(let d=o;d<r;d++){let c=i.getCellData(n,d,!0),u=t.getCell(e._getFirstColumnIndex()+d);e.mergedRangesManager.updateMergedRanges(u,n,d,e);let h=e.mergedRangesManager.findMergedCellInfo(n,d,e._isHeaderCell(n,d));if(U(h)&&u!==h.masterCell)u.style=h.masterCell.style,u.value=h.masterCell.value;else if(no(c.value)?u.value=this.convertDateForExcelJS(c.value):u.value=c.value,U(u.value)){let{bold:f,alignment:p,numberFormat:m}=a[i.getStyleId(n,d)];U(m)?this.setNumberFormat(u,m):We(u.value)&&/^[@=+-]/.test(u.value)&&this.setNumberFormat(u,"@"),e._trySetFont(u,f),this.setAlignment(u,s,p)}e._customizeCell(u,c.cellSourceData),l&&(u.value=Pw.encode(u.value))}}};var rv=class{constructor(e,t){this.dataProvider=e,this.worksheet=t,this.mergedCells=[],this.mergedRanges=[]}updateMergedRanges(e,t,n,o){if(o._isHeaderCell(t,n)&&!this.isCellInMergedRanges(t,n)){let{rowspan:r,colspan:s}=this.dataProvider.getCellMerging(t,n);if(s||r){let l=o._allowToMergeRange(t,n,r,s);if(this.updateMergedCells(e,t,n,r,s),l){let d=o._isInfoCell(t,n)&&o._allowExportRowFieldHeaders();this.mergedRanges.push({masterCell:e,rowspan:r-(d&&r>0),colspan:s})}}}}isCellInMergedRanges(e,t){return this.mergedCells[e]&&this.mergedCells[e][t]}findMergedCellInfo(e,t,n){if(n&&this.isCellInMergedRanges(e,t))return this.mergedCells[e][t]}updateMergedCells(e,t,n,o,r){for(let s=t;s<=t+o;s++)for(let a=n;a<=n+r;a++)this.mergedCells[s]||(this.mergedCells[s]=[]),this.mergedCells[s][a]={masterCell:e}}addMergedRange(e,t,n){this.mergedRanges.push({masterCell:e,rowspan:t,colspan:n})}applyMergedRages(){this.mergedRanges.forEach(e=>{let t=e.masterCell.fullAddress.row,n=e.masterCell.fullAddress.col,o=t+e.rowspan,r=n+e.colspan;this.worksheet.mergeCells(t,n,o,r)})}};var _F=class{constructor(e,t,n,o){this.component=e,this.dataProvider=t,this.worksheet=n,this.mergedRangesManager=new rv(t,n),this.topLeftCell=o.topLeftCell,this.customizeCell=o.customizeCell,this.autoFilterEnabled=o.autoFilterEnabled}_getFirstColumnIndex(){return this.topLeftCell.column}_getFieldHeaderRowsCount(){return 0}_trySetAutoFilter(e){if(this.autoFilterEnabled&&!U(this.worksheet.autoFilter)&&this.dataProvider.getRowsCount()>0){let t={from:{row:e.from.row+this.dataProvider.getHeaderRowCount()-1,column:e.from.column},to:e.to};this.worksheet.autoFilter=t}}_trySetFont(e,t){U(t)&&(e.font=e.font||{},e.font.bold=t)}_getWorksheetFrozenState(e){return{state:"frozen",ySplit:e.from.row+this.dataProvider.getFrozenArea().y-1}}_trySetOutlineLevel(e,t){t>=this.dataProvider.getHeaderRowCount()&&(e.outlineLevel=this.dataProvider.getGroupLevel(t))}_isFrozenZone(e){return e.getHeaderRowCount()>0}_isHeaderCell(e){return e<this.dataProvider.getHeaderRowCount()}_isInfoCell(){return!1}_allowToMergeRange(){return!0}_getAllFieldHeaders(){return[]}_customizeCell(e,t){Ie(this.customizeCell)&&this.customizeCell({excelCell:e,gridCell:t})}_exportFieldHeaders(){}_exportAllFieldHeaders(){}_isRowFieldHeadersRow(){}};function Rc(i){return BS.export(rye(i),_F,sye,aye)}function rye(i){if(!(U(i)&&Ke(i)))throw Error('The "exportDataGrid" method requires a configuration object.');if(!(U(i.component)&&Ke(i.component)&&i.component.NAME==="dxDataGrid"))throw Error('The "component" field must contain a DataGrid instance.');return U(i.selectedRowsOnly)||(i.selectedRowsOnly=!1),U(i.autoFilterEnabled)||(i.autoFilterEnabled=!1),BS.getFullOptions(i)}function sye(i){return i.getView("rowsView").element()}function aye(i){return i.getView("rowsView").element().parent()}var CZe=X.on,lye=X.one,wZe=X.off,SZe=X.trigger,bF=X.triggerHandler,EZe=X.Event;var po=class{host;setHost(e){this.host=e}setTemplate(e){this.host.setTemplate(e)}};var VS=class{instance;zone;subscriptions={};events={};constructor(e,t){this.instance=e,this.zone=t}hasEvent(e){return this.getEmitter(e).observers.length!==0}fireEvent(e,t){let n=this.getEmitter(e);n.observers.length&&((this.subscriptions[e]||[]).length===n.observers.length?n.next(t&&t[0]):this.zone.run(()=>n.next(t&&t[0])))}on(e,t){if(typeof e=="string"){let n=this.subscriptions[e]||[],o=this.getEmitter(e).subscribe(t?.bind(this.instance)),r=o.unsubscribe.bind(o);n.push({handler:t,unsubscribe:r}),this.subscriptions[e]=n}else{let n=e;Object.keys(n).forEach(o=>this.on(o,n[o]))}}off(e,t){let n=this.subscriptions[e]||[];t?n.some((o,r)=>o.handler===t?(o.unsubscribe(),n.splice(r,1),!0):!1):(n.forEach(o=>{o.unsubscribe()}),n.splice(0,n.length))}dispose(){}addEmitter(e,t){this.events[e]=t}getEmitter(e){return this.events[e]||(this.events[e]=new St),this.events[e]}},xF=class{zone;component;lockedValueChangeEvent=!1;constructor(e,t){this.zone=e,this.component=t}fireNgEvent(e,t){if(this.lockedValueChangeEvent&&e==="valueChange")return;let n=this.component[e];n&&n.observers.length&&this.zone.run(()=>{n.next(t&&t[0])})}createEmitters(e){e.forEach(t=>{this.component[t.emit]=new St})}};var hs=(()=>{class i{_watchers=[];getWatchMethod(){return(n,o,r)=>{let s=n();r=r||{},r.skipImmediate||o(s);let a=()=>{let l=n();this._isDifferentValues(s,l,r.deep)&&(o(l),s=l)};return this._watchers.push(a),()=>{let l=this._watchers.indexOf(a);l!==-1&&this._watchers.splice(l,1)}}}_isDifferentValues(t,n,o){let r=this._toComparable(n),s=this._toComparable(t),a=r instanceof Object&&s instanceof Object;return o&&a?this._checkObjectsFields(n,t):r!==s}_toComparable(t){return t instanceof Date?t.getTime():t}_checkObjectsFields(t,n){for(let o in t){let r=this._toComparable(t[o]),s=this._toComparable(n[o]),a=!1;if(typeof r=="object"&&typeof s=="object"&&(a=hi(r,s)),r!==s&&!a)return!0}}checkWatchers(){for(let t of this._watchers)t()}static \u0275fac=function(n){return new(n||i)};static \u0275prov=rt({token:i,factory:i.\u0275fac})}return i})();function dye(i){return i.get?i.get(0):i}var cye="dx-template-wrapper";var ps=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var yW="dx-visibility-change-handler",xW=(()=>{class i{_host;_hostOptionPath;_collectionContainerImpl;_initialOptions={};constructor(){this._collectionContainerImpl=new HS(this._setOption.bind(this),this._filterItems.bind(this))}_optionChangedHandler(t){let n=this._fullOptionPath();if(t.fullName.indexOf(n)===0){let o=t.fullName.slice(n.length),r=this[`${o}Change`];r&&r.next(t.value)}}_createEventEmitters(t){t.forEach(n=>{this[n.emit]=new St})}_getOption(t){return this.isLinked?this.instance.option(this._fullOptionPath()+t):this._initialOptions[t]}_setOption(t,n){if(this.isLinked){let o=this._fullOptionPath()+t;this.instance.option(o,n)}else this._initialOptions[t]=n}_addRemovedOption(t){this.instance&&this.removedNestedComponents&&this.removedNestedComponents.push(t)}_deleteRemovedOptions(t){this.instance&&this.removedNestedComponents&&(this.removedNestedComponents=this.removedNestedComponents.filter(n=>!n.startsWith(t)))}_addRecreatedComponent(){this.instance&&this.recreatedNestedComponents&&this.recreatedNestedComponents.push({getOptionPath:()=>this._getOptionPath()})}_getOptionPath(){return this._hostOptionPath()+this._optionPath}setHost(t,n){this._host=t,this._hostOptionPath=n,this.optionChangedHandlers.subscribe(this._optionChangedHandler.bind(this))}setChildren(t,n){return this.resetOptions(t),this._collectionContainerImpl.setChildren(t,n)}_filterItems(t){return t.filter(n=>n!==this)}get instance(){return this._host&&this._host.instance}get resetOptions(){return this._host&&this._host.resetOptions}get isRecreated(){return this._host&&this._host.isRecreated}get removedNestedComponents(){return this._host&&this._host.removedNestedComponents}set removedNestedComponents(t){this._host.removedNestedComponents=t}get recreatedNestedComponents(){return this._host&&this._host.recreatedNestedComponents}set recreatedNestedComponents(t){this._host.recreatedNestedComponents=t}get isLinked(){return!!this.instance&&this._host.isLinked}get optionChangedHandlers(){return this._host&&this._host.optionChangedHandlers}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=$e({type:i,selectors:[["ng-component"]],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return i})(),HS=class{_setOption;_filterItems;_activatedQueries={};constructor(e,t){this._setOption=e,this._filterItems=t}setChildren(e,t){if(this._filterItems&&(t=this._filterItems(t)),t.length&&(this._activatedQueries[e]=!0),this._activatedQueries[e]){let n=t.map((o,r)=>(o._index=r,o._value));this._setOption(e,n)}}},fs=(()=>{class i extends xW{setHost(t,n){super.setHost(t,n),this._host[this._optionPath]=this._initialOptions}_fullOptionPath(){return`${this._getOptionPath()}.`}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Fn(i)))(o||i)}})();static \u0275cmp=$e({type:i,selectors:[["ng-component"]],features:[yt],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return i})(),Va=(()=>{class i extends xW{_index;_fullOptionPath(){return`${this._getOptionPath()}[${this._index}].`}get _value(){return this._initialOptions}get isLinked(){return this._index!==void 0&&!!this.instance&&this._host.isLinked}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Fn(i)))(o||i)}})();static \u0275cmp=$e({type:i,selectors:[["ng-component"]],features:[yt],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return i})(),uye=function(i){let e=[];I(i).hasClass(yW)||e.push(i),e.push.apply(e,i.querySelectorAll(`.${yW}`));for(let t=0;t<e.length;t++)bF(e[t],"dxshown")};function zS(i,e,t,n){!i.template===void 0||!e.nativeElement.hasChildNodes()||![].slice.call(e.nativeElement.childNodes).filter(s=>{if(s.tagName){let a=s.tagName.toLowerCase().substr(0,3);return!(a==="dxi"||a==="dxo")}return s.nodeName!=="#comment"&&s.textContent.replace(/\s/g,"").length}).length||(i.template={render:s=>{let a=e.nativeElement;if(be.setClass(a,cye,!0),s.container){let l=dye(s.container),d=l.contains(e.nativeElement);t.appendChild(l,e.nativeElement),d||n.body.contains(l)&&uye(a)}return a}})}var lt=class{_host;_optionPath;getHost(){return this._host}setHost(e,t){this._host=e,this._optionPath=t||(()=>"")}setNestedOption(e){e.setHost(this._host,this._optionPath)}};ui({buyNowLink:"https://go.devexpress.com/Licensing_Installer_Watermark_DevExtremeAngular.aspx"});var vF,yF=()=>(vF||(vF="DX_isPlatformServer"),vF),qp=(()=>{class i{element;ngZone;watcherHelper;transferState;platformId;_initialOptions={};_optionsToUpdate={};_collectionContainerImpl;eventHelper;optionChangedHandlers=new St;templates;instance;isLinked=!0;changedOptions={};removedNestedComponents=[];recreatedNestedComponents;widgetUpdateLocked=!1;templateUpdateRequired=!1;_updateTemplates(){if(this.templates.length&&this.templateUpdateRequired){let t={};this.templates.forEach(n=>{t[n.name]=n}),this.instance.option("integrationOptions.templates",t),this.templates=Object.values(t),this.templateUpdateRequired=!1}}_initEvents(){this.instance.on("optionChanged",t=>{this.changedOptions[t.name]=t.value;let n=t.name===t.fullName?t.value:t.component.option(t.name);this.eventHelper.fireNgEvent(`${t.name}Change`,[n]),this.optionChangedHandlers.emit(t)})}_initOptions(){this._initialOptions.integrationOptions.watchMethod=this.watcherHelper.getWatchMethod()}_initPlatform(){this.transferState.hasKey(yF())?this._initialOptions.integrationOptions.renderedOnServer=this.transferState.get(yF(),null):lp(this.platformId)&&this.transferState.set(yF(),!0)}_createEventEmitters(t){let n=this.ngZone;this.eventHelper.createEmitters(t),this._initialOptions.eventsStrategy=o=>{let r=new VS(o,n);return t.filter(s=>s.subscribe).forEach(s=>{r.addEmitter(s.subscribe,this[s.emit])}),r},this._initialOptions.nestedComponentOptions=function(o){return{eventsStrategy:r=>new VS(r,n),nestedComponentOptions:o.option("nestedComponentOptions")}}}_shouldOptionChange(t,n){if(this.changedOptions.hasOwnProperty(t)){let o=this.changedOptions[t];return delete this.changedOptions[t],n!==o}return!0}clearChangedOptions(){this.changedOptions={}}_getOption(t){return this.instance?this.instance.option(t):this._initialOptions[t]}lockWidgetUpdate(){!this.widgetUpdateLocked&&this.instance&&(this.instance.beginUpdate(),this.widgetUpdateLocked=!0)}unlockWidgetUpdate(){this.widgetUpdateLocked&&(this.widgetUpdateLocked=!1,this.instance.endUpdate())}_setOption(t,n){this.lockWidgetUpdate(),this._shouldOptionChange(t,n)&&(this.instance?this.instance.option(t,n):this._initialOptions[t]=n)}_createWidget(t){this._initialOptions.integrationOptions={},this._initPlatform(),this._initOptions(),this._initialOptions.onInitializing=function(){this.beginUpdate()},this.instance=this._createInstance(t,this._initialOptions),this._initEvents(),this._initialOptions={}}_destroyWidget(){if(this.removedNestedComponents=[],this.instance){let t=this.instance.element();bF(t,"dxremove",{_angularIntegration:!0}),this.instance.dispose(),be.removeElement(t)}}constructor(t,n,o,r,s,a){this.element=t,this.ngZone=n,this.watcherHelper=r,this.transferState=s,this.platformId=a,this.templates=[],o.setHost(this),this._collectionContainerImpl=new HS(this._setOption.bind(this)),this.eventHelper=new xF(n,this)}ngOnChanges(t){for(let n in t)t[n].currentValue!==this[n]&&(this._optionsToUpdate[n]=t[n].currentValue)}ngOnInit(){this._createWidget(this.element.nativeElement)}ngDoCheck(){this.applyOptions()}ngAfterContentChecked(){this.applyOptions(),this.resetOptions(),this.unlockWidgetUpdate()}ngAfterViewInit(){this._updateTemplates(),this.instance.endUpdate(),this.recreatedNestedComponents=[]}ngAfterViewChecked(){this._updateTemplates()}applyOptions(){Object.keys(this._optionsToUpdate).length&&(this.instance&&this.instance.option(this._optionsToUpdate),this._optionsToUpdate={})}resetOptions(t){this.instance&&(this.removedNestedComponents.filter(n=>n&&!this.isRecreated(n)&&t?n.startsWith(t):!0).forEach(n=>{this.instance.resetOption(n)}),this.removedNestedComponents=[],this.recreatedNestedComponents=[])}isRecreated(t){return this.recreatedNestedComponents&&this.recreatedNestedComponents.some(n=>n.getOptionPath()===t)}setTemplate(t){this.templates.push(t),this.templateUpdateRequired=!0}setChildren(t,n){return this.resetOptions(t),this._collectionContainerImpl.setChildren(t,n)}static \u0275fac=function(n){return new(n||i)(oe(At),oe(_t),oe(po),oe(hs),oe($s),oe(tr))};static \u0275cmp=$e({type:i,selectors:[["ng-component"]],features:[on],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return i})();var hye=["mousemove","mouseover","mouseout"],pye=["mouseup","click","mousedown","transitionend","wheel"],CF,wF=[],CW=function(i){CF||(CF=this.callBase.bind(this)),wF.push(i)};Do.inject({add(i){return CW.call(this,i)}});var wW=(i,e,t)=>{Number(S3.major)<12&&console.warn("Your version of Angular is not supported. Please update your project to version 12 or later. Please refer to the Angular Update Guide for more information: https://update.angular.io"),be.inject({_document:i,listen(...o){let r=o[1];return hye.includes(r)?e.runOutsideAngular(()=>this.callBase.apply(this,o)):e.isStable&&pye.includes(r)?e.run(()=>this.callBase.apply(this,o)):this.callBase.apply(this,o)},isElementNode(o){return o&&o.nodeType===1},isTextNode(o){return o&&o.nodeType===3},isDocument(o){return o&&o.nodeType===9}}),DS.inject({getXhr(){if(!t)return this.callBase.apply(this);let o=t.build();return"withCredentials"in o||(o.withCredentials=!1),o}});let n=()=>{e.run(()=>{X.set({}),wF.forEach(o=>CF.call(null,o)),wF=[],Do.fire()})};n(),CW=o=>e.run(()=>o()),wW=n},fd=(()=>{class i{constructor(t,n,o){wW(t,n,o)}static \u0275fac=function(n){return new(n||i)(ke(jt),ke(_t),ke(Vf,8))};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();function fye(i){return i&&typeof i[Symbol.iterator]=="function"}var na=(()=>{class i{_differs;_host;_propertyDiffers={};constructor(t){this._differs=t}setHost(t){this._host=t}setup(t,n){if(t in n){let o=n[t].currentValue;this.setupSingle(t,o)}}setupSingle(t,n){if(n&&Array.isArray(n)){if(!this._propertyDiffers[t])try{return this._propertyDiffers[t]=this._differs.find(n).create(null),!0}catch{}}else delete this._propertyDiffers[t];return!1}getChanges(t,n){if(this._propertyDiffers[t])return this._propertyDiffers[t].diff(n)}checkChangedOptions(t,n){return this._host.changedOptions[t]===n}doCheck(t){if(this._propertyDiffers[t]&&this._host.instance){let n=this._host[t];fye(n)&&this.getChanges(t,n)&&!this.checkChangedOptions(t,n)&&(this._host.lockWidgetUpdate(),this._host.instance.option(t,n))}}static \u0275fac=function(n){return new(n||i)(ke(sI))};static \u0275prov=rt({token:i,factory:i.\u0275fac})}return i})();var mye=function(i,e,t,n,o){let r,s=((a,l,d)=>l(()=>a,d))(i,e,function(a){if(r&&r(),Zu(a)){o(a);return}r=function(l,d,c,u,h){let f={},p=c.slice(),m=c.map(function(g){let b=u[g];return d(b?()=>b(l):()=>l[g],function(x){if(f[g]=x,p.length){let E=p.indexOf(g);E>=0&&p.splice(E,1)}p.length||h(f)})});return function(){m.forEach(g=>g())}}(a,e,t,n,o)});return function(){r&&r(),s&&s()}},Yr=class extends ds{constructor(e,t,n,o){super(),this._render=e,this._fields=t,this._fieldsMap=o||{},this._watchMethod=n}_renderCore(e){let t=I(e.container),n=mye(e.model,this._watchMethod,this._fields,this._fieldsMap,o=>{t.empty(),this._render(t,o,e.model)});return X.on(t,Io,n),t.contents()}};var Fc=i=>!i||typeof i!="string"?!1:/^\s*<svg[^>]*>(.|\r?\n)*?<\/svg>\s*$/i.test(i)?"svg":/data:.*base64|\.|[^<\s]\/{1,1}/.test(i)?"image":/^[\w-_]+$/.test(i)?"dxIcon":/^\s?([\w-_:]\s?)+$/.test(i)?"fontIcon":!1,Xr=i=>{switch(Fc(i)){case"image":return I("<img>").attr("src",i).addClass("dx-icon");case"fontIcon":return I("<i>").addClass(`dx-icon ${i}`);case"dxIcon":return I("<i>").addClass(`dx-icon dx-icon-${i}`);case"svg":return I("<i>").addClass("dx-icon dx-svg-icon").append(i);default:return null}};var $S=function(i,e){let t=e(i);if(Ke(t))try{return JSON.stringify(t)}catch{return t}return t},_ye=function(i,e,t,n){let o=$S(i,n);return e[t[o]]},SW=function(i,e){if(i.length!==e.length)return!1;for(let t=0;t<e.length;t++)if(i[t]!==e[t])return!1;return!0},WS=function(i,e,t,n){let o={},r={},s=0,a=0,l=[];i.forEach(function(c,u){let h=$S(c,t);o[h]=u}),e.forEach(function(c,u){let h=$S(c,t);r[h]=u});let d=Math.max(i.length,e.length);for(let c=0;c<d+s;c++){let u=e[c],h=c-s+a,f=i[h];if(!u||f&&!_ye(f,e,r,t))f&&(l.push({type:"remove",key:t(f),index:c,oldItem:f}),a++,c--);else{let m=$S(u,t),g=o[m],b=i[g];if(!b)s++,l.push({type:"insert",data:u,index:c});else if(g===h)n(b,u)||l.push({type:"update",data:u,key:t(u),index:c,oldItem:b});else return}}return l};var ag=class{constructor(e){this.options=e,this._setOption("disabledItemKeys",[]),this._clearItemKeys()}_clearItemKeys(){this._setOption("addedItemKeys",[]),this._setOption("removedItemKeys",[]),this._setOption("removedItems",[]),this._setOption("addedItems",[])}validate(){}_setOption(e,t){this.options[e]=t}onSelectionChanged(){let{addedItemKeys:e}=this.options,{removedItemKeys:t}=this.options,{addedItems:n}=this.options,{removedItems:o}=this.options,{selectedItems:r}=this.options,{selectedItemKeys:s}=this.options,a=this.options.onSelectionChanged||pe;this._clearItemKeys(),a({selectedItems:r,selectedItemKeys:s,addedItemKeys:e,removedItemKeys:t,addedItems:n,removedItems:o})}equalKeys(e,t){return this.options.equalByReference&&Ke(e)&&Ke(t)?e===t:hi(e,t)}getSelectableItems(e){return e.filter(t=>!(t!=null&&t.disabled))}_clearSelection(e,t,n,o){return e=e||[],e=Array.isArray(e)?e:[e],this.validate(),this.selectedItemKeys(e,t,n,o)}_removeTemplateProperty(e){return Array.isArray(e)?e.map(t=>this._removeTemplateProperty(t)):(Ke(e)&&delete e.template,e)}_loadFilteredData(e,t,n,o){let r=encodeURI(JSON.stringify(this._removeTemplateProperty(e))).length,s=this.options.maxFilterLengthInRequest&&r>this.options.maxFilterLengthInRequest,a=le(),l={filter:s?void 0:e,select:s?this.options.dataFields():n||this.options.dataFields()};return e&&e.length===0?a.resolve([]):this.options.load(l).done(d=>{let c=ht(d)?d.data:d;t&&!o?c=c.filter(t):s&&(c=ro(c).filter(e).toArray()),a.resolve(c)}).fail(a.reject.bind(a)),a}updateSelectedItemKeyHash(e){for(let t=0;t<e.length;t++){let n=$r(e[t]);Ke(n)||(this.options.keyHashIndices[n]=this.options.keyHashIndices[n]||[],this.options.keyHashIndices[n].push(t))}}_isAnyItemSelected(e){for(let t=0;t<e.length;t++)if(this.options.isItemSelected(e[t]))return;return!1}_getFullSelectAllState(){let e=this.options.plainItems(),t=this.options.filter(),n=this.options.ignoreDisabledItems?this.options.selectedItems:this.options.selectedItems.filter(s=>!(s!=null&&s.disabled));t&&(n=ro(n).filter(t).toArray());let o=n.length,r=e.length-this.getSelectableItems(e).length;if(!o)return this._isAnyItemSelected(e);if(o>=this.options.totalCount()-r)return!0}_getVisibleSelectAllState(){let e=this.getSelectableItems(this.options.plainItems()),t=!1,n=!1;for(let o=0;o<e.length;o++){let r=e[o],s=this.options.getItemData(r),a=this.options.keyOf(s);this.options.isSelectableItem(r)&&(this.isItemKeySelected(a)?t=!0:n=!0)}return t?n?void 0:!0:!1}};var US=class extends ag{getSelectedItems(){return this._loadFilteredData(this.options.selectionFilter)}getSelectedItemKeys(){let e=le(),t=this,n=this.options.key(),o=We(n)?[n]:n;return this._loadFilteredData(this.options.selectionFilter,null,o).done(r=>{let s=r.map(a=>t.options.keyOf(a));e.resolve(s)}).fail(e.reject),e.promise()}selectedItemKeys(e,t,n,o){if(o){let r=this.options.filter();!r||JSON.stringify(r)===JSON.stringify(this.options.selectionFilter)&&n?this._setOption("selectionFilter",n?[]:null):this._addSelectionFilter(n,r,o)}else{t||this._setOption("selectionFilter",[]);for(let r=0;r<e.length;r++)n?this.removeSelectedItem(e[r]):this.addSelectedItem(e[r],o,!t)}return this.onSelectionChanged(),le().resolve()}setSelectedItems(e){this._setOption("selectionFilter",null);for(let t=0;t<e.length;t++)this.addSelectedItem(e[t])}isItemDataSelected(e){return this.isItemKeySelected(e)}isItemKeySelected(e){let{selectionFilter:t}=this.options;return t?!!ro([e]).filter(t).toArray().length:!0}_getKeyExpr(){let e=this.options.key();return Array.isArray(e)&&e.length===1?e[0]:e}_normalizeKey(e){let t=this.options.key();return Array.isArray(t)&&t.length===1?e[t[0]]:e}_getFilterByKey(e){let t=this._getKeyExpr(),n=[t,"=",this._normalizeKey(e)];if(Array.isArray(t)){n=[];for(let o=0;o<t.length;o++)n.push([t[o],"=",e[t[o]]]),o!==t.length-1&&n.push("and")}return n}addSelectedItem(e,t,n){let o=this._getFilterByKey(e);this._addSelectionFilter(!1,o,t,n)}removeSelectedItem(e){let t=this._getFilterByKey(e);this._addSelectionFilter(!0,t)}validate(){let{key:e}=this.options;if(e&&e()===void 0)throw bt.Error("E1042","Deferred selection")}_findSubFilter(e,t){if(!e)return-1;let n=JSON.stringify(t);for(let o=0;o<e.length;o++){let r=e[o];if(r&&JSON.stringify(r)===n)return o}return-1}_isLastSubFilter(e,t){return e&&t?this._findSubFilter(e,t)===e.length-1||this._findSubFilter([e],t)===0:!1}_addFilterOperator(e,t){return e.length>1&&We(e[1])&&e[1]!==t&&(e=[e]),e.length&&e.push(t),e}_denormalizeFilter(e){return e&&We(e[0])&&(e=[e]),e}_isOnlyNegativeFiltersLeft(e){return e.every((t,n)=>n%2===0?Array.isArray(t)&&t[0]==="!":t==="and")}_addSelectionFilter(e,t,n,o){var r;let s=this,a=e?["!",t]:t,l=e?"and":"or",d=!0,c=s.options.selectionFilter||[];if(c=s._denormalizeFilter(c),(r=c)!==null&&r!==void 0&&r.length&&!o){let u=s._removeSameFilter(c,t,e,n),h=s._removeSameFilter(c,t,!e);e&&(u!==-1||h!==-1)&&this._isOnlyNegativeFiltersLeft(c)&&(c=[]);let p=this._isKeyFilter(t)&&this._hasKeyFiltersOnlyStartingFromIndex(c,h);d=t.length&&!p}d&&(c=s._addFilterOperator(c,l),c.push(a)),c=s._normalizeFilter(c),s._setOption("selectionFilter",!e&&!c.length?null:c)}_normalizeFilter(e){return e&&e.length===1&&(e=e[0]),e}_removeFilterByIndex(e,t,n){let o=e[1];t>0?e.splice(t-1,2):e.splice(t,2),n&&o==="and"&&e.splice(0,e.length)}_isSimpleKeyFilter(e,t){return e.length===3&&e[0]===t&&e[1]==="="}_isKeyFilter(e){if(e.length===2&&e[0]==="!")return this._isKeyFilter(e[1]);let t=this._getKeyExpr();if(Array.isArray(t)){if(e.length!==2*t.length-1)return!1;for(let n=0;n<t.length;n++)if(n>0&&e[2*n-1]!=="and"||!this._isSimpleKeyFilter(e[2*n],t[n]))return!1;return!0}return this._isSimpleKeyFilter(e,t)}_hasKeyFiltersOnlyStartingFromIndex(e,t){if(t>=0){for(let n=t;n<e.length;n++)if(typeof e[n]!="string"&&!this._isKeyFilter(e[n]))return!1;return!0}return!1}_removeSameFilter(e,t,n,o){if(t=n?["!",t]:t,JSON.stringify(t)===JSON.stringify(e))return e.splice(0,e.length),0;let r=this._findSubFilter(e,t);if(r>=0)return this._removeFilterByIndex(e,r,o),r;for(let s=0;s<e.length;s++)if(Array.isArray(e[s])&&e[s].length>2){let a=this._removeSameFilter(e[s],t,!1,o);if(a>=0)return e[s].length?e[s].length===1&&(e[s]=e[s][0]):this._removeFilterByIndex(e,s,o),a}return-1}getSelectAllState(){let e=this.options.filter(),{selectionFilter:t}=this.options;if(!t)return!0;if(!t.length)return!1;if(!(!e||!e.length)){if(t=this._denormalizeFilter(t),this._isLastSubFilter(t,e))return!0;if(this._isLastSubFilter(t,["!",e]))return!1}}loadSelectedItemsWithFilter(){let e=this.options.filter(),{selectionFilter:t}=this.options,n=e?[e,"and",t]:t;return this._loadFilteredData(n)}};var SF=function(i,e){this.getLocalFilter=function(a,l,d,c){return l=l===void 0?hi:l,r.bind(this,l,a,d,c)},this.getExpr=function(a){if(!a)return;let l;return i.forEach(function(d,c){l=l||[];let u;c>0&&l.push(e?"and":"or"),We(a)?u=s(a,d):u=function(h,f){let p=[];for(let m=0,g=h.length;m<g;m++){let b=h[m],x=Qt(b),E=f&&x(f),D=s(b,E);if(!D)break;m>0&&p.push(e?"or":"and"),p.push(D)}return p}(a,d),l.push(u)}),l&&l.length===1&&(l=l[0]),l},this.getCombinedFilter=function(a,l){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c=this.getExpr(a),u=c;return(d||e)&&l&&(c?(u=[],u.push(c),u.push(l)):u=l),u};let t,n=function(a,l){if(!t){t={};let d=o(i,a,l);for(let c=0;c<d.length;c++)t[$r(d[c])]=!0}return t},o=function(a,l,d){return Array.isArray(d)?a.map(c=>l(c)):a};function r(a,l,d,c,u){let h=l(u),f,p;if(!d&&(f=$r(h),!Ke(f)))return n(l,c)[f]?!e:!!e;for(p=0;p<i.length;p++)if(a(i[p],h))return!e;return!!e}function s(a,l){if(l!==void 0)return[a,e?"<>":"=",l]}};var GS=class extends ag{constructor(e){super(e),this._initSelectedItemKeyHash()}_initSelectedItemKeyHash(){this._setOption("keyHashIndices",this.options.equalByReference?null:{})}getSelectedItemKeys(){return this.options.selectedItemKeys.slice(0)}getSelectedItems(){return this.options.selectedItems.slice(0)}_preserveSelectionUpdate(e,t){let{keyOf:n}=this.options,o,r,s;if(!n)return;let a=t&&e.length>1&&!this.options.equalByReference;for(a&&(o={}),s=0;s<e.length;s++){let l=e[s],d=n(l);t?(r=this.removeSelectedItem(d,o,l?.disabled),o&&r>=0&&(o[r]=!0)):this.addSelectedItem(d,l)}a&&this._batchRemoveSelectedItems(o)}_batchRemoveSelectedItems(e){let t=this.options.selectedItemKeys.slice(0),n=this.options.selectedItems.slice(0);this.options.selectedItemKeys.length=0,this.options.selectedItems.length=0;for(let o=0;o<t.length;o++)e[o]||(this.options.selectedItemKeys.push(t[o]),this.options.selectedItems.push(n[o]));this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(this.options.selectedItemKeys)}_loadSelectedItemsCore(e,t,n,o){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,s=le(),a=this.options.key();if(!e.length&&!n)return s.resolve([]),s;if(n&&t&&!o)return s.resolve(this.getSelectedItems()),s;let l=new SF(e,n),d=l.getCombinedFilter(a,o,r),c=[];if(t){let{selectedItems:f}=this.options;c=d&&e.length!==f.length?ro(f).filter(d).toArray():f.slice(0)}let u=c.length?c:this.options.plainItems(!0).filter(this.options.isSelectableItem).map(this.options.getItemData),h=l.getLocalFilter(this.options.keyOf,this.equalKeys.bind(this),this.options.equalByReference,a);return u=u.filter(h),c.length||!n&&u.length===e.length?s.resolve(u):s=this._loadFilteredData(d,h,null,n),s}_replaceSelectionUpdate(e){let t=[],{keyOf:n}=this.options;if(n){for(let o=0;o<e.length;o++){let r=e[o],s=n(r);t.push(s)}this.setSelectedItems(t,e)}}_warnOnIncorrectKeys(e){let{allowNullValue:t}=this.options;for(let n=0;n<e.length;n++){let o=e[n];(!t||o!==null)&&!this.isItemKeySelected(o)&&bt.log("W1002",o)}}_isMultiSelectEnabled(){let{mode:e}=this.options;return e==="all"||e==="multiple"}_requestInProgress(){var e;return((e=this._lastLoadDeferred)===null||e===void 0?void 0:e.state())==="pending"}_concatRequestsItems(e,t,n,o){let r,s=t?e:[];return o?r=o:r=iR(e,this.options.selectedItemKeys),{addedItems:n.added.concat(r),removedItems:n.removed.concat(s),keys:e}}_collectLastRequestData(e,t,n,o){let r=t&&n,s={added:[],removed:[]},a=this._isMultiSelectEnabled(),l=a?this._lastRequestData:{};return a&&(this._shouldMergeWithLastRequest&&(r?(this._lastLoadDeferred.reject(),l={}):SW(e,this.options.selectedItemKeys)||(s.added=l.addedItems,s.removed=l.removedItems,t||this._lastLoadDeferred.reject())),l=this._concatRequestsItems(e,t,s,this._shouldMergeWithLastRequest?void 0:o)),l}_updateKeysByLastRequestData(e,t,n){let o=e;if(this._isMultiSelectEnabled()&&this._shouldMergeWithLastRequest&&!t&&!n){var r,s;o=iR(e.concat((r=this._lastRequestData)===null||r===void 0?void 0:r.addedItems),(s=this._lastRequestData)===null||s===void 0?void 0:s.removedItems),o=k9(o)}return o}_loadSelectedItems(e,t,n,o){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,s=this,a=le(),l=s.options.filter();return this._shouldMergeWithLastRequest=this._requestInProgress(),this._lastRequestData=this._collectLastRequestData(e,t,n,o),Be(s._lastLoadDeferred).always(()=>{let d=s._updateKeysByLastRequestData(e,t,n);s._shouldMergeWithLastRequest=!1,s._loadSelectedItemsCore(d,t,n,l,r).done(a.resolve).fail(a.reject)}),s._lastLoadDeferred=a,a}selectedItemKeys(e,t,n,o,r){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,a=this,l=a._loadSelectedItems(e,n,o,r,s);return l.done(d=>{t?a._preserveSelectionUpdate(d,n):a._replaceSelectionUpdate(d),a.onSelectionChanged()}),l}addSelectedItem(e,t){if(U(t)&&!this.options.ignoreDisabledItems&&t.disabled){this.options.disabledItemKeys.indexOf(e)===-1&&this.options.disabledItemKeys.push(e);return}let n=this._getKeyHash(e);this._indexOfSelectedItemKey(n)===-1&&(!Ke(n)&&this.options.keyHashIndices&&(this.options.keyHashIndices[n]=[this.options.selectedItemKeys.length]),this.options.selectedItemKeys.push(e),this.options.addedItemKeys.push(e),this.options.addedItems.push(t),this.options.selectedItems.push(t))}_getSelectedIndexByKey(e,t){let{selectedItemKeys:n}=this.options;for(let o=0;o<n.length;o++)if((!t||!t[o])&&this.equalKeys(n[o],e))return o;return-1}_getSelectedIndexByHash(e,t){let n=this.options.keyHashIndices[e];return n&&n.length>1&&t&&(n=n.filter(o=>!t[o])),n&&n[0]>=0?n[0]:-1}_indexOfSelectedItemKey(e,t){let n;return this.options.equalByReference?n=this.options.selectedItemKeys.indexOf(e):Ke(e)?n=this._getSelectedIndexByKey(e,t):n=this._getSelectedIndexByHash(e,t),n}_shiftSelectedKeyIndices(e){for(let t=e;t<this.options.selectedItemKeys.length;t++){let n=this.options.selectedItemKeys[t],o=$r(n),r=this.options.keyHashIndices[o];if(r)for(let s=0;s<r.length;s++)r[s]>e&&r[s]--}}removeSelectedItem(e,t,n){if(!this.options.ignoreDisabledItems&&n)return;let o=this._getKeyHash(e),r=!!t,s=this._indexOfSelectedItemKey(o,t);if(s<0||(this.options.removedItemKeys.push(e),this.options.removedItems.push(this.options.selectedItems[s]),r)||(this.options.selectedItemKeys.splice(s,1),this.options.selectedItems.splice(s,1),Ke(o)||!this.options.keyHashIndices))return s;let a=this.options.keyHashIndices[o];return a&&(a.shift(),a.length||delete this.options.keyHashIndices[o],this._shiftSelectedKeyIndices(s)),s}_updateAddedItemKeys(e,t){for(let n=0;n<e.length;n++)this.isItemKeySelected(e[n])||(this.options.addedItemKeys.push(e[n]),this.options.addedItems.push(t[n]))}_updateRemovedItemKeys(e,t,n){for(let o=0;o<t.length;o++)this.isItemKeySelected(t[o])||(this.options.removedItemKeys.push(t[o]),this.options.removedItems.push(n[o]))}_isItemSelectionInProgress(e,t){return t&&this._lastRequestData&&this._requestInProgress()?(this._lastRequestData.addedItems??[]).includes(e):!1}_getKeyHash(e){return this.options.equalByReference?e:$r(e)}setSelectedItems(e,t){this._updateAddedItemKeys(e,t);let n=this.options.selectedItemKeys,o=this.options.selectedItems;this.options.equalByReference||(this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(e)),this._setOption("selectedItemKeys",e),this._setOption("selectedItems",t),this._updateRemovedItemKeys(e,n,o)}isItemDataSelected(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.options.keyOf(e);return this.isItemKeySelected(n,t)}isItemKeySelected(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this._isItemSelectionInProgress(e,t.checkPending);if(!n){let o=this._getKeyHash(e);n=this._indexOfSelectedItemKey(o)!==-1}return n}getSelectAllState(e){return e?this._getVisibleSelectAllState():this._getFullSelectAllState()}loadSelectedItemsWithFilter(){let e=this.options.key(),t=this.getSelectedItemKeys(),n=this.options.filter();if(!t.length)return le().resolve([]);let r=new SF(t).getCombinedFilter(e,n,!0);return this._loadFilteredData(r)}};var lg=class{constructor(e){this.options=q(this._getDefaultOptions(),e,{selectedItemKeys:e.selectedKeys||[]}),this._selectionStrategy=this.options.deferred?new US(this.options):new GS(this.options),this._focusedItemIndex=-1,this.options.equalByReference||this._selectionStrategy.updateSelectedItemKeyHash(this.options.selectedItemKeys)}_getDefaultOptions(){return{allowNullValue:!1,deferred:!1,equalByReference:!1,mode:"multiple",selectedItems:[],selectionFilter:[],maxFilterLengthInRequest:0,onSelectionChanged:pe,key:pe,keyOf:e=>e,load:()=>le().resolve([]),totalCount:()=>-1,isSelectableItem:()=>!0,isItemSelected:()=>!1,getItemData:e=>e,dataFields:pe,filter:pe}}validate(){this._selectionStrategy.validate()}getSelectedItemKeys(){return this._selectionStrategy.getSelectedItemKeys()}getSelectedItems(){return this._selectionStrategy.getSelectedItems()}selectionFilter(e){if(e===void 0)return this.options.selectionFilter;let t=this.options.selectionFilter!==e&&JSON.stringify(this.options.selectionFilter)!==JSON.stringify(e);this.options.selectionFilter=e,t&&this.onSelectionChanged()}setSelection(e,t){return this.selectedItemKeys(e,!1,!1,!1,t)}select(e){return this.selectedItemKeys(e,!0)}deselect(e){return this.selectedItemKeys(e,!0,!0)}selectedItemKeys(e,t,n,o,r){return e=e??[],e=Array.isArray(e)?e:[e],this.validate(),this._selectionStrategy.selectedItemKeys(e,t,n,o,r)}clearSelection(){return this.selectedItemKeys([])}_addSelectedItem(e,t){this._selectionStrategy.addSelectedItem(t,e)}_removeSelectedItem(e){this._selectionStrategy.removeSelectedItem(e)}_setSelectedItems(e,t){this._selectionStrategy.setSelectedItems(e,t)}onSelectionChanged(){this._selectionStrategy.onSelectionChanged()}changeItemSelection(e,t,n){var o,r;let s,a=this.options.plainItems(),l=a[e],d,{isVirtualPaging:c}=this.options,u=(o=(r=this.options).allowLoadByRange)===null||o===void 0?void 0:o.call(r),{alwaysSelectByShift:h}=this.options,f,p=!1,m=!1,g=D=>D>=0&&!a.filter(L=>L.loadIndex===D).length;if(c&&U(l)&&(u&&(f=l.loadIndex-e,e=l.loadIndex),p=g(this._focusedItemIndex),U(this._shiftFocusedItemIndex)&&(m=g(this._shiftFocusedItemIndex))),!this.isSelectable()||!this.isDataItem(l))return!1;let b=this.options.getItemData(l),x=this.options.keyOf(b);t=t||{};let E=t.shift;if(h===!1&&E&&(E=u!==!1||!p&&!m),E&&this.options.mode==="multiple"&&this._focusedItemIndex>=0)u&&(p||m)?(s=e!==this._shiftFocusedItemIndex||this._focusedItemIndex!==this._shiftFocusedItemIndex,s&&(d=this.changeItemSelectionWhenShiftKeyInVirtualPaging(e))):s=this.changeItemSelectionWhenShiftKeyPressed(e,a,f);else if(t.control){if(this._resetItemSelectionWhenShiftKeyPressed(),!n){let D=this._selectionStrategy.isItemDataSelected(b);this.options.mode==="single"&&this.clearSelectedItems(),D?this._removeSelectedItem(x):this._addSelectedItem(b,x)}s=!0}else{this._resetItemSelectionWhenShiftKeyPressed();let D=this._selectionStrategy.equalKeys(this.options.selectedItemKeys[0],x);(this.options.selectedItemKeys.length!==1||!D)&&(this._setSelectedItems([x],[b]),s=!0)}if(s)return Be(d).done(()=>{this._focusedItemIndex=e,!n&&this.onSelectionChanged()}),!0}isDataItem(e){return this.options.isSelectableItem(e)}isSelectable(){return this.options.mode==="single"||this.options.mode==="multiple"}isItemDataSelected(e){return this._selectionStrategy.isItemDataSelected(e,{checkPending:!0})}isItemSelected(e,t){return this._selectionStrategy.isItemKeySelected(e,t)}_resetItemSelectionWhenShiftKeyPressed(){delete this._shiftFocusedItemIndex}_resetFocusedItemIndex(){this._focusedItemIndex=-1}changeItemSelectionWhenShiftKeyInVirtualPaging(e){let t=this.options.getLoadOptions(e,this._focusedItemIndex,this._shiftFocusedItemIndex),n=le(),o=t.skip;return this.options.load(t).done(r=>{this.changeItemSelectionWhenShiftKeyPressed(e,r,o),n.resolve()}),n.promise()}changeItemSelectionWhenShiftKeyPressed(e,t,n){let o=!1,r,s=U(n),a=s?this._focusedItemIndex-n:this._focusedItemIndex,{keyOf:l}=this.options,d=t[a],c=this.options.getItemData(d),u=l(c),h=d&&this.isItemDataSelected(c);U(this._shiftFocusedItemIndex)||(this._shiftFocusedItemIndex=this._focusedItemIndex);let f,p,m,g;if(this._shiftFocusedItemIndex!==this._focusedItemIndex)for(r=this._focusedItemIndex<this._shiftFocusedItemIndex?1:-1,m=s?this._focusedItemIndex-n:this._focusedItemIndex,g=s?this._shiftFocusedItemIndex-n:this._shiftFocusedItemIndex,a=m;a!==g;a+=r)(s||this.isDataItem(t[a]))&&(p=l(this.options.getItemData(t[a])),this._removeSelectedItem(p),o=!0);if(e!==this._shiftFocusedItemIndex)for(r=e<this._shiftFocusedItemIndex?1:-1,m=s?e-n:e,g=s?this._shiftFocusedItemIndex-n:this._shiftFocusedItemIndex,a=m;a!==g;a+=r)(s||this.isDataItem(t[a]))&&(f=this.options.getItemData(t[a]),p=l(f),this._addSelectedItem(f,p),o=!0);return(s||this.isDataItem(d))&&!h&&(this._addSelectedItem(c,u),o=!0),o}clearSelectedItems(){this._setSelectedItems([],[])}selectAll(e){return this._resetFocusedItemIndex(),e?this._onePageSelectAll(!1):this.selectedItemKeys([],!0,!1,!0)}deselectAll(e){return this._resetFocusedItemIndex(),e?this._onePageSelectAll(!0):this.selectedItemKeys([],!0,!0,!0)}_onePageSelectAll(e){let t=this._selectionStrategy.getSelectableItems(this.options.plainItems());for(let n=0;n<t.length;n++){let o=t[n];if(this.isDataItem(o)){let r=this.options.getItemData(o),s=this.options.keyOf(r),a=this.isItemSelected(s);!a&&!e&&this._addSelectedItem(r,s),a&&e&&this._removeSelectedItem(s)}}return this.onSelectionChanged(),le().resolve()}getSelectAllState(e){return this._selectionStrategy.getSelectAllState(e)}loadSelectedItemsWithFilter(){return this._selectionStrategy.loadSelectedItemsWithFilter()}};var bye={load:()=>le().reject(),loadSingle:()=>le().reject(),loadFromStore:()=>le().reject(),loadNextPage:()=>le().reject(),loadOptions:pe,userData:pe,cancel:pe,cancelAll:pe,filter:pe,addSearchFilter:pe,group:pe,paginate:pe,pageSize:pe,pageIndex:pe,resetDataSourcePageIndex:pe,totalCount:pe,isLastPage:pe,isLoading:pe,isLoaded:pe,searchValue:pe,searchOperation:pe,searchExpr:pe,select:pe,key:pe,keyOf:pe,store:pe,items:pe,applyMapFunction:pe,getDataSource:pe,reload:pe,on:pe,off:pe},EF=class{constructor(e){if(!e)return bye;this._dataSource=e}load(){return this._dataSource.load()}loadSingle(e,t){return arguments.length<2&&(t=e,e=this.key()),this._dataSource.loadSingle(e,t)}loadFromStore(e){return this.store().load(e)}loadNextPage(){return this.pageIndex(1+this.pageIndex()),this.load()}loadOptions(){return this._dataSource.loadOptions()}userData(){return this._dataSource._userData}cancel(e){this._dataSource.cancel(e)}cancelAll(){this._dataSource.cancelAll()}filter(e){return this._dataSource.filter(e)}addSearchFilter(e){this._dataSource._addSearchFilter(e)}group(e){return this._dataSource.group(e)}paginate(){return this._dataSource.paginate()}pageSize(){return this._dataSource._pageSize}pageIndex(e){return this._dataSource.pageIndex(e)}resetDataSourcePageIndex(){this.pageIndex()&&(this.pageIndex(0),this.load())}totalCount(){return this._dataSource.totalCount()}isLastPage(){return this._dataSource.isLastPage()||!this._dataSource._pageSize}isLoading(){return this._dataSource.isLoading()}isLoaded(){return this._dataSource.isLoaded()}searchValue(e){return arguments.length?this._dataSource.searchValue(e):this._dataSource.searchValue()}searchOperation(e){return this._dataSource.searchOperation(e)}searchExpr(e){return arguments.length?this._dataSource.searchExpr(e):this._dataSource.searchExpr()}select(){return this._dataSource.select(...arguments)}key(){return this._dataSource.key()}keyOf(e){return this.store().keyOf(e)}store(){return this._dataSource.store()}items(){return this._dataSource.items()}applyMapFunction(e){return this._dataSource._applyMapFunction(e)}getDataSource(){return this._dataSource||null}reload(){return this._dataSource.reload()}on(e,t){this._dataSource.on(e,t)}off(e,t){this._dataSource.off(e,t)}},KS=EF;var EW="_dataSourceChangedHandler";var OW="_getSpecificDataSourceOption",IW="_normalizeDataSource",vye={postCtor:function(){this.on("disposing",(function(){this._disposeDataSource()}).bind(this))},_refreshDataSource:function(){this._initDataSource(),this._loadDataSource()},_initDataSource:function(){let i=OW in this?this[OW]():this.option("dataSource"),e,t;this._disposeDataSource(),i&&(i instanceof Lo?(this._isSharedDataSource=!0,this._dataSource=i):(e="_dataSourceOptions"in this?this._dataSourceOptions():{},t=this._dataSourceType?this._dataSourceType():Lo,i=qr(i,{fromUrlLoadMode:"_dataSourceFromUrlLoadMode"in this&&this._dataSourceFromUrlLoadMode()}),this._dataSource=new t(q(!0,{},e,i))),IW in this&&(this._dataSource=this[IW](this._dataSource)),this._addDataSourceHandlers(),this._initDataController())},_initDataController:function(){var i;let e=(i=this.option)===null||i===void 0?void 0:i.call(this,"_dataController"),t=this._dataSource;e?this._dataController=e:this._dataController=new KS(t)},_addDataSourceHandlers:function(){EW in this&&this._addDataSourceChangeHandler(),"_dataSourceLoadErrorHandler"in this&&this._addDataSourceLoadErrorHandler(),"_dataSourceLoadingChangedHandler"in this&&this._addDataSourceLoadingChangedHandler(),this._addReadyWatcher()},_addReadyWatcher:function(){this.readyWatcher=(function(i){this._ready&&this._ready(!i)}).bind(this),this._dataSource.on("loadingChanged",this.readyWatcher)},_addDataSourceChangeHandler:function(){let i=this._dataSource;this._proxiedDataSourceChangedHandler=(function(e){this[EW](i.items(),e)}).bind(this),i.on("changed",this._proxiedDataSourceChangedHandler)},_addDataSourceLoadErrorHandler:function(){this._proxiedDataSourceLoadErrorHandler=this._dataSourceLoadErrorHandler.bind(this),this._dataSource.on("loadError",this._proxiedDataSourceLoadErrorHandler)},_addDataSourceLoadingChangedHandler:function(){this._proxiedDataSourceLoadingChangedHandler=this._dataSourceLoadingChangedHandler.bind(this),this._dataSource.on("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)},_loadDataSource:function(){let i=this._dataSource;i&&(i.isLoaded()?this._proxiedDataSourceChangedHandler&&this._proxiedDataSourceChangedHandler():i.load())},_loadSingle:function(i,e){return i=i==="this"?this._dataSource.key()||"this":i,this._dataSource.loadSingle(i,e)},_isLastPage:function(){return!this._dataSource||this._dataSource.isLastPage()||!this._dataSource._pageSize},_isDataSourceLoading:function(){return this._dataSource&&this._dataSource.isLoading()},_disposeDataSource:function(){this._dataSource&&(this._isSharedDataSource?(delete this._isSharedDataSource,this._proxiedDataSourceChangedHandler&&this._dataSource.off("changed",this._proxiedDataSourceChangedHandler),this._proxiedDataSourceLoadErrorHandler&&this._dataSource.off("loadError",this._proxiedDataSourceLoadErrorHandler),this._proxiedDataSourceLoadingChangedHandler&&this._dataSource.off("loadingChanged",this._proxiedDataSourceLoadingChangedHandler),this._dataSource._eventsStrategy&&this._dataSource._eventsStrategy.off("loadingChanged",this.readyWatcher)):this._dataSource.dispose(),delete this._dataSource,delete this._proxiedDataSourceChangedHandler,delete this._proxiedDataSourceLoadErrorHandler,delete this._proxiedDataSourceLoadingChangedHandler)},getDataSource:function(){return this._dataSource||null}},qS=vye;var DW=Math.abs;var yye=uh.inherit({start:function(i){this._startEventData=On(i),this._startTimer(i)},_startTimer:function(i){let e="timeout"in this?this.timeout:750;this._holdTimer=setTimeout((function(){this._requestAccept(i),this._fireEvent("dxhold",i,{target:i.target}),this._forgetAccept()}).bind(this),e)},move:function(i){this._touchWasMoved(i)&&this._cancel(i)},_touchWasMoved:function(i){let e=ud(this._startEventData,On(i));return DW(e.x)>5||DW(e.y)>5},end:function(){this._stopTimer()},_stopTimer:function(){clearTimeout(this._holdTimer)},cancel:function(){this._stopTimer()},dispose:function(){this._stopTimer()}});La({emitter:yye,bubble:!0,events:["dxhold"]});var ms={name:"dxhold"};var xye=Se("contextmenu","dxContexMenu"),Cye=Se(ms.name,"dxContexMenu");var wye=Ut.inherit({setup:function(i){let e=I(i);X.on(e,xye,this._contextMenuHandler.bind(this)),(Ta||Ve.isSimulator())&&X.on(e,Cye,this._holdHandler.bind(this))},_holdHandler:function(i){Ra(i)&&!Ve.isSimulator()||this._fireContextMenu(i)},_contextMenuHandler:function(i){this._fireContextMenu(i)},_fireContextMenu:function(i){return Ur({type:"dxcontextmenu",originalEvent:i})},teardown:function(i){X.off(i,".dxContexMenu")}});mr("dxcontextmenu",new wye);var YS="dxcontextmenu";var Sye=function(i,e,t){let n=function(){let o;return function(r){o!==r&&(t(r,o),o=r)}}();return{dispose:i(e,n),force(){n(e())}}},TW=Ut.inherit({ctor(i,e,t){this._$element=i,this._options=e,this._rawData=t,Gw(i,this,this._dispose),this._render()},_render(){let i=I("<div>").addClass("dx-item-content-placeholder");this._$element.append(i),this._watchers=[],this._renderWatchers()},_renderWatchers(){this._startWatcher("disabled",this._renderDisabled.bind(this)),this._startWatcher("visible",this._renderVisible.bind(this))},_startWatcher(i,e){let t=this._rawData,n=this._options.fieldGetter(i),o=Sye(this._options.watchMethod(),()=>n(t),(r,s)=>{this._dirty=!0,e(r,s)});this._watchers.push(o)},setDataField(){if(this._dirty=!1,ee(this._watchers,(i,e)=>{e.force()}),this._dirty)return!0},_renderDisabled(i,e){this._$element.toggleClass("dx-state-disabled",!!i),this._$element.attr("aria-disabled",!!i),this._updateOwnerFocus(i)},_updateOwnerFocus(i){let e=this._options.owner;e&&i&&e._resetItemFocus(this._$element)},_renderVisible(i,e){this._$element.toggleClass("dx-state-invisible",i!==void 0&&!i)},_dispose(){ee(this._watchers,(i,e)=>{e.dispose()})}});TW.getInstance=function(i){return Kw(i,this)};var Ha=TW;var XS="dx-item";var Eye="dx-empty-collection";var Oye=/^([^.]+\[\d+\]\.)+([\w.]+)$/;var AW=Tn.inherit({_activeStateUnit:`.${XS}`,_supportedKeys(){let i=function(e,t){Dn(t)||(t.preventDefault(),t.stopPropagation(),this._moveFocus(e,t))};return q(this.callBase(),{space:function(e){e.preventDefault(),this._enterKeyHandler(e)},enter:this._enterKeyHandler,leftArrow:i.bind(this,"left"),rightArrow:i.bind(this,"right"),upArrow:i.bind(this,"up"),downArrow:i.bind(this,"down"),pageUp:i.bind(this,"up"),pageDown:i.bind(this,"down"),home:i.bind(this,"first"),end:i.bind(this,"last")})},_enterKeyHandler(i){let e=I(this.option("focusedElement"));if(!e.length)return;let t=this._getItemData(e);t!=null&&t.onClick&&this._itemEventHandlerByHandler(e,t.onClick,{event:i}),this._itemClickHandler(q({},i,{target:e.get(0),currentTarget:e.get(0)}))},_getDefaultOptions(){return q(this.callBase(),{selectOnFocus:!1,loopItemFocus:!0,items:[],itemTemplate:"item",onItemRendered:null,onItemClick:null,onItemHold:null,itemHoldTimeout:750,onItemContextMenu:null,onFocusedItemChanged:null,noDataText:de.format("dxCollectionWidget-noDataText"),encodeNoDataText:!1,dataSource:null,_dataController:null,_itemAttributes:{},itemTemplateProperty:"template",focusOnSelectedItem:!0,focusedElement:null,displayExpr:void 0,disabledExpr:i=>i?i.disabled:void 0,visibleExpr:i=>i?i.visible:void 0})},_init(){this._compileDisplayGetter(),this._initDataController(),this.callBase(),this._cleanRenderedItems(),this._refreshDataSource()},_compileDisplayGetter(){let i=this.option("displayExpr");this._displayGetter=i?Qt(this.option("displayExpr")):void 0},_initTemplates(){this._initItemsFromMarkup(),this._initDefaultItemTemplate(),this.callBase()},_getAnonymousTemplateName:()=>"item",_initDefaultItemTemplate(){let i=this._getFieldsMap();this._templateManager.addDefaultTemplates({item:new Yr((e,t)=>{ht(t)?this._prepareDefaultItemTemplate(t,e):(i&&Ie(i.text)&&(t=i.text(t)),e.text(String(ji(t,""))))},this._getBindableFields(),this.option("integrationOptions.watchMethod"),i)})},_getBindableFields:()=>["text","html"],_getFieldsMap(){if(this._displayGetter)return{text:this._displayGetter}},_prepareDefaultItemTemplate(i,e){U(i.text)&&e.text(i.text),U(i.html)&&e.html(i.html)},_initItemsFromMarkup(){let i=sS(this.$element(),"dxItem");if(!i.length||this.option("items").length)return;let e=i.map(t=>{let{element:n,options:o}=t;return/\S/.test(n.innerHTML)&&!o.template?o.template=this._prepareItemTemplate(n):I(n).remove(),o});this.option("items",e)},_prepareItemTemplate(i){let e="tmpl-"+new yi,t=I(i).detach().clone().removeAttr("data-options").addClass("dx-template-wrapper");return this._saveTemplate(e,t),e},_dataSourceOptions:()=>({paginate:!1}),_cleanRenderedItems(){this._renderedItemsCount=0},_focusTarget(){return this.$element()},_focusInHandler(i){if(this.callBase.apply(this,arguments),!this._isFocusTarget(i.target))return;let e=I(this.option("focusedElement"));if(e.length)this._setFocusedItem(e);else{let t=this._getActiveItem();t.length&&this.option("focusedElement",tt(t))}},_focusOutHandler(){this.callBase.apply(this,arguments);let i=I(this.option("focusedElement"));this._updateFocusedItemState(i,!1)},_findActiveTarget(i){return i.find(this._activeStateUnit)},_getActiveItem(i){let e=I(this.option("focusedElement"));if(e.length)return e;let t=this.option("focusOnSelectedItem")?this.option("selectedIndex"):0,n=this._getActiveElement(),o=n.length-1;return t<0&&(t=i?o:0),n.eq(t)},_moveFocus(i){let e=this._getAvailableItems(),t;switch(i){case"pageup":case"up":t=this._prevItem(e);break;case"pagedown":case"down":t=this._nextItem(e);break;case"right":t=this.option("rtlEnabled")?this._prevItem(e):this._nextItem(e);break;case"left":t=this.option("rtlEnabled")?this._nextItem(e):this._prevItem(e);break;case"first":t=e.first();break;case"last":t=e.last();break;default:return!1}t.length!==0&&this.option("focusedElement",tt(t))},_getVisibleItems(i){return i=i||this._itemElements(),i.filter(":visible")},_getAvailableItems(i){return this._getVisibleItems(i)},_prevItem(i){let e=this._getActiveItem(),t=i.index(e),n=i.last(),o=I(i[t-1]),r=this.option("loopItemFocus");return o.length===0&&r&&(o=n),o},_nextItem(i){let e=this._getActiveItem(!0),t=i.index(e),n=i.first(),o=I(i[t+1]),r=this.option("loopItemFocus");return o.length===0&&r&&(o=n),o},_selectFocusedItem(i){this.selectItem(i)},_updateFocusedItemState(i,e,t){let n=I(i);n.length&&(this._refreshActiveDescendant(),this._refreshItemId(n,t),this._toggleFocusClass(e,n)),this._updateParentActiveDescendant()},_refreshActiveDescendant(i){this.setAria("activedescendant",U(this.option("focusedElement"))?this.getFocusedItemId():null,i)},_refreshItemId(i,e){!e&&this.option("focusedElement")?this.setAria("id",this.getFocusedItemId(),i):this.setAria("id",null,i)},_isDisabled:i=>i&&I(i).attr("aria-disabled")==="true",_setFocusedItem(i){if(!i||!i.length)return;this._updateFocusedItemState(i,!0),this.onFocusedItemChanged(this.getFocusedItemId());let{selectOnFocus:e}=this.option(),t=this._isDisabled(i);e&&!t&&this._selectFocusedItem(i)},_findItemElementByItem(i){let e=I(),t=this;return this.itemElements().each(function(){let n=I(this);if(n.data(t._itemDataKey())===i)return e=n,!1}),e},_getIndexByItem(i){return this.option("items").indexOf(i)},_itemOptionChanged(i,e,t,n){let o=this._findItemElementByItem(i);if(!o.length)return;this.constructor.ItemClass.getInstance(o).setDataField(e,t)||this._refreshItem(o,i),e==="disabled"&&t&&this._resetItemFocus(o)},_resetItemFocus(i){i.is(this.option("focusedElement"))&&this.option("focusedElement",null)},_refreshItem(i){let e=this._getItemData(i),t=i.data(this._itemIndexKey());this._renderItem(this._renderedItemsCount+t,e,null,i)},_updateParentActiveDescendant:pe,_optionChanged(i){if(i.name==="items"){let e=i.fullName.match(Oye);if(e&&e.length){let t=e[e.length-1],n=i.fullName.replace(`.${t}`,""),o=this.option(n);this._itemOptionChanged(o,t,i.value,i.previousValue);return}}switch(i.name){case"items":case"_itemAttributes":case"itemTemplateProperty":case"useItemTextAsTitle":this._cleanRenderedItems(),this._invalidate();break;case"dataSource":this._refreshDataSource(),this._renderEmptyMessage();break;case"noDataText":case"encodeNoDataText":this._renderEmptyMessage();break;case"itemTemplate":case"visibleExpr":case"disabledExpr":this._invalidate();break;case"onItemRendered":this._createItemRenderAction();break;case"onItemClick":case"selectOnFocus":case"loopItemFocus":case"focusOnSelectedItem":break;case"onItemHold":case"itemHoldTimeout":this._attachHoldEvent();break;case"onItemContextMenu":this._attachContextMenuEvent();break;case"onFocusedItemChanged":this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged");break;case"focusedElement":this._updateFocusedItemState(i.previousValue,!1,!0),this._setFocusedItem(I(i.value));break;case"displayExpr":this._compileDisplayGetter(),this._initDefaultItemTemplate(),this._invalidate();break;default:this.callBase(i)}},_invalidate(){return this.option("focusedElement",null),this.callBase.apply(this,arguments)},_loadNextPage(){return this._expectNextPageLoading(),this._dataController.loadNextPage()},_expectNextPageLoading(){this._startIndexForAppendedItems=0},_expectLastItemLoading(){this._startIndexForAppendedItems=-1},_forgetNextPageLoading(){this._startIndexForAppendedItems=null},_dataSourceChangedHandler(i){let e=this.option("items");this._initialized&&e&&this._shouldAppendItems()?(this._renderedItemsCount=e.length,(!this._isLastPage()||this._startIndexForAppendedItems!==-1)&&(this.option().items=e.concat(i.slice(this._startIndexForAppendedItems))),this._forgetNextPageLoading(),this._refreshContent()):this.option("items",i.slice())},_refreshContent(){this._prepareContent(),this._renderContent()},_dataSourceLoadErrorHandler(){this._forgetNextPageLoading(),this.option("items",this.option("items"))},_shouldAppendItems(){return this._startIndexForAppendedItems!=null&&this._allowDynamicItemsAppend()},_allowDynamicItemsAppend:()=>!1,_clean(){this._cleanFocusState(),this._cleanItemContainer(),this._inkRipple&&delete this._inkRipple,this._resetActiveState()},_cleanItemContainer(){I(this._itemContainer()).empty()},_dispose(){this.callBase(),clearTimeout(this._itemFocusTimeout)},_refresh(){this._cleanRenderedItems(),this.callBase.apply(this,arguments)},_itemContainer(){return this.$element()},_itemClass:()=>XS,_itemContentClass(){return this._itemClass()+"-content"},_selectedItemClass:()=>"dx-item-selected",_itemResponseWaitClass:()=>"dx-item-response-wait",_itemSelector(){return`.${this._itemClass()}`},_itemDataKey:()=>"dxItemData",_itemIndexKey:()=>"dxItemIndex",_itemElements(){return this._itemContainer().find(this._itemSelector())},_initMarkup(){this.callBase(),this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged"),this.$element().addClass("dx-collection"),this._prepareContent()},_prepareContent:sd(function(){this._renderContentImpl()}),_renderContent(){this._fireContentReadyAction()},_render(){this.callBase(),this._attachClickEvent(),this._attachHoldEvent(),this._attachContextMenuEvent()},_getPointerEvent:()=>Mt.down,_attachClickEvent(){let i=this._itemSelector(),e=this._getPointerEvent(),t=Se(Kt,this.NAME),n=Se(e,this.NAME),o=new gl(r=>{let{event:s}=r;this._itemPointerDownHandler(s)});X.off(this._itemContainer(),t,i),X.off(this._itemContainer(),n,i),X.on(this._itemContainer(),t,i,r=>this._itemClickHandler(r)),X.on(this._itemContainer(),n,i,r=>{o.execute({element:I(r.target),event:r})})},_itemClickHandler(i,e,t){this._itemDXEventHandler(i,"onItemClick",e,t)},_itemPointerDownHandler(i){this.option("focusStateEnabled")&&(this._itemFocusHandler=(function(){if(clearTimeout(this._itemFocusTimeout),this._itemFocusHandler=null,i.isDefaultPrevented())return;let e=I(i.target),t=e.closest(this._itemElements()),n=this._closestFocusable(e);t.length&&this._isFocusTarget(n?.get(0))&&this.option("focusedElement",tt(t))}).bind(this),this._itemFocusTimeout=setTimeout(this._forcePointerDownFocus.bind(this)))},_closestFocusable(i){if(i.is(Rb))return i;for(i=i.parent();i.length&&!be.isDocument(i.get(0))&&!be.isDocumentFragment(i.get(0));){if(i.is(Rb))return i;i=i.parent()}},_forcePointerDownFocus(){this._itemFocusHandler&&this._itemFocusHandler()},_updateFocusState(){this.callBase.apply(this,arguments),this._forcePointerDownFocus()},_attachHoldEvent(){let i=this._itemContainer(),e=this._itemSelector(),t=Se(ms.name,this.NAME);X.off(i,t,e),X.on(i,t,e,{timeout:this._getHoldTimeout()},this._itemHoldHandler.bind(this))},_getHoldTimeout(){return this.option("itemHoldTimeout")},_shouldFireHoldEvent(){return this.hasActionSubscription("onItemHold")},_itemHoldHandler(i){this._shouldFireHoldEvent()?this._itemDXEventHandler(i,"onItemHold"):i.cancel=!0},_attachContextMenuEvent(){let i=this._itemContainer(),e=this._itemSelector(),t=Se(YS,this.NAME);X.off(i,t,e),X.on(i,t,e,this._itemContextMenuHandler.bind(this))},_shouldFireContextMenuEvent(){return this.hasActionSubscription("onItemContextMenu")},_itemContextMenuHandler(i){this._shouldFireContextMenuEvent()?this._itemDXEventHandler(i,"onItemContextMenu"):i.cancel=!0},_renderContentImpl(){let i=this.option("items")||[];this._renderedItemsCount?this._renderItems(i.slice(this._renderedItemsCount)):this._renderItems(i)},_renderItems(i){i.length&&ee(i,(e,t)=>{this._renderItem(this._renderedItemsCount+e,t)}),this._renderEmptyMessage()},_getItemsContainer(){return this._itemContainer()},_setAttributes(i){let e=ye({},this.option("_itemAttributes")),{class:t}=e;if(t){let n=i.get(0).className;e.class=[n,t].join(" ")}i.attr(e)},_renderItem(i,e,t,n){let o=i?.item??i;t=t||this._getItemsContainer();let r=this._renderItemFrame(o,e,t,n);this._setElementData(r,e,o),this._setAttributes(r),this._attachItemClickEvent(e,r);let s=this._getItemContent(r),a=this._renderItemContent({index:o,itemData:e,container:tt(s),contentClass:this._itemContentClass(),defaultTemplateName:this.option("itemTemplate")}),l=this;return Be(a).done(d=>{l._postprocessRenderItem({itemElement:r,itemContent:d,itemData:e,itemIndex:o}),l._executeItemRenderAction(i,e,tt(r))}),r},_getItemContent(i){let e=i.find(".dx-item-content-placeholder");return e.removeClass("dx-item-content-placeholder"),e},_attachItemClickEvent(i,e){!i||!i.onClick||X.on(e,Kt,t=>{this._itemEventHandlerByHandler(e,i.onClick,{event:t})})},_renderItemContent(i){let e=this._getItemTemplateName(i),t=this._getTemplate(e);this._addItemContentClasses(i);let n=I(this._createItemByTemplate(t,i));return n.hasClass("dx-template-wrapper")?this._renderItemContentByNode(i,n):i.container},_renderItemContentByNode(i,e){return I(i.container).replaceWith(e),i.container=tt(e),this._addItemContentClasses(i),e},_addItemContentClasses(i){let e=[XS+"-content",i.contentClass];I(i.container).addClass(e.join(" "))},_appendItemToContainer(i,e,t){e.appendTo(i)},_renderItemFrame(i,e,t,n){let o=I("<div>");if(new this.constructor.ItemClass(o,this._itemOptions(),e||{}),n&&n.length?n.replaceWith(o):this._appendItemToContainer.call(this,t,o,i),this.option("useItemTextAsTitle")){let r=this._displayGetter?this._displayGetter(e):e;o.attr("title",r)}return o},_itemOptions(){let i=this;return{watchMethod:()=>i.option("integrationOptions.watchMethod"),owner:i,fieldGetter(e){let t=i.option(`${e}Expr`);return Qt(t)}}},_postprocessRenderItem:pe,_executeItemRenderAction(i,e,t){this._getItemRenderAction()({itemElement:t,itemIndex:i,itemData:e})},_setElementData(i,e,t){i.addClass([XS,this._itemClass()].join(" ")).data(this._itemDataKey(),e).data(this._itemIndexKey(),t)},_createItemRenderAction(){return this._itemRenderAction=this._createActionByOption("onItemRendered",{element:this.element(),excludeValidators:["disabled","readOnly"],category:"rendering"})},_getItemRenderAction(){return this._itemRenderAction||this._createItemRenderAction()},_getItemTemplateName(i){let e=i.itemData,t=i.templateProperty||this.option("itemTemplateProperty");return e&&e[t]||i.defaultTemplateName},_createItemByTemplate(i,e){return i.render({model:e.itemData,container:e.container,index:e.index,onRendered:this._onItemTemplateRendered(i,e)})},_onItemTemplateRendered:()=>pe,_emptyMessageContainer(){return this._itemContainer()},_renderEmptyMessage(i){i=i||this.option("items");let e=this.option("noDataText"),t=!e||i&&i.length||this._dataController.isLoading();t&&this._$noData&&(this._$noData.remove(),this._$noData=null,this.setAria("label",void 0)),t||(this._$noData=this._$noData||I("<div>").addClass("dx-empty-message"),this._$noData.appendTo(this._emptyMessageContainer()),this.option("encodeNoDataText")?this._$noData.text(e):this._$noData.html(e)),this.$element().toggleClass(Eye,!t)},_itemDXEventHandler(i,e,t,n){this._itemEventHandler(i.target,e,q(t,{event:i}),n)},_itemEventHandler(i,e,t,n){let o=this._createActionByOption(e,q({validatingTargetName:"itemElement"},n));return this._itemEventHandlerImpl(i,o,t)},_itemEventHandlerByHandler(i,e,t,n){let o=this._createAction(e,q({validatingTargetName:"itemElement"},n));return this._itemEventHandlerImpl(i,o,t)},_itemEventHandlerImpl(i,e,t){let n=this._closestItemElement(I(i)),o=q({},t);return e(q(t,this._extendActionArgs(n),o))},_extendActionArgs(i){return{itemElement:tt(i),itemIndex:this._itemElements().index(i),itemData:this._getItemData(i)}},_closestItemElement(i){return I(i).closest(this._itemSelector())},_getItemData(i){return I(i).data(this._itemDataKey())},_getSummaryItemsSize(i,e,t){let n=0;return e&&ee(e,(o,r)=>{i==="width"?n+=Ft(r,t||!1):i==="height"&&(n+=Ct(r,t||!1))}),n},getFocusedItemId(){return this._focusedItemId||(this._focusedItemId=`dx-${new yi}`),this._focusedItemId},itemElements(){return this._itemElements()},itemsContainer(){return this._itemContainer()}}).include(qS);AW.ItemClass=Ha;var OF=AW;var{abstract:Ls}=Ut,Iye=Ut.inherit({ctor(i){this._collectionWidget=i},getIndexByItemData:Ls,getItemDataByIndex:Ls,getKeysByItems:Ls,getItemsByKeys:Ls,itemsGetter:Ls,getKeyByIndex(i){let e=this._denormalizeItemIndex(i);return this.getKeysByItems([this.getItemDataByIndex(e)])[0]},_equalKeys(i,e){return this._collectionWidget._isKeySpecified()?hi(i,e):i===e},beginCache(){this._cache={}},endCache(){this._cache=null},getIndexByKey:Ls,getNormalizedIndex(i){return this._isNormalizedItemIndex(i)?i:this._isItemIndex(i)?this._normalizeItemIndex(i):this._isNode(i)?this._getNormalizedItemIndex(i):this._normalizeItemIndex(this.getIndexByItemData(i))},getIndex(i){return this._isNormalizedItemIndex(i)?this._denormalizeItemIndex(i):this._isItemIndex(i)?i:this._isNode(i)?this._denormalizeItemIndex(this._getNormalizedItemIndex(i)):this.getIndexByItemData(i)},getItemElement(i){if(this._isNormalizedItemIndex(i))return this._getItemByNormalizedIndex(i);if(this._isItemIndex(i))return this._getItemByNormalizedIndex(this._normalizeItemIndex(i));if(this._isNode(i))return I(i);let e=this._normalizeItemIndex(this.getIndexByItemData(i));return this._getItemByNormalizedIndex(e)},_isNode:i=>be.isNode(i&&Oo(i)?i.get(0):i),deleteItemAtIndex:Ls,itemPlacementFunc(i,e){return this._itemsFromSameParent(i,e)&&i<e?"after":"before"},moveItemAtIndexToIndex:Ls,_isNormalizedItemIndex:i=>typeof i=="number"&&Math.round(i)===i,_isItemIndex:Ls,_getNormalizedItemIndex:Ls,_normalizeItemIndex:Ls,_denormalizeItemIndex:Ls,_getItemByNormalizedIndex:Ls,_itemsFromSameParent:Ls}),kW=Iye;var Dye=kW.inherit({_getPlainItems(){return this._collectionWidget.option("items")||[]},getIndexByItemData(i){let e=this._collectionWidget.keyOf.bind(this._collectionWidget);return e?this.getIndexByKey(e(i)):this._getPlainItems().indexOf(i)},getItemDataByIndex(i){return this._getPlainItems()[i]},deleteItemAtIndex(i){this._getPlainItems().splice(i,1)},itemsGetter(){return this._getPlainItems()},getKeysByItems(i){let e=this._collectionWidget.keyOf.bind(this._collectionWidget),t=i;if(e){t=[];for(let n=0;n<i.length;n++)t.push(e(i[n]))}return t},getIndexByKey(i){let e=this._cache,t=e&&e.keys||this.getKeysByItems(this._getPlainItems());if(e&&!e.keys&&(e.keys=t),typeof i=="object"){for(let n=0,{length:o}=t;n<o;n++)if(this._equalKeys(i,t[n]))return n}else return t.indexOf(i);return-1},getItemsByKeys:(i,e)=>(e||i).slice(),moveItemAtIndexToIndex(i,e){let t=this._getPlainItems(),n=t[i];t.splice(i,1),t.splice(e,0,n)},_isItemIndex:i=>typeof i=="number"&&Math.round(i)===i,_getNormalizedItemIndex(i){return this._collectionWidget._itemElements().index(i)},_normalizeItemIndex:i=>i,_denormalizeItemIndex:i=>i,_getItemByNormalizedIndex(i){return i>-1?this._collectionWidget._itemElements().eq(i):null},_itemsFromSameParent:()=>!0}),dg=Dye;var Cl=function(i){return i!==-1},Tye=OF.inherit({_setOptionsByReference(){this.callBase(),q(this._optionsByReference,{selectedItem:!0})},_getDefaultOptions(){return q(this.callBase(),{selectionMode:"none",selectionRequired:!1,selectByClick:!0,selectedItems:[],selectedItemKeys:[],maxFilterLengthInRequest:1500,keyExpr:null,selectedIndex:-1,selectedItem:null,onSelectionChanged:null,onItemReordered:null,onItemDeleting:null,onItemDeleted:null})},ctor(i,e){this._userOptions=e||{},this.callBase(i,e)},_init(){this._initEditStrategy(),this.callBase(),this._initKeyGetter(),this._initSelectionModule()},_initKeyGetter(){this._keyGetter=Qt(this.option("keyExpr"))},_getKeysByItems(i){return this._editStrategy.getKeysByItems(i)},_getItemsByKeys(i,e){return this._editStrategy.getItemsByKeys(i,e)},_getKeyByIndex(i){return this._editStrategy.getKeyByIndex(i)},_getIndexByKey(i){return this._editStrategy.getIndexByKey(i)},_getIndexByItemData(i){return this._editStrategy.getIndexByItemData(i)},_isKeySpecified(){return!!this._dataController.key()},_getCombinedFilter(){return this._dataController.filter()},key(){return this.option("keyExpr")?this.option("keyExpr"):this._dataController.key()},keyOf(i){let e=i;return this.option("keyExpr")?e=this._keyGetter(i):this._dataController.store()&&(e=this._dataController.keyOf(i)),e},_nullValueSelectionSupported:()=>!1,_initSelectionModule(){let i=this,{itemsGetter:e}=i._editStrategy;this._selection=new lg({allowNullValue:this._nullValueSelectionSupported(),mode:this.option("selectionMode"),maxFilterLengthInRequest:this.option("maxFilterLengthInRequest"),equalByReference:!this._isKeySpecified(),onSelectionChanged(t){(t.addedItemKeys.length||t.removedItemKeys.length)&&(i.option("selectedItems",i._getItemsByKeys(t.selectedItemKeys,t.selectedItems)),i._updateSelectedItems(t))},filter:i._getCombinedFilter.bind(i),totalCount(){let t=i.option("items"),n=i._dataController.totalCount();return n>=0?n:i._getItemsCount(t)},key:i.key.bind(i),keyOf:i.keyOf.bind(i),load(t){var n;let o=i._dataController;return t.customQueryParams=(n=o.loadOptions())===null||n===void 0?void 0:n.customQueryParams,t.userData=o.userData(),o.store()?o.loadFromStore(t).done(r=>{if(i._disposed)return;let s=kS(r).data;o.applyMapFunction(s)}):le().resolve(this.plainItems())},dataFields:()=>i._dataController.select(),plainItems:e.bind(i._editStrategy)})},_getItemsCount(i){return i.reduce((e,t)=>e+(t.items?this._getItemsCount(t.items):1),0)},_initEditStrategy(){let i=dg;this._editStrategy=new i(this)},_getSelectedItemIndices(i){let e=this,t=[];return i=i||this._selection.getSelectedItemKeys(),e._editStrategy.beginCache(),ee(i,(n,o)=>{let r=e._getIndexByKey(o);Cl(r)&&t.push(r)}),e._editStrategy.endCache(),t},_initMarkup(){this._rendering=!0,this._dataController.isLoading()||this._syncSelectionOptions().done(()=>this._normalizeSelectedItems()),this.callBase()},_render(){this.callBase(),this._rendering=!1},_fireContentReadyAction(){this._rendering=!1,this._rendered=!0,this.callBase.apply(this,arguments)},_syncSelectionOptions(i){i=i||this._chooseSelectOption();let e,t,n,o;switch(i){case"selectedIndex":e=this._editStrategy.getItemDataByIndex(this.option("selectedIndex")),U(e)?(this._setOptionWithoutOptionChange("selectedItems",[e]),this._setOptionWithoutOptionChange("selectedItem",e),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([e]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedItem",null));break;case"selectedItems":if(o=this.option("selectedItems")||[],t=o.length?this._editStrategy.getIndexByItemData(o[0]):-1,this.option("selectionRequired")&&!Cl(t))return this._syncSelectionOptions("selectedIndex");this._setOptionWithoutOptionChange("selectedItem",o[0]),this._setOptionWithoutOptionChange("selectedIndex",t),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems(o));break;case"selectedItem":if(e=this.option("selectedItem"),t=this._editStrategy.getIndexByItemData(e),this.option("selectionRequired")&&!Cl(t))return this._syncSelectionOptions("selectedIndex");U(e)?(this._setOptionWithoutOptionChange("selectedItems",[e]),this._setOptionWithoutOptionChange("selectedIndex",t),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([e]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedIndex",-1));break;case"selectedItemKeys":if(n=this.option("selectedItemKeys"),this.option("selectionRequired")){let r=this._getIndexByKey(n[0]);if(!Cl(r))return this._syncSelectionOptions("selectedIndex")}return this._selection.setSelection(n)}return le().resolve().promise()},_chooseSelectOption(){let i="selectedIndex",e=(function(t){let n=this.option(t);return U(n)&&n.length||t in this._userOptions}).bind(this);return e("selectedItems")?i="selectedItems":e("selectedItem")?i="selectedItem":e("selectedItemKeys")&&(i="selectedItemKeys"),i},_compareKeys(i,e){if(i.length!==e.length)return!1;for(let t=0;t<e.length;t++)if(i[t]!==e[t])return!1;return!0},_normalizeSelectedItems(){if(this.option("selectionMode")==="none")this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems");else if(this.option("selectionMode")==="single"){let i=this.option("selectedItems");if(i.length>1||!i.length&&this.option("selectionRequired")&&this.option("items")&&this.option("items").length){let e=this._selection.getSelectedItems(),t=i[0]===void 0?e[0]:i[0];return t===void 0&&(t=this._editStrategy.itemsGetter()[0]),this.option("grouped")&&t&&t.items&&(t.items=[t.items[0]]),this._selection.setSelection(this._getKeysByItems([t])),this._setOptionWithoutOptionChange("selectedItems",[t]),this._syncSelectionOptions("selectedItems")}this._selection.setSelection(this._getKeysByItems(i))}else{let i=this._getKeysByItems(this.option("selectedItems")),e=this._selection.getSelectedItemKeys();this._compareKeys(e,i)||this._selection.setSelection(i)}return le().resolve().promise()},_itemClickHandler(i){let e=le().resolve(),{callBase:t}=this;this._createAction(n=>{e=this._itemSelectHandler(n.event)??e},{validatingTargetName:"itemElement"})({itemElement:I(i.currentTarget),event:i}),e.always(()=>{t.apply(this,arguments)})},_itemSelectHandler(i){var e;let t;if(!this.option("selectByClick"))return;let n=i.currentTarget;return this.isItemSelected(n)?this.unselectItem(i.currentTarget):t=this.selectItem(i.currentTarget),(e=t)===null||e===void 0?void 0:e.promise()},_selectedItemElement(i){return this._itemElements().eq(i)},_postprocessRenderItem(i){if(this.option("selectionMode")!=="none"){let e=I(i.itemElement),t=this._editStrategy.getNormalizedIndex(e),n=this._isItemSelected(t);this._processSelectableItem(e,n)}},_processSelectableItem(i,e){i.toggleClass(this._selectedItemClass(),e),this._setAriaSelectionAttribute(i,String(e))},_updateSelectedItems(i){let e=this,{addedItemKeys:t}=i,{removedItemKeys:n}=i;if(e._rendered&&(t.length||n.length)){let o=e._selectionChangePromise;if(!e._rendering){let r=[],s,a=[];e._editStrategy.beginCache();for(let l=0;l<t.length;l++)s=e._getIndexByKey(t[l]),r.push(s),e._addSelection(s);for(let l=0;l<n.length;l++)s=e._getIndexByKey(n[l]),a.push(s),e._removeSelection(s);e._editStrategy.endCache(),e._updateSelection(r,a)}Be(o).done(()=>{e._fireSelectionChangeEvent(i.addedItems,i.removedItems)})}},_fireSelectionChangeEvent(i,e){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:i,removedItems:e})},_updateSelection:pe,_setAriaSelectionAttribute(i,e){this.setAria("selected",e,i)},_removeSelection(i){let e=this._editStrategy.getItemElement(i);Cl(i)&&(this._processSelectableItem(e,!1),X.triggerHandler(e,"stateChanged",!1))},_addSelection(i){let e=this._editStrategy.getItemElement(i);Cl(i)&&(this._processSelectableItem(e,!0),X.triggerHandler(e,"stateChanged",!0))},_isItemSelected(i){let e=this._getKeyByIndex(i);return this._selection.isItemSelected(e,{checkPending:!0})},_optionChanged(i){switch(i.name){case"selectionMode":this._invalidate();break;case"dataSource":(!i.value||Array.isArray(i.value)&&!i.value.length)&&this.option("selectedItemKeys",[]),this.callBase(i);break;case"selectedIndex":case"selectedItem":case"selectedItems":case"selectedItemKeys":this._syncSelectionOptions(i.name).done(()=>this._normalizeSelectedItems());break;case"keyExpr":this._initKeyGetter();break;case"selectionRequired":this._normalizeSelectedItems();break;case"selectByClick":case"onSelectionChanged":case"onItemDeleting":case"onItemDeleted":case"onItemReordered":case"maxFilterLengthInRequest":break;default:this.callBase(i)}},_clearSelectedItems(){this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems")},_waitDeletingPrepare(i){if(i.data("dxItemDeleting"))return le().resolve().promise();i.data("dxItemDeleting",!0);let e=le(),t={cancel:!1},n=this._itemEventHandler(i,"onItemDeleting",t,{excludeValidators:["disabled","readOnly"]});return Be(n).always(function(o){let r=!n,s=!r&&n.state()==="resolved",a=!!arguments.length,l=r||s&&!a||s&&o;Be(Yn(t.cancel)).always(()=>{i.data("dxItemDeleting",!1)}).done(d=>{l&&!d?e.resolve():e.reject()}).fail(e.reject)}),e.promise()},_deleteItemFromDS(i){let e=this._dataController,t=le(),n=this.option("disabled"),o=e.store();if(!o)return le().resolve().promise();if(!o.remove)throw bt.Error("E1011");return this.option("disabled",!0),o.remove(e.keyOf(this._getItemData(i))).done(r=>{r!==void 0?t.resolve():t.reject()}).fail(()=>{t.reject()}),t.always(()=>{this.option("disabled",n)}),t},_tryRefreshLastPage(){let i=le();return this._isLastPage()||this.option("grouped")?i.resolve():this._refreshLastPage().done(()=>{i.resolve()}),i.promise()},_refreshLastPage(){return this._expectLastItemLoading(),this._dataController.load()},_updateSelectionAfterDelete(i){let e=this._getKeyByIndex(i);this._selection.deselect([e])},_updateIndicesAfterIndex(i){let e=this._itemElements();for(let t=i+1;t<e.length;t++)I(e[t]).data(this._itemIndexKey(),t-1)},_simulateOptionChange(i){let e=this.option(i);e instanceof Lo||this._optionChangedAction({name:i,fullName:i,value:e})},isItemSelected(i){return this._isItemSelected(this._editStrategy.getNormalizedIndex(i))},selectItem(i){if(this.option("selectionMode")==="none")return;let e=this._editStrategy.getNormalizedIndex(i);if(!Cl(e))return;let t=this._getKeyByIndex(e);if(this._selection.isItemSelected(t))return;if(this.option("selectionMode")==="single")return this._selection.setSelection([t]);let n=this.option("selectedItemKeys")||[];return this._selection.setSelection([...n,t],[t])},unselectItem(i){let e=this._editStrategy.getNormalizedIndex(i);if(!Cl(e))return;let t=this._selection.getSelectedItemKeys();if(this.option("selectionRequired")&&t.length<=1)return;let n=this._getKeyByIndex(e);this._selection.isItemSelected(n,{checkPending:!0})&&this._selection.deselect([n])},_deleteItemElementByIndex(i){this._updateSelectionAfterDelete(i),this._updateIndicesAfterIndex(i),this._editStrategy.deleteItemAtIndex(i)},_afterItemElementDeleted(i,e){let t=this._dataController.getDataSource()?"dataSource":"items";this._simulateOptionChange(t),this._itemEventHandler(i,"onItemDeleted",e,{beforeExecute(){i.remove()},excludeValidators:["disabled","readOnly"]}),this._renderEmptyMessage()},deleteItem(i){let e=this,t=le(),n=this._editStrategy.getItemElement(i),o=this._editStrategy.getNormalizedIndex(i),r=this._itemResponseWaitClass();return Cl(o)?this._waitDeletingPrepare(n).done(()=>{n.addClass(r);let s=e._extendActionArgs(n);e._deleteItemFromDS(n).done(()=>{e._deleteItemElementByIndex(o),e._afterItemElementDeleted(n,s),e._tryRefreshLastPage().done(()=>{t.resolveWith(e)})}).fail(()=>{n.removeClass(r),t.rejectWith(e)})}).fail(()=>{t.rejectWith(e)}):t.rejectWith(e),t.promise()},reorderItem(i,e){let t=le(),n=this,o=this._editStrategy,r=o.getItemElement(i),s=o.getItemElement(e),a=o.getNormalizedIndex(i),l=o.getNormalizedIndex(e),d=this._dataController.getDataSource()?"dataSource":"items";return Cl(a)&&Cl(l)&&a!==l?t.resolveWith(this):t.rejectWith(this),t.promise().done(function(){s[o.itemPlacementFunc(a,l)](r),o.moveItemAtIndexToIndex(a,l),this._updateIndicesAfterIndex(a),n.option("selectedItems",n._getItemsByKeys(n._selection.getSelectedItemKeys(),n._selection.getSelectedItems())),d==="items"&&n._simulateOptionChange(d),n._itemEventHandler(r,"onItemReordered",{fromIndex:o.getIndex(a),toIndex:o.getIndex(l)},{excludeValidators:["disabled","readOnly"]})})}}),cg=Tye;var Aye="__dx_key__",MW=cg.inherit({_getDefaultOptions(){return q(this.callBase(),{repaintChangesOnly:!1})},ctor(){var i;this.callBase.apply(this,arguments),this._customizeStoreLoadOptions=e=>{this._dataController.getDataSource()&&!this._dataController.isLoaded()&&(this._correctionIndex=0),this._correctionIndex&&e.storeLoadOptions&&(e.storeLoadOptions.skip+=this._correctionIndex)},(i=this._dataController)===null||i===void 0||i.on("customizeStoreLoadOptions",this._customizeStoreLoadOptions)},reload(){this._correctionIndex=0},_init(){this.callBase(),this._refreshItemsCache(),this._correctionIndex=0},_findItemElementByKey(i){let e=I(),t=this.key();return this.itemElements().each((n,o)=>{let r=I(o),s=this._getItemData(r);if(t?Ac(t,this.keyOf(s),i):this._isItemEquals(s,i))return e=r,!1}),e},_dataSourceChangedHandler(i,e){e!=null&&e.changes?this._modifyByChanges(e.changes):(this.callBase(i,e),this._refreshItemsCache())},_isItemEquals(i,e){i&&i.__dx_key__&&(i=i.data);try{return JSON.stringify(i)===JSON.stringify(e)}catch{return i===e}},_isItemStrictEquals(i,e){return this._isItemEquals(i,e)},_shouldAddNewGroup(i,e){let t=!1;return this.option("grouped")&&(i.length||(t=!0),ee(i,(n,o)=>{o.type==="insert"&&(t=!0,ee(e,(r,s)=>{if(o.data.key!==void 0&&o.data.key===s.key)return t=!1,!1}))})),t},_partialRefresh(){if(this.option("repaintChangesOnly")){let i=t=>t&&t.__dx_key__!==void 0?t.__dx_key__:this.keyOf(t),e=WS(this._itemsCache,this._editStrategy.itemsGetter(),i,this._isItemStrictEquals.bind(this));if(e&&this._itemsCache.length&&!this._shouldAddNewGroup(e,this._itemsCache))return this._modifyByChanges(e,!0),this._renderEmptyMessage(),!0;this._refreshItemsCache()}return!1},_refreshItemsCache(){if(this.option("repaintChangesOnly")){let i=this._editStrategy.itemsGetter();try{this._itemsCache=q(!0,[],i),this.key()||(this._itemsCache=this._itemsCache.map((e,t)=>({[Aye]:i[t],data:e})))}catch{this._itemsCache=q([],i)}}},_dispose(){this._dataController.off("customizeStoreLoadOptions",this._customizeStoreLoadOptions),this.callBase()},_updateByChange(i,e,t,n){if(n)this._renderItem(t.index,t.data,null,this._findItemElementByKey(t.key));else{let o=e[kc(i,e,t.key)];o&&qb(i,e,t.key,t.data).done(()=>{this._renderItem(e.indexOf(o),o,null,this._findItemElementByKey(t.key))})}},_insertByChange(i,e,t,n){Be(n||Yb(i,e,t.data,t.index)).done(()=>{this._beforeItemElementInserted(t),this._renderItem(t.index??e.length,t.data),this._afterItemElementInserted(),this._correctionIndex++})},_updateSelectionAfterRemoveByChange(i){let e=this.option("selectedIndex");e>i?this.option("selectedIndex",e-1):e===i&&this.option("selectedItems").length===1?this.option("selectedItems",[]):this._normalizeSelectedItems()},_beforeItemElementInserted(i){let e=this.option("selectedIndex");i.index<=e&&this.option("selectedIndex",e+1)},_afterItemElementInserted:pe,_removeByChange(i,e,t,n){let o=n?t.index:kc(i,e,t.key);if(n?t.oldItem:e[o]){let s=this._findItemElementByKey(t.key),a=this._extendActionArgs(s);this._waitDeletingPrepare(s).done(()=>{n?(this._updateIndicesAfterIndex(o-1),this._afterItemElementDeleted(s,a),this._updateSelectionAfterRemoveByChange(o)):(this._deleteItemElementByIndex(o),this._afterItemElementDeleted(s,a))}),this._correctionIndex--}},_modifyByChanges(i,e){let t=this._editStrategy.itemsGetter(),n={key:this.key.bind(this),keyOf:this.keyOf.bind(this)},o=this._dataController,r=o.paginate(),s=o.group();(r||s)&&(i=i.filter(a=>a.type!=="insert"||a.index!==void 0)),i.forEach(a=>this[`_${a.type}ByChange`](n,t,a,e)),this._renderedItemsCount=t.length,this._refreshItemsCache(),this._fireContentReadyAction()},_appendItemToContainer(i,e,t){let n=i.children(this._itemSelector()).get(t);be.insertElement(i.get(0),e.get(0),n)},_optionChanged(i){switch(i.name){case"items":{this._partialRefresh(i.value)||this.callBase(i);break}case"dataSource":(!this.option("repaintChangesOnly")||!i.value)&&this.option("items",[]),this.callBase(i);break;case"repaintChangesOnly":break;default:this.callBase(i)}}});var ug=MW;var IF=["*"];var DF=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var Pc=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var Lc=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var Nc=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var kye=(()=>{class i extends Va{get disabled(){return this._getOption("disabled")}set disabled(t){this._setOption("disabled",t)}get html(){return this._getOption("html")}set html(t){this._setOption("html",t)}get icon(){return this._getOption("icon")}set icon(t){this._setOption("icon",t)}get template(){return this._getOption("template")}set template(t){this._setOption("template",t)}get text(){return this._getOption("text")}set text(t){this._setOption("text",t)}get title(){return this._getOption("title")}set title(t){this._setOption("title",t)}get titleTemplate(){return this._getOption("titleTemplate")}set titleTemplate(t){this._setOption("titleTemplate",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get onClick(){return this._getOption("onClick")}set onClick(t){this._setOption("onClick",t)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(t){this._setOption("stylingMode",t)}get type(){return this._getOption("type")}set type(t){this._setOption("type",t)}get baseSize(){return this._getOption("baseSize")}set baseSize(t){this._setOption("baseSize",t)}get box(){return this._getOption("box")}set box(t){this._setOption("box",t)}get ratio(){return this._getOption("ratio")}set ratio(t){this._setOption("ratio",t)}get shrink(){return this._getOption("shrink")}set shrink(t){this._setOption("shrink",t)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(t){this._setOption("elementAttr",t)}get hint(){return this._getOption("hint")}set hint(t){this._setOption("hint",t)}get beginGroup(){return this._getOption("beginGroup")}set beginGroup(t){this._setOption("beginGroup",t)}get closeMenuOnClick(){return this._getOption("closeMenuOnClick")}set closeMenuOnClick(t){this._setOption("closeMenuOnClick",t)}get items(){return this._getOption("items")}set items(t){this._setOption("items",t)}get selectable(){return this._getOption("selectable")}set selectable(t){this._setOption("selectable",t)}get selected(){return this._getOption("selected")}set selected(t){this._setOption("selected",t)}get colSpan(){return this._getOption("colSpan")}set colSpan(t){this._setOption("colSpan",t)}get cssClass(){return this._getOption("cssClass")}set cssClass(t){this._setOption("cssClass",t)}get dataField(){return this._getOption("dataField")}set dataField(t){this._setOption("dataField",t)}get editorOptions(){return this._getOption("editorOptions")}set editorOptions(t){this._setOption("editorOptions",t)}get editorType(){return this._getOption("editorType")}set editorType(t){this._setOption("editorType",t)}get helpText(){return this._getOption("helpText")}set helpText(t){this._setOption("helpText",t)}get isRequired(){return this._getOption("isRequired")}set isRequired(t){this._setOption("isRequired",t)}get itemType(){return this._getOption("itemType")}set itemType(t){this._setOption("itemType",t)}get label(){return this._getOption("label")}set label(t){this._setOption("label",t)}get name(){return this._getOption("name")}set name(t){this._setOption("name",t)}get validationRules(){return this._getOption("validationRules")}set validationRules(t){this._setOption("validationRules",t)}get visibleIndex(){return this._getOption("visibleIndex")}set visibleIndex(t){this._setOption("visibleIndex",t)}get alignItemLabels(){return this._getOption("alignItemLabels")}set alignItemLabels(t){this._setOption("alignItemLabels",t)}get caption(){return this._getOption("caption")}set caption(t){this._setOption("caption",t)}get captionTemplate(){return this._getOption("captionTemplate")}set captionTemplate(t){this._setOption("captionTemplate",t)}get colCount(){return this._getOption("colCount")}set colCount(t){this._setOption("colCount",t)}get colCountByScreen(){return this._getOption("colCountByScreen")}set colCountByScreen(t){this._setOption("colCountByScreen",t)}get tabPanelOptions(){return this._getOption("tabPanelOptions")}set tabPanelOptions(t){this._setOption("tabPanelOptions",t)}get tabs(){return this._getOption("tabs")}set tabs(t){this._setOption("tabs",t)}get badge(){return this._getOption("badge")}set badge(t){this._setOption("badge",t)}get tabTemplate(){return this._getOption("tabTemplate")}set tabTemplate(t){this._setOption("tabTemplate",t)}get buttonOptions(){return this._getOption("buttonOptions")}set buttonOptions(t){this._setOption("buttonOptions",t)}get horizontalAlignment(){return this._getOption("horizontalAlignment")}set horizontalAlignment(t){this._setOption("horizontalAlignment",t)}get verticalAlignment(){return this._getOption("verticalAlignment")}set verticalAlignment(t){this._setOption("verticalAlignment",t)}get locateInMenu(){return this._getOption("locateInMenu")}set locateInMenu(t){this._setOption("locateInMenu",t)}get location(){return this._getOption("location")}set location(t){this._setOption("location",t)}get menuItemTemplate(){return this._getOption("menuItemTemplate")}set menuItemTemplate(t){this._setOption("menuItemTemplate",t)}get options(){return this._getOption("options")}set options(t){this._setOption("options",t)}get showText(){return this._getOption("showText")}set showText(t){this._setOption("showText",t)}get widget(){return this._getOption("widget")}set widget(t){this._setOption("widget",t)}get height(){return this._getOption("height")}set height(t){this._setOption("height",t)}get width(){return this._getOption("width")}set width(t){this._setOption("width",t)}get imageAlt(){return this._getOption("imageAlt")}set imageAlt(t){this._setOption("imageAlt",t)}get imageSrc(){return this._getOption("imageSrc")}set imageSrc(t){this._setOption("imageSrc",t)}get acceptedValues(){return this._getOption("acceptedValues")}set acceptedValues(t){this._setOption("acceptedValues",t)}get formatName(){return this._getOption("formatName")}set formatName(t){this._setOption("formatName",t)}get formatValues(){return this._getOption("formatValues")}set formatValues(t){this._setOption("formatValues",t)}get key(){return this._getOption("key")}set key(t){this._setOption("key",t)}get showChevron(){return this._getOption("showChevron")}set showChevron(t){this._setOption("showChevron",t)}get linkAttr(){return this._getOption("linkAttr")}set linkAttr(t){this._setOption("linkAttr",t)}get url(){return this._getOption("url")}set url(t){this._setOption("url",t)}get collapsed(){return this._getOption("collapsed")}set collapsed(t){this._setOption("collapsed",t)}get collapsedSize(){return this._getOption("collapsedSize")}set collapsedSize(t){this._setOption("collapsedSize",t)}get collapsible(){return this._getOption("collapsible")}set collapsible(t){this._setOption("collapsible",t)}get maxSize(){return this._getOption("maxSize")}set maxSize(t){this._setOption("maxSize",t)}get minSize(){return this._getOption("minSize")}set minSize(t){this._setOption("minSize",t)}get resizable(){return this._getOption("resizable")}set resizable(t){this._setOption("resizable",t)}get size(){return this._getOption("size")}set size(t){this._setOption("size",t)}get splitter(){return this._getOption("splitter")}set splitter(t){this._setOption("splitter",t)}get heightRatio(){return this._getOption("heightRatio")}set heightRatio(t){this._setOption("heightRatio",t)}get widthRatio(){return this._getOption("widthRatio")}set widthRatio(t){this._setOption("widthRatio",t)}get expanded(){return this._getOption("expanded")}set expanded(t){this._setOption("expanded",t)}get hasItems(){return this._getOption("hasItems")}set hasItems(t){this._setOption("hasItems",t)}get id(){return this._getOption("id")}set id(t){this._setOption("id",t)}get parentId(){return this._getOption("parentId")}set parentId(t){this._setOption("parentId",t)}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Fn(i)))(o||i)}})();static \u0275cmp=$e({type:i,selectors:[["ng-component"]],features:[yt],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return i})();var sv=(()=>{class i extends Va{get message(){return this._getOption("message")}set message(t){this._setOption("message",t)}get trim(){return this._getOption("trim")}set trim(t){this._setOption("trim",t)}get type(){return this._getOption("type")}set type(t){this._setOption("type",t)}get ignoreEmptyValue(){return this._getOption("ignoreEmptyValue")}set ignoreEmptyValue(t){this._setOption("ignoreEmptyValue",t)}get max(){return this._getOption("max")}set max(t){this._setOption("max",t)}get min(){return this._getOption("min")}set min(t){this._setOption("min",t)}get reevaluate(){return this._getOption("reevaluate")}set reevaluate(t){this._setOption("reevaluate",t)}get validationCallback(){return this._getOption("validationCallback")}set validationCallback(t){this._setOption("validationCallback",t)}get comparisonTarget(){return this._getOption("comparisonTarget")}set comparisonTarget(t){this._setOption("comparisonTarget",t)}get comparisonType(){return this._getOption("comparisonType")}set comparisonType(t){this._setOption("comparisonType",t)}get pattern(){return this._getOption("pattern")}set pattern(t){this._setOption("pattern",t)}get _optionPath(){return"validationRules"}constructor(t,n){super(),t.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(n){return new(n||i)(oe(lt,5),oe(lt,1))};static \u0275cmp=$e({type:i,selectors:[["dxi-validation-rule"]],inputs:{message:"message",trim:"trim",type:"type",ignoreEmptyValue:"ignoreEmptyValue",max:"max",min:"min",reevaluate:"reevaluate",validationCallback:"validationCallback",comparisonTarget:"comparisonTarget",comparisonType:"comparisonType",pattern:"pattern"},features:[Wt([lt]),yt],decls:0,vars:0,template:function(n,o){}})}return i})(),hg=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var Mye=(()=>{class i extends Va{get alignItemLabels(){return this._getOption("alignItemLabels")}set alignItemLabels(t){this._setOption("alignItemLabels",t)}get badge(){return this._getOption("badge")}set badge(t){this._setOption("badge",t)}get colCount(){return this._getOption("colCount")}set colCount(t){this._setOption("colCount",t)}get colCountByScreen(){return this._getOption("colCountByScreen")}set colCountByScreen(t){this._setOption("colCountByScreen",t)}get disabled(){return this._getOption("disabled")}set disabled(t){this._setOption("disabled",t)}get icon(){return this._getOption("icon")}set icon(t){this._setOption("icon",t)}get items(){return this._getOption("items")}set items(t){this._setOption("items",t)}get tabTemplate(){return this._getOption("tabTemplate")}set tabTemplate(t){this._setOption("tabTemplate",t)}get template(){return this._getOption("template")}set template(t){this._setOption("template",t)}get title(){return this._getOption("title")}set title(t){this._setOption("title",t)}get commands(){return this._getOption("commands")}set commands(t){this._setOption("commands",t)}get groups(){return this._getOption("groups")}set groups(t){this._setOption("groups",t)}get name(){return this._getOption("name")}set name(t){this._setOption("name",t)}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Fn(i)))(o||i)}})();static \u0275cmp=$e({type:i,selectors:[["ng-component"]],features:[yt],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return i})();var Rye=(()=>{class i extends Va{get icon(){return this._getOption("icon")}set icon(t){this._setOption("icon",t)}get items(){return this._getOption("items")}set items(t){this._setOption("items",t)}get location(){return this._getOption("location")}set location(t){this._setOption("location",t)}get name(){return this._getOption("name")}set name(t){this._setOption("name",t)}get text(){return this._getOption("text")}set text(t){this._setOption("text",t)}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Fn(i)))(o||i)}})();static \u0275cmp=$e({type:i,selectors:[["ng-component"]],features:[yt],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return i})();var RW=(()=>{class i extends Rye{get _optionPath(){return"commands"}get itemsChildren(){return this._getOption("items")}set itemsChildren(t){this.setChildren("items",t)}constructor(t,n){super(),t.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(n){return new(n||i)(oe(lt,5),oe(lt,1))};static \u0275cmp=$e({type:i,selectors:[["dxi-command"]],contentQueries:function(n,o,r){if(n&1&&cn(r,ZS,4),n&2){let s;Lt(s=Nt())&&(o.itemsChildren=s)}},inputs:{icon:"icon",items:"items",location:"location",name:"name",text:"text"},features:[Wt([lt]),yt],decls:0,vars:0,template:function(n,o){}})}return i})();var Fye=(()=>{class i extends Va{get commands(){return this._getOption("commands")}set commands(t){this._setOption("commands",t)}get title(){return this._getOption("title")}set title(t){this._setOption("title",t)}get category(){return this._getOption("category")}set category(t){this._setOption("category",t)}get displayMode(){return this._getOption("displayMode")}set displayMode(t){this._setOption("displayMode",t)}get expanded(){return this._getOption("expanded")}set expanded(t){this._setOption("expanded",t)}get shapes(){return this._getOption("shapes")}set shapes(t){this._setOption("shapes",t)}get _optionPath(){return"groups"}get commandsChildren(){return this._getOption("commands")}set commandsChildren(t){this.setChildren("commands",t)}constructor(t,n){super(),t.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(n){return new(n||i)(oe(lt,5),oe(lt,1))};static \u0275cmp=$e({type:i,selectors:[["dxi-group"]],contentQueries:function(n,o,r){if(n&1&&cn(r,RW,4),n&2){let s;Lt(s=Nt())&&(o.commandsChildren=s)}},inputs:{commands:"commands",title:"title",category:"category",displayMode:"displayMode",expanded:"expanded",shapes:"shapes"},features:[Wt([lt]),yt],decls:0,vars:0,template:function(n,o){}})}return i})();var Pye=(()=>{class i extends Mye{renderer;document;element;get _optionPath(){return"tabs"}get itemsChildren(){return this._getOption("items")}set itemsChildren(t){this.setChildren("items",t)}get commandsChildren(){return this._getOption("commands")}set commandsChildren(t){this.setChildren("commands",t)}get groupsChildren(){return this._getOption("groups")}set groupsChildren(t){this.setChildren("groups",t)}constructor(t,n,o,r,s,a){super(),this.renderer=o,this.document=r,this.element=a,t.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this)),s.setHost(this)}setTemplate(t){this.template=t}ngAfterViewInit(){zS(this,this.element,this.renderer,this.document)}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(n){return new(n||i)(oe(lt,5),oe(lt,1),oe(Hl),oe(jt),oe(po,1),oe(At))};static \u0275cmp=$e({type:i,selectors:[["dxi-tab"]],contentQueries:function(n,o,r){if(n&1&&(cn(r,ZS,4),cn(r,RW,4),cn(r,Fye,4)),n&2){let s;Lt(s=Nt())&&(o.itemsChildren=s),Lt(s=Nt())&&(o.commandsChildren=s),Lt(s=Nt())&&(o.groupsChildren=s)}},inputs:{alignItemLabels:"alignItemLabels",badge:"badge",colCount:"colCount",colCountByScreen:"colCountByScreen",disabled:"disabled",icon:"icon",items:"items",tabTemplate:"tabTemplate",template:"template",title:"title",commands:"commands",groups:"groups",name:"name"},features:[Wt([lt,po]),yt],ngContentSelectors:IF,decls:1,vars:0,template:function(n,o){n&1&&(Un(),Hi(0))},styles:["[_nghost-%COMP%]{display:block}"]})}return i})(),TF=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var Lye=(()=>{class i extends Va{get lat(){return this._getOption("lat")}set lat(t){this._setOption("lat",t)}get lng(){return this._getOption("lng")}set lng(t){this._setOption("lng",t)}get col(){return this._getOption("col")}set col(t){this._setOption("col",t)}get colspan(){return this._getOption("colspan")}set colspan(t){this._setOption("colspan",t)}get row(){return this._getOption("row")}set row(t){this._setOption("row",t)}get rowspan(){return this._getOption("rowspan")}set rowspan(t){this._setOption("rowspan",t)}get screen(){return this._getOption("screen")}set screen(t){this._setOption("screen",t)}get _optionPath(){return"location"}constructor(t,n){super(),t.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(n){return new(n||i)(oe(lt,5),oe(lt,1))};static \u0275cmp=$e({type:i,selectors:[["dxi-location"]],inputs:{lat:"lat",lng:"lng",col:"col",colspan:"colspan",row:"row",rowspan:"rowspan",screen:"screen"},features:[Wt([lt]),yt],decls:0,vars:0,template:function(n,o){}})}return i})();var ZS=(()=>{class i extends kye{renderer;document;element;get _optionPath(){return"items"}get itemsChildren(){return this._getOption("items")}set itemsChildren(t){this.setChildren("items",t)}get validationRulesChildren(){return this._getOption("validationRules")}set validationRulesChildren(t){this.setChildren("validationRules",t)}get tabsChildren(){return this._getOption("tabs")}set tabsChildren(t){this.setChildren("tabs",t)}get locationChildren(){return this._getOption("location")}set locationChildren(t){this.setChildren("location",t)}constructor(t,n,o,r,s,a){super(),this.renderer=o,this.document=r,this.element=a,t.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this)),s.setHost(this)}setTemplate(t){this.template=t}ngAfterViewInit(){zS(this,this.element,this.renderer,this.document)}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(n){return new(n||i)(oe(lt,5),oe(lt,1),oe(Hl),oe(jt),oe(po,1),oe(At))};static \u0275cmp=$e({type:i,selectors:[["dxi-item"]],contentQueries:function(n,o,r){if(n&1&&(cn(r,i,4),cn(r,sv,4),cn(r,Pye,4),cn(r,Lye,4)),n&2){let s;Lt(s=Nt())&&(o.itemsChildren=s),Lt(s=Nt())&&(o.validationRulesChildren=s),Lt(s=Nt())&&(o.tabsChildren=s),Lt(s=Nt())&&(o.locationChildren=s)}},inputs:{disabled:"disabled",html:"html",icon:"icon",template:"template",text:"text",title:"title",titleTemplate:"titleTemplate",visible:"visible",onClick:"onClick",stylingMode:"stylingMode",type:"type",baseSize:"baseSize",box:"box",ratio:"ratio",shrink:"shrink",elementAttr:"elementAttr",hint:"hint",beginGroup:"beginGroup",closeMenuOnClick:"closeMenuOnClick",items:"items",selectable:"selectable",selected:"selected",colSpan:"colSpan",cssClass:"cssClass",dataField:"dataField",editorOptions:"editorOptions",editorType:"editorType",helpText:"helpText",isRequired:"isRequired",itemType:"itemType",label:"label",name:"name",validationRules:"validationRules",visibleIndex:"visibleIndex",alignItemLabels:"alignItemLabels",caption:"caption",captionTemplate:"captionTemplate",colCount:"colCount",colCountByScreen:"colCountByScreen",tabPanelOptions:"tabPanelOptions",tabs:"tabs",badge:"badge",tabTemplate:"tabTemplate",buttonOptions:"buttonOptions",horizontalAlignment:"horizontalAlignment",verticalAlignment:"verticalAlignment",locateInMenu:"locateInMenu",location:"location",menuItemTemplate:"menuItemTemplate",options:"options",showText:"showText",widget:"widget",height:"height",width:"width",imageAlt:"imageAlt",imageSrc:"imageSrc",acceptedValues:"acceptedValues",formatName:"formatName",formatValues:"formatValues",key:"key",showChevron:"showChevron",linkAttr:"linkAttr",url:"url",collapsed:"collapsed",collapsedSize:"collapsedSize",collapsible:"collapsible",maxSize:"maxSize",minSize:"minSize",resizable:"resizable",size:"size",splitter:"splitter",heightRatio:"heightRatio",widthRatio:"widthRatio",expanded:"expanded",hasItems:"hasItems",id:"id",parentId:"parentId"},features:[Wt([lt,po]),yt],ngContentSelectors:IF,decls:1,vars:0,template:function(n,o){n&1&&(Un(),Hi(0))},styles:["[_nghost-%COMP%]{display:block}"]})}return i})(),pg=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var Nye=(()=>{class i extends Va{get location(){return this._getOption("location")}set location(t){this._setOption("location",t)}get name(){return this._getOption("name")}set name(t){this._setOption("name",t)}get options(){return this._getOption("options")}set options(t){this._setOption("options",t)}get cssClass(){return this._getOption("cssClass")}set cssClass(t){this._setOption("cssClass",t)}get disabled(){return this._getOption("disabled")}set disabled(t){this._setOption("disabled",t)}get hint(){return this._getOption("hint")}set hint(t){this._setOption("hint",t)}get icon(){return this._getOption("icon")}set icon(t){this._setOption("icon",t)}get onClick(){return this._getOption("onClick")}set onClick(t){this._setOption("onClick",t)}get template(){return this._getOption("template")}set template(t){this._setOption("template",t)}get text(){return this._getOption("text")}set text(t){this._setOption("text",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Fn(i)))(o||i)}})();static \u0275cmp=$e({type:i,selectors:[["ng-component"]],features:[yt],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return i})();var av=(()=>{class i extends Nye{get _optionPath(){return"buttons"}constructor(t,n){super(),t.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(n){return new(n||i)(oe(lt,5),oe(lt,1))};static \u0275cmp=$e({type:i,selectors:[["dxi-button"]],inputs:{location:"location",name:"name",options:"options",cssClass:"cssClass",disabled:"disabled",hint:"hint",icon:"icon",onClick:"onClick",template:"template",text:"text",visible:"visible"},features:[Wt([lt]),yt],decls:0,vars:0,template:function(n,o){}})}return i})(),Bc=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var AF=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var kF=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var Bye=(()=>{class i extends Va{get data(){return this._getOption("data")}set data(t){this._setOption("data",t)}get insertAfterKey(){return this._getOption("insertAfterKey")}set insertAfterKey(t){this._setOption("insertAfterKey",t)}get insertBeforeKey(){return this._getOption("insertBeforeKey")}set insertBeforeKey(t){this._setOption("insertBeforeKey",t)}get key(){return this._getOption("key")}set key(t){this._setOption("key",t)}get type(){return this._getOption("type")}set type(t){this._setOption("type",t)}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Fn(i)))(o||i)}})();static \u0275cmp=$e({type:i,selectors:[["ng-component"]],features:[yt],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return i})();var Vye=(()=>{class i extends Bye{get _optionPath(){return"changes"}constructor(t,n){super(),t.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(n){return new(n||i)(oe(lt,5),oe(lt,1))};static \u0275cmp=$e({type:i,selectors:[["dxi-change"]],inputs:{data:"data",insertAfterKey:"insertAfterKey",insertBeforeKey:"insertBeforeKey",key:"key",type:"type"},features:[Wt([lt]),yt],decls:0,vars:0,template:function(n,o){}})}return i})(),MF=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var RF=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var Vc=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var bh=(()=>{class i extends fs{get allowSearch(){return this._getOption("allowSearch")}set allowSearch(t){this._setOption("allowSearch",t)}get container(){return this._getOption("container")}set container(t){this._setOption("container",t)}get emptyPanelText(){return this._getOption("emptyPanelText")}set emptyPanelText(t){this._setOption("emptyPanelText",t)}get enabled(){return this._getOption("enabled")}set enabled(t){this._setOption("enabled",t)}get height(){return this._getOption("height")}set height(t){this._setOption("height",t)}get mode(){return this._getOption("mode")}set mode(t){this._setOption("mode",t)}get position(){return this._getOption("position")}set position(t){this._setOption("position",t)}get search(){return this._getOption("search")}set search(t){this._setOption("search",t)}get searchTimeout(){return this._getOption("searchTimeout")}set searchTimeout(t){this._setOption("searchTimeout",t)}get selection(){return this._getOption("selection")}set selection(t){this._setOption("selection",t)}get sortOrder(){return this._getOption("sortOrder")}set sortOrder(t){this._setOption("sortOrder",t)}get title(){return this._getOption("title")}set title(t){this._setOption("title",t)}get width(){return this._getOption("width")}set width(t){this._setOption("width",t)}get _optionPath(){return"columnChooser"}constructor(t,n){super(),t.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(n){return new(n||i)(oe(lt,5),oe(lt,1))};static \u0275cmp=$e({type:i,selectors:[["dxo-column-chooser"]],inputs:{allowSearch:"allowSearch",container:"container",emptyPanelText:"emptyPanelText",enabled:"enabled",height:"height",mode:"mode",position:"position",search:"search",searchTimeout:"searchTimeout",selection:"selection",sortOrder:"sortOrder",title:"title",width:"width"},features:[Wt([lt]),yt],decls:0,vars:0,template:function(n,o){}})}return i})(),FF=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var Hye=(()=>{class i extends Va{get alignment(){return this._getOption("alignment")}set alignment(t){this._setOption("alignment",t)}get allowEditing(){return this._getOption("allowEditing")}set allowEditing(t){this._setOption("allowEditing",t)}get allowExporting(){return this._getOption("allowExporting")}set allowExporting(t){this._setOption("allowExporting",t)}get allowFiltering(){return this._getOption("allowFiltering")}set allowFiltering(t){this._setOption("allowFiltering",t)}get allowFixing(){return this._getOption("allowFixing")}set allowFixing(t){this._setOption("allowFixing",t)}get allowGrouping(){return this._getOption("allowGrouping")}set allowGrouping(t){this._setOption("allowGrouping",t)}get allowHeaderFiltering(){return this._getOption("allowHeaderFiltering")}set allowHeaderFiltering(t){this._setOption("allowHeaderFiltering",t)}get allowHiding(){return this._getOption("allowHiding")}set allowHiding(t){this._setOption("allowHiding",t)}get allowReordering(){return this._getOption("allowReordering")}set allowReordering(t){this._setOption("allowReordering",t)}get allowResizing(){return this._getOption("allowResizing")}set allowResizing(t){this._setOption("allowResizing",t)}get allowSearch(){return this._getOption("allowSearch")}set allowSearch(t){this._setOption("allowSearch",t)}get allowSorting(){return this._getOption("allowSorting")}set allowSorting(t){this._setOption("allowSorting",t)}get autoExpandGroup(){return this._getOption("autoExpandGroup")}set autoExpandGroup(t){this._setOption("autoExpandGroup",t)}get buttons(){return this._getOption("buttons")}set buttons(t){this._setOption("buttons",t)}get calculateCellValue(){return this._getOption("calculateCellValue")}set calculateCellValue(t){this._setOption("calculateCellValue",t)}get calculateDisplayValue(){return this._getOption("calculateDisplayValue")}set calculateDisplayValue(t){this._setOption("calculateDisplayValue",t)}get calculateFilterExpression(){return this._getOption("calculateFilterExpression")}set calculateFilterExpression(t){this._setOption("calculateFilterExpression",t)}get calculateGroupValue(){return this._getOption("calculateGroupValue")}set calculateGroupValue(t){this._setOption("calculateGroupValue",t)}get calculateSortValue(){return this._getOption("calculateSortValue")}set calculateSortValue(t){this._setOption("calculateSortValue",t)}get caption(){return this._getOption("caption")}set caption(t){this._setOption("caption",t)}get cellTemplate(){return this._getOption("cellTemplate")}set cellTemplate(t){this._setOption("cellTemplate",t)}get columns(){return this._getOption("columns")}set columns(t){this._setOption("columns",t)}get cssClass(){return this._getOption("cssClass")}set cssClass(t){this._setOption("cssClass",t)}get customizeText(){return this._getOption("customizeText")}set customizeText(t){this._setOption("customizeText",t)}get dataField(){return this._getOption("dataField")}set dataField(t){this._setOption("dataField",t)}get dataType(){return this._getOption("dataType")}set dataType(t){this._setOption("dataType",t)}get editCellTemplate(){return this._getOption("editCellTemplate")}set editCellTemplate(t){this._setOption("editCellTemplate",t)}get editorOptions(){return this._getOption("editorOptions")}set editorOptions(t){this._setOption("editorOptions",t)}get encodeHtml(){return this._getOption("encodeHtml")}set encodeHtml(t){this._setOption("encodeHtml",t)}get falseText(){return this._getOption("falseText")}set falseText(t){this._setOption("falseText",t)}get filterOperations(){return this._getOption("filterOperations")}set filterOperations(t){this._setOption("filterOperations",t)}get filterType(){return this._getOption("filterType")}set filterType(t){this._setOption("filterType",t)}get filterValue(){return this._getOption("filterValue")}set filterValue(t){this._setOption("filterValue",t)}get filterValues(){return this._getOption("filterValues")}set filterValues(t){this._setOption("filterValues",t)}get fixed(){return this._getOption("fixed")}set fixed(t){this._setOption("fixed",t)}get fixedPosition(){return this._getOption("fixedPosition")}set fixedPosition(t){this._setOption("fixedPosition",t)}get format(){return this._getOption("format")}set format(t){this._setOption("format",t)}get formItem(){return this._getOption("formItem")}set formItem(t){this._setOption("formItem",t)}get groupCellTemplate(){return this._getOption("groupCellTemplate")}set groupCellTemplate(t){this._setOption("groupCellTemplate",t)}get groupIndex(){return this._getOption("groupIndex")}set groupIndex(t){this._setOption("groupIndex",t)}get headerCellTemplate(){return this._getOption("headerCellTemplate")}set headerCellTemplate(t){this._setOption("headerCellTemplate",t)}get headerFilter(){return this._getOption("headerFilter")}set headerFilter(t){this._setOption("headerFilter",t)}get hidingPriority(){return this._getOption("hidingPriority")}set hidingPriority(t){this._setOption("hidingPriority",t)}get isBand(){return this._getOption("isBand")}set isBand(t){this._setOption("isBand",t)}get lookup(){return this._getOption("lookup")}set lookup(t){this._setOption("lookup",t)}get minWidth(){return this._getOption("minWidth")}set minWidth(t){this._setOption("minWidth",t)}get name(){return this._getOption("name")}set name(t){this._setOption("name",t)}get ownerBand(){return this._getOption("ownerBand")}set ownerBand(t){this._setOption("ownerBand",t)}get renderAsync(){return this._getOption("renderAsync")}set renderAsync(t){this._setOption("renderAsync",t)}get selectedFilterOperation(){return this._getOption("selectedFilterOperation")}set selectedFilterOperation(t){this._setOption("selectedFilterOperation",t)}get setCellValue(){return this._getOption("setCellValue")}set setCellValue(t){this._setOption("setCellValue",t)}get showEditorAlways(){return this._getOption("showEditorAlways")}set showEditorAlways(t){this._setOption("showEditorAlways",t)}get showInColumnChooser(){return this._getOption("showInColumnChooser")}set showInColumnChooser(t){this._setOption("showInColumnChooser",t)}get showWhenGrouped(){return this._getOption("showWhenGrouped")}set showWhenGrouped(t){this._setOption("showWhenGrouped",t)}get sortIndex(){return this._getOption("sortIndex")}set sortIndex(t){this._setOption("sortIndex",t)}get sortingMethod(){return this._getOption("sortingMethod")}set sortingMethod(t){this._setOption("sortingMethod",t)}get sortOrder(){return this._getOption("sortOrder")}set sortOrder(t){this._setOption("sortOrder",t)}get trueText(){return this._getOption("trueText")}set trueText(t){this._setOption("trueText",t)}get type(){return this._getOption("type")}set type(t){this._setOption("type",t)}get validationRules(){return this._getOption("validationRules")}set validationRules(t){this._setOption("validationRules",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get visibleIndex(){return this._getOption("visibleIndex")}set visibleIndex(t){this._setOption("visibleIndex",t)}get width(){return this._getOption("width")}set width(t){this._setOption("width",t)}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Fn(i)))(o||i)}})();static \u0275cmp=$e({type:i,selectors:[["ng-component"]],features:[yt],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return i})();var md=(()=>{class i extends Hye{filterValueChange;filterValuesChange;groupIndexChange;selectedFilterOperationChange;sortIndexChange;sortOrderChange;visibleChange;visibleIndexChange;get _optionPath(){return"columns"}get buttonsChildren(){return this._getOption("buttons")}set buttonsChildren(t){this.setChildren("buttons",t)}get columnsChildren(){return this._getOption("columns")}set columnsChildren(t){this.setChildren("columns",t)}get validationRulesChildren(){return this._getOption("validationRules")}set validationRulesChildren(t){this.setChildren("validationRules",t)}constructor(t,n){super(),this._createEventEmitters([{emit:"filterValueChange"},{emit:"filterValuesChange"},{emit:"groupIndexChange"},{emit:"selectedFilterOperationChange"},{emit:"sortIndexChange"},{emit:"sortOrderChange"},{emit:"visibleChange"},{emit:"visibleIndexChange"}]),t.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(n){return new(n||i)(oe(lt,5),oe(lt,1))};static \u0275cmp=$e({type:i,selectors:[["dxi-column"]],contentQueries:function(n,o,r){if(n&1&&(cn(r,av,4),cn(r,i,4),cn(r,sv,4)),n&2){let s;Lt(s=Nt())&&(o.buttonsChildren=s),Lt(s=Nt())&&(o.columnsChildren=s),Lt(s=Nt())&&(o.validationRulesChildren=s)}},inputs:{alignment:"alignment",allowEditing:"allowEditing",allowExporting:"allowExporting",allowFiltering:"allowFiltering",allowFixing:"allowFixing",allowGrouping:"allowGrouping",allowHeaderFiltering:"allowHeaderFiltering",allowHiding:"allowHiding",allowReordering:"allowReordering",allowResizing:"allowResizing",allowSearch:"allowSearch",allowSorting:"allowSorting",autoExpandGroup:"autoExpandGroup",buttons:"buttons",calculateCellValue:"calculateCellValue",calculateDisplayValue:"calculateDisplayValue",calculateFilterExpression:"calculateFilterExpression",calculateGroupValue:"calculateGroupValue",calculateSortValue:"calculateSortValue",caption:"caption",cellTemplate:"cellTemplate",columns:"columns",cssClass:"cssClass",customizeText:"customizeText",dataField:"dataField",dataType:"dataType",editCellTemplate:"editCellTemplate",editorOptions:"editorOptions",encodeHtml:"encodeHtml",falseText:"falseText",filterOperations:"filterOperations",filterType:"filterType",filterValue:"filterValue",filterValues:"filterValues",fixed:"fixed",fixedPosition:"fixedPosition",format:"format",formItem:"formItem",groupCellTemplate:"groupCellTemplate",groupIndex:"groupIndex",headerCellTemplate:"headerCellTemplate",headerFilter:"headerFilter",hidingPriority:"hidingPriority",isBand:"isBand",lookup:"lookup",minWidth:"minWidth",name:"name",ownerBand:"ownerBand",renderAsync:"renderAsync",selectedFilterOperation:"selectedFilterOperation",setCellValue:"setCellValue",showEditorAlways:"showEditorAlways",showInColumnChooser:"showInColumnChooser",showWhenGrouped:"showWhenGrouped",sortIndex:"sortIndex",sortingMethod:"sortingMethod",sortOrder:"sortOrder",trueText:"trueText",type:"type",validationRules:"validationRules",visible:"visible",visibleIndex:"visibleIndex",width:"width"},outputs:{filterValueChange:"filterValueChange",filterValuesChange:"filterValuesChange",groupIndexChange:"groupIndexChange",selectedFilterOperationChange:"selectedFilterOperationChange",sortIndexChange:"sortIndexChange",sortOrderChange:"sortOrderChange",visibleChange:"visibleChange",visibleIndexChange:"visibleIndexChange"},features:[Wt([lt]),yt],decls:0,vars:0,template:function(n,o){}})}return i})(),PF=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var vh=(()=>{class i extends fs{get enabled(){return this._getOption("enabled")}set enabled(t){this._setOption("enabled",t)}get texts(){return this._getOption("texts")}set texts(t){this._setOption("texts",t)}get _optionPath(){return"columnFixing"}constructor(t,n){super(),t.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(n){return new(n||i)(oe(lt,5),oe(lt,1))};static \u0275cmp=$e({type:i,selectors:[["dxo-column-fixing"]],inputs:{enabled:"enabled",texts:"texts"},features:[Wt([lt]),yt],decls:0,vars:0,template:function(n,o){}})}return i})(),LF=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var NF=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var BF=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var VF=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var HF=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var zye=(()=>{class i extends fs{get accessKey(){return this._getOption("accessKey")}set accessKey(t){this._setOption("accessKey",t)}get animation(){return this._getOption("animation")}set animation(t){this._setOption("animation",t)}get closeOnOutsideClick(){return this._getOption("closeOnOutsideClick")}set closeOnOutsideClick(t){this._setOption("closeOnOutsideClick",t)}get container(){return this._getOption("container")}set container(t){this._setOption("container",t)}get contentTemplate(){return this._getOption("contentTemplate")}set contentTemplate(t){this._setOption("contentTemplate",t)}get deferRendering(){return this._getOption("deferRendering")}set deferRendering(t){this._setOption("deferRendering",t)}get disabled(){return this._getOption("disabled")}set disabled(t){this._setOption("disabled",t)}get dragAndResizeArea(){return this._getOption("dragAndResizeArea")}set dragAndResizeArea(t){this._setOption("dragAndResizeArea",t)}get dragEnabled(){return this._getOption("dragEnabled")}set dragEnabled(t){this._setOption("dragEnabled",t)}get dragOutsideBoundary(){return this._getOption("dragOutsideBoundary")}set dragOutsideBoundary(t){this._setOption("dragOutsideBoundary",t)}get enableBodyScroll(){return this._getOption("enableBodyScroll")}set enableBodyScroll(t){this._setOption("enableBodyScroll",t)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(t){this._setOption("focusStateEnabled",t)}get fullScreen(){return this._getOption("fullScreen")}set fullScreen(t){this._setOption("fullScreen",t)}get height(){return this._getOption("height")}set height(t){this._setOption("height",t)}get hideOnOutsideClick(){return this._getOption("hideOnOutsideClick")}set hideOnOutsideClick(t){this._setOption("hideOnOutsideClick",t)}get hideOnParentScroll(){return this._getOption("hideOnParentScroll")}set hideOnParentScroll(t){this._setOption("hideOnParentScroll",t)}get hint(){return this._getOption("hint")}set hint(t){this._setOption("hint",t)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(t){this._setOption("hoverStateEnabled",t)}get maxHeight(){return this._getOption("maxHeight")}set maxHeight(t){this._setOption("maxHeight",t)}get maxWidth(){return this._getOption("maxWidth")}set maxWidth(t){this._setOption("maxWidth",t)}get minHeight(){return this._getOption("minHeight")}set minHeight(t){this._setOption("minHeight",t)}get minWidth(){return this._getOption("minWidth")}set minWidth(t){this._setOption("minWidth",t)}get onContentReady(){return this._getOption("onContentReady")}set onContentReady(t){this._setOption("onContentReady",t)}get onDisposing(){return this._getOption("onDisposing")}set onDisposing(t){this._setOption("onDisposing",t)}get onHidden(){return this._getOption("onHidden")}set onHidden(t){this._setOption("onHidden",t)}get onHiding(){return this._getOption("onHiding")}set onHiding(t){this._setOption("onHiding",t)}get onInitialized(){return this._getOption("onInitialized")}set onInitialized(t){this._setOption("onInitialized",t)}get onOptionChanged(){return this._getOption("onOptionChanged")}set onOptionChanged(t){this._setOption("onOptionChanged",t)}get onResize(){return this._getOption("onResize")}set onResize(t){this._setOption("onResize",t)}get onResizeEnd(){return this._getOption("onResizeEnd")}set onResizeEnd(t){this._setOption("onResizeEnd",t)}get onResizeStart(){return this._getOption("onResizeStart")}set onResizeStart(t){this._setOption("onResizeStart",t)}get onShowing(){return this._getOption("onShowing")}set onShowing(t){this._setOption("onShowing",t)}get onShown(){return this._getOption("onShown")}set onShown(t){this._setOption("onShown",t)}get onTitleRendered(){return this._getOption("onTitleRendered")}set onTitleRendered(t){this._setOption("onTitleRendered",t)}get position(){return this._getOption("position")}set position(t){this._setOption("position",t)}get resizeEnabled(){return this._getOption("resizeEnabled")}set resizeEnabled(t){this._setOption("resizeEnabled",t)}get restorePosition(){return this._getOption("restorePosition")}set restorePosition(t){this._setOption("restorePosition",t)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(t){this._setOption("rtlEnabled",t)}get shading(){return this._getOption("shading")}set shading(t){this._setOption("shading",t)}get shadingColor(){return this._getOption("shadingColor")}set shadingColor(t){this._setOption("shadingColor",t)}get showCloseButton(){return this._getOption("showCloseButton")}set showCloseButton(t){this._setOption("showCloseButton",t)}get showTitle(){return this._getOption("showTitle")}set showTitle(t){this._setOption("showTitle",t)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(t){this._setOption("tabIndex",t)}get title(){return this._getOption("title")}set title(t){this._setOption("title",t)}get titleTemplate(){return this._getOption("titleTemplate")}set titleTemplate(t){this._setOption("titleTemplate",t)}get toolbarItems(){return this._getOption("toolbarItems")}set toolbarItems(t){this._setOption("toolbarItems",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get width(){return this._getOption("width")}set width(t){this._setOption("width",t)}get wrapperAttr(){return this._getOption("wrapperAttr")}set wrapperAttr(t){this._setOption("wrapperAttr",t)}get hideEvent(){return this._getOption("hideEvent")}set hideEvent(t){this._setOption("hideEvent",t)}get showEvent(){return this._getOption("showEvent")}set showEvent(t){this._setOption("showEvent",t)}get target(){return this._getOption("target")}set target(t){this._setOption("target",t)}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Fn(i)))(o||i)}})();static \u0275cmp=$e({type:i,selectors:[["ng-component"]],features:[yt],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return i})();var jye=(()=>{class i extends Va{renderer;document;element;get cssClass(){return this._getOption("cssClass")}set cssClass(t){this._setOption("cssClass",t)}get disabled(){return this._getOption("disabled")}set disabled(t){this._setOption("disabled",t)}get html(){return this._getOption("html")}set html(t){this._setOption("html",t)}get locateInMenu(){return this._getOption("locateInMenu")}set locateInMenu(t){this._setOption("locateInMenu",t)}get location(){return this._getOption("location")}set location(t){this._setOption("location",t)}get menuItemTemplate(){return this._getOption("menuItemTemplate")}set menuItemTemplate(t){this._setOption("menuItemTemplate",t)}get options(){return this._getOption("options")}set options(t){this._setOption("options",t)}get showText(){return this._getOption("showText")}set showText(t){this._setOption("showText",t)}get template(){return this._getOption("template")}set template(t){this._setOption("template",t)}get text(){return this._getOption("text")}set text(t){this._setOption("text",t)}get toolbar(){return this._getOption("toolbar")}set toolbar(t){this._setOption("toolbar",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get widget(){return this._getOption("widget")}set widget(t){this._setOption("widget",t)}get _optionPath(){return"toolbarItems"}constructor(t,n,o,r,s,a){super(),this.renderer=o,this.document=r,this.element=a,t.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this)),s.setHost(this)}setTemplate(t){this.template=t}ngAfterViewInit(){zS(this,this.element,this.renderer,this.document)}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(n){return new(n||i)(oe(lt,5),oe(lt,1),oe(Hl),oe(jt),oe(po,1),oe(At))};static \u0275cmp=$e({type:i,selectors:[["dxi-toolbar-item"]],inputs:{cssClass:"cssClass",disabled:"disabled",html:"html",locateInMenu:"locateInMenu",location:"location",menuItemTemplate:"menuItemTemplate",options:"options",showText:"showText",template:"template",text:"text",toolbar:"toolbar",visible:"visible",widget:"widget"},features:[Wt([lt,po]),yt],ngContentSelectors:IF,decls:1,vars:0,template:function(n,o){n&1&&(Un(),Hi(0))},styles:["[_nghost-%COMP%]{display:block}"]})}return i})(),Hc=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var fg=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var yh=(()=>{class i extends fs{get allowAdding(){return this._getOption("allowAdding")}set allowAdding(t){this._setOption("allowAdding",t)}get allowDeleting(){return this._getOption("allowDeleting")}set allowDeleting(t){this._setOption("allowDeleting",t)}get allowUpdating(){return this._getOption("allowUpdating")}set allowUpdating(t){this._setOption("allowUpdating",t)}get changes(){return this._getOption("changes")}set changes(t){this._setOption("changes",t)}get confirmDelete(){return this._getOption("confirmDelete")}set confirmDelete(t){this._setOption("confirmDelete",t)}get editColumnName(){return this._getOption("editColumnName")}set editColumnName(t){this._setOption("editColumnName",t)}get editRowKey(){return this._getOption("editRowKey")}set editRowKey(t){this._setOption("editRowKey",t)}get form(){return this._getOption("form")}set form(t){this._setOption("form",t)}get mode(){return this._getOption("mode")}set mode(t){this._setOption("mode",t)}get newRowPosition(){return this._getOption("newRowPosition")}set newRowPosition(t){this._setOption("newRowPosition",t)}get popup(){return this._getOption("popup")}set popup(t){this._setOption("popup",t)}get refreshMode(){return this._getOption("refreshMode")}set refreshMode(t){this._setOption("refreshMode",t)}get selectTextOnEditStart(){return this._getOption("selectTextOnEditStart")}set selectTextOnEditStart(t){this._setOption("selectTextOnEditStart",t)}get startEditAction(){return this._getOption("startEditAction")}set startEditAction(t){this._setOption("startEditAction",t)}get texts(){return this._getOption("texts")}set texts(t){this._setOption("texts",t)}get useIcons(){return this._getOption("useIcons")}set useIcons(t){this._setOption("useIcons",t)}get allowAddShape(){return this._getOption("allowAddShape")}set allowAddShape(t){this._setOption("allowAddShape",t)}get allowChangeConnection(){return this._getOption("allowChangeConnection")}set allowChangeConnection(t){this._setOption("allowChangeConnection",t)}get allowChangeConnectorPoints(){return this._getOption("allowChangeConnectorPoints")}set allowChangeConnectorPoints(t){this._setOption("allowChangeConnectorPoints",t)}get allowChangeConnectorText(){return this._getOption("allowChangeConnectorText")}set allowChangeConnectorText(t){this._setOption("allowChangeConnectorText",t)}get allowChangeShapeText(){return this._getOption("allowChangeShapeText")}set allowChangeShapeText(t){this._setOption("allowChangeShapeText",t)}get allowDeleteConnector(){return this._getOption("allowDeleteConnector")}set allowDeleteConnector(t){this._setOption("allowDeleteConnector",t)}get allowDeleteShape(){return this._getOption("allowDeleteShape")}set allowDeleteShape(t){this._setOption("allowDeleteShape",t)}get allowMoveShape(){return this._getOption("allowMoveShape")}set allowMoveShape(t){this._setOption("allowMoveShape",t)}get allowResizeShape(){return this._getOption("allowResizeShape")}set allowResizeShape(t){this._setOption("allowResizeShape",t)}get allowDependencyAdding(){return this._getOption("allowDependencyAdding")}set allowDependencyAdding(t){this._setOption("allowDependencyAdding",t)}get allowDependencyDeleting(){return this._getOption("allowDependencyDeleting")}set allowDependencyDeleting(t){this._setOption("allowDependencyDeleting",t)}get allowResourceAdding(){return this._getOption("allowResourceAdding")}set allowResourceAdding(t){this._setOption("allowResourceAdding",t)}get allowResourceDeleting(){return this._getOption("allowResourceDeleting")}set allowResourceDeleting(t){this._setOption("allowResourceDeleting",t)}get allowResourceUpdating(){return this._getOption("allowResourceUpdating")}set allowResourceUpdating(t){this._setOption("allowResourceUpdating",t)}get allowTaskAdding(){return this._getOption("allowTaskAdding")}set allowTaskAdding(t){this._setOption("allowTaskAdding",t)}get allowTaskDeleting(){return this._getOption("allowTaskDeleting")}set allowTaskDeleting(t){this._setOption("allowTaskDeleting",t)}get allowTaskResourceUpdating(){return this._getOption("allowTaskResourceUpdating")}set allowTaskResourceUpdating(t){this._setOption("allowTaskResourceUpdating",t)}get allowTaskUpdating(){return this._getOption("allowTaskUpdating")}set allowTaskUpdating(t){this._setOption("allowTaskUpdating",t)}get enabled(){return this._getOption("enabled")}set enabled(t){this._setOption("enabled",t)}get allowDragging(){return this._getOption("allowDragging")}set allowDragging(t){this._setOption("allowDragging",t)}get allowResizing(){return this._getOption("allowResizing")}set allowResizing(t){this._setOption("allowResizing",t)}get allowTimeZoneEditing(){return this._getOption("allowTimeZoneEditing")}set allowTimeZoneEditing(t){this._setOption("allowTimeZoneEditing",t)}changesChange;editColumnNameChange;editRowKeyChange;get _optionPath(){return"editing"}get changesChildren(){return this._getOption("changes")}set changesChildren(t){this.setChildren("changes",t)}constructor(t,n){super(),this._createEventEmitters([{emit:"changesChange"},{emit:"editColumnNameChange"},{emit:"editRowKeyChange"}]),t.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(n){return new(n||i)(oe(lt,5),oe(lt,1))};static \u0275cmp=$e({type:i,selectors:[["dxo-editing"]],contentQueries:function(n,o,r){if(n&1&&cn(r,Vye,4),n&2){let s;Lt(s=Nt())&&(o.changesChildren=s)}},inputs:{allowAdding:"allowAdding",allowDeleting:"allowDeleting",allowUpdating:"allowUpdating",changes:"changes",confirmDelete:"confirmDelete",editColumnName:"editColumnName",editRowKey:"editRowKey",form:"form",mode:"mode",newRowPosition:"newRowPosition",popup:"popup",refreshMode:"refreshMode",selectTextOnEditStart:"selectTextOnEditStart",startEditAction:"startEditAction",texts:"texts",useIcons:"useIcons",allowAddShape:"allowAddShape",allowChangeConnection:"allowChangeConnection",allowChangeConnectorPoints:"allowChangeConnectorPoints",allowChangeConnectorText:"allowChangeConnectorText",allowChangeShapeText:"allowChangeShapeText",allowDeleteConnector:"allowDeleteConnector",allowDeleteShape:"allowDeleteShape",allowMoveShape:"allowMoveShape",allowResizeShape:"allowResizeShape",allowDependencyAdding:"allowDependencyAdding",allowDependencyDeleting:"allowDependencyDeleting",allowResourceAdding:"allowResourceAdding",allowResourceDeleting:"allowResourceDeleting",allowResourceUpdating:"allowResourceUpdating",allowTaskAdding:"allowTaskAdding",allowTaskDeleting:"allowTaskDeleting",allowTaskResourceUpdating:"allowTaskResourceUpdating",allowTaskUpdating:"allowTaskUpdating",enabled:"enabled",allowDragging:"allowDragging",allowResizing:"allowResizing",allowTimeZoneEditing:"allowTimeZoneEditing"},outputs:{changesChange:"changesChange",editColumnNameChange:"editColumnNameChange",editRowKeyChange:"editRowKeyChange"},features:[Wt([lt]),yt],decls:0,vars:0,template:function(n,o){}})}return i})(),zF=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var xh=(()=>{class i extends fs{get backgroundColor(){return this._getOption("backgroundColor")}set backgroundColor(t){this._setOption("backgroundColor",t)}get enabled(){return this._getOption("enabled")}set enabled(t){this._setOption("enabled",t)}get fileName(){return this._getOption("fileName")}set fileName(t){this._setOption("fileName",t)}get formats(){return this._getOption("formats")}set formats(t){this._setOption("formats",t)}get margin(){return this._getOption("margin")}set margin(t){this._setOption("margin",t)}get printingEnabled(){return this._getOption("printingEnabled")}set printingEnabled(t){this._setOption("printingEnabled",t)}get svgToCanvas(){return this._getOption("svgToCanvas")}set svgToCanvas(t){this._setOption("svgToCanvas",t)}get allowExportSelectedData(){return this._getOption("allowExportSelectedData")}set allowExportSelectedData(t){this._setOption("allowExportSelectedData",t)}get texts(){return this._getOption("texts")}set texts(t){this._setOption("texts",t)}get _optionPath(){return"export"}constructor(t,n){super(),t.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(n){return new(n||i)(oe(lt,5),oe(lt,1))};static \u0275cmp=$e({type:i,selectors:[["dxo-export"]],inputs:{backgroundColor:"backgroundColor",enabled:"enabled",fileName:"fileName",formats:"formats",margin:"margin",printingEnabled:"printingEnabled",svgToCanvas:"svgToCanvas",allowExportSelectedData:"allowExportSelectedData",texts:"texts"},features:[Wt([lt]),yt],decls:0,vars:0,template:function(n,o){}})}return i})(),jF=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var $F=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var WF=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var UF=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var GF=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var $ye=(()=>{class i extends fs{get applyFilter(){return this._getOption("applyFilter")}set applyFilter(t){this._setOption("applyFilter",t)}get applyFilterText(){return this._getOption("applyFilterText")}set applyFilterText(t){this._setOption("applyFilterText",t)}get betweenEndText(){return this._getOption("betweenEndText")}set betweenEndText(t){this._setOption("betweenEndText",t)}get betweenStartText(){return this._getOption("betweenStartText")}set betweenStartText(t){this._setOption("betweenStartText",t)}get operationDescriptions(){return this._getOption("operationDescriptions")}set operationDescriptions(t){this._setOption("operationDescriptions",t)}get resetOperationText(){return this._getOption("resetOperationText")}set resetOperationText(t){this._setOption("resetOperationText",t)}get showAllText(){return this._getOption("showAllText")}set showAllText(t){this._setOption("showAllText",t)}get showOperationChooser(){return this._getOption("showOperationChooser")}set showOperationChooser(t){this._setOption("showOperationChooser",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Fn(i)))(o||i)}})();static \u0275cmp=$e({type:i,selectors:[["ng-component"]],features:[yt],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return i})();var Ch=(()=>{class i extends $ye{get _optionPath(){return"filterRow"}constructor(t,n){super(),t.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(n){return new(n||i)(oe(lt,5),oe(lt,1))};static \u0275cmp=$e({type:i,selectors:[["dxo-filter-row"]],inputs:{applyFilter:"applyFilter",applyFilterText:"applyFilterText",betweenEndText:"betweenEndText",betweenStartText:"betweenStartText",operationDescriptions:"operationDescriptions",resetOperationText:"resetOperationText",showAllText:"showAllText",showOperationChooser:"showOperationChooser",visible:"visible"},features:[Wt([lt]),yt],decls:0,vars:0,template:function(n,o){}})}return i})(),KF=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var qF=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var YF=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var XF=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var zc=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var ZF=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var QF=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var JF=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var eP=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var Wye=(()=>{class i extends fs{get allowSearch(){return this._getOption("allowSearch")}set allowSearch(t){this._setOption("allowSearch",t)}get allowSelectAll(){return this._getOption("allowSelectAll")}set allowSelectAll(t){this._setOption("allowSelectAll",t)}get dataSource(){return this._getOption("dataSource")}set dataSource(t){this._setOption("dataSource",t)}get groupInterval(){return this._getOption("groupInterval")}set groupInterval(t){this._setOption("groupInterval",t)}get height(){return this._getOption("height")}set height(t){this._setOption("height",t)}get search(){return this._getOption("search")}set search(t){this._setOption("search",t)}get searchMode(){return this._getOption("searchMode")}set searchMode(t){this._setOption("searchMode",t)}get width(){return this._getOption("width")}set width(t){this._setOption("width",t)}get searchTimeout(){return this._getOption("searchTimeout")}set searchTimeout(t){this._setOption("searchTimeout",t)}get texts(){return this._getOption("texts")}set texts(t){this._setOption("texts",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get showRelevantValues(){return this._getOption("showRelevantValues")}set showRelevantValues(t){this._setOption("showRelevantValues",t)}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Fn(i)))(o||i)}})();static \u0275cmp=$e({type:i,selectors:[["ng-component"]],features:[yt],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return i})();var wh=(()=>{class i extends Wye{get _optionPath(){return"headerFilter"}constructor(t,n){super(),t.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(n){return new(n||i)(oe(lt,5),oe(lt,1))};static \u0275cmp=$e({type:i,selectors:[["dxo-header-filter"]],inputs:{allowSearch:"allowSearch",allowSelectAll:"allowSelectAll",dataSource:"dataSource",groupInterval:"groupInterval",height:"height",search:"search",searchMode:"searchMode",width:"width",searchTimeout:"searchTimeout",texts:"texts",visible:"visible",showRelevantValues:"showRelevantValues"},features:[Wt([lt]),yt],decls:0,vars:0,template:function(n,o){}})}return i})(),tP=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var jc=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var iP=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var nP=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var oP=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var FW=(()=>{class i extends fs{get allowClearing(){return this._getOption("allowClearing")}set allowClearing(t){this._setOption("allowClearing",t)}get calculateCellValue(){return this._getOption("calculateCellValue")}set calculateCellValue(t){this._setOption("calculateCellValue",t)}get dataSource(){return this._getOption("dataSource")}set dataSource(t){this._setOption("dataSource",t)}get displayExpr(){return this._getOption("displayExpr")}set displayExpr(t){this._setOption("displayExpr",t)}get valueExpr(){return this._getOption("valueExpr")}set valueExpr(t){this._setOption("valueExpr",t)}get _optionPath(){return"lookup"}constructor(t,n){super(),t.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(n){return new(n||i)(oe(lt,5),oe(lt,1))};static \u0275cmp=$e({type:i,selectors:[["dxo-lookup"]],inputs:{allowClearing:"allowClearing",calculateCellValue:"calculateCellValue",dataSource:"dataSource",displayExpr:"displayExpr",valueExpr:"valueExpr"},features:[Wt([lt]),yt],decls:0,vars:0,template:function(n,o){}})}return i})(),rP=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var sP=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var $c=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var Wc=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var aP=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var mg=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var gg=(()=>{class i extends fs{get allowedPageSizes(){return this._getOption("allowedPageSizes")}set allowedPageSizes(t){this._setOption("allowedPageSizes",t)}get displayMode(){return this._getOption("displayMode")}set displayMode(t){this._setOption("displayMode",t)}get infoText(){return this._getOption("infoText")}set infoText(t){this._setOption("infoText",t)}get label(){return this._getOption("label")}set label(t){this._setOption("label",t)}get showInfo(){return this._getOption("showInfo")}set showInfo(t){this._setOption("showInfo",t)}get showNavigationButtons(){return this._getOption("showNavigationButtons")}set showNavigationButtons(t){this._setOption("showNavigationButtons",t)}get showPageSizeSelector(){return this._getOption("showPageSizeSelector")}set showPageSizeSelector(t){this._setOption("showPageSizeSelector",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get _optionPath(){return"pager"}constructor(t,n){super(),t.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(n){return new(n||i)(oe(lt,5),oe(lt,1))};static \u0275cmp=$e({type:i,selectors:[["dxo-pager"]],inputs:{allowedPageSizes:"allowedPageSizes",displayMode:"displayMode",infoText:"infoText",label:"label",showInfo:"showInfo",showNavigationButtons:"showNavigationButtons",showPageSizeSelector:"showPageSizeSelector",visible:"visible"},features:[Wt([lt]),yt],decls:0,vars:0,template:function(n,o){}})}return i})(),lP=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var Sh=(()=>{class i extends fs{get enabled(){return this._getOption("enabled")}set enabled(t){this._setOption("enabled",t)}get pageIndex(){return this._getOption("pageIndex")}set pageIndex(t){this._setOption("pageIndex",t)}get pageSize(){return this._getOption("pageSize")}set pageSize(t){this._setOption("pageSize",t)}pageIndexChange;pageSizeChange;get _optionPath(){return"paging"}constructor(t,n){super(),this._createEventEmitters([{emit:"pageIndexChange"},{emit:"pageSizeChange"}]),t.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(n){return new(n||i)(oe(lt,5),oe(lt,1))};static \u0275cmp=$e({type:i,selectors:[["dxo-paging"]],inputs:{enabled:"enabled",pageIndex:"pageIndex",pageSize:"pageSize"},outputs:{pageIndexChange:"pageIndexChange",pageSizeChange:"pageSizeChange"},features:[Wt([lt]),yt],decls:0,vars:0,template:function(n,o){}})}return i})(),dP=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var Eh=(()=>{class i extends zye{heightChange;positionChange;visibleChange;widthChange;get _optionPath(){return"popup"}get toolbarItemsChildren(){return this._getOption("toolbarItems")}set toolbarItemsChildren(t){this.setChildren("toolbarItems",t)}constructor(t,n){super(),this._createEventEmitters([{emit:"heightChange"},{emit:"positionChange"},{emit:"visibleChange"},{emit:"widthChange"}]),t.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(n){return new(n||i)(oe(lt,5),oe(lt,1))};static \u0275cmp=$e({type:i,selectors:[["dxo-popup"]],contentQueries:function(n,o,r){if(n&1&&cn(r,jye,4),n&2){let s;Lt(s=Nt())&&(o.toolbarItemsChildren=s)}},inputs:{accessKey:"accessKey",animation:"animation",closeOnOutsideClick:"closeOnOutsideClick",container:"container",contentTemplate:"contentTemplate",deferRendering:"deferRendering",disabled:"disabled",dragAndResizeArea:"dragAndResizeArea",dragEnabled:"dragEnabled",dragOutsideBoundary:"dragOutsideBoundary",enableBodyScroll:"enableBodyScroll",focusStateEnabled:"focusStateEnabled",fullScreen:"fullScreen",height:"height",hideOnOutsideClick:"hideOnOutsideClick",hideOnParentScroll:"hideOnParentScroll",hint:"hint",hoverStateEnabled:"hoverStateEnabled",maxHeight:"maxHeight",maxWidth:"maxWidth",minHeight:"minHeight",minWidth:"minWidth",onContentReady:"onContentReady",onDisposing:"onDisposing",onHidden:"onHidden",onHiding:"onHiding",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",onResize:"onResize",onResizeEnd:"onResizeEnd",onResizeStart:"onResizeStart",onShowing:"onShowing",onShown:"onShown",onTitleRendered:"onTitleRendered",position:"position",resizeEnabled:"resizeEnabled",restorePosition:"restorePosition",rtlEnabled:"rtlEnabled",shading:"shading",shadingColor:"shadingColor",showCloseButton:"showCloseButton",showTitle:"showTitle",tabIndex:"tabIndex",title:"title",titleTemplate:"titleTemplate",toolbarItems:"toolbarItems",visible:"visible",width:"width",wrapperAttr:"wrapperAttr"},outputs:{heightChange:"heightChange",positionChange:"positionChange",visibleChange:"visibleChange",widthChange:"widthChange"},features:[Wt([lt]),yt],decls:0,vars:0,template:function(n,o){}})}return i})(),cP=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var Uye=(()=>{class i extends fs{get at(){return this._getOption("at")}set at(t){this._setOption("at",t)}get boundary(){return this._getOption("boundary")}set boundary(t){this._setOption("boundary",t)}get boundaryOffset(){return this._getOption("boundaryOffset")}set boundaryOffset(t){this._setOption("boundaryOffset",t)}get collision(){return this._getOption("collision")}set collision(t){this._setOption("collision",t)}get my(){return this._getOption("my")}set my(t){this._setOption("my",t)}get of(){return this._getOption("of")}set of(t){this._setOption("of",t)}get offset(){return this._getOption("offset")}set offset(t){this._setOption("offset",t)}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Fn(i)))(o||i)}})();static \u0275cmp=$e({type:i,selectors:[["ng-component"]],features:[yt],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return i})();var Oh=(()=>{class i extends Uye{get _optionPath(){return"position"}constructor(t,n){super(),t.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(n){return new(n||i)(oe(lt,5),oe(lt,1))};static \u0275cmp=$e({type:i,selectors:[["dxo-position"]],inputs:{at:"at",boundary:"boundary",boundaryOffset:"boundaryOffset",collision:"collision",my:"my",of:"of",offset:"offset"},features:[Wt([lt]),yt],decls:0,vars:0,template:function(n,o){}})}return i})(),Uc=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var uP=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var hP=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var Gye=(()=>{class i extends fs{get columnRenderingMode(){return this._getOption("columnRenderingMode")}set columnRenderingMode(t){this._setOption("columnRenderingMode",t)}get mode(){return this._getOption("mode")}set mode(t){this._setOption("mode",t)}get preloadEnabled(){return this._getOption("preloadEnabled")}set preloadEnabled(t){this._setOption("preloadEnabled",t)}get renderAsync(){return this._getOption("renderAsync")}set renderAsync(t){this._setOption("renderAsync",t)}get rowRenderingMode(){return this._getOption("rowRenderingMode")}set rowRenderingMode(t){this._setOption("rowRenderingMode",t)}get scrollByContent(){return this._getOption("scrollByContent")}set scrollByContent(t){this._setOption("scrollByContent",t)}get scrollByThumb(){return this._getOption("scrollByThumb")}set scrollByThumb(t){this._setOption("scrollByThumb",t)}get showScrollbar(){return this._getOption("showScrollbar")}set showScrollbar(t){this._setOption("showScrollbar",t)}get useNative(){return this._getOption("useNative")}set useNative(t){this._setOption("useNative",t)}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Fn(i)))(o||i)}})();static \u0275cmp=$e({type:i,selectors:[["ng-component"]],features:[yt],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return i})();var Ih=(()=>{class i extends Gye{get _optionPath(){return"scrolling"}constructor(t,n){super(),t.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(n){return new(n||i)(oe(lt,5),oe(lt,1))};static \u0275cmp=$e({type:i,selectors:[["dxo-scrolling"]],inputs:{columnRenderingMode:"columnRenderingMode",mode:"mode",preloadEnabled:"preloadEnabled",renderAsync:"renderAsync",rowRenderingMode:"rowRenderingMode",scrollByContent:"scrollByContent",scrollByThumb:"scrollByThumb",showScrollbar:"showScrollbar",useNative:"useNative"},features:[Wt([lt]),yt],decls:0,vars:0,template:function(n,o){}})}return i})(),pP=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var fP=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var Kye=(()=>{class i extends fs{get editorOptions(){return this._getOption("editorOptions")}set editorOptions(t){this._setOption("editorOptions",t)}get enabled(){return this._getOption("enabled")}set enabled(t){this._setOption("enabled",t)}get timeout(){return this._getOption("timeout")}set timeout(t){this._setOption("timeout",t)}get mode(){return this._getOption("mode")}set mode(t){this._setOption("mode",t)}get searchExpr(){return this._getOption("searchExpr")}set searchExpr(t){this._setOption("searchExpr",t)}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Fn(i)))(o||i)}})();static \u0275cmp=$e({type:i,selectors:[["ng-component"]],features:[yt],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return i})();var Dh=(()=>{class i extends Kye{get _optionPath(){return"search"}constructor(t,n){super(),t.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(n){return new(n||i)(oe(lt,5),oe(lt,1))};static \u0275cmp=$e({type:i,selectors:[["dxo-search"]],inputs:{editorOptions:"editorOptions",enabled:"enabled",timeout:"timeout",mode:"mode",searchExpr:"searchExpr"},features:[Wt([lt]),yt],decls:0,vars:0,template:function(n,o){}})}return i})(),mP=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var qye=(()=>{class i extends fs{get allowSelectAll(){return this._getOption("allowSelectAll")}set allowSelectAll(t){this._setOption("allowSelectAll",t)}get recursive(){return this._getOption("recursive")}set recursive(t){this._setOption("recursive",t)}get selectByClick(){return this._getOption("selectByClick")}set selectByClick(t){this._setOption("selectByClick",t)}get deferred(){return this._getOption("deferred")}set deferred(t){this._setOption("deferred",t)}get mode(){return this._getOption("mode")}set mode(t){this._setOption("mode",t)}get selectAllMode(){return this._getOption("selectAllMode")}set selectAllMode(t){this._setOption("selectAllMode",t)}get showCheckBoxesMode(){return this._getOption("showCheckBoxesMode")}set showCheckBoxesMode(t){this._setOption("showCheckBoxesMode",t)}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Fn(i)))(o||i)}})();static \u0275cmp=$e({type:i,selectors:[["ng-component"]],features:[yt],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return i})();var Th=(()=>{class i extends qye{get _optionPath(){return"selection"}constructor(t,n){super(),t.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}ngOnInit(){this._addRecreatedComponent()}ngOnDestroy(){this._addRemovedOption(this._getOptionPath())}static \u0275fac=function(n){return new(n||i)(oe(lt,5),oe(lt,1))};static \u0275cmp=$e({type:i,selectors:[["dxo-selection"]],inputs:{allowSelectAll:"allowSelectAll",recursive:"recursive",selectByClick:"selectByClick",deferred:"deferred",mode:"mode",selectAllMode:"selectAllMode",showCheckBoxesMode:"showCheckBoxesMode"},features:[Wt([lt]),yt],decls:0,vars:0,template:function(n,o){}})}return i})(),gP=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var Gc=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var PW=(()=>{class i extends Va{get groupColumn(){return this._getOption("groupColumn")}set groupColumn(t){this._setOption("groupColumn",t)}get sortOrder(){return this._getOption("sortOrder")}set sortOrder(t){this._setOption("sortOrder",t)}get summaryItem(){return this._getOption("summaryItem")}set summaryItem(t){this._setOption("summaryItem",t)}get _optionPath(){return"sortByGroupSummaryInfo"}constructor(t,n){super(),t.setNestedOption(this),n.setHost(this,this._fullOptionPath.bind(this))}ngOnDestroy(){this._deleteRemovedOptions(this._fullOptionPath())}static \u0275fac=function(n){return new(n||i)(oe(lt,5),oe(lt,1))};static \u0275cmp=$e({type:i,selectors:[["dxi-sort-by-group-summary-info"]],inputs:{groupColumn:"groupColumn",sortOrder:"sortOrder",summaryItem:"summaryItem"},features:[Wt([lt]),yt],decls:0,vars:0,template:function(n,o){}})}return i})(),_P=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var bP=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var vP=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var yP=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var xP=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var CP=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var wP=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var Kc=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var SP=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var EP=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({})}return i})();var Yye=/^[\d\w.+_-]+@[\d\w._-]+\.[\w]+$/i,No={valid:"valid",invalid:"invalid",pending:"pending"},gd=class{constructor(){this.NAME="base"}defaultMessage(e){return de.getFormatter(`validation-${this.NAME}`)(e)}defaultFormattedMessage(e){return de.getFormatter(`validation-${this.NAME}-formatted`)(e)}_isValueEmpty(e){return!lv.required.validate(e,{})}validate(e,t){let n=Array.isArray(e)?e:[e],o=!0;return n.length?n.every(r=>(o=this._validate(r,t),o)):o=this._validate(null,t),o}},OP=class extends gd{constructor(){super(),this.NAME="required"}_validate(e,t){return!U(e)||e===!1?!1:(e=String(e),(t.trim||!U(t.trim))&&(e=e.trim()),e!=="")}},IP=class extends gd{constructor(){super(),this.NAME="numeric"}_validate(e,t){return t.ignoreEmptyValue!==!1&&this._isValueEmpty(e)?!0:t.useCultureSettings&&We(e)?!isNaN(Ii.parse(e)):ai(e)}},DP=class extends gd{constructor(){super(),this.NAME="range"}_validate(e,t){if(t.ignoreEmptyValue!==!1&&this._isValueEmpty(e))return!0;let n=lv.numeric.validate(e,t),o=U(e)&&e!=="",r=n?parseFloat(e):o&&e.valueOf(),{min:s}=t,{max:a}=t;if(!(n||no(e))&&!o)return!1;if(U(s))return U(a)?r>=s&&r<=a:r>=s;if(U(a))return r<=a;throw qt.Error("E0101")}},TP=class extends gd{constructor(){super(),this.NAME="stringLength"}_validate(e,t){return e=String(e??""),(t.trim||!U(t.trim))&&(e=e.trim()),t.ignoreEmptyValue&&this._isValueEmpty(e)?!0:lv.range.validate(e.length,q({},t))}},JS=class extends gd{constructor(){super(),this.NAME="custom"}validate(e,t){if(t.ignoreEmptyValue&&this._isValueEmpty(e))return!0;let{validator:n}=t,o=n&&Ie(n.option)&&n.option("dataGetter"),r=Ie(o)&&o(),s={value:e,validator:n,rule:t};return r&&q(s,r),t.validationCallback(s)}},AP=class extends JS{constructor(){super(),this.NAME="async"}validate(e,t){if(U(t.reevaluate)||q(t,{reevaluate:!0}),t.ignoreEmptyValue&&this._isValueEmpty(e))return!0;let{validator:n}=t,o=n&&Ie(n.option)&&n.option("dataGetter"),r=Ie(o)&&o(),s={value:e,validator:n,rule:t};r&&q(s,r);let a=t.validationCallback(s);if(!rd(a))throw qt.Error("E0103");return this._getWrappedPromise(Yn(a).promise())}_getWrappedPromise(e){let t=le();return e.then(n=>{t.resolve(n)},n=>{let o={isValid:!1};U(n)&&(We(n)?o.message=n:Ke(n)&&U(n.message)&&We(n.message)&&(o.message=n.message)),t.resolve(o)}),t.promise()}},kP=class extends gd{constructor(){super(),this.NAME="compare"}_validate(e,t){if(!t.comparisonTarget)throw qt.Error("E0102");if(t.ignoreEmptyValue&&this._isValueEmpty(e))return!0;q(t,{reevaluate:!0});let n=t.comparisonTarget();switch(t.comparisonType||"=="){case"==":return e==n;case"!=":return e!=n;case"===":return e===n;case"!==":return e!==n;case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n}}},MP=class extends gd{constructor(){super(),this.NAME="pattern"}_validate(e,t){if(t.ignoreEmptyValue!==!1&&this._isValueEmpty(e))return!0;let{pattern:n}=t;return We(n)&&(n=new RegExp(n)),n.test(e)}},RP=class extends gd{constructor(){super(),this.NAME="email"}_validate(e,t){return t.ignoreEmptyValue!==!1&&this._isValueEmpty(e)?!0:lv.pattern.validate(e,q({},t,{pattern:Yye}))}},lv={required:new OP,numeric:new IP,range:new DP,stringLength:new TP,custom:new JS,async:new AP,compare:new kP,pattern:new MP,email:new RP},Xye=Ut.inherit({ctor(i,e){this.group=i,this.validators=[],this._isRemovable=e,this._pendingValidators=[],this._onValidatorStatusChanged=this._onValidatorStatusChanged.bind(this),this._resetValidationInfo(),this._eventsStrategy=new Da(this)},validate(){let i={isValid:!0,brokenRules:[],validators:[],status:No.valid,complete:null};return this._unsubscribeFromAllChangeEvents(),this._pendingValidators=[],this._resetValidationInfo(),ee(this.validators,(e,t)=>{let n=t.validate();i.isValid=i.isValid&&n.isValid,n.brokenRules&&(i.brokenRules=i.brokenRules.concat(n.brokenRules)),i.validators.push(t),n.status===No.pending&&this._addPendingValidator(t),this._subscribeToChangeEvents(t)}),this._pendingValidators.length?i.status=No.pending:(i.status=i.isValid?No.valid:No.invalid,this._unsubscribeFromAllChangeEvents(),this._raiseValidatedEvent(i)),this._updateValidationInfo(i),q({},this._validationInfo.result)},_subscribeToChangeEvents(i){i.on("validating",this._onValidatorStatusChanged),i.on("validated",this._onValidatorStatusChanged)},_unsubscribeFromChangeEvents(i){i.off("validating",this._onValidatorStatusChanged),i.off("validated",this._onValidatorStatusChanged)},_unsubscribeFromAllChangeEvents(){ee(this.validators,(i,e)=>{this._unsubscribeFromChangeEvents(e)})},_updateValidationInfo(i){this._validationInfo.result=i,i.status===No.pending&&(this._validationInfo.deferred||(this._validationInfo.deferred=le(),this._validationInfo.result.complete=this._validationInfo.deferred.promise()))},_addPendingValidator(i){vo(this._pendingValidators,t=>t===i)[0]||this._pendingValidators.push(i)},_removePendingValidator(i){let e=this._pendingValidators.indexOf(i);e>=0&&this._pendingValidators.splice(e,1)},_orderBrokenRules(i){let e=[];return ee(this.validators,(t,n)=>{let o=vo(i,r=>r.validator===n);o.length&&(e=e.concat(o))}),e},_updateBrokenRules(i){if(!this._validationInfo.result)return;let{brokenRules:e}=this._validationInfo.result,t=vo(e,n=>n.validator!==i.validator);i.brokenRules&&(e=t.concat(i.brokenRules)),this._validationInfo.result.brokenRules=this._orderBrokenRules(e)},_onValidatorStatusChanged(i){if(i.status===No.pending){this._addPendingValidator(i.validator);return}this._resolveIfComplete(i)},_resolveIfComplete(i){if(this._removePendingValidator(i.validator),this._updateBrokenRules(i),!this._pendingValidators.length){if(this._unsubscribeFromAllChangeEvents(),!this._validationInfo.result)return;this._validationInfo.result.status=this._validationInfo.result.brokenRules.length===0?No.valid:No.invalid,this._validationInfo.result.isValid=this._validationInfo.result.status===No.valid;let e=q({},this._validationInfo.result,{complete:null}),{deferred:t}=this._validationInfo;this._validationInfo.deferred=null,this._raiseValidatedEvent(e),t&&setTimeout(()=>{t.resolve(e)})}},_raiseValidatedEvent(i){this._eventsStrategy.fireEvent("validated",[i])},_resetValidationInfo(){this._validationInfo={result:null,deferred:null}},_synchronizeValidationInfo(){this._validationInfo.result&&(this._validationInfo.result.validators=this.validators)},removeRegisteredValidator(i){let e=this.validators.indexOf(i);e>-1&&(this.validators.splice(e,1),this._synchronizeValidationInfo(),this._resolveIfComplete({validator:i}))},registerValidator(i){this.validators.includes(i)||(this.validators.push(i),this._synchronizeValidationInfo())},reset(){ee(this.validators,(i,e)=>{e.reset()}),this._pendingValidators=[],this._resetValidationInfo()},on(i,e){return this._eventsStrategy.on(i,e),this},off(i,e){return this._eventsStrategy.off(i,e),this}}),Yp={groups:[],getGroupConfig(i){let e=vo(this.groups,t=>t.group===i);if(e.length)return e[0]},findGroup(i,e){var t;let o=((t=i.data())===null||t===void 0||(t=t.dxComponents)===null||t===void 0?void 0:t.includes("dxValidationGroup"))&&i.dxValidationGroup("instance");if(o)return o;let r=i.parents(".dx-validationgroup").first();return r.length?r.dxValidationGroup("instance"):e},initGroups(){this.groups=[],this.addGroup(void 0,!1)},addGroup(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this.getGroupConfig(i);return t||(t=new Xye(i,e),this.groups.push(t)),t},removeGroup(i){let e=this.getGroupConfig(i),t=this.groups.indexOf(e);return t>-1&&this.groups.splice(t,1),e},_setDefaultMessage(i){let{rule:e,validator:t,name:n}=i;U(e.message)||(t.defaultFormattedMessage&&U(n)?e.message=t.defaultFormattedMessage(n):e.message=t.defaultMessage())},_addBrokenRule(i){let{result:e,rule:t}=i;e.brokenRule||(e.brokenRule=t),e.brokenRules||(e.brokenRules=[]),e.brokenRules.push(t)},validate(i,e,t){var n;let o={name:t,value:i,brokenRule:null,brokenRules:null,isValid:!0,validationRules:e,pendingRules:null,status:No.valid,complete:null},r=e==null||(n=e[0])===null||n===void 0?void 0:n.validator,s=[];return ee(e||[],(a,l)=>{let d=lv[l.type],c;if(d){if(U(l.isValid)&&l.value===i&&!l.reevaluate)return l.isValid?!0:(o.isValid=!1,this._addBrokenRule({result:o,rule:l}),!1);if(l.value=i,l.type==="async")return s.push({rule:l,ruleValidator:d}),!0;if(c=d.validate(i,l),l.isValid=c,c||(o.isValid=!1,this._setDefaultMessage({rule:l,validator:d,name:t}),this._addBrokenRule({result:o,rule:l})),!l.isValid)return!1}else throw qt.Error("E0100")}),o.isValid&&!o.brokenRules&&s.length&&(o=this._validateAsyncRules({value:i,items:s,result:o,name:t})),this._synchronizeGroupValidationInfo(r,o),o.status=o.pendingRules?No.pending:o.isValid?No.valid:No.invalid,o},_synchronizeGroupValidationInfo(i,e){if(!i)return;let t=Yp.getGroupConfig(i._validationGroup);t._updateBrokenRules.call(t,{validator:i,brokenRules:e.brokenRules??[]})},_validateAsyncRules(i){let{result:e,value:t,items:n,name:o}=i,r=[];return ee(n,(s,a)=>{let l=a.ruleValidator.validate(t,a.rule);if(!rd(l))this._updateRuleConfig({rule:a.rule,ruleResult:this._getPatchedRuleResult(l),validator:a.ruleValidator,name:o});else{e.pendingRules||(e.pendingRules=[]),e.pendingRules.push(a.rule);let d=l.then(c=>{let u=this._getPatchedRuleResult(c);return this._updateRuleConfig({rule:a.rule,ruleResult:u,validator:a.ruleValidator,name:o}),u});r.push(d)}}),r.length&&(e.complete=Promise.all(r).then(s=>this._getAsyncRulesResult({result:e,values:s}))),e},_updateRuleConfig(i){let{rule:e,ruleResult:t,validator:n,name:o}=i;e.isValid=t.isValid,t.isValid||(U(t.message)&&We(t.message)&&t.message.length?e.message=t.message:this._setDefaultMessage({rule:e,validator:n,name:o}))},_getPatchedRuleResult(i){let e;return Ke(i)?(e=q({},i),U(e.isValid)||(e.isValid=!0)):e={isValid:Xu(i)?i:!0},e},_getAsyncRulesResult(i){let{values:e,result:t}=i;return ee(e,(n,o)=>{if(o.isValid===!1){t.isValid=o.isValid;let r=t.pendingRules[n];this._addBrokenRule({result:t,rule:r})}}),t.pendingRules=null,t.complete=null,t.status=t.isValid?No.valid:No.invalid,t},registerValidatorInGroup(i,e){let t=Yp.addGroup(i);t.registerValidator.call(t,e)},removeRegisteredValidator(i,e){let t=Yp.getGroupConfig(i);if(t){t.removeRegisteredValidator.call(t,e);let n=t.validators,o=t._isRemovable;n.length===0&&o&&this.removeGroup(i)}},initValidationOptions(i){let e={};return i&&["isValid","validationStatus","validationError","validationErrors"].forEach(n=>{n in i&&q(e,this.synchronizeValidationOptions({name:n,value:i[n]},i))}),e},synchronizeValidationOptions(i,e){let{name:t,value:n}=i;switch(t){case"validationStatus":{let o=n===No.valid||n===No.pending;return e.isValid!==o?{isValid:o}:{}}case"isValid":{let{validationStatus:o}=e,r=o;return n&&o===No.invalid?r=No.valid:!n&&o!==No.invalid&&(r=No.invalid),r!==o?{validationStatus:r}:{}}case"validationErrors":{let o=!n||!n.length?null:n[0];return e.validationError!==o?{validationError:o}:{}}case"validationError":{let{validationErrors:o}=e;if(!n&&o)return{validationErrors:null};if(n&&!o)return{validationErrors:[n]};if(n&&o&&n!==o[0])return o[0]=n,{validationErrors:o.slice()}}}return{}},validateGroup(i){let e=Yp.getGroupConfig(i);if(!e)throw qt.Error("E0110");return e.validate()},resetGroup(i){let e=Yp.getGroupConfig(i);if(!e)throw qt.Error("E0110");return e.reset()}};Yp.initGroups();var gr=Yp;var Bo=gr;var hv=Array.isArray;function oE(i){var e=typeof i;return e==="string"||e==="number"}function pn(i){return i==null}function pv(i){return i===null||i===!1||i===!0||i===void 0}function so(i){return typeof i=="function"}function fv(i){return typeof i=="string"}function Zye(i){return typeof i=="number"}function gs(i){return i===null}function Qye(i){return i===void 0}function Ah(i,e){var t={};if(i)for(var n in i)t[n]=i[n];if(e)for(var o in e)t[o]=e[o];return t}function BP(i){return!gs(i)&&typeof i=="object"}var dr={},Jye="$F";function VP(i){return i.substr(2).toLowerCase()}function HW(i,e){i.appendChild(e)}function HP(i,e,t){gs(t)?HW(i,e):i.insertBefore(e,t)}function exe(i,e){return e?document.createElementNS("http://www.w3.org/2000/svg",i):document.createElement(i)}function txe(i,e,t){i.replaceChild(e,t)}function zW(i,e){i.removeChild(e)}function jW(i){for(var e=0;e<i.length;e++)i[e]()}function ixe(i,e,t){var n=i.children;return t&4?n.$LI:t&8192?i.childFlags===2?n:n[e?0:n.length-1]:n}function Ns(i,e){for(var t;i;){if(t=i.flags,t&2033)return i.dom;i=ixe(i,e,t)}return null}function _v(i,e){do{var t=i.flags;if(t&2033){zW(e,i.dom);return}var n=i.children;if(t&4&&(i=n.$LI),t&8&&(i=n),t&8192)if(i.childFlags===2)i=n;else{for(var o=0,r=n.length;o<r;++o)_v(n[o],e);return}}while(i)}function $W(i,e,t){do{var n=i.flags;if(n&2033){HP(e,i.dom,t);return}var o=i.children;if(n&4&&(i=o.$LI),n&8&&(i=o),n&8192)if(i.childFlags===2)i=o;else{for(var r=0,s=o.length;r<s;++r)$W(o[r],e,t);return}}while(i)}function WW(i,e,t){return i.constructor.getDerivedStateFromProps?Ah(t,i.constructor.getDerivedStateFromProps(e,t)):t}var mv={v:!1},_g={componentComparator:null,createVNode:null,renderComplete:null};function cv(i,e){i.textContent=e}function UW(i,e){return BP(i)&&i.event===e.event&&i.data===e.data}function GW(i,e){for(var t in e)Qye(i[t])&&(i[t]=e[t]);return i}function zP(i,e){return!!so(i)&&(i(e),!0)}var uv="$";function sE(i,e,t,n,o,r,s,a){this.childFlags=i,this.children=e,this.className=t,this.dom=null,this.flags=n,this.key=o===void 0?null:o,this.props=r===void 0?null:r,this.ref=s===void 0?null:s,this.type=a}function dn(i,e,t,n,o,r,s,a){var l=o===void 0?1:o,d=new sE(l,n,t,i,s,r,a,e);return _g.createVNode&&_g.createVNode(d),l===0&&YW(d,d.children),d}function nxe(i,e,t){if(i&4)return t;var n=(i&32768?e.render:e).defaultHooks;return pn(n)?t:pn(t)?n:GW(t,n)}function oxe(i,e,t){var n=(i&32768?e.render:e).defaultProps;return pn(n)?t:pn(t)?Ah(n,null):GW(t,n)}function rxe(i,e){return i&12?i:e.prototype&&e.prototype.render?4:e.render?32776:8}function xi(i,e,t,n,o){i=rxe(i,e);var r=new sE(1,null,null,i,n,oxe(i,e,t),nxe(i,e,o),e);return _g.createVNode&&_g.createVNode(r),r}function bv(i,e){return new sE(1,pn(i)||i===!0||i===!1?"":i,null,16,e,null,null,null)}function Zr(i,e,t){var n=dn(8192,8192,null,i,e,null,t,null);switch(n.childFlags){case 1:n.children=aE(),n.childFlags=2;break;case 16:n.children=[bv(i)],n.childFlags=4;break}return n}function ao(i){var e=i.props;if(e){var t=i.flags;t&481&&(e.children!==void 0&&pn(i.children)&&YW(i,e.children),e.className!==void 0&&(pn(i.className)&&(i.className=e.className||null),e.className=void 0)),e.key!==void 0&&(i.key=e.key,e.key=void 0),e.ref!==void 0&&(t&8?i.ref=Ah(i.ref,e.ref):i.ref=e.ref,e.ref=void 0)}return i}function sxe(i){var e=i.children,t=i.childFlags;return Zr(t===2?_r(e):e.map(_r),t,i.key)}function _r(i){var e=i.flags&-16385,t=i.props;if(e&14&&!gs(t)){var n=t;t={};for(var o in n)t[o]=n[o]}return e&8192?sxe(i):new sE(i.childFlags,i.children,i.className,e,i.key,t,i.ref,i.type)}function aE(){return bv("",null)}function KW(i,e,t,n){for(var o=i.length;t<o;t++){var r=i[t];if(!pv(r)){var s=n+uv+t;if(hv(r))KW(r,e,0,s);else{if(oE(r))r=bv(r,s);else{var a=r.key,l=fv(a)&&a[0]===uv;(r.flags&81920||l)&&(r=_r(r)),r.flags|=65536,l?a.substring(0,n.length)!==n&&(r.key=n+a):gs(a)?r.key=s:r.key=n+a}e.push(r)}}}}function qW(i){switch(i){case"svg":return 32;case"input":return 64;case"select":return 256;case"textarea":return 128;case Jye:return 8192;default:return 1}}function YW(i,e){var t,n=1;if(pv(e))t=e;else if(oE(e))n=16,t=e;else if(hv(e)){for(var o=e.length,r=0;r<o;++r){var s=e[r];if(pv(s)||hv(s)){t=t||e.slice(0,r),KW(e,t,r,"");break}else if(oE(s))t=t||e.slice(0,r),t.push(bv(s,uv+r));else{var a=s.key,l=(s.flags&81920)>0,d=gs(a),c=fv(a)&&a[0]===uv;l||d||c?(t=t||e.slice(0,r),(l||c)&&(s=_r(s)),(d||c)&&(s.key=uv+r),t.push(s)):t&&t.push(s),s.flags|=65536}}t=t||e,t.length===0?n=1:n=8}else t=e,t.flags|=65536,e.flags&81920&&(t=_r(e)),n=2;return i.children=t,i.childFlags=n,i}function vv(i){return pv(i)||oE(i)?bv(i,null):hv(i)?Zr(i,0,null):i.flags&16384?_r(i):i}var Xp="http://www.w3.org/1999/xlink",FP="http://www.w3.org/XML/1998/namespace",LW={"xlink:actuate":Xp,"xlink:arcrole":Xp,"xlink:href":Xp,"xlink:role":Xp,"xlink:show":Xp,"xlink:title":Xp,"xlink:type":Xp,"xml:base":FP,"xml:lang":FP,"xml:space":FP};function lE(i){return{onClick:i,onDblClick:i,onFocusIn:i,onFocusOut:i,onKeyDown:i,onKeyPress:i,onKeyUp:i,onMouseDown:i,onMouseMove:i,onMouseUp:i,onTouchEnd:i,onTouchMove:i,onTouchStart:i}}var XW=lE(0),PP=lE(null),ZW=lE(!0);function NW(i,e){var t=e.$EV;return t||(t=e.$EV=lE(null)),t[i]||++XW[i]===1&&(PP[i]=fxe(i)),t}function QW(i,e){var t=e.$EV;t&&t[i]&&(--XW[i]===0&&(document.removeEventListener(VP(i),PP[i]),PP[i]=null),t[i]=null)}function axe(i,e,t,n){if(so(t))NW(i,n)[i]=t;else if(BP(t)){if(UW(e,t))return;NW(i,n)[i]=t}else QW(i,n)}function lxe(i){return so(i.composedPath)?i.composedPath()[0]:i.target}function JW(i,e,t,n){var o=lxe(i);do{if(e&&o.disabled)return;var r=o.$EV;if(r){var s=r[t];if(s&&(n.dom=o,s.event?s.event(s.data,i):s(i),i.cancelBubble))return}o=o.parentNode}while(!gs(o))}function dxe(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function cxe(){return this.defaultPrevented}function uxe(){return this.cancelBubble}function eU(i){var e={dom:document};return i.isDefaultPrevented=cxe,i.isPropagationStopped=uxe,i.stopPropagation=dxe,Object.defineProperty(i,"currentTarget",{configurable:!0,get:function(){return e.dom}}),e}function hxe(i){return function(e){if(e.button!==0){e.stopPropagation();return}JW(e,!0,i,eU(e))}}function pxe(i){return function(e){JW(e,!1,i,eU(e))}}function fxe(i){var e=i==="onClick"||i==="onDblClick"?hxe(i):pxe(i);return document.addEventListener(VP(i),e),e}function mxe(i,e){var t=document.createElement("i");return t.innerHTML=e,t.innerHTML===i.innerHTML}function BW(i,e,t){if(i[e]){var n=i[e];n.event?n.event(n.data,t):n(t)}else{var o=e.toLowerCase();i[o]&&i[o](t)}}function yv(i,e){var t=function(n){var o=this.$V;if(o){var r=o.props||dr,s=o.dom;if(fv(i))BW(r,i,n);else for(var a=0;a<i.length;++a)BW(r,i[a],n);if(so(e)){var l=this.$V,d=l.props||dr;e(d,s,!1,l)}}};return Object.defineProperty(t,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),t}function Zp(i,e,t){var n="$"+e,o=i[n];if(o){if(o[1].wrapped)return;i.removeEventListener(o[0],o[1]),i[n]=null}so(t)&&(i.addEventListener(e,t),i[n]=[e,t])}function jP(i){return i==="checkbox"||i==="radio"}var gxe=yv("onInput",$P),_xe=yv(["onClick","onChange"],$P);function tU(i){i.stopPropagation()}tU.wrapped=!0;function bxe(i,e){jP(e.type)?(Zp(i,"change",_xe),Zp(i,"click",tU)):Zp(i,"input",gxe)}function $P(i,e){var t=i.type,n=i.value,o=i.checked,r=i.multiple,s=i.defaultValue,a=!pn(n);t&&t!==e.type&&e.setAttribute("type",t),!pn(r)&&r!==e.multiple&&(e.multiple=r),!pn(s)&&!a&&(e.defaultValue=s+""),jP(t)?(a&&(e.value=n),pn(o)||(e.checked=o)):a&&e.value!==n?(e.defaultValue=n,e.value=n):pn(o)||(e.checked=o)}function dv(i,e){if(i.type==="option")vxe(i,e);else{var t=i.children,n=i.flags;if(n&4)dv(t.$LI,e);else if(n&8)dv(t,e);else if(i.childFlags===2)dv(t,e);else if(i.childFlags&12)for(var o=0,r=t.length;o<r;++o)dv(t[o],e)}}function vxe(i,e){var t=i.props||dr,n=i.dom;n.value=t.value,t.value===e||hv(e)&&e.indexOf(t.value)!==-1?n.selected=!0:(!pn(e)||!pn(t.selected))&&(n.selected=t.selected||!1)}var yxe=yv("onChange",iU);function xxe(i){Zp(i,"change",yxe)}function iU(i,e,t,n){var o=!!i.multiple;!pn(i.multiple)&&o!==e.multiple&&(e.multiple=o);var r=i.selectedIndex;r===-1&&(e.selectedIndex=-1);var s=n.childFlags;if(s!==1){var a=i.value;Zye(r)&&r>-1&&e.options[r]&&(a=e.options[r].value),t&&pn(a)&&(a=i.defaultValue),dv(n,a)}}var Cxe=yv("onInput",nU),wxe=yv("onChange");function Sxe(i,e){Zp(i,"input",Cxe),e.onChange&&Zp(i,"change",wxe)}function nU(i,e,t){var n=i.value,o=e.value;if(pn(n)){if(t){var r=i.defaultValue;!pn(r)&&r!==o&&(e.defaultValue=r,e.value=r)}}else o!==n&&(e.defaultValue=n,e.value=n)}function oU(i,e,t,n,o,r){i&64?$P(n,t):i&256?iU(n,t,o,e):i&128&&nU(n,t,o),r&&(t.$V=e)}function Exe(i,e,t){i&64?bxe(e,t):i&256?xxe(e):i&128&&Sxe(e,t)}function rU(i){return i.type&&jP(i.type)?!pn(i.checked):!pn(i.value)}function Pn(){return{current:null}}function rE(i){i&&!zP(i,null)&&i.current&&(i.current=null)}function bg(i,e,t){i&&(so(i)||i.current!==void 0)&&t.push(function(){!zP(i,e)&&i.current!==void 0&&(i.current=e)})}function wl(i,e){Yc(i),_v(i,e)}function Yc(i){var e=i.flags,t=i.children,n;if(e&481){n=i.ref;var o=i.props;rE(n);var r=i.childFlags;if(!gs(o))for(var s=Object.keys(o),a=0,l=s.length;a<l;a++){var d=s[a];ZW[d]&&QW(d,i.dom)}r&12?gv(t):r===2&&Yc(t)}else t&&(e&4?(so(t.componentWillUnmount)&&t.componentWillUnmount(),rE(i.ref),t.$UN=!0,Yc(t.$LI)):e&8?(n=i.ref,!pn(n)&&so(n.onComponentWillUnmount)&&n.onComponentWillUnmount(Ns(i,!0),i.props||dr),Yc(t)):e&1024?wl(t,i.ref):e&8192&&i.childFlags&12&&gv(t))}function gv(i){for(var e=0,t=i.length;e<t;++e)Yc(i[e])}function tE(i){i.textContent=""}function iE(i,e,t){gv(t),e.flags&8192?_v(e,i):tE(i)}function Oxe(i){var e=i.event;return function(t){e(i.data,t)}}function Ixe(i,e,t,n){if(BP(t)){if(UW(e,t))return;t=Oxe(t)}Zp(n,VP(i),t)}function Dxe(i,e,t){if(pn(e)){t.removeAttribute("style");return}var n=t.style,o,r;if(fv(e)){n.cssText=e;return}if(!pn(i)&&!fv(i)){for(o in e)r=e[o],r!==i[o]&&n.setProperty(o,r);for(o in i)pn(e[o])&&n.removeProperty(o)}else for(o in e)r=e[o],n.setProperty(o,r)}function Txe(i,e,t,n){var o=i&&i.__html||"",r=e&&e.__html||"";o!==r&&!pn(r)&&!mxe(n,r)&&(gs(t)||(t.childFlags&12?gv(t.children):t.childFlags===2&&Yc(t.children),t.children=null,t.childFlags=1),n.innerHTML=r)}function LP(i,e,t,n,o,r,s){switch(i){case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":case"selectedIndex":break;case"autoFocus":n.autofocus=!!t;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":n[i]=!!t;break;case"defaultChecked":case"value":case"volume":if(r&&i==="value")break;var a=pn(t)?"":t;n[i]!==a&&(n[i]=a);break;case"style":Dxe(e,t,n);break;case"dangerouslySetInnerHTML":Txe(e,t,s,n);break;default:ZW[i]?axe(i,e,t,n):i.charCodeAt(0)===111&&i.charCodeAt(1)===110?Ixe(i,e,t,n):pn(t)?n.removeAttribute(i):o&&LW[i]?n.setAttributeNS(LW[i],i,t):n.setAttribute(i,t);break}}function WP(i,e,t,n,o){var r=!1,s=(e&448)>0;s&&(r=rU(t),r&&Exe(e,n,t));for(var a in t)LP(a,null,t[a],n,o,r,null);s&&oU(e,i,n,t,!0,r)}function sU(i,e,t){var n=vv(i.render(e,i.state,t)),o=t;return so(i.getChildContext)&&(o=Ah(t,i.getChildContext())),i.$CX=o,n}function UP(i,e,t,n,o,r){var s=new e(t,n),a=s.$N=!!(e.getDerivedStateFromProps||s.getSnapshotBeforeUpdate);if(s.$SVG=o,s.$L=r,i.children=s,s.$BS=!1,s.context=n,s.props===dr&&(s.props=t),a)s.state=WW(s,t,s.state);else if(so(s.componentWillMount)){s.$BR=!0,s.componentWillMount();var l=s.$PS;if(!gs(l)){var d=s.state;if(gs(d))s.state=l;else for(var c in l)d[c]=l[c];s.$PS=null}s.$BR=!1}return s.$LI=sU(s,t,n),s}function dE(i,e){var t=i.props||dr;return i.flags&32768?i.type.render(t,i.ref,e):i.type(t,e)}function cr(i,e,t,n,o,r){var s=i.flags|=16384;s&481?GP(i,e,t,n,o,r):s&4?Mxe(i,e,t,n,o,r):s&8?(Rxe(i,e,t,n,o,r),qP(i,r)):s&512||s&16?aU(i,e,o):s&8192?kxe(i,t,e,n,o,r):s&1024&&Axe(i,t,e,o,r)}function Axe(i,e,t,n,o){cr(i.children,i.ref,e,!1,null,o);var r=aE();aU(r,t,n),i.dom=r.dom}function kxe(i,e,t,n,o,r){var s=i.children,a=i.childFlags;a&12&&s.length===0&&(a=i.childFlags=2,s=i.children=aE()),a===2?cr(s,t,e,n,o,r):Qp(s,t,e,n,o,r)}function aU(i,e,t){var n=i.dom=document.createTextNode(i.children);gs(e)||HP(e,n,t)}function GP(i,e,t,n,o,r){var s=i.flags,a=i.props,l=i.className,d=i.childFlags,c=i.dom=exe(i.type,n=n||(s&32)>0),u=i.children;if(!pn(l)&&l!==""&&(n?c.setAttribute("class",l):c.className=l),d===16)cv(c,u);else if(d!==1){var h=n&&i.type!=="foreignObject";d===2?(u.flags&16384&&(i.children=u=_r(u)),cr(u,c,t,h,null,r)):(d===8||d===4)&&Qp(u,c,t,h,null,r)}gs(e)||HP(e,c,o),gs(a)||WP(i,s,a,c,n),bg(i.ref,c,r)}function Qp(i,e,t,n,o,r){for(var s=0;s<i.length;++s){var a=i[s];a.flags&16384&&(i[s]=a=_r(a)),cr(a,e,t,n,o,r)}}function Mxe(i,e,t,n,o,r){var s=UP(i,i.type,i.props||dr,t,n,r);cr(s.$LI,e,s.$CX,n,o,r),KP(i.ref,s,r)}function Rxe(i,e,t,n,o,r){cr(i.children=vv(dE(i,t)),e,t,n,o,r)}function Fxe(i){return function(){i.componentDidMount()}}function KP(i,e,t){bg(i,e,t),so(e.componentDidMount)&&t.push(Fxe(e))}function Pxe(i,e){return function(){i.onComponentDidMount(Ns(e,!0),e.props||dr)}}function qP(i,e){var t=i.ref;pn(t)||(zP(t.onComponentWillMount,i.props||dr),so(t.onComponentDidMount)&&e.push(Pxe(t,i)))}function Lxe(i,e,t,n,o,r){Yc(i),e.flags&i.flags&2033?(cr(e,null,n,o,null,r),txe(t,e.dom,i.dom)):(cr(e,t,n,o,Ns(i,!0),r),_v(i,t))}function Xc(i,e,t,n,o,r,s){var a=e.flags|=16384;i.flags!==a||i.type!==e.type||i.key!==e.key||a&2048?i.flags&16384?Lxe(i,e,t,n,o,s):cr(e,t,n,o,r,s):a&481?zxe(i,e,n,o,a,s):a&4?Wxe(i,e,t,n,o,r,s):a&8?Uxe(i,e,t,n,o,r,s):a&16?Gxe(i,e):a&512?e.dom=i.dom:a&8192?Vxe(i,e,t,n,o,s):Hxe(i,e,n,s)}function Nxe(i,e,t){i!==e&&(i!==""?t.firstChild.nodeValue=e:cv(t,e))}function Bxe(i,e){i.textContent!==e&&(i.textContent=e)}function Vxe(i,e,t,n,o,r){var s=i.children,a=e.children,l=i.childFlags,d=e.childFlags,c=null;d&12&&a.length===0&&(d=e.childFlags=2,a=e.children=aE());var u=(d&2)!==0;if(l&12){var h=s.length;(l&8&&d&8||u||!u&&a.length>h)&&(c=Ns(s[h-1],!1).nextSibling)}YP(l,d,s,a,t,n,o,c,i,r)}function Hxe(i,e,t,n){var o=i.ref,r=e.ref,s=e.children;if(YP(i.childFlags,e.childFlags,i.children,s,o,t,!1,null,i,n),e.dom=i.dom,o!==r&&!pv(s)){var a=s.dom;zW(o,a),HW(r,a)}}function zxe(i,e,t,n,o,r){var s=e.dom=i.dom,a=i.props,l=e.props,d=!1,c=!1,u;if(n=n||(o&32)>0,a!==l){var h=a||dr;if(u=l||dr,u!==dr){d=(o&448)>0,d&&(c=rU(u));for(var f in u){var p=h[f],m=u[f];p!==m&&LP(f,p,m,s,n,c,i)}}if(h!==dr)for(var g in h)pn(u[g])&&!pn(h[g])&&LP(g,h[g],null,s,n,c,i)}var b=e.children,x=e.className;i.className!==x&&(pn(x)?s.removeAttribute("class"):n?s.setAttribute("class",x):s.className=x),o&4096?Bxe(s,b):YP(i.childFlags,e.childFlags,i.children,b,s,t,n&&e.type!=="foreignObject",null,i,r),d&&oU(o,e,s,u,!1,c);var E=e.ref,D=i.ref;D!==E&&(rE(D),bg(E,s,r))}function jxe(i,e,t,n,o,r){Yc(i),Qp(e,t,n,o,Ns(i,!0),r),_v(i,t)}function YP(i,e,t,n,o,r,s,a,l,d){switch(i){case 2:switch(e){case 2:Xc(t,n,o,r,s,a,d);break;case 1:wl(t,o);break;case 16:Yc(t),cv(o,n);break;default:jxe(t,n,o,r,s,d);break}break;case 1:switch(e){case 2:cr(n,o,r,s,a,d);break;case 1:break;case 16:cv(o,n);break;default:Qp(n,o,r,s,a,d);break}break;case 16:switch(e){case 16:Nxe(t,n,o);break;case 2:tE(o),cr(n,o,r,s,a,d);break;case 1:tE(o);break;default:tE(o),Qp(n,o,r,s,a,d);break}break;default:switch(e){case 16:gv(t),cv(o,n);break;case 2:iE(o,l,t),cr(n,o,r,s,a,d);break;case 1:iE(o,l,t);break;default:var c=t.length|0,u=n.length|0;c===0?u>0&&Qp(n,o,r,s,a,d):u===0?iE(o,l,t):e===8&&i===8?qxe(t,n,o,r,s,c,u,a,l,d):Kxe(t,n,o,r,s,c,u,a,d);break}break}}function $xe(i,e,t,n,o){o.push(function(){i.componentDidUpdate(e,t,n)})}function lU(i,e,t,n,o,r,s,a,l){var d=i.state,c=i.props,u=!!i.$N,h=so(i.shouldComponentUpdate);if(u&&(e=WW(i,t,e!==d?Ah(d,e):e)),s||!h||h&&i.shouldComponentUpdate(t,e,o)){!u&&so(i.componentWillUpdate)&&i.componentWillUpdate(t,e,o),i.props=t,i.state=e,i.context=o;var f=null,p=sU(i,t,o);u&&so(i.getSnapshotBeforeUpdate)&&(f=i.getSnapshotBeforeUpdate(c,d)),Xc(i.$LI,p,n,i.$CX,r,a,l),i.$LI=p,so(i.componentDidUpdate)&&$xe(i,c,d,f,l)}else i.props=t,i.state=e,i.context=o}function Wxe(i,e,t,n,o,r,s){var a=e.children=i.children;if(!gs(a)){a.$L=s;var l=e.props||dr,d=e.ref,c=i.ref,u=a.state;if(!a.$N){if(so(a.componentWillReceiveProps)){if(a.$BR=!0,a.componentWillReceiveProps(l,n),a.$UN)return;a.$BR=!1}gs(a.$PS)||(u=Ah(u,a.$PS),a.$PS=null)}lU(a,u,l,t,n,o,!1,r,s),c!==d&&(rE(c),bg(d,a,s))}}function Uxe(i,e,t,n,o,r,s){var a=!0,l=e.props||dr,d=e.ref,c=i.props,u=!pn(d),h=i.children;if(u&&so(d.onComponentShouldUpdate)&&(a=d.onComponentShouldUpdate(c,l)),a!==!1){u&&so(d.onComponentWillUpdate)&&d.onComponentWillUpdate(c,l);var f=vv(dE(e,n));Xc(h,f,t,n,o,r,s),e.children=f,u&&so(d.onComponentDidUpdate)&&d.onComponentDidUpdate(c,l)}else e.children=h}function Gxe(i,e){var t=e.children,n=e.dom=i.dom;t!==i.children&&(n.nodeValue=t)}function Kxe(i,e,t,n,o,r,s,a,l){for(var d=r>s?s:r,c=0,u,h;c<d;++c)u=e[c],h=i[c],u.flags&16384&&(u=e[c]=_r(u)),Xc(h,u,t,n,o,a,l),i[c]=u;if(r<s)for(c=d;c<s;++c)u=e[c],u.flags&16384&&(u=e[c]=_r(u)),cr(u,t,n,o,a,l);else if(r>s)for(c=d;c<r;++c)wl(i[c],t)}function qxe(i,e,t,n,o,r,s,a,l,d){var c=r-1,u=s-1,h=0,f=i[h],p=e[h],m,g;e:{for(;f.key===p.key;){if(p.flags&16384&&(e[h]=p=_r(p)),Xc(f,p,t,n,o,a,d),i[h]=p,++h,h>c||h>u)break e;f=i[h],p=e[h]}for(f=i[c],p=e[u];f.key===p.key;){if(p.flags&16384&&(e[u]=p=_r(p)),Xc(f,p,t,n,o,a,d),i[c]=p,c--,u--,h>c||h>u)break e;f=i[c],p=e[u]}}if(h>c){if(h<=u)for(m=u+1,g=m<s?Ns(e[m],!0):a;h<=u;)p=e[h],p.flags&16384&&(e[h]=p=_r(p)),++h,cr(p,t,n,o,g,d)}else if(h>u)for(;h<=c;)wl(i[h++],t);else Yxe(i,e,n,r,s,c,u,h,t,o,a,l,d)}function Yxe(i,e,t,n,o,r,s,a,l,d,c,u,h){var f,p,m,g=0,b=a,x=a,E=r-a+1,D=s-a+1,L=new Int32Array(D+1),k=E===n,R=!1,N=0,z=0;if(o<4||(E|D)<32)for(g=b;g<=r;++g)if(f=i[g],z<D){for(a=x;a<=s;a++)if(p=e[a],f.key===p.key){if(L[a-x]=g+1,k)for(k=!1;b<g;)wl(i[b++],l);N>a?R=!0:N=a,p.flags&16384&&(e[a]=p=_r(p)),Xc(f,p,l,t,d,c,h),++z;break}!k&&a>s&&wl(f,l)}else k||wl(f,l);else{var V={};for(g=x;g<=s;++g)V[e[g].key]=g;for(g=b;g<=r;++g)if(f=i[g],z<D)if(a=V[f.key],a!==void 0){if(k)for(k=!1;g>b;)wl(i[b++],l);L[a-x]=g+1,N>a?R=!0:N=a,p=e[a],p.flags&16384&&(e[a]=p=_r(p)),Xc(f,p,l,t,d,c,h),++z}else k||wl(f,l);else k||wl(f,l)}if(k)iE(l,u,i),Qp(e,l,t,d,c,h);else if(R){var S=Xxe(L);for(a=S.length-1,g=D-1;g>=0;g--)L[g]===0?(N=g+x,p=e[N],p.flags&16384&&(e[N]=p=_r(p)),m=N+1,cr(p,l,t,d,m<o?Ns(e[m],!0):c,h)):a<0||g!==S[a]?(N=g+x,p=e[N],m=N+1,$W(p,l,m<o?Ns(e[m],!0):c)):a--}else if(z!==D)for(g=D-1;g>=0;g--)L[g]===0&&(N=g+x,p=e[N],p.flags&16384&&(e[N]=p=_r(p)),m=N+1,cr(p,l,t,d,m<o?Ns(e[m],!0):c,h))}var qc,eE,VW=0;function Xxe(i){var e=0,t=0,n=0,o=0,r=0,s=0,a=0,l=i.length;for(l>VW&&(VW=l,qc=new Int32Array(l),eE=new Int32Array(l));t<l;++t)if(e=i[t],e!==0){if(n=qc[o],i[n]<e){eE[t]=n,qc[++o]=t;continue}for(r=0,s=o;r<s;)a=r+s>>1,i[qc[a]]<e?r=a+1:s=a;e<i[qc[r]]&&(r>0&&(eE[t]=qc[r-1]),qc[r]=t)}r=o+1;var d=new Int32Array(r);for(s=qc[r-1];r-- >0;)d[r]=s,s=eE[s],qc[r]=0;return d}var Zxe=typeof document<"u";Zxe&&window.Node&&(Node.prototype.$EV=null,Node.prototype.$V=null);function Qxe(i,e,t,n){var o=[],r=e.$V;mv.v=!0,pn(r)?pn(i)||(i.flags&16384&&(i=_r(i)),cr(i,e,n,!1,null,o),e.$V=i,r=i):pn(i)?(wl(r,e),e.$V=null):(i.flags&16384&&(i=_r(i)),Xc(r,i,e,n,!1,null,o),r=e.$V=i),jW(o),mv.v=!1,so(t)&&t(),so(_g.renderComplete)&&_g.renderComplete(r,e)}function Jp(i,e,t,n){t===void 0&&(t=null),n===void 0&&(n=dr),Qxe(i,e,t,n)}var nE=[],Jxe=typeof Promise<"u"?Promise.resolve().then.bind(Promise.resolve()):function(i){window.setTimeout(i,0)},NP=!1;function dU(i,e,t,n){var o=i.$PS;if(so(e)&&(e=e(o?Ah(i.state,o):i.state,i.props,i.context)),pn(o))i.$PS=e;else for(var r in e)o[r]=e[r];if(i.$BR)so(t)&&i.$L.push(t.bind(i));else{if(!mv.v&&nE.length===0){cU(i,n),so(t)&&t.call(i);return}if(nE.indexOf(i)===-1&&nE.push(i),n&&(i.$F=!0),NP||(NP=!0,Jxe(XP)),so(t)){var s=i.$QU;s||(s=i.$QU=[]),s.push(t)}}}function eCe(i){for(var e=i.$QU,t=0;t<e.length;++t)e[t].call(i);i.$QU=null}function XP(){var i;for(NP=!1;i=nE.shift();)if(!i.$UN){var e=i.$F;i.$F=!1,cU(i,e),i.$QU&&eCe(i)}}function cU(i,e){if(e||!i.$BR){var t=i.$PS;i.$PS=null;var n=[];mv.v=!0,lU(i,Ah(i.state,t),i.props,Ns(i.$LI,!0).parentNode,i.context,i.$SVG,e,null,n),jW(n),mv.v=!1}else i.state=i.$PS,i.$PS=null}var ef=function(e,t){this.state=null,this.$BR=!1,this.$BS=!0,this.$PS=null,this.$LI=null,this.$UN=!1,this.$CX=null,this.$QU=null,this.$N=!1,this.$L=null,this.$SVG=!1,this.$F=!1,this.props=e||dr,this.context=t||dr};ef.prototype.forceUpdate=function(e){this.$UN||dU(this,{},e,!0)};ef.prototype.setState=function(e,t){this.$UN||this.$BS||dU(this,e,t,!1)};ef.prototype.render=function(e,t,n){return null};var _d={lockCount:0,lock(){this.lockCount++},callbacks:[],callEffects(){if(this.lockCount--,this.lockCount<0)throw new Error("Unexpected Effect Call");if(this.lockCount===0){let i=this.callbacks;this.callbacks=[],i.forEach(e=>e())}}};var ZP=(i,e)=>{if(!(i instanceof Object&&e instanceof Object))return i===e;let n=Object.keys(i),o=Object.keys(e);return n.length!==o.length?!1:!n.some(s=>i[s]!==e[s])},Qn=class extends ef{constructor(){super(...arguments),this._pendingContext=this.context}componentWillReceiveProps(e,t){this._pendingContext=t??{}}shouldComponentUpdate(e,t){return!ZP(this.props,e)||!ZP(this.state,t)||!ZP(this.context,this._pendingContext)}},br=class extends Qn{constructor(){super(...arguments),this._effects=[]}createEffects(){return[]}updateEffects(){}componentWillMount(){_d.lock()}componentWillUpdate(e,t,n){_d.lock()}componentDidMount(){_d.callbacks.push(()=>{this._effects=this.createEffects()}),_d.callEffects()}componentDidUpdate(){_d.callbacks.push(()=>this.updateEffects()),_d.callEffects()}destroyEffects(){this._effects.forEach(e=>e.dispose())}componentWillUnmount(){this.destroyEffects()}},za=class extends br{constructor(){super(...arguments),this.vDomElement=null}vDomUpdateClasses(){let e=this.vDomElement,t=e.className.length?e.className.split(" "):[],n=t.filter(r=>e.dxClasses.previous.indexOf(r)<0),o=e.dxClasses.previous.filter(r=>t.indexOf(r)<0);n.forEach(r=>{let s=e.dxClasses.removed.indexOf(r);s>-1?e.dxClasses.removed.splice(s,1):e.dxClasses.added.includes(r)||e.dxClasses.added.push(r)}),o.forEach(r=>{let s=e.dxClasses.added.indexOf(r);s>-1?e.dxClasses.added.splice(s,1):e.dxClasses.removed.includes(r)||e.dxClasses.removed.push(r)})}componentDidMount(){let e=Ns(this.$LI,!0);this.vDomElement=e,super.componentDidMount(),e.dxClasses=e.dxClasses||{removed:[],added:[],previous:[]},e.dxClasses.previous=e?.className.length?e.className.split(" "):[]}componentDidUpdate(){super.componentDidUpdate();let e=this.vDomElement;e!==null&&(e.dxClasses.added.forEach(t=>e.classList.add(t)),e.dxClasses.removed.forEach(t=>e.classList.remove(t)),e.dxClasses.previous=e.className.length?e.className.split(" "):[])}shouldComponentUpdate(e,t){let n=super.shouldComponentUpdate(e,t);return n&&this.vDomUpdateClasses(),n}};var tCe=0,cE=function(i){let e=tCe++;return{id:e,defaultValue:i,Provider:class extends ef{getChildContext(){return Object.assign(Object.assign({},this.context),{[e]:this.props.value||i})}render(){return this.props.children}}}};var Gi=class{constructor(e,t){this.dependency=t,this.effect=e,this.destroy=e()}update(e){let t=this.dependency;e&&(this.dependency=e),(!e||e.some((n,o)=>t[o]!==n))&&(this.dispose(),this.destroy=this.effect())}dispose(){this.destroy&&this.destroy()}};var bd=()=>new Gi(()=>{XP()},[]);var iCe="a runtime error occured! Use Inferno in development environment to find the error.";function uU(i){return i==null}function hU(i){return i===null||i===!1||i===!0||i===void 0}function pU(i){return typeof i=="function"}function tf(i){return i===null}function fU(i){throw i||(i=iCe),new Error(`Inferno Error: ${i}`)}function nCe(i,e){let t=document.createElement("i");return t.innerHTML=e,t.innerHTML===i.innerHTML}function oCe(i){let e,t;for(;i;){if(e=i.flags,e&2033)return i.dom;t=i.children,e&8192?i=i.childFlags===2?t:t[t.length-1]:e&4?i=t.$LI:i=t}return null}function rCe(i,e){return!!(e&&e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html&&nCe(i,e.dangerouslySetInnerHTML.__html))}function sCe(i,e,t,n,o,r,s){let a=i.type,l=i.ref,d=i.props||dr,c;if(r){let u=UP(i,a,d,n,o,s),h=u.$LI;c=xv(h,e,t,u.$CX,o,s),KP(l,u,s)}else{let u=vv(dE(i,n));c=xv(u,e,t,n,o,s),i.children=u,qP(i,s)}return c}function mU(i,e,t,n,o,r){let s=i.childFlags,a=i.children,l=i.props,d=i.flags;if(s!==1){if(s===2)tf(t)?cr(a,e,n,o,null,r):(t=xv(a,e,t,n,o,r),t=t?t.nextSibling:null);else if(s===16)tf(t)?e.appendChild(document.createTextNode(a)):e.childNodes.length!==1||t.nodeType!==3?e.textContent=a:t.nodeValue!==a&&(t.nodeValue=a),t=null;else if(s&12){let c=!1;for(let u=0,h=a.length;u<h;++u){let f=a[u];tf(t)||c&&(f.flags&16)>0?cr(f,e,n,o,t,r):(t=xv(f,e,t,n,o,r),t=t?t.nextSibling:null),c=(f.flags&16)>0}}if(!(d&8192)){let c=null;for(;t;)c=t.nextSibling,e.removeChild(t),t=c}}else!tf(e.firstChild)&&!rCe(e,l)&&(e.textContent="",d&448&&(e.defaultValue=""))}function aCe(i,e,t,n,o,r){let s=i.props,a=i.className,l=i.flags,d=i.ref;return o=o||(l&32)>0,t.nodeType!==1?(GP(i,null,n,o,null,r),e.replaceChild(i.dom,t)):(i.dom=t,mU(i,t,t.firstChild,n,o,r),tf(s)||WP(i,l,s,t,o),uU(a)?t.className!==""&&t.removeAttribute("class"):o?t.setAttribute("class",a):t.className=a,bg(d,t,r)),i.dom}function gU(i,e,t){if(t.nodeType!==3)e.replaceChild(i.dom=document.createTextNode(i.children),t);else{let n=i.children;t.nodeValue!==n&&(t.nodeValue=n),i.dom=t}return i.dom}function lCe(i,e,t,n,o,r){let s=i.children;return i.childFlags===2?(gU(s,e,t),s.dom):(mU(i,e,t,n,o,r),oCe(s[s.length-1]))}function xv(i,e,t,n,o,r){let s=i.flags|=16384;return s&14?sCe(i,e,t,n,o,(s&4)>0,r):s&481?aCe(i,e,t,n,o,r):s&16?gU(i,e,t):s&512?i.dom=t:s&8192?lCe(i,e,t,n,o,r):(fU(),null)}function _U(i,e,t){let n=e.firstChild;if(tf(n))Jp(i,e,t);else{let o=[];for(hU(i)||(n=xv(i,e,n,{},!1,o));n&&(n=n.nextSibling);)e.removeChild(n);if(o.length>0){let r;for(;(r=o.shift())!==void 0;)r()}}e.$V=i,pU(t)&&t()}function bU(i){return i==null}function dCe(i){return typeof i=="string"}function vU(i){return i===void 0}var cCe={onComponentDidMount:1,onComponentDidUpdate:1,onComponentShouldUpdate:1,onComponentWillMount:1,onComponentWillUnmount:1,onComponentWillUpdate:1};function vg(i,e,t){var n=arguments,o,r=null,s=null,a=null,l=0,d,c=arguments.length-2;if(c===1)o=t;else if(c>1)for(o=[];c-- >0;)o[c]=n[c+2];if(dCe(i)){if(l=qW(i),!bU(e)){d={};for(var u in e)u==="className"||u==="class"?a=e[u]:u==="key"?s=e.key:u==="children"&&vU(o)?o=e.children:u==="ref"?r=e.ref:(u==="contenteditable"&&(l|=4096),d[u]=e[u])}}else{if(l=2,vU(o)||(e||(e={}),e.children=o),!bU(e)){d={};for(var h in e)h==="key"?s=e.key:h==="ref"?r=e.ref:cCe[h]===1?(r||(r={}),r[h]=e[h]):d[h]=e[h]}return xi(l,i,d,s,r)}return l&8192?Zr(c===1?[o]:o,0,s):dn(l,i,a,o,0,d,s,r)}var uCe=i=>{var e,t;return((e=i.container)===null||e===void 0?void 0:e.get(0))||((t=i.item)===null||t===void 0?void 0:t.get(0))};function yU(i,e,t){setTimeout(()=>{Jp(vg(i,e),uCe(e))},0)}var xU=(i,e,t)=>{let n=e[i];return!!n&&typeof n!="string"};var hCe=new Set(["animationIterationCount","borderImageOutset","borderImageSlice","border-imageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","fillOpacity","flex","flexGrow","flexNegative","flexOrder","flexPositive","flexShrink","floodOpacity","fontWeight","gridColumn","gridRow","lineClamp","lineHeight","opacity","order","orphans","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","tabSize","widows","zIndex","zoom"]),pCe=i=>typeof i=="number"?!0:!Number.isNaN(Number(i)),fCe=(i,e)=>hCe.has(i)?e:`${e}px`,mCe=/[A-Z]/g,gCe=i=>i.replace(mCe,"-$&").toLowerCase();function yg(i){if(i instanceof Object)return Object.entries(i).reduce((e,[t,n])=>(e[gCe(t)]=pCe(n)?fCe(t,n):n,e),{})}var CU=i=>{let{parentNode:e}=i;if(e){let t=i.nextSibling;nh(i),e.$V=i.$V,Jp(null,e),e.insertBefore(i,t),i.innerHTML="",delete e.$V}delete i.$V},nf=_o({createElement:(i,e)=>vg(i,e),remove:CU,onAfterRender:()=>{_d.callEffects()},onPreRender:()=>{_d.lock()},render:(i,e,t,n)=>{if(n)Jp(vg(i,e),t);else{let{parentNode:o}=t,r=t?.nextSibling,s=be.createElement("div");s.appendChild(t);let a=be.createDocumentFragment().appendChild(s);!!t.$V&&CU(t),_U(vg(i,e),a),t.$V=a.$V,o&&o.insertBefore(t,r)}}});var wU=(i,e)=>Object.keys(i).length!==Object.keys(e).length?!1:Object.keys(i).every(t=>i[t]===e[t]);var _Ce=["isEqual"];function bCe(i){return!!i.toArray}function SU(i,e){let t={template:e,model:ye({},i)},n=i.data??{},{isEqual:o}=n,r=ri(n,_Ce);return o&&(t.model.data=r,t.isEqual=o),t}function vCe(i,e){let{data:t,index:n}=i.model??{data:{}};t&&Object.keys(t).forEach(r=>{t[r]&&be.isNode(t[r])&&(t[r]=tt(I(t[r])))});let o=i.template.render(ye({container:e,transclude:i.transclude},{renovated:i.renovated},i.transclude?{}:{model:t},!i.transclude&&Number.isFinite(n)?{index:n}:{}));return o===void 0?[]:bCe(o)?o.toArray():[I(o).get(0)]}function yCe(i,e){e.forEach(t=>{!!!i.find(o=>t===o)&&t.parentNode&&I(t).remove()})}var Cv=class extends br{constructor(e){super(e),this.renderTemplate=this.renderTemplate.bind(this)}renderTemplate(){let e=Ns(this.$LI,!0);if(!(e!=null&&e.parentNode))return()=>{};let t=e.parentNode,n=I(t),o=n.contents().toArray(),r=vCe(this.props,tt(n));return E9(I(e),I(r)),()=>{let s=I(t).contents().toArray();yCe(o,s),t.appendChild(e)}}shouldComponentUpdate(e){let{model:t,template:n}=this.props,{isEqual:o,model:r,template:s}=e,a=o??wU;if(n!==s)return!0;if(!U(t)||!U(r))return t!==r;let{data:l,index:d}=t,{data:c,index:u}=r;return d!==u?!0:!a(l,c)}createEffects(){return[new Gi(this.renderTemplate,[this.props.template,this.props.model])]}updateEffects(){this._effects[0].update([this.props.template,this.props.model])}componentWillUnmount(){}render(){return null}};function QP(i){return Array.isArray(i)?[...i]:ye({},i)}function EU(i,e,t){let n=t.length>0&&e&&i!==e?QP(e):QP(i),o=t[0];return t.length>1?n[o]=EU(i[o],e?.[o],t.slice(1)):o&&(ht(i[o])?n[o]=QP(i[o]):n[o]=i[o]),n}function OU(i,e,t,n){let o=e[t],r=i[t],s=i;ht(o)||t!==n&&Array.isArray(o)?s[t]=EU(o,r,Ca(n).slice(1)):s[t]=o}var JP=(i,e)=>t=>{Object.prototype.hasOwnProperty.call(i,t)&&i[t]===void 0&&(i[t]=e(t))},IU=(()=>{class i extends Gr{get _propsInfo(){return{allowNull:[],twoWay:[],elements:[],templates:[],props:[]}}constructor(t,n){super(t,n),this._shouldRaiseContentReady=!1,this.validateKeyDownHandler()}validateKeyDownHandler(){let n=this.getSupportedKeyNames().length>0,o=typeof this._viewComponent.prototype.keyDown=="function";if(n&&!o)throw Error("Component's declaration must have 'keyDown' method.")}get viewRef(){var t;return(t=this._viewRef)===null||t===void 0?void 0:t.current}_checkContentReadyOption(t){let n=this._getContentReadyOptions().reduce((o,r)=>(o[r]=!0,o),{});return this._checkContentReadyOption=o=>!!n[o],this._checkContentReadyOption(t)}_getContentReadyOptions(){return["rtlEnabled"]}_fireContentReady(){this._actionsMap.onContentReady({})}_getDefaultOptions(){let t=this._getViewComponentDefaultProps();return q(!0,super._getDefaultOptions(),t,this._propsInfo.twoWay.reduce((n,o)=>{let[r,s,a]=o;return ye({},n,{[r]:t[s],[a]:l=>this.option(r,l)})},{}),this._propsInfo.templates.reduce((n,o)=>ye({},n,{[o]:null}),{}))}_getUnwrappedOption(){let t={};return Object.keys(this.option()).forEach(n=>{t[n]=this.option(n)}),t}_initializeComponent(){var t;super._initializeComponent(),(t=this._templateManager)===null||t===void 0||t.addDefaultTemplates(this.getDefaultTemplates());let n=this._getUnwrappedOption();this._props=this._optionsWithDefaultTemplates(n),this._propsInfo.templates.forEach(o=>{this._componentTemplates[o]=this._createTemplateComponent(this._props[o])}),Object.keys(this._getActionConfigsFull()).forEach(o=>this._addAction(o)),this._viewRef=Pn(),this.defaultKeyHandlers=this._createDefaultKeyHandlers()}_initMarkup(){let t=this.getProps();this._renderWrapper(t)}_renderWrapper(t){let n=this.$element()[0];this._isNodeReplaced||nf.onPreRender(),nf.render(this._viewComponent,t,n,this._isNodeReplaced),this._isNodeReplaced||(this._isNodeReplaced=!0,nf.onAfterRender(),this._shouldRaiseContentReady=!0),this._shouldRaiseContentReady&&(this._fireContentReady(),this._shouldRaiseContentReady=!1)}_silent(t,n){this._options.silent(t,n)}_render(){}_removeWidget(){nf.remove(this.$element()[0])}_dispose(){this._removeWidget(),super._dispose()}get elementAttr(){let t=this.$element()[0];if(!this._elementAttr){let{attributes:r}=t,s=Array.from(r).filter(a=>{var l;return!this._propsInfo.templates.includes(a.name)&&((l=r[a.name])===null||l===void 0?void 0:l.specified)}).reduce((a,l)=>{let{name:d,value:c}=l,u=a,h=d in t;return u[d]=c===""&&h?t[d]:c,u},{});this._elementAttr=s,this._storedClasses=t.getAttribute("class")||""}let n=t.style,o={};for(let r=0;r<n.length;r+=1)o[n[r]]=n.getPropertyValue(n[r]);return this._elementAttr.style=o,this._elementAttr.class=this._storedClasses,this._elementAttr}_getAdditionalActionConfigs(){return{onContentReady:{excludeValidators:["disabled","readOnly"]}}}_getAdditionalProps(){return[]}_patchOptionValues(t){let{allowNull:n,elements:o,props:r,twoWay:s}=this._propsInfo,a=this._getViewComponentDefaultProps(),l=Object.keys(a),d=this._getDefaultOptions(),{children:c,onKeyboardHandled:u,ref:h}=t,p={ref:h,children:c,onKeyDown:u?(m,g)=>{u(g)}:void 0};return[...r,...this._getAdditionalProps()].forEach(m=>{Object.prototype.hasOwnProperty.call(t,m)&&(p[m]=t[m])}),n.forEach(JP(p,()=>null)),l.forEach(JP(p,m=>d[m])),s.forEach(m=>{let[g,b]=m;JP(p,()=>d[b])(g)}),o.forEach(m=>{if(m in p){let g=p[m];Oo(g)&&(p[m]=this._patchElementParam(g))}}),p}getSupportedKeyNames(){return[]}prepareStyleProp(t){return typeof t.style=="string"?ye({},t,{style:{},cssText:t.style}):t}getProps(){let{elementAttr:t}=this.option(),n=this._patchOptionValues(ye({},this._props,{ref:this._viewRef,children:this._extractDefaultSlot(),aria:this._aria}));return this._propsInfo.templates.forEach(o=>{n[o]=this._componentTemplates[o]}),this.prepareStyleProp(ye({},n,this.elementAttr,t,{className:[...(this.elementAttr.class??"").split(" "),...(t?.class??"").split(" ")].filter((o,r,s)=>o&&s.indexOf(o)===r).join(" ").trim(),class:""},this._actionsMap))}_getActionConfigs(){return{}}_getActionConfigsFull(){return ye({},this._getActionConfigs(),this._getAdditionalActionConfigs())}getDefaultTemplates(){let t=Object.values(this._templatesInfo),n={};return t.forEach(o=>{n[o]="dx-renovation-template-mock"}),n}get _templatesInfo(){return{}}_optionsWithDefaultTemplates(t){let n=Object.entries(this._templatesInfo).reduce((o,r)=>{let[s,a]=r;return ye({},o,{[s]:t[s]??a})},{});return ye({},t,n)}_init(){super._init(),this.customKeyHandlers={},this._actionsMap={},this._aria={},this._componentTemplates={}}_createDefaultKeyHandlers(){let t={};return this.getSupportedKeyNames().forEach(o=>{t[o]=r=>this.viewRef.keyDown(lS.createKeyDownOptions(r))}),t}_addAction(t,n){let o=n;if(!o){let r=this._createActionByOption(t,this._getActionConfigsFull()[t]);o=s=>(Object.keys(s).forEach(a=>{U(s[a])&&be.isNode(s[a])&&(s[a]=tt(I(s[a])))}),r(s))}this._actionsMap[t]=o}_optionChanged(t){let{fullName:n,name:o,previousValue:r,value:s}=t;OU(this._props,this.option(),o,n),this._propsInfo.templates.includes(o)&&s!==r&&(this._componentTemplates[o]=this._createTemplateComponent(s)),o&&this._getActionConfigsFull()[o]&&this._addAction(o),this._shouldRaiseContentReady=this._shouldRaiseContentReady||this._checkContentReadyOption(n),super._optionChanged(t),this._invalidate()}_extractDefaultSlot(){return this.option("_hasAnonymousTemplateContent")?nf.createElement(Cv,{template:this._getTemplate(this._templateManager.anonymousTemplateName),transclude:!0,renovated:!0}):null}_createTemplateComponent(t){if(!t)return;let n=this._getTemplate(t);if(!(We(n)&&n==="dx-renovation-template-mock"))return o=>nf.createElement(Cv,SU(o,n))}_wrapKeyDownHandler(t){return n=>{let{keyName:o,originalEvent:r,which:s}=n,a=this.customKeyHandlers,l=a[o]||a[s];return l!==void 0&&!l.bind(this)(r,n)?(r.cancel=!0,r):t?.(r,n)}}_toPublicElement(t){return tt(I(t))}_patchElementParam(t){try{let n=I(t),o=n?.get(0);return o!=null&&o.nodeType?o:t}catch{return t}}repaint(){this._isNodeReplaced=!1,this._shouldRaiseContentReady=!0,this._removeWidget(),this._refresh()}_supportedKeys(){return ye({},this.defaultKeyHandlers,this.customKeyHandlers)}registerKeyHandler(t,n){this.customKeyHandlers[t]=n}setAria(t,n){this._aria[t]=n,this._initMarkup()}_getViewComponentDefaultProps(){return this._viewComponent.defaultProps||{}}}return i.IS_RENOVATED_WIDGET=!1,i})(),xg=IU;IU.IS_RENOVATED_WIDGET=!0;var uE=class extends xg{get _validationGroupConfig(){return Bo.getGroupConfig(this._findGroup())}getDefaultTemplateNames(){return["content"]}getSupportedKeyNames(){return["space","enter"]}getProps(){let e=super.getProps();return e.onClick=n=>{let{event:o}=n;this._clickAction({event:o,validationGroup:this._validationGroupConfig})},Fc(e.icon)==="svg"&&(e.iconTemplate=this._createTemplateComponent(()=>e.icon)),e}get _templatesInfo(){return{template:"content"}}_toggleActiveState(e,t){let n=this.viewRef;t?n.activate():n.deactivate()}_getSubmitAction(){let e=!0,t="valid";return this._createAction(n=>{let{event:o,submitInput:r}=n;if(e){let s=this._validationGroupConfig;if(s!==void 0&&s!==""){let a=s.validate();t=a.status,a.status==="pending"&&(e=!1,this.option("disabled",!0),a.complete.then(l=>{let{status:d}=l;this.option("disabled",!1),t=d,t==="valid"&&r.click(),e=!0}))}}t!=="valid"&&o.preventDefault(),o.stopPropagation()})}_initializeComponent(){super._initializeComponent(),this._addAction("onSubmit",this._getSubmitAction()),this._clickAction=this._createClickAction()}_initMarkup(){super._initMarkup();let e=this.$element().find(".dx-button-content").first(),t=e.children().filter(".dx-template-wrapper"),n=e.children().filter(".dx-button-submit-input");t.length&&(t.addClass("dx-button-content"),t.append(n),e.replaceWith(t))}_patchOptionValues(e){return super._patchOptionValues(ye({},e,{templateData:e._templateData}))}_findGroup(){let e=this.$element(),t=this.option("validationGroup");return t!==void 0&&t!==""?t:Bo.findGroup(e,this._modelByElement(e))}_createClickAction(){return this._createActionByOption("onClick",{excludeValidators:["readOnly"]})}_optionChanged(e){e.name==="onClick"&&(this._clickAction=this._createClickAction()),super._optionChanged(e)}};function Yo(i){return Object.keys(i).filter(e=>i[e]).join(" ")}var xCe=["iconTemplate","position","source"],CCe=i=>{let{iconClassName:e,props:{iconTemplate:t,source:n},sourceType:o}=i;return Zr([o==="dxIcon"&&dn(1,"i",e),o==="fontIcon"&&dn(1,"i",e),o==="image"&&dn(1,"img",e,null,1,{alt:"",src:n}),t&&dn(1,"i",e,t({}),0)],0)},wCe={position:"left",source:""},SCe=i=>i&&(i.defaultProps?e=>ao(xi(2,i,ye({},e))):i),DU=(()=>{class i extends Qn{constructor(t){super(t),this.state={}}get sourceType(){return Fc(this.props.source)}get cssClass(){return this.props.position!=="left"?"dx-icon-right":""}get iconClassName(){let t={"dx-icon":!0,[this.cssClass]:!!this.cssClass},{source:n}=this.props;return this.sourceType==="dxIcon"?Yo(ye({},t,{[`dx-icon-${n}`]:!0})):this.sourceType==="fontIcon"?Yo(ye({},t,{[String(n)]:!!n})):this.sourceType==="image"?Yo(t):this.sourceType==="svg"?Yo(ye({},t,{"dx-svg-icon":!0})):""}get restAttributes(){let t=this.props;return ri(t,xCe)}render(){let t=this.props;return CCe({props:ye({},t,{iconTemplate:SCe(t.iconTemplate)}),sourceType:this.sourceType,cssClass:this.cssClass,iconClassName:this.iconClassName,restAttributes:this.restAttributes})}}return i.defaultProps=wCe,i})();var TU="dx-inkripple-showing",AU="dx-inkripple-hiding";var e2=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{useHoldAnimation:e,waveSizeCoefficient:t,isCentered:n,wavesNumber:o}=i;return{waveSizeCoefficient:t||2,isCentered:n||!1,wavesNumber:o||1,durations:DCe(e??!0)}},Cg=function(i){let e=e2(i);return{showWave:t2.bind(this,e),hideWave:i2.bind(this,e)}},ECe=function(i){let e=i.children(".dx-inkripple");return e.length===0&&(e=I("<div>").addClass("dx-inkripple").appendTo(i)),e},kU=function(i,e){let t=ECe(I(i)),n=t.children(".dx-inkripple-wave").toArray();for(let o=n.length;o<e;o++){let r=I("<div>").appendTo(t).addClass("dx-inkripple-wave");n.push(r[0])}return I(n)},OCe=function(i,e){let t=I(e.element),n=Ft(t),o=Ct(t),r=parseInt(Math.sqrt(n*n+o*o)),s=Math.min(4e3,parseInt(r*i.waveSizeCoefficient)),a,l;if(i.isCentered)a=(n-s)/2,l=(o-s)/2;else{let d=e.event,c=t.offset(),u=d.pageX-c.left,h=d.pageY-c.top;a=u-s/2,l=h-s/2}return{left:a,top:l,height:s,width:s}};function t2(i,e){let t=kU(e.element,i.wavesNumber).eq(e.wave||0);i.hidingTimeout&&clearTimeout(i.hidingTimeout),MU(t),t.css(OCe(i,e)),i.showingTimeout=setTimeout(ICe.bind(this,i,t),0)}function ICe(i,e){let t=i.durations.showingScale+"ms";e.addClass(TU).css("transitionDuration",t)}function DCe(i){return{showingScale:i?1e3:300,hidingScale:300,hidingOpacity:300}}function MU(i){i.removeClass(AU).css("transitionDuration","")}function i2(i,e){i.showingTimeout&&clearTimeout(i.showingTimeout);let t=kU(e.element,e.wavesNumber).eq(e.wave||0),n=i.durations,o=n.hidingScale+"ms, "+n.hidingOpacity+"ms";t.addClass(AU).removeClass(TU).css("transitionDuration",o);let r=Math.max(n.hidingScale,n.hidingOpacity);i.hidingTimeout=setTimeout(MU.bind(this,t),r)}var TCe=["config"],ACe=i=>ao(dn(1,"div","dx-inkripple",null,1,ye({},i.restAttributes))),kCe={config:Object.freeze({})},RU=(()=>{class i extends Qn{constructor(t){super(t),this.state={},this.__getterCache={},this.hideWave=this.hideWave.bind(this),this.showWave=this.showWave.bind(this)}get getConfig(){return this.__getterCache.getConfig!==void 0?this.__getterCache.getConfig:this.__getterCache.getConfig=(()=>{let{config:t}=this.props;return e2(t)})()}get restAttributes(){let t=this.props;return ri(t,TCe)}hideWave(t){i2(this.getConfig,t)}showWave(t){t2(this.getConfig,t)}componentWillUpdate(t,n,o){this.props.config!==t.config&&(this.__getterCache.getConfig=void 0)}render(){let t=this.props;return ACe({props:ye({},t),getConfig:this.getConfig,restAttributes:this.restAttributes})}}return i.defaultProps=kCe,i})();var MCe=Ut.abstract,RCe=Ve.real();var PU=Ut.inherit(function(){let i=Se("scroll","dxScrollEmitter");return{ctor:function(e){this._element=e,this._locked=!1,this._proxiedScroll=t=>{this._disposed||this._scroll(t)},X.on(this._element,i,this._proxiedScroll)},_scroll:MCe,check:function(e,t){this._locked&&t()},dispose:function(){this._disposed=!0,X.off(this._element,i,this._proxiedScroll)}}}()),LU=PU.inherit({ctor:function(i,e){this.callBase(i),this._timeout=e},_scroll:function(){this._prepare(),this._forget()},_prepare:function(){this._timer&&this._clearTimer(),this._locked=!0},_clearTimer:function(){clearTimeout(this._timer),this._locked=!1,this._timer=null},_forget:function(){let i=this;this._timer=setTimeout(function(){i._clearTimer()},this._timeout)},dispose:function(){this.callBase(),this._clearTimer()}}),FU=LU.inherit({ctor:function(i){this.callBase(i,400),this._lastWheelDirection=null},check:function(i,e){this._checkDirectionChanged(i),this.callBase(i,e)},_checkDirectionChanged:function(i){if(!sr(i)){this._lastWheelDirection=null;return}let e=i.shiftKey||!1,t=this._lastWheelDirection!==null&&e!==this._lastWheelDirection;this._lastWheelDirection=e,this._locked=this._locked&&!t}}),n2=LU.inherit({ctor:function(i){this.callBase(i,400)}});(function(){let{ios:i,android:e}=RCe;(i||e)&&(n2=PU.inherit({_scroll:function(){this._locked=!0;let t=this;ta(this._scrollFrame),this._scrollFrame=ch(function(){t._locked=!1})},check:function(t,n){ta(this._scrollFrame),ta(this._checkFrame);let o=this,r=this.callBase;this._checkFrame=ch(function(){r.call(o,t,n),o._locked=!1})},dispose:function(){this.callBase(),ta(this._scrollFrame),ta(this._checkFrame)}}))})();var FCe=Jm.inherit(function(){let i=Math.round(16.666666666666668);return{ctor:function(e){this.callBase.apply(this,arguments),this.direction="both",this._pointerLocker=new n2(e),this._wheelLocker=new FU(e)},validate:function(){return!0},configure:function(e){e.scrollTarget&&(this._pointerLocker.dispose(),this._wheelLocker.dispose(),this._pointerLocker=new n2(e.scrollTarget),this._wheelLocker=new FU(e.scrollTarget)),this.callBase(e)},_init:function(e){this._wheelLocker.check(e,(function(){sr(e)&&this._accept(e)}).bind(this)),this._pointerLocker.check(e,(function(){let t=this.isNative&&Ra(e);!sr(e)&&!t&&this._accept(e)}).bind(this)),this._fireEvent("dxscrollinit",e),this._prevEventData=On(e)},move:function(e){this.callBase.apply(this,arguments),e.isScrollingEvent=this.isNative||e.isScrollingEvent},_start:function(e){this._savedEventData=On(e),this._fireEvent("dxscrollstart",e),this._prevEventData=On(e)},_move:function(e){let t=On(e);this._fireEvent("dxscroll",e,{delta:ud(this._prevEventData,t)}),ud(this._savedEventData,t).time>200&&(this._savedEventData=this._prevEventData),this._prevEventData=On(e)},_end:function(e){let t=ud(this._prevEventData,On(e)),n={x:0,y:0};if(!sr(e)&&t.time<100){let o=ud(this._savedEventData,this._prevEventData),r=i/o.time;n={x:o.x*r,y:o.y*r}}this._fireEvent("dxscrollend",e,{velocity:n})},_stop:function(e){this._fireEvent("dxscrollstop",e)},cancel:function(e){this.callBase.apply(this,arguments),this._fireEvent("dxscrollcancel",e)},dispose:function(){this.callBase.apply(this,arguments),this._pointerLocker.dispose(),this._wheelLocker.dispose()},_clearSelection:function(){if(!this.isNative)return this.callBase.apply(this,arguments)},_toggleGestureCover:function(){if(!this.isNative)return this.callBase.apply(this,arguments)}}}());La({emitter:FCe,events:["dxscrollinit","dxscrollstart","dxscroll","dxscrollend","dxscrollstop","dxscrollcancel"]});var _s={init:"dxscrollinit",start:"dxscrollstart",move:"dxscroll",end:"dxscrollend",stop:"dxscrollstop",cancel:"dxscrollcancel",scroll:"scroll"};function ur(i){return(e,t,n,o)=>{let r=o?Se(i,o):i;if(t)return X.on(e,r,n,t),()=>{X.off(e,r,t)}}}var NU=ur(Kt),Lit=ur(_s.scroll),Nit=ur(_s.init),Bit=ur(_s.start),Vit=ur(_s.move),Hit=ur(_s.end),zit=ur(_s.stop),jit=ur(_s.cancel),$it=ur(Mt.down),Wit=ur(Mt.up),Uit=ur(Mt.move),Git=ur("mouseenter"),Kit=ur("mouseleave"),qit=ur("keydown"),BU=ur("dxactive"),VU=ur("dxinactive"),HU=ur("dxhoverstart"),zU=ur("dxhoverend"),jU=ur("focusin"),$U=ur("focusout");var kh={className:"",activeStateEnabled:!1,disabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,tabIndex:0,visible:!0};var To=cE(void 0);var PCe=["children","rtlEnabled"],LCe=i=>i.props.children,NCe={},WU=(()=>{class i extends Qn{constructor(t){super(t),this.state={},this.__getterCache={}}getChildContext(){return ye({},this.context,{[To.id]:this.config||To.defaultValue})}get config(){return this.__getterCache.config!==void 0?this.__getterCache.config:this.__getterCache.config={rtlEnabled:this.props.rtlEnabled}}get restAttributes(){let t=this.props;return ri(t,PCe)}componentWillUpdate(t,n,o){this.props.rtlEnabled!==t.rtlEnabled&&(this.__getterCache.config=void 0)}render(){let t=this.props;return LCe({props:ye({},t),config:this.config,restAttributes:this.restAttributes})}}return i.defaultProps=NCe,i})();function UU(i,e){return i!==void 0?i:e?.rtlEnabled!==void 0?e.rtlEnabled:ui().rtlEnabled}function GU(i,e){let t=U(i),n=U(ui().rtlEnabled)&&!t&&!U(e?.rtlEnabled);return t&&i!==e?.rtlEnabled||n}var BCe=["_feedbackHideTimeout","_feedbackShowTimeout","accessKey","activeStateEnabled","activeStateUnit","addWidgetClass","aria","children","className","classes","cssText","disabled","focusStateEnabled","height","hint","hoverStateEnabled","name","onActive","onClick","onDimensionChanged","onFocusIn","onFocusOut","onHoverEnd","onHoverStart","onInactive","onKeyDown","onRootElementRendered","onVisibilityChange","rootElementRef","rtlEnabled","tabIndex","visible","width"];var VCe=i=>Object.keys(i).reduce((e,t)=>i[t]?ye({},e,{[t==="role"||t==="id"?t:`aria-${t}`]:String(i[t])}):e,{}),HCe=i=>{let e=ao(dn(1,"div",i.cssClasses,i.props.children,0,ye({},i.attributes,{tabIndex:i.tabIndex,title:i.props.hint,style:yg(i.styles)}),null,i.widgetElementRef));return i.shouldRenderConfigProvider?xi(2,WU,{rtlEnabled:i.rtlEnabled,children:e}):e},wg=Object.create(Object.prototype,Object.assign(Object.getOwnPropertyDescriptors(kh),Object.getOwnPropertyDescriptors({_feedbackHideTimeout:400,_feedbackShowTimeout:30,cssText:"",aria:Object.freeze({}),classes:"",name:"",addWidgetClass:!0}))),Sg=(()=>{class i extends za{get config(){return this.context[To.id]?this.context[To.id]:To.defaultValue}constructor(t){super(t),this.widgetElementRef=Pn(),this.state={active:!1,focused:!1,hovered:!1},this.setRootElementRef=this.setRootElementRef.bind(this),this.activeEffect=this.activeEffect.bind(this),this.inactiveEffect=this.inactiveEffect.bind(this),this.clickEffect=this.clickEffect.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.focusInEffect=this.focusInEffect.bind(this),this.focusOutEffect=this.focusOutEffect.bind(this),this.hoverStartEffect=this.hoverStartEffect.bind(this),this.hoverEndEffect=this.hoverEndEffect.bind(this),this.keyboardEffect=this.keyboardEffect.bind(this),this.resizeEffect=this.resizeEffect.bind(this),this.windowResizeEffect=this.windowResizeEffect.bind(this),this.visibilityEffect=this.visibilityEffect.bind(this),this.checkDeprecation=this.checkDeprecation.bind(this),this.applyCssTextEffect=this.applyCssTextEffect.bind(this)}createEffects(){return[new Gi(this.setRootElementRef,[]),new Gi(this.activeEffect,[this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),new Gi(this.inactiveEffect,[this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),new Gi(this.clickEffect,[this.props.disabled,this.props.name,this.props.onClick]),new Gi(this.focusInEffect,[this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),new Gi(this.focusOutEffect,[this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),new Gi(this.hoverStartEffect,[this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),new Gi(this.hoverEndEffect,[this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),new Gi(this.keyboardEffect,[this.props.focusStateEnabled,this.props.onKeyDown]),new Gi(this.resizeEffect,[this.props.name,this.props.onDimensionChanged]),new Gi(this.windowResizeEffect,[this.props.onDimensionChanged]),new Gi(this.visibilityEffect,[this.props.name,this.props.onVisibilityChange]),new Gi(this.checkDeprecation,[this.props.height,this.props.width]),new Gi(this.applyCssTextEffect,[this.props.cssText]),bd()]}updateEffects(){var t,n,o,r,s,a,l,d,c,u,h,f,p;(t=this._effects[1])===null||t===void 0||t.update([this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),(n=this._effects[2])===null||n===void 0||n.update([this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),(o=this._effects[3])===null||o===void 0||o.update([this.props.disabled,this.props.name,this.props.onClick]),(r=this._effects[4])===null||r===void 0||r.update([this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),(s=this._effects[5])===null||s===void 0||s.update([this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),(a=this._effects[6])===null||a===void 0||a.update([this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),(l=this._effects[7])===null||l===void 0||l.update([this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),(d=this._effects[8])===null||d===void 0||d.update([this.props.focusStateEnabled,this.props.onKeyDown]),(c=this._effects[9])===null||c===void 0||c.update([this.props.name,this.props.onDimensionChanged]),(u=this._effects[10])===null||u===void 0||u.update([this.props.onDimensionChanged]),(h=this._effects[11])===null||h===void 0||h.update([this.props.name,this.props.onVisibilityChange]),(f=this._effects[12])===null||f===void 0||f.update([this.props.height,this.props.width]),(p=this._effects[13])===null||p===void 0||p.update([this.props.cssText])}setRootElementRef(){let{onRootElementRendered:t,rootElementRef:n}=this.props;n&&(n.current=this.widgetElementRef.current),t?.(this.widgetElementRef.current)}activeEffect(){let{_feedbackShowTimeout:t,activeStateEnabled:n,activeStateUnit:o,disabled:r,onActive:s}=this.props,a=o;if(n&&!r)return BU(this.widgetElementRef.current,l=>{this.setState(d=>({active:!0})),s?.(l)},{timeout:t,selector:a},"UIFeedback")}inactiveEffect(){let{_feedbackHideTimeout:t,activeStateEnabled:n,activeStateUnit:o,onInactive:r}=this.props,s=o;if(n)return VU(this.widgetElementRef.current,a=>{this.state.active&&(this.setState(l=>({active:!1})),r?.(a))},{timeout:t,selector:s},"UIFeedback")}clickEffect(){let{disabled:t,name:n,onClick:o}=this.props,r=n;if(o&&!t)return hR.on(this.widgetElementRef.current,o,{namespace:r}),()=>hR.off(this.widgetElementRef.current,{namespace:r})}focusInEffect(){let{disabled:t,focusStateEnabled:n,name:o,onFocusIn:r}=this.props,s=`${o}Focus`;if(n&&!t)return jU(this.widgetElementRef.current,a=>{a.isDefaultPrevented()||(this.setState(l=>({focused:!0})),r?.(a))},null,s)}focusOutEffect(){let{focusStateEnabled:t,name:n,onFocusOut:o}=this.props,r=`${n}Focus`;if(t)return $U(this.widgetElementRef.current,s=>{!s.isDefaultPrevented()&&this.state.focused&&(this.setState(a=>({focused:!1})),o?.(s))},null,r)}hoverStartEffect(){let{activeStateUnit:t,disabled:n,hoverStateEnabled:o,onHoverStart:r}=this.props,s=t;if(o&&!n)return HU(this.widgetElementRef.current,a=>{!this.state.active&&this.setState(l=>({hovered:!0})),r?.(a)},{selector:s},"UIFeedback")}hoverEndEffect(){let{activeStateUnit:t,hoverStateEnabled:n,onHoverEnd:o}=this.props,r=t;if(n)return zU(this.widgetElementRef.current,s=>{this.state.hovered&&(this.setState(a=>({hovered:!1})),o?.(s))},{selector:r},"UIFeedback")}keyboardEffect(){let{focusStateEnabled:t,onKeyDown:n}=this.props;if(t&&n){let o=Fa.on(this.widgetElementRef.current,this.widgetElementRef.current,r=>n(r));return()=>Fa.off(o)}}resizeEffect(){let t=`${this.props.name}VisibilityChange`,{onDimensionChanged:n}=this.props;if(n)return qm.on(this.widgetElementRef.current,n,{namespace:t}),()=>qm.off(this.widgetElementRef.current,{namespace:t})}windowResizeEffect(){let{onDimensionChanged:t}=this.props;if(t)return ml.add(t),()=>{ml.remove(t)}}visibilityEffect(){let{name:t,onVisibilityChange:n}=this.props,o=`${t}VisibilityChange`;if(n)return Ym.on(this.widgetElementRef.current,()=>n(!0),()=>n(!1),{namespace:o}),()=>Ym.off(this.widgetElementRef.current,{namespace:o})}checkDeprecation(){let{height:t,width:n}=this.props;Ie(n)&&qt.log("W0017","width"),Ie(t)&&qt.log("W0017","height")}applyCssTextEffect(){let{cssText:t}=this.props;t!==""&&(this.widgetElementRef.current.style.cssText=t)}get shouldRenderConfigProvider(){let{rtlEnabled:t}=this.props;return GU(t,this.config)}get rtlEnabled(){let{rtlEnabled:t}=this.props;return UU(t,this.config)}get attributes(){let{aria:t,disabled:n,focusStateEnabled:o,visible:r}=this.props,s=o&&!n&&this.props.accessKey;return ye({},q({},s&&{accessKey:s}),VCe(ye({},t,{disabled:n,hidden:!r})),q({},this.restAttributes))}get styles(){let{height:t,width:n}=this.props,o=this.restAttributes.style||{},r=Cc("width",Ie(n)?n():n),s=Cc("height",Ie(t)?t():t);return ye({},o,{height:s??o.height,width:r??o.width})}get cssClasses(){let{activeStateEnabled:t,addWidgetClass:n,className:o,classes:r,disabled:s,focusStateEnabled:a,hoverStateEnabled:l,onVisibilityChange:d,visible:c}=this.props,u=!!a&&!s,h=!!l&&!s,f=!!t&&!s,p={"dx-widget":!!n,[String(r)]:!!r,[String(o)]:!!o,"dx-state-disabled":!!s,"dx-state-invisible":!c,"dx-state-focused":!!this.state.focused&&u,"dx-state-active":!!this.state.active&&f,"dx-state-hover":!!this.state.hovered&&h&&!this.state.active,"dx-rtl":!!this.rtlEnabled,"dx-visibility-change-handler":!!d};return Yo(p)}get tabIndex(){let{disabled:t,focusStateEnabled:n,tabIndex:o}=this.props;return n&&!t?o:void 0}get restAttributes(){let t=this.props;return ri(t,BCe)}focus(){Xm.trigger(this.widgetElementRef.current)}blur(){let t=be.getActiveElement(this.widgetElementRef.current);this.widgetElementRef.current===t&&t.blur()}activate(){this.setState(t=>({active:!0}))}deactivate(){this.setState(t=>({active:!1}))}render(){let t=this.props;return HCe({props:ye({},t),active:this.state.active,focused:this.state.focused,hovered:this.state.hovered,widgetElementRef:this.widgetElementRef,config:this.config,shouldRenderConfigProvider:this.shouldRenderConfigProvider,rtlEnabled:this.rtlEnabled,attributes:this.attributes,styles:this.styles,cssClasses:this.cssClasses,tabIndex:this.tabIndex,restAttributes:this.restAttributes})}}return i.defaultProps=wg,i})();var zCe=["accessKey","activeStateEnabled","children","className","disabled","focusStateEnabled","height","hint","hoverStateEnabled","icon","iconPosition","iconTemplate","onClick","onKeyDown","onSubmit","pressed","rtlEnabled","stylingMode","tabIndex","template","templateData","text","type","useInkRipple","useSubmitBehavior","visible","width"],jCe=["outlined","text","contained"],$Ce=i=>{let{icon:e,iconPosition:t,stylingMode:n,text:o,type:r}=i,a={"dx-button":!0,[`dx-button-mode-${n&&jCe.includes(n)?n:"contained"}`]:!0,[`dx-button-${r??"normal"}`]:!0,"dx-button-has-text":!!o,"dx-button-has-icon":!!e,"dx-button-icon-right":t!=="left"};return Yo(a)},WCe=i=>{let{children:e,iconPosition:t,iconTemplate:n,template:o,text:r}=i.props,s=!i.props.template&&!e&&r!=="",a=t==="left",l=!i.props.template&&!e&&(i.iconSource||i.props.iconTemplate)&&xi(2,DU,{source:i.iconSource,position:t,iconTemplate:n});return ao(xi(2,Sg,ye({accessKey:i.props.accessKey,activeStateEnabled:i.props.activeStateEnabled,aria:i.aria,className:i.props.className,classes:i.cssClasses,disabled:i.props.disabled,focusStateEnabled:i.props.focusStateEnabled,height:i.props.height,hint:i.props.hint,hoverStateEnabled:i.props.hoverStateEnabled,onActive:i.onActive,onClick:i.onWidgetClick,onInactive:i.onInactive,onKeyDown:i.keyDown,rtlEnabled:i.props.rtlEnabled,tabIndex:i.props.tabIndex,visible:i.props.visible,width:i.props.width},i.restAttributes,{children:dn(1,"div","dx-button-content",[i.props.template&&o({data:i.buttonTemplateData}),!i.props.template&&e,a&&l,s&&dn(1,"span","dx-button-text",r,0),!a&&l,i.props.useSubmitBehavior&&dn(64,"input","dx-button-submit-input",null,1,{type:"submit",tabIndex:-1},null,i.submitInputRef),i.props.useInkRipple&&xi(2,RU,{config:i.inkRippleConfig},null,i.inkRippleRef)],0,null,null,i.contentRef)}),null,i.widgetRef))},UCe=Object.create(Object.prototype,Object.assign(Object.getOwnPropertyDescriptors(kh),Object.getOwnPropertyDescriptors({activeStateEnabled:!0,hoverStateEnabled:!0,icon:"",iconPosition:"left",stylingMode:"contained",text:"",type:"normal",useInkRipple:!1,useSubmitBehavior:!1,templateData:Object.freeze({})}))),YU=y9([{device:()=>Ve.real().deviceType==="desktop"&&!Ve.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>Kn(oo()),options:{useInkRipple:!0}}]),KU=i=>i&&(i.defaultProps?e=>ao(xi(2,i,ye({},e))):i),of=class extends za{constructor(e){super(e),this.state={},this.contentRef=Pn(),this.inkRippleRef=Pn(),this.submitInputRef=Pn(),this.widgetRef=Pn(),this.__getterCache={},this.focus=this.focus.bind(this),this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.submitEffect=this.submitEffect.bind(this),this.onActive=this.onActive.bind(this),this.onInactive=this.onInactive.bind(this),this.onWidgetClick=this.onWidgetClick.bind(this),this.keyDown=this.keyDown.bind(this),this.emitClickEvent=this.emitClickEvent.bind(this)}createEffects(){return[new Gi(this.submitEffect,[this.props.onSubmit,this.props.useSubmitBehavior]),bd()]}updateEffects(){var e;(e=this._effects[0])===null||e===void 0||e.update([this.props.onSubmit,this.props.useSubmitBehavior])}submitEffect(){let{onSubmit:e,useSubmitBehavior:t}=this.props;if(t&&e)return pR.on(this.submitInputRef.current,n=>e({event:n,submitInput:this.submitInputRef.current}),{namespace:"UIFeedback"}),()=>pR.off(this.submitInputRef.current,{namespace:"UIFeedback"})}onActive(e){let{useInkRipple:t}=this.props;t&&this.inkRippleRef.current.showWave({element:this.contentRef.current,event:e})}onInactive(e){let{useInkRipple:t}=this.props;t&&this.inkRippleRef.current.hideWave({element:this.contentRef.current,event:e})}onWidgetClick(e){let{onClick:t,useSubmitBehavior:n}=this.props;t?.({event:e}),n&&this.submitInputRef.current.click()}keyDown(e){let{onKeyDown:t}=this.props,{keyName:n,originalEvent:o,which:r}=e,s=t?.(e);if(s!=null&&s.cancel)return s;(n==="space"||r==="space"||n==="enter"||r==="enter")&&(o.preventDefault(),this.emitClickEvent())}emitClickEvent(){this.contentRef.current.click()}get aria(){let{icon:e,text:t}=this.props,n=t??"";if(!t&&e)switch(Fc(e)){case"image":{let s=/^(?!(?:https?:\/\/)|(?:ftp:\/\/)|(?:www\.))[^\s]+$/;n=!e.includes("base64")&&s.test(e)?e.replace(/.+\/([^.]+)\..+$/,"$1"):"";break}case"dxIcon":n=de.format(ld(e,!0))||e;break;case"fontIcon":n=e;break;case"svg":{var o;n=((o=/<title>(.*?)<\/title>/.exec(e))===null||o===void 0?void 0:o[1])??"";break}}return ye({role:"button"},n?{label:n}:{})}get cssClasses(){return $Ce(this.props)}get iconSource(){let{icon:e}=this.props;return e??""}get inkRippleConfig(){return this.__getterCache.inkRippleConfig!==void 0?this.__getterCache.inkRippleConfig:this.__getterCache.inkRippleConfig=(()=>{let{icon:e,text:t}=this.props;return!t&&e?{isCentered:!0,useHoldAnimation:!1,waveSizeCoefficient:1}:{}})()}get buttonTemplateData(){let{icon:e,templateData:t,text:n}=this.props;return ye({icon:e,text:n},t)}get restAttributes(){let e=this.props;return ri(e,zCe)}focus(){this.widgetRef.current.focus()}activate(){this.widgetRef.current.activate()}deactivate(){this.widgetRef.current.deactivate()}componentWillUpdate(e,t,n){super.componentWillUpdate(),(this.props.icon!==e.icon||this.props.text!==e.text)&&(this.__getterCache.inkRippleConfig=void 0)}render(){let e=this.props;return WCe({props:ye({},e,{template:KU(e.template),iconTemplate:KU(e.iconTemplate)}),contentRef:this.contentRef,submitInputRef:this.submitInputRef,inkRippleRef:this.inkRippleRef,widgetRef:this.widgetRef,onActive:this.onActive,onInactive:this.onInactive,onWidgetClick:this.onWidgetClick,keyDown:this.keyDown,emitClickEvent:this.emitClickEvent,aria:this.aria,cssClasses:this.cssClasses,iconSource:this.iconSource,inkRippleConfig:this.inkRippleConfig,buttonTemplateData:this.buttonTemplateData,restAttributes:this.restAttributes})}};of.defaultProps=Object.create(Object.prototype,Object.assign(Object.getOwnPropertyDescriptors(UCe),Object.getOwnPropertyDescriptors(ye({},_l(YU)))));var qU=[];function XU(i){qU.push(i),of.defaultProps=Object.create(Object.prototype,Object.assign(Object.getOwnPropertyDescriptors(of.defaultProps),Object.getOwnPropertyDescriptors(_l(YU)),Object.getOwnPropertyDescriptors(_l(qU))))}var Eg=class extends uE{getProps(){let e=super.getProps();return e.onKeyDown=this._wrapKeyDownHandler(e.onKeyDown),e}focus(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.focus(...arguments)}activate(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.activate(...arguments)}deactivate(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.deactivate(...arguments)}_getActionConfigs(){return{onClick:{excludeValidators:["readOnly"]},onSubmit:{}}}get _propsInfo(){return{twoWay:[],allowNull:[],elements:["onSubmit"],templates:["template","iconTemplate"],props:["activeStateEnabled","hoverStateEnabled","icon","iconPosition","onClick","onSubmit","pressed","stylingMode","template","iconTemplate","text","type","useInkRipple","useSubmitBehavior","templateData","className","accessKey","disabled","focusStateEnabled","height","hint","onKeyDown","rtlEnabled","tabIndex","visible","width"]}}get _viewComponent(){return of}};ut("dxButton",Eg);Eg.defaultOptions=XU;var Ln=Eg;var Sl=cg;var GCe=cg.inherit({_initMarkup(){this._deferredItems=[],this.callBase()},_renderItemContent(i){let e=le(),t=le();this._deferredItems[i.index]=t;let n=this.callBase.call(this,i);return t.done(()=>{e.resolve(n)}),e.promise()},_onItemTemplateRendered(i,e){return()=>{this._deferredItems[e.index].resolve()}},_postProcessRenderItems:pe,_renderItemsAsync(){let i=le();return Be.apply(this,this._deferredItems).done(()=>{this._postProcessRenderItems(),i.resolve()}),i.promise()},_clean(){this.callBase(),this._deferredItems=[]}}),ZU=GCe;var QU=ZU;var KCe=Tn,hE=KCe;var qCe=QU,JU=qCe;var pE="dx-toolbar";var YCe="dxToolbarItemDataKey";var fE=class extends JU{_getSynchronizableOptionsForCreateComponent(){return super._getSynchronizableOptionsForCreateComponent().filter(e=>e!=="disabled")}_initTemplates(){super._initTemplates();let e=new Yr((t,n,o)=>{if(ht(n)){let{text:r,html:s,widget:a}=n;r&&t.text(r).wrapInner("<div>"),s&&t.html(s),a==="dxDropDownButton"&&(n.options=n.options??{},U(n.options.stylingMode)||(n.options.stylingMode=this.option("useFlatButtons")?"text":"contained")),a==="dxButton"&&(this.option("useFlatButtons")&&(n.options=n.options??{},n.options.stylingMode=n.options.stylingMode??"text"),this.option("useDefaultButtons")&&(n.options=n.options??{},n.options.type=n.options.type??"default"))}else t.text(String(n));this._getTemplate("dx-polymorph-widget").render({container:t,model:o,parent:this})},["text","html","widget","options"],this.option("integrationOptions.watchMethod"));this._templateManager.addDefaultTemplates({item:e,menuItem:e})}_getDefaultOptions(){return ye({},super._getDefaultOptions(),{renderAs:"topToolbar",grouped:!1,useFlatButtons:!1,useDefaultButtons:!1})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>xo(),options:{useFlatButtons:!0}}])}_itemContainer(){return this._$toolbarItemsContainer.find([".dx-toolbar-before",".dx-toolbar-center",".dx-toolbar-after"].join(","))}_itemClass(){return"dx-toolbar-item"}_itemDataKey(){return YCe}_dimensionChanged(e){this._disposed||(this._arrangeItems(),this._applyCompactMode())}_initMarkup(){this._renderToolbar(),this._renderSections(),super._initMarkup()}_render(){super._render(),this._renderItemsAsync(),this._updateDimensionsInMaterial()}_postProcessRenderItems(){this._arrangeItems()}_renderToolbar(){this.$element().addClass(pE),this._$toolbarItemsContainer=I("<div>").addClass("dx-toolbar-items-container").appendTo(this.$element()),this.setAria("role","toolbar")}_renderSections(){let e=this._$toolbarItemsContainer;ee(["before","center","after"],(t,n)=>{let o=`dx-toolbar-${n}`;e.find(`.${o}`).length||(this[`_$${n}Section`]=I("<div>").addClass(o).attr("role","presentation").appendTo(e))})}_arrangeItems(e){var t,n;let o=e??Qe(this.$element());this._$centerSection.css({margin:"0 auto",float:"none"});let r=un((t=this._$beforeSection)===null||t===void 0?void 0:t.get(0)),s=un((n=this._$afterSection)===null||n===void 0?void 0:n.get(0));this._alignCenterSection(r,s,o);let a=this._$toolbarItemsContainer.find(".dx-toolbar-label").eq(0),l=a.parent();if(!a.length)return;let d=r.width?r.width:a.position().left,c=l.hasClass("dx-toolbar-before")?0:d,u=l.hasClass("dx-toolbar-after")?0:s.width,h=0;l.children().not(".dx-toolbar-label").each((m,g)=>{h+=Ft(g)});let f=o-h,p=Math.max(f-c-u,0);if(l.hasClass("dx-toolbar-before"))this._alignSection(this._$beforeSection,p);else{let m=Ft(a)-Qe(a);a.css("maxWidth",p-m)}}_alignCenterSection(e,t,n){var o;this._alignSection(this._$centerSection,n-e.width-t.width);let r=this.option("rtlEnabled"),s=r?t:e,a=r?e:t,l=un((o=this._$centerSection)===null||o===void 0?void 0:o.get(0));(s.right>l.left||l.right>a.left)&&this._$centerSection.css({marginLeft:s.width,marginRight:a.width,float:s.width>a.width?"none":"right"})}_alignSection(e,t){let o=e.find(".dx-toolbar-label").toArray();t-=this._getCurrentLabelsPaddings(o);let r=this._getCurrentLabelsWidth(o),s=Math.abs(r-t);t<r?(o=o.reverse(),this._alignSectionLabels(o,s,!1)):this._alignSectionLabels(o,s,!0)}_alignSectionLabels(e,t,n){let o=function(r){return un(r).width};for(let r=0;r<e.length;r++){let s=I(e[r]),a=Math.ceil(o(e[r])),l;n&&s.css("maxWidth","inherit");let d=Math.ceil(n?o(e[r]):a);if(d<t)l=n?d:0,t-=d;else{l=n?a+t:a-t,s.css("maxWidth",l);break}s.css("maxWidth",l)}}_applyCompactMode(){let e=I(this.element());e.removeClass("dx-toolbar-compact"),this.option("compactMode")&&this._getSummaryItemsSize("width",this._itemElements(),!0)>Qe(e)&&e.addClass("dx-toolbar-compact")}_getCurrentLabelsWidth(e){let t=0;return e.forEach(n=>{t+=Ft(n)}),t}_getCurrentLabelsPaddings(e){let t=0;return e.forEach(n=>{t+=Ft(n)-Qe(n)}),t}_renderItem(e,t,n,o){let r=t.location??"center",s=n??this[`_$${r}Section`],a=!!(t.text??t.html),l=super._renderItem(e,t,s,o);return l.toggleClass("dx-toolbar-button",!a).toggleClass("dx-toolbar-label",a).addClass(t.cssClass),l}_renderGroupedItems(){ee(this.option("items"),(e,t)=>{let n=t.items,o=I("<div>").addClass("dx-toolbar-group"),r=t.location??"center";!n||!n.length||(ee(n,(s,a)=>{this._renderItem(s,a,o,null)}),this._$toolbarItemsContainer.find(`.dx-toolbar-${r}`).append(o))})}_renderItems(e){this.option("grouped")&&e.length&&e[0].items?this._renderGroupedItems():super._renderItems(e)}_getToolbarItems(){return this.option("items")??[]}_renderContentImpl(){let e=this._getToolbarItems();this.$element().toggleClass("dx-toolbar-mini",e.length===0),this._renderedItemsCount?this._renderItems(e.slice(this._renderedItemsCount)):this._renderItems(e),this._applyCompactMode()}_renderEmptyMessage(){}_clean(){this._$toolbarItemsContainer.children().empty(),this.$element().empty(),delete this._$beforeSection,delete this._$centerSection,delete this._$afterSection}_visibilityChanged(e){e&&this._arrangeItems()}_isVisible(){return Qe(this.$element())>0&&ft(this.$element())>0}_getIndexByItem(e){return this._getToolbarItems().indexOf(e)}_itemOptionChanged(e,t,n,o){super._itemOptionChanged(e,t,n,o),this._arrangeItems()}_optionChanged(e){let{name:t}=e;switch(t){case"width":super._optionChanged(e),this._dimensionChanged();break;case"renderAs":case"useFlatButtons":case"useDefaultButtons":this._invalidate();break;case"compactMode":this._applyCompactMode();break;case"grouped":break;default:super._optionChanged(e)}}_dispose(){super._dispose(),clearTimeout(this._waitParentAnimationTimeout)}_updateDimensionsInMaterial(){if(Kn()){let e=()=>new Promise(n=>{let o=()=>{let s=!0;return this.$element().parents().each((a,l)=>{if(hn.isAnimating(I(l)))return s=!1,!1}),s&&n(),s},r=()=>{clearTimeout(this._waitParentAnimationTimeout),this._waitParentAnimationTimeout=setTimeout(()=>o()||r(),15)};r()}),t=()=>{let n=this.$element().find(".dx-toolbar-label"),o=[];return n.each((r,s)=>{let a=I(s).text(),l=I(s).css("fontWeight");o.push(m9(a,l))}),Promise.all(o)};Promise.all([e(),t()]).then(()=>{this._dimensionChanged()})}}};ut("dxToolbarBase",fE);var o2=fE;var eG=et(),XCe={observe:pe,unobserve:pe,disconnect:pe},r2=class{constructor(){if(!it()||!eG.ResizeObserver)return XCe;this._callbacksMap=new Map,this._observer=new eG.ResizeObserver(e=>{e.forEach(t=>{var n;(n=this._callbacksMap.get(t.target))===null||n===void 0||n(t)})})}observe(e,t){this._callbacksMap.set(e,t),this._observer.observe(e)}unobserve(e){this._callbacksMap.delete(e),this._observer.unobserve(e)}disconnect(){this._callbacksMap.clear(),this._observer.disconnect()}},ZCe=new r2,vd=ZCe;var mE="dxResizable";var QCe=Se(Dc,mE),JCe=Se(yl,mE),ewe=Se(Tc,mE),twe={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"},tG=Gr.inherit({_getDefaultOptions(){return q(this.callBase(),{handles:"all",step:"1",stepPrecision:"simple",area:void 0,minWidth:30,maxWidth:1/0,minHeight:30,maxHeight:1/0,onResizeStart:null,onResize:null,onResizeEnd:null,roundStepValue:!0,keepAspectRatio:!0})},_init(){this.callBase(),this.$element().addClass("dx-resizable")},_initMarkup(){this.callBase(),this._renderHandles()},_render(){this.callBase(),this._renderActions()},_renderActions(){this._resizeStartAction=this._createActionByOption("onResizeStart"),this._resizeEndAction=this._createActionByOption("onResizeEnd"),this._resizeAction=this._createActionByOption("onResize")},_renderHandles(){this._handles=[];let i=this.option("handles");if(i==="none"||!i)return;let e=i==="all"?["top","bottom","left","right"]:i.split(" "),t={};ee(e,(n,o)=>{t[o]=!0,this._renderHandle(o)}),t.bottom&&t.right&&this._renderHandle("corner-bottom-right"),t.bottom&&t.left&&this._renderHandle("corner-bottom-left"),t.top&&t.right&&this._renderHandle("corner-top-right"),t.top&&t.left&&this._renderHandle("corner-top-left"),this._attachEventHandlers()},_renderHandle(i){let e=I("<div>").addClass("dx-resizable-handle").addClass(`dx-resizable-handle-${i}`).appendTo(this.$element());this._handles.push(e)},_attachEventHandlers(){if(this.option("disabled"))return;let i={};i[QCe]=this._dragStartHandler.bind(this),i[JCe]=this._dragHandler.bind(this),i[ewe]=this._dragEndHandler.bind(this),this._handles.forEach(e=>{X.on(e,i,{direction:"both",immediate:!0})})},_detachEventHandlers(){this._handles.forEach(i=>{X.off(i)})},_toggleEventHandlers(i){i?this._attachEventHandlers():this._detachEventHandlers()},_getElementSize(){let i=this.$element();return i.css("boxSizing")==="border-box"?{width:Ft(i),height:Ct(i)}:{width:Qe(i),height:ft(i)}},_dragStartHandler(i){let e=this.$element();if(e.is(".dx-state-disabled, .dx-state-disabled *")){i.cancel=!0;return}this._toggleResizingClass(!0),this._movingSides=this._getMovingSides(i),this._elementLocation=ar(e),this._elementSize=this._getElementSize(),this._renderDragOffsets(i),this._resizeStartAction({event:i,width:this._elementSize.width,height:this._elementSize.height,handles:this._movingSides}),i.targetElements=null},_toggleResizingClass(i){this.$element().toggleClass("dx-resizable-resizing",i)},_renderDragOffsets(i){let e=this._getArea();if(!e)return;let t=I(i.target).closest(".dx-resizable-handle"),n=Ft(t),o=Ct(t),r=t.offset(),s=e.offset,a=this._getAreaScrollOffset();i.maxLeftOffset=this._leftMaxOffset=r.left-s.left-a.scrollX,i.maxRightOffset=this._rightMaxOffset=s.left+e.width-r.left-n+a.scrollX,i.maxTopOffset=this._topMaxOffset=r.top-s.top-a.scrollY,i.maxBottomOffset=this._bottomMaxOffset=s.top+e.height-r.top-o+a.scrollY},_getBorderWidth(i,e){if(ln(i.get(0)))return 0;let t=i.css(twe[e]);return parseInt(t)||0},_proportionate(i,e){let t=this._elementSize,n=i==="x"?t.width/t.height:t.height/t.width;return e*n},_getProportionalDelta(i){let{x:e,y:t}=i,n=this._proportionate("y",e);if(n>=t)return{x:e,y:n};let o=this._proportionate("x",t);return o>=e?{x:o,y:t}:{x:0,y:0}},_getDirectionName(i){let e=this._movingSides;return i==="x"?e.left?"left":"right":e.top?"top":"bottom"},_fitIntoArea(i,e){let t=this._getDirectionName(i);return Math.min(e,this[`_${t}MaxOffset`]??1/0)},_fitDeltaProportionally(i){let e=ye({},i),t=this._elementSize,{minWidth:n,minHeight:o,maxWidth:r,maxHeight:s}=this.option(),a=()=>t.width+e.x,l=()=>t.height+e.y,d=h=>e[h]===this._fitIntoArea(h,e[h]),c=()=>Rs(a(),n,r)&&d("x"),u=()=>Rs(l(),o,s)&&d("y");if(!c()){let h=this._fitIntoArea("x",ho(a(),n,r)-t.width);e={x:h,y:this._proportionate("y",h)}}if(!u()){let h=this._fitIntoArea("y",ho(l(),o,s)-t.height);e={x:this._proportionate("x",h),y:h}}return c()&&u()?e:{x:0,y:0}},_fitDelta(i){let{x:e,y:t}=i,n=this._elementSize,{minWidth:o,minHeight:r,maxWidth:s,maxHeight:a}=this.option();return{x:ho(n.width+e,o,s)-n.width,y:ho(n.height+t,r,a)-n.height}},_getDeltaByOffset(i){let e=this._movingSides,t=this._isCornerHandler(e)&&this.option("keepAspectRatio"),n={x:i.x*(e.left?-1:1),y:i.y*(e.top?-1:1)};if(t){let o=this._getProportionalDelta(n);n=this._fitDeltaProportionally(o)}else{let o=this._fitDelta(n);n=this._roundByStep(o)}return n},_updatePosition(i,e){let{width:t,height:n}=e,o=this._elementLocation,r=this._movingSides,s=this.$element(),a=this._getElementSize(),l=i.y*(r.top?-1:1)-((a.height||n)-n),d=i.x*(r.left?-1:1)-((a.width||t)-t);In(s,{top:o.top+(r.top?l:0),left:o.left+(r.left?d:0)})},_dragHandler(i){let e=this._getOffset(i),t=this._getDeltaByOffset(e),n=this._updateDimensions(t);this._updatePosition(t,n),this._triggerResizeAction(i,n)},_updateDimensions(i){let e=d=>d.substring(d.length-2)==="px",t=this.option("stepPrecision")==="strict",n=this._elementSize,o=n.width+i.x,r=n.height+i.y,s=this.$element().get(0).style,a=i.x||t||e(s.width),l=i.y||t||e(s.height);return a&&this.option({width:o}),l&&this.option({height:r}),{width:a?o:n.width,height:l?r:n.height}},_triggerResizeAction(i,e){let{width:t,height:n}=e;this._resizeAction({event:i,width:this.option("width")||t,height:this.option("height")||n,handles:this._movingSides}),ls(this.$element())},_isCornerHandler:i=>Object.values(i).reduce((e,t)=>e^t,0)===0,_getOffset(i){let{offset:e}=i,t=this._movingSides;return!t.left&&!t.right&&(e.x=0),!t.top&&!t.bottom&&(e.y=0),e},_roundByStep(i){return this.option("stepPrecision")==="strict"?this._roundStrict(i):this._roundNotStrict(i)},_getSteps(){return Dw(this.option("step"),!this.option("roundStepValue"))},_roundNotStrict(i){let e=this._getSteps();return{x:i.x-i.x%e.h,y:i.y-i.y%e.v}},_roundStrict(i){let e=this._movingSides,t={x:i.x*(e.left?-1:1),y:i.y*(e.top?-1:1)},n=this._getSteps(),o=this._elementLocation,r=this._elementSize,s=e.left?o.left:o.left+r.width,a=e.top?o.top:o.top+r.height,l=(s+t.x)%n.h,d=(a+t.y)%n.v,c=Math.sign||(b=>(b=+b,b===0||isNaN(b)?b:b>0?1:-1)),u=(b,x)=>(1+.2*c(x))%1*b,h=(b,x)=>Math.abs(b)<.2*x,f=t.x-l,p=t.y-d;l>u(n.h,t.x)&&(f+=n.h),d>u(n.v,t.y)&&(p+=n.v);let m=(e.left||e.right)&&!h(t.x,n.h)?f:0,g=(e.top||e.bottom)&&!h(t.y,n.v)?p:0;return{x:m*(e.left?-1:1),y:g*(e.top?-1:1)}},_getMovingSides(i){let e=I(i.target),t=e.hasClass("dx-resizable-handle-corner-top-left"),n=e.hasClass("dx-resizable-handle-corner-top-right"),o=e.hasClass("dx-resizable-handle-corner-bottom-left"),r=e.hasClass("dx-resizable-handle-corner-bottom-right");return{top:e.hasClass("dx-resizable-handle-top")||t||n,left:e.hasClass("dx-resizable-handle-left")||t||o,bottom:e.hasClass("dx-resizable-handle-bottom")||o||r,right:e.hasClass("dx-resizable-handle-right")||n||r}},_getArea(){let i=this.option("area");return Ie(i)&&(i=i.call(this)),ht(i)?this._getAreaFromObject(i):this._getAreaFromElement(i)},_getAreaScrollOffset(){let i=this.option("area"),e=!Ie(i)&&!ht(i),t={scrollY:0,scrollX:0};if(e){let n=I(i)[0];ln(n)&&(t.scrollX=n.pageXOffset,t.scrollY=n.pageYOffset)}return t},_getAreaFromObject(i){let e={width:i.right-i.left,height:i.bottom-i.top,offset:{left:i.left,top:i.top}};return this._correctAreaGeometry(e),e},_getAreaFromElement(i){let e=I(i),t;return e.length&&(t={width:Ib(e),height:Wm(e),offset:q({top:0,left:0},ln(e[0])?{}:e.offset())},this._correctAreaGeometry(t,e)),t},_correctAreaGeometry(i,e){let t=e?this._getBorderWidth(e,"left"):0,n=e?this._getBorderWidth(e,"top"):0;i.offset.left+=t+this._getBorderWidth(this.$element(),"left"),i.offset.top+=n+this._getBorderWidth(this.$element(),"top"),i.width-=Ft(this.$element())-Ib(this.$element()),i.height-=Ct(this.$element())-Wm(this.$element())},_dragEndHandler(i){let e=this.$element();this._resizeEndAction({event:i,width:Ft(e),height:Ct(e),handles:this._movingSides}),this._toggleResizingClass(!1)},_renderWidth(i){this.option("width",ho(i,this.option("minWidth"),this.option("maxWidth")))},_renderHeight(i){this.option("height",ho(i,this.option("minHeight"),this.option("maxHeight")))},_optionChanged(i){switch(i.name){case"disabled":this._toggleEventHandlers(!i.value),this.callBase(i);break;case"handles":this._invalidate();break;case"minWidth":case"maxWidth":it()&&this._renderWidth(Ft(this.$element()));break;case"minHeight":case"maxHeight":it()&&this._renderHeight(Ct(this.$element()));break;case"onResize":case"onResizeStart":case"onResizeEnd":this._renderActions();break;case"area":case"stepPrecision":case"step":case"roundStepValue":case"keepAspectRatio":break;default:this.callBase(i)}},_clean(){this.$element().find(".dx-resizable-handle").remove()},_useTemplates:()=>!1});ut(mE,tG);var iG=tG;var nG=iG;var s2=class{constructor(e){this.init(e)}init(e){let{dragEnabled:t,handle:n,draggableElement:o,positionController:r}=e;this._positionController=r,this._draggableElement=o,this._handle=n,this._dragEnabled=t,this.unsubscribe(),t&&this.subscribe()}moveDown(e){this._moveTo(5,0,e)}moveUp(e){this._moveTo(-5,0,e)}moveLeft(e){this._moveTo(0,-5,e)}moveRight(e){this._moveTo(0,5,e)}subscribe(){let e=this._getEventNames();X.on(this._handle,e.startEventName,t=>{this._dragStartHandler(t)}),X.on(this._handle,e.updateEventName,t=>{this._dragUpdateHandler(t)}),X.on(this._handle,e.endEventName,t=>{this._dragEndHandler(t)})}unsubscribe(){let e=this._getEventNames();X.off(this._handle,e.startEventName),X.off(this._handle,e.updateEventName),X.off(this._handle,e.endEventName)}_getEventNames(){let e=Se(Dc,"overlayDrag"),t=Se(yl,"overlayDrag"),n=Se(Tc,"overlayDrag");return{startEventName:e,updateEventName:t,endEventName:n}}_dragStartHandler(e){let t=this._getAllowedOffsets();this._prevOffset={x:0,y:0},e.targetElements=[],e.maxTopOffset=t.top,e.maxBottomOffset=t.bottom,e.maxLeftOffset=t.left,e.maxRightOffset=t.right}_dragUpdateHandler(e){let t={top:e.offset.y-this._prevOffset.y,left:e.offset.x-this._prevOffset.x};this._moveByOffset(t),this._prevOffset=e.offset}_dragEndHandler(e){this._positionController.dragHandled(),this._positionController.detectVisualPositionChange(e)}_moveTo(e,t,n){if(!this._dragEnabled)return;n.preventDefault(),n.stopPropagation();let o=this._fitOffsetIntoAllowedRange(e,t);this._moveByOffset(o),this._dragEndHandler(n)}_fitOffsetIntoAllowedRange(e,t){let n=this._getAllowedOffsets();return{top:ho(e,-n.top,n.bottom),left:ho(t,-n.left,n.right)}}_getContainerDimensions(){let e=be.getDocument(),t=this._positionController.$dragResizeContainer.get(0),n=Ft(t),o=Ct(t);return ln(t)&&(o=Math.max(e.body.clientHeight,o),n=Math.max(e.body.clientWidth,n)),{width:n,height:o}}_getContainerPosition(){let e=this._positionController.$dragResizeContainer.get(0);return ln(e)?{top:0,left:0}:Db(e)}_getElementPosition(){return Db(this._draggableElement)}_getInnerDelta(){let e=this._getContainerDimensions(),t=this._getElementDimensions();return{x:e.width-t.width,y:e.height-t.height}}_getOuterDelta(){let{width:e,height:t}=this._getElementDimensions(),{outsideDragFactor:n}=this._positionController;return{x:e*n,y:t*n}}_getFullDelta(){let e=this._getInnerDelta(),t=this._getOuterDelta();return{x:e.x+t.x,y:e.y+t.y}}_getElementDimensions(){return{width:this._draggableElement.offsetWidth,height:this._draggableElement.offsetHeight}}_getAllowedOffsets(){let e=this._getFullDelta();if(!(e.y>=0&&e.x>=0))return{top:0,bottom:0,left:0,right:0};let n=this._getElementPosition(),o=this._getContainerPosition(),r=this._getOuterDelta();return{top:n.top-o.top+r.y,bottom:-n.top+o.top+e.y,left:n.left-o.left+r.x,right:-n.left+o.left+e.x}}_moveByOffset(e){let t=ar(this._draggableElement),n={left:t.left+e.left,top:t.top+e.top};In(this._draggableElement,n)}},oG=s2;var iwe={setOverflow:pe,restoreOverflow:pe},rG=()=>{if(!it())return iwe;let i=et(),{documentElement:e}=be.getDocument(),t=be.getBody(),n=Ve.real().platform==="ios",o={overflow:null,overflowX:null,overflowY:null,paddingRight:null,position:null,top:null,left:null};return{setOverflow:n?()=>{if(U(o.position)||t.style.position==="fixed")return;let{scrollY:r,scrollX:s}=i;o.position=t.style.position,o.top=t.style.top,o.left=t.style.left,t.style.setProperty("position","fixed"),t.style.setProperty("top",-r+"px"),t.style.setProperty("left",-s+"px")}:()=>{(()=>{let r=i.innerWidth-e.clientWidth;if(o.paddingRight||r<=0)return;let s=i.getComputedStyle(t).getPropertyValue("padding-right"),a=parseInt(s,10);o.paddingRight=a,t.style.setProperty("padding-right",`${a+r}px`)})(),!(o.overflow||t.style.overflow==="hidden")&&(o.overflow=t.style.overflow,o.overflowX=t.style.overflowX,o.overflowY=t.style.overflowY,t.style.setProperty("overflow","hidden"))},restoreOverflow:n?()=>{if(!U(o.position))return;let r=-parseInt(t.style.top,10),s=-parseInt(t.style.left,10);["position","top","left"].forEach(a=>{o[a]?t.style.setProperty(a,o[a]):t.style.removeProperty(a)}),i.scrollTo(s,r),o.position=null}:()=>{U(o.paddingRight)&&(o.paddingRight?t.style.setProperty("padding-right",`${o.paddingRight}px`):t.style.removeProperty("padding-right"),o.paddingRight=null),["overflow","overflowX","overflowY"].forEach(r=>{if(!U(o[r]))return;let s=r.replace(/(X)|(Y)/,a=>`-${a.toLowerCase()}`);o[r]?t.style.setProperty(s,o[r]):t.style.removeProperty(s),o[r]=null})}}};var nwe=["fullScreen","forceApplyBindings","dragOutsideBoundary","dragAndResizeArea","outsideDragFactor"],a2=et(),gE=class extends tg{constructor(e){let{fullScreen:t,forceApplyBindings:n,dragOutsideBoundary:o,dragAndResizeArea:r,outsideDragFactor:s}=e,a=ri(e,nwe);super(a),this._props=ye({},this._props,{fullScreen:t,forceApplyBindings:n,dragOutsideBoundary:o,dragAndResizeArea:r,outsideDragFactor:s}),this._$dragResizeContainer=void 0,this._updateDragResizeContainer()}set fullScreen(e){this._props.fullScreen=e,e?this._fullScreenEnabled():this._fullScreenDisabled()}get $dragResizeContainer(){return this._$dragResizeContainer}get outsideDragFactor(){return this._props.dragOutsideBoundary?1:this._props.outsideDragFactor}set dragAndResizeArea(e){this._props.dragAndResizeArea=e,this._updateDragResizeContainer()}set dragOutsideBoundary(e){this._props.dragOutsideBoundary=e,this._updateDragResizeContainer()}set outsideDragFactor(e){this._props.outsideDragFactor=e}updateContainer(e){super.updateContainer(e),this._updateDragResizeContainer()}dragHandled(){this.restorePositionOnNextRender(!1)}resizeHandled(){this.restorePositionOnNextRender(!1)}positionContent(){if(this._props.fullScreen)In(this._$content,{top:0,left:0}),this.detectVisualPositionChange();else{var e,t;(e=(t=this._props).forceApplyBindings)===null||e===void 0||e.call(t),super.positionContent()}}_updateDragResizeContainer(){this._$dragResizeContainer=this._getDragResizeContainer()}_getDragResizeContainer(){return this._props.dragOutsideBoundary?I(a2):this._props.dragAndResizeArea?I(this._props.dragAndResizeArea):Yw().get(0)||this._props.container?this._$markupContainer:I(a2)}_getVisualContainer(){return this._props.fullScreen?I(a2):super._getVisualContainer()}_fullScreenEnabled(){this.restorePositionOnNextRender(!1)}_fullScreenDisabled(){this.restorePositionOnNextRender(!0)}};var owe=et();var sG=["cancel","clear","done"];var rwe=gi.safari&&uS(gi.version,[11])<0,Mh={static:"",inherit:"dx-popup-inherit-height",flex:"dx-popup-flex-height"},swe=i=>{let e=Ve.current(),{platform:t}=e,n="bottom",o="before";if(t==="ios")switch(i){case"cancel":n="top";break;case"clear":n="top",o="after";break;case"done":o="after"}else if(t==="android")switch(i){case"cancel":case"done":o="after"}return{toolbar:n,location:o}},aG=cs.inherit({_supportedKeys(){return q(this.callBase(),{upArrow:i=>{var e;(e=this._drag)===null||e===void 0||e.moveUp(i)},downArrow:i=>{var e;(e=this._drag)===null||e===void 0||e.moveDown(i)},leftArrow:i=>{var e;(e=this._drag)===null||e===void 0||e.moveLeft(i)},rightArrow:i=>{var e;(e=this._drag)===null||e===void 0||e.moveRight(i)}})},_getDefaultOptions(){return q(this.callBase(),{fullScreen:!1,title:"",showTitle:!0,titleTemplate:"title",onTitleRendered:null,dragOutsideBoundary:!1,dragEnabled:!1,dragAndResizeArea:void 0,enableBodyScroll:!0,outsideDragFactor:0,onResizeStart:null,onResize:null,onResizeEnd:null,resizeEnabled:!1,toolbarItems:[],showCloseButton:!1,bottomTemplate:"bottom",useDefaultToolbarButtons:!1,useFlatToolbarButtons:!1,autoResizeEnabled:!0})},_defaultOptionsRules(){return this.callBase().concat([{device:{platform:"ios"},options:{animation:this._iosAnimation}},{device:{platform:"android"},options:{animation:this._androidAnimation}},{device:{platform:"generic"},options:{showCloseButton:!0}},{device:i=>Ve.real().deviceType==="desktop"&&i.platform==="generic",options:{dragEnabled:!0}},{device:()=>Ve.real().deviceType==="desktop"&&!Ve.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>xo(),options:{useFlatToolbarButtons:!0}},{device:()=>Kn(),options:{useDefaultToolbarButtons:!0,showCloseButton:!1}}])},_iosAnimation:{show:{type:"slide",duration:400,from:{position:{my:"top",at:"bottom"}},to:{position:{my:"center",at:"center"}}},hide:{type:"slide",duration:400,from:{opacity:1,position:{my:"center",at:"center"}},to:{opacity:1,position:{my:"top",at:"bottom"}}}},_androidAnimation(){return this.option("fullScreen")?{show:{type:"slide",duration:300,from:{top:"30%",opacity:0},to:{top:0,opacity:1}},hide:{type:"slide",duration:300,from:{top:0,opacity:1},to:{top:"30%",opacity:0}}}:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}}},_init(){let i=this.option("_wrapperClassExternal"),e=i?`dx-popup-wrapper ${i}`:"dx-popup-wrapper";this.callBase(),this._createBodyOverflowManager(),this._updateResizeCallbackSkipCondition(),this.$element().addClass("dx-popup"),this.$wrapper().addClass(e),this._$popupContent=this._$content.wrapInner(I("<div>").addClass("dx-popup-content")).children().eq(0),this._toggleContentScrollClass(),this.$overlayContent().attr("role","dialog")},_render(){let i=this.option("fullScreen");this._toggleFullScreenClass(i),this.callBase()},_createBodyOverflowManager(){this._bodyOverflowManager=rG()},_toggleFullScreenClass(i){this.$overlayContent().toggleClass("dx-popup-fullscreen",i).toggleClass("dx-popup-normal",!i)},_initTemplates(){this.callBase(),this._templateManager.addDefaultTemplates({title:new Fs,bottom:new Fs})},_getActionsList(){return this.callBase().concat(["onResizeStart","onResize","onResizeEnd"])},_contentResizeHandler(i){this._shouldSkipContentResize(i)||this._renderGeometry({shouldOnlyReposition:!0})},_doesShowAnimationChangeDimensions(){let i=this.option("animation");return["to","from"].some(e=>{var t;let n=i==null||(t=i.show)===null||t===void 0?void 0:t[e];return Ke(n)&&("width"in n||"height"in n)})},_updateResizeCallbackSkipCondition(){let i=this._doesShowAnimationChangeDimensions();this._shouldSkipContentResize=e=>i&&this._showAnimationProcessing||this._areContentDimensionsRendered(e)},_observeContentResize(i){if(!this.option("useResizeObserver"))return;let e=this._$content.get(0);i?vd.observe(e,t=>{this._contentResizeHandler(t)}):vd.unobserve(e)},_areContentDimensionsRendered(i){var e,t,n;let o=(e=i.contentBoxSize)===null||e===void 0?void 0:e[0];if(o){var r,s;return parseInt(o.inlineSize,10)===((r=this._renderedDimensions)===null||r===void 0?void 0:r.width)&&parseInt(o.blockSize,10)===((s=this._renderedDimensions)===null||s===void 0?void 0:s.height)}let{contentRect:a}=i;return parseInt(a.width,10)===((t=this._renderedDimensions)===null||t===void 0?void 0:t.width)&&parseInt(a.height,10)===((n=this._renderedDimensions)===null||n===void 0?void 0:n.height)},_renderContent(){this.callBase(),this._observeContentResize(!0)},_renderContentImpl(){this._renderTitle(),this.callBase(),this._renderResize(),this._renderBottom()},_renderTitle(){let i=this._getToolbarItems("top"),{title:e,showTitle:t}=this.option();if(t&&e&&i.unshift({location:Ve.current().ios?"center":"before",text:e}),t||i.length>0){this._$title&&this._$title.remove();let n=I("<div>").addClass("dx-popup-title").insertBefore(this.$content());this._$title=this._renderTemplateByType("titleTemplate",i,n).addClass("dx-popup-title"),this._renderDrag(),this._executeTitleRenderAction(this._$title),this._$title.toggleClass("dx-has-close-button",this._hasCloseButton())}else this._$title&&this._$title.detach();this._toggleAriaLabel()},_toggleAriaLabel(){var i;let{title:e,showTitle:t}=this.option(),o=t&&!!e?new yi:null;(i=this._$title)===null||i===void 0||i.find(".dx-toolbar-label").eq(0).attr("id",o),this.$overlayContent().attr("aria-labelledby",o)},_renderTemplateByType(i,e,t,n){let{rtlEnabled:o,useDefaultToolbarButtons:r,useFlatToolbarButtons:s,disabled:a}=this.option(),l=this._getTemplateByOption(i);if(l instanceof Fs){let u=q({},this.option("integrationOptions"),{skipTemplates:["content","title"]}),h=q(n,{items:e,rtlEnabled:o,useDefaultButtons:r,useFlatButtons:s,disabled:a,integrationOptions:u});this._getTemplate("dx-polymorph-widget").render({container:t,model:{widget:this._getToolbarName(),options:h}});let f=t.children("div");return t.replaceWith(f),f}let c=I(l.render({container:tt(t)}));return c.hasClass("dx-template-wrapper")&&(t.replaceWith(c),t=c),t},_getToolbarName:()=>"dxToolbarBase",_renderVisibilityAnimate(i){return this.callBase(i)},_hide(){return this._observeContentResize(!1),this.callBase()},_executeTitleRenderAction(i){this._getTitleRenderAction()({titleElement:tt(i)})},_getTitleRenderAction(){return this._titleRenderAction||this._createTitleRenderAction()},_createTitleRenderAction(){return this._titleRenderAction=this._createActionByOption("onTitleRendered",{element:this.element(),excludeValidators:["disabled","readOnly"]})},_getCloseButton(){return{toolbar:"top",location:"after",template:this._getCloseButtonRenderer()}},_getCloseButtonRenderer(){return(i,e,t)=>{let n=I("<div>").addClass("dx-closebutton");this._createComponent(n,Ln,{icon:"close",onClick:this._createToolbarItemAction(void 0),stylingMode:"text",integrationOptions:{}}),I(t).append(n)}},_getToolbarItems(i){let e=this.option("toolbarItems"),t=[];this._toolbarItemClasses=[];let n=Ve.current().platform,o=0;return ee(e,(r,s)=>{let a=U(s.shortcut),l=a?swe(s.shortcut):s;if(a&&n==="ios"&&o<2&&(l.toolbar="top",o++),l.toolbar=s.toolbar||l.toolbar||"top",l&&l.toolbar===i){a&&q(l,{location:s.location},this._getToolbarItemByAlias(s));let d=n==="generic";s.shortcut==="done"&&d||s.shortcut==="cancel"&&!d?t.unshift(l):t.push(l)}}),i==="top"&&this._hasCloseButton()&&t.push(this._getCloseButton()),t},_hasCloseButton(){return this.option("showCloseButton")&&this.option("showTitle")},_getLocalizationKey:i=>i.toLowerCase()==="done"?"OK":ld(i,!0),_getToolbarButtonStylingMode(i){return Zn()?i==="done"?"contained":"outlined":this.option("useFlatToolbarButtons")?"text":"contained"},_getToolbarButtonType(i){return Zn()&&i==="done"||this.option("useDefaultToolbarButtons")?"default":"normal"},_getToolbarItemByAlias(i){let e=this,t=i.shortcut;if(!sG.includes(t))return!1;let n=q({text:de.format(this._getLocalizationKey(t)),onClick:this._createToolbarItemAction(i.onClick),integrationOptions:{},type:this._getToolbarButtonType(t),stylingMode:this._getToolbarButtonStylingMode(t)},i.options||{}),o=`dx-popup-${t}`;return this._toolbarItemClasses.push(o),{template(r,s,a){let l=I("<div>").addClass(o).appendTo(a);e._createComponent(l,Ln,n)}}},_createToolbarItemAction(i){return this._createAction(i,{afterExecute(e){e.component.hide()}})},_renderBottom(){let i=this._getToolbarItems("bottom");if(i.length){this._$bottom&&this._$bottom.remove();let e=I("<div>").addClass("dx-popup-bottom").insertAfter(this.$content());this._$bottom=this._renderTemplateByType("bottomTemplate",i,e,{compactMode:!0}).addClass("dx-popup-bottom"),this._toggleClasses()}else this._$bottom&&this._$bottom.detach()},_toggleDisabledState(i){this.callBase(...arguments),this.$content().toggleClass("dx-state-disabled",!!i)},_toggleClasses(){ee(sG,(e,t)=>{let n=`dx-popup-${t}`;this._toolbarItemClasses.includes(n)?(this.$wrapper().addClass(`${n}-visible`),this._$bottom.addClass(n)):(this.$wrapper().removeClass(`${n}-visible`),this._$bottom.removeClass(n))})},_toggleFocusClass(i,e){if(this.callBase(i,e),i&&!l$(this._zIndex)){let t=wS(this._zIndexInitValue());Gb(this._zIndex),this._zIndex=t,this._$wrapper.css("zIndex",t),this._$content.css("zIndex",t)}},_toggleContentScrollClass(){let i=!this.option("preventScrollEvents");this.$content().toggleClass("dx-popup-content-scrollable",i)},_getPositionControllerConfig(){let{fullScreen:i,forceApplyBindings:e,dragOutsideBoundary:t,dragAndResizeArea:n,outsideDragFactor:o}=this.option();return q({},this.callBase(),{fullScreen:i,forceApplyBindings:e,dragOutsideBoundary:t,dragAndResizeArea:n,outsideDragFactor:o})},_initPositionController(){this._positionController=new gE(this._getPositionControllerConfig())},_getDragTarget(){return this.topToolbar()},_renderGeometry(i){let{visible:e,useResizeObserver:t}=this.option();if(e&&it()){let o=this._showAnimationProcessing&&!(i!=null&&i.forceStopAnimation)&&t;this._isAnimationPaused=o||void 0,this._stopAnimation(),i!=null&&i.shouldOnlyReposition?this._renderPosition(!1):this._renderGeometryImpl(i?.isDimensionChange),o&&(this._animateShowing(),this._isAnimationPaused=void 0)}},_cacheDimensions(){this.option("useResizeObserver")&&(this._renderedDimensions={width:parseInt(Qe(this._$content),10),height:parseInt(ft(this._$content),10)})},_renderGeometryImpl(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)||this._resetContentHeight(),this.callBase(),this._cacheDimensions(),this._setContentHeight()},_resetContentHeight(){this._getOptionValue("height")==="auto"&&this.$content().css({height:"auto",maxHeight:"none"})},_renderDrag(){let i=this._getDragTarget(),e=this.option("dragEnabled");if(!i)return;let t={dragEnabled:e,handle:i.get(0),draggableElement:this._$content.get(0),positionController:this._positionController};this._drag?this._drag.init(t):this._drag=new oG(t),this.$overlayContent().toggleClass("dx-popup-draggable",e)},_renderResize(){this._resizable=this._createComponent(this._$content,nG,{handles:this.option("resizeEnabled")?"all":"none",onResizeEnd:i=>{this._resizeEndHandler(i),this._observeContentResize(!0)},onResize:i=>{this._setContentHeight(),this._actions.onResize(i)},onResizeStart:i=>{this._observeContentResize(!1),this._actions.onResizeStart(i)},minHeight:100,minWidth:100,area:this._positionController.$dragResizeContainer,keepAspectRatio:!1})},_resizeEndHandler(i){let e=this._resizable.option("width"),t=this._resizable.option("height");e&&this._setOptionWithoutOptionChange("width",e),t&&this._setOptionWithoutOptionChange("height",t),this._cacheDimensions(),this._positionController.resizeHandled(),this._positionController.detectVisualPositionChange(i.event),this._actions.onResizeEnd(i)},_setContentHeight(){(this.option("forceApplyBindings")||pe)();let i=this.$overlayContent().get(0),e=this._chooseHeightStrategy(i);this.$content().css(this._getHeightCssStyles(e,i)),this._setHeightClasses(this.$overlayContent(),e)},_heightStrategyChangeOffset:(i,e)=>i===Mh.flex?-e:0,_chooseHeightStrategy(i){let e=i.style.width==="auto"||i.style.width==="",t=Mh.static;return this._isAutoHeight()&&this.option("autoResizeEnabled")&&(e||rwe?t=Mh.inherit:t=Mh.flex),t},_getHeightCssStyles(i,e){let t={},n=this._getOptionValue("maxHeight",e),o=this._getOptionValue("minHeight",e),r=this._splitPopupHeight(),s=r.header+r.footer+r.contentVerticalOffsets+r.popupVerticalOffsets+this._heightStrategyChangeOffset(i,r.popupVerticalPaddings);if(i===Mh.static){if(!this._isAutoHeight()||n||o){let l=(this.option("fullScreen")?Math.min(un(e).height,et().innerHeight):un(e).height)-s;t={height:Math.max(0,l),minHeight:"auto",maxHeight:"auto"}}}else{let a=I(this._positionController.$visualContainer).get(0),l=Bj(n,-s,a);t={height:"auto",minHeight:Vj(o,-s,a),maxHeight:l}}return t},_setHeightClasses(i,e){let t="";for(let n in Mh)Mh[n]!==e&&(t+=` ${Mh[n]}`);i.removeClass(t).addClass(e)},_isAutoHeight(){return this.$overlayContent().get(0).style.height==="auto"},_splitPopupHeight(){let i=this.topToolbar(),e=this.bottomToolbar();return{header:DM(i&&i.get(0)),footer:DM(e&&e.get(0)),contentVerticalOffsets:Ww(this.$overlayContent().get(0),!0),popupVerticalOffsets:Ww(this.$content().get(0),!0),popupVerticalPaddings:Ww(this.$content().get(0),!1)}},_isAllWindowCovered(){return this.callBase()||this.option("fullScreen")},_renderDimensions(){this.option("fullScreen")?this.$overlayContent().css({width:"100%",height:"100%",minWidth:"",maxWidth:"",minHeight:"",maxHeight:""}):this.callBase(),it()&&this._renderFullscreenWidthClass()},_dimensionChanged(){this._renderGeometry({isDimensionChange:!0})},_clean(){this.callBase(),this._observeContentResize(!1)},_dispose(){this.callBase(),this._toggleBodyScroll(!0)},_renderFullscreenWidthClass(){this.$overlayContent().toggleClass("dx-popup-fullscreen-width",Ft(this.$overlayContent())===Qe(owe))},_toggleSafariScrolling(){this.option("enableBodyScroll")&&this.callBase()},_toggleBodyScroll(i){if(!this._bodyOverflowManager)return;let{setOverflow:e,restoreOverflow:t}=this._bodyOverflowManager;i?t():e()},refreshPosition(){this._renderPosition()},_optionChanged(i){var e;let{value:t,name:n}=i;switch(n){case"disabled":this.callBase(i),this._renderTitle(),this._renderBottom();break;case"animation":this._updateResizeCallbackSkipCondition();break;case"enableBodyScroll":this.option("visible")&&this._toggleBodyScroll(t);break;case"showTitle":case"title":case"titleTemplate":this._renderTitle(),this._renderGeometry(),ls(this.$overlayContent());break;case"bottomTemplate":this._renderBottom(),this._renderGeometry(),ls(this.$overlayContent());break;case"container":if(this.callBase(i),this.option("resizeEnabled")){var o;(o=this._resizable)===null||o===void 0||o.option("area",this._positionController.$dragResizeContainer)}break;case"width":case"height":this.callBase(i),(e=this._resizable)===null||e===void 0||e.option(n,t);break;case"onTitleRendered":this._createTitleRenderAction(t);break;case"toolbarItems":case"useDefaultToolbarButtons":case"useFlatToolbarButtons":{let r=!i.fullName.match(/^toolbarItems((\[\d+\])(\.(options|visible).*)?)?$/);this._renderTitle(),this._renderBottom(),r&&(this._renderGeometry(),ls(this.$overlayContent()));break}case"dragEnabled":this._renderDrag();break;case"dragAndResizeArea":this._positionController.dragAndResizeArea=t,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer),this._positionController.positionContent();break;case"dragOutsideBoundary":this._positionController.dragOutsideBoundary=t,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer);break;case"outsideDragFactor":this._positionController.outsideDragFactor=t;break;case"resizeEnabled":this._renderResize(),this._renderGeometry();break;case"autoResizeEnabled":this._renderGeometry(),ls(this.$overlayContent());break;case"fullScreen":this._positionController.fullScreen=t,this._toggleFullScreenClass(t),this._toggleSafariScrolling(),this._renderGeometry(),ls(this.$overlayContent());break;case"showCloseButton":this._renderTitle();break;case"preventScrollEvents":this.callBase(i),this._toggleContentScrollClass();break;default:this.callBase(i)}},bottomToolbar(){return this._$bottom},topToolbar(){return this._$title},$content(){return this._$popupContent},content(){return tt(this.$content())},$overlayContent(){return this._$content},getFocusableElements(){return this.$wrapper().find("[tabindex]").filter((i,e)=>e.getAttribute("tabindex")>=0)}});ut("dxPopup",aG);var lG=aG;var Qr=lG;var awe=q({},qS,{_dataExpressionDefaultOptions:()=>({items:[],dataSource:null,itemTemplate:"item",value:null,valueExpr:"this",displayExpr:void 0}),_initDataExpressions(){this._compileValueGetter(),this._compileDisplayGetter(),this._initDynamicTemplates(),this._initDataSource(),this._itemsToDataSource()},_itemsToDataSource(){this.option("dataSource")||(this._dataSource=new Lo({store:new pd(this.option("items")),pageSize:0}),this._initDataController())},_compileDisplayGetter(){this._displayGetter=Qt(this._displayGetterExpr())},_displayGetterExpr(){return this.option("displayExpr")},_compileValueGetter(){this._valueGetter=Qt(this._valueGetterExpr())},_valueGetterExpr(){return this.option("valueExpr")||"this"},_loadValue(i){let e=le();return i=this._unwrappedValue(i),U(i)?(this._loadSingle(this._valueGetterExpr(),i).done(t=>{this._isValueEquals(this._valueGetter(t),i)?e.resolve(t):e.reject()}).fail(()=>{e.reject()}),this._loadValueDeferred=e,e.promise()):e.reject().promise()},_rejectValueLoading(){var i;(i=this._loadValueDeferred)===null||i===void 0||i.reject({shouldSkipCallback:!0})},_getCurrentValue(){return this.option("value")},_unwrappedValue(i){return i=i??this._getCurrentValue(),i&&this._dataSource&&this._valueGetterExpr()==="this"&&(i=this._getItemKey(i)),bo.unwrap(i)},_getItemKey(i){let e=this._dataSource.key();if(Array.isArray(e)){let t={};for(let n=0,o=e.length;n<o;n++)t[e[n]]=i[e[n]];return t}return e&&typeof i=="object"&&(i=i[e]),i},_isValueEquals(i,e){let t=this._dataSource&&this._dataSource.key(),n=this._compareValues(i,e);return!n&&t&&U(i)&&U(e)&&(Array.isArray(t)?n=this._compareByCompositeKey(i,e,t):n=this._compareByKey(i,e,t)),n},_compareByCompositeKey(i,e,t){let n=Ke;if(!n(i)||!n(e))return!1;for(let o=0,r=t.length;o<r;o++)if(i[t[o]]!==e[t[o]])return!1;return!0},_compareByKey(i,e,t){let n=bo.unwrap,o=ji(n(i[t]),i),r=ji(n(e[t]),e);return this._compareValues(o,r)},_compareValues:(i,e)=>uo(i,!0)===uo(e,!0),_initDynamicTemplates:pe,_setCollectionWidgetItemTemplate(){this._initDynamicTemplates(),this._setCollectionWidgetOption("itemTemplate",this.option("itemTemplate"))},_getCollectionKeyExpr(){let i=this.option("valueExpr");return We(i)&&i!=="this"||Ie(i)?i:null},_dataExpressionOptionChanged(i){switch(i.name){case"items":this._itemsToDataSource(),this._setCollectionWidgetOption("items");break;case"dataSource":this._initDataSource();break;case"itemTemplate":this._setCollectionWidgetItemTemplate();break;case"valueExpr":this._compileValueGetter();break;case"displayExpr":this._compileDisplayGetter(),this._initDynamicTemplates(),this._setCollectionWidgetOption("displayExpr")}}}),dG=awe;var l2=dG;function cG(i){return class{constructor(){throw new Error(`Module '${i}' not found`)}static getInstance(){}}}var uG=cG("TextBox"),El={_getDefaultOptions:function(){return q(this.callBase(),{searchMode:"",searchExpr:null,searchValue:"",searchEnabled:!1,searchEditorOptions:{}})},_initMarkup:function(){this._renderSearch(),this.callBase()},_renderSearch:function(){let i=this.$element(),e=this.option("searchEnabled"),t=this._addWidgetPrefix("search"),n=this._addWidgetPrefix("with-search");if(!e){i.removeClass(n),this._removeSearchBox();return}let o=this._getSearchEditorOptions();this._searchEditor?this._searchEditor.option(o):(i.addClass(n),this._$searchEditorElement=I("<div>").addClass(t).prependTo(i),this._searchEditor=this._createComponent(this._$searchEditorElement,uG,o))},_removeSearchBox:function(){this._$searchEditorElement&&this._$searchEditorElement.remove(),delete this._$searchEditorElement,delete this._searchEditor},_getSearchEditorOptions:function(){let i=this,e=i.option("searchEditorOptions"),t=de.format("Search");return q({mode:"search",placeholder:t,tabIndex:i.option("tabIndex"),value:i.option("searchValue"),valueChangeEvent:"input",inputAttr:{"aria-label":t},onValueChanged:function(n){let o=i.option("searchTimeout");i._valueChangeDeferred=new le,clearTimeout(i._valueChangeTimeout),i._valueChangeDeferred.done((function(){this.option("searchValue",n.value)}).bind(i)),n.event&&n.event.type==="input"&&o?i._valueChangeTimeout=setTimeout(function(){i._valueChangeDeferred.resolve()},o):i._valueChangeDeferred.resolve()}},e)},_getAriaTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.callBase()},_focusTarget:function(){return this.option("searchEnabled")?this._itemContainer(!0):this.callBase()},_updateFocusState:function(i,e){this.option("searchEnabled")&&this._toggleFocusClass(e,this.$element()),this.callBase(i,e)},getOperationBySearchMode:function(i){return i==="equals"?"=":i},_optionChanged:function(i){switch(i.name){case"searchEnabled":case"searchEditorOptions":this._invalidate();break;case"searchExpr":case"searchMode":case"searchValue":if(!this._dataSource){bt.log("W1009");return}i.name==="searchMode"?this._dataSource.searchOperation(this.getOperationBySearchMode(i.value)):this._dataSource[i.name](i.value),this._dataSource.load();break;case"searchTimeout":break;default:this.callBase(i)}},focus:function(){if(!this.option("focusedElement")&&this.option("searchEnabled")){this._searchEditor&&this._searchEditor.focus();return}this.callBase()},_cleanAria:function(){let i=this.$element();this.setAria({role:null,activedescendant:null},i),i.attr("tabIndex",null)},_clean(){this.callBase(),this._cleanAria()},_refresh:function(){this._valueChangeDeferred&&this._valueChangeDeferred.resolve(),this.callBase()},setEditorClass:function(i){uG=i}};var _E="dxswipestart",bE="dxswipe",Og="dxswipeend",lwe={defaultItemSizeFunc:function(){return Qe(this.getElement())},getBounds:function(){return[this._maxLeftOffset,this._maxRightOffset]},calcOffsetRatio:function(i){return(On(i).x-(this._savedEventData&&this._savedEventData.x||0))/this._itemSizeFunc().call(this,i)},isFastSwipe:function(i){let e=On(i);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(e.x-this._tickData.x)>=e.time-this._tickData.time}},dwe={defaultItemSizeFunc:function(){return ft(this.getElement())},getBounds:function(){return[this._maxTopOffset,this._maxBottomOffset]},calcOffsetRatio:function(i){return(On(i).y-(this._savedEventData&&this._savedEventData.y||0))/this._itemSizeFunc().call(this,i)},isFastSwipe:function(i){let e=On(i);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(e.y-this._tickData.y)>=e.time-this._tickData.time}},cwe={horizontal:lwe,vertical:dwe},uwe=Jm.inherit({TICK_INTERVAL:300,FAST_SWIPE_SPEED_LIMIT:10,ctor:function(i){this.callBase(i),this.direction="horizontal",this.elastic=!0},_getStrategy:function(){return cwe[this.direction]},_defaultItemSizeFunc:function(){return this._getStrategy().defaultItemSizeFunc.call(this)},_itemSizeFunc:function(){return this.itemSizeFunc||this._defaultItemSizeFunc},_init:function(i){this._tickData=On(i)},_start:function(i){this._savedEventData=On(i),i=this._fireEvent("dxswipestart",i),i.cancel||(this._maxLeftOffset=i.maxLeftOffset,this._maxRightOffset=i.maxRightOffset,this._maxTopOffset=i.maxTopOffset,this._maxBottomOffset=i.maxBottomOffset)},_move:function(i){let e=this._getStrategy(),t=On(i),n=e.calcOffsetRatio.call(this,i);n=this._fitOffset(n,this.elastic),t.time-this._tickData.time>this.TICK_INTERVAL&&(this._tickData=t),this._fireEvent("dxswipe",i,{offset:n}),i.cancelable!==!1&&i.preventDefault()},_end:function(i){let e=this._getStrategy(),t=e.calcOffsetRatio.call(this,i),n=e.isFastSwipe.call(this,i),o=t,r=this._calcTargetOffset(t,n);o=this._fitOffset(o,this.elastic),r=this._fitOffset(r,!1),this._fireEvent("dxswipeend",i,{offset:o,targetOffset:r})},_fitOffset:function(i,e){let n=this._getStrategy().getBounds.call(this);return i<-n[0]?e?(-2*n[0]+i)/3:-n[0]:i>n[1]?e?(2*n[1]+i)/3:n[1]:i},_calcTargetOffset:function(i,e){let t;return e?(t=Math.ceil(Math.abs(i)),i<0&&(t=-t)):t=Math.round(i),t}});La({emitter:uwe,events:["dxswipestart","dxswipe","dxswipeend"]});function vE(i){return i?Number(i.replace("px","")):0}function hwe(i){var e,t;return i&&it()?(e=(t=et()).getComputedStyle)===null||e===void 0?void 0:e.call(t,i):null}function hG(i,e){let t=hwe(i);return t?vE(t[`margin${oh(e)}`]):0}var d2="dxScrollbar";var pwe="dx-scrollbar-hoverable",pG="horizontal";var Zc={onScroll:"onScroll",onHover:"onHover",always:"always",never:"never"},Ig=null,fwe=Tn.inherit({_getDefaultOptions(){return q(this.callBase(),{direction:null,visible:!1,activeStateEnabled:!1,visibilityMode:Zc.onScroll,containerSize:0,contentSize:0,expandable:!0,scaleRatio:1})},_init(){this.callBase(),this._isHovered=!1},_initMarkup(){this._renderThumb(),this.callBase()},_render(){this.callBase(),this._renderDirection(),this._update(),this._attachPointerDownHandler(),this.option("hoverStateEnabled",this._isHoverMode()),this.$element().toggleClass(pwe,this.option("hoverStateEnabled"))},_renderThumb(){this._$thumb=I("<div>").addClass("dx-scrollable-scroll"),I("<div>").addClass("dx-scrollable-scroll-content").appendTo(this._$thumb),this.$element().addClass("dx-scrollable-scrollbar").append(this._$thumb)},isThumb(i){return!!this.$element().find(i).length},_isHoverMode(){let i=this.option("visibilityMode");return(i===Zc.onHover||i===Zc.always)&&this.option("expandable")},_renderDirection(){let i=this.option("direction");this.$element().addClass(`dx-scrollbar-${i}`),this._dimension=i===pG?"width":"height",this._prop=i===pG?"left":"top"},_attachPointerDownHandler(){X.on(this._$thumb,Se(Mt.down,d2),this.feedbackOn.bind(this))},feedbackOn(i){i?.preventDefault(),this.$element().addClass("dx-scrollable-scrollbar-active"),Ig=this},feedbackOff(){this.$element().removeClass("dx-scrollable-scrollbar-active"),Ig=null},cursorEnter(){this._isHovered=!0,this._needScrollbar()&&this.option("visible",!0)},cursorLeave(){this._isHovered=!1,this.option("visible",!1)},_renderDimensions(){this._$thumb.css({width:this.option("width"),height:this.option("height")})},_toggleVisibility(i){this.option("visibilityMode")===Zc.onScroll&&this._$thumb.css("opacity"),i=this._adjustVisibility(i),this.option().visible=i,this._$thumb.toggleClass("dx-state-invisible",!i)},_adjustVisibility(i){if(this._baseContainerToContentRatio&&!this._needScrollbar())return!1;switch(this.option("visibilityMode")){case Zc.onScroll:break;case Zc.onHover:i=i||!!this._isHovered;break;case Zc.never:i=!1;break;case Zc.always:i=!0}return i},moveTo(i){if(this._isHidden())return;ht(i)&&(i=i[this._prop]||0);let e={};e[this._prop]=this._calculateScrollBarPosition(i),In(this._$thumb,e)},_calculateScrollBarPosition(i){return-i*this._thumbRatio},_update(){let i=Math.round(this.option("containerSize")),e=Math.round(this.option("contentSize")),t=Math.round(this.option("baseContainerSize")),n=Math.round(this.option("baseContentSize"));isNaN(t)&&(t=i,n=e),this._baseContainerToContentRatio=n?t/n:t,this._realContainerToContentRatio=e?i/e:i;let o=Math.round(Math.max(Math.round(i*this._realContainerToContentRatio),15));this._thumbRatio=(i-o)/(this.option("scaleRatio")*(e-i)),this.option(this._dimension,o/this.option("scaleRatio")),this.$element().css("display",this._needScrollbar()?"":"none")},_isHidden(){return this.option("visibilityMode")===Zc.never},_needScrollbar(){return!this._isHidden()&&this._baseContainerToContentRatio<1},containerToContentRatio(){return this._realContainerToContentRatio},_normalizeSize(i){return ht(i)?i[this._dimension]||0:i},_clean(){this.callBase(),this===Ig&&(Ig=null),X.off(this._$thumb,`.${d2}`)},_optionChanged(i){if(!this._isHidden())switch(i.name){case"containerSize":case"contentSize":this.option()[i.name]=this._normalizeSize(i.value),this._update();break;case"baseContentSize":case"baseContainerSize":case"scaleRatio":this._update();break;case"visibilityMode":case"direction":this._invalidate();break;default:this.callBase.apply(this,arguments)}},update:sd(function(){this._adjustVisibility()&&this.option("visible",!0)})});Do.add(()=>{X.subscribeGlobal(be.getDocument(),Se(Mt.up,d2),()=>{Ig&&Ig.feedbackOff()})});var yE=fwe;var fG="dxNativeScrollable";var mwe="dx-scrollable-scrollbar-simulated",gwe="dx-scrollable-scrollbars-hidden",wv="vertical",xE="horizontal";var _we=Ut.inherit({ctor(i){this._init(i)},_init(i){this._component=i,this._$element=i.$element(),this._$container=I(i.container()),this._$content=i.$content(),this._direction=i.option("direction"),this._useSimulatedScrollbar=i.option("useSimulatedScrollbar"),this.option=i.option.bind(i),this._createActionByOption=i._createActionByOption.bind(i),this._isLocked=i._isLocked.bind(i),this._isDirection=i._isDirection.bind(i),this._allowedDirection=i._allowedDirection.bind(i),this._getMaxOffset=i._getMaxOffset.bind(i),this._isRtlNativeStrategy=i._isRtlNativeStrategy.bind(i)},render(){let e=Ve.real().platform;this._$element.addClass("dx-scrollable-native").addClass(`dx-scrollable-native-${e}`).toggleClass(gwe,!this._isScrollbarVisible()),this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._renderScrollbars()},updateRtlPosition(i){i&&this.option("rtlEnabled")&&this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._moveScrollbars()},_renderScrollbars(){this._scrollbars={},this._hideScrollbarTimeout=0,this._$element.addClass(mwe),this._renderScrollbar(wv),this._renderScrollbar(xE)},_renderScrollbar(i){this._isDirection(i)&&(this._scrollbars[i]=new yE(I("<div>").appendTo(this._$element),{direction:i,expandable:this._component.option("scrollByThumb")}))},handleInit:pe,handleStart:pe,handleMove(i){if(this._isLocked()){i.cancel=!0;return}this._allowedDirection()&&(i.originalEvent.isScrollingEvent=!0)},handleEnd:pe,handleCancel:pe,handleStop:pe,_eachScrollbar(i){i=i.bind(this),ee(this._scrollbars||{},(e,t)=>{i(t,e)})},createActions(){this._scrollAction=this._createActionByOption("onScroll"),this._updateAction=this._createActionByOption("onUpdated")},_createActionArgs(){let{left:i,top:e}=this.location();return{event:this._eventForUserAction,scrollOffset:this._getScrollOffset(),reachedLeft:this._isRtlNativeStrategy()?this._isReachedRight(-i):this._isReachedLeft(i),reachedRight:this._isRtlNativeStrategy()?this._isReachedLeft(-Math.abs(i)):this._isReachedRight(i),reachedTop:this._isDirection(wv)?Math.round(e)>=0:void 0,reachedBottom:this._isDirection(wv)?Math.round(Math.abs(e)-this._getMaxOffset().top)>=0:void 0}},_getScrollOffset(){let{top:i,left:e}=this.location();return{top:-i,left:this._normalizeOffsetLeft(-e)}},_normalizeOffsetLeft(i){return this._isRtlNativeStrategy()?this._getMaxOffset().left+i:i},_isReachedLeft(i){return this._isDirection(xE)?Math.round(i)>=0:void 0},_isReachedRight(i){return this._isDirection(xE)?Math.round(Math.abs(i)-this._getMaxOffset().left)>=0:void 0},_isScrollbarVisible(){let{showScrollbar:i}=this.option();return i!=="never"&&i!==!1},handleScroll(i){this._eventForUserAction=i,this._moveScrollbars(),this._scrollAction(this._createActionArgs())},_moveScrollbars(){let{top:i,left:e}=this._getScrollOffset();this._eachScrollbar(t=>{t.moveTo({top:-i,left:-e}),t.option("visible",!0)}),this._hideScrollbars()},_hideScrollbars(){clearTimeout(this._hideScrollbarTimeout),this._hideScrollbarTimeout=setTimeout(()=>{this._eachScrollbar(i=>{i.option("visible",!1)})},500)},location(){return{left:-this._$container.scrollLeft(),top:-this._$container.scrollTop()}},disabledChanged:pe,update(){this._update(),this._updateAction(this._createActionArgs())},_update(){this._updateDimensions(),this._updateScrollbars()},_updateDimensions(){this._containerSize={height:ft(this._$container),width:Qe(this._$container)},this._componentContentSize={height:ft(this._component.$content()),width:Qe(this._component.$content())},this._contentSize={height:ft(this._$content),width:Qe(this._$content)}},_updateScrollbars(){this._eachScrollbar(function(i,e){let t=e===wv?"height":"width";i.option({containerSize:this._containerSize[t],contentSize:this._componentContentSize[t]}),i.update()})},_allowedDirections(){return{vertical:this._isDirection(wv)&&this._contentSize.height>this._containerSize.height,horizontal:this._isDirection(xE)&&this._contentSize.width>this._containerSize.width}},dispose(){let{className:i}=this._$element.get(0),e=new RegExp("dx-scrollable-native\\S*","g");e.test(i)&&this._$element.removeClass(i.match(e).join(" ")),X.off(this._$element,`.${fG}`),X.off(this._$container,`.${fG}`),this._removeScrollbars(),clearTimeout(this._hideScrollbarTimeout)},_removeScrollbars(){this._eachScrollbar(i=>{i.$element().remove()})},scrollBy(i){let e=this.location();this._$container.scrollTop(Math.round(-e.top-i.top)),this._$container.scrollLeft(Math.round(-e.left-i.left))},validate(i){return this.option("disabled")||sr(i)&&this._isScrolledInMaxDirection(i)?!1:!!this._allowedDirection()},_isScrolledInMaxDirection(i){let e=this._$container.get(0),t;return i.delta>0?t=i.shiftKey?!e.scrollLeft:!e.scrollTop:i.shiftKey?t=e.scrollLeft>=this._getMaxOffset().left:t=e.scrollTop>=this._getMaxOffset().top,t},getDirection(){return this._allowedDirection()}}),Dg=_we;var bwe=Dg.inherit({_init(i){this.callBase(i),this._$topPocket=i._$topPocket,this._$pullDown=i._$pullDown,this._$refreshingText=i._$refreshingText,this._$scrollViewContent=I(i.content()),this._$container=I(i.container()),this._initCallbacks()},_initCallbacks(){this.pullDownCallbacks=Gt(),this.releaseCallbacks=Gt(),this.reachBottomCallbacks=Gt()},render(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown(){let i=I("<div>").addClass("dx-scrollview-pull-down-image"),e=I("<div>").addClass("dx-scrollview-pull-down-indicator"),t=new qo(I("<div>")).$element(),n=this._$pullDownText=I("<div>").addClass("dx-scrollview-pull-down-text");this._$pullingDownText=I("<div>").text(this.option("pullingDownText")).appendTo(n),this._$pulledDownText=I("<div>").text(this.option("pulledDownText")).appendTo(n),this._$refreshingText=I("<div>").text(this.option("refreshingText")).appendTo(n),this._$pullDown.empty().append(i).append(e.append(t)).append(n)},_releaseState(){this._state=0,this._refreshPullDownText()},_refreshPullDownText(){let i=this,e=[{element:this._$pullingDownText,visibleState:0},{element:this._$pulledDownText,visibleState:1},{element:this._$refreshingText,visibleState:2}];ee(e,(t,n)=>{let o=i._state===n.visibleState?"addClass":"removeClass";n.element[o]("dx-scrollview-pull-down-text-visible")})},update(){this.callBase(),this._setTopPocketOffset()},_updateDimensions(){this.callBase(),this._topPocketSize=this._$topPocket.get(0).clientHeight;let i=this._$scrollViewContent.get(0),e=this._$container.get(0);this._bottomBoundary=Math.max(i.clientHeight-e.clientHeight,0)},_allowedDirections(){let i=this.callBase();return i.vertical=i.vertical||this._pullDownEnabled,i},_setTopPocketOffset(){this._$topPocket.css({top:-this._topPocketSize})},handleEnd(){this.callBase(),this._complete()},handleStop(){this.callBase(),this._complete()},_complete(){this._state===1&&(this._setPullDownOffset(this._topPocketSize),clearTimeout(this._pullDownRefreshTimeout),this._pullDownRefreshTimeout=setTimeout(()=>{this._pullDownRefreshing()},400))},_setPullDownOffset(i){In(this._$topPocket,{top:i}),In(this._$scrollViewContent,{top:i})},handleScroll(i){if(this.callBase(i),this._state===2)return;let e=this.location().top,t=(this._location||0)-e;this._location=e,this._isPullDown()?this._pullDownReady():t>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()},_isPullDown(){return this._pullDownEnabled&&this._location>=this._topPocketSize},_isReachBottom(){return this._reachBottomEnabled&&Math.round(this._bottomBoundary+Math.floor(this._location))<=1},_reachBottom(){this._state!==3&&(this._state=3,this.reachBottomCallbacks.fire())},_pullDownReady(){this._state!==1&&(this._state=1,this._$pullDown.addClass("dx-scrollview-pull-down-ready"),this._refreshPullDownText())},_stateReleased(){this._state!==0&&(this._$pullDown.removeClass("dx-scrollview-pull-down-loading").removeClass("dx-scrollview-pull-down-ready"),this._releaseState())},_pullDownRefreshing(){this._state!==2&&(this._state=2,this._$pullDown.addClass("dx-scrollview-pull-down-loading").removeClass("dx-scrollview-pull-down-ready"),this._refreshPullDownText(),this.pullDownCallbacks.fire())},pullDownEnable(i){i&&(this._updateDimensions(),this._setTopPocketOffset()),this._pullDownEnabled=i},reachBottomEnable(i){this._reachBottomEnabled=i},pendingRelease(){this._state=1},release(){let i=le();return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._state===3&&(this._state=0),this._releaseTimeout=setTimeout(()=>{this._setPullDownOffset(0),this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),i.resolve()},400),i.promise()},dispose(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}}),mG=bwe;var vwe=Dg.inherit({_init(i){this.callBase(i),this._$topPocket=i._$topPocket,this._$pullDown=i._$pullDown,this._$scrollViewContent=I(i.content()),this._$container=I(i.container()),this._initCallbacks(),this._location=0},_initCallbacks(){this.pullDownCallbacks=Gt(),this.releaseCallbacks=Gt(),this.reachBottomCallbacks=Gt()},render(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown(){let i=I("<div>").addClass("dx-scrollview-pull-down-indicator"),e=new qo(I("<div>")).$element();this._$icon=I("<div>").addClass("dx-icon-pulldown"),this._$pullDown.empty().append(this._$icon).append(i.append(e))},_releaseState(){this._state=0,this._releasePullDown(),this._updateDimensions()},_releasePullDown(){this._$pullDown.css({opacity:0})},_updateDimensions(){this.callBase(),this._topPocketSize=this._$topPocket.get(0).clientHeight;let i=this._$scrollViewContent.get(0),e=this._$container.get(0);this._bottomBoundary=Math.max(i.clientHeight-e.clientHeight,0)},_allowedDirections(){let i=this.callBase();return i.vertical=i.vertical||this._pullDownEnabled,i},handleInit(i){this.callBase(i),this._state===0&&this._location===0&&(this._startClientY=On(i.originalEvent).y,this._state=4)},handleMove(i){this.callBase(i),this._deltaY=On(i.originalEvent).y-this._startClientY,this._state===4&&(this._pullDownEnabled&&this._deltaY>0?this._state=5:this._complete()),this._state===5&&(i.preventDefault(),this._movePullDown())},_movePullDown(){let i=this._getPullDownHeight(),e=Math.min(3*i,this._deltaY+this._getPullDownStartPosition()),t=180*e/i/3;this._$pullDown.css({opacity:1}).toggleClass("dx-scrollview-pull-down-refreshing",e<i),In(this._$pullDown,{top:e}),this._$icon.css({transform:`rotate(${t}deg)`})},_isPullDown(){return this._pullDownEnabled&&this._state===5&&this._deltaY>=this._getPullDownHeight()-this._getPullDownStartPosition()},_getPullDownHeight(){return Math.round(.05*Ct(this._$element))},_getPullDownStartPosition(){return-Math.round(1.5*Ct(this._$pullDown))},handleEnd(){this._isPullDown()&&this._pullDownRefreshing(),this._complete()},handleStop(){this._complete()},_complete(){(this._state===4||this._state===5)&&this._releaseState()},handleScroll(i){if(this.callBase(i),this._state===2)return;let e=this.location().top,t=this._location-e;this._location=e,t>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()},_isReachBottom(){return this._reachBottomEnabled&&Math.round(this._bottomBoundary+Math.floor(this._location))<=1},_reachBottom(){this.reachBottomCallbacks.fire()},_stateReleased(){this._state!==0&&(this._$pullDown.removeClass("dx-scrollview-pull-down-loading"),this._releaseState())},_pullDownRefreshing(){this._state=2,this._pullDownRefreshHandler()},_pullDownRefreshHandler(){this._refreshPullDown(),this.pullDownCallbacks.fire()},_refreshPullDown(){this._$pullDown.addClass("dx-scrollview-pull-down-loading"),In(this._$pullDown,{top:this._getPullDownHeight()})},pullDownEnable(i){this._$topPocket.toggle(i),this._pullDownEnabled=i},reachBottomEnable(i){this._reachBottomEnabled=i},pendingRelease(){this._state=1},release(){let i=le();return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._releaseTimeout=setTimeout(()=>{this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),i.resolve()},800),i.promise()},dispose(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}}),gG=vwe;var{abstract:ywe}=Ut,xwe=Ut.inherit({ctor(){this._finished=!0,this._stopped=!1,this._proxiedStepCore=this._stepCore.bind(this)},start(){this._stopped=!1,this._finished=!1,this._stepCore()},stop(){this._stopped=!0,ta(this._stepAnimationFrame)},_stepCore(){if(this._isStopped()){this._stop();return}if(this._isFinished()){this._finished=!0,this._complete();return}this._step(),this._stepAnimationFrame=ch(this._proxiedStepCore)},_step:ywe,_isFinished:pe,_stop:pe,_complete:pe,_isStopped(){return this._stopped},inProgress(){return!(this._stopped||this._finished)}}),CE=xwe;var _G="dxSimulatedScrollable",Cwe="dxScrollableStrategy",wE=`${_G}Cursor`,c2=`${_G}Keyboard`;var wwe="dx-scrollable-scrollbars-alwaysvisible";var yd="vertical",kr="horizontal";var Swe=Math.round(1e3/60);var Ewe=400/Swe,Owe=(1-.92**Ewe)/(1-.92),Qc={PAGE_UP:"pageUp",PAGE_DOWN:"pageDown",END:"end",HOME:"home",LEFT:"leftArrow",UP:"upArrow",RIGHT:"rightArrow",DOWN:"downArrow",TAB:"tab"},bG=CE.inherit({ctor(i){this.callBase(),this.scroller=i},VELOCITY_LIMIT:1,_isFinished(){return Math.abs(this.scroller._velocity)<=this.VELOCITY_LIMIT},_step(){this.scroller._scrollStep(this.scroller._velocity),this.scroller._velocity*=this._acceleration()},_acceleration(){return this.scroller._inBounds()?.92:.5},_complete(){this.scroller._scrollComplete()}}),Iwe=bG.inherit({VELOCITY_LIMIT:.2,_isFinished(){return this.scroller._crossBoundOnNextStep()||this.callBase()},_acceleration:()=>.92,_complete(){this.scroller._move(this.scroller._bounceLocation),this.callBase()}}),u2=Ut.inherit({ctor(i){this._initOptions(i),this._initAnimators(),this._initScrollbar()},_initOptions(i){this._location=0,this._topReached=!1,this._bottomReached=!1,this._axis=i.direction===kr?"x":"y",this._prop=i.direction===kr?"left":"top",this._dimension=i.direction===kr?"width":"height",this._scrollProp=i.direction===kr?"scrollLeft":"scrollTop",ee(i,(e,t)=>{this[`_${e}`]=t})},_initAnimators(){this._inertiaAnimator=new bG(this),this._bounceAnimator=new Iwe(this)},_initScrollbar(){this._scrollbar=new yE(I("<div>").appendTo(this._$container),{direction:this._direction,visible:this._scrollByThumb,visibilityMode:this._visibilityModeNormalize(this._scrollbarVisible),expandable:this._scrollByThumb}),this._$scrollbar=this._scrollbar.$element()},_visibilityModeNormalize:i=>i===!0?"onScroll":i===!1?"never":i,_scrollStep(i){let e=this._location;this._location+=i,this._suppressBounce(),this._move(),!(Math.abs(e-this._location)<1)&&X.triggerHandler(this._$container,{type:"scroll"})},_suppressBounce(){this._bounceEnabled||this._inBounds(this._location)||(this._velocity=0,this._location=this._boundLocation())},_boundLocation(i){return i=i!==void 0?i:this._location,Math.max(Math.min(i,this._maxOffset),this._minOffset)},_move(i){this._location=i!==void 0?i*this._getScaleRatio():this._location,this._moveContent(),this._moveScrollbar()},_moveContent(){let i=this._location;this._$container[this._scrollProp](-i/this._getScaleRatio()),this._moveContentByTranslator(i)},_getScaleRatio(){if(it()&&!this._scaleRatio){let i=this._$element.get(0),e=this._getRealDimension(i,this._dimension),t=this._getBaseDimension(i,this._dimension);this._scaleRatio=Math.round(e/t*100)/100}return this._scaleRatio||1},_getRealDimension:(i,e)=>Math.round(un(i)[e]),_getBaseDimension(i,e){let t=`offset${oh(e)}`;return i[t]},_moveContentByTranslator(i){let e,t=-this._maxScrollPropValue;if(i>0?e=i:i<=t?e=i-t:e=i%1,this._translateOffset===e)return;let n={};if(n[this._prop]=e,this._translateOffset=e,e===0){hd(this._$content);return}In(this._$content,n)},_moveScrollbar(){this._scrollbar.moveTo(this._location)},_scrollComplete(){this._inBounds()&&(this._hideScrollbar(),this._completeDeferred&&this._completeDeferred.resolve()),this._scrollToBounds()},_scrollToBounds(){this._inBounds()||(this._bounceAction(),this._setupBounce(),this._bounceAnimator.start())},_setupBounce(){let e=(this._bounceLocation=this._boundLocation())-this._location;this._velocity=e/Owe},_inBounds(i){return i=i!==void 0?i:this._location,this._boundLocation(i)===i},_crossBoundOnNextStep(){let i=this._location,e=i+this._velocity;return i<this._minOffset&&e>=this._minOffset||i>this._maxOffset&&e<=this._maxOffset},_initHandler(i){this._stopScrolling(),this._prepareThumbScrolling(i)},_stopScrolling:sd(function(){this._hideScrollbar(),this._inertiaAnimator.stop(),this._bounceAnimator.stop()}),_prepareThumbScrolling(i){if(sr(i.originalEvent))return;let e=I(i.originalEvent.target),t=this._isScrollbar(e);t&&this._moveToMouseLocation(i),this._thumbScrolling=t||this._isThumb(e),this._crossThumbScrolling=!this._thumbScrolling&&this._isAnyThumbScrolling(e),this._thumbScrolling&&this._scrollbar.feedbackOn()},_isThumbScrollingHandler(i){return this._isThumb(i)},_moveToMouseLocation(i){let e=i[`page${this._axis.toUpperCase()}`]-this._$element.offset()[this._prop],t=this._location+e/this._containerToContentRatio()-ft(this._$container)/2;this._scrollStep(-Math.round(t))},_startHandler(){this._showScrollbar()},_moveHandler(i){this._crossThumbScrolling||(this._thumbScrolling&&(i[this._axis]=-Math.round(i[this._axis]/this._containerToContentRatio())),this._scrollBy(i))},_scrollBy(i){i=i[this._axis],this._inBounds()||(i*=.5),this._scrollStep(i)},_scrollByHandler(i){this._scrollBy(i),this._scrollComplete()},_containerToContentRatio(){return this._scrollbar.containerToContentRatio()},_endHandler(i){return this._completeDeferred=le(),this._velocity=i[this._axis],this._inertiaHandler(),this._resetThumbScrolling(),this._completeDeferred.promise()},_inertiaHandler(){this._suppressInertia(),this._inertiaAnimator.start()},_suppressInertia(){(!this._inertiaEnabled||this._thumbScrolling)&&(this._velocity=0)},_resetThumbScrolling(){this._thumbScrolling=!1,this._crossThumbScrolling=!1},_stopHandler(){this._thumbScrolling&&this._scrollComplete(),this._resetThumbScrolling(),this._scrollToBounds()},_disposeHandler(){this._stopScrolling(),this._$scrollbar.remove()},_updateHandler(){this._update(),this._moveToBounds()},_update(){return this._stopScrolling(),Go(()=>{this._resetScaleRatio(),this._updateLocation(),this._updateBounds(),this._updateScrollbar(),jn(()=>{this._moveScrollbar(),this._scrollbar.update()})})},_resetScaleRatio(){this._scaleRatio=null},_updateLocation(){this._location=(ar(this._$content)[this._prop]-this._$container[this._scrollProp]())*this._getScaleRatio()},_updateBounds(){this._maxOffset=this._getMaxOffset(),this._minOffset=this._getMinOffset()},_getMaxOffset:()=>0,_getMinOffset(){return this._maxScrollPropValue=Math.max(this._contentSize()-this._containerSize(),0),-this._maxScrollPropValue},_updateScrollbar:Jk(function(){let i=this._containerSize(),e=this._contentSize(),t=this._getBaseDimension(this._$container.get(0),this._dimension),n=this._getBaseDimension(this._$content.get(0),this._dimension);jn(()=>{this._scrollbar.option({containerSize:i,contentSize:e,baseContainerSize:t,baseContentSize:n,scaleRatio:this._getScaleRatio()})})}),_moveToBounds:sd(Jk(sd(function(){let i=this._boundLocation(),e=i!==this._location;this._location=i,this._move(),e&&this._scrollAction()}))),_createActionsHandler(i){this._scrollAction=i.scroll,this._bounceAction=i.bounce},_showScrollbar(){this._scrollbar.option("visible",!0)},_hideScrollbar(){this._scrollbar.option("visible",!1)},_containerSize(){return this._getRealDimension(this._$container.get(0),this._dimension)},_contentSize(){let i=this._$content.css(`overflow${this._axis.toUpperCase()}`)==="hidden",e=this._getRealDimension(this._$content.get(0),this._dimension);if(!i){let t=this._$content[0][`scroll${oh(this._dimension)}`]*this._getScaleRatio();e=Math.max(t,e)}return e},_validateEvent(i){let e=I(i.originalEvent.target);return this._isThumb(e)||this._isScrollbar(e)},_isThumb(i){return this._scrollByThumb&&this._scrollbar.isThumb(i)},_isScrollbar(i){return this._scrollByThumb&&i&&i.is(this._$scrollbar)},_reachedMin(){return Math.round(this._location-this._minOffset)<=0},_reachedMax(){return Math.round(this._location-this._maxOffset)>=0},_cursorEnterHandler(){this._resetScaleRatio(),this._updateScrollbar(),this._scrollbar.cursorEnter()},_cursorLeaveHandler(){this._scrollbar.cursorLeave()},dispose:pe}),Ol,Tg,SE=Ut.inherit({ctor(i){this._init(i)},_init(i){this._component=i,this._$element=i.$element(),this._$container=I(i.container()),this._$wrapper=i._$wrapper,this._$content=i.$content(),this.option=i.option.bind(i),this._createActionByOption=i._createActionByOption.bind(i),this._isLocked=i._isLocked.bind(i),this._isDirection=i._isDirection.bind(i),this._allowedDirection=i._allowedDirection.bind(i),this._getMaxOffset=i._getMaxOffset.bind(i)},render(){this._$element.addClass("dx-scrollable-simulated"),this._createScrollers(),this.option("useKeyboard")&&this._$container.prop("tabIndex",0),this._attachKeyboardHandler(),this._attachCursorHandlers()},_createScrollers(){this._scrollers={},this._isDirection(kr)&&this._createScroller(kr),this._isDirection(yd)&&this._createScroller(yd),this._$element.toggleClass(wwe,this.option("showScrollbar")==="always")},_createScroller(i){this._scrollers[i]=new u2(this._scrollerOptions(i))},_scrollerOptions(i){return{direction:i,$content:this._$content,$container:this._$container,$wrapper:this._$wrapper,$element:this._$element,scrollByThumb:this.option("scrollByThumb"),scrollbarVisible:this.option("showScrollbar"),bounceEnabled:this.option("bounceEnabled"),inertiaEnabled:this.option("inertiaEnabled"),isAnyThumbScrolling:this._isAnyThumbScrolling.bind(this)}},_applyScaleRatio(i){for(let e in this._scrollers){let t=this._getPropByDirection(e);if(U(i[t])){let n=this._scrollers[e];i[t]*=n._getScaleRatio()}}return i},_isAnyThumbScrolling(i){let e=!1;return this._eventHandler("isThumbScrolling",i).done((t,n)=>{e=t||n}),e},handleInit(i){this._suppressDirections(i),this._eventForUserAction=i,this._eventHandler("init",i)},_suppressDirections(i){if(sr(i.originalEvent)){this._prepareDirections(!0);return}this._prepareDirections(),this._eachScroller(function(e,t){let n=I(i.originalEvent.target),o=e._validateEvent(i)||this.option("scrollByContent")&&this._isContent(n);this._validDirections[t]=o})},_isContent(i){return!!i.closest(this._$element).length},_prepareDirections(i){i=i||!1,this._validDirections={},this._validDirections[kr]=i,this._validDirections[yd]=i},_eachScroller(i){i=i.bind(this),ee(this._scrollers,(e,t)=>{i(t,e)})},handleStart(i){this._eventForUserAction=i,this._eventHandler("start").done(this._startAction)},_saveActive(){Tg=this},_resetActive(){Tg===this&&(Tg=null)},handleMove(i){if(this._isLocked()){i.cancel=!0,this._resetActive();return}this._saveActive(),i.preventDefault&&i.preventDefault(),this._adjustDistance(i,i.delta),this._eventForUserAction=i,this._eventHandler("move",i.delta)},_adjustDistance(i,e){e.x*=this._validDirections[kr],e.y*=this._validDirections[yd];let t=this._tryGetDevicePixelRatio();t&&sr(i.originalEvent)&&(e.x=Math.round(e.x/t*100)/100,e.y=Math.round(e.y/t*100)/100)},_tryGetDevicePixelRatio(){if(it())return et().devicePixelRatio},handleEnd(i){return this._resetActive(),this._refreshCursorState(i.originalEvent&&i.originalEvent.target),this._adjustDistance(i,i.velocity),this._eventForUserAction=i,this._eventHandler("end",i.velocity).done(this._endAction)},handleCancel(i){return this._resetActive(),this._eventForUserAction=i,this._eventHandler("end",{x:0,y:0})},handleStop(){this._resetActive(),this._eventHandler("stop")},handleScroll(){this._updateRtlConfig(),this._scrollAction()},_attachKeyboardHandler(){X.off(this._$element,`.${c2}`),!this.option("disabled")&&this.option("useKeyboard")&&X.on(this._$element,Se("keydown",c2),this._keyDownHandler.bind(this))},_keyDownHandler(i){if(clearTimeout(this._updateHandlerTimeout),this._updateHandlerTimeout=setTimeout(()=>{Ti(i)===Qc.TAB&&this._eachScroller(t=>{t._updateHandler()})}),!this._$container.is(be.getActiveElement(this._$container.get(0))))return;let e=!0;switch(Ti(i)){case Qc.DOWN:this._scrollByLine({y:1});break;case Qc.UP:this._scrollByLine({y:-1});break;case Qc.RIGHT:this._scrollByLine({x:1});break;case Qc.LEFT:this._scrollByLine({x:-1});break;case Qc.PAGE_DOWN:this._scrollByPage(1);break;case Qc.PAGE_UP:this._scrollByPage(-1);break;case Qc.HOME:this._scrollToHome();break;case Qc.END:this._scrollToEnd();break;default:e=!1}e&&(i.stopPropagation(),i.preventDefault())},_scrollByLine(i){let e=this._tryGetDevicePixelRatio(),t=40;e&&(t=Math.abs(t/e*100)/100),this.scrollBy({top:(i.y||0)*-t,left:(i.x||0)*-t})},_scrollByPage(i){let e=this._wheelProp(),t=this._dimensionByProp(e),n={},o=t==="width"?Qe:ft;n[e]=i*-o(this._$container),this.scrollBy(n)},_dimensionByProp:i=>i==="left"?"width":"height",_getPropByDirection:i=>i===kr?"left":"top",_scrollToHome(){let i=this._wheelProp(),e={};e[i]=0,this._component.scrollTo(e)},_scrollToEnd(){let i=this._wheelProp(),e=this._dimensionByProp(i),t={},n=e==="width"?Qe:ft;t[i]=n(this._$content)-n(this._$container),this._component.scrollTo(t)},createActions(){this._startAction=this._createActionHandler("onStart"),this._endAction=this._createActionHandler("onEnd"),this._updateAction=this._createActionHandler("onUpdated"),this._createScrollerActions()},_createScrollerActions(){this._scrollAction=this._createActionHandler("onScroll"),this._bounceAction=this._createActionHandler("onBounce"),this._eventHandler("createActions",{scroll:this._scrollAction,bounce:this._bounceAction})},_createActionHandler(i){let e=this._createActionByOption(i);return()=>{e(q(this._createActionArgs(),arguments))}},_createActionArgs(){let{horizontal:i,vertical:e}=this._scrollers,t=this._getScrollOffset();return this._scrollOffset={top:e&&t.top,left:i&&t.left},{event:this._eventForUserAction,scrollOffset:this._scrollOffset,reachedLeft:i&&i._reachedMax(),reachedRight:i&&i._reachedMin(),reachedTop:e&&e._reachedMax(),reachedBottom:e&&e._reachedMin()}},_getScrollOffset(){return{top:-this.location().top,left:-this.location().left}},_eventHandler(i){let e=[].slice.call(arguments).slice(1),t=tn(this._scrollers,n=>n[`_${i}Handler`].apply(n,e));return Be.apply(I,t).promise()},location(){let i=ar(this._$content);return i.top-=this._$container.scrollTop(),i.left-=this._$container.scrollLeft(),i},disabledChanged(){this._attachCursorHandlers()},_attachCursorHandlers(){X.off(this._$element,`.${wE}`),!this.option("disabled")&&this._isHoverMode()&&(X.on(this._$element,Se("mouseenter",wE),this._cursorEnterHandler.bind(this)),X.on(this._$element,Se("mouseleave",wE),this._cursorLeaveHandler.bind(this)))},_isHoverMode(){return this.option("showScrollbar")==="onHover"},_cursorEnterHandler(i){i=i||{},i.originalEvent=i.originalEvent||{},!(Tg||i.originalEvent._hoverHandled)&&(Ol&&Ol._cursorLeaveHandler(),Ol=this,this._eventHandler("cursorEnter"),i.originalEvent._hoverHandled=!0)},_cursorLeaveHandler(i){Ol!==this||Tg===Ol||(this._eventHandler("cursorLeave"),Ol=null,this._refreshCursorState(i&&i.relatedTarget))},_refreshCursorState(i){if(!this._isHoverMode()&&(!i||Tg))return;let t=I(i).closest(".dx-scrollable-simulated:not(.dx-state-disabled)"),n=t.length&&t.data(Cwe);Ol&&Ol!==n&&Ol._cursorLeaveHandler(),n&&n._cursorEnterHandler()},update(){let i=this._eventHandler("update").done(this._updateAction);return Be(i,Go(()=>{let e=this._allowedDirections();return jn(()=>{let t=e.vertical?"pan-x":"";t=e.horizontal?"pan-y":t,t=e.vertical&&e.horizontal?"none":t,this._$container.css("touchAction",t)}),Be().promise()}))},_allowedDirections(){let i=this.option("bounceEnabled"),e=this._scrollers[yd],t=this._scrollers[kr];return{vertical:e&&(e._minOffset<0||i),horizontal:t&&(t._minOffset<0||i)}},_updateBounds(){this._scrollers[kr]&&this._scrollers[kr]._updateBounds()},_isHorizontalAndRtlEnabled(){return this.option("rtlEnabled")&&this.option("direction")!==yd},updateRtlPosition(i){if(i&&(this._rtlConfig={scrollRight:0,clientWidth:this._$container.get(0).clientWidth,windowPixelRatio:this._getWindowDevicePixelRatio()}),this._updateBounds(),this._isHorizontalAndRtlEnabled()){let e=this._getMaxOffset().left-this._rtlConfig.scrollRight;e<=0&&(e=0,this._rtlConfig.scrollRight=this._getMaxOffset().left),this._getScrollOffset().left!==e&&(this._rtlConfig.skipUpdating=!0,this._component.scrollTo({left:e}),this._rtlConfig.skipUpdating=!1)}},_updateRtlConfig(){if(this._isHorizontalAndRtlEnabled()&&!this._rtlConfig.skipUpdating){let{clientWidth:i,scrollLeft:e}=this._$container.get(0),t=this._getWindowDevicePixelRatio();this._rtlConfig.windowPixelRatio===t&&this._rtlConfig.clientWidth===i&&(this._rtlConfig.scrollRight=this._getMaxOffset().left-e),this._rtlConfig.clientWidth=i,this._rtlConfig.windowPixelRatio=t}},_getWindowDevicePixelRatio:()=>it()?et().devicePixelRatio:1,scrollBy(i){let e=this._scrollers[yd],t=this._scrollers[kr];e&&(i.top=e._boundLocation(i.top+e._location)-e._location),t&&(i.left=t._boundLocation(i.left+t._location)-t._location),this._prepareDirections(!0),this._startAction(),this._eventHandler("scrollBy",{x:i.left,y:i.top}),this._endAction(),this._updateRtlConfig()},validate(i){return sr(i)&&Dn(i)||this.option("disabled")?!1:this.option("bounceEnabled")?!0:sr(i)?this._validateWheel(i):this._validateMove(i)},_validateWheel(i){let e=this._scrollers[this._wheelDirection(i)],t=e._reachedMin(),n=e._reachedMax(),o=!t||!n,r=!t&&!n,s=t&&i.delta>0,a=n&&i.delta<0,l=o&&(r||s||a);return l=l||this._validateWheelTimer!==void 0,l&&(clearTimeout(this._validateWheelTimer),this._validateWheelTimer=setTimeout(()=>{this._validateWheelTimer=void 0},500)),l},_validateMove(i){return!this.option("scrollByContent")&&!I(i.target).closest(".dx-scrollable-scrollbar").length?!1:this._allowedDirection()},getDirection(i){return sr(i)?this._wheelDirection(i):this._allowedDirection()},_wheelProp(){return this._wheelDirection()===kr?"left":"top"},_wheelDirection(i){switch(this.option("direction")){case kr:return kr;case yd:return yd;default:return i&&i.shiftKey?kr:yd}},dispose(){this._resetActive(),Ol===this&&(Ol=null),this._eventHandler("dispose"),this._detachEventHandlers(),this._$element.removeClass("dx-scrollable-simulated"),this._eventForUserAction=null,clearTimeout(this._validateWheelTimer),clearTimeout(this._updateHandlerTimeout)},_detachEventHandlers(){X.off(this._$element,`.${wE}`),X.off(this._$container,`.${c2}`)}});var Dwe=Math;var Twe=u2.inherit({ctor(){this._topPocketSize=0,this._bottomPocketSize=0,this.callBase.apply(this,arguments),this._initCallbacks(),this._releaseState()},_releaseState(){this._state=0,this._refreshPullDownText()},_refreshPullDownText(){let i=this,e=[{element:this._$pullingDownText,visibleState:0},{element:this._$pulledDownText,visibleState:1},{element:this._$refreshingText,visibleState:2}];ee(e,(t,n)=>{let o=i._state===n.visibleState?"addClass":"removeClass";n.element[o]("dx-scrollview-pull-down-text-visible")})},_initCallbacks(){this.pullDownCallbacks=Gt(),this.releaseCallbacks=Gt(),this.reachBottomCallbacks=Gt()},_updateBounds(){if(this._direction!=="horizontal"){this._topPocketSize=this._$topPocket.get(0).clientHeight,this._bottomPocketSize=this._$bottomPocket.get(0).clientHeight;let e=this._$container.get(0),t=this._$content.get(0);this._bottomBoundary=Math.max(t.clientHeight-this._bottomPocketSize-e.clientHeight,0)}this.callBase()},_updateScrollbar(){this._scrollbar.option({containerSize:this._containerSize(),contentSize:this._contentSize()-this._topPocketSize-this._bottomPocketSize,scaleRatio:this._getScaleRatio()})},_moveContent(){this.callBase(),this._isPullDown()?this._pullDownReady():this._isReachBottom()?this._reachBottomReady():this._state!==0&&this._stateReleased()},_moveScrollbar(){this._scrollbar.moveTo(this._topPocketSize+this._location)},_isPullDown(){return this._pullDownEnabled&&this._location>=0},_isReachBottom(){let i=this._$container.get(0);return this._reachBottomEnabled&&Math.round(this._bottomBoundary-Math.ceil(i.scrollTop))<=1},_scrollComplete(){this._inBounds()&&this._state===1?this._pullDownRefreshing():this._inBounds()&&this._state===3?this._reachBottomLoading():this.callBase()},_reachBottomReady(){this._state!==3&&(this._state=3,this._minOffset=this._getMinOffset())},_getMaxOffset(){return-this._topPocketSize},_getMinOffset(){return Dwe.min(this.callBase(),-this._topPocketSize)},_reachBottomLoading(){this.reachBottomCallbacks.fire()},_pullDownReady(){this._state!==1&&(this._state=1,this._maxOffset=0,this._$pullDown.addClass("dx-scrollview-pull-down-ready"),this._refreshPullDownText())},_stateReleased(){this._state!==0&&(this._releaseState(),this._updateBounds(),this._$pullDown.removeClass("dx-scrollview-pull-down-loading").removeClass("dx-scrollview-pull-down-ready"),this.releaseCallbacks.fire())},_pullDownRefreshing(){this._state!==2&&(this._state=2,this._$pullDown.addClass("dx-scrollview-pull-down-loading").removeClass("dx-scrollview-pull-down-ready"),this._refreshPullDownText(),this.pullDownCallbacks.fire())},_releaseHandler(){return this._state===0&&this._moveToBounds(),this._update(),this._releaseTask&&this._releaseTask.abort(),this._releaseTask=Nm(this._release.bind(this)),this._releaseTask.promise},_release(){this._stateReleased(),this._scrollComplete()},_reachBottomEnablingHandler(i){this._reachBottomEnabled!==i&&(this._reachBottomEnabled=i,this._updateBounds())},_pullDownEnablingHandler(i){this._pullDownEnabled!==i&&(this._pullDownEnabled=i,this._considerTopPocketChange(),this._updateHandler())},_considerTopPocketChange(){this._location-=ft(this._$topPocket)||-this._topPocketSize,this._maxOffset=0,this._move()},_pendingReleaseHandler(){this._state=1},dispose(){this._releaseTask&&this._releaseTask.abort(),this.callBase()}}),Awe=SE.inherit({_init(i){this.callBase(i),this._$pullDown=i._$pullDown,this._$topPocket=i._$topPocket,this._$bottomPocket=i._$bottomPocket,this._initCallbacks()},_initCallbacks(){this.pullDownCallbacks=Gt(),this.releaseCallbacks=Gt(),this.reachBottomCallbacks=Gt()},render(){this._renderPullDown(),this.callBase()},_renderPullDown(){let i=I("<div>").addClass("dx-scrollview-pull-down-image"),e=I("<div>").addClass("dx-scrollview-pull-down-indicator"),t=new qo(I("<div>")).$element(),n=this._$pullDownText=I("<div>").addClass("dx-scrollview-pull-down-text");this._$pullingDownText=I("<div>").text(this.option("pullingDownText")).appendTo(n),this._$pulledDownText=I("<div>").text(this.option("pulledDownText")).appendTo(n),this._$refreshingText=I("<div>").text(this.option("refreshingText")).appendTo(n),this._$pullDown.empty().append(i).append(e.append(t)).append(n)},pullDownEnable(i){this._eventHandler("pullDownEnabling",i)},reachBottomEnable(i){this._eventHandler("reachBottomEnabling",i)},_createScroller(i){let e=this,t=e._scrollers[i]=new Twe(e._scrollerOptions(i));t.pullDownCallbacks.add(()=>{e.pullDownCallbacks.fire()}),t.releaseCallbacks.add(()=>{e.releaseCallbacks.fire()}),t.reachBottomCallbacks.add(()=>{e.reachBottomCallbacks.fire()})},_scrollerOptions(i){return q(this.callBase(i),{$topPocket:this._$topPocket,$bottomPocket:this._$bottomPocket,$pullDown:this._$pullDown,$pullDownText:this._$pullDownText,$pullingDownText:this._$pullingDownText,$pulledDownText:this._$pulledDownText,$refreshingText:this._$refreshingText})},pendingRelease(){this._eventHandler("pendingRelease")},release(){return this._eventHandler("release").done(this._updateAction)},location(){let i=this.callBase();return i.top+=ft(this._$topPocket),i},dispose(){ee(this._scrollers,function(){this.dispose()}),this.callBase()}}),vG=Awe;function EE(i,e){let t={left:0,top:0},n=e;for(;(o=n)!==null&&o!==void 0&&o.offsetParent&&!n.classList.contains(i);){var o;let r=n.offsetParent,s=n.getBoundingClientRect(),a=r.getBoundingClientRect();t.left+=s.left-a.left,t.top+=s.top-a.top,n=n.offsetParent}return t}var rf="vertical",OE="horizontal",IE="both";var DE="dx-scrollable-content";function yG(i,e,t,n,o){let r=ye({top:0,left:0,right:0,bottom:0},o),s=e===rf,a=s?"top":"left",l=s?"bottom":"right",d=s?"height":"width",c=t[`offset${oh(d)}`],u=t[`client${oh(d)}`],h=t.getBoundingClientRect()[d],f=i.getBoundingClientRect()[d],p=1;Math.abs(h-c)>1&&(p=h/c);let m=EE(DE,i)[a]/p,g=n[a],b=g-m+r[a],x=g-m-f/p+u-r[l];return b<=0&&x>=0?g:g-(Math.abs(b)>Math.abs(x)?x:b)}var TE=function(){return[{device:()=>!Aa,options:{useNative:!1}},{device:i=>!Ve.isSimulator()&&Ve.real().deviceType==="desktop"&&i.platform==="generic",options:{bounceEnabled:!1,scrollByThumb:!0,scrollByContent:Ta,showScrollbar:"onHover"}}]};var Cd="dxScrollable",kwe="dxScrollableStrategy";var xd="vertical",Jc="horizontal",h2="both",p2=Gr.inherit({_getDefaultOptions(){return q(this.callBase(),{disabled:!1,onScroll:null,direction:xd,showScrollbar:"onScroll",useNative:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,onUpdated:null,onStart:null,onEnd:null,onBounce:null,useSimulatedScrollbar:!1,useKeyboard:!0,inertiaEnabled:!0,updateManually:!1,_onVisibilityChanged:pe})},_defaultOptionsRules(){return this.callBase().concat(TE(),[{device:()=>Aa&&Ve.real().platform==="android"&&!gi.mozilla,options:{useSimulatedScrollbar:!0}}])},_initOptions(i){this.callBase(i),"useSimulatedScrollbar"in i||this._setUseSimulatedScrollbar()},_setUseSimulatedScrollbar(){this.initialOption("useSimulatedScrollbar")||this.option("useSimulatedScrollbar",!this.option("useNative"))},_init(){this.callBase(),this._initScrollableMarkup(),this._locked=!1},_visibilityChanged(i){i?(this.update(),this._updateRtlPosition(),this._savedScrollOffset&&this.scrollTo(this._savedScrollOffset),delete this._savedScrollOffset,this.option("_onVisibilityChanged")(this)):this._savedScrollOffset=this.scrollOffset()},_initScrollableMarkup(){let i=this.$element().addClass("dx-scrollable"),e=this._$container=I("<div>").addClass("dx-scrollable-container"),t=this._$wrapper=I("<div>").addClass("dx-scrollable-wrapper");(this._$content=I("<div>").addClass("dx-scrollable-content")).append(i.contents()).appendTo(e),e.appendTo(t),t.appendTo(i)},_dimensionChanged(){this.update(),this._updateRtlPosition()},_initMarkup(){this.callBase(),this._renderDirection()},_render(){this._renderStrategy(),this._attachEventHandlers(),this._renderDisabledState(),this._createActions(),this.update(),this.callBase(),this._updateRtlPosition(!0)},_updateRtlPosition(i){this._strategy.updateRtlPosition(i)},_getMaxOffset(){let{scrollWidth:i,clientWidth:e,scrollHeight:t,clientHeight:n}=I(this.container()).get(0);return{left:i-e,top:t-n}},_attachEventHandlers(){let i=this._strategy,e={getDirection:i.getDirection.bind(i),validate:this._validate.bind(this),isNative:this.option("useNative"),scrollTarget:this._$container};X.off(this._$wrapper,`.${Cd}`),X.on(this._$wrapper,Se(_s.init,Cd),e,this._initHandler.bind(this)),X.on(this._$wrapper,Se(_s.start,Cd),i.handleStart.bind(i)),X.on(this._$wrapper,Se(_s.move,Cd),i.handleMove.bind(i)),X.on(this._$wrapper,Se(_s.end,Cd),i.handleEnd.bind(i)),X.on(this._$wrapper,Se(_s.cancel,Cd),i.handleCancel.bind(i)),X.on(this._$wrapper,Se(_s.stop,Cd),i.handleStop.bind(i)),X.off(this._$container,`.${Cd}`),X.on(this._$container,Se("scroll",Cd),i.handleScroll.bind(i))},_validate(i){return this._isLocked()?!1:(this._updateIfNeed(),this._moveIsAllowed(i))},_moveIsAllowed(i){return this._strategy.validate(i)},handleMove(i){this._strategy.handleMove(i)},_prepareDirections(i){this._strategy._prepareDirections(i)},_initHandler(){let i=this._strategy;i.handleInit.apply(i,arguments)},_renderDisabledState(){this.$element().toggleClass("dx-scrollable-disabled",this.option("disabled")),this.option("disabled")?this._lock():this._unlock()},_renderDirection(){this.$element().removeClass(`dx-scrollable-${Jc}`).removeClass(`dx-scrollable-${xd}`).removeClass(`dx-scrollable-${h2}`).addClass(`dx-scrollable-${this.option("direction")}`)},_renderStrategy(){this._createStrategy(),this._strategy.render(),this.$element().data(kwe,this._strategy)},_createStrategy(){this._strategy=this.option("useNative")?new Dg(this):new SE(this)},_createActions(){this._strategy&&this._strategy.createActions()},_clean(){this._strategy&&this._strategy.dispose()},_optionChanged(i){switch(i.name){case"onStart":case"onEnd":case"onUpdated":case"onScroll":case"onBounce":this._createActions();break;case"direction":this._resetInactiveDirection(),this._invalidate();break;case"useNative":this._setUseSimulatedScrollbar(),this._invalidate();break;case"inertiaEnabled":case"scrollByThumb":case"bounceEnabled":case"useKeyboard":case"showScrollbar":case"useSimulatedScrollbar":this._invalidate();break;case"disabled":this._renderDisabledState(),this._strategy&&this._strategy.disabledChanged();break;case"updateManually":case"scrollByContent":case"_onVisibilityChanged":break;case"width":this.callBase(i),this._updateRtlPosition();break;default:this.callBase(i)}},_resetInactiveDirection(){let i=this._getInactiveProp();if(!i||!it())return;let e=this.scrollOffset();e[i]=0,this.scrollTo(e)},_getInactiveProp(){let i=this.option("direction");if(i===xd)return"left";if(i===Jc)return"top"},_location(){return this._strategy.location()},_normalizeLocation(i){if(ht(i)){let t=ji(i.left,i.x),n=ji(i.top,i.y);return{left:U(t)?-t:void 0,top:U(n)?-n:void 0}}let e=this.option("direction");return{left:e!==xd?-i:void 0,top:e!==Jc?-i:void 0}},_isLocked(){return this._locked},_lock(){this._locked=!0},_unlock(){this.option("disabled")||(this._locked=!1)},_isDirection(i){let e=this.option("direction");return i===xd?e!==Jc:i===Jc?e!==xd:e===i},_updateAllowedDirection(){let i=this._strategy._allowedDirections();this._isDirection(h2)&&i.vertical&&i.horizontal?this._allowedDirectionValue=h2:this._isDirection(Jc)&&i.horizontal?this._allowedDirectionValue=Jc:this._isDirection(xd)&&i.vertical?this._allowedDirectionValue=xd:this._allowedDirectionValue=null},_allowedDirection(){return this._allowedDirectionValue},$content(){return this._$content},content(){return tt(this._$content)},container(){return tt(this._$container)},scrollOffset(){return this._strategy._getScrollOffset()},_isRtlNativeStrategy(){let{useNative:i,rtlEnabled:e}=this.option();return i&&e},scrollTop(){return this.scrollOffset().top},scrollLeft(){return this.scrollOffset().left},clientHeight(){return ft(this._$container)},scrollHeight(){return Ct(this.$content())},clientWidth(){return Qe(this._$container)},scrollWidth(){return Ft(this.$content())},update(){if(this._strategy)return Be(this._strategy.update()).done(()=>{this._updateAllowedDirection()})},scrollBy(i){i=this._normalizeLocation(i),!(!i.top&&!i.left)&&(this._updateIfNeed(),this._strategy.scrollBy(i))},scrollTo(i){i=this._normalizeLocation(i),this._updateIfNeed();let e=this._location();this.option("useNative")||(i=this._strategy._applyScaleRatio(i),e=this._strategy._applyScaleRatio(e)),this._isRtlNativeStrategy()&&(e.left-=this._getMaxOffset().left);let t=this._normalizeLocation({left:e.left-ji(i.left,e.left),top:e.top-ji(i.top,e.top)});!t.top&&!t.left||this._strategy.scrollBy(t)},scrollToElement(i,e){let t=I(i),n=this.$content().find(i).length,o=t.parents(".dx-scrollable").length-t.parents(".dx-scrollable-content").length===0;if(!n||!o)return;let r={top:0,left:0},s=this.option("direction");s!==xd&&(r.left=this.getScrollElementPosition(t,Jc,e)),s!==Jc&&(r.top=this.getScrollElementPosition(t,xd,e)),this.scrollTo(r)},getScrollElementPosition(i,e,t){let n=this.scrollOffset();return yG(i.get(0),e,I(this.container()).get(0),n,t)},_updateIfNeed(){this.option("updateManually")||this.update()},_useTemplates:()=>!1,isRenovated:()=>!!p2.IS_RENOVATED_WIDGET});ut(Cd,p2);var Ag=p2;var Mwe="dx-scrollview-loadpanel",Rwe={pullDown:mG,swipeDown:gG,simulated:vG},Fwe=!it(),Pwe={finishLoading:pe,release:pe,refresh:pe,scrollOffset:()=>({top:0,left:0}),_optionChanged(i){if(i.name!=="onUpdated")return this.callBase.apply(this,arguments)}},xG=Ag.inherit(Fwe?Pwe:{_getDefaultOptions(){return q(this.callBase(),{pullingDownText:de.format("dxScrollView-pullingDownText"),pulledDownText:de.format("dxScrollView-pulledDownText"),refreshingText:de.format("dxScrollView-refreshingText"),reachBottomText:de.format("dxScrollView-reachBottomText"),onPullDown:null,onReachBottom:null,refreshStrategy:"pullDown"})},_defaultOptionsRules(){return this.callBase().concat([{device(){return Ve.real().platform==="android"},options:{refreshStrategy:"swipeDown"}},{device:()=>xo(),options:{pullingDownText:"",pulledDownText:"",refreshingText:"",reachBottomText:""}}])},_init(){this.callBase(),this._loadingIndicatorEnabled=!0},_initScrollableMarkup(){this.callBase(),this.$element().addClass("dx-scrollview"),this._initContent(),this._initTopPocket(),this._initBottomPocket(),this._initLoadPanel()},_initContent(){let i=I("<div>").addClass("dx-scrollview-content");this._$content.wrapInner(i)},_initTopPocket(){let i=this._$topPocket=I("<div>").addClass("dx-scrollview-top-pocket"),e=this._$pullDown=I("<div>").addClass("dx-scrollview-pull-down");i.append(e),this._$content.prepend(i)},_initBottomPocket(){let i=this._$bottomPocket=I("<div>").addClass("dx-scrollview-bottom-pocket"),e=this._$reachBottom=I("<div>").addClass("dx-scrollview-scrollbottom"),t=I("<div>").addClass("dx-scrollview-scrollbottom-indicator"),n=new qo(I("<div>")).$element(),o=this._$reachBottomText=I("<div>").addClass("dx-scrollview-scrollbottom-text");this._updateReachBottomText(),e.append(t.append(n)).append(o),i.append(e),this._$content.append(i)},_initLoadPanel(){let i=I("<div>").addClass(Mwe).appendTo(this.$element()),e={shading:!1,delay:400,message:this.option("refreshingText"),position:{of:this.$element()}};this._loadPanel=this._createComponent(i,ng,e)},_updateReachBottomText(){this._$reachBottomText.text(this.option("reachBottomText"))},_createStrategy(){let i=this.option("useNative")?this.option("refreshStrategy"):"simulated",e=Rwe[i];this._strategy=new e(this),this._strategy.pullDownCallbacks.add(this._pullDownHandler.bind(this)),this._strategy.releaseCallbacks.add(this._releaseHandler.bind(this)),this._strategy.reachBottomCallbacks.add(this._reachBottomHandler.bind(this))},_createActions(){this.callBase(),this._pullDownAction=this._createActionByOption("onPullDown"),this._reachBottomAction=this._createActionByOption("onReachBottom"),this._tryRefreshPocketState()},_tryRefreshPocketState(){this._pullDownEnable(this.hasActionSubscription("onPullDown")),this._reachBottomEnable(this.hasActionSubscription("onReachBottom"))},on(i){let e=this.callBase.apply(this,arguments);return(i==="pullDown"||i==="reachBottom")&&this._tryRefreshPocketState(),e},_pullDownEnable(i){if(arguments.length===0)return this._pullDownEnabled;this._$pullDown&&this._strategy&&(this._$pullDown.toggle(i),this._strategy.pullDownEnable(i),this._pullDownEnabled=i)},_reachBottomEnable(i){if(arguments.length===0)return this._reachBottomEnabled;this._$reachBottom&&this._strategy&&(this._$reachBottom.toggle(i),this._strategy.reachBottomEnable(i),this._reachBottomEnabled=i)},_pullDownHandler(){this._loadingIndicator(!1),this._pullDownLoading()},_loadingIndicator(i){if(arguments.length<1)return this._loadingIndicatorEnabled;this._loadingIndicatorEnabled=i},_pullDownLoading(){this.startLoading(),this._pullDownAction()},_reachBottomHandler(){this._loadingIndicator(!1),this._reachBottomLoading()},_reachBottomLoading(){this.startLoading(),this._reachBottomAction()},_releaseHandler(){this.finishLoading(),this._loadingIndicator(!0)},_optionChanged(i){switch(i.name){case"onPullDown":case"onReachBottom":this._createActions();break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"refreshStrategy":this._invalidate();break;case"reachBottomText":this._updateReachBottomText();break;default:this.callBase(i)}},content(){return tt(this._$content.children().eq(1))},release(i){return i!==void 0&&this.toggleLoading(!i),this._strategy.release()},toggleLoading(i){this._reachBottomEnable(i)},refresh(){this.hasActionSubscription("onPullDown")&&(this._strategy.pendingRelease(),this._pullDownLoading())},startLoading(){this._loadingIndicator()&&this.$element().is(":visible")&&this._loadPanel.show(),this._lock()},finishLoading(){this._loadPanel.hide(),this._unlock()},_dispose(){this._strategy.dispose(),this.callBase(),this._loadPanel&&this._loadPanel.$element().remove()}});ut("dxScrollView",xG);var CG=xG;var AE=CG;var Lwe=i=>Array.isArray(i)&&i.every(e=>{let t=Object.keys(e).length===2,n="key"in e&&"items"in e;return t&&n&&Array.isArray(e.items)}),kE={_getSpecificDataSourceOption(){let i=this.option("dataSource"),e=!1,t={};return this._getGroupedOption()&&Lwe(i)&&(t=i.reduce((n,o)=>{let r=o.items.map(s=>(Ke(s)||(s={text:s},e=!0),"key"in s||(s.key=o.key),s));return n.concat(r)},[]),i={store:{type:"array",data:t},group:{selector:"key",keepInitialKeyOrder:!0}},e&&(i.searchExpr="text")),i}};var Nwe=Ha.inherit({_renderWatchers(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this)),this._startWatcher("showChevron",this._renderShowChevron.bind(this))},_renderBadge(i){if(this._$element.children(".dx-list-item-badge-container").remove(),!i)return;let e=I("<div>").addClass("dx-list-item-badge-container").append(I("<div>").addClass("dx-list-item-badge").addClass("dx-badge").text(i)),t=this._$element.children(".dx-list-item-chevron-container").first();t.length>0?e.insertBefore(t):e.appendTo(this._$element)},_renderShowChevron(i){if(this._$element.children(".dx-list-item-chevron-container").remove(),!i)return;let e=I("<div>").addClass("dx-list-item-chevron-container"),t=I("<div>").addClass("dx-list-item-chevron");e.append(t).appendTo(this._$element)}}),wG=Nwe;var Bwe=".dx-list-item";var Vwe=".dx-list-select-all";var Hwe=Qt("items"),zwe,Sv=ug.inherit({_activeStateUnit:[Bwe,Vwe].join(","),_supportedKeys(){let i=this,e=function(n){let o=t(n);o.is(i.option("focusedElement"))&&(function(s,a){let l=s.position().top;a==="prev"&&(l=s.position().top-ft(i.$element())+Ct(s)),i.scrollTo(l)}(o,n),o=t(n)),i.option("focusedElement",tt(o)),i.scrollToItem(o)};function t(n){let o=i.scrollTop(),r=ft(i.$element()),s=I(i.option("focusedElement")),a=!0;if(!s.length)return I();for(;a;){let l=s[n]();if(!l.length)break;let d=l.position().top+Ct(l)/2;a=d<r+o&&d>o,a&&(s=l)}return s}return q(this.callBase(),{leftArrow:pe,rightArrow:pe,pageUp(){return e("prev"),!1},pageDown(){return e("next"),!1}})},_getDefaultOptions(){return q(this.callBase(),{hoverStateEnabled:!0,pullRefreshEnabled:!1,scrollingEnabled:!0,selectByClick:!0,showScrollbar:"onScroll",useNativeScrolling:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,pullingDownText:de.format("dxList-pullingDownText"),pulledDownText:de.format("dxList-pulledDownText"),refreshingText:de.format("dxList-refreshingText"),pageLoadingText:de.format("dxList-pageLoadingText"),onScroll:null,onPullRefresh:null,onPageLoading:null,pageLoadMode:"scrollBottom",nextButtonText:de.format("dxList-nextButtonText"),onItemSwipe:null,grouped:!1,onGroupRendered:null,collapsibleGroups:!1,groupTemplate:"group",indicateLoading:!0,activeStateEnabled:!0,_itemAttributes:{role:"option"},useInkRipple:!1,wrapItemText:!1,_swipeEnabled:!0,showChevronExpr:i=>i?i.showChevron:void 0,badgeExpr:i=>i?i.badge:void 0})},_defaultOptionsRules(){let i=oo();return this.callBase().concat(TE(),[{device:()=>!Aa,options:{useNativeScrolling:!1}},{device:e=>!Aa&&!Ve.isSimulator()&&Ve.real().deviceType==="desktop"&&e.platform==="generic",options:{showScrollbar:"onHover",pageLoadMode:"nextButton"}},{device:()=>Ve.real().deviceType==="desktop"&&!Ve.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>Kn(i),options:{useInkRipple:!0}},{device:()=>xo(i),options:{pullingDownText:"",pulledDownText:"",refreshingText:"",pageLoadingText:""}}])},_visibilityChanged(i){i&&this._updateLoadingState(!0)},_itemClass:()=>"dx-list-item",_itemDataKey:()=>"dxListItemData",_itemContainer(){return this._$container},_getItemsContainer(){return this._$listContainer},_cleanItemContainer(){this.callBase();let i=this._getItemsContainer();I(i).empty(),i.appendTo(this._$container)},_saveSelectionChangeEvent(i){this._selectionChangeEventInstance=i},_getSelectionChangeEvent(){return this._selectionChangeEventInstance},_refreshItemElements(){this.option("grouped")?this._itemElementsCache=this._getItemsContainer().children(".dx-list-group").children(".dx-list-group-body").children(this._itemSelector()):this._itemElementsCache=this._getItemsContainer().children(this._itemSelector())},_modifyByChanges(){this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)},reorderItem(i,e){return this.callBase(i,e).done(function(){this._refreshItemElements()})},deleteItem(i){return this.callBase(i).done(function(){this._refreshItemElements()})},_itemElements(){return this._itemElementsCache},_itemSelectHandler(i){if(!(this.option("selectionMode")==="single"&&this.isItemSelected(i.currentTarget)))return this.callBase(i)},_allowDynamicItemsAppend:()=>!0,_init(){this.callBase(),this._dataController.resetDataSourcePageIndex(),this._$container=this.$element(),this._$listContainer=I("<div>").addClass("dx-list-items"),this._initScrollView(),this._feedbackShowTimeout=70,this._createGroupRenderAction()},_scrollBottomMode(){return this.option("pageLoadMode")==="scrollBottom"},_nextButtonMode(){return this.option("pageLoadMode")==="nextButton"},_dataSourceOptions(){let i=this._scrollBottomMode(),e=this._nextButtonMode();return q(this.callBase(),{paginate:ji(i||e,!0)})},_getGroupedOption(){return this.option("grouped")},_getGroupContainerByIndex(i){return this._getItemsContainer().find(".dx-list-group").eq(i).find(".dx-list-group-body")},_dataSourceFromUrlLoadMode:()=>"raw",_initScrollView(){let i=this.option("scrollingEnabled"),e=i&&this.option("pullRefreshEnabled"),t=i&&this._scrollBottomMode()&&!!this._dataController.getDataSource();this._scrollView=this._createComponent(this.$element(),jwe(),{height:this.option("height"),width:this.option("width"),disabled:this.option("disabled")||!i,onScroll:this._scrollHandler.bind(this),onPullDown:e?this._pullDownHandler.bind(this):null,onReachBottom:t?this._scrollBottomHandler.bind(this):null,showScrollbar:this.option("showScrollbar"),useNative:this.option("useNativeScrolling"),bounceEnabled:this.option("bounceEnabled"),scrollByContent:this.option("scrollByContent"),scrollByThumb:this.option("scrollByThumb"),pullingDownText:this.option("pullingDownText"),pulledDownText:this.option("pulledDownText"),refreshingText:this.option("refreshingText"),reachBottomText:this.option("pageLoadingText"),useKeyboard:!1}),this._$container=I(this._scrollView.content()),this._$listContainer.appendTo(this._$container),this._toggleWrapItemText(this.option("wrapItemText")),this._createScrollViewActions()},_toggleWrapItemText(i){this._$listContainer.toggleClass("dx-wrap-item-text",i)},_createScrollViewActions(){this._scrollAction=this._createActionByOption("onScroll"),this._pullRefreshAction=this._createActionByOption("onPullRefresh"),this._pageLoadingAction=this._createActionByOption("onPageLoading")},_scrollHandler(i){this._scrollAction&&this._scrollAction(i)},_initTemplates(){this._templateManager.addDefaultTemplates({group:new Yr((i,e)=>{ht(e)?e.key&&i.text(e.key):i.text(String(e))},["key"],this.option("integrationOptions.watchMethod"))}),this.callBase()},_prepareDefaultItemTemplate(i,e){if(this.callBase(i,e),i.icon){let t=Xr(i.icon).addClass("dx-list-item-icon"),n=I("<div>").addClass("dx-list-item-icon-container");n.append(t),e.prepend(n)}},_getBindableFields:()=>["text","html","icon"],_updateLoadingState(i){let e=this._dataController,t=this._scrollBottomMode()&&i&&!e.isLoading()&&!this._isLastPage();this._shouldContinueLoading(t)?this._infiniteDataLoading():(this._scrollView.release(!t&&!e.isLoading()),this._toggleNextButton(this._shouldRenderNextButton()&&!this._isLastPage()),this._loadIndicationSuppressed(!1))},_shouldRenderNextButton(){return this._nextButtonMode()&&this._dataController.isLoaded()},_isDataSourceFirstLoadCompleted(i){return U(i)&&(this._isFirstLoadCompleted=i),this._isFirstLoadCompleted},_dataSourceLoadingChangedHandler(i){this._loadIndicationSuppressed()||(i&&this.option("indicateLoading")?this._showLoadingIndicatorTimer=setTimeout(()=>{if(!!this._itemElements().length||this._isDataSourceFirstLoadCompleted()){var n;(n=this._scrollView)===null||n===void 0||n.startLoading()}}):(clearTimeout(this._showLoadingIndicatorTimer),this._scrollView&&this._scrollView.finishLoading()),i||this._isDataSourceFirstLoadCompleted(!1))},_dataSourceChangedHandler(){!this._shouldAppendItems()&&it()&&this._scrollView&&this._scrollView.scrollTo(0),this.callBase.apply(this,arguments),this._isDataSourceFirstLoadCompleted(!0)},_refreshContent(){this._prepareContent(),this._fireContentReadyAction()},_hideLoadingIfLoadIndicationOff(){this.option("indicateLoading")||this._dataSourceLoadingChangedHandler(!1)},_loadIndicationSuppressed(i){if(!arguments.length)return this._isLoadIndicationSuppressed;this._isLoadIndicationSuppressed=i},_scrollViewIsFull(){let i=this._scrollView;return!i||ft(i.content())>ft(i.container())},_pullDownHandler(i){this._pullRefreshAction(i);let e=this._dataController;e.getDataSource()&&!e.isLoading()?(this._clearSelectedItems(),e.pageIndex(0),e.reload()):this._updateLoadingState()},_shouldContinueLoading(i){var e;let t=ft(this._scrollView.content())-ft(this._scrollView.container())<(((e=this._scrollView.scrollOffset())===null||e===void 0?void 0:e.top)??0);return i&&(!this._scrollViewIsFull()||t)},_infiniteDataLoading(){this.$element().is(":visible")&&(clearTimeout(this._loadNextPageTimer),this._loadNextPageTimer=setTimeout(()=>{this._loadNextPage()}))},_scrollBottomHandler(i){this._pageLoadingAction(i),!this._dataController.isLoading()&&!this._isLastPage()?this._loadNextPage():this._updateLoadingState()},_renderItems(i){this.option("grouped")?(ee(i,this._renderGroup.bind(this)),this._attachGroupCollapseEvent(),this._renderEmptyMessage(),Kn()&&this.attachGroupHeaderInkRippleEvents()):this.callBase.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)},_attachGroupCollapseEvent(){let i=Se(Kt,this.NAME),e=this.$element(),t=this.option("collapsibleGroups");e.toggleClass("dx-list-collapsible-groups",t),X.off(e,i,".dx-list-group-header"),t&&X.on(e,i,".dx-list-group-header",n=>{this._createAction(o=>{let r=I(o.event.currentTarget).parent();this._collapseGroupHandler(r),this.option("focusStateEnabled")&&this.option("focusedElement",tt(r.find(".dx-list-item").eq(0)))},{validatingTargetName:"element"})({event:n})})},_collapseGroupHandler(i,e){let t=le();if(i.hasClass("dx-list-group-collapsed")===e)return t.resolve();let n=i.children(".dx-list-group-body"),o=Ct(n),r=0;return o===0&&(Ia(n,"auto"),r=Ct(n)),i.toggleClass("dx-list-group-collapsed",e),hn.animate(n,{type:"custom",from:{height:o},to:{height:r},duration:200,complete:(function(){this.updateDimensions(),this._updateLoadingState(!0),t.resolve()}).bind(this)}),t.promise()},_dataSourceLoadErrorHandler(){this._forgetNextPageLoading(),this._initialized&&(this._renderEmptyMessage(),this._updateLoadingState())},_initMarkup(){this._itemElementsCache=I(),this.$element().addClass("dx-list"),this.callBase(),this.option("useInkRipple")&&this._renderInkRipple(),this.setAria({role:"group",roledescription:"list"},this.$element()),this.setAria({role:"application"},this._focusTarget()),this._setListAria()},_setListAria(){let{items:i,allowItemDeleting:e}=this.option(),t=e?de.format("dxList-listAriaLabel-deletable"):de.format("dxList-listAriaLabel"),n=i!=null&&i.length?{role:"listbox",label:t}:{role:void 0,label:void 0};this.setAria(n,this._$listContainer)},_focusTarget(){return this._itemContainer()},_renderInkRipple(){this._inkRipple=Cg()},_toggleActiveState(i,e,t){this.callBase.apply(this,arguments);let n=this;if(!this._inkRipple)return;let o={element:i,event:t};e?Kn()?this._inkRippleTimer=setTimeout(()=>{n._inkRipple.showWave(o)},35):n._inkRipple.showWave(o):(clearTimeout(this._inkRippleTimer),this._inkRipple.hideWave(o))},_postprocessRenderItem(i){this._refreshItemElements(),this.callBase.apply(this,arguments),this.option("_swipeEnabled")&&this._attachSwipeEvent(I(i.itemElement))},_attachSwipeEvent(i){let e=Se(Og,this.NAME);X.on(i,e,this._itemSwipeEndHandler.bind(this))},_itemSwipeEndHandler(i){this._itemDXEventHandler(i,"onItemSwipe",{direction:i.offset<0?"left":"right"})},_nextButtonHandler(i){this._pageLoadingAction(i);let e=this._dataController;e.getDataSource()&&!e.isLoading()&&(this._scrollView.toggleLoading(!0),this._$nextButton.detach(),this._loadIndicationSuppressed(!0),this._loadNextPage())},_renderGroup(i,e){let t=I("<div>").addClass("dx-list-group").appendTo(this._getItemsContainer()),n=`dx-${new yi().toString()}`,o={role:"group",labelledby:n};this.setAria(o,t);let r=I("<div>").addClass("dx-list-group-header").attr("id",n).appendTo(t),s=this.option("groupTemplate"),a=this._getTemplate(e.template||s,e,i,r),l={index:i,itemData:e,container:tt(r)};this._createItemByTemplate(a,l),I("<div>").addClass("dx-list-group-header-indicator").prependTo(r),this._renderingGroupIndex=i;let d=I("<div>").addClass("dx-list-group-body").appendTo(t);ee(Hwe(e)||[],(c,u)=>{this._renderItem({group:i,item:c},u,d)}),this._groupRenderAction({groupElement:tt(t),groupIndex:i,groupData:e})},downInkRippleHandler(i){this._toggleActiveState(I(i.currentTarget),!0,i)},upInkRippleHandler(i){this._toggleActiveState(I(i.currentTarget),!1)},attachGroupHeaderInkRippleEvents(){let i=this.$element();this._downInkRippleHandler=this._downInkRippleHandler||this.downInkRippleHandler.bind(this),this._upInkRippleHandler=this._upInkRippleHandler||this.upInkRippleHandler.bind(this);let e=[i,"dxpointerdown",".dx-list-group-header",this._downInkRippleHandler],t=[i,"dxpointerup dxpointerout",".dx-list-group-header",this._upInkRippleHandler];X.off(...e),X.on(...e),X.off(...t),X.on(...t)},_createGroupRenderAction(){this._groupRenderAction=this._createActionByOption("onGroupRendered")},_clean(){clearTimeout(this._inkRippleTimer),this._$nextButton&&(this._$nextButton.remove(),this._$nextButton=null),this.callBase.apply(this,arguments)},_dispose(){this._isDataSourceFirstLoadCompleted(!1),clearTimeout(this._holdTimer),clearTimeout(this._loadNextPageTimer),clearTimeout(this._showLoadingIndicatorTimer),this.callBase()},_toggleDisabledState(i){this.callBase(i),this._scrollView.option("disabled",i||!this.option("scrollingEnabled"))},_toggleNextButton(i){let e=this._dataController,t=this._getNextButton();this.$element().toggleClass("dx-has-next",i),i&&e.isLoaded()&&t.appendTo(this._itemContainer()),i||t.detach()},_getNextButton(){return this._$nextButton||(this._$nextButton=this._createNextButton()),this._$nextButton},_createNextButton(){let i=I("<div>").addClass("dx-list-next-button"),e=I("<div>").appendTo(i);return this._createComponent(e,Ln,{text:this.option("nextButtonText"),onClick:this._nextButtonHandler.bind(this),type:xo()?"default":void 0,integrationOptions:{}}),i},_moveFocus(){this.callBase.apply(this,arguments),this.scrollToItem(this.option("focusedElement"))},_refresh(){if(!it())this.callBase();else{let i=this._scrollView.scrollTop();this.callBase(),i&&this._scrollView.scrollTo(i)}},_optionChanged(i){switch(i.name){case"pageLoadMode":this._toggleNextButton(i.value),this._initScrollView();break;case"dataSource":this.callBase(i),this._initScrollView(),this._isDataSourceFirstLoadCompleted(!1);break;case"items":this.callBase(i),this._isDataSourceFirstLoadCompleted(!1);break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"pageLoadingText":case"showScrollbar":case"bounceEnabled":case"scrollByContent":case"scrollByThumb":case"useNativeScrolling":case"scrollingEnabled":case"pullRefreshEnabled":this._initScrollView(),this._updateLoadingState(!0);break;case"nextButtonText":case"onItemSwipe":case"useInkRipple":case"grouped":case"collapsibleGroups":case"groupTemplate":case"showChevronExpr":case"badgeExpr":this._invalidate();break;case"onScroll":case"onPullRefresh":case"onPageLoading":this._createScrollViewActions();break;case"wrapItemText":this._toggleWrapItemText(i.value);break;case"onGroupRendered":this._createGroupRenderAction();break;case"width":case"height":this.callBase(i),this._scrollView.option(i.name,i.value),this._scrollView.update();break;case"indicateLoading":this._hideLoadingIfLoadIndicationOff();break;case"visible":this.callBase(i),this._scrollView.update();break;case"rtlEnabled":this._initScrollView(),this.callBase(i);break;case"_swipeEnabled":case"selectByClick":break;default:this.callBase(i)}},_extendActionArgs(i){if(!this.option("grouped"))return this.callBase(i);let e=i.closest(".dx-list-group"),t=e.find(".dx-list-item");return q(this.callBase(i),{itemIndex:{group:e.index(),item:t.index(i)}})},expandGroup(i){let e=le(),t=this._getItemsContainer().find(".dx-list-group").eq(i);return this._collapseGroupHandler(t,!1).done(()=>{e.resolveWith(this)}),e.promise()},collapseGroup(i){let e=le(),t=this._getItemsContainer().find(".dx-list-group").eq(i);return this._collapseGroupHandler(t,!0).done(()=>{e.resolveWith(this)}),e},updateDimensions(){let i=this,e=le();return i._scrollView?i._scrollView.update().done(()=>{!i._scrollViewIsFull()&&i._updateLoadingState(!0),e.resolveWith(i)}):e.resolveWith(i),e.promise()},reload(){this.callBase(),this.scrollTo(0),this._pullDownHandler()},repaint(){this.scrollTo(0),this.callBase()},scrollTop(){return this._scrollView.scrollOffset().top},clientHeight(){return this._scrollView.clientHeight()},scrollHeight(){return this._scrollView.scrollHeight()},scrollBy(i){this._scrollView.scrollBy(i)},scrollTo(i){this._scrollView.scrollTo(i)},scrollToItem(i){let e=this._editStrategy.getItemElement(i),t=e?.get(0);this._scrollView.scrollToElement(t,{bottom:hG(t,"bottom")})},_dimensionChanged(){this.updateDimensions()}}).include(kE);Sv.ItemClass=wG;function jwe(){return zwe||AE}var f2={};function SG(i,e,t){let n=f2,o={};o[i]=n[i]?n[i]:{},o[i][e]=t,q(n,o)}var EG=[],ME=function(i,e,t){EG.push({enabled:i,decoratorType:e,decoratorSubType:t})};ME(function(){return this.option("menuItems").length},()=>"menu",function(){return this.option("menuMode")});ME(function(){return!this.option("menuItems").length&&this.option("allowItemDeleting")},function(){let i=this.option("itemDeleteMode");return i==="toggle"||i==="slideButton"||i==="swipe"||i==="static"?"delete":"menu"},function(){let i=this.option("itemDeleteMode");return i==="slideItem"&&(i="slide"),i});ME(function(){return this.option("selectionMode")!=="none"&&this.option("showSelectionControls")},()=>"selection",()=>"default");ME(function(){return this.option("itemDragging.allowReordering")||this.option("itemDragging.allowDropInsideItem")||this.option("itemDragging.group")},()=>"reorder",()=>"default");var $we=Ut.inherit({ctor(i){this._list=i,this._fetchRequiredDecorators()},dispose(){this._decorators&&this._decorators.length&&ee(this._decorators,(i,e)=>{e.dispose()})},_fetchRequiredDecorators(){this._decorators=[],ee(EG,(i,e)=>{if(e.enabled.call(this._list)){let n=e.decoratorType.call(this._list),o=e.decoratorSubType.call(this._list),r=this._createDecorator(n,o);this._decorators.push(r)}})},_createDecorator(i,e){let t=this._findDecorator(i,e);return new t(this._list)},_findDecorator(i,e){var t;let n=(t=f2[i])===null||t===void 0?void 0:t[e];if(!n)throw bt.Error("E1012",i,e);return n},modifyItemElement(i){let e=I(i.itemElement),t={$itemElement:e};this._prependBeforeBags(e,t),this._appendAfterBags(e,t),this._applyDecorators("modifyElement",t)},afterItemsRendered(){this._applyDecorators("afterRender")},_prependBeforeBags(i,e){let t=this._collectDecoratorsMarkup("beforeBag",e,"dx-list-item-before-bag");i.prepend(t)},_appendAfterBags(i,e){let t=this._collectDecoratorsMarkup("afterBag",e,"dx-list-item-after-bag");i.append(t)},_collectDecoratorsMarkup(i,e,t){let n=I("<div>");return ee(this._decorators,function(){let o=I("<div>").addClass(t);this[i](q({$container:o},e)),o.children().length&&n.append(o)}),n.children()},_applyDecorators(i,e){ee(this._decorators,function(){this[i](e)})},_handlerExists(i){if(!this._decorators)return!1;let e=this._decorators,{length:t}=e;for(let n=0;n<t;n++)if(e[n][i]!==pe)return!0;return!1},_eventHandler(i,e,t){if(!this._decorators)return!1;let n=!1,o=this._decorators,{length:r}=o;for(let s=0;s<r&&(n=o[s][i](e,t),!n);s++);return n},handleClick(i,e){return this._eventHandler("handleClick",i,e)},handleKeyboardEvents(i,e){return this._eventHandler("handleKeyboardEvents",i,e)},handleEnterPressing(i){return this._eventHandler("handleEnterPressing",i)},contextMenuHandlerExists(){return this._handlerExists("handleContextMenu")},handleContextMenu(i,e){return this._eventHandler("handleContextMenu",i,e)},getExcludedItemSelectors(){let i=[];return this._applyDecorators("getExcludedSelectors",i),i.join(",")}}),OG=$we;var IG=function(i){return(i.group<<20)+i.item},sf=function(i){return{group:i>>20,item:1048575&i}},Wwe=dg.inherit({_groupElements(){return this._collectionWidget._itemContainer().find(".dx-list-group")},_groupItemElements:i=>i.find(".dx-list-item"),getIndexByItemData(i){let e=this._collectionWidget.option("items"),t=!1;return i?(i.items&&i.items.length&&(i=i.items[0]),ee(e,(n,o)=>{if(!o.items||(ee(o.items,(r,s)=>s!==i?!0:(t={group:n,item:r},!1)),t))return!1}),t):!1},getItemDataByIndex(i){let e=this._collectionWidget.option("items");return ai(i)?this.itemsGetter()[i]:i&&e[i.group]&&e[i.group].items[i.item]||null},itemsGetter(){let i=[],e=this._collectionWidget.option("items");for(let t=0;t<e.length;t++)e[t]&&e[t].items?i=i.concat(e[t].items):i.push(e[t]);return i},deleteItemAtIndex(i){let e=sf(i);this._collectionWidget.option("items")[e.group].items.splice(e.item,1)},getKeysByItems(i){let e=[],t;for(t=0;t<i.length;t++)i[t]&&i[t].items?e=e.concat(i[t].items):e.push(i[t]);let n=[];for(t=0;t<e.length;t++)n.push(this._collectionWidget.keyOf(e[t]));return n},getIndexByKey(i,e){let t=e||this._collectionWidget.option("items"),n=-1,o=this;return ee(t,(r,s)=>{if(s.items&&(ee(s.items,(a,l)=>{let d=o._collectionWidget.keyOf(l);if(o._equalKeys(d,i))return n={group:r,item:a},!1}),n!==-1))return!1}),n},_getGroups(i){let t=this._collectionWidget._dataController.group();return t?Kr.queryByOptions(ro(i),{group:t}).toArray():this._collectionWidget.option("items")},getItemsByKeys(i,e){let t=[],n=this._getGroups(e),o={},r=s=>{let a=this.getIndexByKey(s,n),l=a&&n[a.group];if(l)return{groupKey:l.key,item:l.items[a.item]}};return ee(i,(s,a)=>{let l=r(a);if(!l)return;let{groupKey:d}=l,{item:c}=l,u=o[d];u||(u={key:d,items:[]},o[d]=u,t.push(u)),u.items.push(c)}),t},moveItemAtIndexToIndex(i,e){let t=this._collectionWidget.option("items"),n=sf(i),o=sf(e),r=t[n.group].items,s=t[o.group].items,a=r[n.item];r.splice(n.item,1),s.splice(o.item,0,a)},_isItemIndex:i=>i&&ai(i.group)&&ai(i.item),_getNormalizedItemIndex(i){let e=I(i),t=e.closest(".dx-list-group");return t.length?IG({group:this._groupElements().index(t),item:this._groupItemElements(t).index(e)}):-1},_normalizeItemIndex:i=>IG(i),_denormalizeItemIndex:i=>sf(i),_getItemByNormalizedIndex(i){let e=sf(i),t=this._groupElements().eq(e.group);return this._groupItemElements(t).eq(e.item)},_itemsFromSameParent:(i,e)=>sf(i).group===sf(e).group}),DG=Wwe;var Uwe=Sv.inherit({_supportedKeys(){let i=this,e=this.callBase(),t=(n,o)=>{let r=this._editStrategy,s=this.option("focusedElement"),a=r.getNormalizedIndex(s);if(!(a===this._getLastItemIndex()&&this._dataController.isLoading()))if(n.shiftKey&&i.option("itemDragging.allowReordering")){let d=a+(o?-1:1),c=r.getItemElement(d);this.reorderItem(s,c),this.scrollToItem(s),n.preventDefault()}else this._editProvider.handleKeyboardEvents(a,o)||(o?e.upArrow(n):e.downArrow(n))};return q({},e,{del:n=>{i.option("allowItemDeleting")&&(n.preventDefault(),i.deleteItem(i.option("focusedElement")))},upArrow:n=>t(n,!0),downArrow:n=>t(n),enter:function(n){this._editProvider.handleEnterPressing(n)||e.enter.apply(this,arguments)},space:function(n){this._editProvider.handleEnterPressing(n)||e.space.apply(this,arguments)}})},_updateSelection(){this._editProvider.afterItemsRendered(),this.callBase()},_getLastItemIndex(){return this._itemElements().length-1},_refreshItemElements(){this.callBase();let i=this._editProvider.getExcludedItemSelectors();i.length&&(this._itemElementsCache=this._itemElementsCache.not(i))},_isItemStrictEquals(i,e){let t=i&&i.__dx_key__;return t&&!this.key()&&this._selection.isItemSelected(t)?!1:this.callBase(i,e)},_getDefaultOptions(){return q(this.callBase(),{showSelectionControls:!1,selectionMode:"none",selectAllMode:"page",onSelectAllValueChanged:null,selectAllText:de.format("dxList-selectAll"),menuItems:[],menuMode:"context",allowItemDeleting:!1,itemDeleteMode:"static",itemDragging:{}})},_defaultOptionsRules(){return this.callBase().concat([{device:i=>i.platform==="ios",options:{menuMode:"slide",itemDeleteMode:"slideItem"}},{device:{platform:"android"},options:{itemDeleteMode:"swipe"}}])},_init(){this.callBase(),this._initEditProvider()},_initDataSource(){this.callBase(),this._isPageSelectAll()||this._dataSource&&this._dataSource.requireTotalCount(!0)},_isPageSelectAll(){return this.option("selectAllMode")==="page"},_initEditProvider(){this._editProvider=new OG(this)},_disposeEditProvider(){this._editProvider&&this._editProvider.dispose()},_refreshEditProvider(){this._disposeEditProvider(),this._initEditProvider()},_initEditStrategy(){this.option("grouped")?this._editStrategy=new DG(this):this.callBase()},_initMarkup(){this._refreshEditProvider(),this.callBase()},_renderItems(){this.callBase(...arguments),this._editProvider.afterItemsRendered()},_selectedItemClass:()=>"dx-list-item-selected",_itemResponseWaitClass:()=>"dx-list-item-response-wait",_itemClickHandler(i){let e=I(i.currentTarget);e.is(".dx-state-disabled, .dx-state-disabled *")||this._editProvider.handleClick(e,i)||(this._saveSelectionChangeEvent(i),this.callBase(...arguments))},_shouldFireContextMenuEvent(){return this.callBase(...arguments)||this._editProvider.contextMenuHandlerExists()},_itemHoldHandler(i){let e=I(i.currentTarget);if(e.is(".dx-state-disabled, .dx-state-disabled *"))return;if(Ec(i)&&this._editProvider.handleContextMenu(e,i)){i.handledByEditProvider=!0;return}this.callBase(...arguments)},_getItemContainer(i){if(this.option("grouped")){var e;let t=(e=this._editStrategy.getIndexByItemData(i))===null||e===void 0?void 0:e.group;return this._getGroupContainerByIndex(t)}return this.callBase(i)},_itemContextMenuHandler(i){let e=I(i.currentTarget);if(e.is(".dx-state-disabled, .dx-state-disabled *"))return;if(!i.handledByEditProvider&&this._editProvider.handleContextMenu(e,i)){i.preventDefault();return}this.callBase(...arguments)},_postprocessRenderItem(i){this.callBase(...arguments),this._editProvider.modifyItemElement(i)},_clean(){this._disposeEditProvider(),this.callBase()},focusListItem(i){let e=this._editStrategy.getItemElement(i);this.option("focusedElement",e),this.focus(),this.scrollToItem(this.option("focusedElement"))},_optionChanged(i){switch(i.name){case"selectAllMode":this._initDataSource(),this._dataController.pageIndex(0),this._dataController.load();break;case"grouped":this._clearSelectedItems(),delete this._renderingGroupIndex,this._initEditStrategy(),this.callBase(i);break;case"showSelectionControls":case"menuItems":case"menuMode":case"allowItemDeleting":case"itemDeleteMode":case"itemDragging":case"selectAllText":this._invalidate();break;case"onSelectAllValueChanged":break;default:this.callBase(i)}},selectAll(){return this._selection.selectAll(this._isPageSelectAll())},unselectAll(){return this._selection.deselectAll(this._isPageSelectAll())},isSelectAll(){return this._selection.getSelectAllState(this._isPageSelectAll())},getFlatIndexByItemElement(i){return this._itemElements().index(i)},getItemElementByFlatIndex(i){let e=this._itemElements();return i<0||i>=e.length?I():e.eq(i)},getItemByIndex(i){return this._editStrategy.getItemDataByIndex(i)},deleteItem(i){let e=this._editStrategy,t=e.getNormalizedIndex(i),n=this.option("focusedElement"),o=this.option("focusStateEnabled"),r=n?e.getNormalizedIndex(n):t,a=r===this._getLastItemIndex()||t<r?r-1:r;return this.callBase(i).done(function(){o&&this.focusListItem(a)})}}),TG=Uwe;var Gwe=TG.inherit(El).inherit({_addWidgetPrefix:i=>`dx-list-${i}`,_getCombinedFilter(){let i=this._dataController,e={filter:i.filter()};i.addSearchFilter(e);let{filter:t}=e;return t},_initDataSource(){let i=this.option("searchValue"),e=this.option("searchExpr"),t=this.option("searchMode");this.callBase();let n=this._dataController;i&&i.length&&n.searchValue(i),t.length&&n.searchOperation(El.getOperationBySearchMode(t)),e&&n.searchExpr(e)}}),m2=Gwe;ut("dxList",m2);var wd=m2;var RE="dx-invalid-message",Kwe="dx-invalid-message-auto",qwe="dx-invalid-message-always",Ywe="dx-invalid-message-content";var AG=cs.inherit({_getDefaultOptions(){return q(this.callBase(),{integrationOptions:{},templatesRenderAsynchronously:!1,shading:!1,width:"auto",height:"auto",hideOnOutsideClick:!1,animation:null,visible:!0,propagateOutsideClick:!0,_checkParentVisibility:!1,rtlEnabled:!1,contentTemplate:this._renderInnerHtml,maxWidth:"100%",container:this.$element(),target:void 0,mode:"auto",validationErrors:void 0,preventScrollEvents:!1,positionSide:"top",boundary:void 0,offset:{h:0,v:0},contentId:void 0})},_init(){this.callBase(),this.updateMaxWidth(),this._updatePosition()},_initMarkup(){this.callBase(),this._ensureMessageNotEmpty(),this._updatePositionByTarget(),this._toggleModeClass(),this._updateContentId()},_updatePositionByTarget(){let{target:i}=this.option();this.option("position.of",i)},_ensureMessageNotEmpty(){this._textMarkup=this._getTextMarkup();let i=this.option("visible")&&this._textMarkup;this._toggleVisibilityClasses(i)},_toggleVisibilityClasses(i){i?(this.$element().addClass(RE),this.$wrapper().addClass(RE)):(this.$element().removeClass(RE),this.$wrapper().removeClass(RE))},_updateContentId(){let{container:i,contentId:e}=this.option(),t=e??I(i).attr("aria-describedby");this.$content().addClass(Ywe).attr("id",t)},_renderInnerHtml(i){let e=i&&I(i);e?.html(this._textMarkup)},_getTextMarkup(){let i=this.option("validationErrors")??[],e="";return i.forEach(t=>{e+=(e?"<br />":"")+Sw(t?.message??"")}),e},_toggleModeClass(){let i=this.option("mode");this.$wrapper().toggleClass(Kwe,i==="auto").toggleClass(qwe,i==="always")},updateMaxWidth(){let i=this.option("target"),e=Ft(i),t="100%";e&&(t=Math.max(e,100)),this.option({maxWidth:t})},_getPositionsArray(i,e){switch(i){case"top":return[`${e} bottom`,`${e} top`];case"left":return["right","left"];case"right":return["left","right"];default:return[`${e} top`,`${e} bottom`]}},_updatePosition(){let{positionSide:i,rtlEnabled:e,offset:t,boundary:n}=this.option(),o=Ar(e),r=this._getPositionsArray(i,o),s=ye({},t);this.$element().addClass(`dx-invalid-message-${i}`),e&&i!=="left"&&i!=="right"&&(s.h=-s.h),i==="top"&&(s.v=-s.v),i==="left"&&(s.h=-s.h),this.option("position",{offset:s,boundary:n,my:r[0],at:r[1],collision:"none flip"})},_optionChanged(i){let{name:e,value:t,previousValue:n}=i;switch(e){case"target":this._updatePositionByTarget(),this.updateMaxWidth(),this.callBase(i);break;case"boundary":this.option("position.boundary",t);break;case"mode":this._toggleModeClass(t);break;case"rtlEnabled":case"offset":case"positionSide":this.$element().removeClass(`dx-invalid-message-${n}`),this._updatePosition();break;case"container":this._updateContentId(),this.callBase(i);break;case"contentId":this._updateContentId();break;case"validationErrors":this._ensureMessageNotEmpty(),this._renderInnerHtml(this.$content());break;default:this.callBase(i)}}});ut("dxValidationMessage",AG);var kG=AG;var FE=kG;var MG="dx-invalid-message-auto";var Xwe="dx-show-invalid-badge",RG="dx-validation-target";var Zwe=["outlined","filled","underlined"],FG={validationMessageMode:"mode",validationMessagePosition:"positionSide",validationMessageOffset:"offset",validationBoundary:"boundary"},g2=Tn.inherit({ctor(){this.showValidationMessageTimeout=null,this.validationRequest=Gt(),this.callBase.apply(this,arguments)},_createElement(i){this.callBase(i);let e=this.$element();e&&Zi(e[0],RG,this)},_initOptions(i){this.callBase.apply(this,arguments),this.option(Bo.initValidationOptions(i))},_init(){this._initialValue=this.option("value"),this.callBase(),this._options.cache("validationTooltipOptions",this.option("validationTooltipOptions")),this.$element().addClass(Xwe)},_getDefaultOptions(){return q(this.callBase(),{value:null,name:"",onValueChanged:null,readOnly:!1,isValid:!0,validationError:null,validationErrors:null,validationStatus:"valid",validationMessageMode:"auto",validationMessagePosition:"bottom",validationBoundary:void 0,validationMessageOffset:{h:0,v:0},validationTooltipOptions:{},_showValidationMessage:!0,isDirty:!1})},_attachKeyboardEvents(){this.option("readOnly")||this.callBase()},_setOptionsByReference(){this.callBase(),q(this._optionsByReference,{validationError:!0})},_createValueChangeAction(){this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})},_suppressValueChangeAction(){this._valueChangeActionSuppressed=!0},_resumeValueChangeAction(){this._valueChangeActionSuppressed=!1},_initMarkup(){var i;this._toggleReadOnlyState(),this._setSubmitElementName(this.option("name")),this.callBase(),this._renderValidationState(),(i=this.option("_onMarkupRendered"))===null||i===void 0||i()},_raiseValueChangeAction(i,e){this._valueChangeAction||this._createValueChangeAction(),this._valueChangeAction(this._valueChangeArgs(i,e))},_valueChangeArgs(i,e){return{value:i,previousValue:e,event:this._valueChangeEventInstance}},_saveValueChangeEvent(i){this._valueChangeEventInstance=i},_focusInHandler(i){let e=this.option("validationMessageMode")==="auto";if(this._canValueBeChangedByClick()&&e){var t;let n=(t=this._validationMessage)===null||t===void 0?void 0:t.$wrapper();n?.removeClass(MG),clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(()=>n?.addClass(MG),150)}return this.callBase(i)},_canValueBeChangedByClick:()=>!1,_getStylingModePrefix:()=>"dx-editor-",_renderStylingMode(){let i=this.option("stylingMode"),e=this._getStylingModePrefix(),t=Zwe.map(o=>e+o);t.forEach(o=>this.$element().removeClass(o));let n=e+i;if(!t.includes(n)){let o=this._getDefaultOptions().stylingMode,r=this._convertRulesToOptions(this._defaultOptionsRules()).stylingMode;n=e+(r||o)}this.$element().addClass(n)},_getValidationErrors(){let i=this.option("validationErrors");return!i&&this.option("validationError")&&(i=[this.option("validationError")]),i},_disposeValidationMessage(){this._$validationMessage&&(this._$validationMessage.remove(),this.setAria("describedby",null),this._$validationMessage=void 0,this._validationMessage=void 0)},_toggleValidationClasses(i){this.$element().toggleClass("dx-invalid",i),this.setAria("invalid",i||void 0)},_renderValidationState(){let i=this.option("isValid")&&this.option("validationStatus")!=="invalid",e=this._getValidationErrors(),t=this.$element();if(this._toggleValidationClasses(!i),!(!it()||this.option("_showValidationMessage")===!1)&&(this._disposeValidationMessage(),!i&&e)){let{validationMessageMode:n,validationMessageOffset:o,validationBoundary:r,rtlEnabled:s}=this.option();this._$validationMessage=I("<div>").appendTo(t);let a=`dx-${new yi}`;this.setAria("describedby",a),this._validationMessage=new FE(this._$validationMessage,q({validationErrors:e,rtlEnabled:s,target:this._getValidationMessageTarget(),visualContainer:t,mode:n,positionSide:this._getValidationMessagePosition(),offset:o,boundary:r,contentId:a},this._options.cache("validationTooltipOptions"))),this._bindInnerWidgetOptions(this._validationMessage,"validationTooltipOptions")}},_getValidationMessagePosition(){return this.option("validationMessagePosition")},_getValidationMessageTarget(){return this.$element()},_toggleReadOnlyState(){let i=this.option("readOnly");this._toggleBackspaceHandler(i),this.$element().toggleClass("dx-state-readonly",!!i),this._setAriaReadonly(i)},_setAriaReadonly(i){this.setAria("readonly",i||void 0)},_toggleBackspaceHandler(i){let e=this._keyboardEventBindingTarget(),t=Se("keydown","editorReadOnly");X.off(e,t),i&&X.on(e,t,n=>{Ti(n)==="backspace"&&n.preventDefault()})},_dispose(){let i=this.$element()[0];Zi(i,RG,null),clearTimeout(this.showValidationMessageTimeout),this._disposeValidationMessage(),this.callBase()},_setSubmitElementName(i){let e=this._getSubmitElement();e&&(i.length>0?e.attr("name",i):e.removeAttr("name"))},_getSubmitElement:()=>null,_setValidationMessageOption(i){var e;let{name:t,value:n}=i,o=FG[t]?FG[t]:t;(e=this._validationMessage)===null||e===void 0||e.option(o,n)},_hasActiveElement:pe,_optionChanged(i){var e;switch(i.name){case"onValueChanged":this._createValueChangeAction();break;case"readOnly":this._toggleReadOnlyState(),this._refreshFocusState();break;case"value":i.value!=i.previousValue&&(this.option("isDirty",this._initialValue!==i.value),this.validationRequest.fire({value:i.value,editor:this})),this._valueChangeActionSuppressed||(this._raiseValueChangeAction(i.value,i.previousValue),this._saveValueChangeEvent(void 0));break;case"width":this.callBase(i),(e=this._validationMessage)===null||e===void 0||e.updateMaxWidth();break;case"name":this._setSubmitElementName(i.value);break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(Bo.synchronizeValidationOptions(i,this.option())),this._renderValidationState();break;case"validationBoundary":case"validationMessageMode":case"validationMessagePosition":case"validationMessageOffset":this._setValidationMessageOption(i);break;case"rtlEnabled":this._setValidationMessageOption(i),this.callBase(i);break;case"validationTooltipOptions":this._innerWidgetOptionChanged(this._validationMessage,i);break;case"_showValidationMessage":case"isDirty":break;default:this.callBase(i)}},_resetToInitialValue(){this.option("value",this._initialValue)},blur(){this._hasActiveElement()&&ka()},clear(){let i=this._getDefaultOptions();this.option("value",i.value)},reset(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;arguments.length&&(this._initialValue=i),this._resetToInitialValue(),this.option("isDirty",!1),this.option("isValid",!0)}});g2.isEditor=i=>i instanceof g2;var PG=g2;var Mr=PG;var Sd=class{constructor(e,t,n){this.instance=null,this.$container=null,this.$placeMarker=null,this.editor=t,this.name=e,this.options=n||{}}_addPlaceMarker(e){this.$placeMarker=I("<div>").appendTo(e)}_addToContainer(e){let{$placeMarker:t,$container:n}=this;t?t.replaceWith(e):e.appendTo(n)}_attachEvents(e,t){throw"Not implemented"}_create(){throw"Not implemented"}_isRendered(){return!!this.instance}_isVisible(){let{editor:e,options:t}=this;return t.visible||!e.option("readOnly")}_isDisabled(){throw"Not implemented"}_shouldRender(){return this._isVisible()&&!this._isRendered()}dispose(){let{instance:e,$placeMarker:t}=this;e&&(e.dispose?e.dispose():e.remove(),this.instance=null),t&&t.remove()}render(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.$container;if(this.$container=e,this._isVisible()){let{instance:t,$element:n}=this._create();this.instance=t,this._attachEvents(t,n)}else this._addPlaceMarker(e)}update(){return this._shouldRender()&&this.render(),!!this.instance}};var Qwe=Mt.down;var PE=class extends Sd{_create(){let e=I("<span>").addClass("dx-clear-button-area").append(I("<span>").addClass("dx-icon").addClass("dx-icon-clear"));return this._addToContainer(e),this.update(!0),{instance:e,$element:e}}_isVisible(){let{editor:e}=this;return e._isClearButtonVisible()}_attachEvents(e,t){let{editor:n}=this,o=n.NAME;X.on(t,Se(Qwe,o),r=>{r.preventDefault(),r.pointerType!=="mouse"&&n._clearValueHandler(r)}),X.on(t,Se(Kt,o),r=>n._clearValueHandler(r))}_legacyRender(e,t){e.toggleClass("dx-show-clear-button",t)}update(){!(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&super.update();let{editor:t,instance:n}=this,o=t.$element(),r=this._isVisible();n&&n.toggleClass("dx-state-invisible",!r),this._legacyRender(o,r)}};var LE=class{constructor(e){this.NAME="dxLabel",this._props=e,this._id=`dx-texteditor-label-${new yi}`,this._render(),this._toggleMarkupVisibility()}_isVisible(){return!!this._props.text&&this._props.mode!=="hidden"}_render(){this._$before=I("<div>").addClass("dx-label-before"),this._$labelSpan=I("<span>"),this._$label=I("<div>").addClass("dx-label").append(this._$labelSpan),this._$after=I("<div>").addClass("dx-label-after"),this._$root=I("<div>").addClass("dx-texteditor-label").attr("id",this._id).append(this._$before).append(this._$label).append(this._$after),this._updateMark(),this._updateText(),this._updateBeforeWidth(),this._updateMaxWidth()}_toggleMarkupVisibility(){let e=this._isVisible();this._updateEditorBeforeButtonsClass(e),this._updateEditorLabelClass(e),e?this._$root.appendTo(this._props.$editor):this._$root.detach(),this._attachEvents()}_attachEvents(){let e=Se(Kt,this.NAME),t=Se(ph,this.NAME),n=Se(k7,this.NAME);X.off(this._$labelSpan,e),X.off(this._$labelSpan,t),X.off(this._$labelSpan,n),this._isVisible()&&this._isOutsideMode()&&(X.on(this._$labelSpan,e,o=>{et().getSelection().toString()===""&&(this._props.onClickHandler(),o.preventDefault())}),X.on(this._$labelSpan,t,o=>{this._props.onHoverHandler(o)}),X.on(this._$labelSpan,n,o=>{this._props.onActiveHandler(o)}))}_updateEditorLabelClass(e){if(this._props.$editor.removeClass("dx-texteditor-with-floating-label").removeClass("dx-texteditor-label-outside").removeClass("dx-texteditor-with-label"),e){let t=this._props.mode==="floating"?"dx-texteditor-with-floating-label":"dx-texteditor-with-label";this._props.$editor.addClass(t),this._isOutsideMode()&&this._props.$editor.addClass("dx-texteditor-label-outside")}}_isOutsideMode(){return this._props.mode==="outside"}_updateEditorBeforeButtonsClass(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._isVisible();if(this._props.$editor.removeClass("dx-texteditor-with-before-buttons"),e){let t=this._props.containsButtonsBefore?"dx-texteditor-with-before-buttons":"";this._props.$editor.addClass(t)}}_updateMark(){this._$labelSpan.attr("data-mark",this._props.mark)}_updateText(){this._$labelSpan.text(this._props.text)}_updateBeforeWidth(){if(this._isVisible()){let e=this._props.beforeWidth??this._props.getBeforeWidth();this._$before.css({width:e}),this._updateLabelTransform()}}_updateLabelTransform(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(this._$labelSpan.css("transform",""),this._isVisible()&&this._isOutsideMode()){let n=(this._props.rtlEnabled?1:-1)*(Qe(this._$before)+e);this._$labelSpan.css("transform",`translateX(${n}px)`)}}_updateMaxWidth(){if(this._isVisible()&&!this._isOutsideMode()){let e=this._props.containerWidth??this._props.getContainerWidth();this._$label.css({maxWidth:e})}}$element(){return this._$root}isVisible(){return this._isVisible()}getId(){if(this._isVisible())return this._id}updateMode(e){this._props.mode=e,this._toggleMarkupVisibility(),this._updateBeforeWidth(),this._updateMaxWidth()}updateText(e){this._props.text=e,this._updateText(),this._toggleMarkupVisibility(),this._updateBeforeWidth(),this._updateMaxWidth()}updateMark(e){this._props.mark=e,this._updateMark()}updateContainsButtonsBefore(e){this._props.containsButtonsBefore=e,this._updateEditorBeforeButtonsClass()}updateBeforeWidth(e){this._props.beforeWidth=e,this._updateBeforeWidth()}updateMaxWidth(e){this._props.containerWidth=e,this._updateMaxWidth()}};var NE=class extends Sd{_attachEvents(e,t){let{editor:n}=this;X.on(t,ph,()=>{n.$element().addClass("dx-custom-button-hovered")}),X.on(t,fh,()=>{n.$element().removeClass("dx-custom-button-hovered")}),X.on(t,Kt,o=>{o.stopPropagation()})}_create(){let{editor:e}=this,t=I("<div>");this._addToContainer(t);let n=e._createComponent(t,Ln,q({},this.options,{ignoreParentReadOnly:!0,disabled:this._isDisabled(),integrationOptions:this._prepareIntegrationOptions(e)}));return{$element:t,instance:n}}_prepareIntegrationOptions(e){return q({},e.option("integrationOptions"),{skipTemplates:["content"]})}update(){let e=super.update();return this.instance&&this.instance.option("disabled",this._isDisabled()),e}_isVisible(){let{editor:e}=this;return e.option("visible")}_isDisabled(){return this.options.disabled!==void 0?this.instance?this.instance.option("disabled"):this.options.disabled:this.editor.option("readOnly")}};function Jwe(i){(()=>{if(!i||typeof i!="object"||Array.isArray(i))throw bt.Error("E1053")})(),(()=>{if(!("name"in i))throw bt.Error("E1054")})(),(()=>{let{name:e}=i;if(typeof e!="string")throw bt.Error("E1055")})(),(()=>{let{location:e}=i;"location"in i&&e!=="after"&&e!=="before"&&(i.location="after")})()}function LG(i,e){if(i.indexOf(e)!==-1)throw bt.Error("E1055",e);i.push(e)}function eSe(i,e){return!!e.find(t=>t.name===i)}var BE=class{constructor(e,t){this.buttons=[],this.defaultButtonsInfo=t,this.editor=e}_compileButtonInfo(e){let t=[];return e.map(n=>{let o=typeof n=="string";if(o||Jwe(n),o||eSe(n.name,this.defaultButtonsInfo)){let a=this.defaultButtonsInfo.find(l=>{let{name:d}=l;return d===n||d===n.name});if(!a)throw bt.Error("E1056",this.editor.NAME,n);return LG(t,n),a}let{name:s}=n;return LG(t,s),q(n,{Ctor:NE})})}_createButton(e){let{Ctor:t,options:n,name:o}=e,r=new t(o,this.editor,n);return this.buttons.push(r),r}_renderButtons(e,t,n){let o=null;return(e?this._compileButtonInfo(e):this.defaultButtonsInfo).forEach(s=>{let{location:a="after"}=s;a===n&&this._createButton(s).render((o=o??I("<div>").addClass("dx-texteditor-buttons-container"),n==="before"?t.prepend(o):t.append(o),o))}),o}clean(){this.buttons.forEach(e=>e.dispose()),this.buttons=[]}getButton(e){let t=this.buttons.find(n=>{let{name:o}=n;return o===e});return t&&t.instance}renderAfterButtons(e,t){return this._renderButtons(e,t,"after")}renderBeforeButtons(e,t){return this._renderButtons(e,t,"before")}updateButtons(e){this.buttons.forEach(t=>{(!e||e.indexOf(t.name)!==-1)&&t.update()})}};var VE=["KeyDown","KeyPress","KeyUp","Change","Cut","Copy","Paste","Input"],tSe=["tab","enter","shift","control","alt","escape","pageUp","pageDown","end","home","leftArrow","upArrow","rightArrow","downArrow"],iSe=LE;function NG(i){if(U(i)&&!Array.isArray(i))throw bt.Error("E1053")}var nSe=Mr.inherit({ctor(i,e){e&&NG(e.buttons),this._buttonCollection=new BE(this,this._getDefaultButtons()),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._labelContainerElement=null,this.callBase.apply(this,arguments)},_getDefaultOptions(){return q(this.callBase(),{buttons:void 0,value:"",spellcheck:!1,showClearButton:!1,valueChangeEvent:"change",placeholder:"",inputAttr:{},onFocusIn:null,onFocusOut:null,onKeyDown:null,onKeyUp:null,onChange:null,onInput:null,onCut:null,onCopy:null,onPaste:null,onEnterKey:null,mode:"text",hoverStateEnabled:!0,focusStateEnabled:!0,text:void 0,displayValueFormatter:i=>U(i)&&i!==!1?i:"",stylingMode:ui().editorStylingMode||"outlined",showValidationMark:!0,label:"",labelMode:"static",labelMark:""})},_defaultOptionsRules(){return this.callBase().concat([{device(){let i=oo();return Kn(i)},options:{labelMode:"floating",stylingMode:ui().editorStylingMode||"filled"}},{device(){let i=oo();return Zn(i)},options:{labelMode:"outside"}}])},_getDefaultButtons:()=>[{name:"clear",Ctor:PE}],_isClearButtonVisible(){return this.option("showClearButton")&&!this.option("readOnly")},_input(){return this.$element().find(".dx-texteditor-input").first()},_isFocused(){return Ps(this._input())||this.callBase()},_inputWrapper(){return this.$element()},_buttonsContainer(){return this._inputWrapper().find(".dx-texteditor-buttons-container").eq(0)},_isControlKey:i=>tSe.includes(i),_renderStylingMode(){this.callBase(),this._updateButtonsStyling(this.option("stylingMode"))},_initMarkup(){this.$element().addClass("dx-texteditor"),this._renderInput(),this._renderButtonContainers(),this._renderStylingMode(),this._renderInputType(),this._renderPlaceholder(),this._renderProps(),this.callBase(),this._renderValue(),this._renderLabel()},_render(){this.callBase(),this._refreshValueChangeEvent(),this._refreshEvents(),this._renderEnterKeyAction(),this._renderEmptinessEvent()},_renderInput(){this._$textEditorContainer=I("<div>").addClass("dx-texteditor-container").appendTo(this.$element()),this._$textEditorInputContainer=I("<div>").addClass("dx-texteditor-input-container").appendTo(this._$textEditorContainer),this._$textEditorInputContainer.append(this._createInput())},_getInputContainer(){return this._$textEditorInputContainer},_renderPendingIndicator(){this.$element().addClass("dx-validation-pending");let i=this._getInputContainer(),e=I("<div>").addClass("dx-pending-indicator").appendTo(i);this._pendingIndicator=this._createComponent(e,qo)},_disposePendingIndicator(){this._pendingIndicator&&(this._pendingIndicator.dispose(),this._pendingIndicator.$element().remove(),this._pendingIndicator=null,this.$element().removeClass("dx-validation-pending"))},_renderValidationState(){this.callBase(),this.option("validationStatus")==="pending"?(!this._pendingIndicator&&this._renderPendingIndicator(),this._showValidMark=!1):(this.option("validationStatus")==="invalid"&&(this._showValidMark=!1),!this._showValidMark&&this.option("showValidationMark")===!0&&(this._showValidMark=this.option("validationStatus")==="valid"&&!!this._pendingIndicator),this._disposePendingIndicator()),this._toggleValidMark()},_getButtonsContainer(){return this._$textEditorContainer},_renderButtonContainers(){let i=this.option("buttons"),e=this._getButtonsContainer();this._$beforeButtonsContainer=this._buttonCollection.renderBeforeButtons(i,e),this._$afterButtonsContainer=this._buttonCollection.renderAfterButtons(i,e)},_cleanButtonContainers(){var i,e;(i=this._$beforeButtonsContainer)===null||i===void 0||i.remove(),(e=this._$afterButtonsContainer)===null||e===void 0||e.remove(),this._buttonCollection.clean()},_clean(){this._buttonCollection.clean(),this._disposePendingIndicator(),this._unobserveLabelContainerResize(),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._$textEditorContainer=null,this.callBase()},_createInput(){let i=I("<input>");return this._applyInputAttributes(i,this.option("inputAttr")),i},_setSubmitElementName(i){let e=this.option("inputAttr.name");return this.callBase(i||e||"")},_applyInputAttributes(i,e){let t=q(this._getDefaultAttributes(),e);i.attr(t).addClass("dx-texteditor-input"),this._setInputMinHeight(i)},_setInputMinHeight(i){i.css("minHeight",this.option("height")?"0":"")},_getPlaceholderAttr(){let{ios:i,mac:e}=Ve.real(),{placeholder:t}=this.option();return t||(i||e?" ":null)},_getDefaultAttributes(){return{autocomplete:"off",placeholder:this._getPlaceholderAttr()}},_updateButtons(i){this._buttonCollection.updateButtons(i)},_updateButtonsStyling(i){ee(this.option("buttons"),(e,t)=>{let{options:n,name:o}=t;if(n&&!n.stylingMode&&this.option("visible")){let r=this.getButton(o);r.option&&r.option("stylingMode",i==="underlined"?"text":"contained")}})},_renderValue(){return this._renderInputValue().promise()},_renderInputValue(i){i=i??this.option("value");let e=this.option("text"),t=this.option("displayValue"),n=this.option("displayValueFormatter");return t!==void 0&&i!==null?e=n(t):U(e)||(e=n(i)),this.option("text",e),this._input().val()!==(U(e)?e:"")?this._renderDisplayText(e):this._toggleEmptinessEventHandler(),le().resolve()},_renderDisplayText(i){this._input().val(i),this._toggleEmptinessEventHandler()},_isValueValid(){if(this._input().length){let{validity:i}=this._input().get(0);if(i)return i.valid}return!0},_toggleEmptiness(i){this.$element().toggleClass("dx-texteditor-empty",i),this._togglePlaceholder(i)},_togglePlaceholder(i){this.$element().find(".dx-placeholder").eq(0).toggleClass("dx-state-invisible",!i)},_renderProps(){this._toggleReadOnlyState(),this._toggleSpellcheckState(),this._toggleTabIndex()},_toggleDisabledState(i){this.callBase.apply(this,arguments),this._input().prop("disabled",i)},_toggleTabIndex(){let i=this._input(),e=this.option("disabled"),t=this.option("focusStateEnabled");e||!t?i.attr("tabIndex",-1):i.removeAttr("tabIndex")},_toggleReadOnlyState(){this._input().prop("readOnly",this._readOnlyPropValue()),this.callBase()},_readOnlyPropValue(){return this.option("readOnly")},_toggleSpellcheckState(){this._input().prop("spellcheck",this.option("spellcheck"))},_unobserveLabelContainerResize(){this._labelContainerElement&&(vd.unobserve(this._labelContainerElement),this._labelContainerElement=null)},_getLabelContainer(){return this._input()},_getLabelContainerWidth(){return Qe(this._getLabelContainer())},_getLabelBeforeWidth(){return(this._$beforeButtonsContainer&&Qe(this._$beforeButtonsContainer))??0},_updateLabelWidth(){this._label.updateBeforeWidth(this._getLabelBeforeWidth()),this._label.updateMaxWidth(this._getLabelContainerWidth())},_getFieldElement(){return this._getLabelContainer()},_setFieldAria(i){var e;let t=this.option("inputAttr"),n=t?.["aria-label"],o=(e=this._label)===null||e===void 0?void 0:e.getId(),r=n?void 0:o;if(r||i){let s={labelledby:r,label:n};this.setAria(s,this._getFieldElement())}},_renderLabel(){this._unobserveLabelContainerResize(),this._labelContainerElement=I(this._getLabelContainer()).get(0);let{label:i,labelMode:e,labelMark:t,rtlEnabled:n}=this.option(),o={onClickHandler:()=>{this.focus()},onHoverHandler:r=>{r.stopPropagation()},onActiveHandler:r=>{r.stopPropagation()},$editor:this.$element(),text:i,mark:t,mode:e,rtlEnabled:n,containsButtonsBefore:!!this._$beforeButtonsContainer,getContainerWidth:()=>this._getLabelContainerWidth(),getBeforeWidth:()=>this._getLabelBeforeWidth()};this._label=new iSe(o),this._setFieldAria(),this._labelContainerElement&&vd.observe(this._labelContainerElement,this._updateLabelWidth.bind(this))},_renderPlaceholder(){this._renderPlaceholderMarkup(),this._attachPlaceholderEvents()},_renderPlaceholderMarkup(){this._$placeholder&&(this._$placeholder.remove(),this._$placeholder=null);let i=this._input(),e=this.option("placeholder"),t={id:e?`dx-${new yi}`:void 0,"data-dx_placeholder":e},n=this._$placeholder=I("<div>").attr(t);n.insertAfter(i),n.addClass("dx-placeholder")},_attachPlaceholderEvents(){let i=Se(Mt.up,this.NAME);X.on(this._$placeholder,i,()=>{X.trigger(this._input(),"focus")}),this._toggleEmptinessEventHandler()},_placeholder(){return this._$placeholder||I()},_clearValueHandler(i){let e=this._input();i.stopPropagation(),this._saveValueChangeEvent(i),this._clearValue(),!this._isFocused()&&X.trigger(e,"focus"),X.trigger(e,"input")},_clearValue(){this.clear()},_renderEvents(){let i=this._input();ee(VE,(e,t)=>{if(this.hasActionSubscription(`on${t}`)){let n=this._createActionByOption(`on${t}`,{excludeValidators:["readOnly"]});X.on(i,Se(t.toLowerCase(),this.NAME),o=>{this._disposed||n({event:o})})}})},_refreshEvents(){let i=this._input();ee(VE,(e,t)=>{X.off(i,Se(t.toLowerCase(),this.NAME))}),this._renderEvents()},_keyPressHandler(){this.option("text",this._input().val())},_keyDownHandler(i){let e=this._input(),t=i.ctrlKey&&Ti(i)==="enter",n=e.val()!==this.option("value");t&&n&&X.trigger(e,"change")},_getValueChangeEventOptionName:()=>"valueChangeEvent",_renderValueChangeEvent(){let i=Se(this._renderValueEventName(),`${this.NAME}TextChange`),e=Se(this.option(this._getValueChangeEventOptionName()),`${this.NAME}ValueChange`),t=Se("keydown",`${this.NAME}TextChange`),n=this._input();X.on(n,i,this._keyPressHandler.bind(this)),X.on(n,e,this._valueChangeEventHandler.bind(this)),X.on(n,t,this._keyDownHandler.bind(this))},_cleanValueChangeEvent(){let i=`.${this.NAME}ValueChange`,e=`.${this.NAME}TextChange`;X.off(this._input(),i),X.off(this._input(),e)},_refreshValueChangeEvent(){this._cleanValueChangeEvent(),this._renderValueChangeEvent()},_renderValueEventName:()=>"input change keypress",_focusTarget(){return this._input()},_focusEventTarget(){return this.element()},_isInput(i){return i===this._input().get(0)},_preventNestedFocusEvent(i){if(i.isDefaultPrevented())return!0;let e=this._isNestedTarget(i.relatedTarget);return i.type==="focusin"?e=e&&this._isNestedTarget(i.target)&&!this._isInput(i.target):e||this._toggleFocusClass(!1,this.$element()),e&&i.preventDefault(),e},_isNestedTarget(i){return!!this.$element().find(i).length},_focusClassTarget(){return this.$element()},_focusInHandler(i){this._preventNestedFocusEvent(i),this.callBase.apply(this,arguments)},_focusOutHandler(i){this._preventNestedFocusEvent(i),this.callBase.apply(this,arguments)},_toggleFocusClass(i,e){this.callBase(i,this._focusClassTarget(e))},_hasFocusClass(i){return this.callBase(I(i||this.$element()))},_renderEmptinessEvent(){let i=this._input();X.on(i,"input blur",this._toggleEmptinessEventHandler.bind(this))},_toggleEmptinessEventHandler(){let i=this._input().val(),e=(i===""||i===null)&&this._isValueValid();this._toggleEmptiness(e)},_valueChangeEventHandler(i,e){this.option("readOnly")||(this._saveValueChangeEvent(i),this.option("value",arguments.length>1?e:this._input().val()),this._saveValueChangeEvent(void 0))},_renderEnterKeyAction(){this._enterKeyAction=this._createActionByOption("onEnterKey",{excludeValidators:["readOnly"]}),X.off(this._input(),"keyup.onEnterKey.dxTextEditor"),X.on(this._input(),"keyup.onEnterKey.dxTextEditor",this._enterKeyHandlerUp.bind(this))},_enterKeyHandlerUp(i){this._disposed||Ti(i)==="enter"&&this._enterKeyAction({event:i})},_updateValue(){this._options.silent("text",null),this._renderValue()},_dispose(){this._enterKeyAction=void 0,this.callBase()},_getSubmitElement(){return this._input()},_hasActiveElement(){return this._input().is(be.getActiveElement(this._input()[0]))},_optionChanged(i){let{name:e,fullName:t,value:n}=i,o=e.replace("on","");if(VE.includes(o)){this._refreshEvents();return}switch(e){case"valueChangeEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onValueChanged":this._createValueChangeAction();break;case"focusStateEnabled":this.callBase(i),this._toggleTabIndex();break;case"spellcheck":this._toggleSpellcheckState();break;case"mode":this._renderInputType();break;case"onEnterKey":this._renderEnterKeyAction();break;case"placeholder":this._renderPlaceholder(),this._setFieldAria(!0),this._input().attr({placeholder:this._getPlaceholderAttr()});break;case"label":this._label.updateText(n),this._setFieldAria(!0);break;case"labelMark":this._label.updateMark(n);break;case"labelMode":this._label.updateMode(n),this._setFieldAria();break;case"width":this.callBase(i),this._label.updateMaxWidth(this._getLabelContainerWidth());break;case"readOnly":case"disabled":this._updateButtons(),this.callBase(i);break;case"showClearButton":this._updateButtons(["clear"]);break;case"text":case"showValidationMark":break;case"value":this._updateValue(),this.callBase(i);break;case"inputAttr":this._applyInputAttributes(this._input(),this.option(e));break;case"stylingMode":this._renderStylingMode(),this._updateLabelWidth();break;case"buttons":t===e&&NG(n),this._cleanButtonContainers(),this._renderButtonContainers(),this._updateButtonsStyling(this.option("stylingMode")),this._updateLabelWidth(),this._label.updateContainsButtonsBefore(!!this._$beforeButtonsContainer);break;case"visible":this.callBase(i),n&&this.option("buttons")&&(this._cleanButtonContainers(),this._renderButtonContainers(),this._updateButtonsStyling(this.option("stylingMode")));break;case"displayValueFormatter":this._invalidate();break;default:this.callBase(i)}},_renderInputType(){this._setInputType(this.option("mode"))},_setInputType(i){let e=this._input();i==="search"&&(i="text");try{e.prop("type",i)}catch{e.prop("type","text")}},getButton(i){return this._buttonCollection.getButton(i)},focus(){X.trigger(this._input(),"focus")},clear(){this._showValidMark&&(this._showValidMark=!1,this._renderValidationState());let i=this._getDefaultOptions();this.option("value")===i.value?(this._options.silent("text",""),this._renderValue()):this.option("value",i.value)},_resetToInitialValue(){this.option("value")===this._initialValue?(this._options.silent("text",this._initialValue),this._renderValue()):this.callBase(),this._disposePendingIndicator(),this._showValidMark=!1,this._toggleValidMark()},_toggleValidMark(){this.$element().toggleClass("dx-valid",!!this._showValidMark)},reset(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;arguments.length?this.callBase(i):this.callBase()},on(i,e){let t=this.callBase(i,e),n=i.charAt(0).toUpperCase()+i.substr(1);return VE.includes(n)&&this._refreshEvents(),t}}),BG=nSe;var HE=class{constructor(e){this._value=" ",q(this,e)}next(e){if(!arguments.length)return this._next;this._next=e}_prepareHandlingArgs(e,t){t=t||{};let n=Object.prototype.hasOwnProperty.call(e,"value")?"value":"text";return e[n]=t.str??e[n],e.start=t.start??e.start,e.length=t.length??e.length,e.index+=1,e}first(e){return e=e||0,this.next().first(e+1)}isAccepted(e){return!1}adjustedCaret(e,t,n){return t?this._adjustedForward(e,0,n):this._adjustedBackward(e,0,n)}_adjustedForward(e,t,n){}_adjustedBackward(e,t,n){}isValid(e){}reset(){}clear(e){}text(){}value(){}rawValue(){}handle(e){}},zE=class extends HE{next(){}handle(){return 0}text(){return""}value(){return""}first(){return 0}rawValue(){return""}adjustedCaret(){return 0}isValid(){return!0}},Ev=class extends HE{text(){return(this._value!==" "?this._value:this.maskChar)+this.next().text()}value(){return this._value+this.next().value()}rawValue(){return this._value+this.next().rawValue()}handle(e){let t=Object.prototype.hasOwnProperty.call(e,"value")?e.value:e.text;if(!t||!t.length||!e.length)return 0;if(e.start)return this.next().handle(this._prepareHandlingArgs(e,{start:e.start-1}));let n=t[0],o=t.substring(1);return this._tryAcceptChar(n,e),this._accepted()?this.next().handle(this._prepareHandlingArgs(e,{str:o,length:e.length-1}))+1:this.handle(this._prepareHandlingArgs(e,{str:o,length:e.length-1}))}clear(e){this._tryAcceptChar(" ",e),this.next().clear(this._prepareHandlingArgs(e))}reset(){this._accepted(!1),this.next().reset()}_tryAcceptChar(e,t){if(this._accepted(!1),!this._isAllowed(e,t))return;let n=e===" "?this.maskChar:e;t.fullText=t.fullText.substring(0,t.index)+n+t.fullText.substring(t.index+1),this._accepted(!0),this._value=e}_accepted(e){if(!arguments.length)return!!this._isAccepted;this._isAccepted=!!e}first(e){return this._value===" "?e||0:super.first(e)}_isAllowed(e,t){return e===" "?!0:this._isValid(e,t)}_isValid(e,t){let{allowedChars:n}=this;return n instanceof RegExp?n.test(e):Ie(n)?n(e,t.index,t.fullText):Array.isArray(n)?n.includes(e):n===e}isAccepted(e){return e===0?this._accepted():this.next().isAccepted(e-1)}_adjustedForward(e,t,n){return t>=e?t:this.next()._adjustedForward(e,t+1,n)||t+1}_adjustedBackward(e,t){return t>=e-1?e:this.next()._adjustedBackward(e,t+1)||t+1}isValid(e){return this._isValid(this._value,e)&&this.next().isValid(this._prepareHandlingArgs(e))}},Ov=class extends Ev{value(){return this.next().value()}handle(e){let t=Object.prototype.hasOwnProperty.call(e,"value"),n=t?e.value:e.text;if(!n.length||!e.length)return 0;if(e.start||t)return this.next().handle(this._prepareHandlingArgs(e,{start:e.start&&e.start-1}));let o=n[0],r=n.substring(1);this._tryAcceptChar(o);let s=this._isAllowed(o)?this._prepareHandlingArgs(e,{str:r,length:e.length-1}):e;return this.next().handle(s)+1}clear(e){this._accepted(!1),this.next().clear(this._prepareHandlingArgs(e))}_tryAcceptChar(e){this._accepted(this._isValid(e))}_isValid(e){return e===this.maskChar}first(e){return e=e||0,this.next().first(e+1)}_adjustedForward(e,t,n){return t>=e&&n===this.maskChar?t:e===t+1&&this._accepted()?e:this.next()._adjustedForward(e,t+1,n)}_adjustedBackward(e,t){return t>=e-1?0:this.next()._adjustedBackward(e,t+1)}isValid(e){return this.next().isValid(this._prepareHandlingArgs(e))}};var oSe="blur beforedeactivate";var rSe=["deleteContentBackward","deleteSoftLineBackward","deleteContent","deleteHardLineBackward"],sSe=["historyUndo","historyRedo"],aSe=["focusIn","focusOut","input","paste","cut","drop","beforeInput"];function lSe(i){return" ".repeat(i)}var jE=class{constructor(e){this.editor=e}_editorOption(){return this.editor.option(...arguments)}_editorInput(){return this.editor._input()}_editorCaret(e){if(!e)return this.editor._caret();this.editor._caret(e)}_attachChangeEventHandler(){if(!this._editorOption("valueChangeEvent").split(" ").includes("change"))return;let e=this._editorInput(),t=Se(oSe,"dxMask");X.on(e,t,n=>{this.editor._changeHandler(n)})}_beforeInputHandler(){this._previousText=this._editorOption("text"),this._prevCaret=this._editorCaret()}_inputHandler(e){let{originalEvent:t}=e;if(!t)return;let{inputType:n}=t;if(sSe.includes(n))this._handleHistoryInputEvent();else if(rSe.includes(n))this._handleBackwardDeleteInputEvent();else{let o=this._editorCaret();if(!o.end)return;this._clearSelectedText(),this._autoFillHandler(t),this._editorCaret(o),this._handleInsertTextInputEvent(t.data)}this._editorOption("text")===this._previousText&&e.stopImmediatePropagation()}_handleHistoryInputEvent(){let e=this._editorCaret();this._updateEditorMask({start:e.start,length:e.end-e.start,text:""}),this._editorCaret(this._prevCaret)}_handleBackwardDeleteInputEvent(){this._clearSelectedText();let e=this._editorCaret();this.editor.setForwardDirection(),this.editor._adjustCaret(),this._editorCaret().start!==e.start&&(this.editor.setBackwardDirection(),this.editor._adjustCaret())}_clearSelectedText(){var e,t;let n=((e=this._prevCaret)===null||e===void 0?void 0:e.end)-((t=this._prevCaret)===null||t===void 0?void 0:t.start)||1,o=this._editorCaret();this._isAutoFill()||(this.editor.setBackwardDirection(),this._updateEditorMask({start:o.start,length:n,text:lSe(n)}))}_handleInsertTextInputEvent(e){var t;let n=e??"";this.editor.setForwardDirection(),this._updateEditorMask({start:((t=this._prevCaret)===null||t===void 0?void 0:t.start)??0,length:n.length||1,text:n})||this._editorCaret(this._prevCaret)}_updateEditorMask(e){let t=e.text.length,n=this.editor._handleChain(e);if(this.editor._displayMask(),this.editor.isForwardDirection()){let{start:o,end:r}=this._editorCaret(),s=n-t;n>1&&t===1&&this._editorCaret({start:o+s,end:r+s}),this.editor._adjustCaret()}return!!n}_focusInHandler(){if(this.editor._showMaskPlaceholder(),this.editor.setForwardDirection(),!this.editor._isValueEmpty()&&this._editorOption("isValid"))this.editor._adjustCaret();else{let e=this.editor._maskRulesChain.first();this._caretTimeout=setTimeout(()=>{this._editorCaret({start:e,end:e})},0)}}_focusOutHandler(e){this.editor._changeHandler(e),this._editorOption("showMaskMode")==="onFocus"&&this.editor._isValueEmpty()&&(this._editorOption("text",""),this.editor._renderDisplayText(""))}_delHandler(e){let{editor:t}=this;t._maskKeyHandler(e,()=>{t._hasSelection()||t._handleKey(" ")})}_cutHandler(e){let t=this._editorCaret(),n=this._editorInput().val().substring(t.start,t.end);this.editor._maskKeyHandler(e,()=>kb(e,n))}_dropHandler(){this._clearDragTimer(),this._dragTimer=setTimeout(()=>{let e=this.editor._convertToValue(this._editorInput().val());this._editorOption("value",e)})}_pasteHandler(e){let{editor:t}=this;if(this._editorOption("disabled"))return;let n=this._editorCaret();t._maskKeyHandler(e,()=>{let o=kb(e),r=t._maskRulesChain.text().substring(n.end),s=t._handleChain({text:o,start:n.start,length:o.length}),a=n.start+s;t._handleChain({text:r,start:a,length:r.length}),t._caret({start:a,end:a})})}_autoFillHandler(e){let{editor:t}=this,n=this._editorInput().val();this._inputHandlerTimer=setTimeout(()=>{this._isAutoFill()&&(t._maskKeyHandler(e,()=>{t._handleChain({text:n,start:0,length:n.length})}),t._validateMask())})}_isAutoFill(){let e=this._editorInput();if(gi.webkit){let t=e.get(0);return t?.matches(":-webkit-autofill")??!1}return!1}_clearDragTimer(){clearTimeout(this._dragTimer)}_clearTimers(){this._clearDragTimer(),clearTimeout(this._caretTimeout),clearTimeout(this._inputHandlerTimer)}getHandler(e){return t=>{var n;(n=this[`_${e}Handler`])===null||n===void 0||n.call(this,t)}}attachEvents(){let e=this._editorInput();aSe.forEach(t=>{let n=Se(t.toLowerCase(),"dxMask");X.on(e,n,this.getHandler(t))}),this._attachChangeEventHandler()}detachEvents(){this._clearTimers(),X.off(this._editorInput(),".dxMask")}clean(){this._clearTimers()}};var{ios:dSe,mac:cSe}=Ve.real(),uSe=dSe||cSe,hSe=function(i){let e;try{e={start:i.selectionStart,end:i.selectionEnd}}catch{e={start:0,end:0}}return e},pSe=function(i,e){let t=be.getBody();if(!(!t.contains(i)&&!t.contains(i.getRootNode().host)))try{i.selectionStart=e.start,i.selectionEnd=e.end}catch{}},fSe=function(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(i=I(i).get(0),!U(e))return hSe(i);!t&&uSe&&be.getActiveElement(i)!==i||pSe(i,e)},VG=fSe;var HG=VG;var mSe={0:/[0-9]/,9:/[0-9\s]/,"#":/[-+0-9\s]/,L:i=>$E(i),l:i=>$E(i)||jG(i),C:/\S/,c:/./,A:i=>$E(i)||zG(i),a:i=>$E(i)||zG(i)||jG(i)};function zG(i){return/[0-9]/.test(i)}function $E(i){let e=i.charCodeAt();return e>64&&e<91||e>96&&e<123||e>127}function jG(i){return i===" "}var gSe=BG.inherit({_getDefaultOptions(){return q(this.callBase(),{mask:"",maskChar:"_",maskRules:{},maskInvalidMessage:de.format("validation-mask"),useMaskedValue:!1,showMaskMode:"always"})},_supportedKeys(){let i=this,e={del:i._maskStrategy.getHandler("del"),enter:i._changeHandler},t=i.callBase();return ee(e,(n,o)=>{let r=t[n];t[n]=function(s){i.option("mask")&&o.call(i,s),r&&r(s)}}),t},_getSubmitElement(){return this.option("mask")?this._$hiddenElement:this.callBase()},_init(){this.callBase(),this._initMaskStrategy()},_initMaskStrategy(){this._maskStrategy=new jE(this)},_initMarkup(){this._renderHiddenElement(),this.callBase()},_attachMouseWheelEventHandlers(){if(!(this._onMouseWheel!==pe))return;let e=this._input(),t=Se(hh,this.NAME),n=this._createAction(o=>{let{event:r}=o;Ps(e)&&!Dn(r)&&(this._onMouseWheel(r),r.preventDefault(),r.stopPropagation())});X.off(e,t),X.on(e,t,o=>{n({event:o})})},_onMouseWheel:pe,_useMaskBehavior(){return!!this.option("mask")},_attachDropEventHandler(){if(!this._useMaskBehavior())return;let e=Se("drop",this.NAME),t=this._input();X.off(t,e),X.on(t,e,n=>n.preventDefault())},_render(){this._attachMouseWheelEventHandlers(),this._renderMask(),this.callBase(),this._attachDropEventHandler()},_renderHiddenElement(){this.option("mask")&&(this._$hiddenElement=I("<input>").attr("type","hidden").appendTo(this._inputWrapper()))},_removeHiddenElement(){this._$hiddenElement&&this._$hiddenElement.remove()},_renderMask(){this.$element().removeClass("dx-texteditor-masked"),this._maskRulesChain=null,this._maskStrategy.detachEvents(),this.option("mask")&&(this.$element().addClass("dx-texteditor-masked"),this._maskStrategy.attachEvents(),this._parseMask(),this._renderMaskedValue())},_changeHandler(i){let e=this._input(),t=e.val();if(t===this._changedValue)return;this._changedValue=t;let n=bl(i,{type:"change"});X.trigger(e,n)},_parseMask(){this._maskRules=q({},mSe,this.option("maskRules")),this._maskRulesChain=this._parseMaskRule(0)},_parseMaskRule(i){let e=this.option("mask");if(i>=e.length)return new zE;let t=e[i],n=t==="\\",o=n?new Ov({maskChar:e[i+1]}):this._getMaskRule(t);return o.next(this._parseMaskRule(i+1+n)),o},_getMaskRule(i){let e;return ee(this._maskRules,(t,n)=>{if(t===i)return e={pattern:t,allowedChars:n},!1}),U(e)?new Ev(q({maskChar:this.option("maskChar")||" "},e)):new Ov({maskChar:i})},_renderMaskedValue(){if(!this._maskRulesChain)return;let i=this.option("value")||"";this._maskRulesChain.clear(this._normalizeChainArguments());let e={length:i.length};e[this._isMaskedValueMode()?"text":"value"]=i,this._handleChain(e),this._displayMask()},_replaceSelectedText(i,e,t){if(t===void 0)return i;let n=i.slice(0,e.start),o=i.slice(e.end);return n+t+o},_isMaskedValueMode(){return this.option("useMaskedValue")},_displayMask(i){i=i||this._caret(),this._renderValue(),this._caret(i)},_isValueEmpty(){return Mm(this._value)},_shouldShowMask(){return this.option("showMaskMode")==="onFocus"?Ps(this._input())||!this._isValueEmpty():!0},_showMaskPlaceholder(){if(this._shouldShowMask()){let i=this._maskRulesChain.text();this.option("text",i),this.option("showMaskMode")==="onFocus"&&this._renderDisplayText(i)}},_renderValue(){if(this._maskRulesChain&&(this._showMaskPlaceholder(),this._$hiddenElement)){let i=this._maskRulesChain.value(),e=Mm(i)?"":this._getPreparedValue();this._$hiddenElement.val(e)}return this.callBase()},_getPreparedValue(){return this._convertToValue().replace(/\s+$/,"")},_valueChangeEventHandler(i){if(!this._maskRulesChain){this.callBase.apply(this,arguments);return}this._saveValueChangeEvent(i),this.option("value",this._getPreparedValue())},_isControlKeyFired(i){return this._isControlKey(Ti(i))||Dn(i)},_handleChain(i){let e=this._maskRulesChain.handle(this._normalizeChainArguments(i));return this._updateMaskInfo(),e},_normalizeChainArguments(i){return i=i||{},i.index=0,i.fullText=this._maskRulesChain.text(),i},_convertToValue(i){return this._isMaskedValueMode()?i=this._replaceMaskCharWithEmpty(i||this._textValue||""):i=i||this._value||"",i},_replaceMaskCharWithEmpty(i){return i.replace(new RegExp(this.option("maskChar"),"g")," ")},_maskKeyHandler(i,e){if(this.option("readOnly"))return;this.setForwardDirection(),i.preventDefault(),this._handleSelection();let t=this._input().val(),n=()=>{t!==this._input().val()&&X.trigger(this._input(),"input")},o=e();o?o.then(n):(this.setForwardDirection(),this._adjustCaret(),this._displayMask(),this._maskRulesChain.reset(),n())},_handleKey(i,e){this._direction(e||"forward"),this._adjustCaret(i),this._handleKeyChain(i),this._moveCaret()},_handleSelection(){if(!this._hasSelection())return;let i=this._caret(),e=new Array(i.end-i.start+1).join(" ");this._handleKeyChain(e)},_handleKeyChain(i){let e=this._caret(),t=this.isForwardDirection()?e.start:e.start-1,n=this.isForwardDirection()?e.end:e.end-1,o=t===n?1:n-t;this._handleChain({text:i,start:t,length:o})},_tryMoveCaretBackward(){this.setBackwardDirection();let i=this._caret().start;return this._adjustCaret(),!i||i!==this._caret().start},_adjustCaret(i){let e=this._caret().start,t=this.isForwardDirection(),n=this._maskRulesChain.adjustedCaret(e,t,i);this._caret({start:n,end:n})},_moveCaret(){let i=this._caret().start,e=i+(this.isForwardDirection()?0:-1),t=this._maskRulesChain.isAccepted(e)?i+(this.isForwardDirection()?1:-1):i;this._caret({start:t,end:t})},_caret(i,e){let t=this._input();if(t.length){if(!arguments.length)return HG(t);HG(t,i,e)}},_hasSelection(){let i=this._caret();return i.start!==i.end},_direction(i){if(!arguments.length)return this._typingDirection;this._typingDirection=i},setForwardDirection(){this._direction("forward")},setBackwardDirection(){this._direction("backward")},isForwardDirection(){return this._direction()==="forward"},_updateMaskInfo(){this._textValue=this._maskRulesChain.text(),this._value=this._maskRulesChain.value()},_clean(){this._maskStrategy&&this._maskStrategy.clean(),this.callBase()},_validateMask(){if(!this._maskRulesChain)return;let i=Mm(this.option("value"))||this._maskRulesChain.isValid(this._normalizeChainArguments());this.option({isValid:i,validationError:i?null:{editorSpecific:!0,message:this.option("maskInvalidMessage")}})},_updateHiddenElement(){this._removeHiddenElement(),this.option("mask")&&(this._input().removeAttr("name"),this._renderHiddenElement()),this._setSubmitElementName(this.option("name"))},_updateMaskOption(){this._updateHiddenElement(),this._renderMask(),this._validateMask(),this._refreshValueChangeEvent()},_processEmptyMask(i){if(i)return;let e=this.option("value");this.option({text:e,isValid:!0,validationError:null}),this.validationRequest.fire({value:e,editor:this}),this._renderValue()},_optionChanged(i){switch(i.name){case"mask":this._updateMaskOption(),this._processEmptyMask(i.value);break;case"maskChar":case"maskRules":case"useMaskedValue":this._updateMaskOption();break;case"value":this._renderMaskedValue(),this._validateMask(),this.callBase(i),this._changedValue=this._input().val();break;case"maskInvalidMessage":break;case"showMaskMode":this.option("text",""),this._renderValue();break;default:this.callBase(i)}},clear(){let{value:i}=this._getDefaultOptions();this.option("value")===i&&this._renderMaskedValue(),this.callBase()}}),_2=gSe;ut("dxTextEditor",_2);var WE=_2;var _Se=et(),bSe=["backspace","tab","enter","pageUp","pageDown","end","home","leftArrow","rightArrow","downArrow","upArrow","del"];var $G=WE.inherit({ctor(i,e){e&&(this._showClearButton=e.showClearButton),this.callBase.apply(this,arguments)},_getDefaultOptions(){return q(this.callBase(),{value:"",mode:"text",maxLength:null})},_initMarkup(){this.$element().addClass("dx-textbox"),this.callBase(),this.setAria("role","textbox")},_renderInputType(){this.callBase(),this._renderSearchMode()},_useTemplates:()=>!1,_renderProps(){this.callBase(),this._toggleMaxLengthProp()},_toggleMaxLengthProp(){let i=this._getMaxLength();i&&i>0?this._input().attr("maxLength",i):this._input().removeAttr("maxLength")},_renderSearchMode(){let i=this._$element;this.option("mode")==="search"?(i.addClass("dx-searchbox"),this._renderSearchIcon(),this._showClearButton===void 0&&(this._showClearButton=this.option("showClearButton"),this.option("showClearButton",!0))):(i.removeClass("dx-searchbox"),this._$searchIcon&&this._$searchIcon.remove(),this.option("showClearButton",this._showClearButton===void 0?this.option("showClearButton"):this._showClearButton),delete this._showClearButton)},_renderSearchIcon(){let i=I("<div>").addClass("dx-icon").addClass("dx-icon-search");i.prependTo(this._input().parent()),this._$searchIcon=i},_getLabelContainerWidth(){if(this._$searchIcon){let i=this._input().parent();return Qe(i)-this._getLabelBeforeWidth()}return this.callBase()},_getLabelBeforeWidth(){let i=this.callBase();return this._$searchIcon&&(i+=Ft(this._$searchIcon)),i},_optionChanged(i){switch(i.name){case"maxLength":this._toggleMaxLengthProp();break;case"mode":this.callBase(i),this._updateLabelWidth();break;case"mask":this.callBase(i),this._toggleMaxLengthProp();break;default:this.callBase(i)}},_onKeyDownCutOffHandler(i){let e=this._getMaxLength();if(e&&!i.ctrlKey&&!this._hasSelection()){let t=I(i.target),n=Ti(i);return this._cutOffExtraChar(t),t.val().length<e||bSe.includes(n)||_Se.getSelection().toString()!==""}return!0},_onChangeCutOffHandler(i){let e=I(i.target);this.option("maxLength")&&this._cutOffExtraChar(e)},_cutOffExtraChar(i){let e=this._getMaxLength(),t=i.val();e&&t.length>e&&i.val(t.substr(0,e))},_getMaxLength(){return!!this.option("mask")?null:this.option("maxLength")}});ut("dxTextBox",$G);var WG=$G;var UG=WG;var Rh=UG;var vSe="dx-dropdowneditor-button-visible",ySe="dxDropDownEditor-selectLabel",UE=class extends Sd{constructor(e,t,n){super(e,t,n),this.currentTemplate=null}_attachEvents(e){let{editor:t}=this;e.option("onClick",n=>{var o;if((o=t._shouldCallOpenHandler)!==null&&o!==void 0&&o.call(t)){t._openHandler(n);return}!t.option("openOnFieldClick")&&t._openHandler(n)}),X.on(e.$element(),"mousedown",n=>{t.$element().is(".dx-state-focused")&&n.preventDefault()})}_create(){let{editor:e}=this,t=I("<div>"),n=this._getOptions();this._addToContainer(t);let o=e._createComponent(t,Ln,q({},n,{elementAttr:{"aria-label":de.format(ySe)}}));return this._legacyRender(e.$element(),t,n.visible),{$element:t,instance:o}}_getOptions(){let{editor:e}=this,t=this._isVisible(),o={focusStateEnabled:!1,hoverStateEnabled:!1,activeStateEnabled:!1,useInkRipple:!1,disabled:e.option("readOnly"),visible:t};return this._addTemplate(o),o}_isVisible(){let{editor:e}=this;return super._isVisible()&&e.option("showDropDownButton")}_legacyRender(e,t,n){e.toggleClass(vSe,n),t&&t.removeClass("dx-button").removeClass("dx-button-mode-contained").addClass("dx-dropdowneditor-button")}_isSameTemplate(){return this.editor.option("dropDownButtonTemplate")===this.currentTemplate}_addTemplate(e){this._isSameTemplate()||(e.template=this.editor._getTemplateByOption("dropDownButtonTemplate"),this.currentTemplate=this.editor.option("dropDownButtonTemplate"))}update(){if(super.update()){let{editor:t,instance:n}=this,o=t.$element(),r=this._getOptions();n?.option(r),this._legacyRender(o,n?.$element(),r.visible)}}};var kg=function(i){if(it())return Ft(i)},Mg=function(i){return i===null&&(i=void 0),typeof i=="function"&&(i=i()),i};var GG="dx-dropdowneditor-input-wrapper";var GE="dx-dropdowneditor-overlay",xSe="dx-dropdowneditor-overlay-flipped",CSe="dx-dropdowneditor-active",wSe="dx-dropdowneditor-field-clickable",SSe="dx-dropdowneditor-field-template-wrapper";var KG=Ve.current().platform==="ios",qG=Rh.inherit({_supportedKeys(){return q({},this.callBase(),{tab(i){if(!this.option("opened"))return;if(!this._popup.getFocusableElements().length){this.close();return}let e=i.shiftKey?this._getLastPopupElement():this._getFirstPopupElement();e&&(X.trigger(e,"focus"),e.select()),i.preventDefault()},escape(i){return this.option("opened")&&i.preventDefault(),this.close(),!0},upArrow(i){return!Dn(i)&&(i.preventDefault(),i.stopPropagation(),i.altKey)?(this.close(),!1):!0},downArrow(i){return!Dn(i)&&(i.preventDefault(),i.stopPropagation(),i.altKey)?(this._validatedOpening(),!1):!0},enter(i){return this.option("opened")&&(i.preventDefault(),this._valueChangeEventHandler(i)),!0}})},_getDefaultButtons(){return this.callBase().concat([{name:"dropDown",Ctor:UE}])},_getDefaultOptions(){return q(this.callBase(),{value:null,onOpened:null,onClosed:null,opened:!1,acceptCustomValue:!0,applyValueMode:"instantly",deferRendering:!0,activeStateEnabled:!0,dropDownButtonTemplate:"dropDownButton",fieldTemplate:null,openOnFieldClick:!1,showDropDownButton:!0,buttons:void 0,dropDownOptions:{showTitle:!1},popupPosition:this._getDefaultPopupPosition(),onPopupInitialized:null,applyButtonText:de.format("OK"),cancelButtonText:de.format("Cancel"),buttonsLocation:"default",useHiddenSubmitElement:!1,validationMessagePosition:"auto"})},_useTemplates:()=>!0,_getDefaultPopupPosition(i){let e=Ar(i);return{offset:{h:0,v:-1},my:`${e} top`,at:`${e} bottom`,collision:"flip flip"}},_defaultOptionsRules(){return this.callBase().concat([{device(i){return i.platform==="generic"},options:{popupPosition:{offset:{v:0}}}}])},_inputWrapper(){return this.$element().find(`.${GG}`).first()},_init(){this.callBase(),this._initVisibilityActions(),this._initPopupInitializedAction(),this._updatePopupPosition(this.option("rtlEnabled")),this._options.cache("dropDownOptions",this.option("dropDownOptions"))},_updatePopupPosition(i){let{my:e,at:t}=this._getDefaultPopupPosition(i),n=this.option("popupPosition");this.option("popupPosition",q({},n,{my:e,at:t}))},_initVisibilityActions(){this._openAction=this._createActionByOption("onOpened",{excludeValidators:["disabled","readOnly"]}),this._closeAction=this._createActionByOption("onClosed",{excludeValidators:["disabled","readOnly"]})},_initPopupInitializedAction(){this._popupInitializedAction=this._createActionByOption("onPopupInitialized",{excludeValidators:["disabled","readOnly"]})},_initMarkup(){this._renderSubmitElement(),this.callBase(),this.$element().addClass("dx-dropdowneditor"),this.setAria("role",this._getAriaRole())},_render(){this.callBase(),this._renderOpenHandler(),this._attachFocusOutHandler(),this._renderOpenedState()},_renderContentImpl(){this.option("deferRendering")||this._createPopup()},_renderInput(){this.callBase(),this._renderTemplateWrapper(),this._wrapInput(),this._setDefaultAria()},_wrapInput(){this._$container=this.$element().wrapInner(I("<div>").addClass(GG)).children().eq(0)},_getAriaHasPopup:()=>"true",_getAriaAutocomplete:()=>"none",_getAriaRole:()=>"combobox",_setDefaultAria(){this.setAria({haspopup:this._getAriaHasPopup(),autocomplete:this._getAriaAutocomplete(),role:this._getAriaRole()})},_readOnlyPropValue(){return!this._isEditable()||this.callBase()},_cleanFocusState(){this.callBase(),this.option("fieldTemplate")&&this._detachFocusEvents()},_getFieldTemplate(){return this.option("fieldTemplate")&&this._getTemplateByOption("fieldTemplate")},_renderMask(){this.option("fieldTemplate")||this.callBase()},_renderField(){let i=this._getFieldTemplate();i&&this._renderTemplatedField(i,this._fieldRenderData())},_renderPlaceholder(){!!this._getFieldTemplate()||this.callBase()},_renderValue(){this.option("useHiddenSubmitElement")&&this._setSubmitValue(),this.callBase().always(this._renderField.bind(this))},_getButtonsContainer(){return this._getFieldTemplate()?this._$container:this._$textEditorContainer},_renderTemplateWrapper(){this._getFieldTemplate()&&(this._$templateWrapper||(this._$templateWrapper=I("<div>").addClass(SSe).prependTo(this.$element())))},_renderTemplatedField(i,e){let t=Ps(this._input());this._detachKeyboardEvents(),this._detachFocusEvents(),this._$textEditorContainer.remove(),this._$templateWrapper.empty();let n=this._$templateWrapper;i.render({model:e,container:tt(n),onRendered:()=>{if(!!!this.$element().find(n).length)return;let r=this._input();if(!r.length)throw bt.Error("E1010");this._integrateInput(),t&&X.trigger(r,"focus")}})},_integrateInput(){var i;let{isValid:e}=this.option();this._renderFocusState(),this._refreshValueChangeEvent(),this._refreshEvents(),this._refreshEmptinessEvent(),this._setDefaultAria(),this._setFieldAria(),this._toggleValidationClasses(!e),(i=this.option("_onMarkupRendered"))===null||i===void 0||i()},_refreshEmptinessEvent(){X.off(this._input(),"input blur",this._toggleEmptinessEventHandler),this._renderEmptinessEvent()},_fieldRenderData(){return this.option("value")},_initTemplates(){this._templateManager.addDefaultTemplates({dropDownButton:new Ma(i=>{let e=I("<div>").addClass("dx-dropdowneditor-icon");I(i.container).append(e)})}),this.callBase()},_renderOpenHandler(){let i=this._inputWrapper(),e=Se(Kt,this.NAME),t=this.option("openOnFieldClick");X.off(i,e),X.on(i,e,this._getInputClickHandler(t)),this.$element().toggleClass(wSe,t),t&&(this._openOnFieldClickAction=this._createAction(this._openHandler.bind(this)))},_attachFocusOutHandler(){KG&&(this._detachFocusOutEvents(),X.on(this._inputWrapper(),Se("focusout",this.NAME),i=>{let e=i.relatedTarget;e&&this.option("opened")&&this._isTargetOutOfComponent(e)&&this.close()}))},_isTargetOutOfComponent(i){let e=this.content?I(this.content()).closest(`.${GE}`):this._$popup;return I(i).closest(`.${GE}`,e).length===0},_detachFocusOutEvents(){KG&&X.off(this._inputWrapper(),Se("focusout",this.NAME))},_getInputClickHandler(i){return i?e=>{this._executeOpenAction(e)}:()=>{this._focusInput()}},_openHandler(){this._toggleOpenState()},_executeOpenAction(i){this._openOnFieldClickAction({event:i})},_keyboardEventBindingTarget(){return this._input()},_focusInput(){return this.option("disabled")?!1:(this.option("focusStateEnabled")&&!Ps(this._input())&&(this._resetCaretPosition(),X.trigger(this._input(),"focus")),!0)},_resetCaretPosition(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this._input().get(0);if(e){let{value:t}=e,n=U(t)&&(i||this._isEditable())?t.length:0;this._caret({start:n,end:n},!0)}},_isEditable(){return this.option("acceptCustomValue")},_toggleOpenState(i){this._focusInput()&&(this.option("readOnly")||(i=arguments.length?i:!this.option("opened"),this.option("opened",i)))},_getControlsAria(){return this._popup&&this._popupContentId},_renderOpenedState(){let i=this.option("opened");i&&this._createPopup(),this.$element().toggleClass(CSe,i),this._setPopupOption("visible",i);let e={expanded:i,controls:this._getControlsAria()};this.setAria(e),this.setAria("owns",i?this._popupContentId:void 0,this.$element())},_createPopup(){this._$popup||(this._$popup=I("<div>").addClass(GE).appendTo(this.$element()),this._renderPopup(),this._renderPopupContent(),this._setPopupAriaLabel())},_setPopupAriaLabel(){let i=this._popup.$overlayContent();this.setAria("label","Dropdown",i)},_renderPopupContent:pe,_renderPopup(){let i=q(this._popupConfig(),this._options.cache("dropDownOptions"));delete i.closeOnOutsideClick,this._popup=this._createComponent(this._$popup,Qr,i),this._popup.on({showing:this._popupShowingHandler.bind(this),shown:this._popupShownHandler.bind(this),hiding:this._popupHidingHandler.bind(this),hidden:this._popupHiddenHandler.bind(this),contentReady:this._contentReadyHandler.bind(this)}),this._attachPopupKeyHandler(),this._contentReadyHandler(),this._setPopupContentId(this._popup.$content()),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")},_attachPopupKeyHandler(){X.on(this._popup.$overlayContent(),Se("keydown",this.NAME),i=>this._popupKeyHandler(i))},_popupKeyHandler(i){switch(Ti(i)){case"tab":this._popupTabHandler(i);break;case"escape":this._popupEscHandler(i)}},_popupTabHandler(i){let e=I(i.target),t=i.shiftKey&&e.is(this._getFirstPopupElement());(!i.shiftKey&&e.is(this._getLastPopupElement())||t)&&(X.trigger(this.field(),"focus"),i.preventDefault())},_popupEscHandler(){X.trigger(this._input(),"focus"),this.close()},_setPopupContentId(i){this._popupContentId=`dx-${new yi}`,this.setAria("id",this._popupContentId,i)},_contentReadyHandler:pe,_popupConfig(){return{onInitialized:this._getPopupInitializedHandler(),position:q(this.option("popupPosition"),{of:this.$element()}),showTitle:this.option("dropDownOptions.showTitle"),_ignoreFunctionValueDeprecation:!0,width:()=>kg(this.$element()),height:"auto",shading:!1,hideOnParentScroll:!0,hideOnOutsideClick:i=>this._closeOutsideDropDownHandler(i),animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,dragEnabled:!1,toolbarItems:this._getPopupToolbarItems(),onPositioned:this._popupPositionedHandler.bind(this),fullScreen:!1,contentTemplate:null,_hideOnParentScrollTarget:this.$element(),_wrapperClassExternal:GE,_ignorePreventScrollEventsDeprecation:!0}},_popupInitializedHandler:pe,_getPopupInitializedHandler(){let i=this.option("onPopupInitialized");return e=>{this._popupInitializedHandler(e),i&&this._popupInitializedAction({popup:e.component})}},_dimensionChanged(){if(it()&&!this.$element().is(":visible")){this.close();return}this._updatePopupWidth()},_updatePopupWidth(){Mg(this.option("dropDownOptions.width"))===void 0&&this._setPopupOption("width",()=>kg(this.$element()))},_popupPositionedHandler(i){var e;let{labelMode:t,stylingMode:n}=this.option();if(!this._popup)return;let o=this._popup.$overlayContent(),r=(e=i.position)===null||e===void 0||(e=e.v)===null||e===void 0?void 0:e.flip,s=t!=="hidden"&&t!=="outside"&&n==="outlined";if(i.position&&o.toggleClass(xSe,r),r&&s&&this._label.isVisible()){let a=this._label.$element();In(o,{top:ar(o).top-parseInt(a.css("fontSize"))})}},_popupShowingHandler:pe,_popupHidingHandler(){this.option("opened",!1)},_popupShownHandler(){var i;this._openAction(),(i=this._validationMessage)===null||i===void 0||i.option("positionSide",this._getValidationMessagePositionSide())},_popupHiddenHandler(){var i;this._closeAction(),(i=this._validationMessage)===null||i===void 0||i.option("positionSide",this._getValidationMessagePositionSide())},_getValidationMessagePositionSide(){let i=this.option("validationMessagePosition");if(i!=="auto")return i;let e="bottom";if(this._popup&&this._popup.option("visible")){let{top:t}=lr.setup(this.$element()),{top:n}=lr.setup(this._popup.$content());e=t+this.option("popupPosition").offset.v>n?"bottom":"top"}return e},_closeOutsideDropDownHandler(i){let{target:e}=i,t=I(e),n=this.getButton("dropDown"),o=n&&n.$element(),r=!!t.closest(this.$element()).length,s=!!t.closest(o).length;return!r&&!s},_clean(){delete this._openOnFieldClickAction,delete this._$templateWrapper,this._$popup&&(this._$popup.remove(),delete this._$popup,delete this._popup),this.callBase()},_setPopupOption(i,e){this._setWidgetOption("_popup",arguments)},_validatedOpening(){this.option("readOnly")||this._toggleOpenState(!0)},_getPopupToolbarItems(){return this.option("applyValueMode")==="useButtons"?this._popupToolbarItemsConfig():[]},_getFirstPopupElement(){return I(this._popup.getFocusableElements()).first()},_getLastPopupElement(){return I(this._popup.getFocusableElements()).last()},_popupToolbarItemsConfig(){let i=[{shortcut:"done",options:{onClick:this._applyButtonHandler.bind(this),text:this.option("applyButtonText")}},{shortcut:"cancel",options:{onClick:this._cancelButtonHandler.bind(this),text:this.option("cancelButtonText")}}];return this._applyButtonsLocation(i)},_applyButtonsLocation(i){let e=this.option("buttonsLocation"),t=i;if(e!=="default"){let n=ad(e);ee(t,(o,r)=>{q(r,{toolbar:n[0],location:n[1]})})}return t},_applyButtonHandler(){this.close(),this.option("focusStateEnabled")&&this.focus()},_cancelButtonHandler(){this.close(),this.option("focusStateEnabled")&&this.focus()},_popupOptionChanged(i){let e=Tn.getOptionsFromContainer(i);this._setPopupOption(e);let t=Object.keys(e);(t.includes("width")||t.includes("height"))&&this._dimensionChanged()},_renderSubmitElement(){this.option("useHiddenSubmitElement")&&(this._$submitElement=I("<input>").attr("type","hidden").appendTo(this.$element()))},_setSubmitValue(){this._getSubmitElement().val(this.option("value"))},_getSubmitElement(){return this.option("useHiddenSubmitElement")?this._$submitElement:this.callBase()},_dispose(){this._detachFocusOutEvents(),this.callBase()},_optionChanged(i){var e;switch(i.name){case"width":case"height":this.callBase(i),(e=this._popup)===null||e===void 0||e.repaint();break;case"opened":this._renderOpenedState();break;case"onOpened":case"onClosed":this._initVisibilityActions();break;case"onPopupInitialized":this._initPopupInitializedAction();break;case"fieldTemplate":case"acceptCustomValue":case"openOnFieldClick":this._invalidate();break;case"dropDownButtonTemplate":case"showDropDownButton":this._updateButtons(["dropDown"]);break;case"dropDownOptions":this._popupOptionChanged(i),this._options.cache("dropDownOptions",this.option("dropDownOptions"));break;case"popupPosition":break;case"deferRendering":it()&&this._createPopup();break;case"applyValueMode":case"applyButtonText":case"cancelButtonText":case"buttonsLocation":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"useHiddenSubmitElement":this._$submitElement&&(this._$submitElement.remove(),this._$submitElement=void 0),this._renderSubmitElement();break;case"rtlEnabled":this._updatePopupPosition(i.value),this.callBase(i);break;default:this.callBase(i)}},open(){this.option("opened",!0)},close(){this.option("opened",!1)},field(){return tt(this._input())},content(){return this._popup?this._popup.content():null}});ut("dxDropDownEditor",qG);var KE=qG;var YG=et();var ESe=["startswith","contains","endwith","notcontains"],XG=Ve.real().platform!=="android",ZG=KE.inherit({_supportedKeys(){let i=this.callBase();return q({},i,{tab(e){if(this._allowSelectItemByTab()){this._saveValueChangeEvent(e);let t=I(this._list.option("focusedElement"));t.length&&this._setSelectedElement(t)}i.tab.apply(this,arguments)},space:pe,home:pe,end:pe})},_allowSelectItemByTab(){return this.option("opened")&&this.option("applyValueMode")==="instantly"},_setSelectedElement(i){let e=this._valueGetter(this._list._getItemData(i));this._setValue(e)},_setValue(i){this.option("value",i)},_getDefaultOptions(){return q(this.callBase(),q(l2._dataExpressionDefaultOptions(),{displayValue:void 0,searchEnabled:!1,searchMode:"contains",searchTimeout:500,minSearchLength:0,searchExpr:null,valueChangeEvent:"input change keyup",selectedItem:null,noDataText:de.format("dxCollectionWidget-noDataText"),encodeNoDataText:!1,onSelectionChanged:null,onItemClick:pe,showDataBeforeSearch:!1,grouped:!1,groupTemplate:"group",popupPosition:{my:"left top",at:"left bottom",offset:{h:0,v:0},collision:"flip"},wrapItemText:!1,useItemTextAsTitle:!1}))},_defaultOptionsRules(){return this.callBase().concat([{device:{platform:"ios"},options:{popupPosition:{offset:{v:-1}}}},{device:{platform:"generic"},options:{buttonsLocation:"bottom center"}}])},_setOptionsByReference(){this.callBase(),q(this._optionsByReference,{value:!0,selectedItem:!0,displayValue:!0})},_init(){this.callBase(),this._initDataExpressions(),this._initActions(),this._setListDataSource(),this._validateSearchMode(),this._clearSelectedItem(),this._initItems()},_setListFocusedElementOptionChange(){this._list._updateParentActiveDescendant=this._updateActiveDescendant.bind(this)},_initItems(){let{items:i}=this.option();i&&!i.length&&this._dataSource&&(this.option().items=this._dataSource.items())},_initActions(){this._initContentReadyAction(),this._initSelectionChangedAction(),this._initItemClickAction()},_initContentReadyAction(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initSelectionChangedAction(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})},_initItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")},_initTemplates(){this.callBase(),this._templateManager.addDefaultTemplates({item:new lh("item")})},_isEditable(){return this.callBase()||this.option("searchEnabled")},_saveFocusOnWidget(){this._list&&this._list.initialOption("focusStateEnabled")&&this._focusInput()},_fitIntoRange(i,e,t){return i>t?e:i<e?t:i},_items(){let i=this._getPlainItems(!this._list&&this._dataSource.items());return new ro(i).filter("disabled","<>",!0).toArray()},_calcNextItem(i){let e=this._items(),t=this._fitIntoRange(this._getSelectedIndex()+i,0,e.length-1);return e[t]},_getSelectedIndex(){let i=this._items(),e=this.option("selectedItem"),t=-1;return ee(i,(n,o)=>{if(this._isValueEquals(o,e))return t=n,!1}),t},_createPopup(){this.callBase(),this._updateCustomBoundaryContainer(),this._popup.$wrapper().addClass(this._popupWrapperClass());let i=this._popup.$content();X.off(i,"mouseup"),X.on(i,"mouseup",this._saveFocusOnWidget.bind(this))},_updateCustomBoundaryContainer(){let i=this.option("dropDownOptions.container"),e=i&&I(i);if(e&&e.length&&!ln(e.get(0))){let t=[].slice.call(e.parents());t.unshift(e.get(0)),ee(t,(n,o)=>{if(o===I("body").get(0))return!1;if(YG.getComputedStyle(o).overflowY==="hidden")return this._$customBoundaryContainer=I(o),!1})}},_popupWrapperClass:()=>"dx-dropdownlist-popup-wrapper",_renderInputValue(){let i=this._getCurrentValue();return this._rejectValueLoading(),this._loadInputValue(i,this._setSelectedItem.bind(this)).always(this.callBase.bind(this,i))},_loadInputValue(i,e){return this._loadItem(i).always(e)},_getItemFromPlain(i,e){let t,n;return e&&typeof i!="object"&&(e.itemByValue||(e.itemByValue={},t=this._getPlainItems(),t.forEach(function(o){e.itemByValue[this._valueGetter(o)]=o},this)),n=e.itemByValue[i]),n||(t=this._getPlainItems(),n=vo(t,o=>this._isValueEquals(this._valueGetter(o),i))[0]),n},_loadItem(i,e){let t=this._getItemFromPlain(i,e);return t!==void 0?le().resolve(t).promise():this._loadValue(i)},_getPlainItems(i){let e=[];i=i||this.option("items")||this._dataSource.items()||[];for(let t=0;t<i.length;t++)i[t]&&i[t].items?e=e.concat(i[t].items):e.push(i[t]);return e},_updateActiveDescendant(i){var e;let t=this.option("opened"),n=(e=this._list)===null||e===void 0?void 0:e.getFocusedItemId(),o=I(`#${n}`).length>0,r=t&&o&&n;this.setAria({activedescendant:r||null},i)},_setSelectedItem(i){let e=this._displayValue(i);this.option("selectedItem",ji(i,null)),this.option("displayValue",e)},_displayValue(i){return this._displayGetter(i)},_refreshSelected(){let i={};this._listItemElements().each((e,t)=>{let n=I(t),o=this._valueGetter(n.data("dxListItemData"));this._isSelectedValue(o,i)?this._list.selectItem(n):this._list.unselectItem(n)})},_popupShownHandler(){this.callBase(),this._setFocusPolicy()},_setFocusPolicy(){!this.option("focusStateEnabled")||!this._list||this._list.option("focusedElement",null)},_isSelectedValue(i){return this._isValueEquals(i,this.option("value"))},_validateSearchMode(){let i=this.option("searchMode"),e=i.toLowerCase();if(!ESe.includes(e))throw bt.Error("E1019",i)},_clearSelectedItem(){this.option("selectedItem",null)},_processDataSourceChanging(){this._initDataController(),this._setListOption("_dataController",this._dataController),this._setListDataSource(),this._renderInputValue().fail(()=>{this._isCustomValueAllowed()||this._clearSelectedItem()})},_isCustomValueAllowed(){return this.option("displayCustomValue")},clear(){this.callBase(),this._clearFilter(),this._clearSelectedItem()},_listItemElements(){return this._$list?this._$list.find(".dx-list-item"):I()},_popupConfig(){return q(this.callBase(),{templatesRenderAsynchronously:!1,autoResizeEnabled:!1,maxHeight:this._getMaxHeight.bind(this)})},_renderPopupContent(){this.callBase(),this._renderList()},_getKeyboardListeners(){let i=this._canListHaveFocus();return this.callBase().concat([!i&&this._list])},_renderList(){this._listId=`dx-${new yi()._value}`;let i=I("<div>").attr("id",this._listId).appendTo(this._popup.$content());this._$list=i,this._list=this._createComponent(i,wd,this._listConfig()),this._refreshList(),this._renderPreventBlurOnListClick(),this._setListFocusedElementOptionChange()},_renderPreventBlurOnListClick(){let i=Se("mousedown","dxDropDownList");X.off(this._$list,i),X.on(this._$list,i,e=>e.preventDefault())},_getControlsAria(){return this._list&&this._listId},_renderOpenedState(){this.callBase(),this._list&&this._updateActiveDescendant(),this.setAria("owns",this._popup&&this._popupContentId)},_getAriaHasPopup:()=>"listbox",_refreshList(){this._list&&this._shouldRefreshDataSource()&&this._setListDataSource()},_shouldRefreshDataSource(){return!!this._list.option("dataSource")!==this._needPassDataSourceToList()},_isDesktopDevice:()=>Ve.real().deviceType==="desktop",_listConfig(){let i={selectionMode:"single",_templates:this.option("_templates"),templateProvider:this.option("templateProvider"),noDataText:this.option("noDataText"),encodeNoDataText:this.option("encodeNoDataText"),grouped:this.option("grouped"),wrapItemText:this.option("wrapItemText"),useItemTextAsTitle:this.option("useItemTextAsTitle"),onContentReady:this._listContentReadyHandler.bind(this),itemTemplate:this.option("itemTemplate"),indicateLoading:!1,keyExpr:this._getCollectionKeyExpr(),displayExpr:this._displayGetterExpr(),groupTemplate:this.option("groupTemplate"),onItemClick:this._listItemClickAction.bind(this),dataSource:this._getDataSource(),_dataController:this._dataController,hoverStateEnabled:this._isDesktopDevice()?this.option("hoverStateEnabled"):!1,focusStateEnabled:this._isDesktopDevice()?this.option("focusStateEnabled"):!1};return this._canListHaveFocus()||(i.tabIndex=null),i},_canListHaveFocus:()=>!1,_getDataSource(){return this._needPassDataSourceToList()?this._dataSource:null},_dataSourceOptions:()=>({paginate:!1}),_getGroupedOption(){return this.option("grouped")},_dataSourceFromUrlLoadMode:()=>"raw",_listContentReadyHandler(){this._list=this._list||this._$list.dxList("instance"),this.option("deferRendering")||this._refreshSelected(),this._updatePopupWidth(),this._updateListDimensions(),this._contentReadyAction()},_setListOption(i,e){this._setWidgetOption("_list",arguments)},_listItemClickAction(i){this._listItemClickHandler(i),this._itemClickAction(i)},_listItemClickHandler:pe,_setListDataSource(){this._list&&(this._setListOption("dataSource",this._getDataSource()),this._needPassDataSourceToList()||this._setListOption("items",[]))},_needPassDataSourceToList(){return this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded()},_isMinSearchLengthExceeded(){return this._searchValue().toString().length>=this.option("minSearchLength")},_needClearFilter(){return this._canKeepDataSource()?!1:this._needPassDataSourceToList()},_canKeepDataSource(){let i=this._isMinSearchLengthExceeded();return this._dataController.isLoaded()&&this.option("showDataBeforeSearch")&&this.option("minSearchLength")&&!i&&!this._isLastMinSearchLengthExceeded},_searchValue(){return this._input().val()||""},_getSearchEvent(){return Se("input",`${this.NAME}Search`)},_getCompositionStartEvent(){return Se("compositionstart",`${this.NAME}CompositionStart`)},_getCompositionEndEvent(){return Se("compositionend",`${this.NAME}CompositionEnd`)},_getSetFocusPolicyEvent(){return Se("input",`${this.NAME}FocusPolicy`)},_renderEvents(){this.callBase(),X.on(this._input(),this._getSetFocusPolicyEvent(),()=>{this._setFocusPolicy()}),this._shouldRenderSearchEvent()&&(X.on(this._input(),this._getSearchEvent(),i=>{this._searchHandler(i)}),XG&&(X.on(this._input(),this._getCompositionStartEvent(),()=>{this._isTextCompositionInProgress(!0)}),X.on(this._input(),this._getCompositionEndEvent(),i=>{this._isTextCompositionInProgress(void 0),this._searchHandler(i,this._searchValue())})))},_shouldRenderSearchEvent(){return this.option("searchEnabled")},_refreshEvents(){X.off(this._input(),this._getSearchEvent()),X.off(this._input(),this._getSetFocusPolicyEvent()),XG&&(X.off(this._input(),this._getCompositionStartEvent()),X.off(this._input(),this._getCompositionEndEvent())),this.callBase()},_isTextCompositionInProgress(i){if(arguments.length)this._isTextComposition=i;else return this._isTextComposition},_searchHandler(i,e){if(this._isTextCompositionInProgress())return;if(!this._isMinSearchLengthExceeded()){this._searchCanceled();return}let t=this.option("searchTimeout");t?(this._clearSearchTimer(),this._searchTimer=setTimeout(()=>{this._searchDataSource(e)},t)):this._searchDataSource(e)},_searchCanceled(){this._clearSearchTimer(),this._needClearFilter()&&this._filterDataSource(null),this._refreshList()},_searchDataSource(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._searchValue();this._filterDataSource(i)},_filterDataSource(i){this._clearSearchTimer();let e=this._dataController;e.searchExpr(this.option("searchExpr")||this._displayGetterExpr()),e.searchOperation(this.option("searchMode")),e.searchValue(i),e.load().done(this._dataSourceFiltered.bind(this,i))},_clearFilter(){let i=this._dataController;i.searchValue()&&i.searchValue(null)},_dataSourceFiltered(){this._isLastMinSearchLengthExceeded=this._isMinSearchLengthExceeded(),this._refreshList(),this._refreshPopupVisibility()},_shouldOpenPopup(){return this._hasItemsToShow()},_refreshPopupVisibility(){if(this.option("readOnly")||!this._searchValue())return;let i=this._shouldOpenPopup();i&&!this._isFocused()||(this.option("opened",i),i&&(this._updatePopupWidth(),this._updateListDimensions()))},_dataSourceChangedHandler(i){this._dataController.pageIndex()===0?this.option().items=i:this.option().items=this.option().items.concat(i)},_hasItemsToShow(){let t=(this._dataController.items()||[]).length;return!!(this._needPassDataSourceToList()&&t)},_clearSearchTimer(){clearTimeout(this._searchTimer),delete this._searchTimer},_popupShowingHandler(){this._updatePopupWidth(),this._updateListDimensions()},_dimensionChanged(){this.callBase(),this._updateListDimensions()},_needPopupRepaint(){let i=this._dataController,e=i.pageIndex(),t=U(this._pageIndex)&&e<=this._pageIndex||i.isLastPage()&&!this._list._scrollViewIsFull();return this._pageIndex=e,t},_updateListDimensions(){this._popup&&(this._needPopupRepaint()&&this._popup.repaint(),this._list&&this._list.updateDimensions())},_getMaxHeight(){let i=this.$element(),e=this._$customBoundaryContainer,t=i.offset().top-(e?e.offset().top:0),n=Ct(YG),o=e?Math.min(Ct(e),n):n,r=Math.max(t,o-t-Ct(i));return Math.min(.5*o,r)},_clean(){this._list&&delete this._list,delete this._isLastMinSearchLengthExceeded,this.callBase()},_dispose(){this._clearSearchTimer(),this.callBase()},_setCollectionWidgetOption(){this._setListOption.apply(this,arguments)},_setSubmitValue(){let i=this.option("value"),e=this._shouldUseDisplayValue(i)?this._displayGetter(i):i;this._getSubmitElement().val(e)},_shouldUseDisplayValue(i){return this.option("valueExpr")==="this"&&Ke(i)},_optionChanged(i){switch(this._dataExpressionOptionChanged(i),i.name){case"hoverStateEnabled":case"focusStateEnabled":this._isDesktopDevice()&&this._setListOption(i.name,i.value),this.callBase(i);break;case"items":this.option("dataSource")||this._processDataSourceChanging();break;case"dataSource":this._processDataSourceChanging();break;case"valueExpr":this._renderValue(),this._setListOption("keyExpr",this._getCollectionKeyExpr());break;case"displayExpr":this._renderValue(),this._setListOption("displayExpr",this._displayGetterExpr());break;case"searchMode":this._validateSearchMode();break;case"minSearchLength":this._refreshList();break;case"searchEnabled":case"showDataBeforeSearch":case"searchExpr":this._invalidate();break;case"onContentReady":this._initContentReadyAction();break;case"onSelectionChanged":this._initSelectionChangedAction();break;case"onItemClick":this._initItemClickAction();break;case"grouped":case"groupTemplate":case"wrapItemText":case"noDataText":case"encodeNoDataText":case"useItemTextAsTitle":this._setListOption(i.name);break;case"displayValue":this.option("text",i.value);break;case"itemTemplate":case"searchTimeout":break;case"selectedItem":i.previousValue!==i.value&&this._selectionChangedAction({selectedItem:i.value});break;default:this.callBase(i)}}}).include(l2,kE);ut("dxDropDownList",ZG);var QG=ZG;var JG=QG;var eK={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},b2=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(i){return[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10)]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d*\.*\d+)\)$/,process:function(i){return[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),parseFloat(i[4])]}},{re:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/,process:function(i){return[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]}},{re:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/,process:function(i){return[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16),Number((parseInt(i[4],16)/255).toFixed(2))]}},{re:/^#([a-f0-9]{1})([a-f0-9]{1})([a-f0-9]{1})([a-f0-9]{1})$/,process:function(i){return[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16),Number((parseInt(i[4]+i[4],16)/255).toFixed(2))]}},{re:/^#([a-f0-9]{1})([a-f0-9]{1})([a-f0-9]{1})$/,process:function(i){return[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)]}},{re:/^hsv\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(i){let e=parseInt(i[1],10),t=parseInt(i[2],10),n=parseInt(i[3],10),o=tK(e,t,n);return[o[0],o[1],o[2],1,[e,t,n]]}},{re:/^hsl\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(i){let e=parseInt(i[1],10),t=parseInt(i[2],10),n=parseInt(i[3],10),o=iK(e,t,n);return[o[0],o[1],o[2],1,null,[e,t,n]]}}],eu=Math.round;function Fh(i){this.baseColor=i;let e;i&&(e=String(i).toLowerCase().replace(/ /g,""),e=eK[e]?"#"+eK[e]:e,e=OSe(e)),e||(this.colorIsInvalid=!0),e=e||{},this.r=Ed(e[0]),this.g=Ed(e[1]),this.b=Ed(e[2]),this.a=Ed(e[3],1,1),e[4]?this.hsv={h:e[4][0],s:e[4][1],v:e[4][2]}:this.hsv=DSe(this.r,this.g,this.b),e[5]?this.hsl={h:e[5][0],s:e[5][1],l:e[5][2]}:this.hsl=ASe(this.r,this.g,this.b)}function OSe(i){if(i==="transparent")return[0,0,0,0];let e=0,t=b2.length,n;for(;e<t;++e)if(n=b2[e].re.exec(i),n)return b2[e].process(n);return null}function Ed(i,e,t){return e=e||0,t=t||255,i<0||isNaN(i)?e:i>t?t:i}function ISe(i,e,t){return"#"+(16777216|i<<16|e<<8|t).toString(16).slice(1)}function DSe(i,e,t){let n=Math.max(i,e,t),o=Math.min(i,e,t),r=n-o,s,a,l=n;if(a=n===0?0:1-o/n,n===o)s=0;else switch(n){case i:s=(e-t)/r*60,e<t&&(s+=360);break;case e:s=(t-i)/r*60+120;break;case t:s=(i-e)/r*60+240}return a*=100,l*=100/255,{h:Math.round(s),s:Math.round(a),v:Math.round(l)}}function tK(i,e,t){let n=Math.floor(i%360/60),o=(100-e)*t/100,r=i%60/60*(t-o),s=o+r,a=t-r,l,d,c;switch(n){case 0:l=t,d=s,c=o;break;case 1:l=a,d=t,c=o;break;case 2:l=o,d=t,c=s;break;case 3:l=o,d=a,c=t;break;case 4:l=s,d=o,c=t;break;case 5:l=t,d=o,c=a}return[Math.round(2.55*l),Math.round(2.55*d),Math.round(2.55*c)]}function TSe(i,e,t,n){switch(Math.max(i,e,t)){case i:return(e-t)/n+(e<t?6:0);case e:return(t-i)/n+2;case t:return(i-e)/n+4}}function ASe(i,e,t){i=Rg(i,255),e=Rg(e,255),t=Rg(t,255);let n=Math.max(i,e,t),o=Math.min(i,e,t),r=n+o,s,a,l=r/2;if(n===o)s=a=0;else{let d=n-o;l>.5?a=d/(2-r):a=d/r,s=TSe(i,e,t,d),s/=6}return{h:eu(360*s),s:eu(100*a),l:eu(100*l)}}function v2(i,e){let t=e;return i==="r"&&(t=e+1/3),i==="b"&&(t=e-1/3),t}function kSe(i){return i<0&&(i+=1),i>1&&(i-=1),i}function y2(i,e,t){return t=kSe(t),t<1/6?i+6*(e-i)*t:t<.5?e:t<2/3?i+(e-i)*(2/3-t)*6:i}function iK(i,e,t){let n,o,r;if(i=Rg(i,360),e=Rg(e,100),t=Rg(t,100),e===0)n=o=r=t;else{let s=t<.5?t*(1+e):t+e-t*e,a=2*t-s;n=y2(a,s,v2("r",i)),o=y2(a,s,v2("g",i)),r=y2(a,s,v2("b",i))}return[eu(255*n),eu(255*o),eu(255*r)]}function Rg(i,e){return i=Math.min(e,Math.max(0,parseFloat(i))),Math.abs(i-e)<1e-6?1:i%e/parseFloat(e)}function x2(i,e,t){return e=e||0,t=t||255,!(i%1!==0||i<e||i>t||typeof i!="number"||isNaN(i))}Fh.prototype={constructor:Fh,highlight:function(i){return i=i||10,this.alter(i).toHex()},darken:function(i){return i=i||10,this.alter(-i).toHex()},alter:function(i){let e=new Fh;return e.r=Ed(this.r+i),e.g=Ed(this.g+i),e.b=Ed(this.b+i),e},blend:function(i,e){let t=i instanceof Fh?i:new Fh(i),n=new Fh;return n.r=Ed(eu(this.r*(1-e)+t.r*e)),n.g=Ed(eu(this.g*(1-e)+t.g*e)),n.b=Ed(eu(this.b*(1-e)+t.b*e)),n},toHex:function(){return ISe(this.r,this.g,this.b)},getPureColor:function(){let i=tK(this.hsv.h,100,100);return new Fh("rgb("+i.join(",")+")")},isValidHex:function(i){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(i)},isValidRGB:function(i,e,t){return!(!x2(i)||!x2(e)||!x2(t))},isValidAlpha:function(i){return!(isNaN(i)||i<0||i>1||typeof i!="number")},colorIsInvalid:!1,fromHSL:function(i){let e=new Fh,t=iK(i.h,i.s,i.l);return e.r=t[0],e.g=t[1],e.b=t[2],e}};var{PI:MSe,LN10:$pt,abs:Wpt,log:Upt,floor:Gpt,ceil:Kpt,pow:qpt,sqrt:Ypt,atan2:Xpt}=Math;var Zpt=st.dateToMilliseconds;var Qpt=MSe/180;var oK=/^(\d{4,})(-)?(\d{2})(-)?(\d{2})(?:T(\d{2})(:)?(\d{2})?(:)?(\d{2}(?:\.(\d{1,3})\d*)?)?)?(Z|([+-])(\d{2})(:)?(\d{2})?)?$/,rK=/^(\d{2}):(\d{2})(:(\d{2}))?$/,nK=["","yyyy","","MM","","dd","THH","","mm","","ss",".SSS"],RSe=/^(\d{4})\/(\d{2})\/(\d{2})$/;var sK=function(i,e){let t;return We(i)&&!e&&(t=PSe(i)),t||FSe(i)};function Jr(i){return+i||0}function FSe(i){let e=aK(i)==="yyyy/MM/dd",t=!no(i)&&Date.parse(i);if(!t&&e){let n=i.match(RSe);if(n){let o=new Date(Jr(n[1]),Jr(n[2]),Jr(n[3]));return o.setFullYear(Jr(n[1])),o.setMonth(Jr(n[2])-1),o.setDate(Jr(n[3])),o}}return ai(t)?new Date(t):i}function PSe(i){let e=i.match(oK);if(!e)return e=i.match(rK),e?new Date(0,0,0,Jr(e[1]),Jr(e[2]),Jr(e[4])):void 0;let t=Jr(e[1]),n=--e[3],o=e[5],r=0,s=0,a=h=>(t<100&&h.setFullYear(t),h);r=Jr(e[14]),s=Jr(e[16]),e[13]==="-"&&(r=-r,s=-s);let l=Jr(e[6])-r,d=Jr(e[8])-s,c=Jr(e[10]),u=function(h){return h=h||"",Jr(h)*Math.pow(10,3-h.length)}(e[11]);return e[12]?a(new Date(Date.UTC(t,n,o,l,d,c,u))):a(new Date(t,n,o,l,d,c,u))}var LSe=function(i,e){let t=i.match(oK),n="";if(!t)return t=i.match(rK),t?t[3]?"HH:mm:ss":"HH:mm":void 0;for(let o=1;o<nK.length;o++)t[o]&&(n+=nK[o]||t[o]);return t[12]==="Z"&&(n+="'Z'"),t[14]&&(t[15]?n+="xxx":t[16]?n+="xx":n+="x"),n},NSe=function(i){return typeof i=="number"?new Date(i):sK(i,!ui().forceIsoDateParsing)},BSe=function(i,e){return e?no(i)?e==="number"?i&&i.valueOf?i.valueOf():null:Mw(e,yc)(i):null:i},aK=function(i){if(typeof i=="number")return"number";if(We(i)){let e;return ui().forceIsoDateParsing&&(e=LSe(i)),e||(i.indexOf(":")>=0?"yyyy/MM/dd HH:mm:ss":"yyyy/MM/dd")}else if(i)return null},kn={dateParser:sK,deserializeDate:NSe,serializeDate:BSe,getDateSerializationFormat:aK};var lK=Ko.locale.bind(Ko),dK=de.load.bind(de),cft=de.format.bind(de),uft=Ii.format.bind(Ii),hft=Ii.parse.bind(Ii),pft=It.format.bind(It),fft=It.parse.bind(It);var VSe={row:"minWidth",col:"minHeight"},HSe={row:"maxWidth",col:"maxHeight"},cK={start:"flex-start",end:"flex-end",center:"center","space-between":"space-between","space-around":"space-around"},uK={start:"flex-start",end:"flex-end",center:"center",stretch:"stretch"},zSe={row:"row",col:"column"},Fg=(i,e,t)=>{if(t=Cc(e,t),i.style[fl(e)]=t,!it()){if(t===""||!U(t))return;let o=`${Sb(e)}: ${t};`;jw(i,o,!1)}},C2=class extends Ha{_renderVisible(e,t){super._renderVisible(e),U(t)&&this._options.fireItemStateChangedAction({name:"visible",state:e,oldState:t})}},w2=class{constructor(e,t){this._$element=e,this._option=t}renderBox(){this._$element.css({display:`${zm("flexDirection")}flex`}),Fg(this._$element.get(0),"flexDirection",zSe[this._option("direction")])}renderAlign(){this._$element.css({justifyContent:this._normalizedAlign()})}_normalizedAlign(){let e=this._option("align");return e in cK?cK[e]:e}renderCrossAlign(){this._$element.css({alignItems:this._normalizedCrossAlign()})}_normalizedCrossAlign(){let e=this._option("crossAlign");return e in uK?uK[e]:e}renderItems(e){let t=zm("flexDirection"),n=this._option("direction");ee(e,function(){let o=I(this),r=o.data("dxBoxItemData");o.css({display:`${t}flex`}).css(HSe[n],r.maxSize||"none").css(VSe[n],r.minSize||"0"),Fg(o.get(0),"flexBasis",r.baseSize||0),Fg(o.get(0),"flexGrow",r.ratio),Fg(o.get(0),"flexShrink",U(r.shrink)?r.shrink:1),o.children().each((s,a)=>{I(a).css({width:"auto",height:"auto",display:`${zm("flexDirection")}flex`,flexBasis:0}),Fg(a,"flexGrow",1),Fg(a,"flexDirection",I(a)[0].style.flexDirection||"column")})})}},hK=(()=>{class i extends Sl{_getDefaultOptions(){return q(super._getDefaultOptions(),{direction:"row",align:"start",crossAlign:"stretch",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,_queue:void 0})}_itemClass(){return"dx-box-item"}_itemDataKey(){return"dxBoxItemData"}_itemElements(){return this._itemContainer().children(this._itemSelector())}_init(){super._init(),this.$element().addClass("dx-box-flex"),this._initLayout(),this._initBoxQueue()}_initLayout(){this._layout=new w2(this.$element(),this.option.bind(this))}_initBoxQueue(){this._queue=this.option("_queue")||[]}_queueIsNotEmpty(){return this.option("_queue")?!1:!!this._queue.length}_pushItemToQueue(t,n){this._queue.push({$item:t,config:n})}_shiftItemFromQueue(){return this._queue.shift()}_initMarkup(){this.$element().addClass("dx-box"),this._layout.renderBox(),super._initMarkup(),this._renderAlign(),this._renderActions()}_renderActions(){this._onItemStateChanged=this._createActionByOption("onItemStateChanged")}_renderAlign(){this._layout.renderAlign(),this._layout.renderCrossAlign()}_renderItems(t){for(super._renderItems(t);this._queueIsNotEmpty();){let n=this._shiftItemFromQueue();this._createComponent(n.$item,i,q({itemTemplate:this.option("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this.option("onItemHold"),onItemClick:this.option("onItemClick"),onItemContextMenu:this.option("onItemContextMenu"),onItemRendered:this.option("onItemRendered"),_queue:this._queue},n.config))}this._layout.renderItems(this._itemElements())}_renderItemContent(t){let n=t.itemData&&t.itemData.node;return n?this._renderItemContentByNode(t,n):super._renderItemContent(t)}_postprocessRenderItem(t){let n=t.itemData.box;n&&this._pushItemToQueue(t.itemContent,n)}_createItemByTemplate(t,n){return n.itemData.box?t.source?t.source():I():super._createItemByTemplate(t,n)}_itemOptionChanged(t,n,o,r){n==="visible"&&this._onItemStateChanged({name:n,state:o,oldState:r!==!1}),super._itemOptionChanged(t,n,o)}_optionChanged(t){switch(t.name){case"_queue":case"direction":this._invalidate();break;case"align":this._layout.renderAlign();break;case"crossAlign":this._layout.renderCrossAlign();break;default:super._optionChanged(t)}}_itemOptions(){let t=super._itemOptions();return t.fireItemStateChangedAction=n=>{this._onItemStateChanged(n)},t}}return i.ItemClass=C2,i})();ut("dxBox",hK);var pK=hK;var af=pK;var S2=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({imports:[fd,ps,ps]})}return i})();var fK="dx-buttongroup-item-has-width";var qE={contained:"dx-buttongroup-mode-contained",outlined:"dx-buttongroup-mode-outlined",text:"dx-buttongroup-mode-text"},jSe=Sl.inherit({_initTemplates(){this.callBase(),this._templateManager.addDefaultTemplates({item:new Yr((i,e,t)=>{this._prepareItemStyles(i);let n=this.option("buttonTemplate");this._createComponent(i,Ln,q({},t,e,this._getBasicButtonOptions(),{_templateData:this._hasCustomTemplate(n)?t:{},template:t.template||n}))},["text","type","icon","disabled","visible","hint"],this.option("integrationOptions.watchMethod"))})},_getBasicButtonOptions(){return{focusStateEnabled:!1,onClick:null,hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),stylingMode:this.option("stylingMode")}},_getDefaultOptions(){return q(this.callBase(),{itemTemplateProperty:null})},_hasCustomTemplate(i){return Ie(i)||this.option("integrationOptions.templates")[i]},_selectedItemClass:()=>"dx-item-selected dx-state-selected",_prepareItemStyles(i){let e=i.data("dxItemIndex");e===0&&i.addClass("dx-buttongroup-first-item");let t=this.option("items");t&&e===t.length-1&&i.addClass("dx-buttongroup-last-item"),i.addClass("dx-shape-standard")},_renderItemContent(i){return i.container=I(i.container).parent(),this.callBase(i)},_setAriaSelectionAttribute(i,e){this.setAria("pressed",e,i)},_renderItemContentByNode(i,e){return i.container=I(i.container.children().first()),this.callBase(i,e)},_focusTarget(){return this.$element().parent()},_keyboardEventBindingTarget(){return this._focusTarget()},_refreshContent(){this._prepareContent(),this._renderContent()},_itemClass:()=>"dx-buttongroup-item",_itemSelectHandler(i){this.option("selectionMode")==="single"&&this.isItemSelected(i.currentTarget)||this.callBase(i)}}),mK=Tn.inherit({_getDefaultOptions(){return q(this.callBase(),{hoverStateEnabled:!0,focusStateEnabled:!0,selectionMode:"single",selectedItems:[],selectedItemKeys:[],stylingMode:"contained",keyExpr:"text",items:[],buttonTemplate:"content",onSelectionChanged:null,onItemClick:null})},_init(){this.callBase(),this._createItemClickAction()},_createItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")},_initMarkup(){this.setAria("role","group"),this.$element().addClass("dx-buttongroup"),this._renderStylingMode(),this._renderButtons(),this._syncSelectionOptions(),this.callBase()},_renderStylingMode(){let{stylingMode:i}=this.option();for(let e in qE)this.$element().removeClass(qE[e]);this.$element().addClass(qE[i]??qE.contained)},_fireSelectionChangeEvent(i,e){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:i,removedItems:e})},_renderButtons(){let i=I("<div>").addClass("dx-buttongroup-wrapper").appendTo(this.$element()),e=this.option("selectedItems"),t={selectionMode:this.option("selectionMode"),items:this.option("items"),keyExpr:this.option("keyExpr"),buttonTemplate:this.option("buttonTemplate"),scrollingEnabled:!1,selectedItemKeys:this.option("selectedItemKeys"),focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),stylingMode:this.option("stylingMode"),accessKey:this.option("accessKey"),tabIndex:this.option("tabIndex"),noDataText:"",selectionRequired:!1,onItemRendered:n=>{let o=this.option("width");U(o)&&I(n.itemElement).addClass(fK)},onSelectionChanged:n=>{this._syncSelectionOptions(),this._fireSelectionChangeEvent(n.addedItems,n.removedItems)},onItemClick:n=>{this._itemClickAction(n)}};U(e)&&e.length&&(t.selectedItems=e),this._buttonsCollection=this._createComponent(i,jSe,t)},_syncSelectionOptions(){this._setOptionWithoutOptionChange("selectedItems",this._buttonsCollection.option("selectedItems")),this._setOptionWithoutOptionChange("selectedItemKeys",this._buttonsCollection.option("selectedItemKeys"))},_optionChanged(i){switch(i.name){case"stylingMode":case"selectionMode":case"keyExpr":case"buttonTemplate":case"items":case"activeStateEnabled":case"focusStateEnabled":case"hoverStateEnabled":case"tabIndex":this._invalidate();break;case"selectedItemKeys":case"selectedItems":this._buttonsCollection.option(i.name,i.value);break;case"onItemClick":this._createItemClickAction();break;case"onSelectionChanged":break;case"width":this.callBase(i),this._buttonsCollection.itemElements().toggleClass(fK,!!i.value);break;default:this.callBase(i)}}});ut("dxButtonGroup",mK);var gK=mK;var _K=gK;var $Se="dxSwipeable";var WSe={onStart:_E,onUpdated:bE,onEnd:Og,onCancel:"dxswipecancel"};var bK=Gr.inherit({_getDefaultOptions:function(){return q(this.callBase(),{elastic:!0,immediate:!1,immediateTimeout:180,direction:"horizontal",itemSizeFunc:null,onStart:null,onUpdated:null,onEnd:null,onCancel:null})},_render:function(){this.callBase(),this.$element().addClass("dx-swipeable"),this._attachEventHandlers()},_attachEventHandlers:function(){if(this._detachEventHandlers(),this.option("disabled"))return;let i=this.NAME;this._createEventData(),ee(WSe,(function(e,t){let n=this._createActionByOption(e,{context:this});t=Se(t,i),X.on(this.$element(),t,this._eventData,function(o){return n({event:o})})}).bind(this))},_createEventData:function(){this._eventData={elastic:this.option("elastic"),itemSizeFunc:this.option("itemSizeFunc"),direction:this.option("direction"),immediate:this.option("immediate"),immediateTimeout:this.option("immediateTimeout")}},_detachEventHandlers:function(){X.off(this.$element(),".dxSwipeable")},_optionChanged:function(i){switch(i.name){case"disabled":case"onStart":case"onUpdated":case"onEnd":case"onCancel":case"elastic":case"immediate":case"itemSizeFunc":case"direction":this._detachEventHandlers(),this._attachEventHandlers();break;case"rtlEnabled":break;default:this.callBase(i)}},_useTemplates:function(){return!1}});rh(bK,$Se);var Iv=bK;var E2=class{constructor(e){this.calendar=e}dateOption(e){return this.calendar._dateOption(e)}dateValue(e,t){this.calendar._dateValue(e,t)}skipNavigate(){this.calendar._skipNavigate=!0}updateAriaSelected(e,t){this.calendar._updateAriaSelected(e,t),e[0]&&this.calendar.option("currentDate").getTime()===e[0].getTime()&&this.calendar._updateAriaId(e[0])}processValueChanged(e,t){var n,o;U(e)&&!Array.isArray(e)&&(e=[e]),U(t)&&!Array.isArray(t)&&(t=[t]),e=((n=e)===null||n===void 0?void 0:n.map(r=>this._convertToDate(r)))||[],t=((o=t)===null||o===void 0?void 0:o.map(r=>this._convertToDate(r)))||[],this._updateViewsValue(e),this.updateAriaSelected(e,t),this._currentDateChanged||this.calendar._initCurrentDate(),this._currentDateChanged=!1}_isDateDisabled(e){let t=this.calendar._dateOption("min"),n=this.calendar._dateOption("max"),o=U(t)&&e<t&&!st.sameDate(t,e),r=U(n)&&e>n&&!st.sameDate(n,e);return this.calendar._view.isDateDisabled(e)||o||r}_getLowestDateInArray(e){if(e.length)return new Date(Math.min(...e))}_convertToDate(e){return this.calendar._convertToDate(e)}_isMaxZoomLevel(){return this.calendar._isMaxZoomLevel()}_updateViewsOption(e,t){this.calendar._updateViewsOption(e,t)}_updateViewsValue(e){this._updateViewsOption("value",e)}_updateCurrentDate(e){this.calendar.option("currentDate",e??new Date)}_shouldHandleWeekNumberClick(){let{selectionMode:e,selectWeekOnClick:t}=this.calendar.option();return t&&e!=="single"}},Pg=E2;var O2=class extends Pg{constructor(e){super(e),this.NAME="MultiSelection"}getViewOptions(){return{value:this.dateOption("value"),range:[],selectionMode:"multiple",onWeekNumberClick:this._shouldHandleWeekNumberClick()?this._weekNumberClickHandler.bind(this):null}}selectValue(e,t){let n=[...this.dateOption("value")],o=n.findIndex(r=>r?.toDateString()===e.toDateString());o>-1?n.splice(o,1):n.push(e),this.skipNavigate(),this._updateCurrentDate(e),this._currentDateChanged=!0,this.dateValue(n,t)}updateAriaSelected(e,t){e??(e=this.dateOption("value")),t??(t=[]),super.updateAriaSelected(e,t)}getDefaultCurrentDate(){let e=this.dateOption("value").filter(t=>t);return this._getLowestDateInArray(e)}restoreValue(){this.calendar.option("value",[])}_weekNumberClickHandler(e){let{rowDates:t,event:n}=e,o=t.filter(r=>!this._isDateDisabled(r));this.dateValue(o,n)}},vK=O2;var I2=class extends hE{_getDefaultOptions(){return ye({},super._getDefaultOptions(),{onClick:void 0,onCaptionClick:void 0,type:"normal",stylingMode:"outlined",text:""})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>Kn(),options:{type:"default",stylingMode:"text"}},{device:()=>Zn(),options:{type:"normal",stylingMode:"text"}}])}_init(){super._init(),this._initActions()}_initActions(){this._clickAction=this._createActionByOption("onClick"),this._captionClickAction=this._createActionByOption("onCaptionClick")}_initMarkup(){super._initMarkup(),I(this.element()).addClass("dx-calendar-navigator"),this._renderButtons(),this._renderCaption()}_renderButtons(){let{rtlEnabled:e,type:t,stylingMode:n,focusStateEnabled:o}=this.option();this._prevButton=this._createComponent(I("<div>"),Ln,{focusStateEnabled:o,icon:e?"chevronright":"chevronleft",onClick:l=>{this._clickAction({direction:-1,event:l})},type:t,stylingMode:n,integrationOptions:{}});let r=I(this._prevButton.element()).addClass("dx-calendar-navigator-previous-view").addClass("dx-calendar-navigator-previous-month");this._nextButton=this._createComponent(I("<div>"),Ln,{focusStateEnabled:o,icon:e?"chevronleft":"chevronright",onClick:l=>{this._clickAction({direction:1,event:l})},type:t,stylingMode:n,integrationOptions:{}});let s=I(this._nextButton.element()).addClass("dx-calendar-navigator-next-view").addClass("dx-calendar-navigator-next-month");this._caption=this._createComponent(I("<div>").addClass("dx-calendar-caption-button"),Ln,{focusStateEnabled:o,onClick:l=>{this._captionClickAction({event:l})},type:t,stylingMode:n,template:(l,d)=>{let{text:c}=this.option();c.split(" - ").forEach(h=>{I(d).append(I("<span>").addClass("dx-button-text").text(h))})},integrationOptions:{}});let a=this._caption.$element();this.$element().append(r,a,s)}_renderCaption(){var e;(e=this._caption)===null||e===void 0||e.option("text",this.option("text"))}toggleButton(e,t){let n=`_${e}Button`,o=this[n];o&&(o.option("disabled",t),o.$element().toggleClass("dx-calendar-disabled-navigator-link",t))}_optionChanged(e){e.name==="text"?this._renderCaption():super._optionChanged(e)}},yK=I2;var D2=class extends Pg{constructor(e){super(e),this.NAME="RangeSelection"}getViewOptions(){let e=this._getValue(),t=this._getDaysInRange(e[0],e[1]);return{value:e,range:t,selectionMode:"range",onCellHover:this._cellHoverHandler.bind(this),onWeekNumberClick:this._shouldHandleWeekNumberClick()?this._weekNumberClickHandler.bind(this):null}}selectValue(e,t){let[n,o]=this._getValue();this.skipNavigate(),this._updateCurrentDate(e),this._currentDateChanged=!0,this.calendar.option("_allowChangeSelectionOrder")===!0?(this.calendar._valueSelected=!0,this.calendar.option("_currentSelection")==="startDate"?this.calendar._convertToDate(e)>this.calendar._convertToDate(o)?this.dateValue([e,null],t):this.dateValue([e,o],t):this.calendar._convertToDate(e)>=this.calendar._convertToDate(n)?this.dateValue([n,e],t):this.dateValue([e,null],t)):!n||o?this.dateValue([e,null],t):this.dateValue(n<e?[n,e]:[e,n],t)}updateAriaSelected(e,t){e??(e=this._getValue()),t??(t=[]),super.updateAriaSelected(e,t)}processValueChanged(e,t){super.processValueChanged(e,t);let n=this._getRange();this._updateViewsOption("range",n)}getDefaultCurrentDate(){let{_allowChangeSelectionOrder:e,_currentSelection:t}=this.calendar.option(),n=this.dateOption("value");if(e){if(t==="startDate"&&n[0])return n[0];if(t==="endDate"&&n[1])return n[1]}let o=n.filter(r=>r);return this._getLowestDateInArray(o)}restoreValue(){this.calendar.option("value",[null,null])}_getValue(){let e=this.dateOption("value");if(!e.length)return e;let[t,n]=e;return t&&n&&t>n&&([t,n]=[n,t]),[t,n]}_getRange(){let[e,t]=this._getValue();return this._getDaysInRange(e,t)}_getDaysInRange(e,t){if(!e||!t)return[];let{currentDate:n,viewsCount:o}=this.calendar.option(),r=this.calendar._isAdditionalViewDate(n),s=st.getFirstMonthDate(st.addDateInterval(n,"month",r?-2:-1)),a=st.getLastMonthDate(st.addDateInterval(n,"month",r?1:o)),l=new Date(Math.max(s,e)),d=new Date(Math.min(a,t));return[...st.getDatesOfInterval(l,d,864e5),d]}_cellHoverHandler(e){let t=this._isMaxZoomLevel(),[n,o]=this._getValue(),{_allowChangeSelectionOrder:r,_currentSelection:s}=this.calendar.option();if(t){if(n&&!o&&!(r&&s==="startDate")){if(e.value>n){this._updateViewsOption("hoveredRange",this._getDaysInRange(n,e.value));return}}else if(!n&&o&&!(r&&s==="endDate")){if(e.value<o){this._updateViewsOption("hoveredRange",this._getDaysInRange(e.value,o));return}}else if(n&&o){if(s==="startDate"&&e.value<n){this._updateViewsOption("hoveredRange",this._getDaysInRange(e.value,n));return}if(s==="endDate"&&e.value>o){this._updateViewsOption("hoveredRange",this._getDaysInRange(o,e.value));return}}this._updateViewsOption("hoveredRange",[])}}_weekNumberClickHandler(e){let{rowDates:t,event:n}=e,o=t.filter(s=>!this._isDateDisabled(s)),r=o.length?[o[0],o[o.length-1]]:[null,null];this.dateValue(r,n)}},xK=D2;var T2=class extends Pg{constructor(e){super(e),this.NAME="SingleSelection"}getViewOptions(){return{value:this.dateOption("value"),range:[],selectionMode:"single"}}selectValue(e,t){this.skipNavigate(),this.dateValue(e,t)}updateAriaSelected(e,t){e??(e=[this.dateOption("value")]),t??(t=[]),super.updateAriaSelected(e,t)}getDefaultCurrentDate(){return this.dateOption("value")}restoreValue(){this.calendar.option("value",null)}_updateViewsValue(e){this._updateViewsOption("value",e[0])}},CK=T2;var{abstract:Od}=Tn;var wK="td:not(.dx-calendar-week-number-cell)",A2=Se(Kt,"dxCalendar"),SK=Se(ph,"dxCalendar");var USe={month:de.format("dxCalendar-currentDay"),year:de.format("dxCalendar-currentMonth"),decade:de.format("dxCalendar-currentYear"),century:de.format("dxCalendar-currentYearRange")};var lf={single:"single",multiple:"multiple",range:"range"},GSe=Tn.inherit({_getViewName:()=>"base",_getDefaultOptions(){return q(this.callBase(),{date:new Date,focusStateEnabled:!1,cellTemplate:null,disabledDates:null,onCellClick:null,onCellHover:null,onWeekNumberClick:null,rowCount:3,colCount:4,allowValueSelection:!0,_todayDate:()=>new Date})},_initMarkup(){this.callBase(),this._renderImpl()},_renderImpl(){this.$element().append(this._createTable()),this._createDisabledDatesHandler(),this._renderBody(),this._renderContouredDate(),this._renderValue(),this._renderRange(),this._renderEvents(),this._updateTableAriaLabel()},_getLocalizedWidgetName(){return de.format("dxCalendar-ariaWidgetName")},_getSingleModeAriaLabel(){let{value:i}=this.option(),e=this._getLocalizedWidgetName(),t=It.format(i,"date"),n=de.format("dxCalendar-selectedDate",t);return`${e}. ${n}`},_getRangeModeAriaLabel(){let{value:i}=this.option(),e=this._getLocalizedWidgetName(),[t,n]=i,o=It.format(t,"date"),r=It.format(n,"date"),s=t&&n?de.format("dxCalendar-selectedDateRange",o,r):de.format("dxCalendar-selectedDate",o??r);return`${e}. ${s}`},_getMultipleModeAriaLabel(){return this._getLocalizedWidgetName()},_getTableAriaLabel(){let{value:i,selectionMode:e}=this.option();if(!i||Array.isArray(i)&&!i.filter(Boolean).length)return this._getLocalizedWidgetName();switch(e){case lf.single:return this._getSingleModeAriaLabel();case lf.range:return this._getRangeModeAriaLabel();case lf.multiple:return this._getMultipleModeAriaLabel()}},_updateTableAriaLabel(){let i=this._getTableAriaLabel();this.setAria({label:i},this._$table)},_createTable(){return this._$table=I("<table>"),this.setAria({role:"grid"},this._$table),this._$table},_renderBody(){this.$body=I("<tbody>").appendTo(this._$table);let i={cellDate:this._getFirstCellData(),prevCellDate:null};for(let e=0,t=this.option("rowCount");e<t;e++){i.row=this._createRow();for(let n=0,o=this.option("colCount");n<o;n++)this._renderCell(i,n);this._renderWeekNumberCell(i)}},_createRow(){let i=be.createElement("tr");return this.setAria("role","row",I(i)),this.$body.get(0).appendChild(i),i},_createCell(i,e){let t=be.createElement("td"),n=I(t);return t.className=this._getClassNameByDate(i,e),t.setAttribute("data-value",kn.serializeDate(i,st.getShortDateFormat())),Zi(t,"dxDateValueKey",i),this.setAria({role:"gridcell",selected:!1,label:this.getCellAriaLabel(i)},n),{cell:t,$cell:n}},_renderCell(i,e){let{cellDate:t,prevCellDate:n,row:o}=i;n&&st.fixTimezoneGap(n,t),i.prevCellDate=t;let{cell:r,$cell:s}=this._createCell(t,e),a=this.option("cellTemplate");I(o).append(r),a?a.render(this._prepareCellTemplateData(t,e,s)):r.innerHTML=this._getCellText(t),i.cellDate=this._getNextCellData(t)},_getClassNameByDate(i,e){let t="dx-calendar-cell";return this._isTodayCell(i)&&(t+=" dx-calendar-today"),(this._isDateOutOfRange(i)||this.isDateDisabled(i))&&(t+=" dx-calendar-empty-cell"),this._isOtherView(i)&&(t+=" dx-calendar-other-view"),this.option("selectionMode")===lf.range&&(e===0&&(t+=" dx-calendar-cell-start-in-row"),e===this.option("colCount")-1&&(t+=" dx-calendar-cell-end-in-row"),this._isStartDayOfMonth(i)&&(t+=" dx-calendar-cell-start"),this._isEndDayOfMonth(i)&&(t+=" dx-calendar-cell-end")),t},_prepareCellTemplateData(i,e,t){let n=i instanceof Date,o=n?this._getCellText(i):i,r=n?i:void 0,s=this._getViewName();return{model:{text:o,date:r,view:s},container:tt(t),index:e}},_renderEvents(){this._createCellClickAction(),X.off(this._$table,A2),X.on(this._$table,A2,wK,e=>{I(e.currentTarget).hasClass("dx-calendar-empty-cell")||this._cellClickAction({event:e,value:I(e.currentTarget).data("dxDateValueKey")})});let{selectionMode:i}=this.option();X.off(this._$table,SK),i===lf.range&&(this._createCellHoverAction(),X.on(this._$table,SK,wK,e=>{I(e.currentTarget).hasClass("dx-calendar-empty-cell")||this._cellHoverAction({event:e,value:I(e.currentTarget).data("dxDateValueKey")})})),i!==lf.single&&(this._createWeekNumberCellClickAction(),X.on(this._$table,A2,".dx-calendar-week-number-cell",e=>{let t=I(e.currentTarget).closest("tr"),n=t.find(".dx-calendar-cell").first().data("dxDateValueKey"),o=t.find(".dx-calendar-cell").last().data("dxDateValueKey"),r=[...st.getDatesOfInterval(n,o,864e5),o];this._weekNumberCellClickAction({event:e,rowDates:r})}))},_createCellClickAction(){this._cellClickAction=this._createActionByOption("onCellClick")},_createCellHoverAction(){this._cellHoverAction=this._createActionByOption("onCellHover")},_createWeekNumberCellClickAction(){this._weekNumberCellClickAction=this._createActionByOption("onWeekNumberClick")},_createDisabledDatesHandler(){let i=this.option("disabledDates");this._disabledDatesHandler=Array.isArray(i)?this._getDefaultDisabledDatesHandler(i):i||pe},_getDefaultDisabledDatesHandler:()=>pe,_isTodayCell:Od,_isDateOutOfRange:Od,isDateDisabled(i){let e={date:i,view:this._getViewName()};return this._disabledDatesHandler(e)},_isOtherView:Od,_isStartDayOfMonth:Od,_isEndDayOfMonth:Od,_getCellText:Od,_getFirstCellData:Od,_getNextCellData:Od,_renderContouredDate(i){if(!this.option("focusStateEnabled"))return;i=i||this.option("contouredDate");let e=this._getContouredCell(),t=this._getCellByDate(i);e.removeClass("dx-calendar-contoured-date"),i&&t.addClass("dx-calendar-contoured-date")},_getContouredCell(){return this._$table.find(".dx-calendar-contoured-date")},_renderValue(){if(!this.option("allowValueSelection"))return;let i=this.option("value");Array.isArray(i)||(i=[i]),this._updateSelectedClass(i)},_updateSelectedClass(i){var e;this._isRangeMode()&&!this._isMonthView()||((e=this._$selectedCells)===null||e===void 0||e.forEach(t=>{t.removeClass("dx-calendar-selected-date")}),this._$selectedCells=i.map(t=>this._getCellByDate(t)),this._$selectedCells.forEach(t=>{t.addClass("dx-calendar-selected-date")}))},_renderRange(){var i,e,t,n,o,r,s,a;let{allowValueSelection:l,value:d,range:c}=this.option();!l||!this._isRangeMode()||!this._isMonthView()||((i=this._$rangeCells)===null||i===void 0||i.forEach(u=>{u.removeClass("dx-calendar-cell-in-range")}),(e=this._$hoveredRangeCells)===null||e===void 0||e.forEach(u=>{u.removeClass("dx-calendar-cell-range-hover")}),(t=this._$rangeStartHoverCell)===null||t===void 0||t.removeClass("dx-calendar-cell-range-hover-start"),(n=this._$rangeEndHoverCell)===null||n===void 0||n.removeClass("dx-calendar-cell-range-hover-end"),(o=this._$rangeStartDateCell)===null||o===void 0||o.removeClass("dx-calendar-range-start-date"),(r=this._$rangeEndDateCell)===null||r===void 0||r.removeClass("dx-calendar-range-end-date"),this._$rangeCells=c.map(u=>this._getCellByDate(u)),this._$rangeStartDateCell=this._getCellByDate(d[0]),this._$rangeEndDateCell=this._getCellByDate(d[1]),this._$rangeCells.forEach(u=>{u.addClass("dx-calendar-cell-in-range")}),(s=this._$rangeStartDateCell)===null||s===void 0||s.addClass("dx-calendar-range-start-date"),(a=this._$rangeEndDateCell)===null||a===void 0||a.addClass("dx-calendar-range-end-date"))},_renderHoveredRange(){var i,e,t,n,o;let{allowValueSelection:r,hoveredRange:s}=this.option();!r||!this._isRangeMode()||!this._isMonthView()||((i=this._$hoveredRangeCells)===null||i===void 0||i.forEach(a=>{a.removeClass("dx-calendar-cell-range-hover")}),(e=this._$rangeStartHoverCell)===null||e===void 0||e.removeClass("dx-calendar-cell-range-hover-start"),(t=this._$rangeEndHoverCell)===null||t===void 0||t.removeClass("dx-calendar-cell-range-hover-end"),this._$hoveredRangeCells=s.map(a=>this._getCellByDate(a)),this._$rangeStartHoverCell=this._getCellByDate(s[0]),this._$rangeEndHoverCell=this._getCellByDate(s[s.length-1]),this._$hoveredRangeCells.forEach(a=>{a.addClass("dx-calendar-cell-range-hover")}),(n=this._$rangeStartHoverCell)===null||n===void 0||n.addClass("dx-calendar-cell-range-hover-start"),(o=this._$rangeEndHoverCell)===null||o===void 0||o.addClass("dx-calendar-cell-range-hover-end"))},_isMonthView(){return this.option("zoomLevel")==="month"},_isRangeMode(){return this.option("selectionMode")===lf.range},_getCurrentDateFormat:()=>null,getCellAriaLabel(i){let e=this._getViewName(),t=this._isTodayCell(i),n=this._getCurrentDateFormat(),o=n?It.format(i,n):this._getCellText(i);return t?`${o}. ${USe[e]}`:o},_getFirstAvailableDate(){let i=this.option("date"),e=this.option("min");return i=st.getViewFirstCellDate(this._getViewName(),i),new Date(e&&i<e?e:i)},_getCellByDate:Od,isBoundary:Od,_optionChanged(i){let{name:e,value:t}=i;switch(e){case"value":this._renderValue(),this._updateTableAriaLabel();break;case"range":this._renderRange();break;case"hoveredRange":this._renderHoveredRange();break;case"contouredDate":this._renderContouredDate(t);break;case"onCellClick":this._createCellClickAction();break;case"onCellHover":this._createCellHoverAction();break;case"min":case"max":case"disabledDates":case"cellTemplate":case"selectionMode":this._invalidate();break;case"_todayDate":this._renderBody();break;default:this.callBase(i)}}}),Dv=GSe;var KSe={month:Dv.inherit({_getViewName:()=>"month",_getCurrentDateFormat:()=>"longdate",_getDefaultOptions(){return q(this.callBase(),{firstDayOfWeek:0,rowCount:6,colCount:7})},_renderImpl(){this.callBase(),this._renderHeader()},_renderBody(){this.callBase(),this._$table.find(".dx-calendar-other-view").addClass("dx-calendar-other-month")},_renderFocusTarget:pe,_renderHeader(){let i=I("<tr>"),e=I("<thead>").append(i);this._$table.prepend(e);for(let t=0,n=this.option("colCount");t<n;t++)this._renderHeaderCell(t,i);this.option("showWeekNumbers")&&this._renderWeekHeaderCell(i)},_renderHeaderCell(i,e){let{firstDayOfWeek:t}=this.option(),{full:n,abbreviated:o}=this._getDayCaption(t+i),r=I("<th>").attr({scope:"col",abbr:n}).text(o);e.append(r)},_renderWeekHeaderCell(i){let e=I("<th>").attr({scope:"col",abbr:"WeekNumber",class:"dx-week-number-header"});i.prepend(e)},_renderWeekNumberCell(i){let{showWeekNumbers:e,cellTemplate:t,selectionMode:n,selectWeekOnClick:o}=this.option();if(!e)return;let r=this._getWeekNumber(i.prevCellDate),s=be.createElement("td"),a=I(s);s.className="dx-calendar-week-number-cell",n!=="single"&&o&&a.addClass("dx-calendar-week-selection"),t?t.render(this._prepareCellTemplateData(r,-1,a)):s.innerHTML=r,i.row.prepend(s),this.setAria({role:"gridcell",label:`Week ${r}`},a)},_getWeekNumber(i){let{weekNumberRule:e,firstDayOfWeek:t}=this.option();return e==="auto"?st.getWeekNumber(i,t,t===1?"firstFourDays":"firstDay"):st.getWeekNumber(i,t,e)},getNavigatorCaption(){return It.format(this.option("date"),"monthandyear")},_isTodayCell(i){let e=this.option("_todayDate")();return st.sameDate(i,e)},_isDateOutOfRange(i){let e=this.option("min"),t=this.option("max");return!st.dateInRange(i,e,t,"date")},_isOtherView(i){return i.getMonth()!==this.option("date").getMonth()},_isStartDayOfMonth(i){return st.sameDate(i,st.getFirstMonthDate(this.option("date")))},_isEndDayOfMonth(i){return st.sameDate(i,st.getLastMonthDate(this.option("date")))},_getCellText:i=>It.format(i,"d"),_getDayCaption(i){let e=this.option("colCount"),t=i%e;return{full:It.getDayNames()[t],abbreviated:It.getDayNames("abbreviated")[t]}},_getFirstCellData(){let{firstDayOfWeek:i}=this.option(),e=st.getFirstMonthDate(this.option("date")),t=i-e.getDay(),n=this.option("colCount");return t>=0&&(t-=n),e.setDate(e.getDate()+t),e},_getNextCellData(i){return i=new Date(i),i.setDate(i.getDate()+1),i},_getCellByDate(i){return this._$table.find(`td[data-value='${kn.serializeDate(i,st.getShortDateFormat())}']`)},isBoundary(i){return st.sameMonthAndYear(i,this.option("min"))||st.sameMonthAndYear(i,this.option("max"))},_getDefaultDisabledDatesHandler:i=>function(e){if(i.some(n=>st.sameDate(n,e.date)))return!0}}),year:Dv.inherit({_getViewName:()=>"year",_getCurrentDateFormat:()=>"monthandyear",_isTodayCell(i){let e=this.option("_todayDate")();return st.sameMonthAndYear(i,e)},_isDateOutOfRange(i){return!st.dateInRange(i,st.getFirstMonthDate(this.option("min")),st.getLastMonthDate(this.option("max")))},_isOtherView:()=>!1,_isStartDayOfMonth:()=>!1,_isEndDayOfMonth:()=>!1,_getCellText:i=>It.getMonthNames("abbreviated")[i.getMonth()],_getFirstCellData(){let i=this.option("date"),e=new Date(i);return e.setDate(1),e.setMonth(0),e},_getNextCellData(i){return i=new Date(i),i.setMonth(i.getMonth()+1),i},_getCellByDate(i){let e=new Date(i);return e.setDate(1),this._$table.find(`td[data-value='${kn.serializeDate(e,st.getShortDateFormat())}']`)},getNavigatorCaption(){return It.format(this.option("date"),"yyyy")},isBoundary(i){return st.sameYear(i,this.option("min"))||st.sameYear(i,this.option("max"))},_renderWeekNumberCell:pe}),decade:Dv.inherit({_getViewName:()=>"decade",_isTodayCell(i){let e=this.option("_todayDate")();return st.sameYear(i,e)},_isDateOutOfRange(i){let e=this.option("min"),t=this.option("max");return!st.dateInRange(i.getFullYear(),e&&e.getFullYear(),t&&t.getFullYear())},_isOtherView(i){let e=new Date(i);return e.setMonth(1),!st.sameDecade(e,this.option("date"))},_isStartDayOfMonth:()=>!1,_isEndDayOfMonth:()=>!1,_getCellText:i=>It.format(i,"yyyy"),_getFirstCellData(){let i=st.getFirstYearInDecade(this.option("date"))-1;return st.createDateWithFullYear(i,0,1)},_getNextCellData(i){return i=new Date(i),i.setFullYear(i.getFullYear()+1),i},getNavigatorCaption(){let i=this.option("date"),e=st.getFirstYearInDecade(i),t=new Date(i),n=new Date(i);return t.setFullYear(e),n.setFullYear(e+9),`${It.format(t,"yyyy")}-${It.format(n,"yyyy")}`},_isValueOnCurrentView:(i,e)=>st.sameDecade(i,e),_getCellByDate(i){let e=new Date(i);return e.setDate(1),e.setMonth(0),this._$table.find(`td[data-value='${kn.serializeDate(e,st.getShortDateFormat())}']`)},isBoundary(i){return st.sameDecade(i,this.option("min"))||st.sameDecade(i,this.option("max"))},_renderWeekNumberCell:pe}),century:Dv.inherit({_getViewName:()=>"century",_isTodayCell(i){let e=this.option("_todayDate")();return st.sameDecade(i,e)},_isDateOutOfRange(i){let e=st.getFirstYearInDecade(i),t=st.getFirstYearInDecade(this.option("min")),n=st.getFirstYearInDecade(this.option("max"));return!st.dateInRange(e,t,n)},_isOtherView(i){let e=new Date(i);return e.setMonth(1),!st.sameCentury(e,this.option("date"))},_isStartDayOfMonth:()=>!1,_isEndDayOfMonth:()=>!1,_getCellText(i){let e=It.format(i,"yyyy"),t=new Date(i);return t.setFullYear(t.getFullYear()+9),`${e} - ${It.format(t,"yyyy")}`},_getFirstCellData(){let i=st.getFirstDecadeInCentury(this.option("date"))-10;return st.createDateWithFullYear(i,0,1)},_getNextCellData(i){return i=new Date(i),i.setFullYear(i.getFullYear()+10),i},_getCellByDate(i){let e=new Date(i);return e.setDate(1),e.setMonth(0),e.setFullYear(st.getFirstYearInDecade(e)),this._$table.find(`td[data-value='${kn.serializeDate(e,st.getShortDateFormat())}']`)},getNavigatorCaption(){let i=this.option("date"),e=st.getFirstDecadeInCentury(i),t=new Date(i),n=new Date(i);return t.setFullYear(e),n.setFullYear(e+99),`${It.format(t,"yyyy")}-${It.format(n,"yyyy")}`},isBoundary(i){return st.sameCentury(i,this.option("min"))||st.sameCentury(i,this.option("max"))},_renderWeekNumberCell:pe})},EK=KSe;var OK=Se(fh,"dxCalendar"),Lg={month:3,year:2,decade:1,century:0},Cr={MONTH:"month",YEAR:"year",DECADE:"decade",CENTURY:"century"},qSe={SingleSelection:CK,MultipleSelection:vK,RangeSelection:xK},IK=Mr.inherit({_activeStateUnit:".dx-calendar-cell",_getDefaultOptions(){return q(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,currentDate:new Date,value:null,dateSerializationFormat:void 0,min:new Date(1e3,0),max:new Date(3e3,0),firstDayOfWeek:void 0,viewsCount:1,zoomLevel:Cr.MONTH,maxZoomLevel:Cr.MONTH,minZoomLevel:Cr.CENTURY,selectionMode:"single",selectWeekOnClick:!0,showTodayButton:!1,showWeekNumbers:!1,weekNumberRule:"auto",cellTemplate:"cell",disabledDates:null,onCellClick:null,onContouredChanged:null,skipFocusCheck:!1,_todayDate:()=>new Date})},_defaultOptionsRules(){return this.callBase().concat([{device:()=>Ve.real().deviceType==="desktop"&&!Ve.isSimulator(),options:{focusStateEnabled:!0}}])},_supportedKeys(){return q(this.callBase(),{rightArrow(i){i.preventDefault(),Dn(i)?this._waitRenderView(1):this._moveCurrentDateByOffset(1*this._getRtlCorrection())},leftArrow(i){i.preventDefault(),Dn(i)?this._waitRenderView(-1):this._moveCurrentDateByOffset(-1*this._getRtlCorrection())},upArrow(i){if(i.preventDefault(),Dn(i))this._navigateUp();else{if(hn.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(-1*this._view.option("colCount"))}},downArrow(i){if(i.preventDefault(),Dn(i))this._navigateDown();else{if(hn.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(1*this._view.option("colCount"))}},home(i){i.preventDefault();let e=this.option("zoomLevel"),t=this.option("currentDate"),n=this._dateOption("min");if(this._view.isDateDisabled(t))return;let o=st.sameView(e,t,n)?n:st.getViewFirstCellDate(e,t);this._moveToClosestAvailableDate(o)},end(i){i.preventDefault();let e=this.option("zoomLevel"),t=this.option("currentDate"),n=this._dateOption("max");if(this._view.isDateDisabled(t))return;let o=st.sameView(e,t,n)?n:st.getViewLastCellDate(e,t);this._moveToClosestAvailableDate(o)},pageUp(i){i.preventDefault(),this._waitRenderView(-1*this._getRtlCorrection())},pageDown(i){i.preventDefault(),this._waitRenderView(1*this._getRtlCorrection())},tab:pe,enter:this._enterKeyHandler})},_enterKeyHandler(i){if(!this._isMaxZoomLevel())this._navigateDown();else if(!this._view.isDateDisabled(this.option("currentDate"))){let e=this._updateTimeComponent(this.option("currentDate"));this._selectionStrategy.selectValue(e,i)}},_getSerializationFormat(i){let e=this.option(i||"value");if(this.option("dateSerializationFormat"))return this.option("dateSerializationFormat");if(ai(e))return"number";if(We(e))return kn.getDateSerializationFormat(e)},_convertToDate:i=>kn.deserializeDate(i),_dateValue(i,e){if(e){if(e.type==="keydown"){let t=this._view._getContouredCell().get(0);e.target=t}this._saveValueChangeEvent(e)}this._dateOption("value",i)},_dateOption(i,e){let t=i==="value"&&!this._isSingleMode(),n=this.option("value");if(arguments.length===1)return t?(n??[]).map(s=>this._convertToDate(s)):this._convertToDate(this.option(i));let o=this._getSerializationFormat(i),r=t?e?.map(s=>kn.serializeDate(s,o))||[]:kn.serializeDate(e,o);this.option(i,r)},_isSingleMode(){return this.option("selectionMode")==="single"},_shiftDate(i,e,t,n){switch(i){case Cr.MONTH:e.setDate(e.getDate()+t*n);break;case Cr.YEAR:e.setMonth(e.getMonth()+t*n);break;case Cr.DECADE:e.setFullYear(e.getFullYear()+t*n);break;case Cr.CENTURY:e.setFullYear(e.getFullYear()+10*t*n)}},_moveCurrentDateByOffset(i){let e=this.option("currentDate"),t=new Date(e),n=this.option("zoomLevel");this._shiftDate(n,t,i,1);let o=this._getMaxDate(),r=this._getMinDate(),s=this._areDatesInNeighborView(n,t,e),a=Rs(t,r,o)&&s,l=new Date(t);for(;a;){if(!this._view.isDateDisabled(l)){t=l;break}this._shiftDate(n,l,i,1),s=this._areDatesInNeighborView(n,l,e),a=Rs(l,r,o)&&s}if(this._view.isDateDisabled(e)||this._view.isDateDisabled(t)){let d=i>0?1:-1;(d===1?this._isNextViewDisabled():this._isPrevViewDisabled())?this._moveToClosestAvailableDate(t):this._waitRenderView(d)}else this._skipNavigate=!0,this.option("currentDate",t)},_isNextViewDisabled(){return this._navigator._nextButton.option("disabled")},_isPrevViewDisabled(){return this._navigator._prevButton.option("disabled")},_areDatesInSameView(i,e,t){switch(i){case Cr.MONTH:return e.getMonth()===t.getMonth();case Cr.YEAR:return e.getYear()===t.getYear();case Cr.DECADE:return parseInt(e.getYear()/10)===parseInt(t.getYear()/10);case Cr.CENTURY:return parseInt(e.getYear()/100)===parseInt(t.getYear()/100)}},_areDatesInNeighborView(i,e,t){switch(i){case Cr.MONTH:return((n,o)=>{let r=Math.abs(n-o);return Math.min(r,12-r)})(e.getMonth(),t.getMonth())<=1;case Cr.YEAR:return Math.abs(e.getYear()-t.getYear())<=1;case Cr.DECADE:return Math.abs(e.getYear()-t.getYear())<=10;case Cr.CENTURY:return Math.abs(e.getYear()-t.getYear())<=100}},_moveToClosestAvailableDate(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.option("currentDate"),e=new Date(i),t=this.option("zoomLevel"),n=!this._isDateNotAvailable(e),o=n,r=n,s,a,l=new Date(e),d=new Date(e);do{if(o){e=l;break}if(r){e=d;break}this._shiftDate(t,l,1,1),this._shiftDate(t,d,1,-1),s=this._areDatesInSameView(t,l,i),a=this._areDatesInSameView(t,d,i),o=s&&!this._isDateNotAvailable(l),r=a&&!this._isDateNotAvailable(d)}while(s||a);this.option("currentDate",e)},_isDateNotAvailable(i){let e=this._getMaxDate(),t=this._getMinDate();return!Rs(i,t,e)||this._view.isDateDisabled(i)},_init(){this.callBase(),this._initSelectionStrategy(),this._correctZoomLevel(),this._initCurrentDate(),this._initActions()},_initSelectionStrategy(){let i=this._getSelectionStrategyName(),e=qSe[i];(!this._selectionStrategy||this._selectionStrategy.NAME!==i)&&(this._selectionStrategy=new e(this))},_refreshSelectionStrategy(){this._initSelectionStrategy(),this._selectionStrategy.restoreValue(),this._refresh()},_getSelectionStrategyName(){switch(this.option("selectionMode")){case"multiple":return"MultipleSelection";case"range":return"RangeSelection";default:return"SingleSelection"}},_correctZoomLevel(){let i=this.option("minZoomLevel"),e=this.option("maxZoomLevel"),t=this.option("zoomLevel");Lg[e]<Lg[i]||(Lg[t]>Lg[e]?this.option("zoomLevel",e):Lg[t]<Lg[i]&&this.option("zoomLevel",i))},_initCurrentDate(){let i=this._getNormalizedDate(this._selectionStrategy.getDefaultCurrentDate())??this._getNormalizedDate(this.option("currentDate"));this.option("currentDate",i)},_getNormalizedDate(i){return i=st.normalizeDate(i,this._getMinDate(),this._getMaxDate()),U(i)?this._getDate(i):i},_initActions(){this._cellClickAction=this._createActionByOption("onCellClick"),this._onContouredChanged=this._createActionByOption("onContouredChanged")},_initTemplates(){this._templateManager.addDefaultTemplates({cell:new Ma(i=>{let e=i.model;I(i.container).append(I("<span>").text(e&&e.text||String(e)))})}),this.callBase()},_updateCurrentDate(i){hn.isAnimating(this._$viewsWrapper)&&hn.stop(this._$viewsWrapper,!0);let e=this._getMinDate(),t=this._getMaxDate();if(e>t){this.option("currentDate",new Date);return}let n=this._getNormalizedDate(i);if(i.getTime()!==n.getTime()){this.option("currentDate",new Date(n));return}let o=this._getViewsOffset(this._view.option("date"),n);o!==0&&!this._isMaxZoomLevel()&&this._isOtherViewCellClicked&&(o=0),this._view&&o!==0&&!this._suppressNavigation?this._additionalView?o>2||o<-1?(this._refreshViews(),this._setViewContoured(n),this._updateAriaId(n),this._renderNavigator()):o===1&&this._skipNavigate?(this._setViewContoured(n),this._updateAriaId(n)):this._navigate(o,n):this._navigate(o,n):(this._renderNavigator(),this._setViewContoured(n),this._updateAriaId(n)),this._skipNavigate=!1},_isAdditionalViewDate(i){return this._additionalView?i>=this._additionalView._getFirstAvailableDate():!1},_getActiveView(i){return this._isAdditionalViewDate(i)?this._additionalView:this._view},_setViewContoured(i){if(this.option("skipFocusCheck")||I(this._$viewsWrapper).is(":focus")){var e;this._view.option("contouredDate",null),(e=this._additionalView)===null||e===void 0||e.option("contouredDate",null),(this._isAdditionalViewDate(i)?this._additionalView:this._view).option("contouredDate",i)}},_getMinDate(){let i=this.option("_rangeMin");return i||(this.min?this.min:(this.min=this._dateOption("min")||new Date(1e3,0),this.min))},_getMaxDate(){let i=this.option("_rangeMax");return i||(this.max?this.max:(this.max=this._dateOption("max")||new Date(3e3,0),this.max))},_getViewsOffset(i,e){let t=this.option("zoomLevel");if(t===Cr.MONTH)return this._getMonthsOffset(i,e);let n;switch(t){case Cr.CENTURY:n=100;break;case Cr.DECADE:n=10;break;default:n=1}return parseInt(e.getFullYear()/n)-parseInt(i.getFullYear()/n)},_getMonthsOffset(i,e){let t=e.getFullYear()-i.getFullYear(),n=e.getMonth()-i.getMonth();return 12*t+n},_waitRenderView(i){if(this._alreadyViewRender)return;this._alreadyViewRender=!0;let e=this._getDateByOffset(i*this._getRtlCorrection());this._moveToClosestAvailableDate(e),this._waitRenderViewTimeout=setTimeout(()=>{this._alreadyViewRender=!1})},_getRtlCorrection(){return this.option("rtlEnabled")?-1:1},_getDateByOffset(i,e){e=this._getDate(e??this.option("currentDate"));let t=e.getDate(),n=st.getDifferenceInMonth(this.option("zoomLevel"))*i;e.setDate(1),e.setMonth(e.getMonth()+n);let o=st.getLastMonthDate(e).getDate();return e.setDate(t>o?o:t),e},_focusTarget(){return this._$viewsWrapper},_focusEventTarget(){return this.$element()},_initMarkup(){this._renderSubmitElement();let i=this.$element();i.addClass("dx-calendar"),i.toggleClass("dx-calendar-range",this.option("selectionMode")==="range"),this._renderBody(),i.append(this.$body),this._renderViews(),this._renderNavigator(),this.callBase(),this._renderEvents(),i.prepend(this._navigator.$element()),this._renderSwipeable(),this._renderFooter(),this._selectionStrategy.updateAriaSelected(),this._updateAriaId(),this._updateNavigatorLabels(),this.setAria("role","application"),this._moveToClosestAvailableDate()},_render(){this.callBase(),this._setViewContoured(this.option("currentDate"))},_renderBody(){this._$viewsWrapper||(this.$body=I("<div>").addClass("dx-calendar-body"),this._$viewsWrapper=I("<div>").addClass("dx-calendar-views-wrapper"),this.$body.append(this._$viewsWrapper))},_setAriaReadonly:pe,_getKeyboardListeners(){return this.callBase().concat([this._view])},_renderViews(){this.$element().addClass(`dx-calendar-view-${this.option("zoomLevel")}`);let{currentDate:i,viewsCount:e}=this.option();if(this.$element().toggleClass("dx-calendar-multiview",e>1),this._view=this._renderSpecificView(i),it()){let t=this._getDateByOffset(-1,i);this._beforeView=this._isViewAvailable(t)?this._renderSpecificView(t):null;let n=this._getDateByOffset(e,i);n.setDate(1),this._afterView=this._isViewAvailable(n)?this._renderSpecificView(n):null}e>1&&(this._additionalView=this._renderSpecificView(this._getDateByOffset(1,i))),this._translateViews()},_renderSpecificView(i){let{zoomLevel:e}=this.option(),t=EK[e],n=I("<div>").appendTo(this._$viewsWrapper),o=this._viewConfig(i);return this._createComponent(n,t,o)},_viewConfig(i){let e=this.option("disabledDates");return e=Ie(e)?this._injectComponent(e.bind(this)):e,ye({},this._selectionStrategy.getViewOptions(),{date:i,min:this._getMinDate(),max:this._getMaxDate(),firstDayOfWeek:this.option("firstDayOfWeek")??It.firstDayOfWeekIndex(),showWeekNumbers:this.option("showWeekNumbers"),selectWeekOnClick:this.option("selectWeekOnClick"),weekNumberRule:this.option("weekNumberRule"),zoomLevel:this.option("zoomLevel"),tabIndex:void 0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),disabledDates:e,onCellClick:this._cellClickHandler.bind(this),cellTemplate:this._getTemplateByOption("cellTemplate"),allowValueSelection:this._isMaxZoomLevel(),_todayDate:this.option("_todayDate")})},_renderEvents(){X.off(this._$viewsWrapper,OK),this.option("selectionMode")==="range"&&X.on(this._$viewsWrapper,OK,null,()=>{this._updateViewsOption("hoveredRange",[])})},_injectComponent(i){let e=this;return function(t){return q(t,{component:e}),i(t)}},_isViewAvailable(i){let e=this.option("zoomLevel"),t=st.getViewMinBoundaryDate(e,this._getMinDate()),n=st.getViewMaxBoundaryDate(e,this._getMaxDate());return st.dateInRange(i,t,n)},_translateViews(){let{viewsCount:i}=this.option();In(this._view.$element(),{left:0,top:0}),this._moveViewElement(this._beforeView,-1),this._moveViewElement(this._afterView,i),this._moveViewElement(this._additionalView,1)},_moveViewElement(i,e){i&&In(i.$element(),{left:this._getViewPosition(e),top:0})},_getViewPosition(i){let e=this.option("rtlEnabled")?-1:1;return 100*i*e+"%"},_cellClickHandler(i){let e=this.option("zoomLevel"),t=st.getViewDown(e),n=this._isMaxZoomLevel();if(t&&!n)this._navigateDown(i.event.currentTarget);else{let o=this._updateTimeComponent(i.value);this._selectionStrategy.selectValue(o,i.event),this._cellClickAction(i)}},_updateTimeComponent(i){let e=new Date(i),t=this._dateOption("value");return t&&this._isSingleMode()&&(e.setHours(t.getHours()),e.setMinutes(t.getMinutes()),e.setSeconds(t.getSeconds()),e.setMilliseconds(t.getMilliseconds())),e},_isMaxZoomLevel(){return this.option("zoomLevel")===this.option("maxZoomLevel")},_navigateDown(i){let e=this.option("zoomLevel");if(this._isMaxZoomLevel())return;let t=st.getViewDown(e);if(!t)return;let n=this._view.option("contouredDate")||this._view.option("date");i&&(n=I(i).data("dxDateValueKey")),this._isOtherViewCellClicked=!0,this.option("currentDate",n),this.option("zoomLevel",t),this._isOtherViewCellClicked=!1,this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate")))},_renderNavigator(){this._navigator||(this._navigator=new yK(I("<div>"),this._navigatorConfig())),this._navigator.option("text",this._getViewsCaption(this._view,this._additionalView)),this._updateButtonsVisibility()},_navigatorConfig(){let{focusStateEnabled:i,rtlEnabled:e}=this.option();return{text:this._getViewsCaption(this._view,this._additionalView),onClick:this._navigatorClickHandler.bind(this),onCaptionClick:this._navigateUp.bind(this),focusStateEnabled:i,rtlEnabled:e,tabIndex:void 0}},_navigatorClickHandler(i){let{currentDate:e,viewsCount:t}=this.option(),n=i.direction;if(t>1){let r=this._isAdditionalViewDate(e);(r&&n<0||!r&&n>0)&&(n*=2)}let o=this._getDateByOffset(n,e);this._moveToClosestAvailableDate(o)},_navigateUp(){let i=this.option("zoomLevel"),e=st.getViewUp(i);!e||this._isMinZoomLevel(i)||(this.option("zoomLevel",e),this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate"))))},_isMinZoomLevel(i){let e=this._getMinDate(),t=this._getMaxDate();return st.sameView(i,e,t)||this.option("minZoomLevel")===i},_updateButtonsVisibility(){this._navigator.toggleButton("next",!U(this._afterView)),this._navigator.toggleButton("prev",!U(this._beforeView))},_renderSwipeable(){this._swipeable||(this._swipeable=this._createComponent(this.$element(),Iv,{onStart:this._swipeStartHandler.bind(this),onUpdated:this._swipeUpdateHandler.bind(this),onEnd:this._swipeEndHandler.bind(this),itemSizeFunc:this._viewWidth.bind(this)}))},_swipeStartHandler(i){hn.stop(this._$viewsWrapper,!0);let{viewsCount:e}=this.option();this._toggleGestureCoverCursor("grabbing"),i.event.maxLeftOffset=this._getRequiredView("next")?1/e:0,i.event.maxRightOffset=this._getRequiredView("prev")?1/e:0},_toggleGestureCoverCursor(i){I(".dx-gesture-cover").css("cursor",i)},_getRequiredView(i){let e,t=this.option("rtlEnabled");return i==="next"?e=t?this._beforeView:this._afterView:i==="prev"&&(e=t?this._afterView:this._beforeView),e},_swipeUpdateHandler(i){let{offset:e}=i.event;In(this._$viewsWrapper,{left:e*this._viewWidth(),top:0}),this._updateNavigatorCaption(e)},_swipeEndHandler(i){this._toggleGestureCoverCursor("auto");let{currentDate:e,rtlEnabled:t}=this.option(),{targetOffset:n}=i.event,o=n?n/Math.abs(n):0,s=this._isAdditionalViewDate(e)&&(t?o===-1:o===1);if(o===0){this._animateWrapper(0,250);return}let a=-o*this._getRtlCorrection()*(s?2:1),l=this._getDateByOffset(a);this._isDateInInvalidRange(l)&&(o>=0?l=new Date(this._getMinDate()):l=new Date(this._getMaxDate())),this.option("currentDate",l)},_viewWidth(){return this._viewWidthValue||(this._viewWidthValue=Qe(this.$element())/this.option("viewsCount")),this._viewWidthValue},_updateNavigatorCaption(i){i*=this._getRtlCorrection();let e=this.option("viewsCount")>1,t,n;i>.5&&this._beforeView?(t=this._beforeView,n=e&&this._view):i<-.5&&this._afterView?(t=e?this._additionalView:this._afterView,n=e?this._afterView:null):(t=this._view,n=e?this._additionalView:null),this._navigator.option("text",this._getViewsCaption(t,n))},_getViewsCaption(i,e){let t=i.getNavigatorCaption(),{viewsCount:n}=this.option();if(n>1&&e){let o=e.getNavigatorCaption();t=`${t} - ${o}`}return t},_isDateInInvalidRange(i){if(this._view.isBoundary(i))return;let e=this._getMinDate(),t=this._getMaxDate(),n=st.normalizeDate(i,e,t);return n===e||n===t},_renderFooter(){let i=this.option("showTodayButton");if(i){let e=this._createComponent(I("<div>"),Ln,{focusStateEnabled:this.option("focusStateEnabled"),text:de.format("dxCalendar-todayButtonText"),onClick:t=>{this._toTodayView(t)},type:Zn()?"normal":"default",stylingMode:Zn()?"outlined":"text",integrationOptions:{}}).$element().addClass("dx-calendar-today-button");this._$footer=I("<div>").addClass("dx-calendar-footer").append(e),this.$element().append(this._$footer)}this.$element().toggleClass("dx-calendar-with-footer",i)},_renderSubmitElement(){this._$submitElement=I("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue(i){let e=this._convertToDate(i);this._getSubmitElement().val(kn.serializeDate(e,"yyyy-MM-dd"))},_getSubmitElement(){return this._$submitElement},_animateShowView(){hn.stop(this._view.$element(),!0),this._popAnimationView(this._view,.6,1,250),this.option("viewsCount")>1&&(hn.stop(this._additionalView.$element(),!0),this._popAnimationView(this._additionalView,.6,1,250))},_popAnimationView:(i,e,t,n)=>hn.animate(i.$element(),{type:"pop",from:{scale:e,opacity:e},to:{scale:t,opacity:t},duration:n}),_navigate(i,e){if(i!==0&&Math.abs(i)!==1&&this._isViewAvailable(e)){let s=this._renderSpecificView(e);i>0?(this._afterView&&this._afterView.$element().remove(),this._afterView=s):(this._beforeView&&this._beforeView.$element().remove(),this._beforeView=s),this._translateViews()}let t=this._getRtlCorrection(),n=i>0?1:i<0?-1:0,o=-t*n*this._viewWidth();this._$viewsWrapper.position().left!==o&&(this._preventViewChangeAnimation?this._wrapperAnimationEndHandler(i,e):this._animateWrapper(o,250).done(this._wrapperAnimationEndHandler.bind(this,i,e)))},_animateWrapper(i,e){return hn.animate(this._$viewsWrapper,{type:"slide",from:{left:this._$viewsWrapper.position().left},to:{left:i},duration:e})},_getDate:i=>new Date(i),_toTodayView(i){let e=new Date;if(this._isMaxZoomLevel()){this._selectionStrategy.selectValue(e,i.event);return}this._preventViewChangeAnimation=!0,this.option("zoomLevel",this.option("maxZoomLevel")),this._selectionStrategy.selectValue(e,i.event),this._animateShowView(),this._preventViewChangeAnimation=!1},_wrapperAnimationEndHandler(i,e){this._rearrangeViews(i),this._translateViews(),this._resetLocation(),this._renderNavigator(),this._setViewContoured(e),this._updateAriaId(e),this._selectionStrategy.updateAriaSelected()},_rearrangeViews(i){var e;if(i===0)return;let{viewsCount:t}=this.option(),n,o,r,s,a;if(i<0?(n=1,o="_beforeView",r="_afterView",s="_view",a=t===1?"_view":"_additionalView"):(n=-1,o="_afterView",r="_beforeView",s=t===1?"_view":"_additionalView",a="_view"),!this[o])return;let l=this[o].option("date");(e=this[r])===null||e===void 0||e.$element().remove(),this[r]=this._renderSpecificView(this._getDateByOffset(n*t,l)),this[a].$element().remove(),t===1?this[a]=this[o]:(this[a]=this[s],this[s]=this[o]);let d=this._getDateByOffset(-n,l);this[o]=this._isViewAvailable(d)?this._renderSpecificView(d):null},_resetLocation(){In(this._$viewsWrapper,{left:0,top:0})},_clean(){this.callBase(),this._clearViewWidthCache(),delete this._$viewsWrapper,delete this._navigator,delete this._$footer},_clearViewWidthCache(){delete this._viewWidthValue},_disposeViews(){this._view.$element().remove(),this._beforeView&&this._beforeView.$element().remove(),this._additionalView&&this._additionalView.$element().remove(),this._afterView&&this._afterView.$element().remove(),delete this._view,delete this._additionalView,delete this._beforeView,delete this._afterView,delete this._skipNavigate},_dispose(){clearTimeout(this._waitRenderViewTimeout),this.callBase()},_refreshViews(){this._resetActiveState(),this._disposeViews(),this._renderViews()},_visibilityChanged(){this._translateViews()},_shouldSkipFocusEvent(i){let{target:e,relatedTarget:t}=i;return I(e).parents(".dx-calendar").length&&I(t).parents(".dx-calendar").length},_focusInHandler(i){I(i.target).is(this._$viewsWrapper)&&this._setViewContoured(this.option("currentDate")),!this._shouldSkipFocusEvent(i)&&(this.callBase.apply(this,arguments),this._toggleFocusClass(!0,this.$element()))},_focusOutHandler(i){if(I(i.target).is(this._$viewsWrapper)){var e;this._view.option("contouredDate",null),(e=this._additionalView)===null||e===void 0||e.option("contouredDate",null)}this._shouldSkipFocusEvent(i)||(this.callBase.apply(this,arguments),this._toggleFocusClass(!1,this.$element()))},_updateViewsOption(i,e){var t,n,o;this._view.option(i,e),(t=this._additionalView)===null||t===void 0||t.option(i,e),(n=this._beforeView)===null||n===void 0||n.option(i,e),(o=this._afterView)===null||o===void 0||o.option(i,e)},_setViewsMinOption(i){this._restoreViewsMinMaxOptions(),this.option("_rangeMin",this._convertToDate(i)),this._updateViewsOption("min",this._getMinDate())},_setViewsMaxOption(i){this._restoreViewsMinMaxOptions(),this.option("_rangeMax",this._convertToDate(i)),this._updateViewsOption("max",this._getMaxDate())},_restoreViewsMinMaxOptions(){this._resetActiveState(),this.option({_rangeMin:null,_rangeMax:null}),this._updateViewsOption("min",this._getMinDate()),this._updateViewsOption("max",this._getMaxDate())},_updateNavigatorLabels(){let i=this.option("zoomLevel");i=i.charAt(0).toUpperCase()+i.slice(1);let e=this._navigator._caption.option("text"),t=de.format(`dxCalendar-previous${i}ButtonLabel`),n=de.format(`dxCalendar-caption${i}Label`),o=de.format(`dxCalendar-next${i}ButtonLabel`);this.setAria("label",t,this._navigator._prevButton.$element()),this.setAria("label",`${e}. ${n}`,this._navigator._caption.$element()),this.setAria("label",o,this._navigator._nextButton.$element())},_updateAriaSelected(i,e){e.forEach(t=>{this.setAria("selected",!1,this._view._getCellByDate(t))}),i.forEach(t=>{this.setAria("selected",!0,this._view._getCellByDate(t))}),this.option("viewsCount")>1&&(e.forEach(t=>{this.setAria("selected",!1,this._additionalView._getCellByDate(t))}),i.forEach(t=>{this.setAria("selected",!0,this._additionalView._getCellByDate(t))}))},_updateAriaId(i){i=i??this.option("currentDate");let e=`dx-${new yi}`,n=this._getActiveView(i)._getCellByDate(i);this.setAria("id",e,n),this.setAria("activedescendant",e),this._onContouredChanged(e)},_suppressingNavigation(i,e){this._suppressNavigation=!0,i.apply(this,e),delete this._suppressNavigation},_optionChanged(i){let{value:e,previousValue:t}=i;switch(i.name){case"width":this.callBase(i),this._clearViewWidthCache();break;case"min":case"max":this.min=void 0,this.max=void 0,this._suppressingNavigation(this._updateCurrentDate,[this.option("currentDate")]),this._refreshViews(),this._renderNavigator();break;case"selectionMode":this._refreshSelectionStrategy(),this._initCurrentDate();break;case"selectWeekOnClick":case"_todayDate":case"showWeekNumbers":case"weekNumberRule":this._refreshViews();break;case"firstDayOfWeek":this._refreshViews(),this._updateButtonsVisibility();break;case"focusStateEnabled":case"disabledDates":case"dateSerializationFormat":case"cellTemplate":case"showTodayButton":this._invalidate();break;case"currentDate":this.setAria("id",void 0,this._view._getCellByDate(t)),this._updateCurrentDate(e);break;case"zoomLevel":this.$element().removeClass(`dx-calendar-view-${t}`),this._correctZoomLevel(),this._refreshViews(),this._renderNavigator(),this._updateAriaId(),this._updateNavigatorLabels();break;case"minZoomLevel":case"maxZoomLevel":this._correctZoomLevel(),this._updateButtonsVisibility();break;case"value":this._selectionStrategy.processValueChanged(e,t),this._setSubmitValue(e),this.callBase(i);break;case"viewsCount":this._refreshViews(),this._renderNavigator();break;case"onCellClick":this._view.option("onCellClick",e);break;case"onContouredChanged":this._onContouredChanged=this._createActionByOption("onContouredChanged");break;case"skipFocusCheck":break;default:this.callBase(i)}},getContouredDate(){return this._view.option("contouredDate")}});ut("dxCalendar",IK);var DK=IK;var TK=DK;function AK(i,e){var t;return(((t=i.getRootNode)===null||t===void 0?void 0:t.call(i))??document).querySelector(e)}var kK="dx-invalid-message-auto",MK="dx-validation-target",Ng=class extends xg{getProps(){let e=super.getProps();return e.onFocusIn=()=>{if(this.option("validationMessageMode")==="auto"){let n=I(AK(this.element(),".dx-invalid-message.dx-overlay-wrapper"));n?.removeClass(kK);let o=150;this.showValidationMessageTimeout&&clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(()=>{n?.addClass(kK)},o)}},e.saveValueChangeEvent=t=>{this._valueChangeEventInstance=t},e}_createElement(e){super._createElement(e),this.showValidationMessageTimeout=void 0,this.validationRequest=Gt(),Zi(this.$element()[0],MK,this)}_render(){var e;(e=this.option("_onMarkupRendered"))===null||e===void 0||e()}_init(){super._init(),this._initialValue=this.option("value")}_initializeComponent(){super._initializeComponent(),this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})}_initOptions(e){super._initOptions(e),this.option(Bo.initValidationOptions(e))}_getDefaultOptions(){return q(super._getDefaultOptions(),{validationMessageOffset:{h:0,v:0},validationTooltipOptions:{}})}_bindInnerWidgetOptions(e,t){let n=q({},e.option()),o=()=>this._silent(t,n);o(),e.on("optionChanged",o)}_raiseValidation(e,t){let n=!U(e)&&!U(t);e!==t&&!n&&this.validationRequest.fire({value:e,editor:this})}_raiseValueChangeAction(e,t){var n;(n=this._valueChangeAction)===null||n===void 0||n.call(this,{element:this.$element(),previousValue:t,value:e,event:this._valueChangeEventInstance}),this._valueChangeEventInstance=void 0}_optionChanged(e){let{name:t,previousValue:n,value:o}=e;switch(t&&this._getActionConfigs()[t]!==void 0&&this._addAction(t),t){case"value":this._raiseValidation(o,n),this.option("isDirty",this._initialValue!==o),this._raiseValueChangeAction(o,n);break;case"onValueChanged":this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]});break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(Bo.synchronizeValidationOptions(e,this.option()))}super._optionChanged(e)}clear(){let{value:e}=this._getDefaultOptions();this.option({value:e})}reset(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;arguments.length&&(this._initialValue=e),this.option("value",this._initialValue),this.option("isDirty",!1),this.option("isValid",!0)}_dispose(){super._dispose(),Zi(this.element(),MK,null),this.showValidationMessageTimeout&&clearTimeout(this.showValidationMessageTimeout)}};var YSe=Mr.isEditor,RK=i=>YSe(i)||i instanceof Ng;Ng.isEditor=RK;Mr.isEditor=RK;var YE=class extends Ng{_useTemplates(){return!1}_isFocused(){return this.$element()[0].classList.contains("dx-state-focused")}getSupportedKeyNames(){return["space"]}getProps(){let e=super.getProps();return e.value!==null&&(e.value=!!e.value),e}};var XSe=["dataSource","selectedRowKeys"],ZSe={integrationOptions:!0};function Tv(i,e,t){return{path:i,value:e,previousValue:t}}function FK(i,e,t,n,o,r){if(ZSe[n])return;let s=or(e),a=or(t);if(e!==t)if(s!==a)i.push(Tv(n,t,e));else if(s==="object")if(!ht(t))i.push(Tv(n,t,e));else{let l=PK(e,t,o,r);i.push(...l.map(d=>ye({},d,{path:`${n}.${d.path}`})))}else if(s==="array")if(r.some(d=>o.includes(d))&&e!==t)i.push(Tv(n,t,e));else if(e.length!==t.length)i.push(Tv(n,t,e));else{let d=PK(e,t,o,r);[].push.apply(i,d.map(c=>ye({},c,{path:`${n}${c.path}`})))}else i.push(Tv(n,t,e))}var LK=i=>(e,t,n,o)=>{let r=[],s=Array.isArray(e)?a=>{FK(r,e[a],t[a],`[${a}]`,`${n}.${a}`,o)}:a=>{FK(r,e[a],t[a],a,`${n}.${a}`,o)};return i(e).forEach(s),Object.keys(t).filter(a=>!Object.prototype.hasOwnProperty.call(e,a)&&e[a]!==t[a]).forEach(a=>{r.push({path:a,value:t[a],previousValue:e[a]})}),r},PK=LK(i=>Object.keys(i)),QSe={key:!0,ref:!0,children:!0,style:!0},JSe=LK(i=>Object.keys(i).filter(e=>!QSe[e]));function NK(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:XSe;return JSe(i,e,"",t)}var eEe=["valueChange"],tEe=["componentProps","componentType","templateNames"],BK=i=>Object.keys(i).reduce((e,t)=>(i[t]!==void 0&&(e[t]=i[t]),e),{}),iEe=i=>{let{props:{componentProps:{className:e}},restAttributes:t,widgetRef:n}=i;return BK(dn(1,"div",e,null,1,ye({},t),null,n))},nEe={},Bg=(()=>{class i extends br{get config(){return this.context[To.id]?this.context[To.id]:To.defaultValue}constructor(t){super(t),this.state={},this.widgetRef=Pn(),this.getInstance=this.getInstance.bind(this),this.setupWidget=this.setupWidget.bind(this),this.updateWidget=this.updateWidget.bind(this)}createEffects(){return[new Gi(this.setupWidget,[]),new Gi(this.updateWidget,[this.props.componentProps,this.config,this.props.templateNames])]}updateEffects(){var t;(t=this._effects[1])===null||t===void 0||t.update([this.props.componentProps,this.config,this.props.templateNames])}setupWidget(){let t=new this.props.componentType(this.widgetRef.current,this.properties);return this.instance=t,()=>{t.dispose(),this.instance=null}}updateWidget(){let t=this.getInstance();if(!t)return;let n=NK(this.prevProps||{},this.properties);n.length&&(t.beginUpdate(),n.forEach(o=>{let{path:r,value:s}=o;t.option(r,s)}),t.endUpdate()),this.prevProps=this.properties}get properties(){var t;let n=BK(this.props.componentProps),{valueChange:o}=n,r=ri(n,eEe),s=ye({rtlEnabled:!!((t=this.config)!==null&&t!==void 0&&t.rtlEnabled),isRenovated:!0},r);return o&&(s.onValueChanged=l=>{let{value:d}=l;return o(d)}),this.props.templateNames.forEach(l=>{xU(l,s,this)&&(s[l]=(d,c,u)=>{yU(this.props.componentProps[l],{item:d,index:c,container:u},this)})}),s}get restAttributes(){let t=this.props;return ri(t,tEe)}getInstance(){return this.instance}render(){let t=this.props;return iEe({props:ye({},t),widgetRef:this.widgetRef,config:this.config,properties:this.properties,restAttributes:this.restAttributes})}}return i.defaultProps=nEe,i})();var oEe=["accessKey","activeStateEnabled","boundary","className","contentId","disabled","focusStateEnabled","height","hint","hoverStateEnabled","mode","offset","onClick","onKeyDown","positionSide","rtlEnabled","tabIndex","target","validationErrors","visible","visualContainer","width"],rEe=i=>{let{componentProps:e,restAttributes:t}=i;return ao(xi(2,Bg,ye({componentType:FE,componentProps:e,templateNames:[]},t)))},sEe=Object.create(Object.prototype,Object.assign(Object.getOwnPropertyDescriptors(kh),Object.getOwnPropertyDescriptors({mode:"auto",positionSide:"top",offset:Object.freeze({h:0,v:0}),isReactComponentWrapper:!0}))),VK=(()=>{class i extends Qn{constructor(t){super(t),this.state={}}get componentProps(){return this.props}get restAttributes(){let t=this.props;return ri(t,oEe)}render(){let t=this.props;return rEe({props:ye({},t),componentProps:this.componentProps,restAttributes:this.restAttributes})}}return i.defaultProps=sEe,i})();var aEe=["accessKey","activeStateEnabled","aria","children","className","classes","defaultValue","disabled","focusStateEnabled","height","hint","hoverStateEnabled","inputAttr","isDirty","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","tabIndex","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","visible","width"],lEe=i=>{let{classes:e,isValid:t,readOnly:n}=i,o={"dx-state-readonly":!!n,"dx-invalid":!t,[String(e)]:!!e};return Yo(o)},dEe=i=>{let{aria:e,cssClasses:t,isValidationMessageVisible:n,onFocusIn:o,props:{accessKey:r,activeStateEnabled:s,children:a,className:l,disabled:d,focusStateEnabled:c,height:u,hint:h,hoverStateEnabled:f,onClick:p,onKeyDown:m,rtlEnabled:g,tabIndex:b,validationMessageMode:x,validationMessagePosition:E,visible:D,width:L},restAttributes:k,rootElementRef:R,validationErrors:N,validationMessageGuid:z,validationMessageTarget:V,widgetRef:S}=i;return ao(xi(2,Sg,ye({rootElementRef:R,aria:e,classes:t,activeStateEnabled:s,focusStateEnabled:c,hoverStateEnabled:f,accessKey:r,className:l,rtlEnabled:g,hint:h,disabled:d,height:u,width:L,onFocusIn:o,onClick:p,onKeyDown:m,tabIndex:b,visible:D},k,{children:Zr([a,n&&xi(2,VK,{validationErrors:N,mode:x,positionSide:E,rtlEnabled:g,target:V,boundary:V,visualContainer:V,contentId:z})],0)}),null,S))},fo=Object.create(Object.prototype,Object.assign(Object.getOwnPropertyDescriptors(kh),Object.getOwnPropertyDescriptors({readOnly:!1,name:"",validationError:null,validationErrors:null,validationMessageMode:"auto",validationMessagePosition:"bottom",validationStatus:"valid",isValid:!0,isDirty:!1,inputAttr:Object.freeze({}),defaultValue:null,valueChange:()=>{}}))),cEe={get readOnly(){return fo.readOnly},get name(){return fo.name},get validationError(){return fo.validationError},get validationErrors(){return fo.validationErrors},get validationMessageMode(){return fo.validationMessageMode},get validationMessagePosition(){return fo.validationMessagePosition},get validationStatus(){return fo.validationStatus},get isValid(){return fo.isValid},get isDirty(){return fo.isDirty},get inputAttr(){return fo.inputAttr},get defaultValue(){return fo.defaultValue},get valueChange(){return fo.valueChange},get className(){return fo.className},get activeStateEnabled(){return fo.activeStateEnabled},get disabled(){return fo.disabled},get focusStateEnabled(){return fo.focusStateEnabled},get hoverStateEnabled(){return fo.hoverStateEnabled},get tabIndex(){return fo.tabIndex},get visible(){return fo.visible},get aria(){return wg.aria},get classes(){return wg.classes}},Av=class extends za{constructor(e){super(e),this.widgetRef=Pn(),this.rootElementRef=Pn(),this.__getterCache={},this.state={validationMessageGuid:`dx-${new yi}`,isValidationMessageVisible:!1,value:this.props.value!==void 0?this.props.value:this.props.defaultValue},this.updateValidationMessageVisibility=this.updateValidationMessageVisibility.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.onFocusIn=this.onFocusIn.bind(this)}createEffects(){return[new Gi(this.updateValidationMessageVisibility,[this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors]),bd()]}updateEffects(){var e;(e=this._effects[0])===null||e===void 0||e.update([this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors])}updateValidationMessageVisibility(){this.setState(e=>({isValidationMessageVisible:this.shouldShowValidationMessage}))}onFocusIn(e){let{onFocusIn:t}=this.props;t?.(e)}get cssClasses(){return`${lEe(ye({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}))}`}get shouldShowValidationMessage(){let{isValid:e,validationStatus:t}=this.props,n=this.validationErrors??[];return!(e&&t!=="invalid")&&n.length>0}get aria(){let{isValid:e,readOnly:t}=this.props,n={readonly:t?"true":"false",invalid:e?"false":"true"};return this.shouldShowValidationMessage&&(n.describedBy=this.state.validationMessageGuid),ye({},n,this.props.aria)}get validationErrors(){return this.__getterCache.validationErrors!==void 0?this.__getterCache.validationErrors:this.__getterCache.validationErrors=(()=>{let{validationError:e,validationErrors:t}=this.props,n=t&&[...t];return!n&&e&&(n=[ye({},e)]),n})()}get validationMessageTarget(){var e;return(e=this.rootElementRef)===null||e===void 0?void 0:e.current}get restAttributes(){let e=ye({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value});return ri(e,aEe)}focus(){this.widgetRef.current.focus()}blur(){this.widgetRef.current.blur()}componentWillUpdate(e,t,n){super.componentWillUpdate(),(this.props.validationError!==e.validationError||this.props.validationErrors!==e.validationErrors)&&(this.__getterCache.validationErrors=void 0)}render(){let e=this.props;return dEe({props:ye({},e,{value:this.props.value!==void 0?this.props.value:this.state.value}),validationMessageGuid:this.state.validationMessageGuid,isValidationMessageVisible:this.state.isValidationMessageVisible,rootElementRef:this.rootElementRef,widgetRef:this.widgetRef,onFocusIn:this.onFocusIn,cssClasses:this.cssClasses,shouldShowValidationMessage:this.shouldShowValidationMessage,aria:this.aria,validationErrors:this.validationErrors,validationMessageTarget:this.validationMessageTarget,restAttributes:this.restAttributes})}};Av.defaultProps=cEe;var uEe=["size"],hEe=i=>{let{cssStyles:e,elementRef:t}=i;return dn(1,"span","dx-checkbox-icon",null,1,{style:yg(e)},null,t)},pEe={},HK=(()=>{class i extends Qn{constructor(t){super(t),this.state={},this.elementRef=Pn(),this.__getterCache={}}get cssStyles(){return this.__getterCache.cssStyles!==void 0?this.__getterCache.cssStyles:this.__getterCache.cssStyles=(()=>{let{size:t}=this.props;return{fontSize:Cc("fontSize",t)}})()}get restAttributes(){let t=this.props;return ri(t,uEe)}componentWillUpdate(t,n,o){this.props.size!==t.size&&(this.__getterCache.cssStyles=void 0)}render(){let t=this.props;return hEe({props:ye({},t),elementRef:this.elementRef,cssStyles:this.cssStyles,restAttributes:this.restAttributes})}}return i.defaultProps=pEe,i})();var fEe=["accessKey","activeStateEnabled","aria","className","defaultValue","disabled","enableThreeStateBehavior","focusStateEnabled","height","hint","hoverStateEnabled","iconSize","inputAttr","isDirty","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","saveValueChangeEvent","tabIndex","text","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","visible","width"],mEe=i=>{let{text:e,value:t}=i,n=t;return Yo({"dx-checkbox":!0,"dx-checkbox-checked":n===!0,"dx-checkbox-has-text":!!e,"dx-checkbox-indeterminate":n===null})},gEe=i=>{let{aria:e,cssClasses:t,editorRef:n,keyDown:o,onWidgetClick:r,props:{accessKey:s,activeStateEnabled:a,className:l,disabled:d,focusStateEnabled:c,height:u,hint:h,hoverStateEnabled:f,iconSize:p,isValid:m,name:g,onFocusIn:b,readOnly:x,rtlEnabled:E,tabIndex:D,text:L,validationError:k,validationErrors:R,validationMessageMode:N,validationMessagePosition:z,validationStatus:V,value:S,visible:T,width:B},restAttributes:_}=i;return ao(xi(2,Av,ye({aria:e,classes:t,onClick:r,onKeyDown:o,accessKey:s,activeStateEnabled:a,focusStateEnabled:c,hoverStateEnabled:f,className:l,disabled:d,readOnly:x,hint:h,height:u,width:B,rtlEnabled:E,tabIndex:D,visible:T,validationError:k,validationErrors:R,validationMessageMode:N,validationMessagePosition:z,validationStatus:V,isValid:m,onFocusIn:b},_,{children:Zr([ao(dn(64,"input",null,null,1,ye({type:"hidden",value:`${S}`},g&&{name:g}))),dn(1,"div","dx-checkbox-container",[xi(2,HK,{size:p,isChecked:S===!0}),L&&dn(1,"span","dx-checkbox-text",L,0)],0)],4)}),null,n))},Xo=Object.create(Object.prototype,Object.assign(Object.getOwnPropertyDescriptors(fo),Object.getOwnPropertyDescriptors({text:"",enableThreeStateBehavior:!1,activeStateEnabled:!0,hoverStateEnabled:!0,get focusStateEnabled(){return Ve.real().deviceType==="desktop"&&!Ve.isSimulator()},defaultValue:!1,valueChange:()=>{}}))),_Ee={get text(){return Xo.text},get enableThreeStateBehavior(){return Xo.enableThreeStateBehavior},get activeStateEnabled(){return Xo.activeStateEnabled},get hoverStateEnabled(){return Xo.hoverStateEnabled},get focusStateEnabled(){return Xo.focusStateEnabled},get defaultValue(){return Xo.defaultValue},get valueChange(){return Xo.valueChange},get readOnly(){return Xo.readOnly},get name(){return Xo.name},get validationError(){return Xo.validationError},get validationErrors(){return Xo.validationErrors},get validationMessageMode(){return Xo.validationMessageMode},get validationMessagePosition(){return Xo.validationMessagePosition},get validationStatus(){return Xo.validationStatus},get isValid(){return Xo.isValid},get isDirty(){return Xo.isDirty},get inputAttr(){return Xo.inputAttr},get className(){return Xo.className},get disabled(){return Xo.disabled},get tabIndex(){return Xo.tabIndex},get visible(){return Xo.visible},get aria(){return wg.aria}},df=class extends za{constructor(e){super(e),this.editorRef=Pn(),this.state={value:this.props.value!==void 0?this.props.value:this.props.defaultValue},this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.onWidgetClick=this.onWidgetClick.bind(this),this.keyDown=this.keyDown.bind(this)}createEffects(){return[bd()]}onWidgetClick(e){let{enableThreeStateBehavior:t,readOnly:n,saveValueChangeEvent:o}=this.props;if(!n)if(o?.(e),t){let r;this.setState(s=>(r=(this.props.value!==void 0?this.props.value:s.value)===null||((this.props.value!==void 0?this.props.value:s.value)?!1:null),{value:r})),this.props.valueChange(r)}else{let r;this.setState(s=>(r=!((this.props.value!==void 0?this.props.value:s.value)??!1),{value:r})),this.props.valueChange(r)}}keyDown(e){let{onKeyDown:t}=this.props,{keyName:n,originalEvent:o,which:r}=e,s=t?.(e);if(s!=null&&s.cancel)return s;(n==="space"||r==="space")&&(o.preventDefault(),this.onWidgetClick(o))}get cssClasses(){return mEe(ye({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}))}get aria(){let e=(this.props.value!==void 0?this.props.value:this.state.value)===!0,n={role:"checkbox",checked:(this.props.value!==void 0?this.props.value:this.state.value)===null?"mixed":`${e}`};return ye({},n,this.props.aria)}get restAttributes(){let e=ye({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value});return ri(e,fEe)}focus(){this.editorRef.current.focus()}blur(){this.editorRef.current.blur()}render(){let e=this.props;return gEe({props:ye({},e,{value:this.props.value!==void 0?this.props.value:this.state.value}),editorRef:this.editorRef,onWidgetClick:this.onWidgetClick,keyDown:this.keyDown,cssClasses:this.cssClasses,aria:this.aria,restAttributes:this.restAttributes})}};function bEe(i){let e=["value"];return Object.keys(i).reduce((t,n)=>{let o=i[n],r=e.some(s=>s===n)?"default"+n.charAt(0).toUpperCase()+n.slice(1):n;return t[r]=o,t},{})}df.defaultProps=_Ee;var zK=[];function jK(i){zK.push(i),df.defaultProps=Object.create(Object.prototype,Object.assign(Object.getOwnPropertyDescriptors(df.defaultProps),Object.getOwnPropertyDescriptors(bEe(_l(zK)))))}var Vg=class extends YE{getProps(){let e=super.getProps();return e.onKeyDown=this._wrapKeyDownHandler(e.onKeyDown),e}focus(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.focus(...arguments)}blur(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.blur(...arguments)}_getActionConfigs(){return{onFocusIn:{},onClick:{}}}get _propsInfo(){return{twoWay:[["value","defaultValue","valueChange"]],allowNull:["defaultValue","validationError","validationErrors","value"],elements:[],templates:[],props:["text","iconSize","enableThreeStateBehavior","activeStateEnabled","hoverStateEnabled","focusStateEnabled","saveValueChangeEvent","defaultValue","valueChange","readOnly","name","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","isValid","isDirty","inputAttr","onFocusIn","className","accessKey","disabled","height","hint","onClick","onKeyDown","rtlEnabled","tabIndex","visible","width","aria","value"]}}get _viewComponent(){return df}};ut("dxCheckBox",Vg);Vg.defaultOptions=jK;var Ph=Vg;var $K=et();var Id="dxDraggable",vEe=Se(Dc,Id),yEe=Se(yl,Id),xEe=Se(Tc,Id),CEe=Se(Wb,Id),wEe=Se(Ub,Id),SEe=Se(Mt.down,Id),EEe=Se("keydown",Id);var k2,XE;var M2=i=>({x:i.pageX-I($K).scrollLeft(),y:i.pageY-I($K).scrollTop()});var ZE=class{constructor(e,t){this._$scrollableAtPointer=null,this._preventScroll=!0,this._component=t,e==="vertical"?(this._scrollValue="scrollTop",this._overFlowAttr="overflowY",this._sizeAttr="height",this._scrollSizeProp="scrollHeight",this._clientSizeProp="clientHeight",this._limitProps={start:"top",end:"bottom"}):(this._scrollValue="scrollLeft",this._overFlowAttr="overflowX",this._sizeAttr="width",this._scrollSizeProp="scrollWidth",this._clientSizeProp="clientWidth",this._limitProps={start:"left",end:"right"})}updateScrollable(e,t){let n=!1;e.some(o=>{let r=I(o),s=r.hasClass("dx-overlay-wrapper"),a=r.hasClass("dx-overlay-content");return s||a?!0:(n=this._trySetScrollable(o,t),n)}),n||(this._$scrollableAtPointer=null,this._scrollSpeed=0)}isScrolling(){return!!this._scrollSpeed}isScrollable(e){return(e.css(this._overFlowAttr)==="auto"||e.hasClass("dx-scrollable-container"))&&e.prop(this._scrollSizeProp)>Math.ceil(this._sizeAttr==="width"?Qe(e):ft(e))}_trySetScrollable(e,t){let n=this,o=I(e),r,s=n._component.option("scrollSensitivity"),a=n.isScrollable(o);return a&&(r=n._calculateDistanceToBorders(o,t),s>r[n._limitProps.start]?n._preventScroll||(n._scrollSpeed=-n._calculateScrollSpeed(r[n._limitProps.start]),n._$scrollableAtPointer=o):s>r[n._limitProps.end]?n._preventScroll||(n._scrollSpeed=n._calculateScrollSpeed(r[n._limitProps.end]),n._$scrollableAtPointer=o):(a=!1,n._preventScroll=!1)),a}_calculateDistanceToBorders(e,t){let n=e.get(0),o;return n?(o=un(n),{left:t.x-o.left,top:t.y-o.top,right:o.right-t.x,bottom:o.bottom-t.y}):{}}_calculateScrollSpeed(e){let t=this._component,n=t.option("scrollSensitivity"),o=t.option("scrollSpeed");return Math.ceil(((n-e)/n)**2*o)}scrollByStep(){let e=this;if(e._$scrollableAtPointer&&e._scrollSpeed){if(e._$scrollableAtPointer.hasClass("dx-scrollable-container")){let n=e._$scrollableAtPointer.closest(".dx-scrollable"),o=n.data("dxScrollable")||n.data("dxScrollView");if(o){let r=o.scrollOffset()[e._limitProps.start]+e._scrollSpeed;o.scrollTo({[e._limitProps.start]:r})}}else{let n=e._$scrollableAtPointer[e._scrollValue]()+e._scrollSpeed;e._$scrollableAtPointer[e._scrollValue](n)}let t=e._component._dragMoveArgs;t&&e._component._dragMoveHandler(t)}}reset(){this._$scrollableAtPointer=null,this._scrollSpeed=0,this._preventScroll=!0}isOutsideScrollable(e,t){if(!e)return!1;let n=un(e.get(0)),o=n[this._limitProps.start],r=n[this._sizeAttr],s=M2(t),a=this._sizeAttr==="width"?s.x:s.y;return a<o||a>o+r}},OEe=CE.inherit({ctor(i){this.callBase(),this._strategy=i},_step(){let i=this._strategy._horizontalScrollHelper,e=this._strategy._verticalScrollHelper;i&&i.scrollByStep(),e&&e.scrollByStep()}}),WK=Gr.inherit({reset:pe,dragMove:pe,dragEnter:pe,dragLeave:pe,dragEnd(i){return this._getSourceDraggable()._fireRemoveEvent(i),le().resolve()},_fireRemoveEvent:pe,_getDefaultOptions(){return q(this.callBase(),{onDragStart:null,onDragMove:null,onDragEnd:null,onDragEnter:null,onDragLeave:null,onDragCancel:null,onCancelByEsc:!1,onDrop:null,immediate:!0,dragDirection:"both",boundary:void 0,boundOffset:0,allowMoveByClick:!1,itemData:null,container:void 0,dragTemplate:void 0,contentTemplate:"content",handle:"",filter:"",clone:!1,autoScroll:!0,scrollSpeed:30,scrollSensitivity:60,group:void 0,data:void 0})},_setOptionsByReference(){this.callBase.apply(this,arguments),q(this._optionsByReference,{component:!0,group:!0,itemData:!0,data:!0})},_init(){this.callBase(),this._attachEventHandlers(),this._scrollAnimator=new OEe(this),this._horizontalScrollHelper=new ZE("horizontal",this),this._verticalScrollHelper=new ZE("vertical",this),this._initScrollTop=0,this._initScrollLeft=0},_normalizeCursorOffset(i){return Ke(i)&&(i={h:i.x,v:i.y}),i=ad(i).map(e=>parseFloat(e)),{left:i[0],top:i.length===1?i[0]:i[1]}},_getNormalizedCursorOffset(i,e){return Ie(i)&&(i=i.call(this,e)),this._normalizeCursorOffset(i)},_calculateElementOffset(i){let e,t,{event:n}=i,o=I(i.itemElement),r=I(i.dragElement),s=this._dragElementIsCloned(),a=this.option("cursorOffset"),l={left:0,top:0},d=this._initialLocate=ar(r);return(s||i.initialOffset||a)&&(e=i.initialOffset||o.offset(),a&&(l=this._getNormalizedCursorOffset(a,i),isFinite(l.left)&&(e.left=n.pageX),isFinite(l.top)&&(e.top=n.pageY)),t=r.offset(),e.top-=t.top+(l.top||0)-d.top,e.left-=t.left+(l.left||0)-d.left),e},_initPosition(i){let e=I(i.dragElement),t=this._calculateElementOffset(i);t&&this._move(t,e),this._startPosition=ar(e)},_startAnimator(){this._scrollAnimator.inProgress()||this._scrollAnimator.start()},_stopAnimator(){this._scrollAnimator.stop()},_addWidgetPrefix(i){let e=this.NAME;return Sb(e)+(i?`-${i}`:"")},_getItemsSelector(){return this.option("filter")||""},_$content(){let i=this.$element(),e=i.children(".dx-template-wrapper");return e.length?e:i},_attachEventHandlers(){if(this.option("disabled"))return;let i=this._$content(),e=this._getItemsSelector(),t=this.option("allowMoveByClick"),n={direction:this.option("dragDirection"),immediate:this.option("immediate"),checkDropTarget:(o,r)=>{let s=this.option("group"),a=this._getSourceDraggable().option("group"),l=this._getScrollable(o);return this._verticalScrollHelper.isOutsideScrollable(l,r)||this._horizontalScrollHelper.isOutsideScrollable(l,r)?!1:a&&a===s}};t&&(i=this._getArea(),X.on(i,SEe,n,this._pointerDownHandler.bind(this))),e[0]===">"&&(e=e.slice(1)),X.on(i,vEe,e,n,this._dragStartHandler.bind(this)),X.on(i,yEe,n,this._dragMoveHandler.bind(this)),X.on(i,xEe,n,this._dragEndHandler.bind(this)),X.on(i,CEe,n,this._dragEnterHandler.bind(this)),X.on(i,wEe,n,this._dragLeaveHandler.bind(this)),this.option("onCancelByEsc")&&X.on(i,EEe,this._keydownHandler.bind(this))},_dragElementIsCloned(){return this._$dragElement&&this._$dragElement.hasClass(this._addWidgetPrefix("clone"))},_getDragTemplateArgs(i,e){return{container:tt(e),model:{itemData:this.option("itemData"),itemElement:tt(i)}}},_createDragElement(i){let e=i,t=this.option("clone"),n=this._getContainer(),o=this.option("dragTemplate");return o?(o=this._getTemplate(o),e=I("<div>").appendTo(n),o.render(this._getDragTemplateArgs(i,e))):t&&(e=I("<div>").appendTo(n),i.clone().css({width:i.css("width"),height:i.css("height")}).appendTo(e)),e.toggleClass(this._addWidgetPrefix("clone"),e.get(0)!==i.get(0)).toggleClass("dx-rtl",this.option("rtlEnabled"))},_resetDragElement(){this._dragElementIsCloned()?this._$dragElement.remove():this._toggleDraggingClass(!1),this._$dragElement=null},_resetSourceElement(){this._toggleDragSourceClass(!1),this._$sourceElement=null},_detachEventHandlers(){X.off(this._$content(),`.${Id}`),X.off(this._getArea(),`.${Id}`)},_move(i,e){In(e||this._$dragElement,i)},_getDraggableElement(i){let e=this._getSourceElement();if(e)return e;if(this.option("allowMoveByClick"))return this.$element();let n=I(i&&i.target),o=this._getItemsSelector();if(o[0]===">"){let r=this._$content().find(o);r.is(n)||(n=n.closest(r))}return n},_getSourceElement(){return this._getSourceDraggable()._$sourceElement},_pointerDownHandler(i){if(aS(i))return;let e={},t=this.$element(),n=this.option("dragDirection");(n==="horizontal"||n==="both")&&(e.left=i.pageX-t.offset().left+ar(t).left-Qe(t)/2),(n==="vertical"||n==="both")&&(e.top=i.pageY-t.offset().top+ar(t).top-ft(t)/2),this._move(e,t),this._getAction("onDragMove")(this._getEventArgs(i))},_isValidElement(i,e){let t=this.option("handle"),n=I(i.originalEvent&&i.originalEvent.target);return t&&!n.closest(t).length||!e.length?!1:!e.is(".dx-state-disabled, .dx-state-disabled *")},_dragStartHandler(i){let e=this._getDraggableElement(i);if(this.dragInProgress=!0,!this._isValidElement(i,e)){i.cancel=!0;return}if(this._$sourceElement)return;let t=this._getDragStartArgs(i,e);if(this._getAction("onDragStart")(t),t.cancel){i.cancel=!0;return}this.option("itemData",t.itemData),this._setSourceDraggable(),this._$sourceElement=e;let n=e.offset();!this._hasClonedDraggable()&&this.option("autoScroll")&&(this._initScrollTop=this._getScrollableScrollTop(),this._initScrollLeft=this._getScrollableScrollLeft(),n=this._getDraggableElementOffset(n.left,n.top));let o=this._$dragElement=this._createDragElement(e);this._toggleDraggingClass(!0),this._toggleDragSourceClass(!0),this._setGestureCoverCursor(o.children());let r=o.css("position")==="fixed";this._initPosition(q({},t,{dragElement:o.get(0),initialOffset:r&&n})),this._getAction("onDraggableElementShown")(ye({},t,{dragElement:o}));let s=this._getArea(),a=this._getAreaOffset(s),l=this._getBoundOffset(),d=Ft(s),c=Ct(s),u=Qe(o),h=ft(o),f=o.offset().left-a.left,p=o.offset().top-a.top;s.length&&(i.maxLeftOffset=f-l.left,i.maxRightOffset=d-f-u-l.right,i.maxTopOffset=p-l.top,i.maxBottomOffset=c-p-h-l.bottom),this.option("autoScroll")&&this._startAnimator()},_getAreaOffset(i){return i&&lr.offset(i)||{left:0,top:0}},_toggleDraggingClass(i){this._$dragElement&&this._$dragElement.toggleClass(this._addWidgetPrefix("dragging"),i)},_toggleDragSourceClass(i,e){let t=e||this._$sourceElement;t&&t.toggleClass(this._addWidgetPrefix("source"),i)},_setGestureCoverCursor(i){I(".dx-gesture-cover").css("cursor",i.css("cursor"))},_getBoundOffset(){let i=this.option("boundOffset");return Ie(i)&&(i=i.call(this)),gz(i)},_getArea(){let i=this.option("boundary");return Ie(i)&&(i=i.call(this)),I(i)},_getContainer(){let i=this.option("container");return i===void 0&&(i=Qs()),I(i)},_getDraggableElementOffset(i,e){var t,n;let o=this._initScrollTop,r=this._initScrollLeft,s=this._getScrollableScrollTop(),a=this._getScrollableScrollLeft(),d=I(this.element()).css("position")==="fixed",c={left:(((t=this._startPosition)===null||t===void 0?void 0:t.left)??0)+i,top:(((n=this._startPosition)===null||n===void 0?void 0:n.top)??0)+e};return d||this._hasClonedDraggable()?c:{left:ai(a)?c.left+a-r:c.left,top:ai(s)?c.top+s-o:c.top}},_hasClonedDraggable(){return this.option("clone")||this.option("dragTemplate")},_dragMoveHandler(i){if(this._dragMoveArgs=i,!this._$dragElement){i.cancel=!0;return}let e=this._getDraggableElementOffset(i.offset.x,i.offset.y);this._move(e),this._updateScrollable(i);let t=this._getEventArgs(i);if(this._getAction("onDragMove")(t),t.cancel===!0)return;this._getTargetDraggable().dragMove(i,scrollBy)},_updateScrollable(i){let e=this;if(e.option("autoScroll")){let t=M2(i),n=be.elementsFromPoint(t.x,t.y,this.$element().get(0));e._verticalScrollHelper.updateScrollable(n,t),e._horizontalScrollHelper.updateScrollable(n,t)}},_getScrollable(i){let e;return i.parents().toArray().some(t=>{let n=I(t);return this._horizontalScrollHelper.isScrollable(n)||this._verticalScrollHelper.isScrollable(n)?(e=n,!0):!1}),e},_getScrollableScrollTop(){var i;return((i=this._getScrollable(I(this.element())))===null||i===void 0?void 0:i.scrollTop())??0},_getScrollableScrollLeft(){var i;return((i=this._getScrollable(I(this.element())))===null||i===void 0?void 0:i.scrollLeft())??0},_defaultActionArgs(){let i=this.callBase.apply(this,arguments),e=this.option("component");return e&&(i.component=e,i.element=e.element()),i},_getEventArgs(i){let e=this._getSourceDraggable(),t=this._getTargetDraggable();return{event:i,itemData:e.option("itemData"),itemElement:tt(e._$sourceElement),fromComponent:e.option("component")||e,toComponent:t.option("component")||t,fromData:e.option("data"),toData:t.option("data")}},_getDragStartArgs(i,e){let t=this._getEventArgs(i);return{event:t.event,itemData:t.itemData,itemElement:e,fromData:t.fromData}},_revertItemToInitialPosition(){!this._dragElementIsCloned()&&this._move(this._initialLocate,this._$sourceElement)},_dragEndHandler(i){let e=le(),t=this._getEventArgs(i),n=this._getEventArgs(i),o=this._getTargetDraggable(),r=!0;this.dragInProgress=!1;try{this._getAction("onDragEnd")(t)}finally{Be(Yn(t.cancel)).done(s=>{if(!s&&(o!==this&&o._getAction("onDrop")(n),!n.cancel)){r=!1,Be(Yn(o.dragEnd(t))).always(e.resolve);return}e.resolve()}).fail(e.resolve),e.done(()=>{r&&this._revertItemToInitialPosition(),this._resetDragOptions(o)})}},_isTargetOverAnotherDraggable(i){let e=this._getSourceDraggable();if(this===e)return!1;let t=e._$dragElement,n=e.$element(),o=this.$element(),r=M2(i),a=be.elementsFromPoint(r.x,r.y,this.element()).filter(u=>{let h=I(u);return h.hasClass(this._addWidgetPrefix())?!h.closest(t).length:!1})[0],l=this._getSourceElement(),d=a===n.get(0),c=I(a).closest(l).length;return!a||a===o.get(0)&&!d&&!c},_dragEnterHandler(i){this._fireDragEnterEvent(i),this._isTargetOverAnotherDraggable(i)&&this._setTargetDraggable(),this._getSourceDraggable().dragEnter(i)},_dragLeaveHandler(i){this._fireDragLeaveEvent(i),this._resetTargetDraggable(),this!==this._getSourceDraggable()&&this.reset(),this._getSourceDraggable().dragLeave(i)},_keydownHandler(i){this.dragInProgress&&i.key==="Escape"&&this._keydownEscapeHandler(i)},_keydownEscapeHandler(i){var e;if(!this._getSourceElement())return;let n=this._getEventArgs(i);if(this._getAction("onDragCancel")(n),n.cancel)return;this.dragInProgress=!1,(e=XE)===null||e===void 0||e._toggleDraggingClass(!1),this._detachEventHandlers(),this._revertItemToInitialPosition();let o=this._getTargetDraggable();this._resetDragOptions(o),this._attachEventHandlers()},_getAction(i){return this[`_${i}Action`]||this._createActionByOption(i)},_getAnonymousTemplateName:()=>"content",_initTemplates(){this.option("contentTemplate")&&(this._templateManager.addDefaultTemplates({content:new Fs}),this.callBase.apply(this,arguments))},_render(){this.callBase(),this.$element().addClass(this._addWidgetPrefix());let i=this._templateManager.anonymousTemplateName===this.option("contentTemplate"),e=this._getTemplateByOption("contentTemplate");e&&I(e.render({container:this.element(),transclude:i}))},_optionChanged(i){let{name:e}=i;switch(e){case"onDragStart":case"onDragMove":case"onDragEnd":case"onDrop":case"onDragEnter":case"onDragLeave":case"onDragCancel":case"onDraggableElementShown":this[`_${e}Action`]=this._createActionByOption(e);break;case"dragTemplate":case"contentTemplate":case"container":case"clone":case"scrollSensitivity":case"scrollSpeed":case"boundOffset":case"handle":case"group":case"data":case"itemData":break;case"allowMoveByClick":case"dragDirection":case"disabled":case"boundary":case"filter":case"immediate":this._resetDragElement(),this._detachEventHandlers(),this._attachEventHandlers();break;case"onCancelByEsc":this._keydownHandler();break;case"autoScroll":this._verticalScrollHelper.reset(),this._horizontalScrollHelper.reset();break;default:this.callBase(i)}},_getTargetDraggable(){return k2||this},_getSourceDraggable(){return XE||this},_setTargetDraggable(){let i=this.option("group"),e=this._getSourceDraggable();i&&i===e.option("group")&&(k2=this)},_setSourceDraggable(){XE=this},_resetSourceDraggable(){XE=null},_resetTargetDraggable(){k2=null},_resetDragOptions(i){this.reset(),i.reset(),this._stopAnimator(),this._horizontalScrollHelper.reset(),this._verticalScrollHelper.reset(),this._resetDragElement(),this._resetSourceElement(),this._resetTargetDraggable(),this._resetSourceDraggable()},_dispose(){this.callBase(),this._detachEventHandlers(),this._resetDragElement(),this._resetTargetDraggable(),this._resetSourceDraggable(),this._$sourceElement=null,this._stopAnimator()},_fireDragEnterEvent(i){let e=this._getEventArgs(i);this._getAction("onDragEnter")(e)},_fireDragLeaveEvent(i){let e=this._getEventArgs(i);this._getAction("onDragLeave")(e)}});ut(Id,WK);var UK=WK;var tu="dxdblclick";var GK=Se(Kt,"dxDblClick");var IEe=Ut.inherit({ctor(){this._handlerCount=0,this._forgetLastClick()},_forgetLastClick(){this._firstClickTarget=null,this._lastClickTimeStamp=-300},add(){this._handlerCount<=0&&X.on(be.getDocument(),GK,this._clickHandler.bind(this)),this._handlerCount+=1},_clickHandler(i){let e=i.timeStamp||Date.now(),t=e-this._lastClickTimeStamp;!(t<0)&&t<300?(Ur({type:"dxdblclick",target:w9(this._firstClickTarget,i.target),originalEvent:i}),this._forgetLastClick()):(this._firstClickTarget=i.target,this._lastClickTimeStamp=e,clearTimeout(this._lastClickClearTimeout),this._lastClickClearTimeout=setTimeout(()=>{this._forgetLastClick()},600))},remove(){this._handlerCount-=1,this._handlerCount<=0&&(this._forgetLastClick(),X.off(be.getDocument(),GK,void 0),clearTimeout(this._lastClickClearTimeout),this._handlerCount=0)}}),KK=new IEe;mr(tu,KK);var qK=WE;var DEe="dx-numberbox-spin",TEe="dx-numberbox-spin-button";var ZK="dxNumberBox",YK=Se(Mt.up,ZK),XK=Se(Mt.cancel,ZK),AEe=Tn.inherit({_getDefaultOptions(){return q(this.callBase(),{direction:"up",onChange:null,activeStateEnabled:!0,hoverStateEnabled:!0})},_initMarkup(){this.callBase();let i=`${DEe}-${this.option("direction")}`;this.$element().addClass(TEe).addClass(i),this._spinIcon=I("<div>").addClass(`${i}-icon`).appendTo(this.$element())},_render(){this.callBase();let i=Se(Mt.down,this.NAME),e=this.$element();X.off(e,i),X.on(e,i,this._spinDownHandler.bind(this)),this._spinChangeHandler=this._createActionByOption("onChange")},_spinDownHandler(i){i.preventDefault(),this._clearTimer(),X.on(this.$element(),ms.name,()=>{this._feedBackDeferred=le(),M7(this._feedBackDeferred),this._spinChangeHandler({event:i}),this._holdTimer=setInterval(this._spinChangeHandler,100,{event:i})});let e=be.getDocument();X.on(e,YK,this._clearTimer.bind(this)),X.on(e,XK,this._clearTimer.bind(this)),this._spinChangeHandler({event:i})},_dispose(){this._clearTimer(),this.callBase()},_clearTimer(){X.off(this.$element(),ms.name);let i=be.getDocument();X.off(i,YK),X.off(i,XK),this._feedBackDeferred&&this._feedBackDeferred.resolve(),this._holdTimer&&clearInterval(this._holdTimer)},_optionChanged(i){switch(i.name){case"onChange":case"direction":this._invalidate();break;default:this.callBase(i)}}}),cf=AEe;var kEe="dx-numberbox-spin",MEe="dx-numberbox-spin-container",REe="dx-numberbox-spin-touch-friendly",QE=class extends Sd{_attachEvents(e,t){let{editor:n}=this,o=Se(Mt.down,n.NAME),r=t.children(),s=n._createAction(a=>n._spinButtonsPointerDownHandler(a));X.off(t,o),X.on(t,o,a=>s({event:a})),cf.getInstance(r.eq(0)).option("onChange",a=>n._spinUpChangeHandler(a)),cf.getInstance(r.eq(1)).option("onChange",a=>n._spinDownChangeHandler(a))}_create(){let{editor:e}=this,t=I("<div>").addClass(MEe),n=I("<div>").appendTo(t),o=I("<div>").appendTo(t),r=this._getOptions();return this._addToContainer(t),e._createComponent(n,cf,q({direction:"up"},r)),e._createComponent(o,cf,q({direction:"down"},r)),this._legacyRender(e.$element(),this._isTouchFriendly(),r.visible),{instance:t,$element:t}}_getOptions(){let{editor:e}=this,t=this._isVisible(),n=e.option("disabled");return{visible:t,disabled:n}}_isVisible(){let{editor:e}=this;return super._isVisible()&&e.option("showSpinButtons")}_isTouchFriendly(){let{editor:e}=this;return e.option("showSpinButtons")&&e.option("useLargeSpinButtons")}_legacyRender(e,t,n){e.toggleClass(REe,t),e.toggleClass(kEe,n)}update(){if(super.update()){let{editor:t,instance:n}=this,o=t.$element(),r=this._isVisible(),s=this._isTouchFriendly(),a=n.children(),l=cf.getInstance(a.eq(0)),d=cf.getInstance(a.eq(1)),c=this._getOptions();l.option(c),d.option(c),this._legacyRender(o,s,r)}}};var FEe=Math,PEe="dx-numberbox",LEe=["tab","del","backspace","leftArrow","rightArrow","home","end","enter"];var NEe=qK.inherit({_supportedKeys(){return q(this.callBase(),{upArrow(i){Dn(i)||(i.preventDefault(),i.stopPropagation(),this._spinUpChangeHandler(i))},downArrow(i){Dn(i)||(i.preventDefault(),i.stopPropagation(),this._spinDownChangeHandler(i))},enter(){}})},_getDefaultOptions(){return q(this.callBase(),{value:0,min:void 0,max:void 0,step:1,showSpinButtons:!1,useLargeSpinButtons:!0,mode:"text",invalidValueMessage:de.format("dxNumberBox-invalidValueMessage"),buttons:void 0})},_useTemplates:()=>!1,_getDefaultButtons(){return this.callBase().concat([{name:"spins",Ctor:QE}])},_isSupportInputMode(){let i=parseFloat(gi.version);return gi.chrome&&i>=66||gi.safari&&i>=12},_defaultOptionsRules(){return this.callBase().concat([{device:()=>Ve.real().generic&&!Ve.isSimulator(),options:{useLargeSpinButtons:!1}},{device:(function(){return Ve.real().deviceType!=="desktop"&&!this._isSupportInputMode()}).bind(this),options:{mode:"number"}}])},_initMarkup(){this._renderSubmitElement(),this.$element().addClass(PEe),this.callBase()},_getDefaultAttributes(){let i=this.callBase();return i.inputmode="decimal",i},_renderContentImpl(){this.option("isValid")&&this._validateValue(this.option("value")),this.setAria("role","spinbutton")},_renderSubmitElement(){this._$submitElement=I("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue(i){this._getSubmitElement().val(Az(i))},_getSubmitElement(){return this._$submitElement},_keyPressHandler(i){this.callBase(i);let e=Fb(i);if(!/[\d.,eE\-+]/.test(e)){let n=Ti(i);return Dn(i)||n&&LEe.includes(n)?void 0:(i.preventDefault(),!1)}this._keyPressed=!0},_onMouseWheel(i){i.delta>0?this._spinValueChange(1,i):this._spinValueChange(-1,i)},_renderValue(){let i=this._input().val(),e=this.option("value");(!i.length||Number(i)!==e)&&(this._forceValueRender(),this._toggleEmptinessEventHandler());let t=U(e)?null:de.format("dxNumberBox-noDataText");return this.setAria({valuenow:ji(e,""),valuetext:t}),this.option("text",this._input().val()),this._updateButtons(),le().resolve()},_forceValueRender(){let i=this.option("value"),e=Number(i),t=isNaN(e)?"":this._applyDisplayValueFormatter(i);this._renderDisplayText(t)},_applyDisplayValueFormatter(i){return this.option("displayValueFormatter")(i)},_renderProps(){this._input().prop({min:this.option("min"),max:this.option("max"),step:this.option("step")}),this.setAria({valuemin:ji(this.option("min"),""),valuemax:ji(this.option("max"),"")})},_spinButtonsPointerDownHandler(){let i=this._input();!this.option("useLargeSpinButtons")&&be.getActiveElement()!==i[0]&&X.trigger(i,"focus")},_spinUpChangeHandler(i){this.option("readOnly")||this._spinValueChange(1,i.event||i)},_spinDownChangeHandler(i){this.option("readOnly")||this._spinValueChange(-1,i.event||i)},_spinValueChange(i,e){let t=parseFloat(this.option("step"));if(t===0)return;let n=parseFloat(this._normalizeInputValue())||0;n=this._correctRounding(n,t*i);let o=this.option("min"),r=this.option("max");U(o)&&(n=Math.max(o,n)),U(r)&&(n=Math.min(r,n)),this._saveValueChangeEvent(e),this.option("value",n)},_correctRounding(i,e){let t=/[,.](.*)/,n=t.test(i),o=t.test(e);if(n||o){let r=n?t.exec(i)[0].length:0,s=o?t.exec(e)[0].length:0,a=FEe.max(r,s);return i=this._round(i+e,a),i}return i+e},_round(i,e){e=e||0;let t=10**e;return i*=t,i=Math.round(i)/t,i},_renderValueChangeEvent(){this.callBase();let i=Se("focusout","NumberBoxForceValueChange");X.off(this.element(),i),X.on(this.element(),i,this._forceRefreshInputValue.bind(this))},_forceRefreshInputValue(){if(this.option("mode")==="number")return;let i=this._input(),e=this._applyDisplayValueFormatter(this.option("value"));i.val(null),i.val(e)},_valueChangeEventHandler(i){let e=this._input(),t=this._normalizeText(),n=this._parseValue(t),o=t!=="."&&t!=="-";if(this._isValueValid()&&!this._validateValue(n)){e.val(this._applyDisplayValueFormatter(n));return}o&&this.callBase(i,isNaN(n)?null:n),this._applyValueBoundaries(t,n),this.validationRequest.fire({value:n,editor:this})},_applyValueBoundaries(i,e){let t=this._isValueIncomplete(i),n=this._isValueInRange(i);!t&&!n&&e!==null&&Number(i)!==e&&this._input().val(this._applyDisplayValueFormatter(e))},_replaceCommaWithPoint:i=>i.replace(",","."),_inputIsInvalid(){let i=this.option("mode")==="number",e=this._input().get(0).validity;return i&&e&&e.badInput},_renderDisplayText(i){this._inputIsInvalid()||this.callBase(i)},_isValueIncomplete:i=>/(^-$)|(^-?\d*\.$)|(\d+e-?$)/i.test(i),_isValueInRange(i){return Rs(i,this.option("min"),this.option("max"))},_isNumber(i){return this._parseValue(i)!==null},_validateValue(i){let e=this._normalizeText(),t=this._isValueValid(),n=!0,o=this._isNumber(e);return isNaN(Number(i))&&(n=!1),!i&&t?n=!0:!o&&!t&&(n=!1),this.option({isValid:n,validationError:n?null:{editorSpecific:!0,message:this.option("invalidValueMessage")}}),n},_normalizeInputValue(){return this._parseValue(this._normalizeText())},_normalizeText(){let i=this._input().val().trim();return this._replaceCommaWithPoint(i)},_parseValue(i){let e=parseFloat(i);return isNaN(e)?null:ho(e,this.option("min"),this.option("max"))},_clearValue(){this._inputIsInvalid()&&(this._input().val(""),this._validateValue()),this.callBase()},clear(){this.option("value")===null?(this.option("text",""),this._input().length&&this._renderValue()):this.option("value",null)},_optionChanged(i){switch(i.name){case"value":this._validateValue(i.value),this._setSubmitValue(i.value),this.callBase(i),this._resumeValueChangeAction();break;case"step":this._renderProps();break;case"min":case"max":this._renderProps(),this.option("value",this._parseValue(this.option("value")));break;case"showSpinButtons":case"useLargeSpinButtons":this._updateButtons(["spins"]);break;case"invalidValueMessage":break;default:this.callBase(i)}}}),QK=NEe;var Hg=function(i){let e=0,t=0;for(let n=0;n<i.length;++n)if(i[n]==="'"&&e++,i[n]==="."&&(++t,e%2===0))return{occurrence:t,index:n};return{occurrence:1,index:-1}},kv=function(i,e,t){let n=-1;for(;t--&&n++<i.length;)n=i.indexOf(e,n);return n},Mv=function(i,e){return e===-1?[i]:[i.slice(0,e),i.slice(e+1)]},JK=function(i,e){return i&&_b(i/100,e)};var Rv=function(i,e){if(typeof e=="string"){let t=e.split(";"),n=Ii.getSign(i,e);t[1]=t[1]||`-${t[0]}`,e=t[n<0?1:0],e=(a=>a.replace(/'([^']*)'/g,l=>l.split("").map(()=>" ").join("").substr(2)))(e);let r=/^[^#0.,]*/.exec(e)[0].length,s=/[^#0.,]*$/.exec(e)[0].length;return{start:r,end:i.length-s}}return{start:0,end:i.length}},eq=function(i,e){let t=Ii.getDecimalSeparator(),n=new RegExp(`[^0-9${wa(t)}]`,"g");return e.slice(0,i).replace(n,"").length},tq=function(i){return i.split("").reverse().join("")},iq=function(i,e){if(!i)return-1;let t=/[0-9]/g,n=1,o=null,r=t.exec(e);for(;r;){if(o=r.index,n>=i)return o;n++,r=t.exec(e)}return o===null?e.length:o},BEe=function(i){return i.replace(/[^0-9e]+$/,"")},Lh=function(i,e){return i.start===void 0&&(i={start:i,end:i}),{start:i.start+e,end:i.end+e}},nq=function(i,e,t,n){t=Lh(t,0);let o=Ii.getDecimalSeparator(),r=VEe(i),s=Hg(n).occurrence,a=r?0:kv(i,o,s),l=kv(e,o,s),d=Mv(i,a),c=Mv(e,l);if(a!==-1&&t.start>a){let b=t.start-a-1,x=eq(b,d[1]),E=c[1]?l+1+iq(x,c[1])+1:e.length;return iu(E,e,n)}let h=BEe(c[0]),f=d[0].length-t.start,p=eq(f,tq(d[0])),m=iq(p,tq(h)),g=h.length-(m+1);return iu(g,e,n)};function VEe(i){return i.length===1&&!!i.match(/^[,.][0-9]*$/g)}var oq=function(i,e,t){i=Lh(i,0);let n=iu(i,e,t);return i.start>=n.start&&i.end<=n.end};function iu(i,e,t){i=Lh(i,0);let n=Rv(e,t);return{start:ho(i.start,n.start,n.end),end:ho(i.end,n.start,n.end)}}var rq=function(i,e,t){let n=Rv(i,t);return Rv(e,t).start-n.start};var HEe=QK.inherit({_getDefaultOptions(){return q(this.callBase(),{useMaskBehavior:!0,format:null})},_isDeleteKey:i=>i==="del",_supportedKeys(){return this._useMaskBehavior()?q(this.callBase(),{minus:this._revertSign.bind(this),del:this._removeHandler.bind(this),backspace:this._removeHandler.bind(this),leftArrow:this._arrowHandler.bind(this,-1),rightArrow:this._arrowHandler.bind(this,1),home:this._moveCaretToBoundaryEventHandler.bind(this,1),enter:this._updateFormattedValue.bind(this),end:this._moveCaretToBoundaryEventHandler.bind(this,-1)}):this.callBase()},_getTextSeparatorIndex(i){let e=Ii.getDecimalSeparator(),t=Hg(this.option("format")).occurrence;return kv(i,e,t)},_focusInHandler(i){this._preventNestedFocusEvent(i)||(this.clearCaretTimeout(),this._caretTimeout=setTimeout(()=>{this._caretTimeout=void 0;let e=this._caret();if(e.start===e.end&&this._useMaskBehavior()){let t=this._getInputVal(),n=this._getTextSeparatorIndex(t);n>=0?this._caret({start:n,end:n}):this._moveCaretToBoundaryEventHandler(-1,i)}},0)),this.callBase(i)},_focusOutHandler(i){let e=!this._preventNestedFocusEvent(i);e&&(this._focusOutOccurs=!0,this._useMaskBehavior()&&this._updateFormattedValue()),this.callBase(i),e&&(this._focusOutOccurs=!1)},_hasValueBeenChanged(i){let e=this._getFormatPattern(),t=this.option("value");return(this._format(t,e)||"")!==i},_updateFormattedValue(){let i=this._getInputVal();this._hasValueBeenChanged(i)&&(this._updateParsedValue(),this._adjustParsedValue(),this._setTextByParsedValue(),this._parsedValue!==this.option("value")&&X.trigger(this._input(),"change"))},_arrowHandler(i,e){if(!this._useMaskBehavior())return;let t=this._getInputVal(),n=this._getFormatPattern(),o=Lh(this._caret(),i);oq(o,t,n)||(o=i===1?o.end:o.start,e.preventDefault(),this._caret(iu(o,t,n)))},_moveCaretToBoundary(i){let e=Rv(this._getInputVal(),this._getFormatPattern()),t=Lh(i===1?e.start:e.end,0);this._caret(t)},_moveCaretToBoundaryEventHandler(i,e){!this._useMaskBehavior()||e&&e.shiftKey||(this._moveCaretToBoundary(i),e&&e.preventDefault())},_shouldMoveCaret(i,e){let t=Ii.getDecimalSeparator(),n=i.charAt(e.end)===t;return(this._lastKey===t||this._lastKey==="."||this._lastKey===",")&&n},_getInputVal(){return Ii.convertDigits(this._input().val(),!0)},_keyboardHandler(i){if(this.clearCaretTimeout(),this._lastKey=Ii.convertDigits(Fb(i),!0),this._lastKeyName=Ti(i),!this._shouldHandleKey(i.originalEvent))return this.callBase(i);let e=this._getInputVal(),t=this._caret(),n;this._lastKeyName==="minus"?n="":n=i.which===110?Ii.getDecimalSeparator():this._lastKey;let o=this._tryParse(e,t,n);return this._shouldMoveCaret(e,t)&&(this._moveCaret(1),i.originalEvent.preventDefault()),o===void 0?this._lastKeyName!=="minus"&&i.originalEvent.preventDefault():this._parsedValue=o,this.callBase(i)},_keyPressHandler(i){this._useMaskBehavior()||this.callBase(i)},_removeHandler(i){let e=this._caret(),t=this._getInputVal(),{start:n}=e,{end:o}=e;this._lastKey=Fb(i),this._lastKeyName=Ti(i);let r=this._isDeleteKey(this._lastKeyName),s=!r;if(n===o){let c=n;if(s&&c>0||r&&c<t.length)r&&o++,s&&n--;else{i.preventDefault();return}}let a=t.slice(n,o);if(this._isStub(a)){this._moveCaret(r?1:-1),(this._parsedValue<0||1/this._parsedValue===-1/0)&&(this._revertSign(i),this._setTextByParsedValue(),this.option("valueChangeEvent").split(" ").includes("input")&&X.trigger(this._input(),"input")),i.preventDefault();return}let l=Ii.getDecimalSeparator();if(a===l){let c=t.indexOf(l);this._isNonStubAfter(c+1)&&(this._moveCaret(r?1:-1),i.preventDefault());return}if(o-n<t.length&&this._replaceSelectedText(t,{start:n,end:o},"").search(/[0-9]/)<0&&this._isValueInRange(0)){this._parsedValue=this._parsedValue<0||1/this._parsedValue===-1/0?-0:0;return}let d=this._tryParse(t,{start:n,end:o},"");d===void 0?i.preventDefault():this._parsedValue=d},_isPercentFormat(){return this._getFormatPattern().replace(/'[^']+'/g,"").indexOf("%")!==-1},_parse(i,e){let t=this.option("format"),n=Ie(t.parser),o=n?t.parser:Ii.parse,r=0;if(!n){let s=Hg(e).index,a=this._getTextSeparatorIndex(i),l=s!==-1?s:e.length,d=a!==-1?a:i.length;d>l&&e.indexOf("#")===-1&&(r=d-l)}return i=i.substr(r),o(i,e)},_format(i,e){let t=this.option("format"),n=t?.formatter||t,o=Ie(n)?n:Ii.format;return i===null?"":o(i,e)},_getFormatPattern(){return this._currentFormat||this._updateFormat(),this._currentFormat},_updateFormat(){let i=this.option("format"),e=Ie(i?.parser),t=We(i)&&(i.includes("0")||i.includes("#")),n=i==="exponential"||i?.type==="exponential",o=e||t||n;this._currentFormat=o?i:zz(r=>{let s=this._format(r,i);return Ii.convertDigits(s,!0)})},_getFormatForSign(i){let e=this._getFormatPattern();if(We(e)){let n=e.split(";"),o=Ii.getSign(i,e);return n[1]=n[1]||`-${n[0]}`,o<0?n[1]:n[0]}return Ii.getSign(i)<0?"-":""},_removeStubs(i,e){let t=this._getFormatForSign(i),n=Ii.getThousandsSeparator(),o=this._getStubs(t),r=i;if(o.length){let s=o[0],a=new RegExp(`(${wa(o[1]||"")})$`,"g"),l=new RegExp(`[-${wa(e?"":n)}]`,"g");r=r.replace(s,"").replace(a,"").replace(l,"")}return r},_getStubs(i){let e=/[^']([#0.,]+)/g.exec(i),t=e&&e[0].trim();return i.split(t).map(n=>n.replace(/'/g,""))},_truncateToPrecision(i,e){if(U(i)){let t=i.toString(),n=t.indexOf(".");if(t&&n>-1){let o=parseFloat(t.substr(0,n+e+1));return isNaN(o)?i:o}}return i},_tryParse(i,e,t){let n=e.start!==e.end,o=n&&e.start===0&&e.end===i.length,r=Ii.getDecimalSeparator();if(o&&t===r)return 0;let s=this._replaceSelectedText(i,e,t),a=this._getFormatPattern(),l=this._getParsedValue(s,a),d=!a.parser&&this._getPrecisionLimits(s).max,c=l!==this._parsedValue,u=t===r&&d===0,h=!n&&!c&&t!=="-"&&this._isStub(t);if(u||h||(this._removeStubs(s)===""&&(l=Math.abs(0*this._parsedValue)),isNaN(l)))return;let f=l===null?this._parsedValue:l;return l=d?this._truncateToPrecision(f,d):l,!a.parser&&this._isPercentFormat()?JK(l,d):l},_getParsedValue(i,e){let t=Ii.getSign(i,e?.formatter||e),n=this._removeStubs(i,!0),o=this._parse(n,e),r=o<0?-1:1;return ai(o)&&t!==r?t*o:o},_isValueIncomplete(i){if(!this._useMaskBehavior())return this.callBase(i);let e=this._caret(),t=Ii.getDecimalSeparator(),n=this._getTextSeparatorIndex(i),o=n>=0&&n<e.start,r=this._removeStubs(i,!0).split(t);if(!o||r.length!==2)return!1;let s=r[1].length,l=!!this._getFormatPattern().parser,d=!l&&this._getPrecisionLimits(this._getFormatPattern(),i),c=l?!0:Rs(s,d.min,d.max),u=r[1].charAt(s-1)==="0";return c&&(u||!s)},_isValueInRange(i){let e=ji(this.option("min"),-1/0),t=ji(this.option("max"),1/0);return Rs(i,e,t)},_setInputText(i){let e=Ii.convertDigits(i,!0),t=nq(this._getInputVal(),e,this._caret(),this._getFormatPattern());this._input().val(i),this._toggleEmptinessEventHandler(),this._formattedValue=i,this._focusOutOccurs||this._caret(t)},_useMaskBehavior(){return!!this.option("format")&&this.option("useMaskBehavior")},_renderInputType(){let i=this.option("mode")==="number",e=Ve.real().deviceType==="desktop";this._useMaskBehavior()&&i?this._setInputType(e||this._isSupportInputMode()?"text":"tel"):this.callBase()},_isChar:i=>We(i)&&i.length===1,_moveCaret(i){if(!i)return;let e=Lh(this._caret(),i),t=iu(e,this._getInputVal(),this._getFormatPattern());this._caret(t)},_shouldHandleKey(i){let e=Ti(i),t=Dn(i)||i.altKey||i.shiftKey||!this._isChar(e),n=e==="minus";return this._useMaskBehavior()&&!t&&!n},_renderInput(){this.callBase(),this._renderFormatter()},_renderFormatter(){this._clearCache(),this._detachFormatterEvents(),this._useMaskBehavior()&&this._attachFormatterEvents()},_detachFormatterEvents(){X.off(this._input(),".dxNumberFormatter")},_isInputFromPaste(i){let e=i.originalEvent&&i.originalEvent.inputType;return U(e)?e==="insertFromPaste":this._isValuePasted},_attachFormatterEvents(){let i=this._input();X.on(i,Se("input","dxNumberFormatter"),e=>{this._formatValue(e),this._isValuePasted=!1}),X.on(i,Se("dxclick","dxNumberFormatter"),()=>{this._caretTimeout||(this._caretTimeout=setTimeout(()=>{this._caretTimeout=void 0,this._caret(iu(this._caret(),this._getInputVal(),this._getFormatPattern()))},0))}),X.on(i,tu,()=>{this.clearCaretTimeout()})},clearCaretTimeout(){clearTimeout(this._caretTimeout),this._caretTimeout=void 0},_forceRefreshInputValue(){if(!this._useMaskBehavior())return this.callBase()},_isNonStubAfter(i){let e=this._getInputVal().slice(i);return e&&!this._isStub(e,!0)},_isStub(i,e){let n=`^[^0-9${wa(Ii.getDecimalSeparator())}]+$`;return new RegExp(n,"g").test(i)&&(e||this._isChar(i))},_parseValue(i){return this._useMaskBehavior()?this._parsedValue:this.callBase(i)},_getPrecisionLimits(i){let e=this._getFormatForSign(i),t=Hg(e).index,n=(Mv(e,t)[1]||"").replace(/[^#0]/g,""),o=n.replace(/^(0*)#*/,"$1").length,r=n.length;return{min:o,max:r}},_revertSign(i){if(!this._useMaskBehavior())return;let e=this._caret();if(e.start!==e.end){if(Ti(i)==="minus"){this._applyRevertedSign(i,e,!0);return}this._caret(iu(0,this._getInputVal(),this._getFormatPattern()))}this._applyRevertedSign(i,e)},_applyRevertedSign(i,e,t){let n=-1*ji(this._parsedValue,null);if((this._isValueInRange(n)||n===0)&&(this._parsedValue=n,t)){let o=this._getFormatPattern(),r=this._getInputVal();this._setTextByParsedValue(),i.preventDefault();let s=this._getInputVal(),a=rq(r,s,o);e=Lh(e,a);let l=iu(e,s,o);this._caret(l)}},_removeMinusFromText(i,e){return this._lastKeyName==="minus"&&i.charAt(e.start-1)==="-"?this._replaceSelectedText(i,{start:e.start-1,end:e.start},""):i},_setTextByParsedValue(){let i=this._getFormatPattern(),e=this._parseValue(),t=this._format(e,i)||"";this._setInputText(t)},_formatValue(i){let e=this._getInputVal(),t=this._caret(),n=this._removeMinusFromText(e,t),o=n!==e;if(e=n,!this._isInputFromPaste(i)&&this._isValueIncomplete(n)){this._formattedValue=e,o&&this._setTextByParsedValue();return}if(Ii.convertDigits(this._formattedValue,!0)!==e){let s=this._tryParse(e,t,"");U(s)&&(this._parsedValue=s)}this._setTextByParsedValue()},_renderDisplayText(){this._useMaskBehavior()?this._toggleEmptinessEventHandler():this.callBase.apply(this,arguments)},_renderValue(){return this._useMaskBehavior()&&(this._parsedValue=this.option("value"),this._setTextByParsedValue()),this.callBase()},_updateParsedValue(){let i=this._getInputVal();this._parsedValue=this._tryParse(i,this._caret())},_adjustParsedValue(){if(!this._useMaskBehavior())return;let e=this._removeStubs(this._getInputVal())?this._parseValue():null;if(!ai(e)){this._parsedValue=e;return}this._parsedValue=ho(e,this.option("min"),this.option("max"))},_valueChangeEventHandler(i){if(!this._useMaskBehavior())return this.callBase(i);let e=this._caret();this._saveValueChangeEvent(i),this._lastKey=null,this._lastKeyName=null,this._updateParsedValue(),this._adjustParsedValue(),this.option("value",this._parsedValue),e&&this._caret(e)},_optionChanged(i){switch(i.name){case"format":case"useMaskBehavior":this._renderInputType(),this._updateFormat(),this._renderFormatter(),this._renderValue(),this._refreshValueChangeEvent(),this._refreshEvents();break;case"min":case"max":this._adjustParsedValue(),this.callBase(i);break;default:this.callBase(i)}},_clearCache(){delete this._formattedValue,delete this._lastKey,delete this._lastKeyName,delete this._parsedValue,delete this._focusOutOccurs,clearTimeout(this._caretTimeout),delete this._caretTimeout},_clean(){this._clearCache(),this.callBase()}}),R2=HEe;ut("dxNumberBox",R2);var sq=R2;var Fv=sq;var wr=Ag;var zEe=Ut.inherit({ctor(){this._dataStructure=[],this._itemsCount=0,this._visibleItemsCount=0},_indexByKey:{},_convertItemsToNodes(i,e){let t=this;ee(i,(n,o)=>{let r=U(e)?e:t._getParentId(o),s=t._convertItemToNode(o,r);t._dataStructure.push(s),t._checkForDuplicateId(s.internalFields.key),t._indexByKey[s.internalFields.key]=t._dataStructure.length-1,t._itemHasChildren(o)&&t._convertItemsToNodes(t._dataAccessors.getters.items(o),s.internalFields.key)})},_checkForDuplicateId(i){if(U(this._indexByKey[i]))throw bt.Error("E1040",i)},_getParentId(i){return this._dataType==="plain"?this._dataAccessors.getters.parentKey(i):void 0},_itemHasChildren(i){if(this._dataType==="plain")return;let e=this._dataAccessors.getters.items(i);return e&&e.length},_getUniqueKey(i){let e=this._dataAccessors.getters.key,t=e(i);return e&&(t||t===0)&&Zu(t)?t:this.getItemsCount()},_convertItemToNode(i,e){this._itemsCount++,i.visible!==!1&&this._visibleItemsCount++;let t={internalFields:{disabled:this._dataAccessors.getters.disabled(i,{defaultValue:!1}),expanded:this._dataAccessors.getters.expanded(i,{defaultValue:!1}),selected:this._dataAccessors.getters.selected(i,{defaultValue:!1}),key:this._getUniqueKey(i),parentKey:U(e)?e:this._rootValue,item:this._makeObjectFromPrimitive(i),childrenKeys:[]}};return q(t,i),delete t.items,t},setChildrenKeys(){let i=this;ee(this._dataStructure,(e,t)=>{if(t.internalFields.parentKey===i._rootValue)return;let n=i.getParentNode(t);n&&n.internalFields.childrenKeys.push(t.internalFields.key)})},_makeObjectFromPrimitive(i){if(Zu(i)){let e=i;i={},this._dataAccessors.setters.key(i,e)}return i},_convertToPublicNode(i,e){if(!i)return null;let t={text:this._dataAccessors.getters.display(i),key:i.internalFields.key,selected:i.internalFields.selected,expanded:i.internalFields.expanded,disabled:i.internalFields.disabled,parent:e||null,itemData:i.internalFields.item,children:[],items:[]};return t.parent&&(t.parent.children.push(t),t.parent.items.push(t)),t},convertToPublicNodes(i,e){if(!i.length)return[];let t=this,n=[];return ee(i,(o,r)=>{r=Zu(r)?t._getByKey(r):r;let s=t._convertToPublicNode(r,e);s.children=t.convertToPublicNodes(r.internalFields.childrenKeys,s),n.push(s),r.internalFields.publicNode=s}),n},setDataAccessors(i){this._dataAccessors=i},_getByKey(i){return this._dataStructure[this.getIndexByKey(i)]||null},getParentNode(i){return this._getByKey(i.internalFields.parentKey)},getByKey(i,e){if(e==null)return null;let t=null,n=this;return function(o,r){return ee(o,(s,a)=>{if((a.internalFields&&a.internalFields.key||n._dataAccessors.getters.key(a)).toString()===r.toString())return t=a,!1}),t}(i,e)},getItemsCount(){return this._itemsCount},getVisibleItemsCount(){return this._visibleItemsCount},updateIndexByKey(){let i=this;this._indexByKey={},ee(this._dataStructure,(e,t)=>{i._checkForDuplicateId(t.internalFields.key),i._indexByKey[t.internalFields.key]=e})},updateChildrenKeys(){this._indexByKey={},this.removeChildrenKeys(),this.updateIndexByKey(),this.setChildrenKeys()},removeChildrenKeys(){this._indexByKey={},ee(this._dataStructure,(i,e)=>{e.internalFields.childrenKeys=[]})},getIndexByKey(i){return this._indexByKey[i]},createPlainStructure(i,e,t){return this._itemsCount=0,this._visibleItemsCount=0,this._rootValue=e,this._dataType=t,this._indexByKey={},this._convertItemsToNodes(i),this.setChildrenKeys(),this._dataStructure}}),aq=zEe;var zg="expanded",uf="selected",jEe="disabled";El.setEditorClass(Rh);var $Ee=Ut.inherit({ctor(i){this.options={},q(this.options,this._defaultOptions(),i),this.options.dataConverter.setDataAccessors(this.options.dataAccessors),this._selectedNodesKeys=[],this._expandedNodesKeys=[],this._dataStructure=[],this._createInternalDataStructure(),this.getTreeNodes()},setOption(i,e){this.options[i]=e,i==="recursiveSelection"&&this._updateSelection()},_defaultOptions:()=>({dataAccessors:void 0,items:[],multipleSelection:!0,recursiveSelection:!1,recursiveExpansion:!1,rootValue:0,searchValue:"",dataType:"tree",searchMode:"contains",dataConverter:new aq,onNodeChanged:pe,sort:null}),_createInternalDataStructure(){this._initialDataStructure=this.options.dataConverter.createPlainStructure(this.options.items,this.options.rootValue,this.options.dataType),this._dataStructure=this.options.searchValue.length?this.search(this.options.searchValue):this._initialDataStructure,this.options.dataConverter._dataStructure=this._dataStructure,this._updateSelection(),this._updateExpansion()},_updateSelection(){this.options.recursiveSelection&&(this._setChildrenSelection(),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(uf)},_updateExpansion(i){this.options.recursiveExpansion&&(i?this._updateOneBranch(i):this._setParentExpansion()),this._expandedNodesKeys=this._updateNodesKeysArray(zg)},_updateNodesKeysArray(i){let e=this,t=[];return ee(e._getDataBySelectionMode(),(n,o)=>{e._isNodeVisible(o)&&o.internalFields[i]&&(i===zg||e.options.multipleSelection?t.push(o.internalFields.key):(t.length&&e.toggleSelection(t[0],!1,!0),t=[o.internalFields.key]))}),t},_getDataBySelectionMode(){return this.options.multipleSelection?this.getData():this.getFullData()},_isNodeVisible:i=>i.internalFields.item.visible!==!1,_getByKey(i,e){return i===this._dataStructure?this.options.dataConverter._getByKey(e):this.options.dataConverter.getByKey(i,e)},_setChildrenSelection(){let i=this;ee(this._dataStructure,(e,t)=>{if(!t.internalFields.childrenKeys.length)return;let n=t.internalFields.selected;n===!0&&i._toggleChildrenSelection(t,n)})},_setParentSelection(){let i=this;ee(this._dataStructure,(e,t)=>{i.options.dataConverter.getParentNode(t)&&t.internalFields.parentKey!==i.options.rootValue&&i._iterateParents(t,o=>{let r=i._calculateSelectedState(o);i._setFieldState(o,uf,r)})})},_setParentExpansion(){let i=this;ee(this._dataStructure,(e,t)=>{t.internalFields.expanded&&i._updateOneBranch(t.internalFields.key)})},_updateOneBranch(i){let e=this,t=this.getNodeByKey(i);e._iterateParents(t,n=>{e._setFieldState(n,zg,!0)})},_iterateChildren(i,e,t,n){if(!Ie(t))return;let o=this,r=i.internalFields.key;n=n||[],n.indexOf(r)===-1&&(n.push(r),ee(i.internalFields.childrenKeys,(s,a)=>{let l=o.getNodeByKey(a);t(l),l.internalFields.childrenKeys.length&&e&&o._iterateChildren(l,e,t,n)}))},_iterateParents(i,e,t){if(i.internalFields.parentKey===this.options.rootValue||!Ie(e))return;t=t||[];let{key:n}=i.internalFields;if(t.indexOf(n)===-1){t.push(n);let o=this.options.dataConverter.getParentNode(i);o&&(e(o),o.internalFields.parentKey!==this.options.rootValue&&this._iterateParents(o,e,t))}},_calculateSelectedState(i){let e=i.internalFields.childrenKeys.length,t=0,n=0,o=!1;for(let r=0;r<=e-1;r++){let s=this.getNodeByKey(i.internalFields.childrenKeys[r]),a=s.internalFields.item.visible===!1,l=s.internalFields.selected;if(a){n++;continue}l?t++:l===void 0&&(t+=.5)}return t&&(o=t===e-n?!0:void 0),o},_toggleChildrenSelection(i,e){let t=this;this._iterateChildren(i,!0,n=>{t._isNodeVisible(n)&&t._setFieldState(n,uf,e)})},_setFieldState(i,e,t){i.internalFields[e]!==t&&(i.internalFields[e]=t,i.internalFields.publicNode&&(i.internalFields.publicNode[e]=t),this.options.dataAccessors.setters[e](i.internalFields.item,t),this.options.onNodeChanged(i))},_markChildren(i){let e=this;ee(i,(t,n)=>{let o=e.getIndexByKey(n),r=e.getNodeByKey(n);e._dataStructure[o]=0,r.internalFields.childrenKeys.length&&e._markChildren(r.internalFields.childrenKeys)})},_removeNode(i){let e=this.getNodeByKey(i);this._dataStructure[this.getIndexByKey(i)]=0,this._markChildren(e.internalFields.childrenKeys);let t=this,n=0,o=q([],this._dataStructure);ee(o,(r,s)=>{s||(t._dataStructure.splice(r-n,1),n++)})},_addNode(i){let{dataConverter:e}=this.options,t=e._convertItemToNode(i,this.options.dataAccessors.getters.parentKey(i));this._dataStructure=this._dataStructure.concat(t),this._initialDataStructure=this._initialDataStructure.concat(t),e._dataStructure=e._dataStructure.concat(t)},_updateFields(){this.options.dataConverter.updateChildrenKeys(),this._updateSelection(),this._updateExpansion()},getSelectedNodesKeys(){return this._selectedNodesKeys},getExpandedNodesKeys(){return this._expandedNodesKeys},getData(){return this._dataStructure},getFullData(){return this._initialDataStructure},getNodeByItem(i){let e=null;return ee(this._dataStructure,(t,n)=>{if(n.internalFields.item===i)return e=n,!1}),e},getNodesByItems(i){let e=this,t=[];return ee(i,(n,o)=>{let r=e.getNodeByItem(o);r&&t.push(r)}),t},getNodeByKey(i,e){return this._getByKey(e||this._getDataBySelectionMode(),i)},getTreeNodes(){return this.options.dataConverter.convertToPublicNodes(this.getRootNodes())},getItemsCount(){return this.options.dataConverter.getItemsCount()},getVisibleItemsCount(){return this.options.dataConverter.getVisibleItemsCount()},getPublicNode:i=>i.internalFields.publicNode,getRootNodes(){return this.getChildrenNodes(this.options.rootValue)},getChildrenNodes(i){return ro(this._dataStructure,{langParams:this.options.langParams}).filter(["internalFields.parentKey",i]).toArray()},getIndexByKey(i){return this.options.dataConverter.getIndexByKey(i)},addItem(i){this._addNode(i),this._updateFields()},removeItem(i){this._removeNode(i),this._updateFields()},toggleSelection(i,e,t){let n=this._isSingleModeUnselect(e),o=this._getByKey(t||n?this._initialDataStructure:this._dataStructure,i);this._setFieldState(o,uf,e),this.options.recursiveSelection&&!t&&(e?this._setChildrenSelection():this._toggleChildrenSelection(o,e),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(uf)},_isSingleModeUnselect(i){return!this.options.multipleSelection&&!i},toggleNodeDisabledState(i,e){let t=this.getNodeByKey(i);this._setFieldState(t,jEe,e)},toggleSelectAll(i){if(!U(i))return;let e=this,t=e._selectedNodesKeys[e._selectedNodesKeys.length-1],n=e._isSingleModeUnselect(i)?this._initialDataStructure:this._dataStructure;ee(n,(o,r)=>{e._isNodeVisible(r)&&e._setFieldState(r,uf,i)}),e._selectedNodesKeys=e._updateNodesKeysArray(uf),!i&&e.options.selectionRequired&&e.toggleSelection(t,!0)},isAllSelected(){return this.getSelectedNodesKeys().length?this.getSelectedNodesKeys().length===this.getVisibleItemsCount()?!0:void 0:!1},toggleExpansion(i,e){let t=this.getNodeByKey(i);this._setFieldState(t,zg,e),e&&this._updateExpansion(i),this._expandedNodesKeys=this._updateNodesKeysArray(zg)},isFiltered(i){return!this.options.searchValue.length||!!this._filterDataStructure(this.options.searchValue,[i]).length},_createCriteria(i,e,t){let n=[];return Array.isArray(i)?(ee(i,(o,r)=>{n.push([r,t,e],"or")}),n.pop(),n):[i,t,e]},_filterDataStructure(i,e){let t=this.options.searchExpr||this.options.dataAccessors.getters.display,n=El.getOperationBySearchMode(this.options.searchMode),o=this._createCriteria(t,i,n);return e=e||this._initialDataStructure,ro(e,{langParams:this.options.langParams}).filter(o).toArray()},search(i){let e=this,t=this._filterDataStructure(i),{dataConverter:n}=this.options;return function o(r,s){let{length:a}=r;for(;s<a;){let l=r[s];if(l.internalFields.parentKey===e.options.rootValue){s++;continue}let d=n.getParentNode(l);if(!d){bt.log("W1007",l.internalFields.parentKey,l.internalFields.key),s++;continue}if(d.internalFields.expanded||e._setFieldState(d,zg,!0),r.includes(d)){s++;continue}r.splice(s,0,d),o(r,s)}}(t,0),this.options.sort&&(t=Kr.queryByOptions(ro(t),{sort:this.options.sort,langParams:this.options.langParams}).toArray()),n._indexByKey={},ee(t,(o,r)=>{r.internalFields.childrenKeys=[],n._indexByKey[r.internalFields.key]=o}),n._dataStructure=t,n.setChildrenKeys(),n._dataStructure}}),lq=$Ee;var WEe=Sl.inherit({_getDefaultOptions(){return q(this.callBase(),{keyExpr:"id",displayExpr:"text",selectedExpr:"selected",disabledExpr:"disabled",itemsExpr:"items",hoverStateEnabled:!0,parentIdExpr:"parentId",expandedExpr:"expanded"})},_defaultOptionsRules(){return this.callBase().concat([{device:()=>Ve.real().deviceType==="desktop"&&!Ve.isSimulator(),options:{focusStateEnabled:!0}}])},_init(){this.callBase(),this._initAccessors(),this._initDataAdapter(),this._initDynamicTemplates()},_initDataSource(){this.callBase(),this._dataSource&&this._dataSource.paginate(!1)},_initDataAdapter(){let i=this._createDataAdapterAccessors();this._dataAdapter=new lq(q({dataAccessors:{getters:i.getters,setters:i.setters},items:this.option("items")},this._getDataAdapterOptions()))},_getDataAdapterOptions:pe,_getItemExtraPropNames:pe,_initDynamicTemplates(){let i=["text","html","items","icon"].concat(this._getItemExtraPropNames());this._templateManager.addDefaultTemplates({item:new Yr(this._addContent.bind(this),i,this.option("integrationOptions.watchMethod"),{text:this._displayGetter,items:this._itemsGetter})})},_addContent(i,e){i.html(e.html).append(this._getIconContainer(e)).append(this._getTextContainer(e))},_getLinkContainer(i,e,t){let{linkAttr:n,url:o}=t,r=Ke(n)?n:{};return I("<a>").addClass("dx-item-url").attr(ye({},r,{href:o})).append(i).append(e)},_getIconContainer(i){if(!i.icon)return;let e=Xr(i.icon);if(e.is("img")){let t=this.NAME.startsWith("dxPrivateComponent")?"":`${this.NAME} `;e.attr("alt",`${t}item icon`)}return e},_getTextContainer:i=>I("<span>").text(i.text),_initAccessors(){let i=this;ee(this._getAccessors(),(e,t)=>{i._compileAccessor(t)}),this._compileDisplayGetter()},_getAccessors:()=>["key","selected","items","disabled","parentId","expanded"],_getChildNodes(i){let e=this,t=[];return ee(i.internalFields.childrenKeys,(n,o)=>{let r=e._dataAdapter.getNodeByKey(o);t.push(r)}),t},_hasChildren:i=>i&&i.internalFields.childrenKeys.length,_compileAccessor(i){let e=`_${i}Getter`,t=`_${i}Setter`,n=this.option(`${i}Expr`);if(!n){this[e]=pe,this[t]=pe;return}if(Ie(n)){this[t]=function(o,r){o[n()]=r},this[e]=function(o){return o[n()]};return}this[e]=Qt(n),this[t]=Pm(n)},_createDataAdapterAccessors(){let i=this,e={getters:{},setters:{}};return ee(this._getAccessors(),(t,n)=>{let o=`_${n}Getter`,r=`_${n}Setter`,s=n==="parentId"?"parentKey":n;e.getters[s]=i[o],e.setters[s]=i[r]}),e.getters.display=this._displayGetter?this._displayGetter:t=>t.text,e},_initMarkup(){this.callBase(),this._addWidgetClass()},_addWidgetClass(){this._focusTarget().addClass(this._widgetClass())},_widgetClass:pe,_renderItemFrame(i,e){let t=this.callBase.apply(this,arguments);return t.toggleClass("dx-state-disabled",!!this._disabledGetter(e)),t},_optionChanged(i){switch(i.name){case"displayExpr":case"keyExpr":this._initAccessors(),this._initDynamicTemplates(),this.repaint();break;case"itemsExpr":case"selectedExpr":case"disabledExpr":case"expandedExpr":case"parentIdExpr":this._initAccessors(),this._initDataAdapter(),this.repaint();break;case"items":this._initDataAdapter(),this.callBase(i);break;default:this.callBase(i)}}}),dq=WEe;var JE=dq;var UEe=JE,cq=UEe;var F2=class extends dg{_getPlainItems(){return tn(this._collectionWidget.option("items"),function e(t){return t.items?[t].concat(tn(t.items,e)):t})}_stringifyItem(e){return JSON.stringify(e,(t,n)=>t==="template"?this._getTemplateString(n):n)}_getTemplateString(e){let t;return typeof e=="object"?t=I(e).text():t=e.toString(),t}},uq=F2;var ja="dx-menu-item",GEe=`${ja}-content`,P2=`${ja}-selected`,hq=`${ja}-wrapper`;var KEe=`${ja}-expanded`;var qEe=`${ja}-has-text`,YEe=`${ja}-has-icon`,XEe=`${ja}-has-submenu`,pq=`${ja}-popout`,ZEe=`${pq}-container`,fq=`${ja}-text`;var QEe={show:50,hide:300},JEe=`${fq}-with-url`;var eOe=(()=>{class i extends cq{_getDefaultOptions(){return q(super._getDefaultOptions(),{items:[],cssClass:"",activeStateEnabled:!0,showSubmenuMode:{name:"onHover",delay:{show:50,hide:300}},animation:{show:{type:"fade",from:0,to:1,duration:100},hide:{type:"fade",from:1,to:0,duration:100}},selectByClick:!1,focusOnSelectedItem:!1,keyExpr:null,_itemAttributes:{role:"menuitem"},useInkRipple:!1})}_itemDataKey(){return"dxMenuItemDataKey"}_itemClass(){return ja}_setAriaSelectionAttribute(t,n){}_selectedItemClass(){return P2}_widgetClass(){return"dx-menu-base"}_focusTarget(){return this._itemContainer()}_clean(){this.option("focusedElement",null),super._clean()}_supportedKeys(){return q(super._supportedKeys(),{space:()=>{let t=I(this.option("focusedElement"));!t.length||!this._isSelectionEnabled()||this.selectItem(t[0])},pageUp:pe,pageDown:pe})}_isSelectionEnabled(){return this.option("selectionMode")==="single"}_init(){this._activeStateUnit=`.${ja}`,super._init(),this._renderSelectedItem(),this._initActions()}_getLinkContainer(t,n,o){let{linkAttr:r,url:s}=o;return t?.addClass("dx-icon-with-url"),n?.addClass(JEe),super._getLinkContainer(t,n,{linkAttr:r,url:s})}_addContent(t,n){let{html:o,url:r}=n;if(r){t.html(o);let s=this._getLinkContainer(this._getIconContainer(n),this._getTextContainer(n),n);t.append(s)}else super._addContent(t,n);t.append(this._getPopoutContainer(n)),this._addContentClasses(n,t.parent())}_getTextContainer(t){let{text:n}=t;if(!n)return;let o=I("<span>").addClass(fq),r=ht(t)?n:String(t);return o.text(r)}_getItemExtraPropNames(){return["url","linkAttr"]}_getPopoutContainer(t){let{items:n}=t,o;if(n&&n.length){let r=I("<div>").addClass(pq);o=I("<span>").addClass(ZEe).append(r)}return o}_getDataAdapterOptions(){return{rootValue:0,multipleSelection:!1,recursiveSelection:!1,recursiveExpansion:!1,searchValue:""}}_selectByItem(t){if(!t)return;let n=this._dataAdapter.getNodeByItem(t);this._dataAdapter.toggleSelection(n.internalFields.key,!0)}_renderSelectedItem(){let t=this._dataAdapter.getSelectedNodesKeys(),n=t.length&&t[0],o=this.option("selectedItem");if(!n){this._selectByItem(o);return}let r=this._dataAdapter.getNodeByKey(n);if(r.selectable!==!1){if(!o){this.option("selectedItem",r.internalFields.item);return}o!==r.internalFields.item&&(this._dataAdapter.toggleSelection(n,!1),this._selectByItem(o))}}_initActions(){}_initMarkup(){super._initMarkup(),this.option("useInkRipple")&&this._renderInkRipple()}_renderInkRipple(){this._inkRipple=Cg()}_toggleActiveState(t,n,o){if(super._toggleActiveState.apply(this,arguments),!this._inkRipple)return;let r={element:t,event:o};n?this._inkRipple.showWave(r):this._inkRipple.hideWave(r)}_getShowSubmenuMode(){let t=this.option("showSubmenuMode");return t=Ke(t)?t.name:t,this._isDesktopDevice()?t:"onClick"}_initSelectedItems(){}_isDesktopDevice(){return Ve.real().deviceType==="desktop"}_initEditStrategy(){let t=uq;this._editStrategy=new t(this)}_addCustomCssClass(t){t.addClass(this.option("cssClass"))}_itemWrapperSelector(){return`.${hq}`}_hoverStartHandler(t){let n=this._getItemElementByEventArgs(t);!n||this._isItemDisabled(n)||(t.stopPropagation(),this._getShowSubmenuMode()==="onHover"&&(clearTimeout(this._showSubmenusTimeout),this._showSubmenusTimeout=setTimeout(this._showSubmenu.bind(this,n),this._getSubmenuDelay("show"))))}_getAvailableItems(t){return super._getAvailableItems(t).filter(function(){return I(this).css("visibility")!=="hidden"})}_isItemDisabled(t){return this._disabledGetter(t.data(this._itemDataKey()))}_showSubmenu(t){this._addExpandedClass(t)}_addExpandedClass(t){I(t).addClass(KEe)}_getSubmenuDelay(t){let{delay:n}=this.option("showSubmenuMode");return U(n)?Ke(n)?n[t]:n:QEe[t]}_getItemElementByEventArgs(t){let n=I(t.target);if(n.hasClass(this._itemClass())||n.get(0)===t.currentTarget)return n;for(;!n.hasClass(this._itemClass());)if(n=n.parent(),n.hasClass("dx-submenu"))return null;return n}_hoverEndHandler(t){clearTimeout(this._showSubmenusTimeout)}_hasSubmenu(t){return t&&t.internalFields.childrenKeys.length}_renderContentImpl(){this._renderItems(this._dataAdapter.getRootNodes())}_renderItems(t,n){if(!t.length)return;this.hasIcons=!1;let o=this._renderContainer(this.$element(),n),r=-1,s=-1;ee(t,(a,l)=>{let d=l.visible!==!1;d&&r<0&&(r=a),r<a&&(l.beginGroup||a===s)&&(s=d?a:a+1),a===s&&r<a&&this._renderSeparator(o),this._renderItem(a,l,o)}),this.hasIcons||o.addClass("dx-menu-no-icons")}_renderContainer(t,n){let o=I("<ul>");return this.setAria("role","none",o),o.appendTo(t).addClass("dx-menu-items-container")}_createDOMElement(t){let n=I("<li>");return this.setAria("role","none",n),n.appendTo(t).addClass(hq)}_renderItem(t,n,o,r){let{items:s=[]}=this.option(),a=r??this._createDOMElement(o);s[t+1]&&s[t+1].beginGroup&&a.addClass("dx-menu-last-group-item");let l=super._renderItem(t,n.internalFields.item,a);n.internalFields.item===this.option("selectedItem")&&l.addClass(P2),l.attr("tabIndex",-1),this._hasSubmenu(n)&&this.setAria("haspopup","true",l)}_renderItemFrame(t,n,o){let r=o.children(`.${ja}`);return r.length?r:super._renderItemFrame.apply(this,arguments)}_refreshItem(t,n){let o=this._dataAdapter.getNodeByItem(n),r=t.data(this._itemIndexKey()),s=t.closest("ul"),a=t.closest("li");this._renderItem(r,o,s,a)}_addContentClasses(t,n){let o=t.text?!!t.text.length:!1,r=!!t.icon,s=t.items?!!t.items.length:!1;n.toggleClass(qEe,o),n.toggleClass(YEe,r),this.hasIcons||(this.hasIcons=r),n.toggleClass(XEe,s)}_getItemContent(t){let n=super._getItemContent(t);return n.length||(n=t.children(`.${GEe}`)),n}_postprocessRenderItem(t){let n=I(t.itemElement),o=this._dataAdapter.getSelectedNodesKeys();if(!o.length||!this._selectedGetter(t.itemData)||!this._isItemSelectable(t.itemData)){this._setAriaSelectionAttribute(n,"false");return}this._dataAdapter.getNodeByItem(t.itemData).internalFields.key===o[0]?(n.addClass(this._selectedItemClass()),this._setAriaSelectionAttribute(n,"true")):this._setAriaSelectionAttribute(n,"false")}_isItemSelectable(t){return t.selectable!==!1}_renderSeparator(t){I("<li>").appendTo(t).addClass("dx-menu-separator")}_itemClickHandler(t){if(t._skipHandling)return;let n=this._createAction(this._updateSubmenuVisibilityOnClick.bind(this));this._itemDXEventHandler(t,"onItemClick",{},{beforeExecute:this._itemClick,afterExecute:n.bind(this)}),t._skipHandling=!0}_itemClick(t){let{event:n,itemData:o}=t.args[0],r=this._getItemElementByEventArgs(n),s=r&&r.find(".dx-item-url").get(0);o.url&&s&&s.click()}_updateSubmenuVisibilityOnClick(t){this._updateSelectedItemOnClick(t),this._getShowSubmenuMode()==="onClick"&&this._addExpandedClass(t.args[0].itemElement)}_updateSelectedItemOnClick(t){let n=t.args?t.args[0]:t;if(!this._isItemSelectAllowed(n.itemData))return;let o=this._dataAdapter.getSelectedNodesKeys(),r=o.length&&this._dataAdapter.getNodeByKey(o[0]);r&&this._toggleItemSelection(r,!1),!r||r.internalFields.item!==n.itemData?this.selectItem(n.itemData):(this._fireSelectionChangeEvent(null,this.option("selectedItem")),this._setOptionWithoutOptionChange("selectedItem",null))}_isItemSelectAllowed(t){let n=this._isSelectionEnabled()&&this.option("selectByClick");return!this._isContainerEmpty()&&n&&this._isItemSelectable(t)&&!this._itemsGetter(t)}_isContainerEmpty(){return this._itemContainer().is(":empty")}_syncSelectionOptions(){return Tw()}_optionChanged(t){switch(t.name){case"showSubmenuMode":break;case"selectedItem":{let n=this._dataAdapter.getNodeByItem(t.value),o=this._dataAdapter.getSelectedNodesKeys()[0];if(n&&n.internalFields.key!==o){if(n.selectable===!1)break;o&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(o),!1),this._toggleItemSelection(n,!0),this._updateSelectedItems()}break}case"cssClass":case"position":case"selectByClick":case"animation":case"useInkRipple":this._invalidate();break;default:super._optionChanged(t)}}_toggleItemSelection(t,n){let o=this._getElementByItem(t.internalFields.item);o&&I(o).toggleClass(P2),this._dataAdapter.toggleSelection(t.internalFields.key,n)}_getElementByItem(t){let n;return ee(this._itemElements(),(o,r)=>I(r).data(this._itemDataKey())!==t?!0:(n=r,!1)),n}_updateSelectedItems(t,n){(t||n)&&this._fireSelectionChangeEvent(n,t)}_fireSelectionChangeEvent(t,n){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:[t],removedItems:[n]})}selectItem(t){let n=t.nodeType?this._getItemData(t):t,o=this._dataAdapter.getSelectedNodesKeys()[0],r=this.option("selectedItem"),s=this._dataAdapter.getNodeByItem(n);s.internalFields.key!==o&&(o&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(o),!1),this._toggleItemSelection(s,!0),this._updateSelectedItems(r,n),this._setOptionWithoutOptionChange("selectedItem",n))}unselectItem(t){let n=t.nodeType?this._getItemData(t):t,o=this._dataAdapter.getNodeByItem(n),r=this.option("selectedItem");o.internalFields.selected&&(this._toggleItemSelection(o,!1),this._updateSelectedItems(r,null),this._setOptionWithoutOptionChange("selectedItem",null))}}return i.ItemClass=Ha,i})(),eO=eOe;var tOe="dx-menu-phone-overlay";var mq=["onShowing","onShown","onSubmenuCreated","onHiding","onHidden","onPositioning","onLeftFirstItem","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu"],iOe=["up","down","first","last"];var gq=et(),tO=class extends eO{getShowEvent(e){if(Ke(e)){if(e.name!==null)return e.name??"dxcontextmenu"}else return e;return null}getShowDelay(e){return Ke(e)&&e.delay}_getDefaultOptions(){return q(super._getDefaultOptions(),{showEvent:"dxcontextmenu",hideOnOutsideClick:!0,position:{at:"top left",my:"top left"},onShowing:null,onShown:null,onSubmenuCreated:null,onHiding:null,onHidden:null,onPositioning:null,submenuDirection:"auto",visible:!1,target:void 0,onLeftFirstItem:null,onLeftLastItem:null,onCloseRootSubmenu:null,onExpandLastSubmenu:null})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>!it(),options:{animation:null}}])}_setDeprecatedOptions(){super._setDeprecatedOptions(),q(this._deprecatedOptions,{closeOnOutsideClick:{since:"22.2",alias:"hideOnOutsideClick"}})}_initActions(){this._actions={},ee(mq,(e,t)=>{this._actions[t]=this._createActionByOption(t)||pe})}_setOptionsByReference(){super._setOptionsByReference(),q(this._optionsByReference,{animation:!0,selectedItem:!0})}_focusInHandler(){}_itemContainer(){return this._overlay?this._overlay.$content():I()}_eventBindingTarget(){return this._itemContainer()}itemsContainer(){return this._overlay?this._overlay.$content():void 0}_supportedKeys(){return q(super._supportedKeys(),{space:()=>{let e=I(this.option("focusedElement"));this.hide(),!(!e.length||!this._isSelectionEnabled())&&this.selectItem(e[0])},escape:this.hide})}_getActiveItem(e){let t=this._getAvailableItems(),n=t.filter(".dx-state-focused"),o=t.filter(".dx-state-hover");return o.closest(".dx-menu-items-container").find(".dx-menu-item").index(n)>=0?n:o.length?o:super._getActiveItem()}_moveFocus(e){let t=this._getItemsByLocation(e),n=this._getActiveItem(!0),o=this.itemsContainer().find(".dx-state-hover"),s=!!(I(this.option("focusedElement")).length||o.length),a;switch(e){case"up":a=s?this._prevItem(t):n,this._setFocusedElement(a),n.is(t.first())&&this._actions.onLeftFirstItem(n);break;case"down":a=s?this._nextItem(t):n,this._setFocusedElement(a),n.is(t.last())&&this._actions.onLeftLastItem(n);break;case"right":a=this.option("rtlEnabled")?this._hideSubmenuHandler():this._expandSubmenuHandler(t,e),this._setFocusedElement(a);break;case"left":a=this.option("rtlEnabled")?this._expandSubmenuHandler(t,e):this._hideSubmenuHandler(),this._setFocusedElement(a);break;case"first":a=t.first(),this._setFocusedElement(a);break;case"last":a=t.last(),this._setFocusedElement(a);break;default:return super._moveFocus(e)}}_setFocusedElement(e){e&&e.length!==0&&(this.option("focusedElement",tt(e)),this._scrollToElement(e))}_scrollToElement(e){let n=e.closest(".dx-scrollable").dxScrollable("instance");n?.scrollToElement(e)}_getItemsByLocation(e){let t=this._getActiveItem(!0),n;return iOe.includes(e)&&(n=t.closest(".dx-menu-items-container").children().children()),n=this._getAvailableItems(n),n}_getAriaTarget(){return this.$element()}_refreshActiveDescendant(){if(U(this._overlay)){let e=this._overlay.$content();super._refreshActiveDescendant(e)}}_hideSubmenuHandler(){let e=this._getActiveItem(!0),t=e.parents(".dx-menu-item-expanded").first();if(t.length)return this._hideSubmenusOnSameLevel(t),this._hideSubmenu(e.closest(".dx-submenu")),t;this._actions.onCloseRootSubmenu(e)}_expandSubmenuHandler(e,t){let n=this._getActiveItem(!0),o=this._getItemData(n),r=this._dataAdapter.getNodeByItem(o),s=this._hasSubmenu(r),a=n.children(".dx-submenu");if(s&&!n.hasClass("dx-state-disabled"))return(!a.length||a.css("visibility")==="hidden")&&this._showSubmenu(n),this._nextItem(this._getItemsByLocation(t));this._actions.onExpandLastSubmenu(n)}_clean(){this._overlay&&(this._overlay.$element().remove(),this._overlay=null),this._detachShowContextMenuEvents(this._getTarget()),super._clean()}_initMarkup(){this.$element().addClass("dx-has-context-menu"),super._initMarkup()}_render(){super._render(),this._renderVisibility(this.option("visible")),this._addWidgetClass()}_isTargetOutOfComponent(e){return!(I(e).closest(".dx-context-menu").length!==0)}_focusOutHandler(e){let{relatedTarget:t}=e;t&&this._isTargetOutOfComponent(t)&&this.hide(),super._focusOutHandler(e)}_renderContentImpl(){this._detachShowContextMenuEvents(this._getTarget()),this._attachShowContextMenuEvents()}_attachKeyboardEvents(){!this._keyboardListenerId&&this._focusTarget().length&&super._attachKeyboardEvents()}_renderContextMenuOverlay(){if(this._overlay)return;let e=this._getOverlayOptions();this._overlay=this._createComponent(I("<div>").appendTo(this._$element),cs,e);let t=this._overlay.$content();t.addClass("dx-context-menu"),this._addCustomCssClass(t),this._addPlatformDependentClass(t),this._attachContextMenuEvent()}preventShowingDefaultContextMenuAboveOverlay(){let e=this._itemContainer(),t=Se(YS,this.NAME);X.off(e,t,".dx-submenu"),X.on(e,t,".dx-submenu",n=>{n.stopPropagation(),n.preventDefault(),X.off(e,t,".dx-submenu")})}_itemContextMenuHandler(e){super._itemContextMenuHandler(e),e.stopPropagation()}_addPlatformDependentClass(e){Ve.current().phone&&e.addClass(tOe)}_detachShowContextMenuEvents(e){let t=this.getShowEvent(this.option("showEvent"));if(!t)return;let n=Se(t,this.NAME);this._showContextMenuEventHandler?X.off(be.getDocument(),n,e,this._showContextMenuEventHandler):X.off(I(e),n)}_attachShowContextMenuEvents(){let e=this._getTarget(),t=this.getShowEvent(this.option("showEvent"));if(!t)return;let n=Se(t,this.NAME),o=this._createAction(s=>{let a=this.getShowDelay(this.option("showEvent"));a?setTimeout(()=>this._show(s.event),a):this._show(s.event)},{validatingTargetName:"target"}),r=s=>o({event:s,target:I(s.currentTarget)});o=this._createAction(o),Oo(e)||e.nodeType||ln(e)?(this._showContextMenuEventHandler=void 0,X.on(e,n,r)):(this._showContextMenuEventHandler=r,X.on(be.getDocument(),n,e,this._showContextMenuEventHandler))}_hoverEndHandler(e){super._hoverEndHandler(e),e.stopPropagation()}_renderDimensions(){}_renderContainer(e,t){let n=t||this._itemContainer();e=I("<div>"),e.appendTo(n).addClass("dx-submenu").css("visibility",t?"hidden":"visible"),e.parent().hasClass("dx-overlay-content")||this._addCustomCssClass(e);let o=super._renderContainer(e);return t?o:this.option("width")?o.css("minWidth",this.option("width")):this.option("height")?o.css("minHeight",this.option("height")):o}_renderSubmenuItems(e,t){this._renderItems(this._getChildNodes(e),t);let n=t.children(".dx-submenu");this._actions.onSubmenuCreated({itemElement:tt(t),itemData:e.internalFields.item,submenuElement:tt(n)}),this._initScrollable(n),this.setAria({role:"menu"},n)}_getOverlayOptions(){let e=this.option("position");return{focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),innerOverlay:!0,hideOnOutsideClick:n=>this._hideOnOutsideClickHandler(n),propagateOutsideClick:!0,hideOnParentScroll:!0,deferRendering:!1,position:{at:e.at,my:e.my,of:this._getTarget(),collision:"flipfit"},shading:!1,showTitle:!1,height:"auto",width:"auto",onShown:this._overlayShownActionHandler.bind(this),onHiding:this._overlayHidingActionHandler.bind(this),onHidden:this._overlayHiddenActionHandler.bind(this),visualContainer:gq}}_overlayShownActionHandler(e){this._actions.onShown(e)}_overlayHidingActionHandler(e){this._actions.onHiding(e),e.cancel||(this._hideAllShownSubmenus(),this._setOptionWithoutOptionChange("visible",!1))}_overlayHiddenActionHandler(e){this._actions.onHidden(e)}_shouldHideOnOutsideClick(e){let{closeOnOutsideClick:t,hideOnOutsideClick:n}=this.option();return Ie(n)?n(e):Ie(t)?t(e):n||t}_hideOnOutsideClickHandler(e){if(!this._shouldHideOnOutsideClick(e))return!1;if(be.isDocument(e.target))return!0;let t=this._getActiveItemsContainer(e.target),n=this._getItemsContainers(),o=this._searchActiveItem(e.target),r=this.$element().parents(".dx-menu-item"),s=o[0]===r[0]&&o.length&&r.length;return this._isIncludeOverlay(t,n)&&o.length||s?(this._getShowSubmenuMode()==="onClick"&&this._hideAllShownChildSubmenus(o),!1):!0}_getActiveItemsContainer(e){return I(e).closest(".dx-menu-items-container")}_getItemsContainers(){return this._overlay.$content().find(".dx-menu-items-container")}_searchActiveItem(e){return I(e).closest(".dx-menu-item").eq(0)}_isIncludeOverlay(e,t){let n=!1;return ee(t,(o,r)=>{e.is(r)&&!n&&(n=!0)}),n}_hideAllShownChildSubmenus(e){let t=e.find(".dx-submenu"),n=q([],this._shownSubmenus);t.length>0&&ee(n,(o,r)=>{let s=this._searchActiveItem(r.context).parent();s.parent().is(e.parent().parent())&&!s.is(e.parent())&&this._hideSubmenu(r)})}_initScrollable(e){this._createComponent(e,wr,{useKeyboard:!1,_onVisibilityChanged:t=>{t.scrollTo(0)}})}_setSubMenuHeight(e,t,n){let o=e.find(".dx-menu-items-container"),r=Ct(o),s=this._getMaxHeight(t,!n),a=Math.min(r,s);e.css("height",n?a:"100%")}_getMaxHeight(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=Ct(gq),o=Oo(e),r=be.getDocument(),s=e.length&&e[0]===r;if(!o||s)return n;let a=e[0].getBoundingClientRect().top,l=Ct(e);return(t?Math.max(a,n-a-l):Math.max(a+l,n-a))-10}_dimensionChanged(){this._shownSubmenus&&this._shownSubmenus.forEach(e=>{let t=e.closest(".dx-menu-item");this._setSubMenuHeight(e,t,!0),this._scrollToElement(t);let n=this._getSubmenuPosition(t);lr.setup(e,n)})}_getSubmenuBorderWidth(){return xo(oo())?0:1}_showSubmenu(e){let t=this._dataAdapter.getNodeByItem(this._getItemData(e));if(this._hideSubmenusOnSameLevel(e),!this._hasSubmenu(t))return;let n=e.children(".dx-submenu"),o=n.length;super._showSubmenu(e),o||(this._renderSubmenuItems(t,e),n=e.children(".dx-submenu")),this._setSubMenuHeight(n,e,!0),this._isSubmenuVisible(n)||this._drawSubmenu(e)}_hideSubmenusOnSameLevel(e){let t=e.parent(".dx-menu-item-wrapper").siblings().find(".dx-menu-item-expanded");t.length&&(t.removeClass("dx-menu-item-expanded"),this._hideSubmenu(t.find(".dx-submenu")))}_hideSubmenuGroup(e){this._isSubmenuVisible(e)&&this._hideSubmenuCore(e)}_isSubmenuVisible(e){return e.css("visibility")==="visible"}_drawSubmenu(e){let t=this.option("animation")?this.option("animation").show:{},n=e.children(".dx-submenu"),o=this._getSubmenuPosition(e);this._overlay&&this._overlay.option("visible")&&(U(this._shownSubmenus)||(this._shownSubmenus=[]),this._shownSubmenus.includes(n)||this._shownSubmenus.push(n),t&&hn.stop(n),lr.setup(n,o),t&&(ht(t.to)&&(t.to.position=o),this._animate(n,t)),n.css("visibility","visible"))}_animate(e,t){hn.animate(e,t)}_getSubmenuPosition(e){let t=this.option("submenuDirection").toLowerCase(),o={collision:"flip",of:e.parent(".dx-menu-item-wrapper"),offset:{h:0,v:-1}};switch(t){case"left":o.at="left top",o.my="right top";break;case"right":o.at="right top",o.my="left top";break;default:this.option("rtlEnabled")?(o.at="left top",o.my="right top"):(o.at="right top",o.my="left top")}return o}_updateSubmenuVisibilityOnClick(e){if(!e.args.length)return;let{itemData:t}=e.args[0],n=this._dataAdapter.getNodeByItem(t);if(!n)return;let o=I(e.args[0].itemElement),r=o.find(".dx-submenu");if(this._hasSubmenu(n)&&!r.length&&(this._renderSubmenuItems(n,o),r=o.find(".dx-submenu")),o.context===r.context&&r.css("visibility")==="visible")return;this._updateSelectedItemOnClick(e);let a=t&&t.closeMenuOnClick===!1;if(!(!t||t.disabled||a))if(r.length===0){let l=I(o.parents(".dx-submenu")[0]);this._hideSubmenu(l),!e.canceled&&this._overlay&&this._overlay.option("visible")&&this.option("visible",!1)}else this._shownSubmenus&&this._shownSubmenus.length>0&&this._shownSubmenus[0].is(r)&&this._hideSubmenu(r),this._showSubmenu(o)}_hideSubmenu(e){let t=q([],this._shownSubmenus);ee(t,(n,o)=>{(e.is(o)||as(e[0],o[0]))&&(o.parent().removeClass("dx-menu-item-expanded"),this._hideSubmenuCore(o))})}_hideSubmenuCore(e){let t=this._shownSubmenus.indexOf(e),n=this.option("animation")?this.option("animation").hide:null;t>=0&&this._shownSubmenus.splice(t,1),this._stopAnimate(e),n&&this._animate(e,n),e.css("visibility","hidden"),e.dxScrollable("instance").scrollTo(0),this.option("focusedElement",null)}_stopAnimate(e){hn.stop(e,!0)}_hideAllShownSubmenus(){let e=q([],this._shownSubmenus);this._overlay.$content().find(".dx-menu-item-expanded").removeClass("dx-menu-item-expanded"),ee(e,(n,o)=>{this._hideSubmenu(o)})}_visibilityChanged(e){e&&this._renderContentImpl()}_optionChanged(e){if(mq.includes(e.name)){this._initActions();return}switch(e.name){case"visible":this._renderVisibility(e.value);break;case"showEvent":case"position":case"submenuDirection":this._invalidate();break;case"target":e.previousValue&&this._detachShowContextMenuEvents(e.previousValue),this._invalidate();break;case"closeOnOutsideClick":case"hideOnOutsideClick":break;default:super._optionChanged(e)}}_renderVisibility(e){return e?this._show():this._hide()}_toggleVisibility(){}_show(e){let t={jQEvent:e},n=le().reject().promise();if(this._actions.onShowing(t),t.cancel)return n;let o=this._positionContextMenu(e);if(o){var r;this._overlay||(this._renderContextMenuOverlay(),this._overlay.$content().addClass(this._widgetClass()),this._renderFocusState(),this._attachHoverEvents(),this._attachClickEvent(),this._renderItems(this._dataAdapter.getRootNodes()));let s=I(this._overlay.content()).children(".dx-submenu");this._setOptionWithoutOptionChange("visible",!0),this._overlay.option({height:()=>this._getMaxHeight(o.of),maxHeight:()=>{let a=s.find(".dx-menu-items-container"),l=this._getSubmenuBorderWidth();return Ct(a)+2*l},position:o}),s.length&&this._setSubMenuHeight(s,o.of,!1),n=this._overlay.show(),e&&e.stopPropagation(),this._setAriaAttributes(),(e==null||(r=e.originalEvent)===null||r===void 0?void 0:r.type)===ms.name&&this.preventShowingDefaultContextMenuAboveOverlay()}return n}_renderItems(e,t){super._renderItems(e,t);let n=I(this._overlay.content()).children(".dx-submenu");n.length&&this._initScrollable(n)}_setAriaAttributes(){this._overlayContentId=`dx-${new yi}`,this.setAria("owns",this._overlayContentId),this.setAria({id:this._overlayContentId,role:"menu"},this._overlay.$content())}_cleanAriaAttributes(){this._overlay&&this.setAria("id",null,this._overlay.$content()),this.setAria("owns",void 0)}_getTarget(){return this.option("target")||this.option("position").of||I(be.getDocument())}_getContextMenuPosition(){return q({},this.option("position"),{of:this._getTarget()})}_positionContextMenu(e){let t=this._getContextMenuPosition(),n=this._isInitialOptionValue("position"),o=this._createActionByOption("onPositioning");e&&e.preventDefault&&n&&(t.of=e);let r={position:t,event:e};return o(r),r.cancel?t=null:r.event&&(r.event.cancel=!0,e.preventDefault()),t}_refresh(){if(!it())super._refresh();else if(this._overlay){let e=this._overlay.option("position");super._refresh(),this._overlay&&this._overlay.option("position",e)}else super._refresh()}_hide(){let e;return this._overlay&&(e=this._overlay.hide(),this._setOptionWithoutOptionChange("visible",!1)),this._cleanAriaAttributes(),this.option("focusedElement",null),e||le().reject().promise()}toggle(e){let t=this.option("visible");return e=e===void 0?!t:e,this._renderVisibility(e)}show(){return this.toggle(!0)}hide(){return this.toggle(!1)}};ut("dxContextMenu",tO);var iO=tO;var _q=iO;var N2="dx-state-focused",nOe="dx-cell-focus-disabled";var xq=".dx-datagrid-rowsview .dx-row",bq=`${xq} > td`,Cq=".dx-treelist-rowsview .dx-row",vq=`${Cq} > td`,yq={groupPanel:[".dx-datagrid-group-panel .dx-group-panel-item[tabindex]"],columnHeaders:[".dx-datagrid-headers .dx-header-row > td.dx-datagrid-action",".dx-treelist-headers .dx-header-row > td.dx-treelist-action"],filterRow:[".dx-datagrid-headers .dx-datagrid-filter-row .dx-editor-cell .dx-texteditor-input",".dx-treelist-headers .dx-treelist-filter-row .dx-editor-cell .dx-texteditor-input"],rowsView:[".dx-row-focused",`${xq}[tabindex]`,`${bq}[tabindex]`,`${bq}`,`${Cq}[tabindex]`,`${vq}[tabindex]`,`${vq}`],footer:[".dx-datagrid-total-footer .dx-datagrid-summary-item",".dx-treelist-total-footer .dx-treelist-summary-item"],filterPanel:[".dx-datagrid-filter-panel .dx-icon-filter",".dx-treelist-filter-panel .dx-icon-filter"],pager:[".dx-datagrid-pager [tabindex]",".dx-treelist-pager [tabindex]"]},L2=!1,nO=!1,jg=null;function oOe(i,e,t,n,o,r){if(sOe(e,t.originalEvent,r))return;let a=Ti(t);a==="enter"||a==="space"?(B2(t.target,e),n&&n({event:t})):a==="tab"?o.addClass(N2):Pv(i,e,t)}function B2(i,e){let t=I(i),n=t.attr("aria-label"),r=wq(n,e.element()).index(t);jg=q({},{ariaLabel:n,index:r},{viewInstance:e})}function wq(i,e){let t=I(e),n;return i?n=t.find(`[aria-label="${i}"][tabindex]`):n=t.find("[tabindex]"),n}function rOe(i,e){let t=e?.getRootNode()||be.getDocument();for(let n in i){let o=i[n],r=I(t).find(o).first();if(r.length)return r}}function sOe(i,e,t){let n={event:e,handled:!1};return t?t(n):i._createActionByOption("onKeyDown")(n),n.handled}function Sq(){nO=be.getDocument().visibilityState==="visible"}function Eq(){X.on(be.getDocument(),"visibilitychange",Sq)}function V2(){X.off(be.getDocument(),"visibilitychange",Sq)}function Oq(i,e){nO=!0,i.focus({preventScroll:e}),nO=!1}function oO(i,e,t,n,o,r){if(e.option("useLegacyKeyboardNavigation"))return pe;let s=()=>I(e.element()),a=c=>oOe(i,e,c,o,s(),r),l=()=>{L2=!0,s().removeClass(N2)},d=()=>{!L2&&!nO&&s().addClass(N2),L2=!1};return X.on(t,"keydown",n,a),X.on(t,"mousedown",n,l),X.on(t,"focusin",n,d),()=>{X.off(t,"keydown",n,a),X.off(t,"mousedown",n,l),X.off(t,"focusin",n,d)}}function $g(i){if(!i.option("useLegacyKeyboardNavigation")&&jg){let e=jg.viewInstance;if(e){let n=wq(jg.ariaLabel,e.element()).eq(jg.index);jg=null,X.trigger(n,"focus")}}}function Pv(i,e,t){let n=Ti(t);if(t.ctrlKey&&(n==="upArrow"||n==="downArrow")){let o=Object.keys(yq),r=o.indexOf(i);for(;r>=0&&r<o.length;){r=n==="upArrow"?--r:++r;let s=o[r],a=yq[s],l=rOe(a,t.target);if(l&&l.length){l.attr("tabindex",e.option("tabindex")||0),X.trigger(l,"focus"),l.removeClass(nOe);break}}}}function Iq(i,e){i.option("useLegacyKeyboardnavigation")||e.attr("tabindex",i.option("tabindex")||0)}var Nh=function(i,e,t,n,o){let r=e.getController("keyboardNavigation");e.option("useLegacyKeyboardNavigation")||r&&!r.isKeyboardEnabled()||(e.createAction("onKeyDown"),oO(i,e,t,n,o,s=>{e.executeAction("onKeyDown",s)}))};var Dq=i=>class extends i{_applyColumnState(e){var t;let n=this.option("rtlEnabled"),o=this._getColumnAlignment(e.column.alignment,n),r=q(!0,{columnAlignment:o},e),s=r.rootElement.hasClass("dx-group-panel-item"),a=this._createIndicatorContainer(r,s),l=I("<span>").addClass(this._getIndicatorClassName(e.name)),d=(t=this.component)===null||t===void 0?void 0:t.getController("columns"),c=d?.getHeaderContentAlignment(o)||o;return r.container=a,r.indicator=l,this._renderIndicator(r),a[(s||!e.showColumnLines)&&c==="left"?"appendTo":"prependTo"](e.rootElement),l}_getIndicatorClassName(e){}_getColumnAlignment(e,t){return t=t||this.option("rtlEnabled"),e&&e!=="center"?e:Ar(t)}_createIndicatorContainer(e,t){let n=this._getIndicatorContainer(e.rootElement),o=e.columnAlignment==="left"?"right":"left";return n.length||(n=I("<div>").addClass("dx-column-indicators")),this.setAria("role","presentation",n),n.css("float",e.showColumnLines&&!t?o:null)}_getIndicatorContainer(e){return e&&e.find(".dx-column-indicators")}_getIndicatorElements(e){let t=this._getIndicatorContainer(e);return t&&t.children()}_renderIndicator(e){let t=e.container,n=e.indicator;t&&n&&t.append(n)}_updateIndicators(e){let t=this,n=t.getColumns(),o=t.getColumnElements(),r;if(!(!o||n.length!==o.length))for(let s=0;s<n.length;s++){r=o.eq(s),t._updateIndicator(r,n[s],e);let a=r.parent().data("options");a&&a.cells&&(a.cells[r.index()].column=n[s])}}_updateIndicator(e,t,n){if(!t.command)return this._applyColumnState({name:n,rootElement:e,column:t,showColumnLines:this.option("showColumnLines")})}};var aOe=["rowsView"],Bh={borderedTop:"dx-bordered-top-view",borderedBottom:"dx-bordered-bottom-view"},lOe=i=>{let{columnHeadersView:e,rowsView:t}=i;return e!=null&&e.isVisible()?e.element():t.element()},dOe=i=>{let{filterPanelView:e,footerView:t,rowsView:n}=i;return e!=null&&e.isVisible()?e.element():t!=null&&t.isVisible()?t.element():n.element()},Tq=(i,e)=>{let t=Object.values(i).find(n=>{var o;return n==null||(o=n.element())===null||o===void 0?void 0:o.hasClass(e)});return t?.element()??null},cOe=(i,e)=>{var t;if(!Object.keys(e).includes(i))return!1;let{rowsView:n}=e,o=ri(e,aOe);return U(n==null||(t=n.element)===null||t===void 0?void 0:t.call(n))?Object.values(o).filter(r=>{var s;return r==null||(s=r.isVisible)===null||s===void 0?void 0:s.call(r)}).every(r=>U(r?.element())):!1},Aq=(i,e)=>{if(!cOe(i,e))return;let t=Tq(e,Bh.borderedTop),n=Tq(e,Bh.borderedBottom),o=lOe(e),r=dOe(e);t&&!t.is(o)&&t.removeClass(Bh.borderedTop),n&&!n.is(r)&&n.removeClass(Bh.borderedBottom),o.hasClass(Bh.borderedTop)||o.addClass(Bh.borderedTop),r.hasClass(Bh.borderedBottom)||r.addClass(Bh.borderedBottom)};var rO=class{constructor(e){let t=this;t._updateLockCount=0,t.component=e,t._actions={},t._actionConfigs={},ee(this.callbackNames()||[],function(n,o){let r=t.callbackFlags(o)||{};r.unique=!0,r.syncStrategy=!0,t[this]=Gt(r)})}_endUpdateCore(){}init(){}callbackNames(){}callbackFlags(e){}publicMethods(){return[]}beginUpdate(){this._updateLockCount++}endUpdate(){this._updateLockCount>0&&(this._updateLockCount--,this._updateLockCount||this._endUpdateCore())}option(e){let{component:t}=this,n=t._optionCache;return arguments.length===1&&n?(e in n||(n[e]=t.option(e)),n[e]):t.option.apply(t,arguments)}_silentOption(e,t){let{component:n}=this,o=n._optionCache;return o&&(o[e]=t),n._setOptionWithoutOptionChange(e,t)}localize(e){let t=this.component._optionCache;return t?(e in t||(t[e]=de.format(e)),t[e]):de.format(e)}on(e,t){return this.component.on.apply(this.component,arguments)}off(){return this.component.off.apply(this.component,arguments)}optionChanged(e){e.name in this._actions&&(this.createAction(e.name,this._actionConfigs[e.name]),e.handled=!0)}getAction(e){return this._actions[e]}setAria(e,t,n){let o=n.get(0),r=e!=="role"&&e!=="id"?"aria-":"";o.setAttribute?o.setAttribute(r+e,t):n.attr(r+e,t)}_createComponent(e,t,n){return this.component._createComponent(e,t,n)}getController(e){return this.component._controllers[e]}createAction(e,t){if(Ie(e)){let n=this.component._createAction(e.bind(this),t);return function(o){n({event:o})}}this._actions[e]=this.component._createActionByOption(e,t),this._actionConfigs[e]=t}executeAction(e,t){let n=this._actions[e];return n&&n(t)}dispose(){let e=this;ee(e.callbackNames()||[],function(){e[this].empty()})}addWidgetPrefix(e){return`dx-${this.component.NAME.slice(2).toLowerCase()}${e?`-${e}`:""}`}getWidgetContainerClass(){let e=this.component.NAME==="dxDataGrid"?null:"container";return this.addWidgetPrefix(e)}elementIsInsideGrid(e){return e.closest(`.${this.getWidgetContainerClass()}`).parent().is(this.component.$element())}},Lv=class extends rO{},z2=class extends Lv{getView(e){return this.component._views[e]}getViews(){return this.component._views}},sO=class extends rO{constructor(e){super(e),this.renderCompleted=Gt(),this.resizeCompleted=Gt()}_isReady(){return this.component.isReady()}_endUpdateCore(){super._endUpdateCore(),!this._isReady()&&this._requireReady&&(this._requireRender=!1,this.component._requireResize=!1),this._requireRender&&(this._requireRender=!1,this.render(this._$parent))}_invalidate(e,t){this._requireRender=!0,this.component._requireResize=it()&&(this.component._requireResize||e),this._requireReady=this._requireReady||t}_renderCore(e){}_resizeCore(){}_parentElement(){return this._$parent}element(){return this._$element}getElementHeight(){let e=this.element();if(!e)return 0;let t=parseFloat(e.css("marginTop"))||0,n=parseFloat(e.css("marginBottom"))||0,{offsetHeight:o}=e.get(0);return o+t+n}isVisible(){return!0}getTemplate(e){return this.component._getTemplate(e)}getView(e){return this.component._views[e]}_getBorderedViews(){return{columnHeadersView:this.component._views.columnHeadersView,rowsView:this.component._views.rowsView,filterPanelView:this.component._views.filterPanelView,footerView:this.component._views.footerView}}render(e,t){let n=this._$element,o=this.isVisible();if(!(!n&&!e)&&(this._requireReady=!1,n||(n=this._$element=I("<div>").appendTo(e),this._$parent=e),n.toggleClass("dx-hidden",!o),this.component._views&&Aq(this.name,this._getBorderedViews()),o)){this.component._optionCache={};let r=this._renderCore(t);this.component._optionCache=void 0,r?r.done(()=>{this.renderCompleted.fire(t)}):this.renderCompleted.fire(t)}}resize(){this.isResizing=!0,this._resizeCore(),this.resizeCompleted.fire(),this.isResizing=!1}focus(e){this.element().get(0).focus({preventScroll:e})}};function kq(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t={};return Object.entries(e).forEach(n=>{let[o,r]=n,s=i[o];if(s)if(Ie(r))t[o]=r(s);else{let a=s;t[o]=a.inherit(r)}}),t}function uOe(i,e,t){let n=t.publicMethods();n&&ee(n,(o,r)=>{if(t[r])if(!i[r])i[r]=function(){return t[r](...arguments)};else throw bt.Error("E1005",r);else throw bt.Error("E1006",e,r)})}function hOe(i,e){let{modules:t}=e,{modulesOrder:n}=e;function o(c){let u={};return ee(c,(h,f)=>{let p=new f(i);p.name=h,uOe(i,h,p),u[h]=p}),u}n&&t.sort((c,u)=>{let h=n.indexOf(c.name),f=n.indexOf(u.name);return h<0&&(h=1e6),f<0&&(f=1e6),h-f});let r={},s={};t.forEach(c=>{let{name:u,controllers:h={},views:f={}}=c;Object.entries(h).forEach(p=>{let[m,g]=p;if(r[m])throw bt.Error("E1001",u,m);if(!(g?.prototype instanceof Lv))throw bt.Error("E1002",u,m);r[m]=g}),Object.entries(f).forEach(p=>{let[m,g]=p;if(s[m])throw bt.Error("E1003",u,m);if(!(g?.prototype instanceof sO))throw bt.Error("E1004",u,m);s[m]=g})});let a=t.filter(c=>{let{extenders:u}=c;return!!u}),l=a.reduce((c,u)=>{let{extenders:h}=u;return ye({},c,kq(c,h?.controllers))},r),d=a.reduce((c,u)=>{let{extenders:h}=u;return ye({},c,kq(c,h?.views))},s);i._controllers=o(l),i._views=o(d)}var pOe=function(i,e,t){t=t||[],i._controllers&&ee(i._controllers,function(){this[e]&&this[e].apply(this,t)}),i._views&&ee(i._views,function(){this[e]&&this[e].apply(this,t)})},li={modules:[],View:sO,ViewController:z2,Controller:Lv,registerModule(i,e){let{modules:t}=this;for(let n=0;n<t.length;n++)if(t[n].name===i)return;e.name=i,t.push(e)},registerModulesOrder(i){this.modulesOrder=i},unregisterModule(i){this.modules=vo(this.modules,e=>e.name!==i)},processModules:hOe,callModuleItemsMethod:pOe};var j2="dx-master-detail-row";var $2="dxCellHintVisible";var fOe={render(i){i.container.append(i.content)}},mOe=function(i,e){let t,n,o;function r(s){return setTimeout(()=>{t=n=null},s)}X.on(e,"touchstart touchend",".dx-row",s=>{clearTimeout(o),s.type==="touchstart"?(t=s.target,n=s.currentTarget,o=r(1e3)):o=r()}),X.on(e,[Kt,tu,Mt.down].join(" "),".dx-row",i.createAction(s=>{let{event:a}=s;t&&(a.target=t,a.currentTarget=n),I(a.target).closest("a").length||(s.rowIndex=i.getRowIndex(a.currentTarget),s.rowIndex>=0&&(s.rowElement=tt(I(a.currentTarget)),s.columns=i.getColumns(),a.type===Mt.down?i._rowPointerDown(s):a.type===Kt?i._rowClick(s):i._rowDblClick(s)))}))},aO=function(i){return i==="auto"?"":ai(i)?`${i}px`:i},Mq=function(i,e,t){i.style.width=i.style.maxWidth=e.width==="auto"?"":t},gOe=function(i,e){if(!i||!e)return;let t=i.attributes,n=e.attributes,o;for(o=0;o<t.length;o++){let r=t[o].nodeName;e.hasAttribute(r)||i.removeAttribute(r)}for(o=0;o<n.length;o++)i.setAttribute(n[o].nodeName,n[o].nodeValue)},_Oe=function(i){i.resolve()},W2=i=>typeof i=="number"?`${i.toFixed(3)}px`:i==="adaptiveHidden"?"0.0001px":i,$a=class extends Dq(li.View){init(){this._scrollLeft=-1,this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._adaptiveColumnsController=this.getController("adaptiveColumns"),this._columnChooserController=this.getController("columnChooser"),this._editorFactoryController=this.getController("editorFactory"),this._selectionController=this.getController("selection"),this._columnChooserView=this.getView("columnChooserView"),this._delayedTemplates=[],this._templateDeferreds=new Set,this._templatesCache={},this._templateTimeouts=new Set,this.createAction("onCellClick"),this.createAction("onRowClick"),this.createAction("onCellDblClick"),this.createAction("onRowDblClick"),this.createAction("onCellHoverChanged",{excludeValidators:["disabled","readOnly"]}),this.createAction("onCellPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this.createAction("onRowPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering",afterExecute:e=>{this._afterRowPrepared(e)}}),this._columnsController.columnsChanged.add(this._columnOptionChanged.bind(this)),this._dataController&&this._dataController.changed.add(this._handleDataChanged.bind(this))}dispose(){if(it()){var e,t;let n=et();(e=this._templateTimeouts)===null||e===void 0||e.forEach(o=>n.clearTimeout(o)),(t=this._templateTimeouts)===null||t===void 0||t.clear()}}optionChanged(e){switch(super.optionChanged(e),e.name){case"cellHintEnabled":case"onCellPrepared":case"onRowPrepared":case"onCellHoverChanged":this._invalidate(!0,!0),e.handled=!0;break;case"keyboardNavigation":e.fullName==="keyboardNavigation.enabled"&&this._invalidate(!0,!0),e.handled=!0}}_createScrollableOptions(){let e=this.option("scrolling"),t=this.option("scrolling.useNative"),n=q({},e,{direction:"both",bounceEnabled:!1,useKeyboard:!1});return t===void 0&&(t=!0),t==="auto"?(delete n.useNative,delete n.useSimulatedScrollbar):(n.useNative=!!t,n.useSimulatedScrollbar=!t),n}_updateCell(e,t){t.rowType&&this._cellPrepared(e,t)}_needToSetCellWidths(){return this.option("columnAutoWidth")}_createCell(e){let{column:t}=e,n=t.alignment||Ar(this.option("rtlEnabled")),o=this._needToSetCellWidths(),r=be.createElement("td");r.style.textAlign=n;let s=I(r);return e.rowType==="data"&&t.headerId&&!t.type&&this.component.option("showColumnHeaders")&&this.setAria("describedby",t.headerId,s),t.cssClass&&s.addClass(t.cssClass),Array.isArray(t.elementAttr)&&t.elementAttr.forEach(a=>{let{name:l,value:d}=a;s.attr(l,d)}),t.command==="expand"&&(s.addClass(t.cssClass),s.addClass(this.addWidgetPrefix("group-space"))),t.colspan>1?s.attr("colSpan",t.colspan):!t.isBand&&t.visibleWidth!=="auto"&&o&&((t.width||t.minWidth)&&(r.style.minWidth=aO(t.minWidth||t.width)),t.width&&Mq(r,t,aO(t.width))),s}_createRow(e,t){t=t||"tr";let n=I(`<${t}>`).addClass("dx-row");return t==="tr"&&this.setAria("role","row",n),n}_isAltRow(e){return e&&e.dataIndex%2===1}_createTable(e,t){let n=I("<table>").addClass(this.addWidgetPrefix("table")).addClass(this.addWidgetPrefix("table-fixed"));if(e&&!t?(n.attr("id",`dx-${new yi}`).append(this._createColGroup(e)),gi.safari&&n.append(I("<thead>").append("<tr>")),this.setAria("role","presentation",n)):this.setAria("hidden",!0,n),this.setAria("role","presentation",I("<tbody>").appendTo(n)),t)return n;gi.mozilla&&X.on(n,"mousedown","td",r=>{r.ctrlKey&&r.preventDefault()}),this.option("cellHintEnabled")&&X.on(n,"mousemove",".dx-row > td",this.createAction(r=>{let s=r.event,a=I(s.target),l=I(s.currentTarget),d=l.parent(),c=this._columnsController.getVisibleColumns(),u=d.data("options"),h=l.index(),f=u&&u.cells&&u.cells[h],p=f?f.column:c[h],m=d.hasClass("dx-header-row"),g=d.hasClass("dx-data-row"),b=d.hasClass(j2),x=d.hasClass("dx-group-row"),E=d.hasClass(this.addWidgetPrefix("filter-row")),D=g&&(!p||p.cellTemplate),L=g&&f&&(u.isEditing||f.isEditing||p?.showEditorAlways),k=m&&(!p||p.headerCellTemplate),R=x&&(!p||p.groupIndex&&p.groupCellTemplate);!b&&!E&&!L&&!D&&!k&&!R&&(a.data($2)&&(a.removeAttr("title"),a.data($2,!1)),a[0].scrollWidth-a[0].clientWidth>0&&!U(a.attr("title"))&&(a.attr("title",a.text()),a.data($2,!0)))}));let o=r=>{let s=I(r.currentTarget),a=I(r.target).closest(".dx-field-item-content"),l=s.parent(),d=l.data("options"),c=d&&d.cells&&d.cells[s.index()];if(!s.closest("table").is(r.delegateTarget))return;let u=q({},c,{cellElement:tt(s),event:r,eventType:r.type});if(u.rowIndex=this.getRowIndex(l),a.length){let h=a.data("dx-form-item");h.column&&(u.column=h.column,u.columnIndex=this._columnsController.getVisibleIndex(u.column.index))}return u};return X.on(n,"mouseover",".dx-row > td",r=>{let s=o(r);s&&this.executeAction("onCellHoverChanged",s)}),X.on(n,"mouseout",".dx-row > td",r=>{let s=o(r);s&&this.executeAction("onCellHoverChanged",s)}),X.on(n,Kt,".dx-row > td",r=>{let s=o(r);s&&this.executeAction("onCellClick",s)}),X.on(n,tu,".dx-row > td",r=>{let s=o(r);s&&this.executeAction("onCellDblClick",s)}),mOe(this,n),n}_rowPointerDown(e){}_rowClick(){}_rowDblClick(){}_createColGroup(e){let t=I("<colgroup>");for(let n=0;n<e.length;n++){let o=e[n].colspan||1;for(let r=0;r<o;r++)t.append(this._createCol(e[n]))}return t}_createCol(e){let t=e.visibleWidth||e.width;t==="adaptiveHidden"&&(t="0.0001px");let n=I("<col>");return Eb(n,t),n}renderDelayedTemplates(e){let t=this._delayedTemplates,n=t.filter(r=>!r.async),o=t.filter(r=>r.async);this._delayedTemplates=[],this._renderDelayedTemplatesCore(n,!1,e),this._renderDelayedTemplatesCoreAsync(o)}_renderDelayedTemplatesCoreAsync(e){if(e.length){let t=et().setTimeout(()=>{this._templateTimeouts.delete(t),this._renderDelayedTemplatesCore(e,!0)});this._templateTimeouts.add(t)}}_renderDelayedTemplatesCore(e,t,n){let o=new Date;for(;e.length;){let r=e.shift(),{options:s}=r,a=be.getRootNode(I(s.container).get(0)),l=this.needWaitAsyncTemplates();if((!t||I(s.container).closest(a).length||l)&&(n&&(s.change=n),r.template.render(s)),t&&new Date-o>30){this._renderDelayedTemplatesCoreAsync(e);break}}!e.length&&this._delayedTemplates.length&&this.renderDelayedTemplates()}_processTemplate(e,t){let n=this,o;if(e&&e.render&&!Oo(e))o={allowRenderToDetachedContainer:e.allowRenderToDetachedContainer,render(r){e.render(r.container,r.model,r.change),r.deferred&&r.deferred.resolve()}};else if(Ie(e))o={render(r){let s=e(tt(r.container),r.model,r.change);s&&(s.nodeType||Oo(s))&&r.container.append(s),r.deferred&&r.deferred.resolve()}};else{let r=We(e)?e:I(e).attr("id");r?(n._templatesCache[r]||(n._templatesCache[r]=n.getTemplate(e)),o=n._templatesCache[r]):o=n.getTemplate(e)}return o}renderTemplate(e,t,n,o,r){let s=this._processTemplate(t,n),{column:a}=n,l=n.rowType==="data",d=new le,c={container:e,model:n,deferred:d,onRendered:()=>{this.isDisposed()?d.reject():d.resolve()}};if(s){n.component=this.component;let u=a&&(a.renderAsync&&l||this.option("renderAsync")&&(a.renderAsync!==!1&&(a.command||a.showEditorAlways)&&l||n.rowType==="filter")),h=n.renderAsync??u;(s.allowRenderToDetachedContainer||o)&&!h?s.render(c):this._delayedTemplates.push({template:s,options:c,async:h}),this._templateDeferreds.add(d),X.on(e,Io,_Oe.bind(null,d))}else d.reject();return d.promise().always(()=>{this._templateDeferreds.delete(d)})}_getBodies(e){return I(e).children("tbody").not(".dx-header").not(".dx-footer")}_needWrapRow(e){var t;return!!this.option().rowTemplate&&!!((t=this._getBodies(e))!==null&&t!==void 0&&t.filter(".dx-row").length)}_wrapRowIfNeed(e,t,n){let o=n?e||this._tableElement:this._tableElement||e;if(this._needWrapRow(o)){let s=I("<tbody>").addClass(t.attr("class"));return this.setAria("role","presentation",s),s.append(t)}return t}_appendRow(e,t,n){n=n||fOe,n.render({content:t,container:e})}_resizeCore(){let e=this._scrollLeft;e>=0&&(this._scrollLeft=0,this.scrollTo({left:e}))}_renderCore(e){let t=this.element().parent();(!t||t.parent().length)&&this.renderDelayedTemplates(e)}_renderTable(e){e=e||{},e.columns=this._columnsController.getVisibleColumns();let t=e.change&&e.change.changeType,n=this._createTable(e.columns,t==="append"||t==="prepend"||t==="update");return this._renderRows(n,e),n}_renderRows(e,t){let n=this,o=n._getRows(t.change),r=t.change&&t.change.columnIndices||[],s=t.change&&t.change.changeTypes||[];for(let a=0;a<o.length;a++)n._renderRow(e,q({row:o[a],columnIndices:r[a],changeType:s[a]},t))}_renderRow(e,t){t.columnIndices||(t.row.cells=[]);let n=this._createRow(t.row),o=this._wrapRowIfNeed(e,n);t.changeType!=="remove"&&this._renderCells(n,t),this._appendRow(e,o);let r=q({columns:t.columns},t.row);this._addWatchMethod(r,t.row),this._rowPrepared(o,r,t.row)}_needRenderCell(e,t){return!t||t.indexOf(e)>=0}_renderCells(e,t){let n=this,o=0,{row:r}=t,{columns:s}=t;for(let a=0;a<s.length;a++)this._needRenderCell(a,t.columnIndices)&&n._renderCell(e,q({column:s[a],columnIndex:o,value:r.values&&r.values[o],oldValue:r.oldValues&&r.oldValues[o]},t)),s[a].colspan>1?o+=s[a].colspan:o++}_updateCells(e,t,n){let o=e.children(),r=t.children(),s=this.option("highlightChanges"),a=this.addWidgetPrefix("cell-updated-animation");n.forEach((l,d)=>{let c=o.eq(l),u=r.eq(d);c.replaceWith(u),s&&!u.hasClass("dx-command-expand")&&u.addClass(a)}),gOe(e.get(0),t.get(0))}_setCellAriaAttributes(e,t){if(t.rowType!=="freeSpace"){this.setAria("role","gridcell",e);let n=this._columnsController.getColumnIndexOffset(),o=t.columnIndex+n+1;this.setAria("colindex",o,e)}}_renderCell(e,t){let n=this._getCellOptions(t);if(t.columnIndices){if(t.row.cells){let r=t.row.cells.findIndex(s=>s.columnIndex===n.columnIndex);t.row.cells[r]=n}}else t.row.cells.push(n);let o=this._createCell(n);return this._setCellAriaAttributes(o,n),this._renderCellContent(o,n,t),e.get(0).appendChild(o.get(0)),o}_renderCellContent(e,t,n){let o=this._getCellTemplate(t);Be(!o||this.renderTemplate(e,o,t,void 0,n.change)).done(()=>{this._updateCell(e,t)})}_getCellTemplate(e){}_getRows(e){return[]}_getCellOptions(e){let t={column:e.column,columnIndex:e.columnIndex,rowType:e.row.rowType,isAltRow:this._isAltRow(e.row)};return this._addWatchMethod(t),t}_addWatchMethod(e,t){if(!this.option("repaintChangesOnly"))return;let n=[];return t=t||e,t.watch=t.watch||function(o,r,s){let a=o(t.data),l=function(d){d&&s&&s(d);let c=o(t.data);JSON.stringify(a)!==JSON.stringify(c)&&(d&&r(c),a=c)};return n.push(l),function(){let d=n.indexOf(l);d>=0&&n.splice(d,1)}},t.update=t.update||function(o,r){o&&(this.data=e.data=o.data,this.rowIndex=e.rowIndex=o.rowIndex,this.dataIndex=e.dataIndex=o.dataIndex,this.isExpanded=e.isExpanded=o.isExpanded,e.row&&!r&&(e.row=o)),n.forEach(s=>{s(o)})},t!==e&&(e.watch=t.watch.bind(t)),e}_cellPrepared(e,t){t.cellElement=tt(I(e)),this.executeAction("onCellPrepared",t)}_rowPrepared(e,t,n){Zi(e.get(0),"options",t),t.rowElement=tt(e),this.executeAction("onRowPrepared",t)}_columnOptionChanged(e){let{optionNames:t}=e;if(De.checkChanges(t,["width","visibleWidth"])){let o=this._columnsController.getVisibleColumns().map(r=>r.visibleWidth||r.width);this.setColumnWidths({widths:o,optionNames:t});return}this._requireReady||this.render()}getCellIndex(e,t){return e.length?e[0].cellIndex:-1}getTableElements(){return this._tableElement||I()}getTableElement(e){return this._tableElement}setTableElement(e,t){this._tableElement=e}_afterRowPrepared(e){}_handleDataChanged(e){}callbackNames(){return["scrollChanged"]}_updateScrollLeftPosition(){let e=this._scrollLeft;e>=0&&(this._scrollLeft=0,this.scrollTo({left:e}))}scrollTo(e){let t=this.element(),n=t&&t.children(`.${this.addWidgetPrefix("scroll-container")}`).not(`.${this.addWidgetPrefix("content-fixed")}`);U(e)&&U(e.left)&&this._scrollLeft!==e.left&&(this._scrollLeft=e.left,n&&n.scrollLeft(e.left))}_getContent(e){var t;return(t=this._tableElement)===null||t===void 0?void 0:t.parent()}_removeContent(e){let t=this._getContent(e);t!=null&&t.length&&t.remove()}_wrapTableInScrollContainer(e,t){let n=I("<div>"),o=this.option("scrolling.useNative");return(o===!1||o==="auto"&&!Aa)&&n.addClass(this.addWidgetPrefix("scrollable-simulated")),X.on(n,"scroll",()=>{let r=n.scrollLeft();r!==this._scrollLeft&&this.scrollChanged.fire({left:r},this.name)}),n.addClass(this.addWidgetPrefix("content")).addClass(this.addWidgetPrefix("scroll-container")).append(e).appendTo(this.element()),this.setAria("role","presentation",n),n}needWaitAsyncTemplates(){return this.option("templatesRenderAsynchronously")&&this.option("renderAsync")===!1}waitAsyncTemplates(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=new le;if(!(e||this.needWaitAsyncTemplates()))return t.resolve();let o=()=>Be.apply(this,Array.from(this._templateDeferreds)).done(()=>{this.isDisposed()?t.reject():this._templateDeferreds.size>0?o():t.resolve()}).fail(t.reject);return o(),t.promise()}_updateContent(e,t,n){return this.waitAsyncTemplates().done(()=>{this._removeContent(n),this.setTableElement(e,n),this._wrapTableInScrollContainer(e,n)})}_findContentElement(e){}_getWidths(e){if(!e)return[];let t=[];return e.toArray().forEach(o=>{let r=o.offsetWidth;if(o.getBoundingClientRect){let s=un(o);s.width>o.offsetWidth-1&&(r=s.width)}t.push(r)}),t}getColumnWidths(e){if((this.option("forceApplyBindings")||pe)(),e=e??this.getTableElement(),e){let t=e.children("tbody:not(.dx-header)").children();for(let n=0;n<t.length;n++){let o=t.eq(n),r=o.hasClass("dx-group-row"),s=o.hasClass(j2),a=o.hasClass("dx-error-row");if(o.get(0).style.display!=="none"&&!o.hasClass("dx-state-invisible")&&(!r&&!s&&!a)){let c=o.children("td");return this._getWidths(c)}}}return[]}getVisibleColumnIndex(e,t){return e}setColumnWidths(e){let{widths:t,optionNames:n}=e,o=this.getTableElement();if(!(o!=null&&o.length)||!t)return;let r=this.getColumns(),s=this._needToSetCellWidths(),a=o.children("colgroup").children("col");a.toArray().forEach(l=>l.removeAttribute("style")),r.forEach((l,d)=>{if(s&&l.width&&!l.command){let u=aO(l.visibleWidth||l.width),h=aO(l.minWidth||u),f=o.children().children(".dx-row").not(`.${j2}`);for(let p=0;p<f.length;p++){let m=this.getVisibleColumnIndex(d,p);if(m>=0){let g=f.eq(p),b=g.hasClass("dx-group-row")?g.find(`td[aria-colindex='${m+1}']:not(.dx-group-cell)`):g.find("td").eq(m);if(b.length){let x=b.get(0);Mq(x,l,u),x.style.minWidth=h}}}}let c=W2(t[d]);U(c)&&Eb(a.eq(d),c)})}getCellElements(e){return this._getCellElementsCore(e)}_getCellElementsCore(e){return e<0?void 0:this._getRowElements().eq(e).children()}_getCellElement(e,t){let n=this.getCellElements(e),o=this._getVisibleColumnIndex(n,e,t);if(!(n!=null&&n.length)||o<0)return;let r=n.eq(o);return r.length>0?r:void 0}_getRowElement(e){let t=this,n=I(),o=t.getTableElements();if(ee(o,(r,s)=>{n=n.add(t._getRowElements(I(s)).eq(e))}),n.length)return n}getCellElement(e,t){let n=this._getCellElement(e,t);if(n)return tt(n)}getRowElement(e){let t=this._getRowElement(e),n=[];if(t&&!tt(t).get)for(let o=0;o<t.length;o++)n.push(t[o]);else n=t;return n}_getVisibleColumnIndex(e,t,n){if(We(n)){let o=this._columnsController.columnOption(n,"index");return this._columnsController.getVisibleIndex(o)}return n}getColumnElements(){}getColumns(e,t){return this._columnsController.getVisibleColumns(e)}getCell(e,t,n){let o=t||this._getRowElements(),r;if(o.length>0&&e.rowIndex>=0){var s;if(this.option("scrolling.mode")!=="virtual"&&this.option("scrolling.rowRenderingMode")!=="virtual"&&(e.rowIndex=e.rowIndex<o.length?e.rowIndex:o.length-1),r=n||this.getCellElements(e.rowIndex),((s=r)===null||s===void 0?void 0:s.length)>0)return r.eq(r.length>e.columnIndex?e.columnIndex:r.length-1)}}getRowsCount(){let e=this.getTableElement();return e&&e.length===1?e[0].rows.length:0}_getRowElementsCore(e){if(e=e||this.getTableElement(),e){let n=(this.option().rowTemplate||this.option("dataRowTemplate"))&&e.find("> tbody.dx-row");return n&&n.length?n:e.find("> tbody > .dx-row, > .dx-row")}return I()}_getRowElements(e){return this._getRowElementsCore(e)}getRowIndex(e){return this._getRowElements().index(e)}getBoundingRect(){}getName(){}setScrollerSpacing(e){let t=this.element(),n=this.option("rtlEnabled");t&&t.css({paddingLeft:n?e:"",paddingRight:n?"":e})}isScrollbarVisible(e){let t=this.element(),n=this._tableElement;return t&&n?e?Ft(n)-Qe(t)>0:Ct(n)-ft(t)>0:!1}isDisposed(){var e;return(e=this.component)===null||e===void 0?void 0:e._disposed}};var bOe="dx-link",U2=function(i,e,t){let n=I("<div>").addClass(i.addWidgetPrefix("text-content"));i.setAria("role","presentation",n),Rq(i,e,t.column,n);let o=i.option("showColumnLines"),r=i.getController("columns").getHeaderContentAlignment(t.column.alignment);return n[o||r==="right"?"appendTo":"prependTo"](e)};function Rq(i,e,t,n){let o=i._getIndicatorElements(e,!0),r=i._getIndicatorElements(e),s=o&&o.length,a=i._getColumnAlignment(t.alignment),l=`.${i._getIndicatorClassName("sort")}`,d=`.${i._getIndicatorClassName("sortIndex")}`,c=r.filter(l),u=r.children().filter(d);n=n||e.children(`.${i.addWidgetPrefix("text-content")}`),n.toggleClass("dx-text-content-alignment-"+a,s>0).toggleClass("dx-text-content-alignment-"+(a==="left"?"right":"left"),s>0&&t.alignment==="center").toggleClass("dx-sort-indicator",!!c.length).toggleClass("dx-sort-index-indicator",!!u.length).toggleClass("dx-header-filter-indicator",!!r.filter(`.${i._getIndicatorClassName("headerFilter")}`).length)}var G2=class extends $a{init(){super.init(),this._headerPanelView=this.getView("headerPanel"),this._headerFilterController=this.getController("headerFilter"),this._dataController=this.getController("data")}_createTable(){let e=super._createTable.apply(this,arguments);return X.on(e,"mousedown selectstart",this.createAction(t=>{let{event:n}=t;n.shiftKey&&n.preventDefault()})),e}_isLegacyKeyboardNavigation(){return this.option("useLegacyKeyboardNavigation")}_getDefaultTemplate(e){let t=this;return function(n,o){let{caption:r}=e,s=!e.command||r&&e.command!=="expand";e.command==="empty"?t._renderEmptyMessage(n,o):s?U2(t,n,o).text(r):e.command&&n.html("&nbsp;")}}_renderEmptyMessage(e,t){let n=this._getEmptyHeaderText();if(!n){e.html("&nbsp;");return}let o=U2(this,e,t);if(n.includes("{0}")){let[s,a]=n.split("{0}"),l=de.format("dxDataGrid-emptyHeaderColumnChooserText"),d=this._columnChooserView,c=I("<a>").text(l).addClass(bOe);X.on(c,"click",this.createAction(()=>d.showColumnChooser())),o.append(be.createTextNode(s)).append(c).append(be.createTextNode(a))}else o.text(n)}_getEmptyHeaderText(){let e=!!this._columnChooserView.hasHiddenColumns(),t=!!this._headerPanelView.hasGroupedColumns();switch(!0){case(e&&t):return de.format("dxDataGrid-emptyHeaderWithColumnChooserAndGroupPanelText");case t:return de.format("dxDataGrid-emptyHeaderWithGroupPanelText");case e:return de.format("dxDataGrid-emptyHeaderWithColumnChooserText");default:return""}}_getHeaderTemplate(e){return e.headerCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(e)}}_processTemplate(e,t){let n=this,o,{column:r}=t,s=super._processTemplate(e);return t.rowType==="header"&&s&&r.headerCellTemplate&&!r.command?o={render(a){let l=U2(n,a.container,a.model);s.render(q({},a,{container:l}))}}:o=s,o}_handleDataChanged(e){e.changeType==="refresh"&&(this._isGroupingChanged||this._requireReady)&&(this._isGroupingChanged=!1,this.render())}_renderCell(e,t){let n=super._renderCell(e,t);return t.row.rowType==="header"&&(n.addClass("dx-cell-focus-disabled"),this._isLegacyKeyboardNavigation()||t.column&&!t.column.type&&n.attr("tabindex",this.option("tabindex")||0)),n}_setCellAriaAttributes(e,t){super._setCellAriaAttributes(e,t),t.rowType==="header"&&(t.column.type||this.setAria("role","columnheader",e),t.column&&!t.column.command&&!t.column.isBand&&(e.attr("id",t.column.headerId),this.setAria("label",`${de.format("dxDataGrid-ariaColumn")} ${t.column.caption}`,e)))}_createRow(e){let t=super._createRow.apply(this,arguments);return t.toggleClass("dx-column-lines",this.option("showColumnLines")),e.rowType==="header"&&(t.addClass("dx-header-row"),this._isLegacyKeyboardNavigation()||Nh("columnHeaders",this,t,"td",this._handleActionKeyDown.bind(this))),t}_processHeaderAction(e,t){}_handleActionKeyDown(e){let{event:t}=e,n=I(t.target);if(this._lastActionElement=t.target,n.is(".dx-header-filter")){let o=this._headerFilterController,r=n.closest("td"),s=this.getColumnIndexByElement(r);s>=0&&o.showHeaderFilterMenu(s,!1)}else{let o=n.closest(".dx-row");this._processHeaderAction(t,o)}t.preventDefault()}_renderCore(){let e=this.element(),t={};if(this._tableElement&&!this._dataController.isLoaded()&&!this._hasRowElements)return;e.addClass(this.addWidgetPrefix("headers")).toggleClass(this.addWidgetPrefix("nowrap"),!this.option("wordWrapEnabled")).empty(),this.setAria("role","presentation",e);let n=this._updateContent(this._renderTable({change:t}),t);return this.getRowCount()>1&&e.addClass("dx-header-multi-row"),super._renderCore.apply(this,arguments),n}_renderRows(){let e=this;(e._dataController.isLoaded()||e._hasRowElements)&&(super._renderRows.apply(e,arguments),e._hasRowElements=!0)}_renderRow(e,t){let n=this.getRowCount()===1?null:t.row.rowIndex;t.columns=this.getColumns(n),super._renderRow(e,t)}_createCell(e){let{column:t}=e,n=super._createCell.apply(this,arguments);return t.rowspan>1&&e.rowType==="header"&&n.attr("rowSpan",t.rowspan),n}_getRows(){let e=[],t=this.getRowCount();if(this.option("showColumnHeaders"))for(let n=0;n<t;n++)e.push({rowType:"header",rowIndex:n});return e}_getCellTemplate(e){if(e.rowType==="header")return this._getHeaderTemplate(e.column)}_columnOptionChanged(e){let{changeTypes:t}=e,{optionNames:n}=e;if(t.grouping||t.groupExpanding){t.grouping&&(this._isGroupingChanged=!0);return}super._columnOptionChanged(e),(n.width||n.visible)&&this.resizeCompleted.fire()}_isElementVisible(e){return e&&e.visible}_alignCaptionByCenter(e){let t=this._getIndicatorContainer(e,!0);t&&t.length&&(t.filter(".dx-visibility-hidden").remove(),t=this._getIndicatorContainer(e),t.clone().addClass("dx-visibility-hidden").css("float","").insertBefore(e.children(`.${this.addWidgetPrefix("text-content")}`)))}_updateCell(e,t){t.rowType==="header"&&t.column.alignment==="center"&&this._alignCaptionByCenter(e),super._updateCell.apply(this,arguments)}_updateIndicator(e,t,n){let o=super._updateIndicator.apply(this,arguments);return t.alignment==="center"&&this._alignCaptionByCenter(e),Rq(this,e,t),o}_getIndicatorContainer(e,t){let n=super._getIndicatorContainer(e);return t?n:n.filter(":not(.dx-visibility-hidden)")}_isSortableElement(e){return!0}getHeadersRowHeight(){let e=this.getTableElement(),t=e&&e.find(".dx-header-row");return t&&t.toArray().reduce((n,o)=>n+ft(o),0)||0}getHeaderElement(e){let t=this.getColumnElements();return t&&t.eq(e)}getColumnElements(e,t){let n=this,o,r=n._columnsController,s=n.getRowCount();if(n.option("showColumnHeaders")){if(s>1&&(!U(e)||U(t))){let a=[],l=U(t)?r.getChildrenByBandColumn(t,!0):r.getVisibleColumns();return ee(l,(d,c)=>{let u=U(e)?e:r.getRowIndex(c.index);o=n._getCellElement(u,r.getVisibleIndex(c.index,u)),o&&a.push(o.get(0))}),I(a)}if(!e||e<s)return n.getCellElements(e||0)}}getColumnIndexByElement(e){let t=this.getCellIndex(e),n=e.closest(".dx-row"),{rowIndex:o}=n[0],r=this.getColumns(o)[t];return r?r.index:-1}getVisibleColumnIndex(e,t){let n=this.getColumns()[e];return n?this._columnsController.getVisibleIndex(n.index,t):-1}getColumnWidths(){let e=this.getColumnElements();return e&&e.length?this._getWidths(e):super.getColumnWidths.apply(this,arguments)}allowDragging(e){let t=e&&this._columnsController.getRowIndex(e.index),n=this.getColumns(t);return(this.option("allowColumnReordering")??this._columnsController.isColumnOptionUsed("allowReordering"))&&e.allowReordering&&n.length>1}getBoundingRect(){let e=this,t=e.getColumnElements();return t&&t.length?{top:e.getTableElement().offset().top}:null}getName(){return"headers"}getColumnCount(){let e=this.getColumnElements();return e?e.length:0}isVisible(){return this.option("showColumnHeaders")}optionChanged(e){let t=this;switch(e.name){case"showColumnHeaders":case"wordWrapEnabled":case"showColumnLines":t._invalidate(!0,!0),e.handled=!0;break;default:super.optionChanged(e)}}getHeight(){return this.getElementHeight()}getContextMenuItems(e){let t=this,{column:n}=e;if(e.row&&(e.row.rowType==="header"||e.row.rowType==="detailAdaptive")){let o=t.option("sorting");if(o&&o.mode!=="none"&&n&&n.allowSorting){let r=function(s){setTimeout(()=>{t._columnsController.changeSortOrder(n.index,s.itemData.value)})};return[{text:o.ascendingText,value:"asc",disabled:n.sortOrder==="asc",icon:"context-menu-sort-asc",onItemClick:r},{text:o.descendingText,value:"desc",disabled:n.sortOrder==="desc",icon:"context-menu-sort-desc",onItemClick:r},{text:o.clearText,value:"none",disabled:!n.sortOrder,icon:"context-menu-sort-none",onItemClick:r}]}}}getRowCount(){return this._columnsController&&this._columnsController.getRowCount()}setRowsOpacity(e,t,n){let o,r,s=this.getRowCount(),a=this._columnsController.getColumns(),l=a&&a[e],d=l&&l.isBand&&l.index,c=(u,h)=>{u.ownerBand===d&&(r.eq(h).css({opacity:t}),u.isBand&&this.setRowsOpacity(u.index,t,o+1))};if(U(d))for(n=n||0,o=n;o<s;o++)r=this.getCellElements(o),r&&this.getColumns(o).forEach(c)}},K2={defaultOptions:()=>({showColumnHeaders:!0,cellHintEnabled:!0}),views:{columnHeadersView:G2}};var qe=ye({},li,De,{modules:[]});var yxt=K2.views.columnHeadersView;qe.registerModule("columnHeaders",K2);var q2=["filterValues","filterType","fixed","fixedPosition"],Wg=["visibleIndex","dataField","name","dataType","width","visible","sortOrder","lastSortOrder","sortIndex","groupIndex","filterValue","bufferedFilterValue","selectedFilterOperation","bufferedSelectedFilterOperation","added"].concat(q2),Fq={visibleWidth:!0,bestFitWidth:!0,bufferedFilterValue:!0},Pq="dx-command-expand",Y2=Number.MAX_SAFE_INTEGER||9007199254740991,Dd="groupExpand",Lq="detailExpand",lO=/columns\[(\d+)\]\.?/gi,Nq={visible:!0,showInColumnChooser:!0},Bq={number:["=","<>","<",">","<=",">=","between"],string:["contains","notcontains","startswith","endswith","=","<>"],date:["=","<>","<",">","<=",">=","between"],datetime:["=","<>","<",">","<=",">=","between"]},Vq={visibleIndex:!0,groupIndex:!0,grouped:!0,sortIndex:!0,sortOrder:!0},Vh="group",Hh="columnChooser";var X2=function(i){i.filterOperations=i.defaultFilterOperations},vOe=1,Bv=function(i,e,t,n){let o={};if(e){We(e)&&(e={dataField:e}),i.setName(e);let r={};if(e.command)r=Tr(o,e);else{o=i.getCommonSettings(e),t&&t.name&&t.dataField&&(e=q({},e,{dataField:t.dataField}));let s=i._createCalculatedColumnOptions(e,n);e.type||(r={headerId:"dx-col-"+vOe++}),r=Tr(r,Nq),Tr(r,o),Tr(r,s),Tr(r,e),Tr(r,{selector:null})}return e.filterOperations===e.defaultFilterOperations&&X2(r),r}},zh=function(i,e,t,n){let o=[];return e&&ee(e,(r,s)=>{let a=(n??0)+o.length,l=i._columnsUserState&&iL(s,i._columnsUserState[a])&&i._columnsUserState[a],d=Bv(i,s,l,t);d&&(t&&(d.ownerBand=t),o.push(d),d.columns&&(o=o.concat(zh(i,d.columns,d,o.length)),delete d.columns,d.hasColumns=!0))}),o},jh=function(i,e){let t=[],n=e[i];for(;n;)t.unshift(n),i=n.index,n=e[i];return t},Z2=function(i,e,t){let n=[],o=e[i];if(o)for(let r=0;r<o.length;r++){let s=o[r];(!U(s.groupIndex)||s.showWhenGrouped)&&(n.push(s),t&&s.isBand&&(n=n.concat(Z2(s.index,e,t))))}return n},Hq=function(i,e){let t,n,o=i.getBandColumnsCache(),r=function(s){let a=t?t.index:void 0;return s.ownerBand===a};if(o.isPlain)t=i._columns[e[0]];else{n=i._columns.filter(r);for(let s=0;s<e.length;s++)t=n[e[s]],t&&(n=i._columns.filter(r))}return t},yOe=function(i,e){let t=[],n,o=i.getBandColumnsCache(),r=function(s){return s.ownerBand===e.ownerBand};if(o.isPlain){let s=i._columns.indexOf(e);s>=0&&(t=[`columns[${s}]`])}else for(n=i._columns.filter(r);n.length&&n.indexOf(e)!==-1;)t.unshift(`columns[${n.indexOf(e)}]`),e=o.columnParentByIndex[e.index],n=e?i._columns.filter(r):[];return t.join(".")},zq=function(i,e){let t=0,n=i.getChildrenByBandColumn(e,!0);return ee(n,(o,r)=>{r.isBand?(r.colspan=r.colspan||zq(i,r.index),t+=r.colspan||1):t+=1}),t},jq=function(i,e,t){let n;for(let o=0;o<e.length;o++){let r=e[o];(r.visible||r.command)&&(r.isBand&&(r.colspan=r.colspan||zq(i,r.index)),(!r.isBand||!r.colspan)&&(n=i.getRowCount(),!r.command&&(!U(r.groupIndex)||r.showWhenGrouped)&&(n-=jh(r.index,t.columnParentByIndex).length),n>1&&(r.rowspan=n)))}},dO=function(i){let e=or(i);return e!=="string"&&e!=="boolean"&&e!=="number"&&e!=="date"&&e!=="object"&&(e=void 0),e},Q2=function(i,e){switch(i){case"date":case"datetime":return kn.getDateSerializationFormat(e);case"number":if(We(e))return"string";if(ai(e))return null}},J2=function(i,e){i.deserializeValue||(De.isDateType(e)&&(i.deserializeValue=function(t){return kn.deserializeDate(t)},i.serializeValue=function(t){return We(t)?t:kn.serializeDate(t,this.serializationFormat)}),e==="number"&&(i.deserializeValue=function(t){let n=parseFloat(t);return isNaN(n)?t:n},i.serializeValue=function(t,n){return n==="filter"?t:U(t)&&this.serializationFormat==="string"?t.toString():t}))},$q=function(i,e){switch(i){case"number":return"right";case"boolean":return"center";default:return Ar(e)}},xOe=function(i){return i.value===!0?this.trueText||"true":i.value===!1?this.falseText||"false":i.valueText||""},eL=function(i){if(i==="boolean")return xOe},Wq=function(i,e){let t=i._getFirstItems(e),n,o={},r=[];for(let s=0;s<t.length;s++)if(t[s])for(n in t[s])(!Ie(t[s][n])||bo.isWrapped(t[s][n]))&&(o[n]=!0);for(n in o)if(n.indexOf("__")!==0){let s=Bv(i,n);r.push(s)}return r},Uq=function(i){ee(i._columns,(e,t)=>{t.index=e}),ee(i._columns,(e,t)=>{Ke(t.ownerBand)&&(t.ownerBand=t.ownerBand.index)}),ee(i._commandColumns,(e,t)=>{t.index=-(e+1)})},tL=function(i,e){zp(i._columns,"groupIndex",e,t=>{let{grouped:n}=t;return delete t.grouped,n})},COe=function(i,e){ee(i._columns,(t,n)=>{U(n.sortIndex)&&!Nv(n.sortOrder)&&delete n.sortIndex}),zp(i._columns,"sortIndex",e,t=>!U(t.groupIndex)&&Nv(t.sortOrder))},wOe=function(i,e){let t,n=[],o=i.getBandColumnsCache(),r=[],s=i._columns.filter(a=>!a.command);for(let a=0;a<s.length;a++)t=s[a],jh(a,o.columnParentByIndex).length?r.push(t):n.push(t);zp(r,"visibleIndex",e),zp(n,"visibleIndex",e)},cO=function(i,e,t){let n=Ke(e)?e.rowIndex:null,o=t===Vh?i.getGroupColumns():t===Hh?i.getChooserColumns():i.getVisibleColumns(n),r;return e=Ke(e)?e.columnIndex:e,r=o[e],r&&r.type===Dd&&(r=i._columns.filter(s=>r.type===s.type)[0]||r),r&&U(r.index)?r.index:-1},Gq=function(i,e,t){let n=i.getGroupColumns(),o;if(t>=0)for(o=0;o<n.length;o++)n[o].groupIndex>=t&&n[o].groupIndex++;else for(t=0,o=0;o<n.length;o++)t=Math.max(t,n[o].groupIndex+1);return t};function iL(i,e){return i&&e&&e.name===(i.name||i.dataField)&&(e.dataField===i.dataField||i.name)}var nL=function(i){let e=i._columnsUserState,t=i._ignoreColumnOptionNames||[],n=i._columns,o={},r=[],s=!0,a=[],l,d,c;function u(f,p){if(p)for(let m=0;m<Wg.length;m++){let g=Wg[m];t.includes(g)||(g==="dataType"?f[g]=f[g]||p[g]:q2.includes(g)?g in p&&(f[g]=p[g]):(g==="selectedFilterOperation"&&p[g]&&(f.defaultSelectedFilterOperation=f[g]||null),f[g]=p[g]))}}function h(f,p){let m=p.name||p.dataField,g=o[m]||0;for(let b=0;b<f.length;b++)if(iL(p,f[b]))if(g)g--;else return o[m]=o[m]||0,o[m]++,b;return-1}if(e){for(c=0;c<n.length;c++)d=h(e,n[c]),s=s&&d>=0,a.push(d);for(c=0;c<n.length;c++)l=n[c],d=a[c],(i._hasUserState||s)&&u(l,e[d]),d>=0&&U(e[d].initialIndex)?r[d]=l:r.push(l);let f=!1;for(c=0;c<e.length;c++){let p=e[c];p.added&&h(n,p)<0&&(l=Bv(i,p.added),u(l,p),r.push(l),p.added.columns&&(f=!0))}f&&(Uq(i),r=zh(i,r)),hf(i,r)}},$h=function(i,e){Uq(i),tL(i,e),COe(i,e),cL(i),wOe(i,e)},Vv=function(i){i.resetColumnsCache()};function hf(i,e){i._previousColumns=i._columns,i._columns=e,Vv(i),i.updateColumnDataTypes()}var Il=function(i,e,t,n){let o=i._columnChanges||{optionNames:{length:0},changeTypes:{length:0},columnIndex:n};t=t||"all",t=t.split(".")[0];let{changeTypes:r}=o;e&&!r[e]&&(r[e]=!0,r.length++);let{optionNames:s}=o;t&&!s[t]&&(s[t]=!0,s.length++),(n===void 0||n!==o.columnIndex)&&(U(n)&&(o.columnIndices??(o.columnIndices=[]),U(o.columnIndex)&&o.columnIndices.push(o.columnIndex),o.columnIndices.push(n)),delete o.columnIndex),i._columnChanges=o,Vv(i)},Ug=function(i){let e=i.option("onColumnsChanging"),t=i._columnChanges,n=["dataField","lookup","dataType","columns"];i.isInitialized()&&!i._updateLockCount&&t&&(e&&(i._updateLockCount++,e(q({component:i.component},t)),i._updateLockCount--),i._columnChanges=void 0,o=t.optionNames,o&&n.some(r=>o[r])?(i._reinitAfterLookupChanges=t?.optionNames.lookup,i.reinit(),i._reinitAfterLookupChanges=void 0):i.columnsChanged.fire(t));var o},SOe=function(i,e,t,n){let o=n>=0;if(t>=0)o||(e.lastSortOrder=e.sortOrder);else{let r=i.option("sorting.mode"),s=e.lastSortOrder;r==="single"&&i._columns.some(l=>l!==e&&U(l.sortIndex))&&(s=void 0),e.sortOrder=s}},EOe=function(i,e){let{value:t}=e,{optionName:n}=e,{prevValue:o}=e,{fullOptionName:r}=e,s=`${r}.${n}`;!Fq[n]&&i._skipProcessingColumnsChange!==s&&(i._skipProcessingColumnsChange=s,i.component._notifyOptionChanged(s,t,o),i._skipProcessingColumnsChange=!1)},uO=function(i,e,t,n,o){let r=Qt(t),s=e.index,a,l,d;if(arguments.length===3)return r(e,{functionsAsIs:!0});let c=r(e,{functionsAsIs:!0});if(!hi(c,n,{maxDepth:5})){t==="groupIndex"||t==="calculateGroupValue"?(l="grouping",SOe(i,e,n,c)):t==="sortIndex"||t==="sortOrder"||t==="calculateSortValue"?l="sorting":l="columns";let u=Pm(t);u(e,n,{functionsAsIs:!0});let h=yOe(i,e);Vq[t]&&($h(i,e),n=r(e)),(t==="name"||t==="allowEditing")&&i._checkColumns(),!U(c)&&!U(n)&&t.indexOf("buffer")!==0&&(o=!0),o?Vv(i):(!Wg.includes(t)&&t!=="visibleWidth"&&(a=i.option("columns"),d=i.getColumnByPath(h,a),We(d)&&(d=a[s]={dataField:d}),d&&iL(d,e)&&u(d,n,{functionsAsIs:!0})),Il(i,l,t,s)),h&&EOe(i,{fullOptionName:h,optionName:t,value:n,prevValue:c})}};function Nv(i){return i==="asc"||i==="desc"}var Kq=function(i){let e=i._getExpandColumnOptions();i.addCommandColumn(e)},qq=function(i,e){if(!this.dataField)return;let t=this.dataField.split("."),n=t.length-1;this.serializeValue&&(e=this.serializeValue(e));for(let o=0;o<n;o++){let r=t[o];i=i[r]=i[r]||{}}i[t[n]]=e},oL=function(i,e,t){let n=[];return e=e||0,i[e]&&ee(i[e],(o,r)=>{(r.ownerBand===t||r.type===Dd)&&(!r.isBand||!r.colspan?(!r.command||e<1)&&n.push(r):n.push.apply(n,oL(i,e+1,r.index)))}),n},Yq=function(i){let e=1,t=i.getBandColumnsCache(),{columnParentByIndex:n}=t;return i._columns.forEach(o=>{let r=jh(o.index,n),s=r.filter(a=>!a.visible);o.visible&&!s.length&&(e=Math.max(e,r.length+1))}),e},hO=(i,e)=>!!i._columns.filter(n=>n.type===e.type).length,rL=function(i,e){let t=i.option("rtlEnabled");return e.command&&!hO(i,e)||!e.fixedPosition?t?"right":"left":e.fixedPosition},sL=function(i,e,t,n){let o,r=this.getRowCount(),s=i[n]&&i[n].rowspan,a=e.filter(l=>l.type===t);return i.forEach((l,d)=>{l.type===t&&(o=d,s=i[d+1]?i[d+1].rowspan:r)}),s>1&&(a=tn(a,l=>q({},l,{rowspan:s}))),a.unshift.apply(a,U(o)?[o,1]:[n,0]),i.splice.apply(i,a),s||1},Xq=function(i){let e;for(e=0;i>1;e++)i/=10;return e},aL=function(i,e){let t=i?i.toString():"0";for(;t.length<e;)t=`0${t}`;return t},lL=(i,e,t,n)=>{let o,r,s=e.slice().map(u=>q({},u)),a=i._isColumnFixing(),l=t.slice().map(u=>q({fixed:a},u)),d=u=>t.reduce((h,f,p)=>{let m=n&&u.type===Dd?"expand":u.type;return f.type===m||f.command===u.command?p:h},-1),c=u=>u.command!==t[r].command;for(let u=0;u<e.length;u++)if(o=e[u],r=o&&(o.type||o.command)?d(o):-1,r>=0)if(n)s[u]=q({fixed:a},t[r],o),o.type!==Dd&&(l=l.filter(c));else{let h={visibleIndex:o.visibleIndex,index:o.index,headerId:o.headerId,allowFixing:o.groupIndex===0,allowReordering:o.groupIndex===0,groupIndex:o.groupIndex};s[u]=q({},o,t[r],o.type===Dd&&h)}return e.length&&n&&l.length&&(s=s.concat(l)),s},dL=(i,e)=>U(e.fixed)||!e.type?e.fixed:i._isColumnFixing(),Zq=i=>{i.forEach(e=>{U(e.ownerBand)&&(e.ownerBand=i[e.ownerBand])})},cL=i=>{i._bandColumnsCache=void 0},uL=(i,e)=>{let t=We(e)&&e.substr(0,e.indexOf(":")),n;if(e!==void 0)return t&&(e=e.substr(t.length+1)),t?n=i.filter(o=>`${o[t]}`===e)[0]:["index","name","dataField","caption"].some(o=>(n=i.filter(r=>r[o]===e)[0],!!n)),n},Qq=(i,e)=>{if(e!=="asc"&&e!=="desc")return i;let t=e==="asc"?1:-1;return i.sort((n,o)=>{let r=n.caption||"",s=o.caption||"";return t*r.localeCompare(s)}),i},Jq=function(i,e){let t=Ii.parse(i);if(ai(t)){let n=Ii.format(t,e),o=Ii.format(t,"decimal");if(n===i||o===i)return t}};var hL=class extends li.Controller{init(e){this._dataController=this.getController("data"),this._focusController=this.getController("focus"),this._stateStoringController=this.getController("stateStoring");let t=this.option("columns");this._commandColumns=this._commandColumns||[],this._columns=this._columns||[],this._isColumnsFromOptions=!!t,this._isColumnsFromOptions?(hf(this,t?zh(this,t):[]),nL(this)):hf(this,this._columnsUserState?zh(this,this._columnsUserState):this._columns),Kq(this),this._dataSourceApplied?this.applyDataSource(this._dataSource,!0,e):$h(this),this._checkColumns()}_getExpandColumnOptions(){return{type:"expand",command:"expand",width:"auto",cssClass:Pq,allowEditing:!1,allowGrouping:!1,allowSorting:!1,allowResizing:!1,allowReordering:!1,allowHiding:!1}}_getFirstItems(e){let t,n=[],o=function(r,s){if(!r||!s)return r;for(let a=0;a<r.length;a++){let l=o(r[a].items||r[a].collapsedItems,s-1);if(l&&l.length)return l}};return e&&e.items().length>0&&(t=De.normalizeSortingInfo(e.group()).length,n=o(e.items(),t)||[]),n}_endUpdateCore(){!this._skipProcessingColumnsChange&&Ug(this)}callbackNames(){return["columnsChanged"]}getColumnByPath(e,t){let n=this,o,r=[];return e.replace(lO,(s,a)=>(r.push(parseInt(a)),"")),r.length&&(t?o=r.reduce((s,a)=>s&&s.columns&&s.columns[a],{columns:t}):o=Hq(n,r)),o}optionChanged(e){let t;switch(e.name){case"adaptColumnWidthByRatio":e.handled=!0;break;case"dataSource":e.value!==e.previousValue&&!this.option("columns")&&(!Array.isArray(e.value)||!Array.isArray(e.previousValue))&&(this._columns=[]);break;case"columns":t=this._skipProcessingColumnsChange,e.handled=!0,this._skipProcessingColumnsChange||(e.name===e.fullName?(this._columnsUserState=null,this._ignoreColumnOptionNames=null,this.init()):(this._columnOptionChanged(e),t=!0)),t&&this._updateRequireResize(e);break;case"commonColumnSettings":case"columnAutoWidth":case"allowColumnResizing":case"allowColumnReordering":case"columnFixing":case"grouping":case"groupPanel":case"regenerateColumnsByVisibleItems":case"customizeColumns":case"columnHidingEnabled":case"dateSerializationFormat":case"columnResizingMode":case"columnMinWidth":case"columnWidth":{e.handled=!0;let n=e.fullName==="columnWidth"&&["width"];this.reinit(n);break}case"rtlEnabled":this.reinit();break;default:super.optionChanged(e)}}_columnOptionChanged(e){let t={},n=this.getColumnByPath(e.fullName),o=e.fullName.replace(lO,"");n&&(o?t[o]=e.value:t=e.value,this._skipProcessingColumnsChange=e.fullName,this.columnOption(n.index,t),this._skipProcessingColumnsChange=!1)}_updateRequireResize(e){let{component:t}=this;e.fullName.replace(lO,"")==="width"&&t._updateLockCount&&(t._requireResize=!0)}publicMethods(){return["addColumn","deleteColumn","columnOption","columnCount","clearSorting","clearGrouping","getVisibleColumns","getVisibleColumnIndex"]}applyDataSource(e,t,n){let o=this,r=e&&e.isLoaded();if(o._dataSource=e,!o._dataSourceApplied||o._dataSourceColumnsCount===0||t||o.option("regenerateColumnsByVisibleItems")){if(r){if(!o._isColumnsFromOptions){let s=Wq(o,e);s.length&&(hf(o,s),o._dataSourceColumnsCount=o._columns.length,nL(o))}return o.updateColumns(e,t,n)}o._dataSourceApplied=!1,$h(o)}else if(r&&!o.isAllDataTypesDefined(!0)&&o.updateColumnDataTypes(e))return Il(o,"columns"),Ug(o),new le().reject().promise()}reset(){this._dataSource=null,this._dataSourceApplied=!1,this._dataSourceColumnsCount=void 0,this.reinit()}resetColumnsCache(){this._visibleColumns=void 0,this._fixedColumns=void 0,this._rowCount=void 0,cL(this)}reinit(e){this._columnsUserState=this.getUserState(),this._ignoreColumnOptionNames=e||null,this.init(),e&&(this._ignoreColumnOptionNames=null)}isInitialized(){return!!this._columns.length||!!this.option("columns")}isDataSourceApplied(){return this._dataSourceApplied}getCommonSettings(e){let t=(!e||!e.type)&&this.option("commonColumnSettings")||{},n=this.option("grouping")??{},o=this.option("groupPanel")??{};return q({allowFixing:this.option("columnFixing.enabled"),allowResizing:this.option("allowColumnResizing")||void 0,allowReordering:this.option("allowColumnReordering"),minWidth:this.option("columnMinWidth"),width:this.option("columnWidth"),autoExpandGroup:n.autoExpandAll,allowCollapsing:n.allowCollapsing,allowGrouping:o.allowColumnDragging&&o.visible||n.contextMenuEnabled},t)}isColumnOptionUsed(e){for(let t=0;t<this._columns.length;t++)if(this._columns[t][e])return!0}isAllDataTypesDefined(e){let t=this._columns;if(!t.length)return!1;for(let n=0;n<t.length;n++)if(!(!t[n].dataField&&t[n].calculateCellValue===t[n].defaultCalculateCellValue)&&(!t[n].dataType||e&&t[n].deserializeValue&&t[n].serializationFormat===void 0))return!1;return!0}getColumns(){return this._columns}isBandColumnsUsed(){return this.getColumns().some(e=>e.isBand)}getGroupColumns(){let e=[];return ee(this._columns,function(){let t=this;U(t.groupIndex)&&(e[t.groupIndex]=t)}),e}_shouldReturnVisibleColumns(){return!0}_compileVisibleColumns(e){return this._visibleColumns=this._visibleColumns||this._compileVisibleColumnsCore(),e=U(e)?e:this._visibleColumns.length-1,this._visibleColumns[e]||[]}getVisibleColumns(e,t){return this._shouldReturnVisibleColumns()?this._compileVisibleColumns.apply(this,arguments):[]}getFixedColumns(e){return this._fixedColumns=this._fixedColumns||this._getFixedColumnsCore(),e=U(e)?e:this._fixedColumns.length-1,this._fixedColumns[e]||[]}getFilteringColumns(){return this.getColumns().filter(e=>(e.dataField||e.name)&&(e.allowFiltering||e.allowHeaderFiltering)).map(e=>{let t=q(!0,{},e);return U(t.dataField)||(t.dataField=t.name),t.filterOperations=e.filterOperations!==e.defaultFilterOperations?t.filterOperations:null,t})}getColumnIndexOffset(){return 0}_getFixedColumnsCore(){let e=this,t=[],n=e.getRowCount(),o=e._isColumnFixing(),r={command:"transparent"},s=0,a,l,d;if(o)for(let c=0;c<=n;c++){a=0,d=null,l=null;let u=e.getVisibleColumns(c,!0);for(let h=0;h<u.length;h++){let f=u[h-1],p=u[h];p.fixed?f&&f.fixed&&rL(e,f)!==rL(e,p)?U(l)||(l=h):d=p.fixedPosition:(c===0&&(p.isBand&&p.colspan?s+=p.colspan:s++),a++,U(l)||(l=h))}if(c===0&&(a===0||a>=u.length))return[];U(l)||(l=d==="right"?0:u.length),t[c]=u.slice(0),r.colspan||(r.colspan=s),t[c].splice(l,a,r)}return t.map(c=>c.map(u=>{let h=ye({},u);return h.headerId&&(h.headerId+="-fixed"),h}))}_isColumnFixing(){let e=this.option("columnFixing.enabled");return!e&&ee(this._columns,(t,n)=>{if(n.fixed)return e=!0,!1}),e}_getExpandColumnsCore(){return this.getGroupColumns()}getExpandColumns(){let e=this._getExpandColumnsCore(),t,n=e.filter(a=>a.groupIndex===0)[0],o=n&&n.fixed,r=this._isColumnFixing(),s=this.option("rtlEnabled");return e.length&&(t=this.columnOption("command:expand")),e=tn(e,a=>q({},a,{visibleWidth:null,minWidth:null,cellTemplate:U(a.groupIndex)?null:a.cellTemplate,headerCellTemplate:null,fixed:!U(a.groupIndex)||!o?r:!0,fixedPosition:s?"right":"left"},t,{index:a.index,type:a.type||Dd})),e}getBandColumnsCache(){if(!this._bandColumnsCache){let e=this._columns,t={},n={},o=!0;e.forEach(r=>{let{ownerBand:s}=r,a=Ke(s)?s.index:s,l=e[a];r.hasColumns&&(o=!1),r.colspan&&(r.colspan=void 0),r.rowspan&&(r.rowspan=void 0),l?n[r.index]=l:a=-1,t[a]=t[a]||[],t[a].push(r)}),this._bandColumnsCache={isPlain:o,columnChildrenByIndex:t,columnParentByIndex:n}}return this._bandColumnsCache}_isColumnVisible(e){return e.visible&&this.isParentColumnVisible(e.index)}_isColumnInGroupPanel(e){return U(e.groupIndex)&&!e.showWhenGrouped}hasVisibleDataColumns(){return this._columns.some(t=>{let n=this._isColumnVisible(t),o=this._isColumnInGroupPanel(t),r=!!t.command;return n&&!o&&!r})}_compileVisibleColumnsCore(){let e=this.getBandColumnsCache(),t=lL(this,this._columns,this._commandColumns,!0);jq(this,t,e);let n=this._getIndexedColumns(t),o=this._getVisibleColumnsFromIndexed(n);return!this.hasVisibleDataColumns()&&this._columns.length&&o[o.length-1].push({command:"empty"}),o}_getIndexedColumns(e){let t=this.option("rtlEnabled"),n=this.getRowCount(),o=Xq(e.length),r=this.getBandColumnsCache(),s=[],a=[];for(let l=0;l<n;l+=1)a[l]=[{}],s[l]=[{},{},{}];return e.forEach(l=>{let{visibleIndex:d}=l,c,u=jh(l.index,r.columnParentByIndex),h=this._isColumnVisible(l),f=this._isColumnInGroupPanel(l);if(h&&!f){let g=u.length;if(d<0)d=-d,c=a[g];else{var p,m;if(l.fixed=((p=u[0])===null||p===void 0?void 0:p.fixed)??l.fixed,l.fixedPosition=((m=u[0])===null||m===void 0?void 0:m.fixedPosition)??l.fixedPosition,l.fixed){let b=!!l.command&&!hO(this,l),x=l.fixedPosition==="right";t&&!b&&(x=!x),c=x?s[g][2]:s[g][0]}else c=s[g][1]}if(u.length){d=aL(d,o);for(let b=u.length-1;b>=0;b-=1)d=aL(u[b].visibleIndex,o)+d}c[d]=c[d]||[],c[d].push(l)}}),{positiveIndexedColumns:s,negativeIndexedColumns:a}}_getVisibleColumnsFromIndexed(e){let{positiveIndexedColumns:t,negativeIndexedColumns:n}=e,o=[],r=this.getRowCount(),s=lL(this,this.getExpandColumns(),this._columns),a=0,l=0;for(let d=0;d<r;d+=1){o.push([]),fb(n[d],(h,f)=>{o[d].unshift.apply(o[d],f)});let c=o[d].length;t[d].forEach(h=>{fb(h,(f,p)=>{o[d].push.apply(o[d],p)})}),l<=d&&(l+=sL.call(this,o[d],s,Lq,c)),a<=d&&(a+=sL.call(this,o[d],s,Dd,c))}return o.push(oL(o)),o}getInvisibleColumns(e,t){let n=this,o=[],r;return e=e||n._columns,ee(e,(s,a)=>{if(a.ownerBand===t){if(a.isBand){a.visible?r=n.getInvisibleColumns(n.getChildrenByBandColumn(a.index),a.index):r=n.getChildrenByBandColumn(a.index),r.length&&(o.push(a),o=o.concat(r));return}a.visible||o.push(a)}}),o}getChooserColumns(e){let n=(e?this.getColumns():this.getInvisibleColumns()).filter(r=>r.showInColumnChooser),o=this.option("columnChooser.sortOrder");return Qq(n,o)}allowMoveColumn(e,t,n,o){let r=cO(this,e,n),s=this._columns[r];return s&&(s.allowReordering||s.allowGrouping||s.allowHiding)?n===o?n===Hh?!1:(e=Ke(e)?e.columnIndex:e,t=Ke(t)?t.columnIndex:t,e!==t&&e+1!==t):n===Vh&&o!==Hh||o===Vh?s&&s.allowGrouping:n===Hh||o===Hh?s&&s.allowHiding:!0:!1}moveColumn(e,t,n,o){let r=this,s={},a,l=cO(r,e,n),d=cO(r,t,o),c;if(l>=0){let u=r._columns[l];if(t=Ke(t)?t.columnIndex:t,c=d>=0?r._columns[d].groupIndex:-1,U(u.groupIndex)&&n===Vh&&(c>u.groupIndex&&c--,o!==Vh?s.groupIndex=void 0:(a=u.groupIndex,delete u.groupIndex,tL(r))),o===Vh)s.groupIndex=Gq(r,u,c),u.groupIndex=a;else if(t>=0){let f=r._columns[d];!f||u.ownerBand!==f.ownerBand?s.visibleIndex=Y2:dL(r,u)^dL(r,f)?s.visibleIndex=Y2:s.visibleIndex=f.visibleIndex}let h=o!==Hh;u.visible!==h&&(s.visible=h),r.columnOption(u.index,s)}}changeSortOrder(e,t){let n=this,o={},r=n.option("sorting"),s=r&&r.mode,a=s==="single"||!t,l=s==="single"||s==="multiple",d=n._columns[e];l&&d&&d.allowSorting&&(a&&!U(d.groupIndex)&&ee(n._columns,function(c){c!==e&&this.sortOrder&&(U(this.groupIndex)||delete this.sortOrder,delete this.sortIndex)}),Nv(t)?d.sortOrder!==t&&(o.sortOrder=t):t==="none"?d.sortOrder&&(o.sortIndex=void 0,o.sortOrder=void 0):function(c){if(t==="ctrl"){if(!("sortOrder"in c&&"sortIndex"in c))return!1;o.sortOrder=void 0,o.sortIndex=void 0}else U(c.groupIndex)||U(c.sortIndex)?o.sortOrder=c.sortOrder==="desc"?"asc":"desc":o.sortOrder="asc";return!0}(d)),n.columnOption(d.index,o)}getSortDataSourceParameters(e){let t=[],n=[];return ee(this._columns,function(){(this.dataField||this.selector||this.calculateCellValue)&&U(this.sortIndex)&&!U(this.groupIndex)&&(t[this.sortIndex]=this)}),ee(t,function(){let o=this&&this.sortOrder;if(Nv(o)){let r={selector:this.calculateSortValue||this.displayField||this.calculateDisplayValue||e&&this.selector||this.dataField||this.calculateCellValue,desc:this.sortOrder==="desc"};this.sortingMethod&&(r.compare=this.sortingMethod.bind(this)),n.push(r)}}),n.length>0?n:null}getGroupDataSourceParameters(e){let t=[];return ee(this.getGroupColumns(),function(){let n=this.calculateGroupValue||this.displayField||this.calculateDisplayValue||e&&this.selector||this.dataField||this.calculateCellValue;if(n){let o={selector:n,desc:this.sortOrder==="desc",isExpanded:!!this.autoExpandGroup};this.sortingMethod&&(o.compare=this.sortingMethod.bind(this)),t.push(o)}}),t.length>0?t:null}refresh(e){let t=[];return ee(this._columns,function(){let{lookup:n}=this;if(n&&!this.calculateDisplayValue){if(e&&n.valueMap)return;n.update&&t.push(n.update())}}),Be.apply(I,t).done(Vv.bind(null,this))}_updateColumnOptions(e,t){var n,o;let r=this._reinitAfterLookupChanges&&((n=this._previousColumns)===null||n===void 0?void 0:n[t]);e.selector=e.selector??(l=>e.calculateCellValue(l)),e.selector.columnIndex=t,e.selector.originalCallback=r?((o=this._previousColumns[t].selector)===null||o===void 0?void 0:o.originalCallback)??e.selector:e.selector,ee(["calculateSortValue","calculateGroupValue","calculateDisplayValue"],(l,d)=>{let c=e[d];if(Ie(c))if(c.originalCallback)e[d].context.column=e;else{let u={column:e};e[d]=function(h){return c.call(u.column,h)},e[d].originalCallback=c,e[d].columnIndex=t,e[d].context=u}}),We(e.calculateDisplayValue)&&(e.displayField=e.calculateDisplayValue,e.calculateDisplayValue=Qt(e.displayField)),e.calculateDisplayValue&&(e.displayValueMap=e.displayValueMap||{}),J2(e,e.dataType);let{lookup:s}=e;s&&J2(s,s.dataType);let a=s?s.dataType:e.dataType;a&&(e.alignment=e.alignment||$q(a,this.option("rtlEnabled")),e.format=e.format||De.getFormatByDataType(a),e.customizeText=e.customizeText||eL(a),e.defaultFilterOperations=e.defaultFilterOperations||!s&&Bq[a]||[],U(e.filterOperations)||X2(e),e.defaultFilterOperation=e.filterOperations&&e.filterOperations[0]||"=",e.showEditorAlways=U(e.showEditorAlways)?e.showEditorAlways:a==="boolean"&&!e.cellTemplate&&!e.lookup)}updateColumnDataTypes(e){let t=this,n=t.option("dateSerializationFormat"),o=t._getFirstItems(e),r=!1;return ee(t._columns,(s,a)=>{let l,d,c,u,h,{lookup:f}=a;if(De.isDateType(a.dataType)&&a.serializationFormat===void 0&&(a.serializationFormat=n),f&&De.isDateType(f.dataType)&&a.serializationFormat===void 0&&(f.serializationFormat=n),a.calculateCellValue&&o.length){if(!a.dataType||f&&!f.dataType){for(l=0;l<o.length;l++)d=a.calculateCellValue(o[l]),a.dataType||(h=dO(d),c=c||h,c&&h&&c!==h&&(c="string")),f&&!f.dataType&&(h=dO(De.getDisplayValue(a,d,o[l])),u=u||h,u&&h&&u!==h&&(u="string"));(c||u)&&(c&&(a.dataType=c),f&&u&&(f.dataType=u),r=!0)}if(a.serializationFormat===void 0||f&&f.serializationFormat===void 0)for(l=0;l<o.length;l++)d=a.calculateCellValue(o[l],!0),a.serializationFormat===void 0&&(a.serializationFormat=Q2(a.dataType,d)),f&&f.serializationFormat===void 0&&(f.serializationFormat=Q2(f.dataType,f.calculateCellValue(d,!0)))}t._updateColumnOptions(a,s)}),r}_customizeColumns(e){let t=this,n=t.option("customizeColumns");n&&(e.some(r=>Ke(r.ownerBand))&&$h(t),n(e),hf(t,zh(t,e)))}updateColumns(e,t,n){if(t||this.updateSortingGrouping(e),!e||e.isLoaded()){let o=e?e.sort()||[]:this.getSortDataSourceParameters(),r=e?e.group()||[]:this.getGroupDataSourceParameters(),s=e?.lastLoadOptions().filter;n||this._customizeColumns(this._columns),$h(this);let a=this._columns;return Be(this.refresh(!0)).always(()=>{this._columns===a&&(this._updateChanges(e,{sorting:o,grouping:r,filtering:s}),Ug(this))})}}_updateChanges(e,t){e&&(this.updateColumnDataTypes(e),this._dataSourceApplied=!0),De.equalSortParameters(t.sorting,this.getSortDataSourceParameters())||Il(this,"sorting"),De.equalSortParameters(t.grouping,this.getGroupDataSourceParameters())||Il(this,"grouping"),this._dataController&&!De.equalFilterParameters(t.filtering,this._dataController.getCombinedFilter())&&Il(this,"filtering"),Il(this,"columns")}updateSortingGrouping(e,t){let n=this,o,r,s=function(a,l,d){ee(a,(c,u)=>{if(delete u[d],l)for(let h=0;h<l.length;h++){let{selector:f}=l[h],{isExpanded:p}=l[h];if(f===u.dataField||f===u.name||f===u.displayField||f===u.selector||f===u.calculateCellValue||f===u.calculateGroupValue||f===u.calculateDisplayValue){t?u.sortOrder="sortOrder"in u?u.sortOrder:l[h].desc?"desc":"asc":u.sortOrder=u.sortOrder||(l[h].desc?"desc":"asc"),p!==void 0&&(u.autoExpandGroup=p),u[d]=h;break}}})};if(e){o=De.normalizeSortingInfo(e.sort());let a=De.normalizeSortingInfo(e.group()),l=n.getGroupDataSourceParameters(),d=n.getSortDataSourceParameters(),c=!De.equalSortParameters(a,l,!0),u=!c&&!De.equalSortParameters(a,l);n._columns.length||(ee(a,(h,f)=>{n._columns.push(f.selector)}),ee(o,(h,f)=>{Ie(f.selector)||n._columns.push(f.selector)}),hf(n,zh(n,n._columns))),(t||!l&&!n._hasUserState)&&(c||u)&&(s(n._columns,a,"groupIndex"),t&&(c&&Il(n,"grouping"),u&&Il(n,"groupExpanding"),r=!0)),(t||!d&&!n._hasUserState)&&!De.equalSortParameters(o,d)&&(s(n._columns,o,"sortIndex"),t&&(Il(n,"sorting"),r=!0)),r&&Ug(n)}}updateFilter(e,t,n,o){let r=this;if(!Array.isArray(e))return e;if(e=q([],e),n=e.columnIndex!==void 0?e.columnIndex:n,o=e.filterValue!==void 0?e.filterValue:o,We(e[0])&&e[0]!=="!"){let s=r.columnOption(e[0]);t?ui().forceIsoDateParsing&&s&&s.serializeValue&&e.length>1&&(e[e.length-1]=s.serializeValue(e[e.length-1],"filter")):s&&s.selector&&(e[0]=s.selector,e[0].columnIndex=s.index)}else Ie(e[0])&&(e[0].columnIndex=n,e[0].filterValue=o,e[0].selectedFilterOperation=e.selectedFilterOperation);for(let s=0;s<e.length;s++)e[s]=r.updateFilter(e[s],t,n,o);return e}columnCount(){return this._columns?this._columns.length:0}columnOption(e,t,n,o){let r=this,s=r._columns.concat(r._commandColumns),a=uL(s,e);if(a){if(arguments.length===1)return q({},a);if(We(t)){if(arguments.length===2)return uO(r,a,t);uO(r,a,t,n,o)}else Ke(t)&&ee(t,(l,d)=>{uO(r,a,l,d,o)});Ug(r)}}clearSorting(){let e=this,t=this.columnCount();e.beginUpdate();for(let n=0;n<t;n++)e.columnOption(n,"sortOrder",void 0),delete uL(e._columns,n).sortOrder;e.endUpdate()}clearGrouping(){let e=this,t=this.columnCount();e.beginUpdate();for(let n=0;n<t;n++)e.columnOption(n,"groupIndex",void 0);e.endUpdate()}getVisibleIndex(e,t){let n=this.getVisibleColumns(t);for(let o=n.length-1;o>=0;o--)if(n[o].index===e)return o;return-1}getVisibleIndexByColumn(e,t){let n=this.getVisibleColumns(t),o=n.filter(r=>r.index===e.index&&r.command===e.command)[0];return n.indexOf(o)}getVisibleColumnIndex(e,t){let n=this.columnOption(e,"index");return this.getVisibleIndex(n,t)}addColumn(e){let t=this,n=Bv(t,e),o=t._columns.length;t._columns.push(n),n.isBand&&(t._columns=zh(t,t._columns),n=t._columns[o]),n.added=e,$h(t,n),t.updateColumns(t._dataSource),t._checkColumns()}deleteColumn(e){let t=this,n=t.columnOption(e);if(n&&n.index>=0){if(Zq(t._columns),t._columns.splice(n.index,1),n.isBand){let o=t.getChildrenByBandColumn(n.index).map(r=>r.index);t._columns=t._columns.filter(r=>o.indexOf(r.index)<0)}$h(t),t.updateColumns(t._dataSource)}}addCommandColumn(e){let t=this._commandColumns.filter(n=>n.command===e.command)[0];t||(t=e,this._commandColumns.push(t))}getUserState(){let e=this._columns,t=[],n;function o(r,s){e[n][s]!==void 0&&(t[n][s]=e[n][s])}for(n=0;n<e.length;n++)t[n]={},ee(Wg,o);return t}setName(e){e.name=e.name||e.dataField||e.type}setUserState(e){let t=this,n=t._dataSource,o=t.option("stateStoring.ignoreColumnOptionNames");if(e?.forEach(this.setName),!o){o=[];let r=t.getCommonSettings();t.option("columnChooser.enabled")||o.push("visible"),t.option("sorting.mode")==="none"&&o.push("sortIndex","sortOrder"),r.allowGrouping||o.push("groupIndex"),r.allowFixing||o.push("fixed","fixedPosition"),r.allowResizing||o.push("width","visibleWidth");let s=!t.option("filterPanel.visible");!t.option("filterRow.visible")&&s&&o.push("filterValue","selectedFilterOperation"),!t.option("headerFilter.visible")&&s&&o.push("filterValues","filterType")}t._columnsUserState=e,t._ignoreColumnOptionNames=o,t._hasUserState=!!e,Il(t,"filtering"),t.init(!0),n&&(n.sort(t.getSortDataSourceParameters()),n.group(t.getGroupDataSourceParameters()))}_checkColumns(){let e={},t=!1,n=[];this._columns.forEach(o=>{var r;let{name:s}=o,a=(r=o.columns)===null||r===void 0?void 0:r.length,l=o.allowEditing&&(o.dataField||o.setCellValue)&&!a;s?(e[s]&&n.push(`"${s}"`),e[s]=!0):l&&(t=!0)}),n.length&&bt.log("E1059",n.join(", ")),t&&bt.log("E1060")}_createCalculatedColumnOptions(e,t){let n={},{dataField:o}=e;if((Array.isArray(e.columns)&&e.columns.length||e.isBand)&&(n.isBand=!0,o=null),o){if(We(o)){let r=Qt(o);n={caption:Ea(o),calculateCellValue(s,a){let l=r(s);return this.deserializeValue&&!a?this.deserializeValue(l):l},setCellValue:qq,parseValue(s){let a=this,l,d;return a.dataType==="number"?We(s)&&a.format?l=Jq(s.trim(),a.format):U(s)&&ai(s)&&(l=Number(s)):a.dataType==="boolean"?s===a.trueText?l=!0:s===a.falseText&&(l=!1):De.isDateType(a.dataType)?(d=It.parse(s,a.format),d&&(l=d)):l=s,l}}}n.allowFiltering=!0}else n.allowFiltering=!!e.calculateFilterExpression;return n.calculateFilterExpression=function(){return Ba.defaultCalculateFilterExpression.apply(this,arguments)},n.defaultFilterOperation="=",n.createFilterExpression=function(r,s){let a;return this.calculateFilterExpression&&(a=this.calculateFilterExpression.apply(this,arguments)),Ie(a)&&(a=[a,"=",!0]),a&&(a.columnIndex=this.index,a.filterValue=r,a.selectedFilterOperation=s),a},(!o||!We(o))&&q(!0,n,{allowSorting:!1,allowGrouping:!1,calculateCellValue:()=>null}),t&&(n.allowFixing=!1),e.dataType&&(n.userDataType=e.dataType),e.selectedFilterOperation&&!("defaultSelectedFilterOperation"in n)&&(n.defaultSelectedFilterOperation=e.selectedFilterOperation),e.lookup&&(n.lookup={calculateCellValue(r,s){return this.valueExpr&&(r=this.valueMap&&this.valueMap[r]),this.deserializeValue&&!s?this.deserializeValue(r):r},updateValueMap(){if(this.valueMap={},this.items){let r=Qt(this.valueExpr),s=Qt(this.displayExpr);for(let a=0;a<this.items.length;a++){let l=this.items[a],d=s(l);this.valueMap[r(l)]=d,this.dataType=this.dataType||dO(d)}}},update(){let r=this,{dataSource:s}=r;if(s)if(Ie(s)&&!bo.isWrapped(s)&&(s=s({})),ht(s)||s instanceof Mc||Array.isArray(s)){if(r.valueExpr){let a=qr(s);return a.paginate=!1,s=new Lo(a),s.load().done(l=>{r.items=l,r.updateValueMap&&r.updateValueMap()})}}else bt.log("E1016");else r.updateValueMap&&r.updateValueMap()}}),n.resizedCallbacks=Gt(),e.resized&&n.resizedCallbacks.add(e.resized.bind(e)),ee(n,r=>{if(Ie(n[r])&&r.indexOf("default")!==0){let s=`default${r.charAt(0).toUpperCase()}${r.substr(1)}`;n[s]=n[r]}}),n}getRowCount(){return this._rowCount=this._rowCount||Yq(this),this._rowCount}getRowIndex(e,t){let n=this._columns[e],o=this.getBandColumnsCache();return n&&(t||n.visible&&!(n.command||U(n.groupIndex)))?jh(e,o.columnParentByIndex).length:0}getChildrenByBandColumn(e,t){let n=this.getBandColumnsCache(),o=Z2(e,n.columnChildrenByIndex,!t);return t?o.filter(r=>r.visible&&!r.command).sort((r,s)=>r.visibleIndex-s.visibleIndex):o}isParentBandColumn(e,t){let n=!1,o=this._columns[e],r=this.getBandColumnsCache(),s=o&&jh(e,r.columnParentByIndex);return s&&ee(s,(a,l)=>{if(l.index===t)return n=!0,!1}),n}isParentColumnVisible(e){let t=!0,n=this.getBandColumnsCache(),o=e>=0&&jh(e,n.columnParentByIndex);return o&&ee(o,(r,s)=>(t=t&&s.visible,t)),t}getColumnId(e){return e.command&&e.type===Dd?hO(this,e)?`type:${e.type}`:`command:${e.command}`:e.index}getCustomizeTextByDataType(e){return eL(e)}getHeaderContentAlignment(e){return this.option("rtlEnabled")?e==="left"?"right":"left":e}},pL={defaultOptions:()=>({commonColumnSettings:{allowFiltering:!0,allowHiding:!0,allowSorting:!0,allowEditing:!0,encodeHtml:!0,trueText:de.format("dxDataGrid-trueText"),falseText:de.format("dxDataGrid-falseText")},allowColumnReordering:!1,allowColumnResizing:!1,columnResizingMode:"nextColumn",columnMinWidth:void 0,columnWidth:void 0,adaptColumnWidthByRatio:!0,columns:void 0,regenerateColumnsByVisibleItems:!1,customizeColumns:null,dateSerializationFormat:void 0}),controllers:{columns:hL}};qe.registerModule("columns",{defaultOptions:()=>q(!0,{},pL.defaultOptions(),{commonColumnSettings:{allowExporting:!0}}),controllers:pL.controllers});var eY="_dataSourceChangedHandler";var tY="_getSpecificDataSourceOption",iY="_normalizeDataSource",nY=i=>class extends i{postCtor(){this.on("disposing",()=>{this._disposeDataSource()})}_refreshDataSource(){this._initDataSource(),this._loadDataSource()}_initDataSource(){let e=tY in this?this[tY]():this.option("dataSource"),t,n;this._disposeDataSource(),e&&(e instanceof Lo?(this._isSharedDataSource=!0,this._dataSource=e):(t="_dataSourceOptions"in this?this._dataSourceOptions():{},n=this._dataSourceType?this._dataSourceType():Lo,e=qr(e,{fromUrlLoadMode:"_dataSourceFromUrlLoadMode"in this&&this._dataSourceFromUrlLoadMode()}),this._dataSource=new n(q(!0,{},t,e))),iY in this&&(this._dataSource=this[iY](this._dataSource)),this._addDataSourceHandlers(),this._initDataController())}_initDataController(){var e;let t=(e=this.option)===null||e===void 0?void 0:e.call(this,"_dataController"),n=this._dataSource;t?this._dataController=t:this._dataController=new KS(n)}_addDataSourceHandlers(){eY in this&&this._addDataSourceChangeHandler(),"_dataSourceLoadErrorHandler"in this&&this._addDataSourceLoadErrorHandler(),"_dataSourceLoadingChangedHandler"in this&&this._addDataSourceLoadingChangedHandler(),this._addReadyWatcher()}_addReadyWatcher(){this.readyWatcher=(function(e){this._ready&&this._ready(!e)}).bind(this),this._dataSource.on("loadingChanged",this.readyWatcher)}_addDataSourceChangeHandler(){let e=this._dataSource;this._proxiedDataSourceChangedHandler=(function(t){this[eY](e.items(),t)}).bind(this),e.on("changed",this._proxiedDataSourceChangedHandler)}_addDataSourceLoadErrorHandler(){this._proxiedDataSourceLoadErrorHandler=this._dataSourceLoadErrorHandler.bind(this),this._dataSource.on("loadError",this._proxiedDataSourceLoadErrorHandler)}_addDataSourceLoadingChangedHandler(){this._proxiedDataSourceLoadingChangedHandler=this._dataSourceLoadingChangedHandler.bind(this),this._dataSource.on("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)}_loadDataSource(){let e=this._dataSource;e&&(e.isLoaded()?this._proxiedDataSourceChangedHandler&&this._proxiedDataSourceChangedHandler():e.load())}_loadSingle(e,t){return e=e==="this"?this._dataSource.key()||"this":e,this._dataSource.loadSingle(e,t)}_isLastPage(){return!this._dataSource||this._dataSource.isLastPage()||!this._dataSource._pageSize}_isDataSourceLoading(){return this._dataSource&&this._dataSource.isLoading()}_disposeDataSource(){this._dataSource&&(this._isSharedDataSource?(delete this._isSharedDataSource,this._proxiedDataSourceChangedHandler&&this._dataSource.off("changed",this._proxiedDataSourceChangedHandler),this._proxiedDataSourceLoadErrorHandler&&this._dataSource.off("loadError",this._proxiedDataSourceLoadErrorHandler),this._proxiedDataSourceLoadingChangedHandler&&this._dataSource.off("loadingChanged",this._proxiedDataSourceLoadingChangedHandler),this._dataSource._eventsStrategy&&this._dataSource._eventsStrategy.off("loadingChanged",this.readyWatcher)):this._dataSource.dispose(),delete this._dataSource,delete this._proxiedDataSourceChangedHandler,delete this._proxiedDataSourceLoadErrorHandler,delete this._proxiedDataSourceLoadingChangedHandler)}getDataSource(){return this._dataSource||null}};var oY=function(i,e,t){let n=i._dataSource;if(n){if(t!==void 0){if(i._getPagingOptionValue(e)!==t){e==="pageSize"&&n.pageIndex(0),n[e](t),i._skipProcessingPagingChange=!0,i.option(`paging.${e}`,t),i._skipProcessingPagingChange=!1;let r=n.pageIndex();return i._isPaging=e==="pageIndex",n[e==="pageIndex"?"load":"reload"]().done(()=>{i._isPaging=!1,i.pageChanged.fire(r)})}return le().resolve().promise()}return n[e]()}return 0},Hv=class extends nY(li.Controller){init(){this._items=[],this._cachedProcessedItems=null,this._columnsController=this.getController("columns"),this._adaptiveColumnsController=this.getController("adaptiveColumns"),this._editingController=this.getController("editing"),this._editorFactoryController=this.getController("editorFactory"),this._errorHandlingController=this.getController("errorHandling"),this._filterSyncController=this.getController("filterSync"),this._applyFilterController=this.getController("applyFilter"),this._keyboardNavigationController=this.getController("keyboardNavigation"),this._focusController=this.getController("focus"),this._headerFilterController=this.getController("headerFilter"),this._selectionController=this.getController("selection"),this._stateStoringController=this.getController("stateStoring"),this._validatingController=this.getController("validating"),this._isPaging=!1,this._currentOperationTypes=null,this._dataChangedHandler=e=>{this._currentOperationTypes=this._dataSource.operationTypes(),this._handleDataChanged(e),this._currentOperationTypes=null},this._columnsChangedHandler=this._handleColumnsChanged.bind(this),this._loadingChangedHandler=this._handleLoadingChanged.bind(this),this._loadErrorHandler=this._handleLoadError.bind(this),this._customizeStoreLoadOptionsHandler=this._handleCustomizeStoreLoadOptions.bind(this),this._changingHandler=this._handleChanging.bind(this),this._dataPushedHandler=this._handleDataPushed.bind(this),this._columnsController.columnsChanged.add(this._columnsChangedHandler),this._isLoading=!1,this._isCustomLoading=!1,this._repaintChangesOnly=void 0,this._changes=[],this.createAction("onDataErrorOccurred"),this.dataErrorOccurred.add(e=>this.executeAction("onDataErrorOccurred",{error:e})),this._refreshDataSource(),this.postCtor()}_getPagingOptionValue(e){return this._dataSource[e]()}callbackNames(){return["changed","loadingChanged","dataErrorOccurred","pageChanged","dataSourceChanged","pushed"]}callbackFlags(e){if(e==="dataErrorOccurred")return{stopOnFalse:!0}}publicMethods(){return["_disposeDataSource","beginCustomLoading","byKey","clearFilter","endCustomLoading","filter","getCombinedFilter","getDataByKeys","getDataSource","getKeyByRowIndex","getRowIndexByKey","getVisibleRows","keyOf","pageCount","pageIndex","pageSize","refresh","repaintRows","totalCount"]}reset(){this._columnsController.reset(),this._items=[],this._refreshDataSource()}_handleDataSourceChange(e){if(e.value===e.previousValue||this.option("columns")&&Array.isArray(e.value)&&Array.isArray(e.previousValue)){if(e.value!==e.previousValue){let n=this.store();n&&(n._array=e.value)}return this.needToRefreshOnDataSourceChange(e)&&this.refresh(this.option("repaintChangesOnly")),!0}return!1}needToRefreshOnDataSourceChange(e){return!0}optionChanged(e){let t=this,n,o;function r(){e.handled=!0}if(e.name==="dataSource"&&e.name===e.fullName&&this._handleDataSourceChange(e)){r();return}switch(e.name){case"cacheEnabled":case"repaintChangesOnly":case"highlightChanges":case"loadingTimeout":r();break;case"remoteOperations":case"keyExpr":case"dataSource":case"scrolling":r(),t.reset();break;case"paging":if(n=t.dataSource(),n&&(o=t._setPagingOptions(n),o)){let s=n.pageIndex();this._isPaging=o.isPageIndexChanged,n.load().done(()=>{this._isPaging=!1,t.pageChanged.fire(s)})}r();break;case"rtlEnabled":t.reset();break;case"columns":n=t.dataSource(),n&&n.isLoading()&&e.name===e.fullName&&(this._useSortingGroupingFromColumns=!0,n.load());break;default:super.optionChanged(e)}}isReady(){return!this._isLoading}getDataSource(){return this._dataSource&&this._dataSource._dataSource}getCombinedFilter(e){return this.combinedFilter(void 0,e)}combinedFilter(e,t){if(!this._dataSource)return e;let n=e??this._dataSource.filter();if(this._columnsController.isDataSourceApplied()||this._columnsController.isAllDataTypesDefined()){let s=this._calculateAdditionalFilter();n=s?De.combineFilters([s,n]):n}let r=this._dataSource.remoteOperations().filtering||t;return n=this._columnsController.updateFilter(n,r),n}waitReady(){return this._updateLockCount?(this._readyDeferred=new le,this._readyDeferred):Be()}_endUpdateCore(){let e=this._changes;if(e.length){this._changes=[];let t=e.every(n=>n.repaintChangesOnly);this.updateItems(e.length===1?e[0]:{repaintChangesOnly:t})}this._readyDeferred&&(this._readyDeferred.resolve(),this._readyDeferred=null)}_handleCustomizeStoreLoadOptions(e){var t;let n=this._columnsController,o=this._dataSource,{storeLoadOptions:r}=e;e.isCustomLoading&&!r.isLoadingAll||(r.filter=this.combinedFilter(r.filter),((t=r.filter)===null||t===void 0?void 0:t.length)===1&&r.filter[0]==="!"&&(e.data=[],e.extra=e.extra||{},e.extra.totalCount=0),n.isDataSourceApplied()||n.updateColumnDataTypes(o),this._columnsUpdating=!0,n.updateSortingGrouping(o,!this._useSortingGroupingFromColumns),this._columnsUpdating=!1,r.sort=n.getSortDataSourceParameters(),r.group=n.getGroupDataSourceParameters(),o.sort(r.sort),o.group(r.group),r.sort=n.getSortDataSourceParameters(!o.remoteOperations().sorting),e.group=n.getGroupDataSourceParameters(!o.remoteOperations().grouping))}_handleColumnsChanged(e){let t=this,{changeTypes:n}=e,{optionNames:o}=e,r,s,a,l=function(d){var c;t._columnsController.columnsChanged.remove(l),t.updateItems({repaintChangesOnly:!1,virtualColumnsScrolling:d==null||(c=d.changeTypes)===null||c===void 0?void 0:c.virtualColumnsScrolling})};if(n.sorting||n.grouping)t._dataSource&&!t._columnsUpdating&&(t._dataSource.group(t._columnsController.getGroupDataSourceParameters()),t._dataSource.sort(t._columnsController.getSortDataSourceParameters()),t.reload());else if(n.columns&&(s=t._columnsController.columnOption(e.columnIndex,"filterValues"),(o.filterValues||o.filterType&&Array.isArray(s)||o.filterValue||o.selectedFilterOperation||o.allowFiltering)&&(r=t._columnsController.columnOption(e.columnIndex,"filterValue"),(Array.isArray(s)||e.columnIndex===void 0||U(r)||!o.selectedFilterOperation||o.filterValue)&&(t._applyFilter(),a=!0)),!t._needApplyFilter&&!De.checkChanges(o,["width","visibleWidth","filterValue","bufferedFilterValue","selectedFilterOperation","filterValues","filterType"])&&t._columnsController.columnsChanged.add(l),U(o.visible))){let d=t._columnsController.columnOption(e.columnIndex);d&&(U(d.filterValue)||U(d.filterValues))&&(t._applyFilter(),a=!0)}!a&&n.filtering&&!this._needApplyFilter&&t.reload()}_handleDataChanged(e){let t=this,n=t._dataSource,o=t._columnsController,r=!1;this._useSortingGroupingFromColumns=!1,n&&!t._isDataSourceApplying&&(t._isDataSourceApplying=!0,Be(t._columnsController.applyDataSource(n)).done(()=>{t._isLoading&&t._handleLoadingChanged(!1),r&&e&&e.isDelayed&&(e.isDelayed=!1),t._isDataSourceApplying=!1;let s=t._needApplyFilter;t._needApplyFilter=!1,s&&!t._isAllDataTypesDefined&&(()=>{let a=t._calculateAdditionalFilter();return a&&a.length})()?(bt.log("W1005",t.component.NAME),t._applyFilter()):t.updateItems(e,!0)}).fail(()=>{t._isDataSourceApplying=!1}),t._isDataSourceApplying&&(r=!0,t._handleLoadingChanged(!0)),t._needApplyFilter=!t._columnsController.isDataSourceApplied(),t._isAllDataTypesDefined=o.isAllDataTypesDefined())}_handleLoadingChanged(e){this._isLoading=e,this._fireLoadingChanged()}_handleLoadError(e){this.dataErrorOccurred.fire(e)}_handleDataPushed(e){this.pushed.fire(e)}fireError(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.dataErrorOccurred.fire(bt.Error.apply(bt,t))}_setPagingOptions(e){let t=this.option("paging.pageIndex"),n=this.option("paging.pageSize"),o=this.option("paging.enabled"),r=this.option("scrolling.mode"),s=r==="infinite",l=o||r==="virtual"||s,d=!1,c=!1,u=!1;return e.requireTotalCount(!s),o!==void 0&&e.paginate()!==l&&(e.paginate(l),d=!0),n!==void 0&&e.pageSize()!==n&&(e.pageSize(n),c=!0),t!==void 0&&e.pageIndex()!==t&&(e.pageIndex(t),u=!0),d||c||u?{isPaginateChanged:d,isPageSizeChanged:c,isPageIndexChanged:u}:!1}_getSpecificDataSourceOption(){let e=this.option("dataSource");return Array.isArray(e)?{store:{type:"array",data:e,key:this.option("keyExpr")}}:e}_initDataSource(){let e=this,t=this._dataSource;super._initDataSource();let n=e._dataSource;if(e._useSortingGroupingFromColumns=!0,e._cachedProcessedItems=null,n){let o=e._setPagingOptions(n);this._isPaging=o?.isPageIndexChanged,e.setDataSource(n)}else t&&e.updateItems()}_loadDataSource(){let e=this,t=e._dataSource,n=new le;return Be(this._columnsController.refresh(!0)).always(()=>{t?t.load().done(function(){e._isPaging=!1,n.resolve.apply(n,arguments)}).fail(n.reject):n.resolve()}),n.promise()}_beforeProcessItems(e){return e.slice(0)}getRowIndexDelta(){return 0}getDataIndex(e){let t=this._items,n=e.changeType==="append"&&t.length>0?t[t.length-1]:null;return U(n?.dataIndex)?n.dataIndex+1:0}_processItems(e,t){let n=this,o=n.getRowIndexDelta(),{changeType:r}=t,s=n._columnsController.getVisibleColumns(null,r==="loadingAll"),a=this.getDataIndex(t),l={visibleColumns:s,dataIndex:a},d=[];return ee(e,(c,u)=>{U(u)&&(l.rowIndex=c-o,u=n._processItem(u,l),d.push(u))}),d}_processItem(e,t){return e=this._generateDataItem(e,t),e=this._processDataItem(e,t),e.dataIndex=t.dataIndex++,e}_generateDataItem(e,t){return{rowType:"data",data:e,key:this.keyOf(e)}}_processDataItem(e,t){return e.values=this.generateDataValues(e.data,t.visibleColumns),e}generateDataValues(e,t,n){let o=[],r;for(let s=0;s<t.length;s++){let a=t[s];r=n?void 0:null,a.command||(a.calculateCellValue?r=a.calculateCellValue(e):a.dataField&&(r=e[a.dataField])),o.push(r)}return o}_applyChange(e){let t=this;e.changeType==="update"?t._applyChangeUpdate(e):t.items().length&&e.repaintChangesOnly&&e.changeType==="refresh"?t._applyChangesOnly(e):e.changeType==="refresh"&&t._applyChangeFull(e)}_applyChangeFull(e){this._items=e.items.slice(0)}_getRowIndices(e){let t=e.rowIndices.slice(0),n=this.getRowIndexDelta();t.sort((o,r)=>o-r);for(let o=0;o<t.length;o++){let r=t[o];e.allowInvisibleRowIndices&&(r+=n),r<0&&(t.splice(o,1),o--)}return t}_applyChangeUpdate(e){let t=this,{items:n}=e,o=t._getRowIndices(e),r=t.getRowIndexDelta(),s=t.option("repaintChangesOnly"),a=-1,l=0,d;e.items=[],e.rowIndices=[],e.columnIndices=[],e.changeTypes=[];let c=function(u,h,f){let p=u&&h&&hi(u.key,h.key);return p&&f&&(p=u.rowType===h.rowType&&(h.rowType!=="detail"||u.isEditing===h.isEditing)),p};ee(o,(u,h)=>{let f;if(h+=l+r,a===h)return;a=h;let p=t._items[h],m=t._items[h+1],g=n[h],b=n[h+1],x=c(p,m)||c(g,b);if(g&&(g.rowIndex=h,e.items.push(g)),p&&g&&c(p,g,x))d="update",t._items[h]=g,p.visible!==g.visible?e.items.splice(-1,1,{visible:g.visible}):s&&!e.isFullUpdate&&(f=t._partialUpdateRow(p,g,h-r));else if(g&&!p||b&&c(p,b,x))d="insert",t._items.splice(h,0,g),l++;else if(p&&!g||m&&c(g,m,x))d="remove",t._items.splice(h,1),l--,a=-1;else if(g)d="update",t._items[h]=g;else return;e.rowIndices.push(h-r),e.changeTypes.push(d),e.columnIndices.push(f)})}_isCellChanged(e,t,n,o,r){if(JSON.stringify(e.values[o])!==JSON.stringify(t.values[o]))return!0;function s(a,l){return a.modifiedValues?a.modifiedValues[l]!==void 0:!1}return s(e,o)!==s(t,o)}_getChangedColumnIndices(e,t,n,o){let r;if(e.rowType===t.rowType){if(t.rowType!=="group"&&t.rowType!=="groupFooter"&&(r=[],t.rowType!=="detail"))for(let s=0;s<e.values.length;s++)this._isCellChanged(e,t,n,s,o)&&r.push(s);t.rowType==="group"&&e.cells&&t.isExpanded===e.isExpanded&&t.data.isContinuation===e.data.isContinuation&&t.data.isContinuationOnNextPage===e.data.isContinuationOnNextPage&&(r=e.cells.map((a,l)=>{var d;return((d=a.column)===null||d===void 0?void 0:d.type)!=="groupExpand"?l:-1}).filter(a=>a>=0))}return r}_partialUpdateRow(e,t,n,o){var r;let s=this._getChangedColumnIndices(e,t,n,o);return(r=s)!==null&&r!==void 0&&r.length&&this.option("dataRowTemplate")&&(s=void 0),s&&(e.cells&&e.cells.forEach((a,l)=>{!(s.indexOf(l)>=0)&&a&&a.update&&a.update(t)}),t.update=e.update,t.watch=e.watch,t.cells=e.cells,o&&(t.oldValues=e.values),e.update&&e.update(t)),s}_isItemEquals(e,t){if(JSON.stringify(e.values)!==JSON.stringify(t.values)||["modified","isNewRow","removed","isEditing"].some(a=>e[a]!==t[a]))return!1;if(e.rowType==="group"||e.rowType==="groupFooter"){var n,o,r,s;let a=e.isExpanded===t.isExpanded,l=JSON.stringify(e.summaryCells)===JSON.stringify(t.summaryCells),d=((n=e.data)===null||n===void 0?void 0:n.isContinuation)===((o=t.data)===null||o===void 0?void 0:o.isContinuation)&&((r=e.data)===null||r===void 0?void 0:r.isContinuationOnNextPage)===((s=t.data)===null||s===void 0?void 0:s.isContinuationOnNextPage);if(!a||!l||!d)return!1}return!0}_applyChangesOnly(e){let t=[],n=[],o=[],r=[],s={},a=e?.isLiveUpdate??!0;function l(h){if(h)return`${h.rowType},${JSON.stringify(h.key)}`}let d=this._items,c=d.slice();e.items.forEach((h,f)=>{let p=l(h);s[p]=f,h.rowIndex=f});let u=WS(c,e.items,l,(h,f)=>this._isItemEquals(h,f)?(h.cells&&(h.update&&h.update(f),h.cells.forEach(p=>{p&&p.update&&p.update(f,!0)})),!0):!1);if(!u){this._applyChangeFull(e);return}u.forEach(h=>{switch(h.type){case"update":{let{index:f}=h,p=h.data,{oldItem:m}=h,g=this._partialUpdateRow(m,p,f,a);t.push(f),o.push("update"),r.push(p),d[f]=p,n.push(g);break}case"insert":t.push(h.index),o.push("insert"),r.push(h.data),n.push(void 0),d.splice(h.index,0,h.data);break;case"remove":t.push(h.index),o.push("remove"),d.splice(h.index,1),r.push(h.oldItem),n.push(void 0)}}),e.repaintChangesOnly=!0,e.changeType="update",e.rowIndices=t,e.columnIndices=n,e.changeTypes=o,e.items=r,c.length&&(e.isLiveUpdate=!0),this._correctRowIndices(h=>{let f=this._rowIndexOffset||0,p=this.getRowIndexOffset(),m=c[h-f],g=l(m),b=s[g];return b>=0?b+p-h:0})}_correctRowIndices(e){}_afterProcessItems(e,t){return e}_updateItemsCore(e){let t,n=this._dataSource,o=e.changeType||"refresh";if(e.changeType=o,n){let r=this._cachedProcessedItems;e.useProcessedItemsCache&&r?t=r:(t=e.items||n.items(),t=this._beforeProcessItems(t),t=this._processItems(t,e),this._cachedProcessedItems=t),t=this._afterProcessItems(t,e),e.items=t;let s=this._items.length===t.length&&this._items;this._applyChange(e);let a=this.getRowIndexDelta();ee(this._items,(l,d)=>{d.rowIndex=l-a,s&&(d.cells=s[l].cells??[]);let c=t[l];c&&(d.loadIndex=c.loadIndex)}),this._rowIndexOffset=this.getRowIndexOffset()}else this._items=[]}_handleChanging(e){let t=this.getVisibleRows();this.dataSource()&&e.changes.forEach(o=>{if(o.type==="insert"&&o.index>=0){let r=0;for(let s=0;s<o.index;s++){let a=t[s];a&&(a.rowType==="data"||a.rowType==="group")&&r++}o.index=r}})}updateItems(e,t){e=e||{};let n=this;if(n._repaintChangesOnly!==void 0)e.repaintChangesOnly=e.repaintChangesOnly??n._repaintChangesOnly,e.needUpdateDimensions=e.needUpdateDimensions||n._needUpdateDimensions;else if(e.changes)e.repaintChangesOnly=n.option("repaintChangesOnly");else if(t){let o=n.dataSource().operationTypes();e.repaintChangesOnly=o&&!o.grouping&&!o.filtering&&n.option("repaintChangesOnly"),e.isDataChanged=!0,o&&(o.reload||o.paging||o.groupExpanding)&&(e.needUpdateDimensions=!0)}if(n._updateLockCount&&!e.cancel){n._changes.push(e);return}n._updateItemsCore(e),!e.cancel&&n._fireChanged(e)}loadingOperationTypes(){let e=this.dataSource();return e&&e.loadingOperationTypes()||{}}_fireChanged(e){this._currentOperationTypes&&(e.operationTypes=this._currentOperationTypes,this._currentOperationTypes=null),jn(()=>{this.changed.fire(e)})}isLoading(){return this._isLoading||this._isCustomLoading}_fireLoadingChanged(){this.loadingChanged.fire(this.isLoading(),this._loadingText)}_calculateAdditionalFilter(){return null}_applyFilter(){let e=this._dataSource;return e?(e.pageIndex(0),this._isFilterApplying=!0,this.reload().done(()=>{this._isFilterApplying&&this.pageChanged.fire()})):new le().resolve()}resetFilterApplying(){this._isFilterApplying=!1}filter(e){let t=this._dataSource,n=t&&t.filter();if(arguments.length===0)return n;e=arguments.length>1?Array.prototype.slice.call(arguments,0):e,!De.equalFilterParameters(n,e)&&(t&&t.filter(e),this._applyFilter())}clearFilter(e){let t=this,n=t._columnsController,o=function(r){let s=n.columnCount();for(let a=0;a<s;a++)n.columnOption(a,r,void 0)};if(t.component.beginUpdate(),arguments.length>0)switch(e){case"dataSource":t.filter(null);break;case"search":t.searchByText("");break;case"header":o("filterValues");break;case"row":o("filterValue")}else t.filter(null),t.searchByText(""),o("filterValue"),o("bufferedFilterValue"),o("filterValues");t.component.endUpdate()}_fireDataSourceChanged(){let e=this,t=function(){e.changed.remove(t),e.dataSourceChanged.fire()};e.changed.add(t)}_getDataSourceAdapter(){}_createDataSourceAdapterCore(e,t){let o=this._getDataSourceAdapter().create(this.component);return o.init(e,t),o}isLocalStore(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.store())instanceof pd}isCustomStore(e){return e=e||this.store(),e instanceof Gp}_createDataSourceAdapter(e){let t=this.option("remoteOperations"),n=e.store(),o={filtering:!0,sorting:!0,paging:!0,grouping:!0,summary:!0};return Ke(t)&&t.groupPaging&&(t=q({},o,t)),t==="auto"&&(t=this.isLocalStore(n)||this.isCustomStore(n)?{}:{filtering:!0,sorting:!0,paging:!0}),t===!0&&(t=o),this._createDataSourceAdapterCore(e,t)}setDataSource(e){let t=this,n=t._dataSource;!e&&n&&(n.cancelAll(),n.changed.remove(t._dataChangedHandler),n.loadingChanged.remove(t._loadingChangedHandler),n.loadError.remove(t._loadErrorHandler),n.customizeStoreLoadOptions.remove(t._customizeStoreLoadOptionsHandler),n.changing.remove(t._changingHandler),n.pushed.remove(t._dataPushedHandler),n.dispose(t._isSharedDataSource)),e&&(e=t._createDataSourceAdapter(e)),t._dataSource=e,e&&(t._fireDataSourceChanged(),t._isLoading=!e.isLoaded(),t._needApplyFilter=!0,t._isAllDataTypesDefined=t._columnsController.isAllDataTypesDefined(),e.changed.add(t._dataChangedHandler),e.loadingChanged.add(t._loadingChangedHandler),e.loadError.add(t._loadErrorHandler),e.customizeStoreLoadOptions.add(t._customizeStoreLoadOptionsHandler),e.changing.add(t._changingHandler),e.pushed.add(t._dataPushedHandler))}items(e){return this._items}isEmpty(){return!this.items().length}pageCount(){return this._dataSource?this._dataSource.pageCount():1}dataSource(){return this._dataSource}store(){let e=this._dataSource;return e&&e.store()}loadAll(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this,o=new le,r=n._dataSource;if(r)if(e){let s={data:e,isCustomLoading:!0,storeLoadOptions:{isLoadingAll:!0},loadOptions:{filter:t?null:n.getCombinedFilter(),group:r.group(),sort:r.sort()}};r._handleDataLoaded(s),Be(s.data).done(a=>{var l;a=n._beforeProcessItems(a),o.resolve(n._processItems(a,{changeType:"loadingAll"}),(l=s.extra)===null||l===void 0?void 0:l.summary)}).fail(o.reject)}else if(r.isLoading())o.reject();else{let s=q({},r.loadOptions(),{isLoadingAll:!0,requireTotalCount:!1});r.load(s).done((a,l)=>{a=n._beforeProcessItems(a),a=n._processItems(a,{changeType:"loadingAll"}),o.resolve(a,l&&l.summary)}).fail(o.reject)}else o.resolve([]);return o}getKeyByRowIndex(e,t){let n=this.items(t)[e];if(n)return n.key}getRowIndexByKey(e,t){return De.getIndexByKey(e,this.items(t))}keyOf(e){let t=this.store();if(t)return t.keyOf(e)}byKey(e){let t=this.store(),n=this.getRowIndexByKey(e),o;if(t)return n>=0&&(o=new le().resolve(this.items()[n].data)),o||t.byKey(e)}key(){let e=this.store();if(e)return e.key()}getRowIndexOffset(e){return 0}getDataByKeys(e){let t=this,n=new le,o=[],r=[];return ee(e,(s,a)=>{o.push(t.byKey(a).done(l=>{r[s]=l}))}),Be.apply(I,o).always(()=>{n.resolve(r)}),n}pageIndex(e){return oY(this,"pageIndex",e)}pageSize(e){return oY(this,"pageSize",e)}beginCustomLoading(e){this._isCustomLoading=!0,this._loadingText=e||"",this._fireLoadingChanged()}endCustomLoading(){this._isCustomLoading=!1,this._loadingText=void 0,this._fireLoadingChanged()}refresh(e){e===!0?e={reload:!0,changesOnly:!0}:e||(e={lookup:!0,selection:!0,reload:!0});let t=this,n=t.getDataSource(),{changesOnly:o}=e,r=new le,s=function(){t._repaintChangesOnly=!!o};return Be(!e.lookup||t._columnsController.refresh()).always(()=>{e.load||e.reload?(n&&n.on("customizeLoadResult",s),Be(t.reload(e.reload,o)).always(()=>{n&&n.off("customizeLoadResult",s),t._repaintChangesOnly=void 0}).done(r.resolve).fail(r.reject)):(t.updateItems({repaintChangesOnly:e.changesOnly}),r.resolve())}),r.promise()}getVisibleRows(){return this.items()}_disposeDataSource(){this._dataSource&&this._dataSource._eventsStrategy&&this._dataSource._eventsStrategy.off("loadingChanged",this.readyWatcher),this.setDataSource(null)}dispose(){this._disposeDataSource(),super.dispose()}repaintRows(e,t){e=Array.isArray(e)?e:[e],(e.length>1||U(e[0]))&&this.updateItems({changeType:"update",rowIndices:e,isFullUpdate:!t})}skipProcessingPagingChange(e){return this._skipProcessingPagingChange&&(e==="paging.pageIndex"||e==="paging.pageSize")}getUserState(){return{searchText:this.option("searchPanel.text"),pageIndex:this.pageIndex(),pageSize:this.pageSize()}}getCachedStoreData(){return this._dataSource&&this._dataSource.getCachedStoreData()}isLastPageLoaded(){let e=this.pageIndex(),t=this.pageCount();return e===t-1}load(){var e;return(e=this._dataSource)===null||e===void 0?void 0:e.load()}reload(e,t){var n;return(n=this._dataSource)===null||n===void 0?void 0:n.reload(e,t)}push(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=this._dataSource)===null||e===void 0?void 0:e.push(...n)}itemsCount(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.itemsCount():0}totalItemsCount(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.totalItemsCount():0}hasKnownLastPage(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.hasKnownLastPage():!0}isLoaded(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.isLoaded():!0}totalCount(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.totalCount():0}hasLoadOperation(){var e;let t=((e=this._dataSource)===null||e===void 0?void 0:e.operationTypes())??{};return Object.keys(t).some(n=>t[n])}},rY={defaultOptions:()=>({loadingTimeout:0,dataSource:null,cacheEnabled:!0,repaintChangesOnly:!1,highlightChanges:!1,onDataErrorOccurred:null,remoteOperations:"auto",paging:{enabled:!0,pageSize:void 0,pageIndex:void 0}}),controllers:{data:Hv}};var zv=function(i,e){if(i&&(i=i.slice(0),e))for(let t=0;t<i.length;t++)i[t]=q({key:i[t].key},i[t]),i[t].items=zv(i[t].items,e-1);return i},fL=function(i,e,t){let n={reload:!0,fullReload:!0};return e&&(n={sorting:!De.equalSortParameters(i.sort,e.sort),grouping:!De.equalSortParameters(i.group,e.group,!0),groupExpanding:!De.equalSortParameters(i.group,e.group)||e.groupExpand,filtering:!De.equalFilterParameters(i.filter,e.filter),pageIndex:i.pageIndex!==e.pageIndex,skip:i.skip!==e.skip,take:i.take!==e.take,pageSize:i.pageSize!==e.pageSize,fullReload:t,reload:!1,paging:!1},n.reload=t||n.sorting||n.grouping||n.filtering,n.paging=n.pageIndex||n.pageSize||n.take),n},sY=function(i,e){U(e)?Nm(i,e):i()},Gg=function(){return{items:{}}},mL=function(i,e){let t=De.normalizeSortingInfo(i.group||i.storeLoadOptions.group||i.loadOptions.group).length,n=[];if(aY(n,i,t))return n;e&&IOe(n,i,t)},aY=function(i,e,t,n){var o;let{storeLoadOptions:r}=e,s=e.take??r.take??0,a=(o=e.cachedData)===null||o===void 0?void 0:o.items;if(s&&a){let l=e.skip??r.skip??0;for(let d=0;d<s;d+=1){let c=n?s-1-d:d,u=c+l,h=a[u];if(h===void 0&&u in a)return!0;let f=OOe(e,h,t,c,s);if(f)i.push(f);else return!1}return!0}return!1},OOe=function(i,e,t,n,o){if(t&&e){let r=n===0&&i.skips||[],s=n===o-1&&i.takes||[];return lY(e,t,r,s)}return e},lY=function(i,e,t,n){if(e&&i){let o=ye({},i),r=t[0]||0,s=n[0],{items:a}=i;if(a){if(s===void 0&&!a[r])return;o.items=[],t.length&&(o.isContinuation=!0),s&&(o.isContinuationOnNextPage=i.count>s);for(let l=0;s===void 0?a[l+r]:l<s;l+=1){let d=a[l+r],c=l+1===s,u=lY(d,e-1,l===0?t.slice(1):[],c?n.slice(1):[]);if(u!==void 0)o.items.push(u);else return}}return o}return i},IOe=function(i,e,t){let n=i.length,{storeLoadOptions:o}=e;if(o.skip!==void 0&&o.take&&!t){let r=[];aY(r,e,t,!0);let s=r.length;(n||s)&&(e.skip=e.skip??o.skip,e.take=e.take??o.take),n&&(o.skip+=n,o.take-=n,e.cachedDataPartBegin=i),s&&(o.take-=s,e.cachedDataPartEnd=r.reverse())}},dY=function(i,e,t){let{storeLoadOptions:n}=i,o=i.skip??n.skip??0,r=i.take??n.take??0;for(let s=0;s<r;s+=1){let a=s+o,l=i.cachedData.items,d=s===0&&i.skips||[];l[a]=cY(l[a],e[s],t,d)}},cY=function(i,e,t,n){if(t&&e){let o=ye({},e);delete o.isContinuation,delete o.isContinuationOnNextPage;let r=n[0]||0;return e.items&&(o.items=i?.items||{},e.items.forEach((s,a)=>{let l=a+r,d=a===0?n.slice(1):[];o.items[l]=cY(o.items[l],s,t-1,d)})),o}return e};var pO=class extends li.Controller{init(e,t){let n=this;n._dataSource=e,n._remoteOperations=t||{},n._isLastPage=!e.isLastPage(),n._hasLastPage=!1,n._currentTotalCount=0,n._cachedData=Gg(),n._lastOperationTypes={},n._eventsStrategy=e._eventsStrategy,n._totalCountCorrection=0,n._isLoadingAll=!1,n.changed=Gt(),n.loadingChanged=Gt(),n.loadError=Gt(),n.customizeStoreLoadOptions=Gt(),n.changing=Gt(),n.pushed=Gt(),n._dataChangedHandler=n._handleDataChanged.bind(n),n._customizeStoreLoadOptionsHandler=n._handleCustomizeStoreLoadOptions.bind(n),n._dataLoadedHandler=n._handleDataLoaded.bind(n),n._loadingChangedHandler=n._handleLoadingChanged.bind(n),n._loadErrorHandler=n._handleLoadError.bind(n),n._pushHandler=n._handlePush.bind(n),n._changingHandler=n._handleChanging.bind(n),e.on("changed",n._dataChangedHandler),e.on("customizeStoreLoadOptions",n._customizeStoreLoadOptionsHandler),e.on("customizeLoadResult",n._dataLoadedHandler),e.on("loadingChanged",n._loadingChangedHandler),e.on("loadError",n._loadErrorHandler),e.on("changing",n._changingHandler),e.store().on("beforePush",n._pushHandler),ee(e,(o,r)=>{!n[o]&&Ie(r)&&(n[o]=function(){return this._dataSource[o].apply(this._dataSource,arguments)})})}dispose(e){let t=this._dataSource,n=t.store();t.off("changed",this._dataChangedHandler),t.off("customizeStoreLoadOptions",this._customizeStoreLoadOptionsHandler),t.off("customizeLoadResult",this._dataLoadedHandler),t.off("loadingChanged",this._loadingChangedHandler),t.off("loadError",this._loadErrorHandler),t.off("changing",this._changingHandler),n&&n.off("beforePush",this._pushHandler),e||t.dispose()}remoteOperations(){return this._remoteOperations}refresh(e,t){let n=this,o=n._dataSource;t.reload&&(n.resetCurrentTotalCount(),n._isLastPage=!o.paginate(),n._hasLastPage=n._isLastPage)}resetCurrentTotalCount(){this._currentTotalCount=0,this._totalCountCorrection=0}resetCache(){this._cachedStoreData=void 0,this._cachedPagingData=void 0}resetPagesCache(e){this._cachedData=Gg()}_needClearStoreDataCache(){let e=this.remoteOperations(),t=fL(this._lastLoadOptions||{},{});return!Object.keys(e).every(o=>!t[o]||!e[o])}push(e,t){let n=this.store();this._needClearStoreDataCache()&&(this._cachedStoreData=void 0),this._cachedPagingData=void 0,this.resetPagesCache(!0),this._cachedStoreData&&Na({keyInfo:n,data:this._cachedStoreData,changes:e}),t||this._applyBatch(e),this.pushed.fire(e)}getDataIndexGetter(){if(!this._dataIndexGetter){let e,t,n=this.store();this._dataIndexGetter=o=>{let r=t&&t!==this._cachedStoreData;if(!e||r){t=this._cachedStoreData||[],e={};for(let s=0;s<t.length;s++)e[$r(n.keyOf(t[s]))]=s}return e[$r(n.keyOf(o))]}}return this._dataIndexGetter}_getKeyInfo(){return this.store()}_needToCopyDataObject(){return!0}_applyBatch(e,t){let n=this._getKeyInfo(),o=this._dataSource,r=De.normalizeSortingInfo(this.group()).length,s=this.option("editing.refreshMode")==="reshape",a=this.option("scrolling.mode")==="virtual";e=e.filter(u=>!o.paginate()||u.type!=="insert"||u.index!==void 0);let l=()=>r?this.itemsCount():this.items().length,d=l();Na({keyInfo:n,data:this._items,changes:e,groupCount:r,useInsertIndex:!0,skipCopying:!this._needToCopyDataObject()}),Na({keyInfo:n,data:o.items(),changes:e,groupCount:r,useInsertIndex:!0,skipCopying:!this._needToCopyDataObject()}),(this._currentTotalCount>0||(t||!s)&&a)&&(this._totalCountCorrection+=l()-d),e.splice(0,e.length)}_handlePush(e){let{changes:t}=e;this.push(t,!0)}_handleChanging(e){this.changing.fire(e),this._applyBatch(e.changes,!0)}_needCleanCacheByOperation(e,t){let n=["filtering","sorting","paging"],o=n.indexOf(e);return(o>=0?n.slice(o):[e]).some(s=>t[s])}_customizeRemoteOperations(e,t){let n=this._cachedStoreData,o=this._cachedPagingData,r=this._cachedData;(e.storeLoadOptions.filter&&!e.remoteOperations.filtering||e.storeLoadOptions.sort&&!e.remoteOperations.sorting)&&(e.remoteOperations={filtering:e.remoteOperations.filtering,summary:e.remoteOperations.summary}),t.fullReload?(n=void 0,o=void 0,r=Gg()):(t.reload?(o=void 0,r=Gg()):t.groupExpanding&&(r=Gg()),ee(t,(s,a)=>{a&&this._needCleanCacheByOperation(s,e.remoteOperations)&&(n=void 0,o=void 0)})),o&&(e.remoteOperations.paging=!1),e.cachedStoreData=n,e.cachedPagingData=o,e.cachedData=r,e.isCustomLoading||(this._cachedStoreData=n,this._cachedPagingData=o,this._cachedData=r)}_handleCustomizeStoreLoadOptions(e){var t;this._handleDataLoading(e),((t=e.data)===null||t===void 0?void 0:t.length)!==0&&(e.data=mL(e,!0)||e.cachedStoreData)}_handleDataLoading(e){let t=this._dataSource,n=this._lastLoadOptions;this.customizeStoreLoadOptions.fire(e),e.delay=this.option("loadingTimeout"),e.originalStoreLoadOptions=e.storeLoadOptions,e.remoteOperations=q({},this.remoteOperations());let o=!this.isLoaded()&&!this._isRefreshing;this.option("integrationOptions.renderedOnServer")&&!this.isLoaded()&&(e.delay=void 0);let r=q({pageIndex:this.pageIndex(),pageSize:this.pageSize()},e.storeLoadOptions),s=fL(r,n,o);if(this._customizeRemoteOperations(e,s),!e.isCustomLoading){let a=this._isRefreshing;e.pageIndex=t.pageIndex(),e.lastLoadOptions=r,e.operationTypes=s,this._loadingOperationTypes=s,this._isRefreshing=!0,Be(a||this._isRefreshed||this.refresh(e,s)).done(()=>{this._lastOperationId===e.operationId&&(this._isRefreshed=!0,this.load().always(()=>{this._isRefreshed=!1}))}).fail(()=>{t.cancel(e.operationId)}).always(()=>{this._isRefreshing=!1}),t.cancel(this._lastOperationId),this._lastOperationId=e.operationId,this._isRefreshing&&t.cancel(this._lastOperationId)}this._handleDataLoadingCore(e)}_handleDataLoadingCore(e){let{remoteOperations:t}=e;e.loadOptions={};let n=e.cachedData.extra,o={filter:!t.filtering,sort:!t.sorting,group:!t.grouping,summary:!t.summary,skip:!t.paging,take:!t.paging,requireTotalCount:n&&"totalCount"in n||!t.paging,langParams:!t.filtering||!t.sorting};ee(e.storeLoadOptions,(r,s)=>{o[r]&&(e.loadOptions[r]=s,delete e.storeLoadOptions[r])}),n&&(e.extra=n)}_handleDataLoaded(e){let{loadOptions:t}=e,n=e.remoteOperations&&!e.remoteOperations.paging,{cachedData:o}=e,{storeLoadOptions:r}=e,s=this.option("cacheEnabled")!==!1&&r,a=s&&!e.isCustomLoading&&o&&(!n||r.group),l=s&&n,d=l&&!e.isCustomLoading;if(!t){this._dataSource.cancel(e.operationId);return}n&&(e.skip=t.skip,e.take=t.take,delete t.skip,delete t.take),t.group&&(t.group=e.group||t.group);let c=De.normalizeSortingInfo(e.group||r.group||t.group).length;if(e.cachedDataPartBegin&&(e.data=e.cachedDataPartBegin.concat(e.data)),e.cachedDataPartEnd&&(e.data=e.data.concat(e.cachedDataPartEnd)),!a||!mL(e)){var u;l&&e.cachedPagingData?e.data=zv(e.cachedPagingData,c):(d&&(this._cachedStoreData?e.mergeStoreLoadData&&(e.data=this._cachedStoreData=this._cachedStoreData.concat(e.data)):this._cachedStoreData=zv(e.data,De.normalizeSortingInfo(r.group).length)),new pd(e.data).load(t).done(h=>{e.data=h,d&&(this._cachedPagingData=zv(e.data,c))}).fail(h=>{e.data=new le().reject(h)})),t.requireTotalCount&&n&&(e.extra=ht(e.extra)?e.extra:{},e.extra.totalCount=e.data.length),e.extra&&e.extra.totalCount>=0&&(r.requireTotalCount===!1||t.requireTotalCount===!1)&&(e.extra.totalCount=-1),!t.data&&(r.requireTotalCount||(((u=e.extra)===null||u===void 0?void 0:u.totalCount)??-1)>=0)&&(this._totalCountCorrection=0),this._handleDataLoadedCore(e),a&&(o.extra=o.extra||q({},e.extra),Be(e.data).done(h=>{dY(e,h,c)}))}Be(e.data).done(()=>{e.lastLoadOptions&&(this._lastLoadOptions=e.lastLoadOptions,Object.keys(e.operationTypes).forEach(h=>{this._lastOperationTypes[h]=this._lastOperationTypes[h]||e.operationTypes[h]}))}),e.storeLoadOptions=e.originalStoreLoadOptions}_handleDataLoadedCore(e){e.remoteOperations&&!e.remoteOperations.paging&&Array.isArray(e.data)&&(e.skip!==void 0&&(e.data=e.data.slice(e.skip)),e.take!==void 0&&(e.data=e.data.slice(0,e.take)))}_handleLoadingChanged(e){this.loadingChanged.fire(e)}_handleLoadError(e){this.loadError.fire(e),this.changed.fire({changeType:"loadError",error:e})}_loadPageSize(){return this.pageSize()}_handleDataChanged(e){let t,n=this._dataSource,o=!1,r=!e||U(e.changeType),s=this.itemsCount();r&&(this._isLastPage=!s||!this._loadPageSize()||s<this._loadPageSize(),this._isLastPage&&(this._hasLastPage=!0)),n.totalCount()>=0?n.pageIndex()>=this.pageCount()&&(n.pageIndex(this.pageCount()-1),this.pageIndex(n.pageIndex()),this.resetPagesCache(),n.load(),o=!0):r&&(t=n.pageIndex()*this.pageSize()+s,t>this._currentTotalCount&&(this._currentTotalCount=t,(n.pageIndex()===0||!this.option("scrolling.legacyMode"))&&(this._totalCountCorrection=0)),s===0&&n.pageIndex()>=this.pageCount()&&(n.pageIndex(this.pageCount()-1),this.option("scrolling.mode")!=="infinite"&&(n.load(),o=!0))),o||(this._operationTypes=this._lastOperationTypes,this._lastOperationTypes={},this.component._optionCache={},this.changed.fire(e),this.component._optionCache=void 0)}_scheduleCustomLoadCallbacks(e){let t=this;t._isCustomLoading=!0,e.always(()=>{t._isCustomLoading=!1})}loadingOperationTypes(){return this._loadingOperationTypes}operationTypes(){return this._operationTypes}lastLoadOptions(){return this._lastLoadOptions||{}}isLastPage(){return this._isLastPage}_dataSourceTotalCount(){return this._dataSource.totalCount()}_changeRowExpandCore(e){}changeRowExpand(e){}totalCount(){return parseInt((this._currentTotalCount||this._dataSourceTotalCount())+this._totalCountCorrection)}totalCountCorrection(){return this._totalCountCorrection}items(){}itemsCount(){return this._dataSource.items().length}totalItemsCount(){return this.totalCount()}pageSize(){let e=this._dataSource;return!arguments.length&&!e.paginate()?0:e.pageSize.apply(e,arguments)}pageCount(){let e=this.totalItemsCount()-this._totalCountCorrection,t=this.pageSize();return t&&e>0?Math.max(1,Math.ceil(e/t)):1}hasKnownLastPage(){return this._hasLastPage||this._dataSource.totalCount()>=0}loadFromStore(e,t){let n=this._dataSource,o=new le;if(n)return t=t||n.store(),t.load(e).done((r,s)=>{r&&!Array.isArray(r)&&Array.isArray(r.data)&&(s=r,r=r.data),o.resolve(r,s)}).fail(o.reject),o}isCustomLoading(){return!!this._isCustomLoading}load(e){let t=this,n=t._dataSource,o=new le;if(e){let r=n.store(),s=n.loadOptions(),a={storeLoadOptions:q({},e,{langParams:s?.langParams}),isCustomLoading:!0};return ee(r._customLoadOptions()||[],(l,d)=>{d in a.storeLoadOptions||(a.storeLoadOptions[d]=s[d])}),this._isLoadingAll=e.isLoadingAll,t._scheduleCustomLoadCallbacks(o),n._scheduleLoadCallbacks(o),t._handleCustomizeStoreLoadOptions(a),sY(()=>{if(!n.store())return o.reject("canceled");Be(a.data||t.loadFromStore(a.storeLoadOptions)).done((l,d)=>{a.data=l,a.extra=d||{},t._handleDataLoaded(a),e.requireTotalCount&&a.extra.totalCount===void 0&&(a.extra.totalCount=r.totalCount(a.storeLoadOptions)),Be(a.data,a.extra.totalCount).done((c,u)=>{a.extra.totalCount=u,o.resolve(c,a.extra)}).fail(o.reject)}).fail(o.reject)},t.option("loadingTimeout")),o.fail(function(){t._eventsStrategy.fireEvent("loadError",arguments)}).always(()=>{this._isLoadingAll=!1}).promise()}return n.load()}reload(e){return e?this._dataSource.reload():this._dataSource.load()}getCachedStoreData(){return this._cachedStoreData}isLoaded(){}pageIndex(e){}};var gL=pO,Wh={extend(i){gL=i(gL)},create:i=>new gL(i)};var _L=class extends Hv{_getDataSourceAdapter(){return Wh}_getSpecificDataSourceOption(){let e=this.option("dataSource");return e&&!Array.isArray(e)&&this.option("keyExpr")&&bt.log("W1011"),super._getSpecificDataSourceOption()}};qe.registerModule("data",{defaultOptions:rY.defaultOptions,controllers:{data:_L}});var DOe=i=>class extends i{_applyColumnState(e){let t=this,n,o,r=t.option("sorting.mode"),{rootElement:s}=e,{column:a}=e,l=t._getIndicatorContainer(s);if(e.name==="sort"){s.find(".dx-sort").remove(),!l.children().length&&l.remove();let d=r!=="none"&&a.allowSorting,c=t.getController&&!!t.getController("columns").columnOption("sortIndex:1");return!U(a.groupIndex)&&(d||U(a.sortOrder))&&(n=a.sortOrder==="asc"?"ascending":"descending",o=super._applyColumnState(e).toggleClass("dx-sort-up",a.sortOrder==="asc").toggleClass("dx-sort-down",a.sortOrder==="desc"),c&&t.option("sorting.showSortIndexes")&&a.sortIndex>=0&&(I("<span>").addClass("dx-sort-index-icon").text(a.sortIndex+1).appendTo(o),o.addClass("dx-sort-index")),d&&e.rootElement.addClass(t.addWidgetPrefix("action"))),this._setAriaSortAttribute(a,n,s,c),o}return super._applyColumnState(e)}_setAriaSortAttribute(e,t,n,o){if(n.removeAttr("aria-roledescription"),e.isGrouped){let r=this.localize("dxDataGrid-ariaNotSortedColumn");U(e.sortOrder)&&(r=e.sortOrder==="asc"?this.localize("dxDataGrid-ariaSortedAscendingColumn"):this.localize("dxDataGrid-ariaSortedDescendingColumn")),this.setAria("roledescription",r,n)}else if(!U(e.sortOrder))this.setAria("sort","none",n);else if(this.setAria("sort",t,n),o&&e.sortIndex>=0){let r=de.format("dxDataGrid-ariaColumnHeader"),s=de.format("dxDataGrid-ariaSortIndex",e.sortIndex+1),a=`${r}, ${s}`;this.setAria("roledescription",a,n)}}_getIndicatorClassName(e){return e==="sort"?"dx-sort":e==="sortIndex"?"dx-sort-index-icon":super._getIndicatorClassName(e)}_renderIndicator(e){let{column:t}=e,n=e.container,o=e.indicator;if(e.name==="sort"){let r=this.option("rtlEnabled");if(U(t.sortOrder)||o&&o.addClass("dx-sort-none"),n.children().length&&(!r&&e.columnAlignment==="left"||r&&e.columnAlignment==="right")){n.prepend(o);return}}super._renderIndicator(e)}_updateIndicator(e,t,n){if(!(n==="sort"&&U(t.groupIndex)))return super._updateIndicator.apply(this,arguments)}_getIndicatorElements(e,t){let n=super._getIndicatorElements(e);return t?n:n&&n.not(".dx-sort-none")}},bL=DOe;var TOe=i=>class extends bL(i){optionChanged(e){let t=this;e.name==="sorting"?(t._invalidate(),e.handled=!0):super.optionChanged(e)}_createRow(e){let t=super._createRow(e);return e.rowType==="header"&&X.on(t,Se(Kt,"dxDataGridColumnHeadersView"),"td",this.createAction(n=>{this._processHeaderAction(n.event,t)})),t}_processHeaderAction(e,t){if(I(e.currentTarget).parent().get(0)!==t.get(0))return;let n=this,o=null,r=I(e.currentTarget),s=r.parent().index(),a=-1;[].slice.call(n.getCellElements(s)).some((f,p)=>{if(f===r.get(0))return a=p,!0});let d=n._columnsController.getVisibleColumns(s)[a],c=n.getController("editing"),u=n.option("editing.mode");c&&c.isEditing()&&(u==="batch"||u==="cell")||!n._isSortableElement(I(e.target))||d&&!U(d.groupIndex)&&!d.command&&(e.shiftKey?o="shift":Dn(e)&&(o="ctrl"),setTimeout(()=>{n._columnsController.changeSortOrder(d.index,o)}))}_renderCellContent(e,t){let n=this,{column:o}=t;!o.command&&t.rowType==="header"&&n._applyColumnState({name:"sort",rootElement:e,column:o,showColumnLines:n.option("showColumnLines")}),super._renderCellContent.apply(this,arguments)}_columnOptionChanged(e){let{changeTypes:t}=e;if(t.length===1&&t.sorting){this._updateIndicators("sort");return}super._columnOptionChanged(e)}},AOe=i=>class extends bL(i){optionChanged(e){let t=this;e.name==="sorting"?(t._invalidate(),e.handled=!0):super.optionChanged(e)}_createGroupPanelItem(e,t){let n=this,o=super._createGroupPanelItem(...arguments);return X.on(o,Se(Kt,"dxDataGridHeaderPanel"),n.createAction(()=>{n._processGroupItemAction(t.index)})),n._applyColumnState({name:"sort",rootElement:o,column:{alignment:n.option("rtlEnabled")?"right":"left",allowSorting:t.allowSorting,sortOrder:t.sortOrder==="desc"?"desc":"asc",isGrouped:!0},showColumnLines:!0}),o}_processGroupItemAction(e){setTimeout(()=>this.getController("columns").changeSortOrder(e))}},uY={defaultOptions:()=>({sorting:{mode:"single",ascendingText:de.format("dxDataGrid-sortingAscendingText"),descendingText:de.format("dxDataGrid-sortingDescendingText"),clearText:de.format("dxDataGrid-sortingClearText"),showSortIndexes:!0}}),extenders:{views:{columnHeadersView:TOe,headerPanel:AOe}}};qe.registerModule("sorting",uY);var fO="dx-freespace-row";var hY="dx-last-row-border";function pY(i){return i?Math.round(i.scrollWidth()-i.clientWidth()):0}function fY(i){let{rowType:e,column:t}=i;return e==="group"&&U(t.groupIndex)&&!t.showWhenGrouped&&!t.command}function mY(i){let{element:e,watch:t,getter:n,callBack:o}=i;if(t){let r=t(n,o);X.on(e,Io,r)}}var kOe=function(i,e){let t=Mm(e.text)&&e.rowType==="data",{text:n}=e,o=i.get(0);t?De.setEmptyText(i):e.column.encodeHtml?o.textContent=n:o.innerHTML=n},MOe=function(i){let e=i.getScrollable();return e?Math.ceil(parseFloat(I(e.content()).css("paddingBottom"))):0},vL=class extends $a{init(){super.init(),this._editingController=this.getController("editing"),this._resizingController=this.getController("resizing"),this._columnsResizerController=this.getController("columnsResizer"),this._focusController=this.getController("focus"),this._keyboardNavigationController=this.getController("keyboardNavigation"),this._validatingController=this.getController("validating"),this._errorHandlingController=this.getController("errorHandling"),this._columnHeadersView=this.getView("columnHeadersView"),this._rowHeight=0,this._scrollTop=0,this._scrollLeft=-1,this._scrollRight=0,this._hasHeight=void 0,this._contentChanges=[],this._dataController.loadingChanged.add((e,t)=>{this.setLoading(e,t)}),this._dataController.dataSourceChanged.add(()=>{this._scrollLeft>=0&&!this._dataController.isLoading()&&this._handleScroll({component:this.getScrollable(),forceUpdateScrollPosition:!0,scrollOffset:{top:this._scrollTop,left:this._scrollLeft}})})}_getDefaultTemplate(e){return e.command==="empty"?function(t){t.html("&nbsp;")}:kOe}renderFocusState(e){}_getDefaultGroupTemplate(e){let t=this.option("summary.texts");return function(n,o){let{data:r}=o,s=`${o.column.caption}: ${o.text}`,a=n.get(0);o.summaryItems&&o.summaryItems.length&&(s+=` ${De.getGroupRowSummaryText(o.summaryItems,t)}`),r&&(o.groupContinuedMessage&&o.groupContinuesMessage?s+=` (${o.groupContinuedMessage}. ${o.groupContinuesMessage})`:o.groupContinuesMessage?s+=` (${o.groupContinuesMessage})`:o.groupContinuedMessage&&(s+=` (${o.groupContinuedMessage})`)),e.encodeHtml?a.textContent=s:a.innerHTML=s}}_update(e){}_updateCell(e,t){fY(t)&&e.addClass("dx-group-cell"),super._updateCell.apply(this,arguments)}_getCellTemplate(e){let t=this,{column:n}=e,o;return fY(e)?o=n.groupCellTemplate||{allowRenderToDetachedContainer:!0,render:t._getDefaultGroupTemplate(n)}:(e.rowType==="data"||n.command)&&n.cellTemplate?o=n.cellTemplate:o={allowRenderToDetachedContainer:!0,render:t._getDefaultTemplate(n)},o}_createRow(e,t){let n=super._createRow.apply(this,arguments);if(e){let o=e.rowType==="group",r=e.rowType==="data";r&&n.addClass("dx-data-row"),r&&this.option("showRowLines")&&n.addClass("dx-row-lines"),this.option("showColumnLines")&&n.addClass("dx-column-lines"),e.visible===!1&&n.hide(),o&&(n.addClass("dx-group-row"),this.setAriaExpandedAttribute(n,e))}return n}_rowPrepared(e,t,n){t.rowType==="data"&&(this.option("rowAlternationEnabled")&&(this._isAltRow(n)&&e.addClass("dx-row-alt"),mY({element:e.get(0),watch:t.watch,getter:()=>this._isAltRow(n),callBack:o=>{e.toggleClass("dx-row-alt",o)}})),this._setAriaRowIndex(t,e),mY({element:e.get(0),watch:t.watch,getter:()=>t.rowIndex,callBack:()=>this._setAriaRowIndex(t,e)})),super._rowPrepared.apply(this,arguments)}_setAriaRowIndex(e,t){if(!t.is("tr"))return;let{component:n}=this,o=n.option("scrolling.mode")==="standard"&&!De.isVirtualRowRendering(n),r=e.rowIndex+1;o?r=n.pageIndex()*n.pageSize()+r:r+=this._dataController.getRowIndexOffset(),this.setAria("rowindex",r,t)}setAriaExpandedAttribute(e,t){let n=t.isExpanded?this.localize("dxDataGrid-ariaExpandedRow"):this.localize("dxDataGrid-ariaCollapsedRow");this.setAria("roledescription",n,e)}_afterRowPrepared(e){let t=e.args[0],n=this._dataController,o=n.getVisibleRows()[t.rowIndex],r=this.option("integrationOptions.watchMethod");if(!t.data||t.rowType!=="data"||t.isNewRow||!this.option("twoWayBindingEnabled")||!r||!o)return;let s=r(()=>n.generateDataValues(t.data,t.columns),()=>{n.repaintRows([o.rowIndex],this.option("repaintChangesOnly"))},{deep:!0,skipImmediate:!0});X.on(t.rowElement,Io,s)}_renderScrollable(e){let t=this,n=t.element();if(n.children().length||n.append("<div>"),(e||!t._loadPanel)&&t._renderLoadPanel(n,n.parent(),t._dataController.isLocalStore()),(e||!t.getScrollable())&&t._dataController.isLoaded()){let o=t.getColumns(),r=!0;for(let s=0;s<o.length;s++)if(!o[s].width&&!o[s].minWidth){r=!1;break}(t.option("columnAutoWidth")||t._hasHeight||r||t._columnsController._isColumnFixing())&&t._renderScrollableCore(n)}}_handleScroll(e){let t=this.option("rtlEnabled"),n=e.component.option("useNative");this._scrollTop=e.scrollOffset.top,this._scrollLeft=e.scrollOffset.left;let o=e.scrollOffset.left;t&&(this._scrollRight=pY(e.component)-this._scrollLeft,n&&(o=-this._scrollRight),this.isScrollbarVisible(!0)||(this._scrollLeft=-1)),this.scrollChanged.fire(ye({},e.scrollOffset,{left:o}),this.name)}_renderScrollableCore(e){let t=this._createScrollableOptions(),n=this._handleScroll.bind(this);t.onScroll=n,this._scrollable=this._createComponent(e,wr,t),this._scrollableContainer=this._scrollable&&I(this._scrollable.container())}_renderLoadPanel(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return De.renderLoadPanel.apply(this,arguments)}_renderContent(e,t,n){return e.empty().append(t),this._findContentElement()}_updateContent(e,t,n){return this._contentChanges.push({newTableElement:e,change:t,isFixedTableRendering:n}),this.waitAsyncTemplates().done(()=>{let o=this._contentChanges;this._contentChanges=[],o.forEach(r=>{let{newTableElement:s,change:a,isFixedTableRendering:l}=r,d=this.getTableElement(l),c=this._findContentElement(l),u=a?.changeType,h=[],f=this.option("highlightChanges"),p=this.addWidgetPrefix("row-inserted-animation");u==="update"?(ee(a.rowIndices,(m,g)=>{var b;let x=this._getRowElements(s).eq(m),E=(b=a.changeTypes)===null||b===void 0?void 0:b[m],D=a.items&&a.items[m];h.push(()=>{let L=this._getRowElements(d),k=L.eq(g);switch(E){case"update":if(D){var R;let N=(R=a.columnIndices)===null||R===void 0?void 0:R[m];U(D.visible)&&D.visible!==k.is(":visible")?k.toggle(D.visible):N?this._updateCells(k,x,N):k.replaceWith(x)}break;case"insert":if(L.length)k.length?x.insertBefore(k):x.insertAfter(L.last());else if(d){let N=x.is("tbody")?d:d.children("tbody");x.prependTo(N)}f&&a.isLiveUpdate&&x.addClass(p);break;case"remove":k.remove()}})}),ee(h,function(){this()}),s.remove()):(this.setTableElement(s,l),c.addClass(this.addWidgetPrefix("content")),this._setGridRole(c),this._renderContent(c,s,l))})}).fail(()=>{this._contentChanges=[]})}_getGridRoleName(){return"grid"}_setGridRole(e){var t;let n=!((t=this._dataController)!==null&&t!==void 0&&t.isEmpty()),o=this._getGridRoleName();e!=null&&e.length&&n&&this.setAria("role",o,e)}_createEmptyRow(e,t,n){let o=this,r,s=o._createRow(),a=t?this.getFixedColumns():this.getColumns();s.addClass(e).toggleClass("dx-column-lines",o.option("showColumnLines"));for(let l=0;l<a.length;l++)r=o._createCell({column:a[l],rowType:"freeSpace",columnIndex:l,columns:a}),ai(n)&&r.css("height",n),s.append(r);return o.setAria("role","presentation",s),s}getFixedColumns(){throw new Error("Method not implemented.")}_appendEmptyRow(e,t,n){let o=this._getBodies(e),r=!o.length||t.is("tbody"),s=r?e:o;if(n==="top"){if(s.first().prepend(t),r){let a=s.children("colgroup");s.prepend(a)}}else s.last().append(t)}_renderFreeSpaceRow(e,t){let n=this._createEmptyRow(fO);n=this._wrapRowIfNeed(e,n,t?.changeType==="refresh"),this._appendEmptyRow(e,n)}_checkRowKeys(e){let t=this,n=t._getRows(e),o=t._dataController.store()&&t._dataController.store().key();o&&n.some(r=>{if(r.rowType==="data"&&r.key===void 0)return t._dataController.fireError("E1046",o),!0})}_needUpdateRowHeight(e){return e>0&&!this._rowHeight}_getRowsHeight(e){return e=e||this._tableElement,e.children("tbody").children().not(".dx-virtual-row").not(`.${fO}`).toArray().reduce((n,o)=>n+un(o).height,0)}_updateRowHeight(){let e=this,t=e.getTableElement(),n=e._dataController.items().length;if(t&&e._needUpdateRowHeight(n)){let o=e._getRowsHeight(t);e._rowHeight=o/n}}_findContentElement(e){let t=this.element(),n=this.getScrollable();if(t)return n&&(t=I(n.content())),t.children().first()}_getRowElements(e){let t=super._getRowElements(e);return t&&t.not(`.${fO}`)}_getFreeSpaceRowElements(e){let t=e||this.getTableElements();return t&&t.children("tbody").children(`.${fO}`)}_getNoDataText(){return this.option("noDataText")}_rowClick(e){let t=this._dataController.items()[e.rowIndex]||{};this.executeAction("onRowClick",q({evaluate(n){return Qt(n)(t.data)}},e,t))}_rowDblClick(e){let t=this._dataController.items()[e.rowIndex]||{};this.executeAction("onRowDblClick",q({},e,t))}_getColumnsCountBeforeGroups(e){for(let t=0;t<e.length;t++)if(e[t].type==="groupExpand")return t;return 0}_getGroupCellOptions(e){let t=this._getColumnsCountBeforeGroups(e.columns),n=(e.row.groupIndex||0)+t;return{columnIndex:n,colspan:e.columns.length-n-1}}_needWrapRow(){return super._needWrapRow.apply(this,arguments)||!!this.option("dataRowTemplate")}_renderCells(e,t){t.row.rowType==="group"?this._renderGroupedCells(e,t):t.row.values&&super._renderCells(e,t)}_renderGroupedCells(e,t){let{row:n}=t,o,{columns:r}=t,{rowIndex:s}=n,a,l=this._getGroupCellOptions(t);for(let u=0;u<=l.columnIndex;u++)u===l.columnIndex&&r[u].allowCollapsing&&t.scrollingMode!=="infinite"?(a=!!n.isExpanded,o=r[u]):(a=null,o={command:"expand",cssClass:r[u].cssClass}),this._needRenderCell(u,t.columnIndices)&&this._renderCell(e,{value:a,row:n,rowIndex:s,column:o,columnIndex:u,columnIndices:t.columnIndices,change:t.change});let d=Ar(this.option("rtlEnabled")),c=q({},r[l.columnIndex],{command:null,type:null,cssClass:null,width:null,showWhenGrouped:!1,alignment:d});l.colspan>1&&(c.colspan=l.colspan),this._needRenderCell(l.columnIndex+1,t.columnIndices)&&this._renderCell(e,{value:n.values[n.groupIndex],row:n,rowIndex:s,column:c,columnIndex:l.columnIndex+1,columnIndices:t.columnIndices,change:t.change})}_renderRows(e,t){let n=this,o=n.option("scrolling.mode");super._renderRows(e,q({scrollingMode:o},t)),n._checkRowKeys(t.change),n._renderFreeSpaceRow(e,t.change),n._hasHeight||n.updateFreeSpaceRowHeight(e)}_renderDataRowByTemplate(e,t,n){let{row:o}=t,r=q({columns:t.columns},o),s=this._createRow(o,"tbody");s.appendTo(e),this.renderTemplate(s,n,r,!0,t.change),this._rowPrepared(s,r,t.row)}_renderRow(e,t){let{row:n}=t,{rowTemplate:o}=this.option(),r=this.option("dataRowTemplate");n.rowType==="data"&&r?this._renderDataRowByTemplate(e,t,r):(n.rowType==="data"||n.rowType==="group")&&!U(n.groupIndex)&&o?this.renderTemplate(e,o,q({columns:t.columns},n),!0):super._renderRow(e,t)}_renderTable(e){let t=this,n=super._renderTable(e),o=function(){let r=t.getScrollable();r&&t.element().closest(et().document).length&&(t.resizeCompleted.remove(o),r._visibilityChanged(!0))};return U(t.getTableElement())?t._renderScrollable():(t.setTableElement(n),t._renderScrollable(!0),t.resizeCompleted.add(o)),n}_createTable(){let e=super._createTable.apply(this,arguments);return(this.option().rowTemplate||this.option().dataRowTemplate)&&e.appendTo(this.component.$element()),e}_renderCore(e){let t=this.element();t.addClass(this.addWidgetPrefix("rowsview")).toggleClass(this.addWidgetPrefix("nowrap"),!this.option("wordWrapEnabled")),t.toggleClass("dx-empty",this._dataController.isEmpty()),this.setAria("role","presentation",t);let n=this._renderTable({change:e}),o=this._updateContent(n,e);return super._renderCore(e),this._lastColumnWidths=null,o}_getRows(e){return e&&e.items||this._dataController.items()}_getCellOptions(e){let t=this,{column:n}=e,{row:o}=e,{data:r}=o,s=o&&o.summaryCells,{value:a}=e,l=De.getDisplayValue(n,a,r,o.rowType),d=super._getCellOptions(e);if(d.value=a,d.oldValue=e.oldValue,d.displayValue=l,d.row=o,d.key=o.key,d.data=r,d.rowType=o.rowType,d.values=o.values,d.text=n.command?"":De.formatValue(l,n),d.rowIndex=o.rowIndex,d.summaryItems=s&&s[e.columnIndex],d.resized=n.resizedCallbacks,U(n.groupIndex)&&!n.command){let c=t.option("grouping.texts"),u=t.option("scrolling.mode");u!=="virtual"&&u!=="infinite"&&(d.groupContinuesMessage=r&&r.isContinuationOnNextPage&&c&&c.groupContinuesMessage,d.groupContinuedMessage=r&&r.isContinuation&&c&&c.groupContinuedMessage)}return d}_setRowsOpacityCore(e,t,n,o){let r=this._columnsController,s=r.getColumns(),a=s&&s[n],l=a&&a.isBand&&a.index;ee(e,(d,c)=>{if(!I(c).hasClass("dx-group-row"))for(let u=0;u<t.length&&!((ai(l)&&r.isParentBandColumn(t[u].index,l)||t[u].index===n)&&(e.eq(d).children().eq(u).css({opacity:o}),!ai(l)));u++);})}_getDevicePixelRatio(){return et().devicePixelRatio}renderNoDataText(){return De.renderNoDataText.apply(this,arguments)}getCellOptions(e,t){let n=this._dataController.items()[e],o,r;return n&&(We(t)?r=this._columnsController.columnOption(t):r=this._columnsController.getVisibleColumns()[t],r&&(o=this._getCellOptions({value:r.calculateCellValue(n.data),rowIndex:n.rowIndex,row:n,column:r}))),o}getRow(e){if(e>=0){let t=this._getRowElements();if(t.length>e)return I(t[e])}}updateFreeSpaceRowHeight(e){let t=this._dataController,n=t.items(!0).length,o=this._findContentElement(),r=this._getFreeSpaceRowElements(e);if(r&&o&&t.totalCount()>=0){let s=!1;if(n>0)if(this._hasHeight)r.hide(),Go(()=>{let a=this.getScrollbarWidth(!0),l=ft(this.element())-a,d=Ct(o),c=l-d>0,u=this._getRowsHeight(o.children().first()),h=e||this.getTableElements(),f=Math.ceil(parseFloat(h.css("borderTopWidth"))),p=this._getHeightCorrection(),m=l-u-f-p;c&&jn(()=>{r.css("height",m),s=!0,r.show()}),jn(()=>this._updateLastRowBorder(s))});else{let a=t.pageSize()-n,l=this.option("scrolling.mode");a>0&&t.pageCount()>1&&l!=="virtual"&&l!=="infinite"&&(zw(r,a*this._rowHeight),s=!0),!s&&e?zw(r,0):r.toggle(s),this._updateLastRowBorder(s)}else r.css("height",0),r.show(),this._updateLastRowBorder(!0)}}_getHeightCorrection(){let e=gi.webkit&&this._getDevicePixelRatio()>=2,t=gi.chrome&&gi.version>=91,n=gi.mozilla&&gi.version>=70&&!this.option("showRowLines");return e||n||t?1:0}_columnOptionChanged(e){let{optionNames:t}=e;e.changeTypes.grouping||(t.width||t.visibleWidth)&&(super._columnOptionChanged(e),this._fireColumnResizedCallbacks())}getScrollable(){return this._scrollable}_handleDataChanged(e){let t=this;switch(e.changeType){case"refresh":case"prepend":case"append":case"update":t.render(null,e);break;default:t._update(e)}}publicMethods(){return["isScrollbarVisible","getTopVisibleRowData","getScrollbarWidth","getCellElement","getRowElement","getScrollable"]}contentWidth(){return Qe(this.element())-this.getScrollbarWidth()}getScrollbarWidth(e){let t=this._scrollableContainer&&this._scrollableContainer.get(0),n=0;return t&&(e?(n=t.clientHeight?t.offsetHeight-t.clientHeight:0,n+=MOe(this)):n=t.clientWidth?t.offsetWidth-t.clientWidth:0),n>0?n:0}_fireColumnResizedCallbacks(){let e=this._lastColumnWidths||[],t=[],n=this.getColumns();for(let o=0;o<n.length;o++)t[o]=n[o].visibleWidth,n[o].resizedCallbacks&&!U(n[o].groupIndex)&&e[o]!==t[o]&&n[o].resizedCallbacks.fire(t[o]);this._lastColumnWidths=t}_updateLastRowBorder(e){this.option("showBorders")&&!e?this.element().addClass(hY):this.element().removeClass(hY)}_updateScrollable(){let e=wr.getInstance(this.element());e&&(e.update(),(e.option("useNative")||!(e!=null&&e.isRenovated()))&&this._updateHorizontalScrollPosition())}_updateHorizontalScrollPosition(){let e=this.getScrollable(),t=e&&e.scrollOffset().left;if(this.option("rtlEnabled")){let o=pY(e);o-t!==this._scrollRight&&(this._scrollLeft=o-this._scrollRight)}this._scrollLeft>=0&&t!==this._scrollLeft&&e.scrollTo({x:this._scrollLeft})}_resizeCore(){let e=this;e._fireColumnResizedCallbacks(),e._updateRowHeight(),jn(()=>{e._renderScrollable(),e.renderNoDataText(),e.updateFreeSpaceRowHeight(),Go(()=>{e._updateScrollable()})})}scrollTo(e){let t=this.element(),n=t&&wr.getInstance(t);n&&n.scrollTo(e)}height(e){let t=this,n=this.element();if(arguments.length===0)return n?Ct(n,!0):0;U(e)&&n&&(t.hasHeight(e!=="auto"),zw(n,e))}hasHeight(e){if(arguments.length===0)return!!this._hasHeight;this._hasHeight=e}setLoading(e,t){let n=this,o=n._loadPanel,r=n._dataController,s=n.option("loadPanel")||{},a=r.isLoaded()?s.animation:null,l=n.element();if(it()&&(!o&&t!==void 0&&r.isLocalStore()&&s.enabled==="auto"&&l&&(n._renderLoadPanel(l,l.parent()),o=n._loadPanel),o)){let d={message:t||s.text,animation:a,visible:e};e&&(d.position=De.calculateLoadPanelPosition(l)),clearTimeout(n._hideLoadingTimeoutID),o.option("visible")&&!e?n._hideLoadingTimeoutID=setTimeout(()=>{o.option(d)},200):o.option(d)}}setRowsOpacity(e,t){let n=this._getRowElements().not(".dx-group-row")||[];this._setRowsOpacityCore(n,this.getColumns(),e,t)}_getCellElementsCore(e){let t=super._getCellElementsCore.apply(this,arguments);if(t){let n=t.filter(".dx-group-cell").index();if(n>=0&&t.length>n+1)return t.slice(0,n+1)}return t}_getBoundaryVisibleItemIndex(e,t){let n=this,o=0,r=0,s=0,a=n._scrollTop,l=n._findContentElement(),d=l&&l.offset().top,c=this._dataController.items(),u=n.getTableElement();if(c.length&&u){let h=n._getRowElements(u).filter(":visible");if(!e){let f=Ct(this._hasHeight?this.element():et());a+=f}for(o=0;o<c.length;o++){r=s;let f=I(h).eq(o);if(f.length&&(s=f.offset(),s=(e?s.top:s.top+Ct(f))-d,s>a)){o&&(t||2*a<Math.round(s+r))&&o--;break}}o&&o===c.length&&o--}return o}getTopVisibleItemIndex(e){return this._getBoundaryVisibleItemIndex(!0,e)}getBottomVisibleItemIndex(e){return this._getBoundaryVisibleItemIndex(!1,e)}getTopVisibleRowData(){let e=this.getTopVisibleItemIndex(),t=this._dataController.items();if(t[e])return t[e].data}_scrollToElement(e,t){let n=this.getScrollable();n&&n.scrollToElement(e,t)}optionChanged(e){let t=this;switch(super.optionChanged(e),e.name){case"wordWrapEnabled":case"showColumnLines":case"showRowLines":case"rowAlternationEnabled":case"rowTemplate":case"dataRowTemplate":case"twoWayBindingEnabled":t._invalidate(!0,!0),e.handled=!0;break;case"scrolling":t._rowHeight=null,t._tableElement=null,e.handled=!0;break;case"rtlEnabled":t._rowHeight=null,t._tableElement=null;break;case"loadPanel":t._tableElement=null,t._invalidate(!0,e.fullName!=="loadPanel.enabled"),e.handled=!0;break;case"noDataText":t.renderNoDataText(),e.handled=!0}}setAriaOwns(e,t,n){let o=this._findContentElement(),r=this.getTableElement();r!=null&&r.length&&this.setAria("owns",`${e??""} ${r.attr("id")??""} ${t??""}`.trim(),o)}dispose(){super.dispose(),clearTimeout(this._hideLoadingTimeoutID),this._scrollable&&this._scrollable.dispose()}setScrollerSpacing(e,t){}getFixedContentElement(){var e;let t=this.addWidgetPrefix("content-fixed");return(e=this.element())===null||e===void 0?void 0:e.children(`.${t}`)}_restoreErrorRow(e){}isElementInside(e){return e.closest(`.${this.addWidgetPrefix("rowsview")}`).is(this.element())}},yL={defaultOptions:()=>({hoverStateEnabled:!1,scrolling:{useNative:"auto"},loadPanel:{enabled:"auto",text:de.format("Loading"),width:200,height:90,showIndicator:!0,indicatorSrc:"",showPane:!0},dataRowTemplate:null,columnAutoWidth:!1,noDataText:de.format("dxDataGrid-noDataText"),wordWrapEnabled:!1,showColumnLines:!0,showRowLines:!1,rowAlternationEnabled:!1,activeStateEnabled:!1,twoWayBindingEnabled:!0}),views:{rowsView:vL}};var Hwt=yL.views.rowsView;qe.registerModule("rows",yL);var ROe="dx-context-menu",FOe={columnHeadersView:"header",rowsView:"content",footerView:"footer",headerPanel:"headerPanel"},POe=["columnHeadersView","rowsView","footerView","headerPanel"],xL=class extends li.ViewController{init(){this.createAction("onContextMenuPreparing")}getContextMenuItems(e){if(!e)return!1;let t=this,n=I(e.target),o,r,s,a;return ee(POe,function(){let l=t.getView(this);if(o=l&&l.element(),o&&(o.is(n)||o.find(n).length)){var d;s=n.closest(".dx-row > td, .dx-row > tr"),r=s.parent();let c=l.getRowIndex(r),u=s[0]&&s[0].cellIndex,h=r.data("options"),f={event:e,targetElement:tt(n),target:FOe[this],rowIndex:c,row:l._getRows()[c],columnIndex:u,column:h==null||(d=h.cells)===null||d===void 0||(d=d[u])===null||d===void 0?void 0:d.column};if(f.items=l.getContextMenuItems&&l.getContextMenuItems(f),t.executeAction("onContextMenuPreparing",f),t._contextMenuPrepared(f),a=f.items,a)return!1}}),a}_contextMenuPrepared(e){}},CL=class extends li.View{init(){super.init(),this._contextMenuController=this.getController("contextMenu")}_renderCore(){let e=this.element().addClass(ROe);this.setAria("role","presentation",e),this._createComponent(e,_q,{onPositioning:t=>{let{event:n}=t,o=t.component,r=this._contextMenuController.getContextMenuItems(n);r?(o.option("items",r),n.stopPropagation()):t.cancel=!0},onItemClick(t){var n,o;(n=t.itemData)===null||n===void 0||(o=n.onItemClick)===null||o===void 0||o.call(n,t)},cssClass:this.getWidgetContainerClass(),target:this.component.$element()})}},gY={defaultOptions:()=>({onContextMenuPreparing:null}),controllers:{contextMenu:xL},views:{contextMenuView:CL}};qe.registerModule("contextMenu",gY);var wL=class extends li.ViewController{init(){this._resizingController=this.getController("resizing"),this._columnsController=this.getController("columns"),this._columnHeadersView=this.getView("columnHeadersView"),this._rowsView=this.getView("rowsView")}_createErrorRow(e,t){let n,o,r=this._renderErrorMessage(e);return t?(n=I("<tr>").attr("role","row").addClass("dx-error-row"),o=I("<div>").addClass("dx-closebutton").addClass(this.addWidgetPrefix("action")),X.on(o,Kt,this.createAction(s=>{var a,l;let d=s.event,c,u=I(d.currentTarget).closest(".dx-error-row").index();d.stopPropagation(),ee(t,(h,f)=>{c=I(f).children("tbody").children("tr").eq(u),this.removeErrorRow(c)}),(a=this._resizingController)===null||a===void 0||(l=a.fireContentReadyAction)===null||l===void 0||l.call(a)})),I("<td>").attr({colSpan:this._columnsController.getVisibleColumns().length,role:"gridcell"}).prepend(o).append(r).appendTo(n),n):r}_renderErrorMessage(e){let t=e.url?e.message.replace(e.url,""):e.message||e,n=I("<div>").attr("role","alert").attr("aria-roledescription",de.format("dxDataGrid-ariaError")).addClass("dx-error-message").text(t);return e.url&&I("<a>").attr("href",e.url).text(e.url).appendTo(n),n}renderErrorRow(e,t,n){var o,r;let s=this,a,l;if(n)return n.find(".dx-error-message").remove(),a=s._createErrorRow(e),n.prepend(a),a;let d=t>=0||!s._columnHeadersView.isVisible()?s._rowsView:s._columnHeadersView,c=d.getTableElements();return ee(c,(u,h)=>{if(a=s._createErrorRow(e,c),l=l||a,t>=0){let f=d._getRowElements(I(h)).eq(t);s.removeErrorRow(f.next()),a.insertAfter(f)}else{let f=I(h).children("tbody"),p=f.children("tr");s._columnHeadersView.isVisible()?(s.removeErrorRow(p.last()),I(h).append(a)):(s.removeErrorRow(p.first()),f.first().prepend(a))}}),(o=this._resizingController)===null||o===void 0||(r=o.fireContentReadyAction)===null||r===void 0||r.call(o),l}removeErrorRow(e){if(!e){let t=this._columnHeadersView&&this._columnHeadersView.element();if(e=t&&t.find(".dx-error-row"),!e||!e.length){let n=this._rowsView.element();e=n&&n.find(".dx-error-row")}}e&&e.hasClass("dx-error-row")&&e.remove()}optionChanged(e){e.name==="errorRowEnabled"?e.handled=!0:super.optionChanged(e)}},LOe=i=>class extends i{init(){super.init(),this.dataErrorOccurred.add((e,t)=>{this.option("errorRowEnabled")&&this._errorHandlingController.renderErrorRow(e,void 0,t)}),this.changed.add(e=>{if(!(e&&e.changeType==="loadError")&&this._editingController&&!this._editingController.hasChanges()){var t,n;(t=this._errorHandlingController)===null||t===void 0||(n=t.removeErrorRow)===null||n===void 0||n.call(t)}})}},_Y={defaultOptions:()=>({errorRowEnabled:!0}),controllers:{errorHandling:wL},extenders:{controllers:{data:LOe}}};qe.registerModule("errorHandling",_Y);var NOe={container:"dx-gridbase-a11y-status-container"},bY=i=>{let{statusText:e}=i;return I("<div>").text(e??"").addClass(NOe.container).attr("role","status")};var IL=["columnsSeparatorView","blockSeparatorView","trackerView","headerPanel","columnHeadersView","rowsView","footerView","columnChooserView","filterPanelView","pagerView","draggingHeaderView","contextMenuView","errorView","headerFilterView","filterBuilderView"],BOe={a11yStatusContainer:"e2e-a11y-general-status-container"},jv=function(i){return We(i)&&i.endsWith("%")},VOe=function(i){return We(i)&&i.endsWith("px")},vY=function(i,e){let t=i._rowsView.contentWidth(),n=i._getTotalWidth(e,t);return t-n},HOe=function(i,e,t,n){return vY(i,n.map((o,r)=>r===e?t:o))},zOe=function(i,e){Oq(i,!0),De.setSelectionRange(i,e)},SL=class extends li.ViewController{init(){this._prevContentMinHeight=null,this._dataController=this.getController("data"),this._columnsController=this.getController("columns"),this._columnHeadersView=this.getView("columnHeadersView"),this._adaptiveColumnsController=this.getController("adaptiveColumns"),this._editorFactoryController=this.getController("editorFactory"),this._footerView=this.getView("footerView"),this._rowsView=this.getView("rowsView"),this._gridView=this.getView("gridView")}_initPostRenderHandlers(){this._refreshSizesHandler||(this._refreshSizesHandler=e=>{let t=new le().resolve(null),n=e?.changeType,o=e?.isDelayed,r=n&&n!=="updateSelection"&&n!=="updateFocusedRow"&&n!=="pageIndex"&&!o;this._dataController.changed.remove(this._refreshSizesHandler),this._checkSize()&&(t=this._refreshSizes(e)),r&&Be(t).done(()=>{this._setAriaLabel(),this.fireContentReadyAction()})},this._dataController.changed.add(()=>{this._dataController.changed.add(this._refreshSizesHandler)}))}_refreshSizes(e){let t=new le().resolve(null),n=e?.changeType,o=e?.isDelayed,r=this._dataController.items();if(!e||n==="refresh"||n==="prepend"||n==="append")o||(t=this.resize());else if(n==="update"){var s;if(((s=e.changeTypes)===null||s===void 0?void 0:s.length)===0)return t;(r.length>1||e.changeTypes[0]!=="insert")&&!(r.length===0&&e.changeTypes[0]==="remove")&&!e.needUpdateDimensions?(t=new le,this._waitAsyncTemplates().done(()=>{Go(()=>jn(()=>Go(()=>{this._setScrollerSpacing(),this._rowsView.resize(),t.resolve()})))}).fail(t.reject)):t=this.resize()}return t}fireContentReadyAction(){this.component._fireContentReadyAction()}_getWidgetAriaLabel(){return"dxDataGrid-ariaDataGrid"}_setAriaLabel(){var e;let t=((e=this._columnsController)===null||e===void 0||(e=e._columns)===null||e===void 0?void 0:e.filter(a=>{let{visible:l}=a;return!!l}).length)??0,n=Math.max(0,this._dataController.totalItemsCount()),o=this._getWidgetAriaLabel(),r=de.format(o,n,t),s=this.component.$element().children(".dx-gridbase-container");this.component.setAria("label",r,s),this._gridView.setWidgetA11yStatusText(r)}_getBestFitWidths(){var e;let t=this._rowsView,n=this._columnHeadersView,o=t.getColumnWidths();if(!((e=o)!==null&&e!==void 0&&e.length)){var r;let s=n.getTableElement();n.setTableElement((r=t.getTableElement())===null||r===void 0?void 0:r.children(".dx-header")),o=n.getColumnWidths(),n.setTableElement(s)}return o}_setVisibleWidths(e,t){let n=this._columnsController;n.beginUpdate(),ee(e,(o,r)=>{let s=n.getColumnId(r);n.columnOption(s,"visibleWidth",t[o])}),n.endUpdate()}_toggleBestFitModeForView(e,t,n){if(!e||!e.isVisible())return;let o=this._rowsView.getTableElements(),r=e.getTableElements();ee(o,(s,a)=>{let l,d=I(a),c=r.eq(s);c&&c.length&&(n?l=c.children("tbody").appendTo(d):l=d.children(`.${t}`).appendTo(c),l.toggleClass(t,n),l.toggleClass(this.addWidgetPrefix("best-fit"),n))})}_toggleBestFitMode(e){let t=this._rowsView.getTableElement(),n=this._rowsView.getTableElements().eq(1);t&&(t.css("tableLayout",e?"auto":"fixed"),t.children("colgroup").css("display",e?"none":""),ee(n.find("tr.dx-group-row"),(o,r)=>{I(r).css("display",e?"none":"")}),n.toggleClass(this.addWidgetPrefix("table-fixed"),!e),this._toggleBestFitModeForView(this._columnHeadersView,"dx-header",e),this._toggleBestFitModeForView(this._footerView,"dx-footer",e),this._needStretch()&&(t.get(0).style.width=e?"auto":""))}_toggleContentMinHeight(e){let t=this._rowsView.getScrollable(),n=this._rowsView._findContentElement();t?.option("useNative")===!1&&(e===!0&&(this._prevContentMinHeight=n.get(0).style.minHeight),U(this._prevContentMinHeight)&&n.css({minHeight:e?De.getContentHeightLimit(gi):this._prevContentMinHeight}))}_synchronizeColumns(){let e=this._columnsController,t=e.getVisibleColumns(),n=this.option("columnAutoWidth"),o=this.option("wordWrapEnabled"),r=t.some(p=>!U(p.width)),s=this._needBestFit(),a=!1,l,d=!1,c=[],u,h;!s&&ee(t,(p,m)=>{if(m.width==="auto")return s=!0,!1}),ee(t,(p,m)=>{if(m.minWidth)return a=!0,!1}),this._setVisibleWidths(t,[]);let f=this.component.$element();s&&(u=be.getActiveElement(f.get(0)),h=De.getSelectionRange(u),this._toggleBestFitMode(!0),l=!0),this._toggleContentMinHeight(o),f&&f.get(0)&&this._maxWidth&&(delete this._maxWidth,f[0].style.maxWidth=""),Go(()=>{s?(c=this._getBestFitWidths(),ee(t,(p,m)=>{let g=e.getColumnId(m);e.columnOption(g,"bestFitWidth",c[p],!0)})):a&&(c=this._getBestFitWidths()),ee(t,function(p){let{width:m}=this;m!=="auto"&&(U(m)?c[p]=ai(m)||VOe(m)?parseFloat(m):m:n||(c[p]=void 0))}),l&&(this._toggleBestFitMode(!1),l=!1,u&&u!==be.getActiveElement()&&(un(u).bottom<0||zOe(u,h))),d=this._correctColumnWidths(c,t),n&&(function(){let p;ee(t,(m,g)=>{g.type==="groupExpand"&&(p=c[m])}),ee(t,(m,g)=>{g.type==="groupExpand"&&p&&(c[m]=p)})}(),this._needStretch()&&this._processStretch(c,t)),jn(()=>{(s||d||r)&&this._setVisibleWidths(t,c),o&&this._toggleContentMinHeight(!1)})})}_needBestFit(){return this.option("columnAutoWidth")}_needStretch(){return this._columnsController.getVisibleColumns().some(e=>e.width==="auto"&&!e.command)}_getAverageColumnsWidth(e){let t=vY(this,e),n=e.filter(o=>o===void 0).length;return t/n}_correctColumnWidths(e,t){let n=this,o,r=!1,s=!1,a=!1,l=n.component.$element(),d=n._hasWidth;for(o=0;o<t.length;o++){let c=o,u=t[c],h=e[c]==="adaptiveHidden",f=e[c],{minWidth:p}=u;p&&(f===void 0?f=n._getAverageColumnsWidth(e):jv(f)&&HOe(n,c,p,e)<0&&(f=-1));let m=n._getRealColumnWidth(c,e.map((g,b)=>c===b?f:g));p&&!h&&m<p&&(e[c]=p,a=!0,o=-1),U(u.width)||(s=!0),jv(u.width)&&(r=!0)}if(!s&&e.length){let c=n._rowsView.element(),u=n._rowsView.contentWidth(),h=n._rowsView.getScrollbarWidth(),f=n._getTotalWidth(e,u);if(f<u){let p=De.getLastResizableColumnIndex(t,e);if(p>=0&&(e[p]="auto",a=!0,d===!1&&!r)){let m=n.option("showBorders")?Math.ceil(Ft(c)-Ib(c)):0;n._maxWidth=f+h+m,l.css("maxWidth",n._maxWidth)}}}return a}_processStretch(e,t){let n=this._rowsView.contentWidth(),o=this._getTotalWidth(e,n),r={length:0};if(!e.length)return;ee(t,function(d){(this.width||e[d]==="adaptiveHidden")&&(r[d]=!0,r.length++)});let s=n-o,a=Math.floor(s/(e.length-r.length)),l=s-a*(e.length-r.length);if(s>=0)for(let d=0;d<e.length;d++)r[d]||(e[d]+=a,l>0&&(l<1?(e[d]+=l,l=0):(e[d]++,l--)))}_getRealColumnWidth(e,t,n){let o=1,r=t[e];if(!jv(r))return parseFloat(r);let s=t.reduce((c,u,h)=>jv(u)?c+parseFloat(u):c,0),a=t.reduce((c,u)=>!u||u==="adaptiveHidden"||jv(u)?c:c+parseFloat(u),0);n=n||this._rowsView.contentWidth();let l=n-a,d=s*n/100;return a>0&&d+a>=n&&(o=d>l?l/d:1),parseFloat(r)*n*o/100}_getTotalWidth(e,t){let n=0;for(let o=0;o<e.length;o++){let r=e[o];r&&r!=="adaptiveHidden"&&(n+=this._getRealColumnWidth(o,e,t))}return Math.ceil(n)}_getGroupElement(){return this.component.$element().children().get(0)}updateSize(e){let t=this,n=I(e),o=t.addWidgetPrefix("important-margin");if(t._hasHeight===void 0&&n&&n.is(":visible")&&Qe(n)){let r=n.children(`.${t.getWidgetContainerClass()}`);r.length&&r.detach(),t._hasHeight=!!ft(n);let s=Qe(n);n.addClass(o),t._hasWidth=Qe(n)===s,n.removeClass(o),r.length&&r.appendTo(n)}}publicMethods(){return["resize","updateDimensions"]}_waitAsyncTemplates(){var e,t,n;return Be((e=this._columnHeadersView)===null||e===void 0?void 0:e.waitAsyncTemplates(!0),(t=this._rowsView)===null||t===void 0?void 0:t.waitAsyncTemplates(!0),(n=this._footerView)===null||n===void 0?void 0:n.waitAsyncTemplates(!0))}resize(){if(this.component._requireResize)return new le().resolve();let e=new le;return this._waitAsyncTemplates().done(()=>{Be(this.updateDimensions()).done(e.resolve).fail(e.reject)}).fail(e.reject),e.promise()}updateDimensions(e){let t=this;if(t._initPostRenderHandlers(),!t._checkSize(e))return;let n=t._resizeDeferred,o=t._resizeDeferred=new le;return Be(n).always(()=>{jn(()=>{t._dataController.isLoaded()&&t._synchronizeColumns(),t._resetGroupElementHeight(),Go(()=>{jn(()=>{Go(()=>{t._updateDimensionsCore()})})})}).done(o.resolve).fail(o.reject)}),o.promise()}_resetGroupElementHeight(){let e=this._getGroupElement(),t=this._rowsView.getScrollable();e&&e.style.height&&(!t||!t.scrollTop())&&(e.style.height="")}_checkSize(e){let t=this.component.$element(),n=t.is(":visible"),o=this._lastWidth!==Qe(t)||this._lastHeight!==ft(t)||this._devicePixelRatio!==et().devicePixelRatio;return n&&(!e||o)}_setScrollerSpacingCore(){let e=this,t=e._rowsView.getScrollbarWidth(),n=e._rowsView.getScrollbarWidth(!0);jn(()=>{e._columnHeadersView&&e._columnHeadersView.setScrollerSpacing(t),e._footerView&&e._footerView.setScrollerSpacing(t),e._rowsView.setScrollerSpacing(t,n)})}_setScrollerSpacing(){let e=this._rowsView.getScrollable(),t=this.option("scrolling.useNative")===!0;!e||t?jn(()=>{Go(()=>{this._setScrollerSpacingCore()})}):this._setScrollerSpacingCore()}_setAriaOwns(){var e,t,n;let o=(e=this._columnHeadersView)===null||e===void 0?void 0:e.getTableElement(),r=(t=this._footerView)===null||t===void 0?void 0:t.getTableElement();(n=this._rowsView)===null||n===void 0||n.setAriaOwns(o?.attr("id"),r?.attr("id"))}_updateDimensionsCore(){let e=this,t=e._dataController,n=e._rowsView,o=e.component.$element(),r=this._getGroupElement(),s=ft(o),a=e.option("height")??o.get(0).style.height,l=!!a&&a!=="auto",d=parseInt(o.css("maxHeight")),c=d&&s>=d,u=r&&r.scrollHeight===r.offsetHeight;e.updateSize(o),jn(()=>{let h=e._hasHeight||!!d||l;if(n.hasHeight(h),this._setAriaOwns(),c&&!u&&I(r).css("height",d),!t.isLoaded()){n.setLoading(t.isLoading());return}Go(()=>{e._updateLastSizes(o),e._setScrollerSpacing(),ee(IL,(f,p)=>{let m=e.getView(p);m&&m.resize()}),this._editorFactoryController&&this._editorFactoryController.resize()})})}_updateLastSizes(e){this._lastWidth=Qe(e),this._lastHeight=ft(e),this._devicePixelRatio=et().devicePixelRatio}optionChanged(e){switch(e.name){case"width":case"height":this.component._renderDimensions(),this.resize();case"renderAsync":e.handled=!0;return;default:super.optionChanged(e)}}},EL=class extends li.ViewController{_scrollChangedHandler(e,t,n){for(let o=0;o<e.length;o++)e[o]&&e[o].name!==n&&e[o].scrollTo({left:t.left,top:t.top})}init(){let e=[this.getView("columnHeadersView"),this.getView("footerView"),this.getView("rowsView")];for(let t=0;t<e.length;t++){let n=e[t];n&&n.scrollChanged.add(this._scrollChangedHandler.bind(this,e))}}},OL=class extends li.View{init(){this._resizingController=this.getController("resizing"),this._dataController=this.getController("data")}_endUpdateCore(){this.component._requireResize&&(this.component._requireResize=!1,this._resizingController.resize())}getView(e){return this.component._views[e]}element(){return this._groupElement}optionChanged(e){let t=this;U(t._groupElement)&&e.name==="showBorders"?(t._groupElement.toggleClass(t.addWidgetPrefix("borders"),!!e.value),e.handled=!0):super.optionChanged(e)}_renderViews(e){let t=this;ee(IL,(n,o)=>{let r=t.getView(o);r&&r.render(e)})}_getTableRoleName(){return"group"}render(e){let t=!this._groupElement,n=this._groupElement||I("<div>").addClass(this.getWidgetContainerClass());n.addClass("dx-gridbase-container"),n.toggleClass(this.addWidgetPrefix("borders"),!!this.option("showBorders")),this.setAria("role","presentation",e),this.component.setAria("role",this._getTableRoleName(),n),this._rootElement=e||this._rootElement,t&&(this._groupElement=n,it()&&this._resizingController.updateSize(e),n.appendTo(e)),this._a11yGeneralStatusElement||(this._a11yGeneralStatusElement=bY({}),this._a11yGeneralStatusElement.attr(BOe.a11yStatusContainer,"true"),n.append(this._a11yGeneralStatusElement)),this._renderViews(n)}update(){let e=this,t=e._rootElement,n=e._groupElement;t&&n&&(this._resizingController.resize(),e._dataController.isLoaded()&&e._resizingController.fireContentReadyAction())}setWidgetA11yStatusText(e){var t;(t=this._a11yGeneralStatusElement)===null||t===void 0||t.text(e)}},yY={defaultOptions:()=>({showBorders:!1,renderAsync:!1}),controllers:{resizing:SL,synchronizeScrolling:EL},views:{gridView:OL},VIEW_NAMES:IL};qe.registerModule("gridView",yY);var jOe=["dxAutocomplete","dxButton","dxCheckBox","dxDateBox","dxMenu","dxSelectBox","dxTabs","dxTextBox","dxButtonGroup","dxDropDownButton"],$Oe=function(i){let e=i.data&&i.data(),t=e&&e.dxComponents,n=t&&t[0];return n&&e[n]};function Kg(i,e){var t;if(!i)return;let n=i._findItemElementByItem(e);if(!n.length)return;let o=i._getItemData(n),r=!!((t=o.options)!==null&&t!==void 0&&t.disabled||o.disabled||i.option("disabled")),{widget:s}=o;if(s&&jOe.includes(s)){let d=n.find(s.toLowerCase().replace("dx",".dx-"));if(d.length){var a,l;let c=$Oe(d);if(!c)return;let u=(a=c._focusTarget)===null||a===void 0?void 0:a.call(c);s==="dxDropDownButton"?u=u&&u.find(".dx-buttongroup"):u=u??I(c.element());let h=(l=o.options)===null||l===void 0?void 0:l.tabIndex;r?u.attr("tabIndex",-1):u.attr("tabIndex",h??0)}}}var mO=class{constructor(e){this._toolbar=e}_initMarkup(){}_updateMenuVisibility(){}_renderMenuItems(){}_renderItem(){}_getMenuItems(){}_getToolbarItems(){return this._toolbar.option("items")??[]}_getItemsWidth(){return this._toolbar._getSummaryItemsSize("width",this._toolbar._itemElements(),!0)}_arrangeItems(){let e=this._toolbar._$toolbarItemsContainer.find(".dx-toolbar-label").eq(0);if(!e.length)return;let t=Qe(this._toolbar.$element()),n=Ft(e)-Qe(e);e.css("maxWidth",t-n)}_hideOverflowItems(){}_dimensionChanged(){}_itemOptionChanged(){}_optionChanged(){}};var gO=class extends Sv{_init(){super._init(),this._activeStateUnit=".dx-toolbar-menu-action:not(.dx-toolbar-hidden-button-group)"}_initMarkup(){this._renderSections(),super._initMarkup(),this._setMenuRole()}_getSections(){return this._itemContainer().children()}_itemElements(){return this._getSections().children(this._itemSelector())}_renderSections(){let e=this._itemContainer();ee(["before","center","after","menu"],(t,n)=>{let o=`_$${n}Section`;this[o]||(this[o]=I("<div>").addClass("dx-toolbar-menu-section")),this[o].appendTo(e)})}_renderItems(){super._renderItems.apply(this,arguments),this._updateSections()}_setMenuRole(){this.$element().find(".dx-scrollview-content").attr("role","menu")}_updateSections(){let e=this.$element().find(".dx-toolbar-menu-section");e.removeClass("dx-toolbar-menu-last-section"),e.not(":empty").eq(-1).addClass("dx-toolbar-menu-last-section")}_renderItem(e,t,n,o){let r=t.location??"menu",s=this[`_$${r}Section`],a=super._renderItem(e,t,s,o);return this._getItemTemplateName({itemData:t})&&a.addClass("dx-toolbar-menu-custom"),(r==="menu"||t.widget==="dxButton"||t.widget==="dxButtonGroup"||t.isAction)&&a.addClass("dx-toolbar-menu-action"),t.widget==="dxButton"&&a.addClass("dx-toolbar-hidden-button"),t.widget==="dxButtonGroup"&&a.addClass("dx-toolbar-hidden-button-group"),a.addClass(t.cssClass),a}_getItemTemplateName(e){let t=super._getItemTemplateName(e),n=e.itemData;return n&&n.menuItemTemplate||t}_dataSourceOptions(){return{paginate:!1}}_itemClickHandler(e,t,n){I(e.target).closest(".dx-toolbar-menu-action").length&&super._itemClickHandler(e,t,n)}_clean(){this._getSections().empty(),super._clean()}};var _O=class extends hE{_supportedKeys(){var e;let t={};return(!this.option("opened")||!((e=this._list)!==null&&e!==void 0&&e.option("focusedElement")))&&(t=this._button._supportedKeys()),q(super._supportedKeys(),t,{tab(){this._popup&&this._popup.hide()}})}_getDefaultOptions(){return ye({},super._getDefaultOptions(),{items:[],onItemClick:null,dataSource:null,itemTemplate:"item",onButtonClick:null,activeStateEnabled:!0,hoverStateEnabled:!0,opened:!1,onItemRendered:null,closeOnClick:!0,useInkRipple:!1,container:void 0,animation:{show:{type:"fade",from:0,to:1},hide:{type:"fade",to:0}}})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>Ve.real().deviceType==="desktop"&&!Ve.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>xo(),options:{useInkRipple:!0,animation:{show:{type:"pop",duration:200,from:{scale:0},to:{scale:1}},hide:{type:"pop",duration:200,from:{scale:1},to:{scale:0}}}}}])}_init(){super._init(),this.$element().addClass("dx-dropdownmenu"),this._initItemClickAction(),this._initButtonClickAction()}_initItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")}_initButtonClickAction(){this._buttonClickAction=this._createActionByOption("onButtonClick")}_initTemplates(){this._templateManager.addDefaultTemplates({content:new lh("content")}),super._initTemplates()}_initMarkup(){this._renderButton(),super._initMarkup()}_render(){super._render(),this.setAria({haspopup:!0,expanded:this.option("opened")})}_renderContentImpl(){this.option("opened")&&this._renderPopup()}_clean(){this._cleanFocusState(),this._list&&this._list.$element().remove(),this._popup&&this._popup.$element().remove(),delete this._list,delete this._popup}_renderButton(){let e=this.$element().addClass("dx-dropdownmenu-button");this._button=this._createComponent(e,Ln,{icon:"overflow",template:"content",stylingMode:Zn()?"text":"contained",useInkRipple:this.option("useInkRipple"),hoverStateEnabled:!1,focusStateEnabled:!1,onClick:t=>{this.option("opened",!this.option("opened")),this._buttonClickAction(t)}})}_toggleActiveState(e,t,n){this._button._toggleActiveState(e,t,n)}_toggleMenuVisibility(e){var t,n;let o=e??!((t=this._popup)!==null&&t!==void 0&&t.option("visible"));e&&this._renderPopup(),(n=this._popup)===null||n===void 0||n.toggle(o),this.setAria("expanded",o)}_renderPopup(){if(this._$popup)return;this._$popup=I("<div>").appendTo(this.$element());let{rtlEnabled:e,container:t,animation:n}=this.option();this._popup=this._createComponent(this._$popup,"dxPopup",{onInitialized(o){let{component:r}=o;r.$wrapper().addClass("dx-dropdownmenu-popup-wrapper").addClass("dx-dropdownmenu-popup")},deferRendering:!1,preventScrollEvents:!1,contentTemplate:o=>this._renderList(o),_ignoreFunctionValueDeprecation:!0,maxHeight:()=>this._getMaxHeight(),position:{my:"top "+(e?"left":"right"),at:"bottom "+(e?"left":"right"),collision:"fit flip",offset:{v:3},of:this.$element()},animation:n,onOptionChanged:o=>{let{name:r,value:s}=o;r==="visible"&&this.option("opened",s)},container:t,autoResizeEnabled:!1,height:"auto",width:"auto",hideOnOutsideClick:o=>this._closeOutsideDropDownHandler(o),hideOnParentScroll:!0,shading:!1,dragEnabled:!1,showTitle:!1,fullScreen:!1,_fixWrapperPosition:!0})}_getMaxHeight(){let e=this.$element(),t=e.offset().top,n=Ct(et()),o=Math.max(t,n-t-Ct(e));return Math.min(n,o-3-10)}_closeOutsideDropDownHandler(e){return!I(e.target).closest(this.$element()).length}_renderList(e){let t=I(e);t.addClass("dx-dropdownmenu-list"),this._list=this._createComponent(t,gO,{dataSource:this._getListDataSource(),pageLoadMode:"scrollBottom",indicateLoading:!1,noDataText:"",itemTemplate:this.option("itemTemplate"),onItemClick:n=>{this.option("closeOnClick")&&this.option("opened",!1),this._itemClickAction(n)},tabIndex:-1,focusStateEnabled:!1,activeStateEnabled:!0,onItemRendered:this.option("onItemRendered"),_itemAttributes:{role:"menuitem"}})}_itemOptionChanged(e,t,n){var o;(o=this._list)===null||o===void 0||o._itemOptionChanged(e,t,n),Kg(this._list,e)}_getListDataSource(){return this.option("dataSource")??this.option("items")}_setListDataSource(){var e;(e=this._list)===null||e===void 0||e.option("dataSource",this._getListDataSource()),delete this._deferRendering}_getKeyboardListeners(){return super._getKeyboardListeners().concat([this._list])}_toggleVisibility(e){var t;super._toggleVisibility(e),(t=this._button)===null||t===void 0||t.option("visible",e)}_optionChanged(e){var t,n,o;let{name:r,value:s}=e;switch(r){case"items":case"dataSource":this.option("opened")?this._setListDataSource():this._deferRendering=!0;break;case"itemTemplate":(t=this._list)===null||t===void 0||t.option(r,this._getTemplate(s));break;case"onItemClick":this._initItemClickAction();break;case"onButtonClick":this._buttonClickAction();break;case"useInkRipple":this._invalidate();break;case"focusStateEnabled":(n=this._list)===null||n===void 0||n.option(r,s),super._optionChanged(e);break;case"onItemRendered":(o=this._list)===null||o===void 0||o.option(r,s);break;case"opened":this._deferRendering&&this._setListDataSource(),this._toggleMenuVisibility(s),this._updateFocusableItemsTabIndex();break;case"closeOnClick":break;case"container":this._popup&&this._popup.option(r,s);break;case"disabled":this._list&&this._updateFocusableItemsTabIndex();break;default:super._optionChanged(e)}}_updateFocusableItemsTabIndex(){this.option("items").forEach(e=>Kg(this._list,e))}};var DL="dx-toolbar-item-invisible",bO=class{constructor(e){this._toolbar=e}_initMarkup(){jn(()=>{this._renderOverflowMenu(),this._renderMenuItems()})}_renderOverflowMenu(){if(!this._hasVisibleMenuItems())return;this._renderMenuButtonContainer();let e=I("<div>").appendTo(this._overflowMenuContainer()),t=this._toolbar._createActionByOption("onItemClick"),n=this._toolbar._getTemplateByOption("menuItemTemplate");this._menu=this._toolbar._createComponent(e,_O,{disabled:this._toolbar.option("disabled"),itemTemplate:()=>n,onItemClick:o=>{t(o)},container:this._toolbar.option("menuContainer"),onOptionChanged:o=>{let{name:r,value:s}=o;r==="opened"&&this._toolbar.option("overflowMenuVisible",s),r==="items"&&this._updateMenuVisibility(s)}})}renderMenuItems(){this._menu||this._renderOverflowMenu(),this._menu&&this._menu.option("items",this._getMenuItems()),this._menu&&!this._menu.option("items").length&&this._menu.option("opened",!1)}_renderMenuButtonContainer(){this._$overflowMenuContainer=I("<div>").appendTo(this._toolbar._$afterSection).addClass("dx-toolbar-button").addClass("dx-toolbar-menu-container")}_overflowMenuContainer(){return this._$overflowMenuContainer}_updateMenuVisibility(e){let t=e??this._getMenuItems(),n=t.length&&this._hasVisibleMenuItems(t);this._toggleMenuVisibility(n)}_toggleMenuVisibility(e){this._overflowMenuContainer()&&this._overflowMenuContainer().toggleClass("dx-state-invisible",!e)}_renderMenuItems(){jn(()=>{this.renderMenuItems()})}_dimensionChanged(){this.renderMenuItems()}_getToolbarItems(){return vo(this._toolbar.option("items")??[],e=>!this._toolbar._isMenuItem(e))}_getHiddenItems(){return this._toolbar._itemContainer().children(`.dx-toolbar-item-auto-hide.${DL}`).not(".dx-state-invisible")}_getMenuItems(){let e=vo(this._toolbar.option("items")??[],o=>this._toolbar._isMenuItem(o)),t=this._getHiddenItems();return this._restoreItems=this._restoreItems??[],[...[].slice.call(t).map(o=>{let r=this._toolbar._getItemData(o),s=I(o),a=s.children();return q({menuItemTemplate:()=>(this._restoreItems.push({container:s,item:a}),I("<div>").addClass("dx-toolbar-item-auto-hide").append(a))},r)}),...e]}_hasVisibleMenuItems(e){let t=e??this._toolbar.option("items"),n=!1,o=Qt("visible"),r=Qt("locateInMenu");return ee(t,(s,a)=>{let l=o(a,{functionsAsIs:!0}),d=r(a,{functionsAsIs:!0});(l!==!1&&(d==="auto"||d==="always")||a.location==="menu")&&(n=!0)}),n}_arrangeItems(){this._toolbar._$centerSection.css({margin:"0 auto",float:"none"}),ee(this._restoreItems??[],(t,n)=>{I(n.container).append(n.item)}),this._restoreItems=[];let e=Qe(this._toolbar.$element());return this._hideOverflowItems(e),e}_hideOverflowItems(e){let t=this._toolbar.$element().find(".dx-toolbar-item-auto-hide");if(!t.length)return;let n=e??Qe(this._toolbar.$element());I(t).removeClass(DL);let o=this._getItemsWidth();for(;t.length&&n<o;)t.eq(-1).addClass(DL),o=this._getItemsWidth(),t.splice(-1,1)}_getItemsWidth(){return this._toolbar._getSummaryItemsSize("width",[this._toolbar._$beforeSection,this._toolbar._$centerSection,this._toolbar._$afterSection])}_itemOptionChanged(e,t,n){if((t==="disabled"||t==="options.disabled")&&this._toolbar._isMenuItem(e)){var o;(o=this._menu)===null||o===void 0||o._itemOptionChanged(e,t,n);return}this.renderMenuItems()}_renderItem(e,t){e.locateInMenu==="auto"&&t.addClass("dx-toolbar-item-auto-hide")}_optionChanged(e,t){var n,o,r,s,a;switch(e){case"disabled":(n=this._menu)===null||n===void 0||n.option(e,t);break;case"overflowMenuVisible":(o=this._menu)===null||o===void 0||o.option("opened",t);break;case"onItemClick":(r=this._menu)===null||r===void 0||r.option(e,t);break;case"menuContainer":(s=this._menu)===null||s===void 0||s.option("container",t);break;case"menuItemTemplate":(a=this._menu)===null||a===void 0||a.option("itemTemplate",t)}}};var vO=class extends o2{_getDefaultOptions(){return ye({},super._getDefaultOptions(),{menuItemTemplate:"menuItem",menuContainer:void 0,overflowMenuVisible:!1,multiline:!1})}_isMultiline(){return this.option("multiline")}_dimensionChanged(e){e!=="height"&&(super._dimensionChanged(),this._layoutStrategy._dimensionChanged())}_initMarkup(){super._initMarkup(),this._updateFocusableItemsTabIndex(),this._layoutStrategy._initMarkup()}_renderToolbar(){super._renderToolbar(),this._renderLayoutStrategy()}_itemContainer(){return this._isMultiline()?this._$toolbarItemsContainer:super._itemContainer()}_renderLayoutStrategy(){this.$element().toggleClass("dx-toolbar-multiline",this._isMultiline()),this._layoutStrategy=this._isMultiline()?new mO(this):new bO(this)}_renderSections(){if(!this._isMultiline())return super._renderSections()}_postProcessRenderItems(){this._layoutStrategy._hideOverflowItems(),this._layoutStrategy._updateMenuVisibility(),super._postProcessRenderItems(),this._layoutStrategy._renderMenuItems()}_renderItem(e,t,n,o){let r=super._renderItem(e,t,n,o);this._layoutStrategy._renderItem(t,r);let{widget:s,showText:a}=t;return s==="dxButton"&&a==="inMenu"&&r.toggleClass("dx-toolbar-text-auto-hide"),r}_getItemsWidth(){return this._layoutStrategy._getItemsWidth()}_getMenuItems(){return this._layoutStrategy._getMenuItems()}_getToolbarItems(){return this._layoutStrategy._getToolbarItems()}_arrangeItems(){if(this.$element().is(":hidden"))return;let e=this._layoutStrategy._arrangeItems();this._isMultiline()||super._arrangeItems(e)}_itemOptionChanged(e,t,n,o){this._isMenuItem(e)||super._itemOptionChanged(e,t,n,o),this._layoutStrategy._itemOptionChanged(e,t,n),(t==="disabled"||t==="options.disabled")&&Kg(this,e),t==="location"&&this.repaint()}_updateFocusableItemsTabIndex(){this._getToolbarItems().forEach(e=>Kg(this,e))}_isMenuItem(e){return e.location==="menu"||e.locateInMenu==="always"}_isToolbarItem(e){return e.location===void 0||e.locateInMenu==="never"}_optionChanged(e){let{name:t,value:n}=e;switch(this._layoutStrategy._optionChanged(t,n),t){case"menuContainer":case"menuItemTemplate":case"overflowMenuVisible":break;case"multiline":this._invalidate();break;case"disabled":super._optionChanged(e),this._updateFocusableItemsTabIndex();break;default:super._optionChanged(e)}}updateDimensions(){this._dimensionChanged()}};ut("dxToolbar",vO);var xY=vO;var CY=xY;var wY=CY;var SY=["addRowButton","applyFilterButton","columnChooserButton","exportButton","groupPanel","revertButton","saveButton","searchPanel"],TL=class extends $a{init(){super.init(),this._editingController=this.getController("editing"),this._headerFilterController=this.getController("headerFilter"),this.createAction("onToolbarPreparing",{excludeValidators:["disabled","readOnly"]})}_getToolbarItems(){return[]}_getButtonContainer(){return I("<div>").addClass(this.addWidgetPrefix("toolbar-button"))}_getToolbarButtonClass(e){let t=e?` ${e}`:"";return this.addWidgetPrefix("toolbar-button")+t}_getToolbarOptions(){let e=this.option("toolbar"),t={toolbarOptions:{items:this._getToolbarItems(),visible:e?.visible,disabled:e?.disabled,onItemRendered(o){let r=o.itemData.onItemRendered;r&&r(o)}}},n=e?.items;if(t.toolbarOptions.items=this._normalizeToolbarItems(t.toolbarOptions.items,n),this.executeAction("onToolbarPreparing",t),t.toolbarOptions&&!U(t.toolbarOptions.visible)){let o=t.toolbarOptions.items;t.toolbarOptions.visible=!!(o!=null&&o.length)}return t.toolbarOptions}_normalizeToolbarItems(e,t){e.forEach(a=>{if(!SY.includes(a.name))throw new Error(`Default toolbar item '${a.name}' is not added to DEFAULT_TOOLBAR_ITEM_NAMES`)});let n={location:"after"},o=Array.isArray(t);if(!U(t))return e;o||(t=[t]);let r={};e.forEach(a=>{r[a.name]=a});let s=t.map(a=>(We(a)&&(a={name:a}),U(a.name)&&(U(r[a.name])?a=q(!0,{},r[a.name],a):SY.includes(a.name)&&(a=ye({},a,{visible:!1}))),q(!0,{},n,a)));return o?s:s[0]}_renderCore(){if(this._toolbar)this._toolbar.option(this._toolbarOptions);else{let e=this.element();e.addClass(this.addWidgetPrefix("header-panel"));let t=de.format(this.component.NAME+"-ariaToolbar"),n=I("<div>").attr("aria-label",t).appendTo(e);this._toolbar=this._createComponent(n,wY,this._toolbarOptions)}}_columnOptionChanged(){}_handleDataChanged(){this._requireReady&&this.render()}_isDisabledDefinedByUser(e){var t;let n=(t=this.option("toolbar"))===null||t===void 0?void 0:t.items,o=n?.find(r=>r?.name===e);return U(o?.disabled)}render(){this._toolbarOptions=this._getToolbarOptions(),super.render.apply(this,arguments)}setToolbarItemDisabled(e,t){let n=this._toolbar,o=this._isDisabledDefinedByUser(e);if(!n||o)return;let s=(n.option("items")??[]).findIndex(l=>l.name===e);if(s<0)return;let a=n.option(`items[${s}]`);n.option(`items[${s}].disabled`,t),a.options&&n.option(`items[${s}].options.disabled`,t)}updateToolbarDimensions(){var e;(e=this._toolbar)===null||e===void 0||e.updateDimensions()}getHeaderPanel(){return this.element()}getHeight(){return this.getElementHeight()}optionChanged(e){if(e.name==="onToolbarPreparing"&&(this._invalidate(),e.handled=!0),e.name==="toolbar"){let r=Ca(e.fullName),s=e.fullName.replace(/^toolbar\./,"");if(r.length===1)this._invalidate();else if(r[1]==="items"){if(r.length===2){var t;let a=this._getToolbarOptions();(t=this._toolbar)===null||t===void 0||t.option("items",a.items)}else if(r.length===3){var n;let a=this._normalizeToolbarItems(this._getToolbarItems(),e.value);(n=this._toolbar)===null||n===void 0||n.option(s,a)}else if(r.length>=4){var o;(o=this._toolbar)===null||o===void 0||o.option(s,e.value)}}else this._invalidate();e.handled=!0}super.optionChanged(e)}isVisible(){return!!(this._toolbarOptions&&this._toolbarOptions.visible)}allowDragging(){}hasGroupedColumns(){}},WOe=i=>class extends i{_updateDimensionsCore(){super._updateDimensionsCore.apply(this,arguments),this.getView("headerPanel").updateToolbarDimensions()}},AL={defaultOptions:()=>({}),views:{headerPanel:TL},extenders:{controllers:{resizing:WOe}}};var SEt=AL.views.headerPanel;qe.registerModule("headerPanel",AL);var yO=class extends Tn{_getDefaultOptions(){let e=super._getDefaultOptions();return ee(this.getGridCoreHelper().modules,function(){Ie(this.defaultOptions)&&q(!0,e,this.defaultOptions())}),e}_init(){this._activeStateUnit=".dx-row",super._init()}_setDeprecatedOptions(){super._setDeprecatedOptions(),q(this._deprecatedOptions,{"columnChooser.allowSearch":{since:"23.1",message:'Use the "columnChooser.search.enabled" option instead'},"columnChooser.searchTimeout":{since:"23.1",message:'Use the "columnChooser.search.timeout" option instead'}})}_clean(){}_optionChanged(e){this.getGridCoreHelper().callModuleItemsMethod(this,"optionChanged",[e]),e.handled||super._optionChanged(e)}_dimensionChanged(){this.updateDimensions(!0)}_visibilityChanged(e){e&&this.updateDimensions()}_renderContentImpl(){this.getView("gridView").update()}_renderContent(){let e=this;jn(()=>{e._renderContentImpl()})}_dispose(){super._dispose(),this.getGridCoreHelper().callModuleItemsMethod(this,"dispose")}isReady(){return this.getController("data").isReady()}getController(e){return this._controllers[e]}getView(e){return this._views[e]}getGridCoreHelper(){}beginUpdate(){super.beginUpdate(),this.getGridCoreHelper().callModuleItemsMethod(this,"beginUpdate")}endUpdate(){this.getGridCoreHelper().callModuleItemsMethod(this,"endUpdate"),super.endUpdate()}};var UOe="Specifying grid templates with the jQuery selector name is now deprecated. Use the DOM Node or the jQuery object that references this selector instead.";qe.registerModulesOrder(["stateStoring","columns","selection","editorFactory","columnChooser","grouping","editing","editingRowBased","editingFormBased","editingCellBased","masterDetail","validating","adaptivity","data","virtualScrolling","columnHeaders","filterRow","headerPanel","headerFilter","sorting","search","rows","pager","columnsResizingReordering","contextMenu","keyboardNavigation","errorHandling","summary","columnFixing","export","gridView"]);var xO=class extends yO{_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:{platform:"ios"},options:{showRowLines:!0}},{device:()=>xo(),options:{showRowLines:!0,showColumnLines:!1,headerFilter:{height:315},editing:{useIcons:!0},selection:{showCheckBoxesMode:"always"}}},{device:()=>gi.webkit,options:{loadingTimeout:30,loadPanel:{animation:{show:{easing:"cubic-bezier(1, 0, 1, 0)",duration:500,from:{opacity:0},to:{opacity:1}}}}}},{device:e=>e.deviceType!=="desktop",options:{grouping:{expandMode:"rowClick"}}}])}_init(){super._init(),De.logHeaderFilterDeprecatedWarningIfNeed(this),qe.processModules(this,qe),qe.callModuleItemsMethod(this,"init")}_initMarkup(){super._initMarkup.apply(this,arguments),this.getView("gridView").render(this.$element())}_setDeprecatedOptions(){super._setDeprecatedOptions(),q(this._deprecatedOptions,{useKeyboard:{since:"19.2",alias:"keyboardNavigation.enabled"},rowTemplate:{since:"21.2",message:'Use the "dataRowTemplate" option instead'}})}static registerModule(e,t){qe.registerModule(e,t)}getGridCoreHelper(){return qe}_getTemplate(e){let t=e;return We(t)&&t.startsWith("#")&&(t=I(e),Qu.warn(UOe)),super._getTemplate(t)}focus(e){this.getController("keyboardNavigation").focus(e)}};ut("dxDataGrid",xO);var EY=xO;var GOe=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/,DY=function(i){i&&ee(i,(e,t)=>{if(ht(t)||Array.isArray(t))DY(t);else if(typeof t=="string"){let n=GOe.exec(t);n&&(i[e]=new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],+n[6])))}})},OY=function(i){let e=i.type==="sessionStorage"?qw():et().localStorage;if(!e)throw new Error("E1007");return e},IY=function(i){return U(i.storageKey)?i.storageKey:"storage"},CO=class extends li.ViewController{getDataController(){return this.getController("data")}getExportController(){return this.getController("export")}getColumnsController(){return this.getController("columns")}init(){return this._state={},this._isLoaded=!1,this._isLoading=!1,this._windowUnloadHandler=()=>{this._savingTimeoutID!==void 0&&this._saveState(this.state())},X.on(et(),"unload",this._windowUnloadHandler),this}optionChanged(e){let t=this;e.name==="stateStoring"?(t.isEnabled()&&!t.isLoading()&&t.load(),e.handled=!0):super.optionChanged(e)}dispose(){clearTimeout(this._savingTimeoutID),X.off(et(),"unload",this._windowUnloadHandler)}_loadState(){let e=this.option("stateStoring");if(e.type==="custom")return e.customLoad&&e.customLoad();try{return JSON.parse(OY(e).getItem(IY(e)))}catch(t){bt.log("W1022","State storing",t.message)}}_saveState(e){let t=this.option("stateStoring");if(t.type==="custom"){t.customSave&&t.customSave(e);return}try{OY(t).setItem(IY(t),JSON.stringify(e))}catch(n){bt.log(n.message)}}publicMethods(){return["state"]}isEnabled(){return this.option("stateStoring.enabled")}isLoaded(){return this._isLoaded}isLoading(){return this._isLoading}load(){this._isLoading=!0;let e=Yn(this._loadState());return e.always(()=>{this._isLoaded=!0,this._isLoading=!1}).done(t=>{t!==null&&!Gn(t)&&this.state(t)}),e}state(e){let t=this;if(!arguments.length)return q(!0,{},t._state);t._state=q({},e),DY(t._state)}save(){let e=this;clearTimeout(e._savingTimeoutID),e._savingTimeoutID=setTimeout(()=>{e._saveState(e.state()),e._savingTimeoutID=void 0},e.option("stateStoring.savingTimeout"))}};var KOe=i=>{let e=i.getView("pagerView"),t=i.getController("data"),n={allowedPageSizes:e?e.getPageSizes():void 0,filterPanel:{filterEnabled:i.option("filterPanel.filterEnabled")},filterValue:i.option("filterValue"),focusedRowKey:i.option("focusedRowEnabled")?i.option("focusedRowKey"):void 0};return q(n,t.getUserState())},qOe=i=>{let e=i.getController("columns"),t=i.getController("selection"),n=i.getController("export"),o=i.getController("data");e&&e.columnsChanged.add(()=>{i.updateState({columns:e.getUserState()})}),t&&t.selectionChanged.add(r=>{i.updateState({selectedRowKeys:r.selectedRowKeys,selectionFilter:r.selectionFilter})}),o&&(i._initialPageSize=i.option("paging.pageSize"),i._initialFilterValue=i.option("filterValue"),o.changed.add(()=>{let r=KOe(i);i.updateState(r)})),n&&n.selectionOnlyChanged.add(()=>{i.updateState({exportSelectionOnly:n.selectionOnly()})})};var YOe=(i,e)=>{let t=i.getController("filterSync"),n=i.getController("columns"),o=e.columns||e.filterValue!==void 0;return t?o?e.filterValue||t.getFilterValueFromColumns(e.columns):i._initialFilterValue||t.getFilterValueFromColumns(n.getColumns()):null},XOe=i=>class extends i{init(){super.init(),this._dataController.stateLoaded.add(()=>{if(this._dataController.isLoaded()&&!this._dataController.getDataSource()){this.setLoading(!1),this.renderNoDataText();let e=this.component.getView("columnHeadersView");e&&e.render(),this.component._fireContentReadyAction()}})}},ZOe=i=>class extends i{init(){return super.init.apply(this,arguments),qOe(this),this}isLoading(){return super.isLoading()||this.getDataController().isStateLoading()}state(e){let t=super.state.apply(this,arguments);return e!==void 0&&this.applyState(q(!0,{},e)),t}updateState(e){if(this.isEnabled()){let t=this.state(),n=q({},t,e),o=$r(t),r=$r(n);hi(o,r)||(e=q(!0,{},e),q(this._state,e),this.save())}else q(this._state,e)}applyState(e){var t;let{allowedPageSizes:n}=e,{searchText:o}=e,{selectedRowKeys:r}=e,{selectionFilter:s}=e,a=this.option("scrolling.mode"),l=a==="virtual"||a==="infinite",d=this.option("pager.visible")===!0&&this.option("pager.showPageSizeSelector"),c=(t=this.getView("rowsView"))===null||t===void 0?void 0:t.hasHeight();this.component.beginUpdate(),this.getColumnsController()&&this.getColumnsController().setUserState(e.columns),this.getExportController()&&this.getExportController().selectionOnly(e.exportSelectionOnly),this.option("selection.deferred")||this.option("selectedRowKeys",r||[]),this.option("selectionFilter",s),n&&this.option("pager.allowedPageSizes")==="auto"&&(this.option("pager").allowedPageSizes=n),this.option("focusedRowEnabled")&&(this.option("focusedRowIndex",-1),this.option("focusedRowKey",e.focusedRowKey||null)),this.component.endUpdate(),this.option("searchPanel.text",o||""),this.option("filterValue",YOe(this,e)),this.option("filterPanel.filterEnabled",e.filterPanel?e.filterPanel.filterEnabled:!0),this.option("paging.pageIndex",(!l||c)&&e.pageIndex||0),this.option("paging.pageSize",(!l||d)&&U(e.pageSize)?e.pageSize:this._initialPageSize),this.getDataController()&&this.getDataController().reset()}},QOe=i=>class extends i{_shouldReturnVisibleColumns(){return super._shouldReturnVisibleColumns.apply(this,arguments)&&(!this._stateStoringController.isEnabled()||this._stateStoringController.isLoaded())}},JOe=i=>class extends i{dispose(){clearTimeout(this._restoreStateTimeoutID),super.dispose()}callbackNames(){return super.callbackNames().concat(["stateLoaded"])}_refreshDataSource(){if(this._stateStoringController.isEnabled()&&!this._stateStoringController.isLoaded()){clearTimeout(this._restoreStateTimeoutID);let e=new le;return this._restoreStateTimeoutID=setTimeout(()=>{this._stateStoringController.load().always(()=>{this._restoreStateTimeoutID=null}).done(()=>{super._refreshDataSource(),this.stateLoaded.fire(),e.resolve()}).fail(t=>{this.stateLoaded.fire(),this._handleLoadError(t||"Unknown error"),e.reject()})}),e.promise()}this.isStateLoading()||super._refreshDataSource()}isLoading(){return super.isLoading()||this._stateStoringController.isLoading()}isStateLoading(){return U(this._restoreStateTimeoutID)}isLoaded(){return super.isLoaded()&&!this.isStateLoading()}},e1e=i=>class extends i{_fireSelectionChanged(e){let t=this.option("selection.deferred");this._stateStoringController.isLoading()&&t||super._fireSelectionChanged.apply(this,arguments)}},TY={defaultOptions:()=>({stateStoring:{enabled:!1,storageKey:null,type:"localStorage",customLoad:null,customSave:null,savingTimeout:2e3}}),controllers:{stateStoring:CO},extenders:{views:{rowsView:XOe},controllers:{stateStoring:ZOe,columns:QOe,data:JOe,selection:e1e}}};qe.registerModule("stateStoring",TY);var t1e="dx-select-checkboxes-hidden";var Td="selection.showCheckBoxesMode",$v="selection.mode",AY=function(i,e){let t=i.getView("rowsView"),n=i.getController("selection"),o=I(e.target).closest(".dx-data-row"),r=t.getRowIndex(o);r<0||(i.option(Td)==="onLongTap"?n.isSelectionWithCheckboxes()?n.stopSelectionWithCheckboxes():n.startSelectionWithCheckboxes():(i.option(Td)==="onClick"&&n.startSelectionWithCheckboxes(),i.option(Td)!=="always"&&n.changeItemSelection(r,{control:!0})))},i1e=function(i,e){let t=0,n=i._dataController.store(),o=n&&n.key(),r=Array.isArray(o);if(!e.length)return!1;if(r&&Array.isArray(e[0])&&e[1]==="and"){for(let s=0;s<e.length;s++)if(Array.isArray(e[s])){if(e[s][0]!==o[t]||e[s][1]!=="=")return!0;t++}return!1}return o!==e[0]},n1e=(i,e)=>{let{component:t}=e,n=t.getView("rowsView");t.option("renderAsync")&&!t.option("selection.deferred")&&(e.value=t.isRowSelected(e.row.key)),n.renderSelectCheckBoxContainer(I(i),e)},o1e=(i,e)=>{let{column:t}=e,n=I(i),o=e.component.getView("columnHeadersView");n.addClass("dx-editor-cell"),o._renderSelectAllCheckBox(n,t),o._attachSelectAllCheckBoxClickEvent(n)},kL=class extends li.Controller{init(){let{deferred:e,selectAllMode:t,mode:n}=this.option("selection")??{};this.option("scrolling.mode")==="infinite"&&!e&&n==="multiple"&&t==="allPages"&&bt.log("W1018"),this._dataController=this.getController("data"),this._columnsController=this.getController("columns"),this._stateStoringController=this.getController("stateStoring"),this._selectionMode=n,this._isSelectionWithCheckboxes=!1,this._selection=this._createSelection(),this._updateSelectColumn(),this.createAction("onSelectionChanged",{excludeValidators:["disabled","readOnly"]}),this._dataPushedHandler||(this._dataPushedHandler=this._handleDataPushed.bind(this),this._dataController.pushed.add(this._dataPushedHandler))}_handleDataPushed(e){this._deselectRemovedOnPush(e),this._updateSelectedOnPush(e)}_deselectRemovedOnPush(e){let t=this.option("selection.deferred"),n=e.filter(o=>o.type==="remove").map(o=>o.key);if(t){let o=this._dataController.items().filter(r=>r.isSelected).map(r=>r.key);n=n.filter(r=>o.find(s=>hi(s,r)))}n.length&&this.deselectRows(n)}_updateSelectedOnPush(e){if(this.option("selection.deferred"))return;let n=e.filter(r=>r.type==="update"),o=this.getSelectedRowsData();Na({keyInfo:this._selection.options,data:o,changes:n})}_getSelectionConfig(){let e=this._dataController,t=this._columnsController,n=this.option("selection")??{},{deferred:o}=n,r=this.option("scrolling.mode"),s=r==="virtual"||r==="infinite",a=this.option("selection.allowSelectAll"),l=this.option("scrolling.legacyMode");return{selectedKeys:this.option("selectedRowKeys"),mode:this._selectionMode,deferred:o,alwaysSelectByShift:n.alwaysSelectByShift,maxFilterLengthInRequest:n.maxFilterLengthInRequest,selectionFilter:this.option("selectionFilter"),ignoreDisabledItems:!0,isVirtualPaging:s,allowLoadByRange(){let d=t.getGroupColumns().length>0;return s&&!l&&!d&&a&&!o},key:()=>e?.key(),keyOf:d=>e?.keyOf(d),dataFields(){var d;return(d=e.dataSource())===null||d===void 0?void 0:d.select()},load(d){var c;return((c=e.dataSource())===null||c===void 0?void 0:c.load(d))||new le().resolve([])},plainItems:d=>e.items(!0),isItemSelected:d=>d.selected,isSelectableItem:d=>d?.rowType==="data"&&!d.isNewRow,getItemData:d=>U(d?.rowType)?d?.oldData||d?.data:d,filter:()=>e.getCombinedFilter(o),totalCount:()=>e.totalCount(),getLoadOptions(d,c,u){var h;let{sort:f,filter:p}=((h=e.dataSource())===null||h===void 0?void 0:h.lastLoadOptions())??{},m=Math.min(d,c),g=Math.max(d,c);U(u)&&(m=Math.min(u,m),g=Math.max(u,g));let b=g-m+1;return{skip:m,take:b,filter:p,sort:f}},onSelectionChanged:this._updateSelectedItems.bind(this)}}_updateSelectColumn(){let e=this._columnsController,t=this.isSelectColumnVisible();e.addCommandColumn({type:"selection",command:"select",visible:t,visibleIndex:-1,dataType:"boolean",alignment:"center",cssClass:"dx-command-select",width:"auto",cellTemplate:n1e,headerCellTemplate:o1e}),e.columnOption("command:select","visible",t)}_createSelection(){let e=this._getSelectionConfig();return new lg(e)}_fireSelectionChanged(e){let t=this.option("selection.deferred")?{selectionFilter:this.option("selectionFilter")}:{selectedRowKeys:this.option("selectedRowKeys")};this.selectionChanged.fire(t),e&&this.executeAction("onSelectionChanged",e)}_updateCheckboxesState(e){let{isDeferredMode:t}=e,{selectionFilter:n}=e,{selectedItemKeys:o}=e,{removedItemKeys:r}=e;this.option(Td)==="onClick"&&((t?n&&i1e(this,n):o.length>1)?this.startSelectionWithCheckboxes():(t?n&&!n.length:o.length===0&&r.length)&&this.stopSelectionWithCheckboxes())}_updateSelectedItems(e){let t=this,n,o=t.option("selection.deferred"),r=t._selection.selectionFilter(),s=t._dataController,a=s.items(!0),l=s.items();if(!a)return;let d=t.isSelectionWithCheckboxes(),c=t.getChangedItemIndexes(a),u=t.getChangedItemIndexes(l);t._updateCheckboxesState({selectedItemKeys:e.selectedItemKeys,removedItemKeys:e.removedItemKeys,selectionFilter:r,isDeferredMode:o}),(c.length||d!==t.isSelectionWithCheckboxes())&&s.updateItems({changeType:"updateSelection",itemIndexes:u}),o?(t.option("selectionFilter",r),n={}):(e.addedItemKeys.length||e.removedItemKeys.length)&&(t._selectedItemsInternalChange=!0,t.option("selectedRowKeys",e.selectedItemKeys.slice(0)),t._selectedItemsInternalChange=!1,n={selectedRowsData:e.selectedItems.slice(0),selectedRowKeys:e.selectedItemKeys.slice(0),currentSelectedRowKeys:e.addedItemKeys.slice(0),currentDeselectedRowKeys:e.removedItemKeys.slice(0)}),t._fireSelectionChanged(n)}getChangedItemIndexes(e){let t=this,n=[],o=this.option("selection.deferred");for(let r=0,{length:s}=e;r<s;r++){let a=e[r],l=t.isRowSelected(o?a.data:a.key);t._selection.isDataItem(a)&&a.isSelected!==l&&n.push(r)}return n}callbackNames(){return["selectionChanged"]}optionChanged(e){switch(super.optionChanged(e),e.name){case"selection":{let t=this._selectionMode;if(this.init(),e.fullName!=="selection.showCheckBoxesMode"){let n=this._selectionMode,o=this.option("selectedRowKeys");t!==n&&(n==="single"?o.length>1&&(o=[o[0]]):n!=="multiple"&&(o=[])),this.selectRows(o).always(()=>{this._fireSelectionChanged()})}this._columnsController.updateColumns(),e.handled=!0;break}case"selectionFilter":this._selection.selectionFilter(e.value),e.handled=!0;break;case"selectedRowKeys":{let t=e.value||[];Array.isArray(t)&&!this._selectedItemsInternalChange&&(this.component.getDataSource()||!t.length)&&this.selectRows(t),e.handled=!0;break}}}publicMethods(){return["selectRows","deselectRows","selectRowsByIndexes","getSelectedRowKeys","getSelectedRowsData","clearSelection","selectAll","deselectAll","startSelectionWithCheckboxes","stopSelectionWithCheckboxes","isRowSelected"]}isRowSelected(e){return this._selection.isItemSelected(e)}isSelectColumnVisible(){return this.option($v)==="multiple"&&(this.option(Td)==="always"||this.option(Td)==="onClick"||this._isSelectionWithCheckboxes)}_isOnePageSelectAll(){return this.option("selection.selectAllMode")==="page"}isSelectAll(){return this._selection.getSelectAllState(this._isOnePageSelectAll())}selectAll(){return this.option(Td)==="onClick"&&this.startSelectionWithCheckboxes(),this._selection.selectAll(this._isOnePageSelectAll())}deselectAll(){return this._selection.deselectAll(this._isOnePageSelectAll())}clearSelection(){return this.selectedItemKeys([])}refresh(){let e=this.option("selectedRowKeys")??[];return!this.option("selection.deferred")&&e.length?this.selectedItemKeys(e):new le().resolve().promise()}selectedItemKeys(e,t,n,o){return this._selection.selectedItemKeys(e,t,n,o)}getSelectedRowKeys(e){return this._selection.getSelectedItemKeys()}selectRows(e,t){return this.selectedItemKeys(e,t)}deselectRows(e){return this.selectedItemKeys(e,!0,!0)}selectRowsByIndexes(e){let t=this._dataController.items(),n=[];return Array.isArray(e)||(e=Array.prototype.slice.call(arguments,0)),ee(e,function(){let o=t[this];o&&o.rowType==="data"&&n.push(o.key)}),this.selectRows(n)}getSelectedRowsData(e){return this._selection.getSelectedItems()}loadSelectedItemsWithFilter(){return this._selection.loadSelectedItemsWithFilter()}changeItemSelection(e,t,n){t=t||{},this.isSelectionWithCheckboxes()&&(t.control=!0);let o=e+this._dataController.getRowIndexOffset()-this._dataController.getRowIndexOffset(!0);return this._selection.changeItemSelection(o,t,n)}focusedItemIndex(e){let t=this;if(U(e))t._selection._focusedItemIndex=e;else return t._selection._focusedItemIndex}isSelectionWithCheckboxes(){return this.option($v)==="multiple"&&(this.option(Td)==="always"||this._isSelectionWithCheckboxes)}startSelectionWithCheckboxes(){let e=this;return e.option($v)==="multiple"&&!e.isSelectionWithCheckboxes()?(e._isSelectionWithCheckboxes=!0,e._updateSelectColumn(),!0):!1}stopSelectionWithCheckboxes(){let e=this;return e._isSelectionWithCheckboxes?(e._isSelectionWithCheckboxes=!1,e._updateSelectColumn(),!0):!1}},r1e=i=>class extends i{init(){let e=this.option("selection.deferred");super.init.apply(this,arguments),e&&this._selectionController._updateCheckboxesState({isDeferredMode:!0,selectionFilter:this.option("selectionFilter")})}_loadDataSource(){let e=this;return super._loadDataSource().always(()=>{e._selectionController.refresh()})}_processDataItem(e,t){let n=this._selectionController.isSelectColumnVisible(),o=t.isDeferredSelection=t.isDeferredSelection===void 0?this.option("selection.deferred"):t.isDeferredSelection,r=super._processDataItem.apply(this,arguments);if(r.isSelected=this._selectionController.isRowSelected(o?r.data:r.key),n&&r.values){for(let s=0;s<t.visibleColumns.length;s++)if(t.visibleColumns[s].command==="select"){r.values[s]=r.isSelected;break}}return r}refresh(e){let t=this,n=new le;return super.refresh.apply(this,arguments).done(()=>{!e||e.selection?t._selectionController.refresh().done(n.resolve).fail(n.reject):n.resolve()}).fail(n.reject),n.promise()}_handleDataChanged(e){let t=this.hasLoadOperation();super._handleDataChanged.apply(this,arguments),t&&!this._repaintChangesOnly&&this._selectionController.focusedItemIndex(-1)}_applyChange(e){if(e&&e.changeType==="updateSelection"){e.items.forEach((t,n)=>{let o=this._items[n];o&&(o.isSelected=t.isSelected,o.values=t.values)});return}return super._applyChange.apply(this,arguments)}_endUpdateCore(){let e=this._changes;if(e.length>1&&e.every(n=>n.changeType==="updateSelection")){let n=e.map(o=>o.itemIndexes||[]).reduce((o,r)=>o.concat(r));this._changes=[{changeType:"updateSelection",itemIndexes:n}]}super._endUpdateCore.apply(this,arguments)}},s1e=i=>class extends i{_contextMenuPrepared(e){let t=e.event;t.originalEvent&&t.originalEvent.type!=="dxhold"||e.items&&e.items.length>0||AY(this,t)}},a1e=i=>class extends i{init(){super.init(),this._selectionController.selectionChanged.add(this._updateSelectAllValue.bind(this))}_updateSelectAllValue(){let e=this,t=e.element(),n=t&&t.find(".dx-select-checkbox");if(t&&n.length&&e.option("selection.mode")==="multiple"){let o=e._selectionController.isSelectAll(),r=o!==!1,s=e.option("selection.allowSelectAll")?!e._dataController.isEmpty():r;n.dxCheckBox("instance").option({visible:s,value:o})}}_handleDataChanged(e){super._handleDataChanged(e),(!e||e.changeType==="refresh"||e.repaintChangesOnly&&e.changeType==="update")&&this.waitAsyncTemplates().done(()=>{this._updateSelectAllValue()})}_renderSelectAllCheckBox(e,t){let n=this,o=n._dataController.isEmpty(),r=I("<div>").appendTo(e).addClass("dx-select-checkbox");return n.setAria("label",de.format("dxDataGrid-ariaSelectAll"),r),n._editorFactoryController.createEditor(r,q({},t,{parentType:"headerRow",dataType:"boolean",value:this._selectionController.isSelectAll(),editorOptions:{visible:!o&&(n.option("selection.allowSelectAll")||this._selectionController.isSelectAll()!==!1)},tabIndex:n.option("useLegacyKeyboardNavigation")?-1:n.option("tabIndex")||0,setValue:(s,a)=>{let l=n.option("selection.allowSelectAll");a.component.option("visible",l||a.component.option("value")!==!1),!(!a.event||this._selectionController.isSelectAll()===s)&&(a.value&&!l?a.component.option("value",!1):a.value?this._selectionController.selectAll():this._selectionController.deselectAll(),a.event.preventDefault())}})),r}_attachSelectAllCheckBoxClickEvent(e){X.on(e,Kt,this.createAction(t=>{let{event:n}=t;I(n.target).closest(".dx-select-checkbox").length||X.trigger(I(n.currentTarget).children(".dx-select-checkbox"),Kt),n.preventDefault()}))}},l1e=i=>class extends i{renderSelectCheckBoxContainer(e,t){t.rowType==="data"&&!t.row.isNewRow?(e.addClass("dx-editor-cell"),this._attachCheckBoxClickEvent(e),this._renderSelectCheckBox(e,t)):De.setEmptyText(e)}_renderSelectCheckBox(e,t){let n=I("<div>").addClass("dx-select-checkbox").appendTo(e);return this.setAria("label",de.format("dxDataGrid-ariaSelectRow"),n),this._editorFactoryController.createEditor(n,q({},t.column,{parentType:"dataRow",dataType:"boolean",lookup:null,value:t.value,setValue(o,r){var s;(r==null||(s=r.event)===null||s===void 0?void 0:s.type)==="keydown"&&X.trigger(r.element,Kt,r)},row:t.row})),n}_attachCheckBoxClickEvent(e){X.on(e,Kt,this.createAction(function(t){let{event:n}=t,o=this.getRowIndex(I(n.currentTarget).closest(".dx-row"));o>=0&&(this._selectionController.startSelectionWithCheckboxes(),this._selectionController.changeItemSelection(o,{shift:n.shiftKey}),I(n.target).closest(".dx-select-checkbox").length&&this._dataController.updateItems({changeType:"updateSelection",itemIndexes:[o]}))}))}_update(e){let t=this,n=t.getTableElements();e.changeType==="updateSelection"?n.length>0&&(ee(n,(o,r)=>{ee(e.itemIndexes||[],(s,a)=>{let l;if(e.items[a]&&(l=t._getRowElements(I(r)).eq(a),l.length)){let{isSelected:d}=e.items[a];l.toggleClass("dx-selection",d===void 0?!1:d).find(".dx-select-checkbox").dxCheckBox("option","value",d),t.setAria("selected",d,l)}})}),t._updateCheckboxesClass()):super._update(e)}_createTable(){let e=this,t=e.option("selection.mode"),n=super._createTable.apply(e,arguments);return t!=="none"&&((e.option(Td)==="onLongTap"||!Ta)&&X.on(n,Se(ms.name,"dxDataGridRowsView"),".dx-data-row",e.createAction(o=>{AY(e.component,o.event),o.event.stopPropagation()})),X.on(n,"mousedown selectstart",e.createAction(o=>{let{event:r}=o;r.shiftKey&&r.preventDefault()}))),n}_createRow(e){let t=super._createRow.apply(this,arguments);if(e){let{isSelected:n}=e;n&&t.addClass("dx-selection"),this.option($v)!=="none"&&this.setAria("selected",n,t)}return t}_rowClickForTreeList(e){super._rowClick(e)}_rowClick(e){let t=this,n=e.event,o=I(n.target).closest(".dx-selection-disabled").length;t.isClickableElement(I(n.target))||(!o&&(t.option($v)!=="multiple"||t.option(Td)!=="always")&&t._selectionController.changeItemSelection(e.rowIndex,{control:Dn(n),shift:n.shiftKey})&&(n.preventDefault(),e.handled=!0),super._rowClick(e))}isClickableElement(e){return!!e.closest(".dx-command-select").length}_renderCore(e){let t=super._renderCore(e);return this._updateCheckboxesClass(),t}_updateCheckboxesClass(){let e=this.getTableElements(),t=this._selectionController.isSelectColumnVisible()&&!this._selectionController.isSelectionWithCheckboxes();ee(e,(n,o)=>{I(o).toggleClass(t1e,t)})}},kY={defaultOptions:()=>({selection:{mode:"none",showCheckBoxesMode:"onClick",allowSelectAll:!0,selectAllMode:"allPages",deferred:!1,maxFilterLengthInRequest:1500,alwaysSelectByShift:!1},selectionFilter:[],selectedRowKeys:[]}),controllers:{selection:kL},extenders:{controllers:{data:r1e,contextMenu:s1e},views:{columnHeadersView:a1e,rowsView:l1e}}};qe.registerModule("selection",kY);var oa="dx-treeview",bs=`${oa}-node`,nu=`${bs}-container`,ML=`${bs}-loadindicator`,Uh=`${bs}-container-opened`,Wv=`${bs}-is-leaf`,Rr=`${oa}-item`,d1e=`${Rr}-with-checkbox`,c1e=`${Rr}-with-custom-expander-icon`,u1e=`${oa}-custom-expander-icon-item-container`,h1e=`${Rr}-without-checkbox`,p1e=`${Rr}-data`,Uv=`${oa}-toggle-item-visibility`,RL=`${oa}-custom-collapse-icon`,FL=`${oa}-custom-expand-icon`,f1e=`${oa}-loadindicator`,m1e=`${oa}-loadindicator-wrapper`,MY=`${oa}-toggle-item-visibility-opened`,wO=`${oa}-select-all-item`;var SO="data-item-id";var g1e=`${oa}-root-node`,_1e=`${oa}-expander-icon-stub`,b1e=JE.inherit({_supportedKeys(i){let e=o=>{let r=I(this.option("focusedElement"));if(!r.length)return;o.target=r,o.currentTarget=r,this._itemClickHandler(o,r.children(`.${Rr}`)),this._getEventNameByOption(this.option("expandEvent"))===Se(Kt,"dxTreeView_expand")&&this._expandEventHandler(o)},t=o=>{o.preventDefault();let r=I(this.option("focusedElement")),s=this._getCheckBoxInstance(r);if(!s.option("disabled")){let a=s.option("value");this._updateItemSelection(!a,r.find(`.${Rr}`).get(0),!0)}},n=function(o,r){if(!this.option("expandAllEnabled"))return;r.preventDefault();let s=I(this.option("focusedElement"));if(!s.length)return;let a=this._getItemData(s.find(`.${Rr}`));this._toggleExpandedNestedItems([a],o)};return q(this.callBase(),{enter:this._showCheckboxes()?t:e,space:this._showCheckboxes()?t:e,asterisk:n.bind(this,!0),minus:n.bind(this,!1)})},_toggleExpandedNestedItems(i,e){if(i)for(let t=0,n=i.length;t<n;t++){let o=i[t],r=this._dataAdapter.getNodeByItem(o);this._toggleExpandedState(r,e),this._toggleExpandedNestedItems(o.items,e)}},_getNodeElement(i,e){let t=this._encodeString(i.internalFields.key);if(e)return e.$nodeByKey||(e.$nodeByKey={},this.$element().find(`.${bs}`).each(function(){let o=I(this),r=o.attr(SO);e.$nodeByKey[r]=o})),e.$nodeByKey[t]||I();let n=this.$element().get(0).querySelector(`[${SO}="${t}"]`);return I(n)},_activeStateUnit:`.${Rr}`,_widgetClass:()=>oa,_getDefaultOptions(){let i=q(this.callBase(),{animationEnabled:!0,dataStructure:"tree",deferRendering:!0,expandAllEnabled:!1,hasItemsExpr:"hasItems",selectNodesRecursive:!0,expandNodesRecursive:!0,showCheckBoxesMode:"none",expandIcon:null,collapseIcon:null,selectAllText:de.format("dxList-selectAll"),onItemSelectionChanged:null,onItemExpanded:null,onItemCollapsed:null,scrollDirection:"vertical",useNativeScrolling:!0,virtualModeEnabled:!1,rootValue:0,focusStateEnabled:!1,selectionMode:"multiple",expandEvent:"dblclick",selectByClick:!1,createChildren:null,onSelectAllValueChanged:null,_supportItemUrl:!1});return q(!0,i,{integrationOptions:{useDeferUpdateForTemplates:!1}})},_defaultOptionsRules(){return this.callBase().concat([{device:()=>!Aa,options:{useNativeScrolling:!1}}])},_initSelectedItems:pe,_syncSelectionOptions:Tw,_fireSelectionChanged(){let i=this._selectionChangePromise;Be(i).done(()=>{this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})()})},_createSelectAllValueChangedAction(){this._selectAllValueChangedAction=this._createActionByOption("onSelectAllValueChanged",{excludeValidators:["disabled","readOnly"]})},_fireSelectAllValueChanged(i){this._selectAllValueChangedAction({value:i})},_checkBoxModeChange(i,e){let t=this.option("searchEnabled"),n=this._selectAllEnabled(e),o=this._itemContainer(t,n);if(this._detachClickEvent(o),this._detachExpandEvent(o),e==="none"||i==="none")return;let r=this._$selectAllItem&&this._$selectAllItem.length;switch(i){case"selectAll":r||(this._createSelectAllValueChangedAction(),this._renderSelectAllItem());break;case"normal":r&&(this._$selectAllItem.remove(),delete this._$selectAllItem)}},_removeSelection(){let i=this;ee(this._dataAdapter.getFullData(),(e,t)=>{i._hasChildren(t)&&i._dataAdapter.toggleSelection(t.internalFields.key,!1,!0)})},_optionChanged(i){let{name:e,value:t,previousValue:n}=i;switch(e){case"selectAllText":this._$selectAllItem&&this._$selectAllItem.dxCheckBox("instance").option("text",t);break;case"showCheckBoxesMode":this._checkBoxModeChange(t,n),this._invalidate();break;case"scrollDirection":this.getScrollable().option("direction",t);break;case"useNativeScrolling":this.getScrollable().option("useNative",t);break;case"items":delete this._$selectAllItem,this.callBase(i);break;case"dataSource":this.callBase(i),this._initDataAdapter(),this._filter={};break;case"hasItemsExpr":this._initAccessors(),this.repaint();break;case"expandEvent":this._attachExpandEvent();break;case"deferRendering":case"dataStructure":case"rootValue":case"createChildren":case"expandNodesRecursive":case"onItemSelectionChanged":case"onItemExpanded":case"onItemCollapsed":case"expandAllEnabled":case"animationEnabled":case"virtualModeEnabled":case"selectByClick":case"_supportItemUrl":break;case"selectionMode":this._initDataAdapter(),this.callBase(i);break;case"onSelectAllValueChanged":this._createSelectAllValueChangedAction();break;case"selectNodesRecursive":this._dataAdapter.setOption("recursiveSelection",i.value),this.repaint();break;case"expandIcon":case"collapseIcon":this.repaint();break;default:this.callBase(i)}},_initDataSource(){this._useCustomChildrenLoader()?this._loadChildrenByCustomLoader(null).done(i=>{i&&i.length&&this.option("items",i)}):(this.callBase(),this._isVirtualMode()&&this._initVirtualMode())},_initVirtualMode(){let i=this._filter;i.custom||(i.custom=this._dataSource.filter()),i.internal||(i.internal=[this.option("parentIdExpr"),this.option("rootValue")])},_useCustomChildrenLoader(){return Ie(this.option("createChildren"))&&this._isDataStructurePlain()},_loadChildrenByCustomLoader(i){let e=this.option("createChildren").call(this,i);return Array.isArray(e)?le().resolve(e).promise():e&&Ie(e.then)?Yn(e):le().resolve([]).promise()},_combineFilter(){return!this._filter.custom||!this._filter.custom.length?this._filter.internal:[this._filter.custom,this._filter.internal]},_dataSourceLoadErrorHandler(){this._renderEmptyMessage()},_init(){this._filter={},this.callBase(),this._initStoreChangeHandlers()},_dataSourceChangedHandler(i){let e=this.option("items");this._initialized&&this._isVirtualMode()&&e.length||this.option("items",i)},_removeTreeViewLoadIndicator(){this._treeViewLoadIndicator&&(this._treeViewLoadIndicator.remove(),this._treeViewLoadIndicator=null)},_createTreeViewLoadIndicator(){return this._treeViewLoadIndicator=I("<div>").addClass(f1e),this._createComponent(this._treeViewLoadIndicator,qo,{}),this._treeViewLoadIndicator},_dataSourceLoadingChangedHandler(i){let e;if(this._isVirtualMode()&&(e=this._combineFilter(),this._dataSource.filter(e)),i&&!this._dataSource.isLoaded()){this.option("items",[]);let t=I("<div>").addClass(m1e);this._createTreeViewLoadIndicator().appendTo(t),this.itemsContainer().append(t),this._isVirtualMode()&&this._dataSource.filter()!==e&&this._dataSource.filter([])}else this._removeTreeViewLoadIndicator()},_initStoreChangeHandlers(){this.option("dataStructure")==="plain"&&this._dataSource&&this._dataSource.store().on("inserted",i=>{this.option().items=this.option("items").concat(i),this._dataAdapter.addItem(i),this._dataAdapter.isFiltered(i)&&this._updateLevel(this._parentIdGetter(i))}).on("removed",i=>{let e=this._dataAdapter.getNodeByKey(i);U(e)&&(this.option("items")[this._dataAdapter.getIndexByKey(e.internalFields.key)]=0,this._markChildrenItemsToRemove(e),this._removeItems(),this._dataAdapter.removeItem(i),this._updateLevel(this._parentIdGetter(e)))})},_markChildrenItemsToRemove(i){let e=i.internalFields.childrenKeys;ee(e,(t,n)=>{this.option("items")[this._dataAdapter.getIndexByKey(n)]=0,this._markChildrenItemsToRemove(this._dataAdapter.getNodeByKey(n))})},_removeItems(){let i=q(!0,[],this.option("items")),e=0;ee(i,(t,n)=>{n||(this.option("items").splice(t-e,1),e++)})},_updateLevel(i){let e=this._getContainerByParentKey(i);this._renderItems(e,this._dataAdapter.getChildrenNodes(i))},_getOldContainer(i){if(i.length)return i.children(`.${nu}`);let e=this.getScrollable();return e?I(e.content()).children():I()},_getContainerByParentKey(i){let e=this._dataAdapter.getNodeByKey(i),t=e?this._getNodeElement(e):[];this._getOldContainer(t).remove();let n=this._renderNodeContainer(t);if(this._isRootLevel(i)){let o=this.getScrollable();o||this._renderScrollableContainer(),I(o.content()).append(n)}return n},_isRootLevel(i){return i===this.option("rootValue")},_getAccessors(){let i=this.callBase();return i.push("hasItems"),i},_getDataAdapterOptions(){var i,e;return{rootValue:this.option("rootValue"),multipleSelection:!this._isSingleSelection(),recursiveSelection:this._isRecursiveSelection(),recursiveExpansion:this.option("expandNodesRecursive"),selectionRequired:this.option("selectionRequired"),dataType:this.option("dataStructure"),sort:this._dataSource&&this._dataSource.sort(),langParams:(i=this._dataSource)===null||i===void 0||(e=i.loadOptions)===null||e===void 0||(e=e.call(i))===null||e===void 0?void 0:e.langParams}},_initMarkup(){this._renderScrollableContainer(),this._renderEmptyMessage(this._dataAdapter.getRootNodes()),this.callBase(),this._setAriaRole()},_setAriaRole(){let{items:i}=this.option();i!=null&&i.length&&this.setAria({role:"tree"})},_renderContentImpl(){let i=this._renderNodeContainer();I(this.getScrollable().content()).append(i),!(!this.option("items")||!this.option("items").length)&&(this._renderItems(i,this._dataAdapter.getRootNodes()),this._attachExpandEvent(),this._selectAllEnabled()&&(this._createSelectAllValueChangedAction(),this._renderSelectAllItem(i)))},_isVirtualMode(){return this.option("virtualModeEnabled")&&this._isDataStructurePlain()&&!!this.option("dataSource")},_isDataStructurePlain(){return this.option("dataStructure")==="plain"},_fireContentReadyAction(){let i=this.getDataSource(),e=i&&!i.isLoaded()||this._skipContentReadyAndItemExpanded,t=this.getScrollable();t&&it()&&t.update(),e||this.callBase(),t&&it()&&t.update()},_renderScrollableContainer(){this._scrollable=this._createComponent(I("<div>").appendTo(this.$element()),wr,{useNative:this.option("useNativeScrolling"),direction:this.option("scrollDirection"),useKeyboard:!1})},_renderNodeContainer(i){let e=I("<ul>").addClass(nu);if(this.setAria("role","group",e),i&&i.length){let t=this._getItemData(i.children(`.${Rr}`));this._expandedGetter(t)&&e.addClass(Uh),e.appendTo(i)}return e},_createDOMElement(i,e){var t;let n=I("<li>").addClass(bs).attr(SO,this._encodeString(e.internalFields.key)).prependTo(i),o={role:"treeitem",label:this._displayGetter(e.internalFields.item)||"",level:this._getLevel(i)};return!!(e!=null&&(t=e.internalFields)!==null&&t!==void 0&&(t=t.childrenKeys)!==null&&t!==void 0&&t.length)&&(o.expanded=e.internalFields.expanded||!1),this.setAria(o,n),n},_getLevel(i){let e=i.parent();return e.hasClass("dx-scrollable-content")?1:parseInt(e.attr("aria-level"))+1},_showCheckboxes(){return this.option("showCheckBoxesMode")!=="none"},_hasCustomExpanderIcons(){return this.option("expandIcon")||this.option("collapseIcon")},_selectAllEnabled(i){return(i??this.option("showCheckBoxesMode"))==="selectAll"&&!this._isSingleSelection()},_renderItems(i,e){let t=e.length-1;for(let n=t;n>=0;n--)this._renderItem(n,e[n],i);this._renderedItemsCount+=e.length},_renderItem(i,e,t){let n=this._createDOMElement(t,e),o=e.internalFields,r=this._showCheckboxes();n.addClass(r?d1e:h1e),n.toggleClass("dx-state-invisible",o.item.visible===!1),this._hasCustomExpanderIcons()&&(n.addClass(c1e),t.addClass(u1e)),this.setAria("selected",o.selected,n),this._toggleSelectedClass(n,o.selected),o.disabled&&this.setAria("disabled",o.disabled,n),this.callBase(this._renderedItemsCount+i,o.item,n),this._getNode(e.internalFields.parentKey)||n.addClass(g1e),o.item.visible!==!1&&this._renderChildren(n,e)},_setAriaSelectionAttribute:pe,_renderChildren(i,e){if(!this._hasChildren(e)){this._addLeafClass(i),I("<div>").addClass(_1e).appendTo(this._getItem(i));return}this._hasCustomExpanderIcons()?this._renderCustomExpanderIcons(i,e):this._renderDefaultExpanderIcons(i,e),this._shouldRenderSublevel(e.internalFields.expanded)&&this._loadSublevel(e).done(t=>{this._renderSublevel(i,this._getActualNode(e),t)})},_shouldRenderSublevel(i){return i||!this.option("deferRendering")},_getActualNode(i){return this._dataAdapter.getNodeByKey(i.internalFields.key)},_hasChildren(i){return this._isVirtualMode()||this._useCustomChildrenLoader()?this._hasItemsGetter(i.internalFields.item)!==!1:this.callBase(i)},_loadSublevel(i){let e=le(),t=this._getChildNodes(i);return t.length?e.resolve(t):this._loadNestedItems(i).done(n=>{e.resolve(this._dataAdapter.getNodesByItems(n))}),e.promise()},_getItemExtraPropNames:()=>["url","linkAttr"],_addContent(i,e){let{html:t,url:n}=e;if(this.option("_supportItemUrl")&&n){i.html(t);let o=this._getLinkContainer(this._getIconContainer(e),this._getTextContainer(e),e);i.append(o)}else this.callBase(i,e)},_postprocessRenderItem(i){let{itemData:e,itemElement:t}=i;this._showCheckboxes()&&this._renderCheckBox(t,this._getNode(e)),this.callBase(i)},_renderSublevel(i,e,t){let n=this._renderNodeContainer(i,e),o=t.filter(r=>e.internalFields.childrenKeys.indexOf(r.internalFields.key)!==-1);if(this._renderItems(n,o),o.length&&!e.internalFields.selected){let r=o[0];this._updateParentsState(r,this._getNodeElement(r))}this._normalizeIconState(i,o.length),e.internalFields.expanded&&n.addClass(Uh)},_executeItemRenderAction(i,e,t){let n=this._getNode(t);this._getItemRenderAction()({itemElement:t,itemIndex:i,itemData:e,node:this._dataAdapter.getPublicNode(n)})},_addLeafClass(i){i.addClass(Wv)},_expandEventHandler(i){I(i.currentTarget.parentNode).hasClass(Wv)||this._toggleExpandedState(i.currentTarget,void 0,i)},_attachExpandEvent(){let i=this._getEventNameByOption(this.option("expandEvent")),e=this._itemContainer();this._detachExpandEvent(e),X.on(e,i,this._itemSelector(),this._expandEventHandler.bind(this))},_detachExpandEvent(i){X.off(i,".dxTreeView_expand",this._itemSelector())},_getEventNameByOption(i){return Se(i==="click"?Kt:tu,"dxTreeView_expand")},_getNode(i){if(!U(i))return null;if(i.internalFields)return i;if(Zu(i))return this._dataAdapter.getNodeByKey(i);let e=I(i).get(0);return e?be.isElementNode(e)?this._getNodeByElement(e):this._dataAdapter.getNodeByItem(e):null},_getNodeByElement(i){let e=I(i).closest(`.${bs}`),t=this._decodeString(e.attr(SO));return this._dataAdapter.getNodeByKey(t)},_toggleExpandedState(i,e,t){let n=this._getNode(i);if(!n)return le().reject().promise();if(n.internalFields.disabled)return le().reject().promise();let o=n.internalFields.expanded;if(o===e)return le().resolve().promise();if(this._hasChildren(n)){let r=this._getNodeElement(n);if(r.find(`.${ML}:not(.dx-state-invisible)`).length)return le().reject().promise();!o&&!this._nodeHasRenderedChildren(r)&&this._createLoadIndicator(r)}return U(e)||(e=!o),this._dataAdapter.toggleExpansion(n.internalFields.key,e),this._updateExpandedItemsUI(n,e,t)},_nodeHasRenderedChildren(i){return i.children(`.${nu}`).not(":empty").length},_getItem:i=>i.children(`.${Rr}`).eq(0),_createLoadIndicator(i){let e=this._getItem(i);this._createComponent(I("<div>").addClass(ML),qo,{}).$element().appendTo(e),e.children(`.${Uv},.${FL}`).hide()},_renderExpanderIcon(i,e,t,n){t.appendTo(this._getItem(i)),t.addClass(n),e.internalFields.disabled&&t.addClass("dx-state-disabled"),this._renderToggleItemVisibilityIconClick(t,e)},_renderDefaultExpanderIcons(i,e){let t=this._getItem(i),n=I("<div>").addClass(Uv).appendTo(t);e.internalFields.expanded&&(n.addClass(MY),i.parent().addClass(Uh)),e.internalFields.disabled&&n.addClass("dx-state-disabled"),this._renderToggleItemVisibilityIconClick(n,e)},_renderCustomExpanderIcons(i,e){let{expandIcon:t,collapseIcon:n}=this.option(),o=Xr(t??n),r=Xr(n??t);this._renderExpanderIcon(i,e,o,FL),this._renderExpanderIcon(i,e,r,RL);let s=e.internalFields.expanded;s&&i.parent().addClass(Uh),this._toggleCustomExpanderIcons(o,r,s)},_renderToggleItemVisibilityIconClick(i,e){let t=Se(Kt,this.NAME);X.off(i,t),X.on(i,t,n=>(this._toggleExpandedState(e.internalFields.key,void 0,n),!1))},_toggleCustomExpanderIcons(i,e,t){e.toggle(t),i.toggle(!t)},_updateExpandedItemsUI(i,e,t){let n=this._getNodeElement(i),o=!n.length||e&&n.is(":hidden");if(this.option("expandNodesRecursive")&&o){let l=this._getNode(i.internalFields.parentKey);l&&this._updateExpandedItemsUI(l,e,t)}if(!this._hasCustomExpanderIcons())this._getItem(n).children(`.${Uv}`).toggleClass(MY,e);else if(this._nodeHasRenderedChildren(n)){let l=this._getItem(n),d=l.children(`.${FL}`),c=l.children(`.${RL}`);this._toggleCustomExpanderIcons(d,c,e)}let r=n.children(`.${nu}`),s=r.length>0,a=le();return!e||s&&!r.is(":empty")?(this._animateNodeContainer(i,e,t,a),a.promise()):i.internalFields.childrenKeys.length===0&&(this._isVirtualMode()||this._useCustomChildrenLoader())?(this._loadNestedItemsWithUpdate(i,e,t,a),a.promise()):(this._renderSublevel(n,i,this._getChildNodes(i)),this._fireContentReadyAction(),this._animateNodeContainer(i,e,t,a),a.promise())},_loadNestedItemsWithUpdate(i,e,t,n){let o=this._getNodeElement(i);this._loadNestedItems(i).done(r=>{let s=this._getActualNode(i);if(this._renderSublevel(o,s,this._dataAdapter.getNodesByItems(r)),!r||!r.length){n.resolve();return}this._fireContentReadyAction(),this._animateNodeContainer(s,e,t,n)})},_loadNestedItems(i){if(this._useCustomChildrenLoader()){let e=this._dataAdapter.getPublicNode(i);return this._loadChildrenByCustomLoader(e).done(t=>{this._areNodesExists(t)||this._appendItems(t)})}return this._isVirtualMode()?(this._filter.internal=[this.option("parentIdExpr"),i.internalFields.key],this._dataSource.filter(this._combineFilter()),this._dataSource.load().done(e=>{this._areNodesExists(e)||this._appendItems(e)})):le().resolve([]).promise()},_areNodesExists(i,e){let t=this.keyOf(i[0]),n=this._dataAdapter.getFullData();return!!this._dataAdapter.getNodeByKey(t,n)},_appendItems(i){this.option().items=this.option("items").concat(i),this._initDataAdapter()},_animateNodeContainer(i,e,t,n){let o=this._getNodeElement(i),r=o.children(`.${nu}`);i&&n&&r.length===0&&n.resolve(),r.addClass(Uh);let s=ft(r);hn.stop(r,!0),hn.animate(r,{type:"custom",duration:this.option("animationEnabled")?400:0,from:{maxHeight:e?0:s},to:{maxHeight:e?s:0},complete:(function(){r.css("maxHeight","none"),r.toggleClass(Uh,e),this.setAria("expanded",e,o),this.getScrollable().update(),this._fireExpandedStateUpdatedEvent(e,i,t),n&&n.resolve()}).bind(this)})},_fireExpandedStateUpdatedEvent(i,e,t){if(!this._hasChildren(e)||this._skipContentReadyAndItemExpanded)return;let n=i?"onItemExpanded":"onItemCollapsed";if(U(t))this._itemDXEventHandler(t,n,{node:this._dataAdapter.getPublicNode(e)});else{let o=this._getNodeElement(e);this._itemEventHandler(o,n,{event:t,node:this._dataAdapter.getPublicNode(e)})}},_normalizeIconState(i,e){let t=i.find(`.${ML}`);if(t.length){var n;(n=qo.getInstance(t))===null||n===void 0||n.option("visible",!1)}let r=this._getItem(i).children(`.${RL},.${Uv}`);if(e){r.show();return}r.removeClass(Uv),i.addClass(Wv)},_emptyMessageContainer(){let i=this.getScrollable();return i?I(i.content()):this.callBase()},_renderContent(){let i=this.option("items");i&&i.length&&(this._contentAlreadyRendered=!0),this.callBase()},_renderSelectAllItem(i){let{selectAllText:e,focusStateEnabled:t}=this.option();i=i||this.$element().find(`.${nu}`).first(),this._$selectAllItem=I("<div>").addClass(wO);let n=this._dataAdapter.isAllSelected();this._createComponent(this._$selectAllItem,Ph,{value:n,elementAttr:{"aria-label":"Select All"},text:e,focusStateEnabled:t,onValueChanged:this._onSelectAllCheckboxValueChanged.bind(this),onInitialized:o=>{let{component:r}=o;r.registerKeyHandler("enter",()=>{r.option("value",!r.option("value"))})}}),this._toggleSelectedClass(this._$selectAllItem,n),i.before(this._$selectAllItem)},_onSelectAllCheckboxValueChanged(i){this._toggleSelectAll(i),this._fireSelectAllValueChanged(i.value)},_toggleSelectAll(i){this._dataAdapter.toggleSelectAll(i.value),this._updateItemsUI(),this._fireSelectionChanged()},_renderCheckBox(i,e){let t=I("<div>").appendTo(i);this._createComponent(t,Ph,{value:e.internalFields.selected,onValueChanged:this._changeCheckboxValue.bind(this),focusStateEnabled:!1,elementAttr:{"aria-label":"Check State"},disabled:this._disabledGetter(e)})},_toggleSelectedClass(i,e){i.toggleClass("dx-state-selected",!!e)},_toggleNodeDisabledState(i,e){let t=this._getNodeElement(i),n=t.find(`.${Rr}`).eq(0);this._dataAdapter.toggleNodeDisabledState(i.internalFields.key,e),n.toggleClass("dx-state-disabled",!!e),this._showCheckboxes()&&this._getCheckBoxInstance(t).option("disabled",!!e)},_itemOptionChanged(i,e,t){let n=this._dataAdapter.getNodeByItem(i);e===this.option("disabledExpr")&&this._toggleNodeDisabledState(n,t)},_changeCheckboxValue(i){let e=I(i.element).closest(`.${bs}`),t=this._getItem(e),n=this._getItemData(t),o=this._getNodeByElement(t),{value:r}=i;o&&o.internalFields.selected===r||this._updateItemSelection(r,n,i.event)},_isSingleSelection(){return this.option("selectionMode")==="single"},_isRecursiveSelection(){return this.option("selectNodesRecursive")&&this.option("selectionMode")!=="single"},_isLastSelectedBranch(i,e,t){let n=e.indexOf(i.key);return n>=0&&e.splice(n,1),t&&ee(i.children,(o,r)=>{this._isLastSelectedBranch(r,e,!0)}),i.parent&&this._isLastSelectedBranch(i.parent,e),e.length===0},_isLastRequired(i){let e=this.option("selectionRequired"),t=this._isSingleSelection(),n=this.getSelectedNodeKeys();if(e)return t?n.length===1:this._isLastSelectedBranch(i.internalFields.publicNode,n.slice(),!0)},_updateItemSelection(i,e,t){let n=this._getNode(e);if(!n||n.visible===!1)return!1;if(n.internalFields.selected===i)return!0;if(!i&&this._isLastRequired(n)){if(this._showCheckboxes()){let s=this._getNodeElement(n);this._getCheckBoxInstance(s).option("value",!0)}return!1}if(i&&this._isSingleSelection()){let s=this.getSelectedNodeKeys();ee(s,(a,l)=>{this._dataAdapter.toggleSelection(l,!1),this._updateItemsUI(),this._fireItemSelectionChanged(this._getNode(l))})}this._dataAdapter.toggleSelection(n.internalFields.key,i);let o=this._dataAdapter.isAllSelected(),r=this._selectAllEnabled()&&this._$selectAllItem.dxCheckBox("instance").option("value")!==o;return this._updateItemsUI(),this._fireItemSelectionChanged(n,t),this._fireSelectionChanged(),r&&this._fireSelectAllValueChanged(o),!0},_fireItemSelectionChanged(i,e){let t=e||this._findItemElementByItem(i.internalFields.item);(e?this._itemDXEventHandler:this._itemEventHandler).call(this,t,"onItemSelectionChanged",{node:this._dataAdapter.getPublicNode(i),itemData:i.internalFields.item})},_getCheckBoxInstance(i){return this._getItem(i).children(".dx-checkbox").dxCheckBox("instance")},_updateItemsUI(){let i={};if(ee(this._dataAdapter.getData(),(e,t)=>{let n=this._getNodeElement(t,i),o=t.internalFields.selected;n.length&&(this._toggleSelectedClass(n,o),this.setAria("selected",o,n),this._showCheckboxes()&&this._getCheckBoxInstance(n).option("value",o))}),this._selectAllEnabled()){let e=this._$selectAllItem.dxCheckBox("instance");e.option("onValueChanged",void 0),e.option("value",this._dataAdapter.isAllSelected()),e.option("onValueChanged",this._onSelectAllCheckboxValueChanged.bind(this))}},_updateParentsState(i,e){if(!e)return;let t=this._dataAdapter.getNodeByKey(i.internalFields.parentKey),n=I(e.parents(`.${bs}`)[0]);if(this._showCheckboxes()){let o=t.internalFields.selected;this._getCheckBoxInstance(n).option("value",o),this._toggleSelectedClass(n,o)}t.internalFields.parentKey!==this.option("rootValue")&&this._updateParentsState(t,n)},_itemEventHandlerImpl(i,e,t){let n=I(i).closest(`.${bs}`).children(`.${Rr}`);return e(q(this._extendActionArgs(n),t))},_itemContextMenuHandler(i){this._createEventHandler("onItemContextMenu",i)},_itemHoldHandler(i){this._createEventHandler("onItemHold",i)},_createEventHandler(i,e){let t=this._getNodeByElement(e.currentTarget);this._itemDXEventHandler(e,i,{node:this._dataAdapter.getPublicNode(t)})},_itemClass:()=>Rr,_itemDataKey:()=>p1e,_attachClickEvent(){let i=this._itemContainer();this._detachClickEvent(i);let{clickEventNamespace:e,itemSelector:t,pointerDownEventNamespace:n,nodeSelector:o}=this._getItemClickEventData();X.on(i,e,t,r=>{I(r.target).hasClass("dx-checkbox-icon")||I(r.target).hasClass("dx-checkbox")||this._itemClickHandler(r,I(r.currentTarget))}),X.on(i,n,o,r=>{this._itemPointerDownHandler(r)})},_detachClickEvent(i){let{clickEventNamespace:e,itemSelector:t,pointerDownEventNamespace:n,nodeSelector:o}=this._getItemClickEventData();X.off(i,e,t),X.off(i,n,o)},_getItemClickEventData(){let i=`.${this._itemClass()}`,e=`.${bs}, .${wO}`,t=Se(Kt,this.NAME),n=Se(Mt.down,this.NAME);return{clickEventNamespace:t,itemSelector:i,pointerDownEventNamespace:n,nodeSelector:e}},_itemClick(i){let e=i.args[0],n=(e.event.target[0]||e.event.target).getElementsByClassName("dx-item-url")[0];e.itemData.url&&n&&n.click()},_itemClickHandler(i,e){let t=this._getItemData(e),n=this._getNodeByElement(e);this._itemDXEventHandler(i,"onItemClick",{node:this._dataAdapter.getPublicNode(n)},{beforeExecute:this._itemClick}),this.option("selectByClick")&&!i.isDefaultPrevented()&&this._updateItemSelection(!n.internalFields.selected,t,i)},_updateSelectionToFirstItem(i,e){let t=e;for(;t>=0;){let n=I(i[t]);this._updateItemSelection(!0,n.find(`.${Rr}`).get(0)),t--}},_updateSelectionToLastItem(i,e){let{length:t}=i,n=e;for(;n<t;){let o=I(i[n]);this._updateItemSelection(!0,o.find(`.${Rr}`).get(0)),n++}},focus(){if(this._selectAllEnabled()){X.trigger(this._$selectAllItem,"focus");return}this.callBase()},_focusInHandler(i){this._updateFocusState(i,!0);let e=I(i.target).hasClass(wO);if(e||this.option("focusedElement")){clearTimeout(this._setFocusedItemTimeout),this._setFocusedItemTimeout=setTimeout(()=>{let n=e?tt(this._$selectAllItem):I(this.option("focusedElement"));this._setFocusedItem(n)});return}let t=this._getActiveItem();this.option("focusedElement",tt(t.closest(`.${bs}`)))},_itemPointerDownHandler(i){if(!this.option("focusStateEnabled"))return;let e=I(i.target).closest(`.${bs}, .${wO}`);if(!e.length)return;let t=e.hasClass("dx-state-disabled")?null:e;this.option("focusedElement",tt(t))},_findNonDisabledNodes:i=>i.not(function(){return I(this).children(`.${Rr}`).hasClass("dx-state-disabled")}),_moveFocus(i,e){let t=this.option("rtlEnabled")?"right":"left",n=this.option("rtlEnabled")?"left":"right";this.$element().find(`.${nu}`).each(function(){hn.stop(this,!0)});let o=this._nodeElements();if(!(!o||!o.length))switch(i){case"up":{let r=this._prevItem(o);this.option("focusedElement",tt(r));let s=this._getNodeItemElement(r);this.getScrollable().scrollToElement(s),e.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,s);break}case"down":{let r=this._nextItem(o);this.option("focusedElement",tt(r));let s=this._getNodeItemElement(r);this.getScrollable().scrollToElement(s),e.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,s);break}case"first":{let r=o.first();e.shiftKey&&this._showCheckboxes()&&this._updateSelectionToFirstItem(o,o.index(this._prevItem(o))),this.option("focusedElement",tt(r)),this.getScrollable().scrollToElement(this._getNodeItemElement(r));break}case"last":{let r=o.last();e.shiftKey&&this._showCheckboxes()&&this._updateSelectionToLastItem(o,o.index(this._nextItem(o))),this.option("focusedElement",tt(r)),this.getScrollable().scrollToElement(this._getNodeItemElement(r));break}case n:this._expandFocusedContainer();break;case t:this._collapseFocusedContainer();break;default:this.callBase.apply(this,arguments)}},_getNodeItemElement:i=>i.find(`.${Rr}`).get(0),_nodeElements(){return this.$element().find(`.${bs}`).not(":hidden")},_expandFocusedContainer(){let i=I(this.option("focusedElement"));if(!i.length||i.hasClass(Wv))return;if(i.find(`.${nu}`).eq(0).hasClass(Uh)){let n=this._nextItem(this._findNonDisabledNodes(this._nodeElements()));this.option("focusedElement",tt(n)),this.getScrollable().scrollToElement(this._getNodeItemElement(n));return}let t=this._getNodeByElement(this._getItem(i));this._toggleExpandedState(t,!0)},_getClosestNonDisabledNode(i){do i=i.parent().closest(`.${bs}`);while(i.children(".dx-treeview-item.dx-state-disabled").length);return i},_collapseFocusedContainer(){let i=I(this.option("focusedElement"));if(!i.length)return;let e=i.find(`.${nu}`).eq(0);if(!i.hasClass(Wv)&&e.hasClass(Uh)){let t=this._getNodeByElement(this._getItem(i));this._toggleExpandedState(t,!1)}else{let t=this._getClosestNonDisabledNode(i);t.length&&this.option("focusedElement",tt(t)),this.getScrollable().scrollToElement(this._getNodeItemElement(t))}},_encodeString:i=>We(i)?encodeURI(i):i,_decodeString:i=>We(i)?decodeURI(i):i,getScrollable(){return this._scrollable},updateDimensions(){let i=le(),e=this.getScrollable();return e?e.update().done(()=>{i.resolveWith(this)}):i.resolveWith(this),i.promise()},selectItem(i){return this._updateItemSelection(!0,i)},unselectItem(i){return this._updateItemSelection(!1,i)},expandItem(i){return this._toggleExpandedState(i,!0)},collapseItem(i){return this._toggleExpandedState(i,!1)},getNodes(){return this._dataAdapter.getTreeNodes()},getSelectedNodes(){return this.getSelectedNodeKeys().map(i=>{let e=this._dataAdapter.getNodeByKey(i);return this._dataAdapter.getPublicNode(e)})},getSelectedNodeKeys(){return this._dataAdapter.getSelectedNodesKeys()},selectAll(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!0):this._toggleSelectAll({value:!0})},unselectAll(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!1):this._toggleSelectAll({value:!1})},_allItemsExpandedHandler(){this._skipContentReadyAndItemExpanded=!1,this._fireContentReadyAction()},expandAll(){let i=this._dataAdapter.getData(),e=[];this._skipContentReadyAndItemExpanded=!0,i.forEach(t=>e.push(this._toggleExpandedState(t.internalFields.key,!0))),Promise.allSettled(e).then(()=>{var t;return(t=this._allItemsExpandedHandler)===null||t===void 0?void 0:t.call(this)})},collapseAll(){ee(this._dataAdapter.getExpandedNodesKeys(),(i,e)=>{this._toggleExpandedState(e,!1)})},scrollToItem(i){let e=this._getNode(i);if(!e)return le().reject().promise();let t=[],n=e.internalFields.publicNode.parent;for(;n!=null;)n.expanded||t.push(n.key),n=n.parent;let o=le();return this._expandNodes(t.reverse()).always(()=>{let r=this._getNodeElement(e);r&&r.length?(this.scrollToElementTopLeft(r.get(0)),o.resolve()):o.reject()}),o.promise()},scrollToElementTopLeft(i){let e=this.getScrollable(),{scrollDirection:t,rtlEnabled:n}=this.option(),o={top:0,left:0},r=EE(DE,i);if(t!==rf){let s=I(e.container()).get(0);o.left=n?r.left+i.offsetWidth-s.clientWidth:r.left}t!==OE&&(o.top=r.top),e.scrollTo(o)},_expandNodes(i){if(!i||i.length===0)return le().resolve().promise();let e=le(),t=i.map(n=>this.expandItem(n));return Be.apply(I,t).done(()=>e.resolve()).fail(()=>e.reject()),e.promise()},_dispose(){this.callBase(),clearTimeout(this._setFocusedItemTimeout),this._allItemsExpandedHandler=null}}),RY=b1e;El.setEditorClass(Rh);var FY="dx-treeview",v1e=`${FY}-node-container`,PY=RY.inherit(El).inherit({_addWidgetPrefix:i=>`${FY}-${i}`,_optionChanged(i){switch(i.name){case"searchValue":this._showCheckboxes()&&this._isRecursiveSelection()&&this._removeSelection(),this._initDataAdapter(),this._updateSearch(),this._repaintContainer(),this.option("focusedElement",null);break;case"searchExpr":this._initDataAdapter(),this.repaint();break;case"searchMode":this.option("expandNodesRecursive")?this._updateDataAdapter():this._initDataAdapter(),this.repaint();break;default:this.callBase(i)}},_updateDataAdapter(){this._setOptionWithoutOptionChange("expandNodesRecursive",!1),this._initDataAdapter(),this._setOptionWithoutOptionChange("expandNodesRecursive",!0)},_getDataAdapterOptions(){return q(this.callBase(),{searchValue:this.option("searchValue"),searchMode:this.option("searchMode")||"contains",searchExpr:this.option("searchExpr")})},_getNodeContainer(){return this.$element().find(`.${v1e}`).first()},_updateSearch(){if(this._searchEditor){let i=this._getSearchEditorOptions();this._searchEditor.option(i)}},_repaintContainer(){let i=this._getNodeContainer(),e;i.length&&(i.empty(),e=this._dataAdapter.getRootNodes(),this._renderEmptyMessage(e),this._renderItems(i,e),this._fireContentReadyAction())},_focusTarget(){return this._itemContainer(this.option("searchEnabled"))},_cleanItemContainer(){this.$element().empty()},_itemContainer(i,e){return e??(e=this._selectAllEnabled()),e?this._getNodeContainer():this._scrollable&&i?I(this._scrollable.content()):this.callBase()},_addWidgetClass(){this.$element().addClass(this._widgetClass())},_clean(){this.callBase(),this._removeSearchBox()}});ut("dxTreeView",PY);var LY=PY;var Gh=LY;var y1e="column-chooser-mode-drag",x1e="column-chooser-mode-select";var C1e=["showInColumnChooser","caption","allowHiding","visible","cssClass","ownerBand"],w1e=function(i,e){let t=[],n=i.isSelectMode(),o=i.option("columnChooser.selection.recursive");return e.length&&ee(e,(r,s)=>{let a={text:s.caption,cssClass:s.cssClass,allowHiding:s.allowHiding,expanded:!0,id:s.index,disabled:s.allowHiding===!1,parentId:U(s.ownerBand)?s.ownerBand:null},l=o&&s.hasColumns;n&&!l&&(a.selected=s.visible),t.push(a)}),t},PL=class extends li.ViewController{init(){super.init(),this._rowsView=this.getView("rowsView")}renderShowColumnChooserButton(e){let t=this,n=t.addWidgetPrefix("column-chooser-button"),o=t.option("columnChooser.enabled"),r=e.find(`.${n}`),s;o?r.length?r.show():(s=I("<div>").addClass(n).appendTo(e),t._createComponent(s,Ln,{icon:"column-chooser",onClick(){t.getView("columnChooserView").showColumnChooser()},hint:t.option("columnChooser.title"),integrationOptions:{}})):r.hide()}getPosition(){let e=this.option("columnChooser.position");return U(e)?e:{my:"right bottom",at:"right bottom",of:this._rowsView&&this._rowsView.element(),collision:"fit",offset:"-2 -2",boundaryOffset:"2 2"}}},LL=class extends $a{optionChanged(e){e.name==="columnChooser"?(this._initializePopupContainer(),this.render(null,"full")):super.optionChanged(e)}publicMethods(){return["showColumnChooser","hideColumnChooser"]}_resizeCore(){}_isWinDevice(){return!!Ve.real().win}_initializePopupContainer(){let e=this,t=e.addWidgetPrefix("column-chooser"),n=e.element().addClass(t),o=e.option("columnChooser"),r=this._columnChooserController.getPosition(),s=oo(),a=eS(s),l=Kn(s),d={visible:!1,shading:!1,showCloseButton:!1,dragEnabled:!0,resizeEnabled:!0,wrapperAttr:{class:t},toolbarItems:[{text:o.title,toolbar:"top",location:a||l?"before":"center"}],position:r,width:o.width,height:o.height,rtlEnabled:e.option("rtlEnabled"),onHidden(){e._isWinDevice()&&I("body").removeClass(e.addWidgetPrefix("notouch-action"))},container:o.container};a||l?q(d,{showCloseButton:!0}):d.toolbarItems[d.toolbarItems.length]={shortcut:"cancel"},U(this._popupContainer)?this._popupContainer.option(d):(e._popupContainer=e._createComponent(n,Qr,d),e._popupContainer.on("optionChanged",c=>{c.name==="visible"&&e.renderCompleted.fire()})),this.setPopupAttributes()}setPopupAttributes(){let e=this.isSelectMode(),t=this._columnsController.isBandColumnsUsed();this._popupContainer.setAria({role:"dialog",label:de.format("dxDataGrid-columnChooserTitle")}),this._popupContainer.$wrapper().toggleClass(this.addWidgetPrefix(y1e),!e).toggleClass(this.addWidgetPrefix(x1e),e),this._popupContainer.$content().addClass(this.addWidgetPrefix("column-chooser-list")),e&&!t&&this._popupContainer.$content().addClass(this.addWidgetPrefix("column-chooser-plain"))}_renderCore(e){if(this._popupContainer){let t=!this.isSelectMode();!this._columnChooserList||e==="full"?this._renderTreeView():t&&this._updateItems()}}_renderTreeView(){var e,t,n;let o=this,r=this._popupContainer.$content(),s=this.option("columnChooser"),a=this.isSelectMode(),l=U(s.allowSearch)?s.allowSearch:(e=s.search)===null||e===void 0?void 0:e.enabled,d=U(s.searchTimeout)?s.searchTimeout:(t=s.search)===null||t===void 0?void 0:t.timeout,c={dataStructure:"plain",activeStateEnabled:!0,focusStateEnabled:!0,hoverStateEnabled:!0,itemTemplate:"item",showCheckBoxesMode:"none",rootValue:null,searchEnabled:l,searchTimeout:d,searchEditorOptions:(n=s.search)===null||n===void 0?void 0:n.editorOptions};if(this._isWinDevice()&&(c.useNativeScrolling=!1),q(c,a?this._prepareSelectModeConfig():this._prepareDragModeConfig()),this._columnChooserList)c.searchEnabled||(c.searchValue=""),this._columnChooserList.option(c),this._updateItems();else{this._columnChooserList=this._createComponent(r,Gh,c),this._updateItems();let u=0;this._columnChooserList.on("optionChanged",h=>{u=h.component.getScrollable().scrollTop()}),this._columnChooserList.on("contentReady",h=>{Go(()=>{h.component.getScrollable().scrollTo({y:u}),o.renderCompleted.fire()})})}}_prepareDragModeConfig(){return{noDataText:this.option("columnChooser").emptyPanelText,activeStateEnabled:!1,hoverStateEnabled:!1,itemTemplate(t,n,o){I(o).text(t.text).parent().addClass(t.cssClass).addClass("dx-column-chooser-item")}}}_prepareSelectModeConfig(){let e=this,t=this.option("columnChooser.selection")??{},n=!1;return{selectByClick:t.selectByClick,selectNodesRecursive:t.recursive,showCheckBoxesMode:t.allowSelectAll?"selectAll":"normal",onSelectionChanged:o=>{if(n)return;let r=(s=>{let a=(l,d)=>l.reduce((c,u)=>(c.push(u),u.children.length&&a(u.children,c),c),d);return a(s,[])})(o.component.getNodes());o.component.beginUpdate(),n=!0,((s,a)=>{a.filter(l=>l.itemData.allowHiding===!1).forEach(l=>s.component.selectItem(l.key))})(o,r),o.component.endUpdate(),n=!1,e.component.beginUpdate(),this._isUpdatingColumnVisibility=!0,(s=>{s.forEach(a=>{let l=a.itemData.id,d=a.selected!==!1;e._columnsController.columnOption(l,"visible",d)})})(r),e.component.endUpdate(),this._isUpdatingColumnVisibility=!1}}}_updateItems(){let e=this.isSelectMode(),t=this._columnsController.getChooserColumns(e),n=w1e(this,t);this._columnChooserList.option("items",n)}_updateItemsSelection(e){let t=e?.map(n=>this._columnsController.columnOption(n));this._columnChooserList.beginUpdate(),t?.forEach(n=>{let{visible:o,index:r}=n;o?this._columnChooserList.selectItem(r):this._columnChooserList.unselectItem(r)}),this._columnChooserList.endUpdate()}_columnOptionChanged(e){if(super._columnOptionChanged(e),this.isSelectMode()&&this._columnChooserList&&!this._isUpdatingColumnVisibility){let{optionNames:n}=e,o=n.visible&&n.length===1,r=U(e.columnIndex)?[e.columnIndex]:e.columnIndices;(C1e.some(a=>n[a])||e.changeTypes.columns&&n.all)&&(this._updateItemsSelection(r),o||this._updateItems())}}getColumnElements(){let e=[],t=this.isSelectMode(),n=this._columnsController.getChooserColumns(t),o=this._popupContainer&&this._popupContainer.$content(),r=o&&o.find(".dx-treeview-node");return r&&n.forEach(s=>{let a=r.filter(`[data-item-id = '${s.index}']`),l=a.length?a.children(".dx-column-chooser-item").get(0):null;e.push(l)}),I(e)}getName(){return"columnChooser"}getColumns(){return this._columnsController.getChooserColumns()}allowDragging(e){let t=this._columnsController.isParentColumnVisible(e.index),n=!e.visible&&e.allowHiding;return this.isColumnChooserVisible()&&t&&n}allowColumnHeaderDragging(e){return!this.isSelectMode()&&this.isColumnChooserVisible()&&e.allowHiding}getBoundingRect(){let e=this._popupContainer&&this._popupContainer.$overlayContent();if(e&&e.is(":visible")){let t=e.offset();return{left:t.left,top:t.top,right:t.left+Ft(e),bottom:t.top+Ct(e)}}return null}showColumnChooser(){this._popupContainer||(this._initializePopupContainer(),this.render()),this._popupContainer.show(),this._isWinDevice()&&I("body").addClass(this.addWidgetPrefix("notouch-action"))}hideColumnChooser(){this._popupContainer&&this._popupContainer.hide()}isColumnChooserVisible(){let e=this._popupContainer;return e&&e.option("visible")}isSelectMode(){return this.option("columnChooser.mode")==="select"}hasHiddenColumns(){let e=this.option("columnChooser.enabled"),t=this.getColumns().filter(n=>!n.visible);return e&&t.length}},S1e=i=>class extends i{_getToolbarItems(){let e=super._getToolbarItems();return this._appendColumnChooserItem(e)}_appendColumnChooserItem(e){let t=this;if(t.option("columnChooser.enabled")){let o=function(){t.component.getView("columnChooserView").showColumnChooser()},r=function(l){I(l.element).addClass(t._getToolbarButtonClass(t.addWidgetPrefix("column-chooser-button")))},s=t.option("columnChooser.title"),a={widget:"dxButton",options:{icon:"column-chooser",onClick:o,hint:s,text:s,onInitialized:r,elementAttr:{"aria-haspopup":"dialog"}},showText:"inMenu",location:"after",name:"columnChooserButton",locateInMenu:"auto",sortIndex:40};e.push(a)}return e}optionChanged(e){e.name==="columnChooser"?(this._invalidate(),e.handled=!0):super.optionChanged(e)}isVisible(){let e=this.option("columnChooser.enabled");return super.isVisible()||e}},E1e=i=>class extends i{allowMoveColumn(e,t,n,o){return this.option("columnChooser.mode")==="select"&&o==="columnChooser"?!1:super.allowMoveColumn(e,t,n,o)}},O1e=i=>class extends i{allowDragging(e){let t=!this._columnChooserView.isSelectMode(),n=this._columnChooserView.isColumnChooserVisible();return t&&n&&e.allowHiding||super.allowDragging(e)}},EO={defaultOptions:()=>({columnChooser:{enabled:!1,search:{enabled:!1,timeout:500,editorOptions:{}},selection:{allowSelectAll:!1,selectByClick:!1,recursive:!1},position:void 0,mode:"dragAndDrop",width:250,height:260,title:de.format("dxDataGrid-columnChooserTitle"),emptyPanelText:de.format("dxDataGrid-columnChooserEmptyText"),container:void 0}}),controllers:{columnChooser:PL},views:{columnChooserView:LL},extenders:{views:{headerPanel:S1e,columnHeadersView:O1e},controllers:{columns:E1e}}};var G1t=EO.controllers.columnChooser,K1t=EO.views.columnChooserView;qe.registerModule("columnChooser",EO);function Ad(i,e){let t=us(e.group),n=[];for(let o=0;o<i.length;o++)n.push([t[o].selector,"=",i[o]]);return e.filter&&n.push(e.filter),De.combineFilters(n)}function OO(i,e,t){let n=us(e.group),o=[];for(let r=t?i.length-1:0;r<i.length;r++){let s=[];for(let a=0;a<=r;a++){let{selector:l}=n[a];if(r===a&&(i[a]===null||i[a]===!1||i[a]===!0))i[a]===!1?s.push([l,"=",n[a].desc?!0:null]):(i[a]?!n[a].desc:n[a].desc)?s.push([l,"<>",i[a]]):(s.push([l,"<>",null]),s.push([l,"=",null]));else{let d=[l,r===a?n[a].desc?">":"<":"=",i[a]];d[1]==="<"?s.push([d,"or",[l,"=",null]]):s.push(d)}}o.push(qe.combineFilters(s))}return o=qe.combineFilters(o,"or"),qe.combineFilters([o,e.filter])}var NY=function(i,e){let{hash:t}=i;return t&&t[JSON.stringify(e)]},I1e=function(i,e){let t=0,n=i.length-1;if(!i.length)return 0;do{let r=n+t>>1;i[r].offset>e?n=r:t=r}while(n-t>1);let o;for(o=t;o<=n&&!(i[o].offset>e);o++);return o},BY=function(i,e,t){for(let n=0;n<i.length;n++)e+1>=t?i[n].children=[]:BY(i[n].children,e+1,t)},VY=function(i,e,t){let n=0;if(e)if(!t)n=e.length;else for(let o=0;o<e.length;o++)i.isGroupItemCountable(e[o])&&n++,n+=VY(i,e[o].items,t-1);return n},qg=class{constructor(e){this._dataSource=e,this.reset()}reset(){this._groupsInfo=[],this._totalCountCorrection=0}totalCountCorrection(){return this._totalCountCorrection}updateTotalItemsCount(e){this._totalCountCorrection=e||0}isGroupItemCountable(e){return!this._isVirtualPaging()||!e.isContinuation}_isVirtualPaging(){let e=this._dataSource.option("scrolling.mode");return e==="virtual"||e==="infinite"}itemsCount(){let t=this._dataSource._dataSource,n=qe.normalizeSortingInfo(t.group()||[]).length;return VY(this,t.items(),n)}foreachGroups(e,t,n,o,r){let s=this;return function a(l,d,c,u){let h=[];function f(m,g,b,x){let E=g&&m(g,b);return E&&x.push(E),E}for(let m=0;m<l.length;m++){if(u.push(l[m].data),!c&&f(d,l[m].data,u,h)===!1)return!1;if(!l[m].data||l[m].data.isExpanded||n){let{children:g}=l[m],b=g.length&&a(g,d,c,u);if(b&&h.push(b),b===!1)return!1}if(c&&f(d,l[m].data,u,h)===!1)return!1;(!l[m].data||l[m].data.offset!==l[m].offset)&&(o=!0),u.pop()}let p=r&&u.slice(0);return o&&Be.apply(I,h).always(()=>{s._updateGroupInfoOffsets(l,p)})}(s._groupsInfo,e,t,[])}_updateGroupInfoOffsets(e,t){t=t||[];for(let n=0;n<e.length;n++){let o=e[n];if(o.data&&o.data.offset!==o.offset){o.offset=o.data.offset;for(let r=0;r<t.length;r++)t[r].offset=o.offset}}e.sort((n,o)=>n.offset-o.offset)}findGroupInfo(e){let t,n=this._groupsInfo;for(let o=0;n&&o<e.length;o++)t=NY(n,e[o]),n=t&&t.children;return t&&t.data}addGroupInfo(e){let t=this,n,{path:o}=e,r=t._groupsInfo;for(let s=0;s<o.length;s++){if(n=NY(r,o[s]),!n){n={key:o[s],offset:e.offset,data:{offset:e.offset,isExpanded:!0,path:o.slice(0,s+1)},children:[]};let a=I1e(r,e.offset);r.splice(a,0,n),r.hash=r.hash||{},r.hash[JSON.stringify(n.key)]=n}s===o.length-1&&(n.data=e,n.offset!==e.offset&&t._updateGroupInfoOffsets(r)),r=n.children}}allowCollapseAll(){return!0}refresh(e){let t=this,{storeLoadOptions:n}=e,o=us(n.group||[]),r="_group"in t?us(t._group||[]):o,s=Math.min(r.length,o.length);t._group=n.group;for(let a=0;a<s;a++)if(r[a].selector!==o[a].selector){s=a;break}s?BY(t._groupsInfo,0,s):t.reset()}handleDataLoading(){}handleDataLoaded(e,t){t(e)}handleDataLoadedCore(e,t){t(e)}};function VL(i,e,t,n){if(n=n||0,e>1&&t>0){let o=i-Math.floor(i/e)*e||e;return o+=t-n-2,o<0&&(o+=e),Math.floor(o/(e-n-1))}return 0}var Gv=function(i,e,t){return i.foreachGroups((n,o)=>{if(n.isExpanded)return e(n,o)},!0,!1,t,t)},HL=function(i,e,t,n,o,r,s){let a;if(n.items=n.items||[],n.paths=n.paths||[],n.count=n.count||0,n.lastCount=n.lastCount||0,!!t)for(let l=0;l<e.length;l++){let d=e[l];if(d.items!==void 0){if(o.push(d.key),r)a=!0;else{let c=i.findGroupInfo(o);a=c&&c.isExpanded}a?d.items?HL(i,d.items,t-1,n,o,r,s):t===1&&d.count&&(!r||s)&&(n.items.push(d),n.paths.push(o.slice(0)),n.count+=n.lastCount,n.lastCount=d.count):(d.collapsedItems=d.items,d.items=null),o.pop()}}},D1e=function(i,e,t,n,o){let r=i.findGroupInfo(n),s;r?(t?r.count=e.count>0?e.count:e.items&&e.items.length||0:e.count=r.count||e.count,r.offset=o):(t&&(s=e.count>0?e.count:e.items.length),i.addGroupInfo({isExpanded:i._isGroupExpanded(n.length-1),path:n.slice(0),offset:o,count:s||0}))},zL=function(i,e,t,n,o,r,s){let l=(e.group?e.group.length:0)===n,d=e.remoteOperations.paging,c=0,u=0,h;if(o=o||0,r=r||[],d&&!s&&(c=o===0?e.skip||0:e.skips[o-1]||0),o>=n)return t.length;for(let f=0;f<t.length;f++){let p=t[f];if(p){if(r.push(p.key),!p.count&&!p.items||p.items===void 0||(D1e(i,p,l,r,c+f),h=p.items?zL(i,e,p.items,n,o+1,r,f):p.count||-1,h<0))return-1;u+=h,r.pop()}}return u},NL=function(i,e){return i&&i.length&&i[e]&&!!i[e].isExpanded},HY=function(i,e,t){let n,o=t;for(let r=0;r<i.length;r++)n=i[r].offset+1,r>0&&(n+=i[r-1].childrenTotalCount,e&&(n+=VL(o,e,n,r-1)*r)),o+=n;return o};function jY(i,e,t,n){let o=e.items[n],r=i.skips&&i.skips[t],s=i.takes&&i.takes[t],a=n===e.items.length-1,l=n===0,d=l&&r||0,c=o.count>s+d;l&&r!==void 0&&(o.isContinuation=!0),a&&s!==void 0&&c&&(o.isContinuationOnNextPage=!0)}function T1e(i,e,t){let n=t-1,o=i.group?i.group.length:0;e.skip=i.skips&&i.skips[n],i.takes&&i.takes[n]!==void 0&&(o===t?e.take=e.count?e.count-(e.skip||0):0:e.take=0,e.take+=i.takes[n])}function $Y(i){return!Array.isArray(i)}function zY(i){$Y(i.data)||(i.data=new le)}function WY(i,e,t,n,o,r){e.isCustomLoading||(n={},HL(i,r,t,n,[]),T1e(e,n,t));let s=e.group?e.group.length:0;n.paths.length&&s-t>0?(zY(e),A1e(i,e,n,t,o,r)):n.paths.length&&e.storeLoadOptions.group?(zY(e),k1e(i,e,n,r)):$Y(e.data)&&e.data.resolve(r)}function A1e(i,e,t,n,o,r){let s=e.group||[],a=s[o+1],l=[];ee(t.paths,d=>{var c;let u={requireTotalCount:!1,requireGroupCount:!0,group:[a],groupSummary:e.storeLoadOptions.groupSummary,filter:Ad(t.paths[d],{filter:e.storeLoadOptions.filter,group:s}),select:e.storeLoadOptions.select,langParams:(c=e.storeLoadOptions)===null||c===void 0?void 0:c.langParams};d===0&&(u.skip=t.skip||0),d===t.paths.length-1&&(u.take=t.take);let h=u.take===0?[]:i._dataSource.loadFromStore(u);Be(h).done(f=>{let p=t.items[d];jY(e,t,o,d),p.items=f}),l.push(h)}),Be.apply(null,l).done(()=>{zL(i,e,r,n+1),WY(i,e,n+1,t,o+1,r)})}function k1e(i,e,t,n){let o=[],r=e.group||[];ee(t.paths,(d,c)=>{o.push(Ad(c,{group:e.isCustomLoading?e.storeLoadOptions.group:r}))});let{filter:s}=e.storeLoadOptions;e.storeLoadOptions.isLoadingAll||(s=qe.combineFilters([s,qe.combineFilters(o,"or")]));let a=q({},e.storeLoadOptions,{requireTotalCount:!1,requireGroupCount:!1,group:null,sort:r.concat(qe.normalizeSortingInfo(e.storeLoadOptions.sort||[])),filter:s}),l=i._dataSource.isLastLevelGroupItemsPagingLocal();l||(a.skip=t.skip,a.take=t.take),Be(t.take===0?[]:i._dataSource.loadFromStore(a)).done(d=>{l&&(d=i._dataSource.sortLastLevelGroupItems(d,r,t.paths),d=t.skip?d.slice(t.skip):d,d=t.take?d.slice(0,t.take):d),ee(t.items,(c,u)=>{let h=u.count-(c===0&&t.skip||0),f=d.splice(0,h);jY(e,t,r.length-1,c),u.items=f}),e.data.resolve(n)}).fail(e.data.reject)}var BL=function(i,e){let t=new le,n=!!(e.group&&e.group.length),o=q({skip:0,take:1,requireGroupCount:n,requireTotalCount:!n},e,{group:n?e.group:null});return i.load(o).done((r,s)=>{let a=s&&(n?s.groupCount:s.totalCount);if(!isFinite(a)){t.reject(An.Error(n?"E4022":"E4021"));return}t.resolve(a)}).fail(t.reject.bind(t)),t},Kv=class extends qg{updateTotalItemsCount(e){let t=0,n=e.extra&&e.extra.totalCount||0,o=e.extra&&e.extra.groupCount||0,r=this._dataSource.pageSize(),s=this._isVirtualPaging();Gv(this,a=>{a.childrenTotalCount=0}),Gv(this,(a,l)=>{let d=HY(l,s?0:r,t),c=a.count+a.childrenTotalCount;s||(c+=VL(d,r,c,l.length-1)),l[l.length-2]?l[l.length-2].childrenTotalCount+=c:t+=c}),super.updateTotalItemsCount(t-n+o)}_isGroupExpanded(e){let t=this._dataSource.group();return NL(t,e)}_updatePagingOptions(e,t){let n=this,o=n._isVirtualPaging(),r=n._dataSource.pageSize(),s=[],a=[],l=0,d=0;e.take&&(Gv(this,c=>{c.childrenTotalCount=0,c.skipChildrenTotalCount=0}),Gv(n,(c,u)=>{let h,f=0,p=0,m=HY(u,o?0:r,d),g=0,b=0,x=c.count+c.childrenTotalCount,E=x;t&&t(c,m);let D=e.skip-m;m<=e.skip+e.take&&x&&(h=e.take,o||(g=VL(m,r,x,u.length-1),x+=g*u.length,E+=g,r&&D>=0&&(f=u.length,p=u.length-1,b=Math.floor(D/r))),D>=0?(m+x>e.skip&&s.unshift(D-b*f-c.skipChildrenTotalCount),m+x>=e.skip+h&&a.unshift(h-f-c.childrenTotalCount+c.skipChildrenTotalCount)):m+x>=e.skip+h&&a.unshift(h+D-c.childrenTotalCount)),m<=e.skip&&(u[u.length-2]?u[u.length-2].skipChildrenTotalCount+=Math.min(E,D+1-b*p):l+=Math.min(E,D+1)),m<=e.skip+h&&(x=Math.min(E,D+h-(b+1)*p),u[u.length-2]?u[u.length-2].childrenTotalCount+=x:d+=x)}),e.skip-=l,e.take-=d-l),e.skips=s,e.takes=a}changeRowExpand(e){let t=this.findGroupInfo(e),n=this._dataSource,o=n.remoteOperations().groupPaging,r=qe.normalizeSortingInfo(n.group());return t?(t.isExpanded=!t.isExpanded,o&&t.isExpanded&&e.length<r.length?BL(n,{filter:Ad(e,{filter:n.lastLoadOptions().filter,group:n.group()}),group:[r[e.length]],select:n.select()}).done(s=>{t.count=s}):new le().resolve()):new le().reject()}handleDataLoading(e){let t=this,{storeLoadOptions:n}=e,o=qe.normalizeSortingInfo(n.group||e.loadOptions.group);if(!(e.isCustomLoading||!o.length)){if(e.remoteOperations.grouping){let r=t._dataSource.remoteOperations().paging;n.group=qe.normalizeSortingInfo(n.group),n.group.forEach((s,a)=>{let l=a===n.group.length-1;s.isExpanded=!r||!l})}e.group=e.group||o,e.remoteOperations.paging?(e.skip=n.skip,e.take=n.take,n.requireGroupCount=!0,n.group=o.slice(0,1),t._updatePagingOptions(e),n.skip=e.skip,n.take=e.take):(e.skip=e.loadOptions.skip,e.take=e.loadOptions.take,t._updatePagingOptions(e))}}handleDataLoadedCore(e,t){let n=this,o=qe.normalizeSortingInfo(e.storeLoadOptions.group||e.loadOptions.group).length,r=e.group?e.group.length:0,s,a={};if(e.isCustomLoading)t(e),HL(n,e.data,o,a,[],e.isCustomLoading,e.storeLoadOptions.isLoadingAll);else{if(e.remoteOperations.paging||n.foreachGroups(l=>{l.count=0}),s=zL(n,e,e.data,o),s<0){e.data=new le().reject(bt.Error("E1037"));return}if(e.remoteOperations.paging||o&&e.extra&&e.loadOptions.requireTotalCount&&(e.extra.totalCount=s,e.extra.groupCount=e.data.length),r&&e.storeLoadOptions.requireGroupCount&&!isFinite(e.extra.groupCount)){e.data=new le().reject(An.Error("E4022"));return}n.updateTotalItemsCount(e),e.remoteOperations.paging||(n._updatePagingOptions(e),e.lastLoadOptions.skips=e.skips,e.lastLoadOptions.takes=e.takes),t(e),e.remoteOperations.paging||n._processPaging(e,o)}WY(n,e,o,a,0,e.data)}_processSkips(e,t,n){if(!n)return;let o=e[0],r=t[0],s=o&&o.items;r!==void 0&&(o.isContinuation=!0,s&&(o.items=s.slice(r),this._processSkips(o.items,t.slice(1),n-1)))}_processTakes(e,t,n,o,r){if(!o||!e)return;r=r||[];let s=e[e.length-1],a=s&&s.items,l=n[0],d=t[0];if(s){let c=s.count-(s.isContinuation&&d||0)||a.length;l!==void 0&&c>l&&(s.isContinuationOnNextPage=!0,r.forEach(u=>{u.isContinuationOnNextPage=!0}),a&&(a=a.slice(0,l),s.items=a)),r.push(s),this._processTakes(a,t.slice(1),n.slice(1),o-1,r)}}_processPaging(e,t){this._processSkips(e.data,e.skips,t),this._processTakes(e.data,e.skips,e.takes,t)}isLastLevelGroupItemsPagingLocal(){return!1}sortLastLevelGroupItems(e){return e}refresh(e,t){let n=this,o=n._dataSource,{storeLoadOptions:r}=e,s=e.group||e.storeLoadOptions.group,a=qe.normalizeSortingInfo(n._group),l,d;function c(u,h){h.length===d+1&&(u.isExpanded=l)}for(d=0;d<a.length;d++)l=NL(s,d),NL(n._group,d)!==l&&n.foreachGroups(c);if(super.refresh.apply(this,arguments),s&&e.remoteOperations.paging&&t.reload)return Gv(n,u=>{let h=BL(o,{filter:Ad(u.path,{filter:r.filter,group:s}),group:s.slice(u.path.length),select:r.select}),f=BL(o,{filter:OO(u.path,{filter:r.filter,group:s},!0),group:s.slice(u.path.length-1,u.path.length),select:r.select});return Be(f,h).done((p,m)=>{p=parseInt(p.length?p[0]:p),m=parseInt(m.length?m[0]:m),u.offset=p,u.count!==m&&(u.count=m,n.updateTotalItemsCount(e))})},!0)}};var jL=function(i,e){let t=new le,n=q({skip:0,take:1,requireTotalCount:!0},e);return i.load(n).done((o,r)=>{t.resolve(r&&r.totalCount)}).fail(t.reject.bind(t)),t},IO=function(i,e,t){return i.foreachGroups(n=>{if(!n.isExpanded)return e(n)},!1,!1,t,!0)},UY=function(i,e){let t=0,n=e||0;return e&&(IO(i,o=>{if(o.offset-t>=e)return!1;t+=o.count-1}),n+=t),n},GY=function(i,e,t,n,o,r){let s=0,a=!1;for(let l=0;l<e.length;l++){let d=e[l];if(d.items!==void 0){t.push(d.key);let c=i.findGroupInfo(t);if(c&&!c.isExpanded)d.collapsedItems=d.items,d.items=null,n+=c.count,r--,r<0&&s++,o&&(a=!0);else if(d.items){let u=GY(i,d.items,t,n,o,r);o&&(u.offset-n>1?d.isContinuation=!0:a=!0),n=u.offset,r=u.take,r<0&&(d.items.length?d.isContinuationOnNextPage=!0:s++)}t.pop()}else o&&(a=!0),n++,r--,r<0&&s++;o=!1}return a&&e.splice(0,1),s&&e.splice(-s,s),{offset:n,take:r}},M1e=function(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(!Ac(null,i[t],e[t]))return!1;return!0},$L=function(i,e,t,n,o){if(e){for(let r=0;r<e.length;r++){let s=e[r];if("key"in s&&s.items!==void 0){t.push(s.key),o&&M1e(o.path,t)&&!s.isContinuation&&(o.offset=n);let a=i.findGroupInfo(t);a&&!s.isContinuation&&(a.offset=n),a&&!a.isExpanded?n+=a.count:n=$L(i,s.items,t,n,o),t.pop()}else n++}return n}},R1e=function(i,e){if(e.group){let t=qe.normalizeSortingInfo(e.group),n=qe.normalizeSortingInfo(i.sort);i.sort=Kr.arrangeSortingInfo(t,n),delete e.group}},F1e=function(i,e,t){let n=qe.normalizeSortingInfo(t||e.group),o=[];for(let r=0;r<i.length;r++){let s=[];for(let a=0;a<=r;a++)s.push([n[a].selector,r===a?"<>":"=",i[a]]);o.push(qe.combineFilters(s))}return o=qe.combineFilters(o,"or"),qe.combineFilters([o,e.filter])},KY=function(i,e){let t=i.count||i.items.length;if(!i.count&&e>1){t=0;for(let n=0;n<i.items.length;n++)t+=KY(i.items[n],e-1)}return t},qv=class extends qg{handleDataLoading(e){let{storeLoadOptions:t}=e,n=[],o=0,r=!1,s,{group:a}=e.loadOptions,l=0;if(R1e(t,e.loadOptions),e.group=e.group||a,e.isCustomLoading)return;let d=q({},t);d.skip=UY(this,t.skip),d.skip&&d.take&&a&&(d.skip--,d.take++,r=!0),d.take&&a&&(s=d.take,d.take++),IO(this,c=>{if(c.offset>=d.skip+d.take+l)return!1;c.offset>=d.skip+l&&c.count&&(l+=c.count-1,n.push(c),o+=c.count)}),ee(n,function(){d.filter=F1e(this.path,d,a)}),e.storeLoadOptions=d,e.collapsedGroups=n,e.collapsedItemsCount=o,e.skip=d.skip||0,e.skipFirstItem=r,e.take=s}handleDataLoaded(e,t){let n=this,{collapsedGroups:o}=e,r=qe.normalizeSortingInfo(e.group),s=r.length;function a(l,d,c,u,h){if(!l||!d.length||!c.length)return;let f,p,m=uo(d[0],!0);for(p=0;p<l.length&&(f=uo(l[p].key,!0),!(h>=u.offset||m===f));p++)h+=KY(l[p],c.length);(!l.length||m!==f)&&l.splice(p,0,{key:d[0],items:[],count:d.length===1?u.count:void 0}),a(l[p].items,d.slice(1),c.slice(1),u,h)}if(e.collapsedItemsCount&&e.extra&&e.extra.totalCount>=0&&(e.extra._totalCountWasIncreasedByCollapsedItems||(e.extra.totalCount+=e.collapsedItemsCount,e.extra._totalCountWasIncreasedByCollapsedItems=!0)),t(e),s){let{data:l}=e,d=ro(l);if(Kr.multiLevelGroup(d,r).enumerate().done(c=>{l=c}),o)for(let c=0;c<o.length;c++)a(l,o[c].path,r,o[c],e.skip);e.isCustomLoading||GY(n,l,[],e.skip,e.skipFirstItem,e.take),e.data=l}}isGroupItemCountable(e){return e.items===null}updateTotalItemsCount(){let e=0;IO(this,t=>{t.count&&(e-=t.count-1)}),super.updateTotalItemsCount(e)}changeRowExpand(e){let t=this,n=t._dataSource,o=n.beginPageIndex?n.beginPageIndex():n.pageIndex(),r=n.items(),s=UY(t,o*n.pageSize()),a=t.findGroupInfo(e),l;return a&&!a.isExpanded?l=new le().resolve(a.count):l=jL(n,{filter:Ad(e,{filter:n.filter(),group:n.group()})}),Be(l).done(d=>{d=parseInt(d.length?d[0]:d),a?($L(t,r,[],s),a.isExpanded=!a.isExpanded,a.count=d):(a={offset:-1,count:d,path:e,isExpanded:!1},$L(t,r,[],s,a),a.offset>=0&&t.addGroupInfo(a)),t.updateTotalItemsCount()}).fail(function(){n._eventsStrategy.fireEvent("loadError",arguments)})}allowCollapseAll(){return!1}refresh(e,t){let n=this,{storeLoadOptions:o}=e,r=n._dataSource;if(super.refresh.apply(this,arguments),t.reload)return IO(n,s=>{let a=jL(r,{filter:Ad(s.path,o)}),l=jL(r,{filter:OO(s.path,o)});return Be(l,a).done((d,c)=>{d=parseInt(d.length?d[0]:d),c=parseInt(c.length?c[0]:c),s.offset=d,s.count!==c&&(s.count=c,n.updateTotalItemsCount())})},!0)}};var P1e=i=>class extends i{init(){super.init.apply(this,arguments),this._initGroupingHelper()}_initGroupingHelper(e){let t=this._grouping,n=this.option("grouping.autoExpandAll"),o=this.option("focusedRowEnabled"),r=e?e.remoteOperations:this.remoteOperations();r.filtering&&r.sorting&&r.paging&&!r.grouping&&(n||!o)?(!t||t instanceof Kv)&&(this._grouping=new qv(this)):(!t||t instanceof qv)&&(this._grouping=new Kv(this))}totalItemsCount(){let e=super.totalItemsCount();return e>0&&this._dataSource.group()&&this._dataSource.requireTotalCount()?e+this._grouping.totalCountCorrection():e}itemsCount(){return this._dataSource.group()?this._grouping.itemsCount()||0:super.itemsCount.apply(this,arguments)}allowCollapseAll(){return this._grouping.allowCollapseAll()}isGroupItemCountable(e){return this._grouping.isGroupItemCountable(e)}isRowExpanded(e){let t=this._grouping.findGroupInfo(e);return t?t.isExpanded:!this._grouping.allowCollapseAll()}collapseAll(e){return this._collapseExpandAll(e,!1)}expandAll(e){return this._collapseExpandAll(e,!0)}_collapseExpandAll(e,t){let n=this,o=n._dataSource,r=o.group(),s=qe.normalizeSortingInfo(r||[]);if(s.length){for(let a=0;a<s.length;a++)e===void 0||e===a?s[a].isExpanded=t:r&&r[a]&&(s[a].isExpanded=r[a].isExpanded);o.group(s),n._grouping.foreachGroups((a,l)=>{(e===void 0||e===l.length-1)&&(a.isExpanded=t)},!1,!0),n.resetPagesCache()}return!0}refresh(){return super.refresh.apply(this,arguments),this._grouping.refresh.apply(this._grouping,arguments)}changeRowExpand(e){let t=this,n=t._dataSource;if(n.group())return n.beginLoading(),t._lastLoadOptions&&(t._lastLoadOptions.groupExpand=!0),t._changeRowExpandCore(e).always(()=>{n.endLoading()})}_changeRowExpandCore(e){return this._grouping.changeRowExpand(e)}_hasGroupLevelsExpandState(e,t){if(e&&Array.isArray(e)){for(let n=0;n<e.length;n++)if(e[n].isExpanded===t)return!0}}_customizeRemoteOperations(e,t){let{remoteOperations:n}=e;e.storeLoadOptions.group?(n.grouping&&!e.isCustomLoading&&(!n.groupPaging||this._hasGroupLevelsExpandState(e.storeLoadOptions.group,!0))&&(n.paging=!1),!n.grouping&&(!n.sorting||!n.filtering||e.isCustomLoading||this._hasGroupLevelsExpandState(e.storeLoadOptions.group,!1))&&(n.paging=!1)):!e.isCustomLoading&&n.paging&&t.grouping&&this.resetCache(),super._customizeRemoteOperations.apply(this,arguments)}_handleDataLoading(e){return super._handleDataLoading(e),this._initGroupingHelper(e),this._grouping.handleDataLoading(e)}_handleDataLoaded(e){return this._grouping.handleDataLoaded(e,super._handleDataLoaded.bind(this))}_handleDataLoadedCore(e){return this._grouping.handleDataLoadedCore(e,super._handleDataLoadedCore.bind(this))}};Wh.extend(P1e);var L1e=i=>class extends i{init(){super.init(),this.createAction("onRowExpanding"),this.createAction("onRowExpanded"),this.createAction("onRowCollapsing"),this.createAction("onRowCollapsed")}_beforeProcessItems(e){let t=this._columnsController.getGroupColumns();return e=super._beforeProcessItems(e),e.length&&t.length&&(e=this._processGroupItems(e,t.length)),e}_processItem(e,t){return U(e.groupIndex)&&We(e.rowType)&&e.rowType.indexOf("group")===0?(e=this._processGroupItem(e,t),t.dataIndex=0):e=super._processItem.apply(this,arguments),e}_processGroupItem(e,t){return e}_processGroupItems(e,t,n){let o=this,r=o._columnsController.getGroupColumns(),s=r[r.length-t];if(!n){let l=o.option("scrolling.mode");n={collectContinuationItems:l!=="virtual"&&l!=="infinite",resultItems:[],path:[],values:[]}}let{resultItems:a}=n;if(n.data&&(n.collectContinuationItems||!n.data.isContinuation)&&a.push({rowType:"group",data:n.data,groupIndex:n.path.length-1,isExpanded:!!n.data.items,key:n.path.slice(0),values:n.values.slice(0)}),e)if(t===0)a.push.apply(a,e);else for(let l=0;l<e.length;l++){let d=e[l];d&&"items"in d?(n.data=d,n.path.push(d.key),n.values.push(s&&s.deserializeValue&&!s.calculateDisplayValue?s.deserializeValue(d.key):d.key),o._processGroupItems(d.items,t-1,n),n.data=void 0,n.path.pop(),n.values.pop()):a.push(d)}return a}publicMethods(){return super.publicMethods().concat(["collapseAll","expandAll","isRowExpanded","expandRow","collapseRow"])}collapseAll(e){let t=this._dataSource;t&&t.collapseAll(e)&&(t.pageIndex(0),t.reload())}expandAll(e){let t=this._dataSource;t&&t.expandAll(e)&&(t.pageIndex(0),t.reload())}changeRowExpand(e){let t=this,n=t.isRowExpanded(e),o={key:e,expanded:n};return t.executeAction(n?"onRowCollapsing":"onRowExpanding",o),o.cancel?new le().resolve():Be(t._changeRowExpandCore(e)).done(()=>{o.expanded=!n,t.executeAction(n?"onRowCollapsed":"onRowExpanded",o)})}_changeRowExpandCore(e){let t=this,n=this._dataSource,o=new le;return n?Be(n.changeRowExpand(e)).done(()=>{t.load().done(o.resolve).fail(o.reject)}).fail(o.reject):o.resolve(),o}isRowExpanded(e){let t=this._dataSource;return t&&t.isRowExpanded(e)}expandRow(e){return this.isRowExpanded(e)?new le().resolve():this.changeRowExpand(e)}collapseRow(e){return this.isRowExpanded(e)?this.changeRowExpand(e):new le().resolve()}optionChanged(e){e.name==="grouping"&&(e.name="dataSource"),super.optionChanged(e)}},WL=function(i,e){let t=this._columnsController;switch(e.itemData.value){case"group":{let n=t._dataSource.group()||[];t.columnOption(i.dataField,"groupIndex",n.length);break}case"ungroup":t.columnOption(i.dataField,"groupIndex",-1);break;case"ungroupAll":this.component.clearGrouping()}},qY=i=>{let e=i?.visible;return e==="auto"?Ve.current().deviceType==="desktop":!!e},YY=(i,e)=>{let t=qY(i),n=i?.allowColumnDragging&&e.allowGrouping;return t&&!!n},N1e=i=>class extends i{_getToolbarItems(){let e=super._getToolbarItems();return this._appendGroupingItem(e)}_appendGroupingItem(e){if(this._isGroupPanelVisible()){let t=!1,n={template:()=>{let o=I("<div>").addClass("dx-datagrid-group-panel");return this._updateGroupPanelContent(o),Nh("groupPanel",this,o,void 0,this._handleActionKeyDown.bind(this)),o},name:"groupPanel",onItemRendered:()=>{t&&this.renderCompleted.fire(),t=!0},location:"before",locateInMenu:"never",sortIndex:1};e.push(n),this.updateToolbarDimensions()}return e}_handleActionKeyDown(e){let{event:t}=e,n=I(t.target),o=n.closest(".dx-group-panel-item").index(),r=this._columnsController.getGroupColumns()[o],s=r&&r.index;n.is(".dx-header-filter")?this._headerFilterController.showHeaderFilterMenu(s,!0):this._processGroupItemAction(s),t.preventDefault()}_isGroupPanelVisible(){return qY(this.option("groupPanel"))}_renderGroupPanelItems(e,t){let n=this;e.empty(),ee(t,(o,r)=>{n._createGroupPanelItem(e,r)}),$g(this)}_createGroupPanelItem(e,t){let n=I("<div>").addClass(t.cssClass).addClass("dx-group-panel-item").data("columnData",t).appendTo(e).text(t.caption);return Iq(this,n),n}_columnOptionChanged(e){if(!this._requireReady&&!qe.checkChanges(e.optionNames,["width","visibleWidth"])){let t=this.element(),n=t&&t.find(".dx-datagrid-group-panel");n&&n.length&&(this._updateGroupPanelContent(n),this.updateToolbarDimensions(),this.renderCompleted.fire())}super._columnOptionChanged()}_updateGroupPanelContent(e){let t=this.getColumns(),n=this.option("groupPanel");this._renderGroupPanelItems(e,t),n.allowColumnDragging&&!t.length&&(I("<div>").addClass("dx-group-panel-message").text(n.emptyPanelText).appendTo(e),e.closest(".dx-toolbar-item").addClass("dx-toolbar-label"),e.closest(".dx-toolbar-label").css("maxWidth","none"))}allowDragging(e){let t=this.option("groupPanel");return YY(t,e)}getColumnElements(){let e=this.element();return e&&e.find(".dx-group-panel-item")}getColumns(){return this._columnsController.getGroupColumns()}getBoundingRect(){let e=this.element();if(e&&e.find(".dx-datagrid-group-panel").length){let t=e.offset();return{top:t.top,bottom:t.top+ft(e)}}return null}getName(){return"group"}getContextMenuItems(e){let t=this,n=t.option("grouping.contextMenuEnabled"),o=I(e.targetElement).closest(".dx-group-panel-item"),r;if(o.length&&(e.column=o.data("columnData")),n&&e.column){let{column:s}=e;if(U(s.allowGrouping)?s.allowGrouping:!0){let l=U(s.groupIndex)&&s.groupIndex>-1,d=t.option("grouping.texts"),c=WL.bind(t,s);r=[{text:d.ungroup,value:"ungroup",disabled:!l,onItemClick:c},{text:d.ungroupAll,value:"ungroupAll",onItemClick:c}]}}return r}isVisible(){return super.isVisible()||this._isGroupPanelVisible()}hasGroupedColumns(){return this._isGroupPanelVisible()&&!!this.getColumns().length}optionChanged(e){e.name==="groupPanel"?(this._invalidate(),e.handled=!0):super.optionChanged(e)}},B1e=i=>class extends i{getContextMenuItems(e){let t=this,n=t.option("grouping.contextMenuEnabled"),o;if(n&&e.row&&e.row.rowType==="group"){let s=t._columnsController.columnOption(`groupIndex:${e.row.groupIndex}`);if(s&&s.allowGrouping){let a=t.option("grouping.texts"),l=WL.bind(t,s);o=[],o.push({text:a.ungroup,value:"ungroup",onItemClick:l},{text:a.ungroupAll,value:"ungroupAll",onItemClick:l})}}return o}_rowClick(e){let t=this,n=t.option("grouping.expandMode"),r=t.option("scrolling.mode")!=="infinite"&&n==="rowClick"&&I(e.event.target).closest(".dx-group-row").length,s=I(e.event.target).closest(".dx-datagrid-expand").length;(r||s)&&t._changeGroupRowState(e),super._rowClick(e)}_changeGroupRowState(e){let t=this._dataController.items()[e.rowIndex],n=this._columnsController.columnOption(`groupIndex:${t.groupIndex}`,"allowCollapsing");(t.rowType==="data"||t.rowType==="group"&&n!==!1)&&(this._dataController.changeRowExpand(t.key,!0),e.event.preventDefault(),e.handled=!0)}},V1e=i=>class extends i{getContextMenuItems(e){let t=this,n=t.option("grouping.contextMenuEnabled"),o=super.getContextMenuItems(e);if(n&&e.row&&(e.row.rowType==="header"||e.row.rowType==="detailAdaptive")){let{column:r}=e;if(!r.command&&(!U(r.allowGrouping)||r.allowGrouping)){let s=t.option("grouping.texts"),a=U(r.groupIndex)&&r.groupIndex>-1,l=WL.bind(t,r);o=o||[],o.push({text:s.groupByThisColumn,value:"group",beginGroup:!0,disabled:a,onItemClick:l}),r.showWhenGrouped&&o.push({text:s.ungroup,value:"ungroup",disabled:!a,onItemClick:l}),o.push({text:s.ungroupAll,value:"ungroupAll",onItemClick:l})}}return o}allowDragging(e){let t=this.option("groupPanel");return YY(t,e)||super.allowDragging(e)}};qe.registerModule("grouping",{defaultOptions:()=>({grouping:{autoExpandAll:!0,allowCollapsing:!0,contextMenuEnabled:!1,expandMode:"buttonClick",texts:{groupContinuesMessage:de.format("dxDataGrid-groupContinuesMessage"),groupContinuedMessage:de.format("dxDataGrid-groupContinuedMessage"),groupByThisColumn:de.format("dxDataGrid-groupHeaderText"),ungroup:de.format("dxDataGrid-ungroupHeaderText"),ungroupAll:de.format("dxDataGrid-ungroupAllText")}},groupPanel:{visible:!1,emptyPanelText:de.format("dxDataGrid-groupPanelEmptyText"),allowColumnDragging:!0}}),extenders:{controllers:{data:L1e,columns:i=>class extends i{_getExpandColumnOptions(){let e=super._getExpandColumnOptions.apply(this,arguments);return e.cellTemplate=qe.getExpandCellTemplate(),e}},editing:i=>class extends i{_isProcessedItem(e){return U(e.groupIndex)&&We(e.rowType)&&e.rowType.indexOf("group")===0}}},views:{headerPanel:N1e,rowsView:B1e,columnHeadersView:V1e}}});var H1e=i=>class extends i{_getExpandColumnsCore(){let e=super._getExpandColumnsCore();return this.option("masterDetail.enabled")&&e.push({type:"detailExpand",cellTemplate:De.getExpandCellTemplate()}),e}},UL=function(i){i._expandedItems=[],i._isExpandAll=i.option("masterDetail.autoExpandAll")},z1e=i=>class extends i{init(){UL(this),super.init()}expandAll(e){let t=this;e<0?(t._isExpandAll=!0,t._expandedItems=[],t.updateItems()):super.expandAll.apply(t,arguments)}collapseAll(e){let t=this;e<0?(t._isExpandAll=!1,t._expandedItems=[],t.updateItems()):super.collapseAll.apply(t,arguments)}isRowExpandedHack(){return super.isRowExpanded.apply(this,arguments)}isRowExpanded(e){let t=this,n=De.getIndexByKey(e,t._expandedItems);return Array.isArray(e)?super.isRowExpanded.apply(t,arguments):!!(t._isExpandAll^(n>=0&&t._expandedItems[n].visible))}_getRowIndicesForExpand(e){let t=this.getRowIndexByKey(e);return[t,t+1]}_changeRowExpandCore(e){let t=this,n;if(Array.isArray(e))n=super._changeRowExpandCore.apply(t,arguments);else{let o=De.getIndexByKey(e,t._expandedItems);if(o>=0){let{visible:r}=t._expandedItems[o];t._expandedItems[o].visible=!r}else t._expandedItems.push({key:e,visible:!0});t.updateItems({changeType:"update",rowIndices:t._getRowIndicesForExpand(e)}),n=new le().resolve()}return n}_processDataItemHack(){return super._processDataItem.apply(this,arguments)}_processDataItem(e,t){let n=super._processDataItem.apply(this,arguments);return n.isExpanded=this.isRowExpanded(n.key),t.detailColumnIndex===void 0&&(t.detailColumnIndex=-1,ee(t.visibleColumns,(o,r)=>{if(r.command==="expand"&&!U(r.groupIndex))return t.detailColumnIndex=o,!1})),t.detailColumnIndex>=0&&(n.values[t.detailColumnIndex]=n.isExpanded),n}_processItemsHack(){return super._processItems.apply(this,arguments)}_processItems(e,t){let n=this,{changeType:o}=t,r=[];return e=super._processItems.apply(n,arguments),o==="loadingAll"?e:(o==="refresh"&&(n._expandedItems=vo(n._expandedItems,s=>s.visible)),ee(e,(s,a)=>{r.push(a);let l=De.getIndexByKey(a.key,n._expandedItems);a.rowType==="data"&&(a.isExpanded||l>=0)&&!a.isNewRow&&r.push({visible:a.isExpanded,rowType:"detail",key:a.key,data:a.data,values:[]})}),r)}optionChanged(e){let t=this,n,o;if(e.name==="masterDetail"){switch(e.name="dataSource",e.fullName){case"masterDetail":{let r=e.value||{},s=e.previousValue||{};n=r.enabled!==s.enabled,o=r.autoExpandAll!==s.autoExpandAll;break}case"masterDetail.template":UL(t);break;case"masterDetail.enabled":n=!0;break;case"masterDetail.autoExpandAll":o=!0}(n||o)&&UL(t)}super.optionChanged(e)}},j1e=i=>class extends i{fireContentReadyAction(){super.fireContentReadyAction.apply(this,arguments),this._updateParentDataGrids(this.component.$element())}_updateParentDataGrids(e){let t=e.closest(".dx-master-detail-row");t.length&&Be(this._updateMasterDataGrid(t,e)).done(()=>{this._updateParentDataGrids(t.parent())})}_updateMasterDataGrid(e,t){let n=I(e).data("options"),o=I(e).closest(`.${this.getWidgetContainerClass()}`).parent().data("dxDataGrid");if(n&&o)return this._updateMasterDataGridCore(o,n)}_updateMasterDataGridCore(e,t){let n=le();if(e.getView("rowsView").isFixedColumns())this._updateFixedMasterDetailGrids(e,t.rowIndex,I(t.rowElement)).done(n.resolve);else{if(e.option("scrolling.useNative")===!0){e.updateDimensions().done(()=>n.resolve(!0));return}let o=e.getScrollable();o?o?.update().done(()=>n.resolve()):n.resolve()}return n.promise()}_updateFixedMasterDetailGrids(e,t,n){let o=le(),r=I(e.getRowElement(t)),s=I(e.getView("rowsView").getTableElements()),a=r?.length===2&&ft(r.eq(0))!==ft(r.eq(1)),l=s?.length===2&&ft(s.eq(0))!==ft(s.eq(1));if(a||l){let d=Qe(n);return e.updateDimensions().done(()=>{let c=this.option("columnAutoWidth")&&e.option("scrolling.useNative")===!0,u=c&&d!==Qe(n);c&&u?this.updateDimensions().done(()=>o.resolve(!0)):o.resolve(!0)}),o.promise()}return le().resolve()}_toggleBestFitMode(e){if(super._toggleBestFitMode.apply(this,arguments),this.option("masterDetail.template")){let t=this._rowsView.getTableElement();t&&t.find(".dx-master-detail-cell").css("maxWidth",e?0:"")}}},$1e=i=>class extends i{_getCellTemplate(e){let t=this,{column:n}=e,o=this._editingController,r=o&&o.isEditRow(e.rowIndex),s;return n.command==="detail"&&!r?s=t.option("masterDetail.template")||{allowRenderToDetachedContainer:!1,render:t._getDefaultTemplate(n)}:s=super._getCellTemplate.apply(t,arguments),s}_isDetailRow(e){return e&&e.rowType&&e.rowType.indexOf("detail")===0}_createRow(e){let t=super._createRow.apply(this,arguments);return e&&this._isDetailRow(e)&&(this.option("showRowLines")&&t.addClass("dx-row-lines"),t.addClass("dx-master-detail-row"),U(e.visible)&&t.toggle(e.visible)),t}_renderCells(e,t){let{row:n}=t,o,r=this._columnsController.getVisibleColumns();n.rowType&&this._isDetailRow(n)?this._needRenderCell(0,t.columnIndices)&&(o=this._renderCell(e,{value:null,row:n,rowIndex:n.rowIndex,column:{command:"detail"},columnIndex:0,change:t.change}),o.addClass("dx-cell-focus-disabled").addClass("dx-master-detail-cell").attr("colSpan",r.length),n.isEditing||o.attr("aria-roledescription",de.format("dxDataGrid-masterDetail"))):super._renderCells.apply(this,arguments)}},XY={defaultOptions:()=>({masterDetail:{enabled:!1,autoExpandAll:!1,template:null}}),extenders:{controllers:{columns:H1e,data:z1e,resizing:j1e},views:{rowsView:$1e}}};qe.registerModule("masterDetail",XY);var ZY=Mr.inherit({_supportedKeys(){return q(this.callBase(),{space:function(i){i.preventDefault(),this._clickAction({event:i})}})},_getDefaultOptions(){return q(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,value:!1})},_canValueBeChangedByClick:()=>!0,_defaultOptionsRules(){return this.callBase().concat([{device:()=>Ve.real().deviceType==="desktop"&&!Ve.isSimulator(),options:{focusStateEnabled:!0}}])},_init(){this.callBase(),this.$element().addClass("dx-radiobutton")},_initMarkup(){this.callBase(),this._renderIcon(),this._renderCheckedState(this.option("value")),this._renderClick(),this.setAria("role","radio")},_renderIcon(){this._$icon=I("<div>").addClass("dx-radiobutton-icon"),I("<div>").addClass("dx-radiobutton-icon-dot").appendTo(this._$icon),this.$element().append(this._$icon)},_renderCheckedState(i){this.$element().toggleClass("dx-radiobutton-checked",i).find(".dx-radiobutton-icon").toggleClass("dx-radiobutton-icon-checked",i),this.setAria("checked",i)},_renderClick(){let i=Se(Kt,this.NAME);this._clickAction=this._createAction(e=>{this._clickHandler(e.event)}),X.off(this.$element(),i),X.on(this.$element(),i,e=>{this._clickAction({event:e})})},_clickHandler(i){this._saveValueChangeEvent(i),this.option("value",!0)},_optionChanged(i){i.name==="value"?(this._renderCheckedState(i.value),this.callBase(i)):this.callBase(i)}});ut("dxRadioButton",ZY);var QY=ZY;var JY=QY;var GL="dxListEditDecorator",W1e=Se(_E,GL),U1e=Se(bE,GL),G1e=Se(Og,GL),K1e=Ut.inherit({ctor(i){this._list=i,this._init()},_init:pe,_shouldHandleSwipe:!1,_attachSwipeEvent(i){let e={itemSizeFunc:(function(){return this._clearSwipeCache&&(this._itemWidthCache=Qe(this._list.$element()),this._clearSwipeCache=!1),this._itemWidthCache}).bind(this)};X.on(i.$itemElement,W1e,e,this._itemSwipeStartHandler.bind(this)),X.on(i.$itemElement,U1e,this._itemSwipeUpdateHandler.bind(this)),X.on(i.$itemElement,G1e,this._itemSwipeEndHandler.bind(this))},_itemSwipeStartHandler(i){let e=I(i.currentTarget);if(e.is(".dx-state-disabled, .dx-state-disabled *")){i.cancel=!0;return}clearTimeout(this._list._inkRippleTimer),this._swipeStartHandler(e,i)},_itemSwipeUpdateHandler(i){let e=I(i.currentTarget);this._swipeUpdateHandler(e,i)},_itemSwipeEndHandler(i){let e=I(i.currentTarget);this._swipeEndHandler(e,i),this._clearSwipeCache=!0},beforeBag:pe,afterBag:pe,_commonOptions(){return{activeStateEnabled:this._list.option("activeStateEnabled"),hoverStateEnabled:this._list.option("hoverStateEnabled"),focusStateEnabled:this._list.option("focusStateEnabled")}},modifyElement(i){this._shouldHandleSwipe&&(this._attachSwipeEvent(i),this._clearSwipeCache=!0)},afterRender:pe,handleClick:pe,handleKeyboardEvents:pe,handleEnterPressing:pe,handleContextMenu:pe,_swipeStartHandler:pe,_swipeUpdateHandler:pe,_swipeEndHandler:pe,visibilityChange:pe,getExcludedSelectors:pe,dispose:pe}),eX=K1e;var tX="dx-list-select-decorator-enabled";var q1e="dx-list-select-checkbox-container",Y1e="dx-list-select-checkbox",X1e="dx-list-select-radiobutton-container",Z1e="dx-list-select-radiobutton";var iX=Se(Kt,"dxListEditDecorator");SG("selection","default",eX.inherit({_init(){this.callBase.apply(this,arguments);let i=this._list.option("selectionMode");this._singleStrategy=i==="single",this._containerClass=this._singleStrategy?X1e:q1e,this._controlClass=this._singleStrategy?Z1e:Y1e,this._controlWidget=this._singleStrategy?JY:Ph,this._list.$element().addClass(tX)},beforeBag(i){let{$itemElement:e}=i,t=i.$container.addClass(this._containerClass),n=I("<div>").addClass(this._controlClass).appendTo(t);new this._controlWidget(n,q(this._commonOptions(),{value:this._isSelected(e),elementAttr:{"aria-label":"Check State"},focusStateEnabled:!1,hoverStateEnabled:!1,onValueChanged:(function(o){o.event&&this._list._saveSelectionChangeEvent(o.event),this._processCheckedState(e,o.value),o.event&&o.event.stopPropagation()}).bind(this)}))},modifyElement(i){this.callBase.apply(this,arguments);let{$itemElement:e}=i,t=this._controlWidget.getInstance(e.find(`.${this._controlClass}`));X.on(e,"stateChanged",(n,o)=>{t.option("value",o)})},_updateSelectAllState(){this._$selectAll&&this._selectAllCheckBox.option("value",this._list.isSelectAll())},afterRender(){this._list.option("selectionMode")==="all"&&(this._$selectAll?this._updateSelectAllState():this._renderSelectAll())},handleKeyboardEvents(i,e){let t=!e,n=this._list,o=this._$selectAll,r=n._getLastItemIndex();return!!o&&(e&&i===0||t&&i===r)?(n.option("focusedElement",o),n.scrollToItem(n.option("focusedElement")),!0):!1},handleEnterPressing(i){if(this._$selectAll&&this._$selectAll.hasClass("dx-state-focused"))return i.target=this._$selectAll.get(0),this._list._saveSelectionChangeEvent(i),this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value")),!0},_renderSelectAll(){this._$selectAll=I("<div>").addClass("dx-list-select-all");let i=this._list._supportedKeys().downArrow.bind(this._list),e=I("<div>").addClass("dx-list-select-all-checkbox").appendTo(this._$selectAll);this._selectAllCheckBox=this._list._createComponent(e,Ph,{elementAttr:{"aria-label":de.format("dxList-selectAll")},focusStateEnabled:!1,hoverStateEnabled:!1}),this._selectAllCheckBox.registerKeyHandler("downArrow",i),I("<div>").addClass("dx-list-select-all-label").text(this._list.option("selectAllText")).appendTo(this._$selectAll),this._list.itemsContainer().prepend(this._$selectAll),this._updateSelectAllState(),this._updateSelectAllAriaLabel(),this._attachSelectAllHandler()},_attachSelectAllHandler(){this._selectAllCheckBox.option("onValueChanged",this._selectAllHandler.bind(this)),X.off(this._$selectAll,iX),X.on(this._$selectAll,iX,this._selectAllClickHandler.bind(this))},_updateSelectAllAriaLabel(){if(!this._$selectAll)return;let{value:i}=this._selectAllCheckBox.option(),t=i===void 0?"half checked":i?"checked":"not checked",n=`${de.format("dxList-selectAll")}, ${t}`;this._$selectAll.attr({"aria-label":n})},_selectAllHandler(i){i.event&&i.event.stopPropagation(),i.event&&this._list._saveSelectionChangeEvent(i.event);let{value:e}=this._selectAllCheckBox.option();e?this._selectAllItems():e===!1&&this._unselectAllItems(),this._updateSelectAllAriaLabel(),this._list._createActionByOption("onSelectAllValueChanged")({value:e})},_checkSelectAllCapability(){let i=this._list,e=i._dataController;return i.option("selectAllMode")==="allPages"&&i.option("grouped")&&!e.group()?(bt.log("W1010"),!1):!0},_selectAllItems(){this._checkSelectAllCapability()&&this._list._selection.selectAll(this._list.option("selectAllMode")==="page")},_unselectAllItems(){this._checkSelectAllCapability()&&this._list._selection.deselectAll(this._list.option("selectAllMode")==="page")},_selectAllClickHandler(i){this._list._saveSelectionChangeEvent(i),this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value"))},_isSelected(i){return this._list.isItemSelected(i)},_processCheckedState(i,e){e?this._list.selectItem(i):this._list.unselectItem(i)},dispose(){this._disposeSelectAll(),this._list.$element().removeClass(tX),this.callBase.apply(this,arguments)},_disposeSelectAll(){this._$selectAll&&(this._$selectAll.remove(),this._$selectAll=null)}}));var nX=JG.inherit({_supportedKeys(){let i=this,e=this.callBase(),t=function(o){this._isEditable()?this._valueSubstituted()&&(this._preventFiltering=!0):this.option("showClearButton")&&(o.preventDefault(),this.clear()),this._savedTextRemoveEvent=o,this._preventSubstitution=!0},n=function(){i.option("searchEnabled")&&i._valueSubstituted()&&i._searchHandler()};return q({},e,{tab(){this.option("opened")&&!this._popup.getFocusableElements().length&&this._resetCaretPosition(!0),e.tab&&e.tab.apply(this,arguments),this._cancelSearchIfNeed()},upArrow(o){if(e.upArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(o),!0},downArrow(o){if(e.downArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(o),!0},leftArrow(){var o;n(),(o=e.leftArrow)===null||o===void 0||o.apply(this,arguments)},rightArrow(){n(),e.rightArrow&&e.rightArrow.apply(this,arguments)},home(){n(),e.home&&e.home.apply(this,arguments)},end(){n(),e.end&&e.end.apply(this,arguments)},escape(){let o=e.escape&&e.escape.apply(this,arguments);return this._cancelEditing(),o??!0},enter(o){let r=this.option("opened"),s=this._input().val().trim(),a=s&&this._list&&!this._list.option("focusedElement");if(!s&&U(this.option("value"))&&this.option("allowClearing"))this._saveValueChangeEvent(o),this.option({selectedItem:null,value:null}),this.close();else{if(this.option("acceptCustomValue"))return o.preventDefault(),a&&(r&&this._toggleOpenState(),this._valueChangeEventHandler(o)),r;if(e.enter&&e.enter.apply(this,arguments))return r}},space(o){let r=this.option("opened"),s=this.option("searchEnabled"),a=this.option("acceptCustomValue");if(!(!r||s||a))return o.preventDefault(),this._valueChangeEventHandler(o),!0},backspace:t,del:t})},_getDefaultOptions(){return q(this.callBase(),{placeholder:de.format("Select"),fieldTemplate:null,customItemCreateEvent:"change",valueChangeEvent:"change",acceptCustomValue:!1,onCustomItemCreating(i){U(i.customItem)||(i.customItem=i.text)},showSelectionControls:!1,allowClearing:!0,tooltipEnabled:!1,openOnFieldClick:!0,showDropDownButton:!0,displayCustomValue:!1,useHiddenSubmitElement:!0})},_init(){this.callBase(),this._initCustomItemCreatingAction()},_initMarkup(){this.$element().addClass("dx-selectbox"),this._renderTooltip(),this.callBase(),this._$container.addClass("dx-selectbox-container")},_createPopup(){this.callBase(),this._popup.$element().addClass("dx-selectbox-popup"),this._popup.$overlayContent().attr("tabindex",-1)},_popupWrapperClass(){return`${this.callBase()} dx-selectbox-popup-wrapper`},_setDeprecatedOptions(){this.callBase(),q(this._deprecatedOptions,{valueChangeEvent:{since:"22.2",alias:"customItemCreateEvent"}})},_cancelEditing(){!this.option("searchEnabled")&&this._list&&(this._focusListElement(null),this._updateField(this.option("selectedItem")))},_renderOpenedState(){this.callBase(),this.option("opened")&&(this._scrollToSelectedItem(),this._focusSelectedElement())},_focusSelectedElement(){if(!this._searchValue()){this._focusListElement(null);return}let{items:e,selectedItem:t}=this.option(),n=this._list._itemElements(),o=e?.indexOf(t)??-1,r=o!==-1&&!this._isCustomItemSelected()?n.eq(o):null;this._focusListElement(r)},_renderFocusedElement(){if(!this._list)return;if(!this._searchValue()||this.option("acceptCustomValue")){this._focusListElement(null);return}let t=this._list._itemElements().not(".dx-state-disabled").eq(0);this._focusListElement(t)},_focusListElement(i){this._preventInputValueRender=!0,this._list.option("focusedElement",tt(i)),delete this._preventInputValueRender},_scrollToSelectedItem(){this._list&&this._list.scrollToItem(this._list.option("selectedItem"))},_listContentReadyHandler(){this.callBase(),!(this._dataController.paginate()&&this._needPopupRepaint())&&this._scrollToSelectedItem()},_renderValue(){return this._renderInputValue(),this._setSubmitValue(),le().resolve()},_renderInputValue(){return this.callBase().always(()=>{this._renderInputValueAsync()})},_renderInputValueAsync(){this._renderTooltip(),this._renderInputValueImpl().always(()=>{this._refreshSelected()})},_renderInputValueImpl(){return this._renderField(),le().resolve()},_setNextItem(i){let e=this._calcNextItem(i),t=this._valueGetter(e);this._setValue(t)},_setNextValue(i){(this._dataController.isLoaded()?le().resolve():this._dataController.load()).done(()=>{let t=this._getSelectedIndex(),n=this._dataController.pageSize(),o=this._dataController.isLastPage(),r=t===this._items().length-1;this._saveValueChangeEvent(i);let s=Ti(i)==="downArrow"?1:-1;n&&!o&&r&&s>0?(this._popup||this._createPopup(),this._dataController.isLoading()||this._list._loadNextPage().done(this._setNextItem.bind(this,s))):this._setNextItem(s)})},_setSelectedItem(i){let e=!this._isCustomValueAllowed()&&i===void 0;this.callBase(e?null:i),!e&&(!this._isEditable()||this._isCustomItemSelected())&&this._setListOption("selectedItem",this.option("selectedItem"))},_isCustomValueAllowed(){return this.option("acceptCustomValue")||this.callBase()},_displayValue(i){return i=!U(i)&&this._isCustomValueAllowed()?this.option("value"):i,this.callBase(i)},_listConfig(){let i=q(this.callBase(),{pageLoadMode:"scrollBottom",onSelectionChanged:this._getSelectionChangeHandler(),selectedItem:this.option("selectedItem"),onFocusedItemChanged:this._listFocusedItemChangeHandler.bind(this)});return this.option("showSelectionControls")&&q(i,{showSelectionControls:!0,selectByClick:!0}),i},_listFocusedItemChangeHandler(i){if(this._preventInputValueRender)return;let e=i.component,t=I(e.option("focusedElement")),n=e._getItemData(t);this._updateField(n)},_updateField(i){if(!(this._getTemplateByOption("fieldTemplate")&&this.option("fieldTemplate"))){let t=this._displayGetter(i);this.option("text",t),this._renderDisplayText(t);return}this._renderField()},_getSelectionChangeHandler(){return this.option("showSelectionControls")?this._selectionChangeHandler.bind(this):pe},_selectionChangeHandler(i){ee(i.addedItems||[],(e,t)=>{this._setValue(this._valueGetter(t))})},_getActualSearchValue(){return this._dataController.searchValue()},_isInlineAutocompleteEnabled(){return this.option("searchEnabled")&&!this.option("acceptCustomValue")&&this.option("searchMode")==="startswith"},_getAriaAutocomplete(){let{disabled:i,readOnly:e,searchEnabled:t}=this.option();return t&&!(e||i)?this._isInlineAutocompleteEnabled()?"both":"list":"none"},_toggleOpenState(i){if(!this.option("disabled")){if(i=arguments.length?i:!this.option("opened"),!i&&!this._shouldClearFilter()&&this._restoreInputText(!0),this._wasSearch()&&i)if(this._wasSearch(!1),(this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded())&&this._dataController.getDataSource()){if(this._searchTimer)return;let t=this._getActualSearchValue();t&&this._wasSearch(!0),this._filterDataSource(t||null)}else this._setListOption("items",[]);i&&this._scrollToSelectedItem(),this.callBase(i)}},_renderTooltip(){this.option("tooltipEnabled")&&this.$element().attr("title",this.option("displayValue"))},_renderDimensions(){this.callBase(),this._updatePopupWidth(),this._updateListDimensions()},_isValueEqualInputText(){let i=this.option("selectedItem");if(i===null)return!1;let e=this._displayGetter(i),t=e?String(e):"",n=this._searchValue();return t===n},_popupHidingHandler(){this._isValueEqualInputText()&&this._cancelEditing(),this.callBase()},_popupHiddenHandler(){this.callBase(),this._shouldCancelSearch()&&(this._wasSearch(!1),this._searchCanceled(),this._shouldCancelSearch(!1))},_restoreInputText(i){this.option("readOnly")||this._loadItemDeferred&&this._loadItemDeferred.always(()=>{let{acceptCustomValue:e,text:t,selectedItem:n}=this.option();if(e){!i&&!this._isValueChanging&&(this._updateField(n??this._createCustomItem(t)),this._clearFilter());return}if(this.option("searchEnabled")&&!this._searchValue()&&this.option("allowClearing")){this._clearTextValue();return}this._isValueEqualInputText()||this._renderInputValue().always(o=>{let r=ji(o,n);this._setSelectedItem(r),this._updateField(r),this._clearFilter()})})},_valueChangeEventIncludesBlur(){return this.option(this._getValueChangeEventOptionName()).includes("blur")},_isPreventedFocusOutEvent(i){return this._preventNestedFocusEvent(i)||this._valueChangeEventIncludesBlur()},_focusOutHandler(i){this._isPreventedFocusOutEvent(i)||(this._isOverlayNestedTarget(i.relatedTarget)||(this._restoreInputText(),this._clearSearchTimer()),this._cancelSearchIfNeed(i)),i.target=this._input().get(0),this.callBase(i)},_cancelSearchIfNeed(i){let{searchEnabled:e}=this.option(),t=this._isOverlayNestedTarget(i?.relatedTarget);if(this._wasSearch()&&e&&!t){var o;let r=(o=this._popup)===null||o===void 0?void 0:o._hideAnimationProcessing;this._clearSearchTimer(),r?this._shouldCancelSearch(!0):(this._wasSearch(!1),this._searchCanceled())}},_shouldCancelSearch(i){if(!arguments.length)return this._shouldCancelSearchValue;this._shouldCancelSearchValue=i},_isOverlayNestedTarget:i=>!!I(i).closest(".dx-selectbox-popup-wrapper").length,_clearTextValue(){let i=this.option("selectedItem"),e=this._displayGetter(i);i&&e!==""&&(this._savedTextRemoveEvent&&this._saveValueChangeEvent(this._savedTextRemoveEvent),this.option("value",null)),delete this._savedTextRemoveEvent},_shouldOpenPopup(){return this._needPassDataSourceToList()&&this._wasSearch()},_isFocused(){let i=be.getActiveElement(this.element());return this.callBase()&&I(i).closest(this._input()).length>0},_getValueChangeEventOptionName:()=>"customItemCreateEvent",_renderValueChangeEvent(){this._isEditable()&&this.callBase()},_fieldRenderData(){let i=this._list&&this.option("opened")&&I(this._list.option("focusedElement"));return i&&i.length?this._list._getItemData(i):this.option("selectedItem")},_isSelectedValue(i){return this._isValueEquals(i,this.option("value"))},_shouldCloseOnItemClick(){return!(this.option("showSelectionControls")&&this.option("selectionMode")!=="single")},_listItemClickHandler(i){let e=this._getCurrentValue();this._focusListElement(I(i.itemElement)),this._saveValueChangeEvent(i.event),this._completeSelection(this._valueGetter(i.itemData)),this._shouldCloseOnItemClick()&&this.option("opened",!1),this.option("searchEnabled")&&e===this._valueGetter(i.itemData)&&this._updateField(i.itemData),this._shouldClearFilter()&&this._cancelSearchIfNeed()},_shouldClearFilter(){return this._wasSearch()},_completeSelection(i){this._setValue(i)},_loadItem(i,e){let t=this,n=le();return this.callBase(i,e).done(o=>{n.resolve(o)}).fail(o=>{if(o!=null&&o.shouldSkipCallback)return;let r=t.option("selectedItem");t.option("acceptCustomValue")&&i===t._valueGetter(r)?n.resolve(r):n.reject()}),n.promise()},_loadInputValue(i,e){return this._loadItemDeferred=this._loadItem(i).always(e),this._loadItemDeferred},_isCustomItemSelected(){let i=this.option("selectedItem"),e=this._searchValue(),t=this._displayGetter(i);return!t||e!==t.toString()},_valueChangeEventHandler(i){this.option("acceptCustomValue")&&this._isCustomItemSelected()&&!this._isValueChanging&&(this._isValueChanging=!0,this._customItemAddedHandler(i))},_initCustomItemCreatingAction(){this._customItemCreatingAction=this._createActionByOption("onCustomItemCreating")},_createCustomItem(i){let e={text:i},t=this._customItemCreatingAction(e),n=ji(t,e.customItem);return U(t)&&qt.log("W0015","onCustomItemCreating","customItem"),n},_customItemAddedHandler(i){let e=this._searchValue(),t=this._createCustomItem(e);if(this._saveValueChangeEvent(i),t===void 0)throw this._renderValue(),qt.Error("E0121");rd(t)?Yn(t).done(this._setCustomItem.bind(this)).fail(this._setCustomItem.bind(this,null)):this._setCustomItem(t)},_setCustomItem(i){this._disposed||(i=i||null,this.option("selectedItem",i),this._cancelSearchIfNeed(),this._setValue(this._valueGetter(i)),this._renderDisplayText(this._displayGetter(i)),this._isValueChanging=!1)},_clearValueHandler(i){return this._preventFiltering=!0,this.callBase(i),this._searchCanceled(),!1},_wasSearch(i){if(!arguments.length)return!!this._wasSearchValue;this._wasSearchValue=i},_searchHandler(){if(this._preventFiltering){delete this._preventFiltering;return}this._needPassDataSourceToList()&&this._wasSearch(!0),this.callBase(arguments)},_dataSourceFiltered(i){this.callBase(),i!==null&&(this._renderInputSubstitution(),this._renderFocusedElement())},_valueSubstituted(){let i=this._input().get(0),e=this._searchValue().length,t=i.selectionStart===0&&i.selectionEnd===e,n=i.selectionStart!==i.selectionEnd,o=e===i.selectionEnd;return this._wasSearch()&&n&&!t&&o&&this._shouldSubstitutionBeRendered()},_shouldSubstitutionBeRendered(){return!this._preventSubstitution&&this._isInlineAutocompleteEnabled()},_renderInputSubstitution(){if(!this._shouldSubstitutionBeRendered()){delete this._preventSubstitution;return}let i=this._list&&this._getPlainItems(this._list.option("items"))[0];if(!i)return;let e=this._input(),t=e.val().length;if(t===0)return;let n=e.get(0),o=this._displayGetter(i).toString();n.value=o,this._caret({start:t,end:o.length})},_dispose(){this._renderInputValueAsync=pe,delete this._loadItemDeferred,this.callBase()},_optionChanged(i){switch(i.name){case"customItemCreateEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onCustomItemCreating":this._initCustomItemCreatingAction();break;case"tooltipEnabled":this._renderTooltip();break;case"readOnly":case"disabled":case"searchMode":this.callBase(i),this._setDefaultAria();break;case"displayCustomValue":case"acceptCustomValue":case"showSelectionControls":this._invalidate();break;case"allowClearing":break;default:this.callBase(i)}}});ut("dxSelectBox",nX);var oX=nX;var Yg=oX;var{abstract:DO}=Ut,Q1e=Ut.inherit({ctor(i){this.dateBox=i},widgetOption(){return this._widget&&this._widget.option.apply(this._widget,arguments)},_renderWidget(i){i=i||I("<div>"),this._widget=this._createWidget(i),this._widget.$element().appendTo(this._getWidgetContainer())},_createWidget(i){let e=this._getWidgetName(),t=this._getWidgetOptions();return this.dateBox._createComponent(i,e,t)},_getWidgetOptions:DO,_getWidgetName:DO,getDefaultOptions:()=>({mode:"text"}),getDisplayFormat:DO,supportedKeys:pe,getKeyboardListener:pe,customizeButtons:pe,getParsedText(i,e){return It.parse(i,e)||It.parse(i)},renderInputMinMax:pe,renderOpenedState(){this._updateValue()},popupConfig:DO,_dimensionChanged(){var i;(i=this._getPopup())===null||i===void 0||i.repaint()},renderPopupContent(){let i=this._getPopup();this._renderWidget();let e=i.$content().parent();X.off(e,"mousedown"),X.on(e,"mousedown",this._preventFocusOnPopup.bind(this))},_preventFocusOnPopup(i){i.preventDefault()},_getWidgetContainer(){return this._getPopup().$content()},_getPopup(){return this.dateBox._popup},popupShowingHandler:pe,popupHiddenHandler:pe,_updateValue(){this._widget&&this._widget.option("value",this.dateBoxValue())},useCurrentDateByDefault:pe,getDefaultDate:()=>new Date,textChangedHandler:pe,renderValue(){this.dateBox.option("opened")&&this._updateValue()},getValue(){return this._widget.option("value")},isAdaptivityChanged:()=>!1,dispose(){let i=this._getPopup();i&&i.$content().empty()},dateBoxValue(){return arguments.length?this.dateBox.dateValue.apply(this.dateBox,arguments):this.dateBox.dateOption.apply(this.dateBox,["value"])}}),Kh=Q1e;var J1e=Kh.inherit({NAME:"Calendar",getDefaultOptions(){return q(this.callBase(),{todayButtonText:de.format("dxCalendar-todayButtonText")})},supportedKeys(){let i=function(e){return this.option("opened")?(e.preventDefault(),!0):!1};return{rightArrow(){if(this.option("opened"))return!0},leftArrow(){if(this.option("opened"))return!0},enter:(function(e){if(this.dateBox.option("opened")){if(e.preventDefault(),this._widget.option("zoomLevel")===this._widget.option("maxZoomLevel")){let t=this._getContouredValue(),n=this._lastActionElement,o=this._closeDropDownByEnter();return o&&t&&n==="calendar"&&this.dateBoxValue(t,e),o&&this.dateBox.close(),this.dateBox._valueChangeEventHandler(e),!o}return!0}this.dateBox._valueChangeEventHandler(e)}).bind(this),home:i,end:i}},getDisplayFormat:i=>i||"shortdate",_closeDropDownByEnter:()=>!0,_getWidgetName:()=>TK,_getContouredValue(){return this._widget._view.option("contouredDate")},getKeyboardListener(){return this._widget},_getWidgetOptions(){let i=this.dateBox.option("disabledDates");return q(this.dateBox.option("calendarOptions"),{value:this.dateBoxValue()||null,selectionMode:"single",dateSerializationFormat:null,min:this.dateBox.dateOption("min"),max:this.dateBox.dateOption("max"),onValueChanged:this._valueChangedHandler.bind(this),onCellClick:this._cellClickHandler.bind(this),disabledDates:Ie(i)?this._injectComponent(i.bind(this.dateBox)):i,onContouredChanged:this._refreshActiveDescendant.bind(this),skipFocusCheck:!0})},_injectComponent(i){let e=this;return function(t){return q(t,{component:e.dateBox}),i(t)}},_refreshActiveDescendant(i){this._lastActionElement="calendar",this.dateBox.setAria("activedescendant",i.actionValue)},_getTodayButtonConfig(){let i=this.dateBox.option("buttonsLocation"),t=i==="default"?["bottom","center"]:ad(i),n=Kn()?"text":"outlined";return{widget:"dxButton",toolbar:t[0],location:t[1]==="after"?"before":t[1],options:{onClick:o=>{this._widget._toTodayView(o)},text:this.dateBox.option("todayButtonText"),elementAttr:{class:"dx-button-today"},stylingMode:n}}},_isCalendarVisible(){let{calendarOptions:i}=this.dateBox.option();return Gn(i)||i.visible!==!1},_getPopupToolbarItems(i){return this.dateBox.option("applyValueMode")==="useButtons"&&this._isCalendarVisible()?[this._getTodayButtonConfig(),...i]:i},popupConfig:i=>q(!0,i,{position:{collision:"flipfit flip"},width:"auto"}),_valueChangedHandler(i){let{value:e}=i,t=i.previousValue;st.sameDate(e,t)&&st.sameHoursAndMinutes(e,t)||this.dateBox.option("applyValueMode")==="instantly"&&this.dateBoxValue(this.getValue(),i.event)},_updateValue(){this._widget&&this._widget.option("value",this.dateBoxValue())},textChangedHandler(){this._lastActionElement="input",this.dateBox.option("opened")&&this._widget&&this._updateValue(!0)},_cellClickHandler(i){let{dateBox:e}=this;e.option("applyValueMode")==="instantly"&&(e.option("opened",!1),this.dateBoxValue(this.getValue(),i.event))}}),TO=J1e;var KL=["year","day","month","day"],rX=["hours","minutes","seconds","milliseconds"];var eIe=864e5,tIe=31536e6,iIe=function(i){let e=typeof i;return e==="string"?"format":e==="object"&&i.type!==void 0?i.type:null},kd={SUPPORTED_FORMATS:["date","time","datetime"],ONE_MINUTE:6e4,ONE_DAY:eIe,ONE_YEAR:tIe,MIN_DATEVIEW_DEFAULT_DATE:new Date(1900,0,1),MAX_DATEVIEW_DEFAULT_DATE:function(){let i=new Date;return new Date(i.getFullYear()+50,i.getMonth(),i.getDate(),23,59,59)}(),FORMATS_INFO:{date:{getStandardPattern:()=>"yyyy-MM-dd",components:KL},time:{getStandardPattern:()=>"HH:mm",components:rX},datetime:{getStandardPattern(){let i;return function(){let e=I("<input>").attr("type","datetime");e.val("2000-01-01T01:01Z"),e.val()&&(i="yyyy-MM-ddTHH:mmZ")}(),i||(i="yyyy-MM-ddTHH:mm:ssZ"),kd.FORMATS_INFO.datetime.getStandardPattern=function(){return i},i},components:[...KL,...rX]},"datetime-local":{getStandardPattern:()=>"yyyy-MM-ddTHH:mm:ss",components:[...KL,"hours","minutes","seconds"]}},FORMATS_MAP:{date:"shortdate",time:"shorttime",datetime:"shortdateshorttime"},SUBMIT_FORMATS_MAP:{date:"date",time:"time",datetime:"datetime-local"},toStandardDateFormat(i,e){let t=kd.FORMATS_INFO[e].getStandardPattern();return kn.serializeDate(i,t)},fromStandardDateFormat(i){let e=kn.dateParser(i);return no(e)?e:void 0},getMaxMonthDay:(i,e)=>new Date(i,e+1,0).getDate(),mergeDates(i,e,t){if(!e)return e||null;if(!i||isNaN(i.getTime())){let r=new Date(null);i=new Date(r.getFullYear(),r.getMonth(),r.getDate())}let n=new Date(i.valueOf()),o=kd.FORMATS_INFO[t];return ee(o.components,function(){let r=kd.DATE_COMPONENTS_INFO[this];n[r.setter](e[r.getter]())}),n},getLongestCaptionIndex(i){let e=0,t=0,n;for(n=0;n<i.length;++n)i[n].length>t&&(e=n,t=i[n].length);return e},formatUsesMonthName:i=>It.formatUsesMonthName(i),formatUsesDayName:i=>It.formatUsesDayName(i),getLongestDate(i,e,t){let n=iIe(i),o=9;(!n||kd.formatUsesMonthName(n))&&(o=kd.getLongestCaptionIndex(e));let r=new Date(1888,o,21,23,59,59,999);if(!n||kd.formatUsesDayName(n)){let s=r.getDate()-r.getDay()+kd.getLongestCaptionIndex(t);r.setDate(s)}return r},normalizeTime(i){i.setSeconds(0),i.setMilliseconds(0)}};kd.DATE_COMPONENTS_INFO={year:{getter:"getFullYear",setter:"setFullYear",formatter(i,e){let t=new Date(e.getTime());return t.setFullYear(i),It.format(t,"yyyy")},startValue:void 0,endValue:void 0},day:{getter:"getDate",setter:"setDate",formatter(i,e){let t=new Date(e.getTime());return t.setDate(i),It.format(t,"d")},startValue:1,endValue:void 0},month:{getter:"getMonth",setter:"setMonth",formatter:i=>It.getMonthNames()[i],startValue:0,endValue:11},hours:{getter:"getHours",setter:"setHours",formatter:i=>It.format(new Date(0,0,0,i),"hour"),startValue:0,endValue:23},minutes:{getter:"getMinutes",setter:"setMinutes",formatter:i=>It.format(new Date(0,0,0,0,i),"minute"),startValue:0,endValue:59},seconds:{getter:"getSeconds",setter:"setSeconds",formatter:i=>It.format(new Date(0,0,0,0,0,i),"second"),startValue:0,endValue:59},milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",formatter:i=>It.format(new Date(0,0,0,0,0,0,i),"millisecond"),startValue:0,endValue:999}};var fn=kd;var sX=function(i,e,t){nIe(i,e,t)},nIe=function(i,e,t){i.css("transform",`rotate(${e}deg) translate(0,${t}px)`)},aX=Mr.inherit({_getDefaultOptions(){return q(this.callBase(),{value:new Date(Date.now()),use24HourFormat:!0,_showClock:!0,_arrowOffset:5,stylingMode:void 0})},_getValue(){return this.option("value")||new Date},_init(){this.callBase(),this.$element().addClass("dx-timeview")},_render(){this.callBase(),this._renderBox(),this._updateTime()},_renderBox(){let i=I("<div>").appendTo(this.$element()),e=[];this.option("_showClock")&&e.push({ratio:1,shrink:0,baseSize:"auto",template:this._renderClock.bind(this)}),e.push({ratio:0,shrink:0,baseSize:"auto",template:this._renderField.bind(this)}),this._createComponent(i,af,{height:"100%",width:"100%",direction:"col",items:e})},_renderClock(i,e,t){this._$hourArrow=I("<div>").addClass("dx-timeview-hourarrow"),this._$minuteArrow=I("<div>").addClass("dx-timeview-minutearrow");let n=I(t);n.addClass("dx-timeview-clock").append(this._$hourArrow).append(this._$minuteArrow),this.setAria("role","presentation",n)},_updateClock(){let i=this._getValue(),e=i.getHours()/12*360+i.getMinutes()/60*30,t=i.getMinutes()/60*360;sX(this._$hourArrow,e,this.option("_arrowOffset")),sX(this._$minuteArrow,t,this.option("_arrowOffset"))},_getBoxItems(i){let e=[{ratio:0,shrink:0,baseSize:"auto",template:()=>this._hourBox.$element()},{ratio:0,shrink:0,baseSize:"auto",template:I("<div>").addClass("dx-timeview-time-separator").text(It.getTimeSeparator())},{ratio:0,shrink:0,baseSize:"auto",template:()=>this._minuteBox.$element()}];return i&&e.push({ratio:0,shrink:0,baseSize:"auto",template:()=>this._format12.$element()}),e},_renderField(){let i=!this.option("use24HourFormat");return this._createHourBox(i),this._createMinuteBox(),i&&this._createFormat12Box(),this._createComponent(I("<div>").addClass("dx-timeview-field"),af,{direction:"row",align:"center",crossAlign:"center",items:this._getBoxItems(i)}).$element()},_createHourBox(i){(this._hourBox=this._createComponent(I("<div>"),Fv,q({min:-1,max:i?13:24,value:this._getValue().getHours(),onValueChanged:this._onHourBoxValueChanged.bind(this),onKeyboardHandled:t=>this._keyboardHandler(t)},this._getNumberBoxConfig()))).setAria("label","hours")},_isPM(){return!this.option("use24HourFormat")&&this._format12.option("value")===1},_onHourBoxValueChanged(i){let{value:e,component:t}=i,n=this._getValue(),o=new Date(n),r=this._convertMaxHourToMin(e);t.option("value",r),this._isPM()&&(r+=12),o.setHours(r),fn.normalizeTime(o),this.option("value",o)},_convertMaxHourToMin(i){let e=this.option("use24HourFormat")?24:12;return(e+i)%e},_createMinuteBox(){(this._minuteBox=this._createComponent(I("<div>"),Fv,q({min:-1,max:60,value:this._getValue().getMinutes(),onKeyboardHandled:e=>this._keyboardHandler(e),onValueChanged:e=>{let{value:t,component:n}=e,o=(60+t)%60;n.option("value",o);let r=new Date(this._getValue());r.setMinutes(o),fn.normalizeTime(r),this.option("value",r)}},this._getNumberBoxConfig()))).setAria("label","minutes")},_createFormat12Box(){let i=It.getPeriodNames();(this._format12=this._createComponent(I("<div>").addClass("dx-timeview-format12"),Yg,{items:[{value:-1,text:i[0]},{value:1,text:i[1]}],valueExpr:"value",displayExpr:"text",onKeyboardHandled:t=>this._keyboardHandler(t),onValueChanged:t=>{let{value:n}=t,o=this._getValue().getHours(),r=new Date(this._getValue()),s=(o+12*n)%24;r.setHours(s),this.option("value",r)},value:this._getValue().getHours()>=12?1:-1,stylingMode:this.option("stylingMode")})).setAria("label","type")},_refreshFormat12(){if(this.option("use24HourFormat"))return;let n=this._getValue().getHours()>=12?1:-1;this._silentEditorValueUpdate(this._format12,n)},_silentEditorValueUpdate(i,e){i&&(i._suppressValueChangeAction(),i.option("value",e),i._resumeValueChangeAction())},_getNumberBoxConfig(){return{showSpinButtons:!0,displayValueFormatter:i=>(i<10?"0":"")+i,stylingMode:this.option("stylingMode")}},_normalizeHours(i){return this.option("use24HourFormat")?i:i%12||12},_updateField(){let i=this._normalizeHours(this._getValue().getHours());this._silentEditorValueUpdate(this._hourBox,i),this._silentEditorValueUpdate(this._minuteBox,this._getValue().getMinutes()),this._refreshFormat12()},_updateTime(){this.option("_showClock")&&this._updateClock(),this._updateField()},_visibilityChanged(i){i&&this._updateTime()},_optionChanged(i){switch(i.name){case"value":this._updateTime(),this.callBase(i);break;case"_arrowOffset":break;case"use24HourFormat":case"_showClock":case"stylingMode":this._invalidate();break;default:this.callBase(i)}}});ut("dxTimeView",aX);var lX=aX;var oIe=et();var dX="dx-datebox-datetime-time-side",rIe=TO.inherit({NAME:"CalendarWithTime",getDefaultOptions(){return q(this.callBase(),{applyValueMode:"useButtons",buttonsLocation:"bottom after","dropDownOptions.showTitle":!1})},_closeDropDownByEnter(){return st.sameDate(this._getContouredValue(),this.widgetOption("value"))},getDisplayFormat:i=>i||"shortdateshorttime",_is24HourFormat(){return It.is24HourFormat(this.getDisplayFormat(this.dateBox.option("displayFormat")))},_getContouredValue(){let i=this.callBase();return this._updateDateTime(i)},_renderWidget(){this.callBase(),this._timeView=this.dateBox._createComponent(I("<div>"),lX,{value:this.dateBoxValue(),_showClock:!this._isShrinkView(),use24HourFormat:this._is24HourFormat(),onValueChanged:this._valueChangedHandler.bind(this),stylingMode:this.dateBox.option("stylingMode")})},renderOpenedState(){this.callBase();let i=this._getPopup();i&&i.$wrapper().toggleClass("dx-datebox-adaptivity-mode",this._isSmallScreen()),clearTimeout(this._repaintTimer),this._repaintTimer=setTimeout(()=>{this._getPopup()&&this._getPopup().repaint()},0)},isAdaptivityChanged(){let i=this._isShrinkView(),e=this._currentAdaptiveMode;return i!==e?(this._currentAdaptiveMode=i,e!==void 0):this.callBase()},_updateValue(i){let e=this.dateBoxValue();!e&&!i&&(e=new Date,fn.normalizeTime(e)),this.callBase(),this._timeView&&(e&&this._timeView.option("value",e),this._timeView.option("use24HourFormat",this._is24HourFormat()))},_isSmallScreen:()=>Qe(oIe)<=573,_isShrinkView(){return!this.dateBox.option("showAnalogClock")||this.dateBox.option("adaptivityEnabled")&&this._isSmallScreen()},_getBoxItems(){let i=[{ratio:0,shrink:0,baseSize:"auto",name:"calendar"}];return this._isShrinkView()||i.push({ratio:0,shrink:0,baseSize:"auto",name:"time"}),i},renderPopupContent(){this.callBase(),this._currentAdaptiveMode=this._isShrinkView();let i=this._getPopup().$content();this._box=this.dateBox._createComponent(I("<div>").appendTo(i),af,{direction:"row",crossAlign:"stretch",items:this._getBoxItems(),itemTemplate:(function(e,t,n){let o=I("<div>");switch(e.name){case"calendar":o.append(this._widget.$element()),this._isShrinkView()&&(this._timeView.$element().addClass(dX),o.append(this._timeView.$element()));break;case"time":o.append(this._timeView.$element()),I(n).addClass(dX)}return o}).bind(this)})},popupConfig(i){let e=this.callBase(i);return q(e,{width:"auto"})},_preventFocusOnPopup(i){I(i.target).hasClass("dx-texteditor-input")||(this.callBase.apply(this,arguments),this.dateBox._hasFocusClass()||this.dateBox.focus())},_updateDateTime(i){let e=this._timeView.option("value");return i.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),i},getValue(){let i=this._widget.option("value")??this._widget.getContouredDate();return i=i?new Date(i):new Date,this._updateDateTime(i)},dispose(){clearTimeout(this._removeMinWidthTimer),clearTimeout(this._repaintTimer),this.callBase()}}),cX=rIe;var Yv=class{constructor(e){this.DIRECTION_HORIZONTAL="horizontal",this.DIRECTION_VERTICAL="vertical",this.DIRECTION_BOTH="both",this.direction=e??rf}get isHorizontal(){return this.direction===OE||this.direction===IE}get isVertical(){return this.direction===rf||this.direction===IE}get isBoth(){return this.direction===IE}};function uX(i,e){if(ht(i)){let o=ji(i.left,i.x),r=ji(i.top,i.y);return{left:U(o)?o:void 0,top:U(r)?r:void 0}}let{isHorizontal:t,isVertical:n}=new Yv(e);return{left:t&&U(i)?i:void 0,top:n&&U(i)?i:void 0}}var AO=class extends Ag{_getDefaultOptions(){return q(super._getDefaultOptions(),{showScrollbar:"never",useNative:!1,selectedIndex:0,bounceEnabled:!1,items:[],showOnClick:!1,onClick:null,onSelectedIndexChanged:null,scrollByContent:!0})}_init(){super._init(),this.option("onVisibilityChange",this._visibilityChangedHandler.bind(this)),this.option("onEnd",this._endActionHandler.bind(this))}_render(){super._render(),this._renderSelectedItemFrame(),this.$element().addClass("dx-dateviewroller"),this._renderContainerClick(),this._renderItems(),this._renderSelectedValue(),this._renderItemsClick(),this._renderWheelEvent(),this._renderSelectedIndexChanged()}_renderSelectedIndexChanged(){this._selectedIndexChanged=this._createActionByOption("onSelectedIndexChanged")}_renderWheelEvent(){X.on(I(this.container()),"dxmousewheel",e=>{this._isWheelScrolled=!0})}_renderContainerClick(){if(!this.option("showOnClick"))return;let e=Se(Kt,this.NAME),t=this._createActionByOption("onClick");X.off(I(this.container()),e),X.on(I(this.container()),e,n=>{t({event:n})})}_renderItems(){let e=this.option("items")||[],t=I();I(this.content()).empty(),e.forEach(n=>{t=t.add(I("<div>").addClass("dx-dateview-item").append(n))}),I(this.content()).append(t),this._$items=t,this.update()}_renderSelectedItemFrame(){I("<div>").addClass("dx-dateview-item-selected-frame").append(I("<div>").addClass("dx-dateview-item-selected-border")).appendTo(I(this.container()))}_renderSelectedValue(e){let t=this._fitIndex(e??this.option("selectedIndex"));this._moveTo({top:this._getItemPosition(t)}),this._renderActiveStateItem()}_fitIndex(e){let n=(this.option("items")||[]).length;return e>=n?n-1:e<0?0:e}_getItemPosition(e){return Math.round(this._itemHeight()*e)}_renderItemsClick(){let e=this._getItemSelector(),t=Se(Kt,this.NAME);X.off(this.$element(),t,e),X.on(this.$element(),t,e,this._itemClickHandler.bind(this))}_getItemSelector(){return".dx-dateview-item"}_itemClickHandler(e){this.option("selectedIndex",this._itemElementIndex(e.currentTarget))}_itemElementIndex(e){return this._itemElements().index(e)}_itemElements(){return this.$element().find(this._getItemSelector())}_renderActiveStateItem(){let e=this.option("selectedIndex");ee(this._$items,function(t){I(this).toggleClass("dx-dateview-item-selected",e===t)})}_shouldScrollToNeighborItem(){return Ve.real().deviceType==="desktop"&&this._isWheelScrolled}_moveTo(e){let{top:t,left:n}=uX(e),o=this.scrollOffset(),r={x:o.left-n,y:o.top-t};if(this._isVisible()&&(r.x||r.y))if(this._prepareDirections(!0),this._animation&&!this._shouldScrollToNeighborItem()){let s=this;hn.stop(I(this.content())),hn.animate(I(this.content()),{duration:200,type:"slide",to:{top:Math.floor(r.y)},complete(){hd(I(s.content())),s.handleMove({delta:r})}}),delete this._animation}else this.handleMove({delta:r})}_validate(e){return this._moveIsAllowed(e)}_fitSelectedIndexInRange(e){let t=this.option("items").length;return Math.max(Math.min(e,t-1),0)}_isInNullNeighborhood(e){return-.1<=e&&e<=.1}_getSelectedIndexAfterScroll(e){let t=this.scrollOffset().top,n=e*this._itemHeight(),o=t-n;if(this._isInNullNeighborhood(o))return e;let r=o>0?1:-1;return this._fitSelectedIndexInRange(e+r)}_getNewSelectedIndex(e){if(this._shouldScrollToNeighborItem())return this._getSelectedIndexAfterScroll(e);this._animation=!0;let t=this.scrollOffset().top/this._itemHeight();return Math.round(t)}_endActionHandler(){let e=this.option("selectedIndex"),t=this._getNewSelectedIndex(e);t===e?this._renderSelectedValue(t):this.option("selectedIndex",t),this._isWheelScrolled=!1}_itemHeight(){let e=this._$items.first();return ft(e)}_toggleActive(e){this.$element().toggleClass("dx-state-active",e)}_isVisible(){return I(this.container()).is(":visible")}_fireSelectedIndexChanged(e,t){this._selectedIndexChanged({value:e,previousValue:t,event:void 0})}_visibilityChanged(e){super._visibilityChanged(e),this._visibilityChangedHandler(e)}_visibilityChangedHandler(e){e&&(this._visibilityTimer=setTimeout(()=>{this._renderSelectedValue(this.option("selectedIndex"))})),this.toggleActiveState(!1)}toggleActiveState(e){this.$element().toggleClass("dx-dateviewroller-current",e)}_refreshSelectedIndex(){let e=this.option("selectedIndex"),t=this._fitIndex(e);t===e?this._renderActiveStateItem():this.option("selectedIndex",t)}_optionChanged(e){switch(e.name){case"selectedIndex":this._fireSelectedIndexChanged(e.value,e.previousValue),this._renderSelectedValue(e.value);break;case"items":this._renderItems(),this._refreshSelectedIndex();break;case"onClick":case"showOnClick":this._renderContainerClick();break;case"onSelectedIndexChanged":this._renderSelectedIndexChanged();break;default:super._optionChanged(e)}}_dispose(){clearTimeout(this._visibilityTimer),super._dispose()}};ut("dxDateViewRoller",AO);var hX=AO;var pX={date:"date",datetime:"datetime",time:"time"},Bs={year:"year",month:"month",day:"day",hours:"hours"},fX=Mr.inherit({_valueOption(){let i=this.option("value"),e=new Date(i);return!i||isNaN(e)?this._getDefaultDate():e},_getDefaultDate(){let i=new Date;return this.option("type")===pX.date?new Date(i.getFullYear(),i.getMonth(),i.getDate()):i},_getDefaultOptions(){return q(this.callBase(),{minDate:fn.MIN_DATEVIEW_DEFAULT_DATE,maxDate:fn.MAX_DATEVIEW_DEFAULT_DATE,type:pX.date,value:new Date,applyCompactClass:!1})},_defaultOptionsRules(){return this.callBase().concat([{device:i=>i.deviceType!=="desktop",options:{applyCompactClass:!0}}])},_render(){this.callBase(),this.$element().addClass("dx-dateview"),this._toggleFormatClasses(this.option("type")),this._toggleCompactClass()},_toggleFormatClasses(i,e){this.$element().addClass(`dx-dateview-${i}`),e&&this.$element().removeClass(`dx-dateview-${e}`)},_toggleCompactClass(){this.$element().toggleClass("dx-dateview-compact",this.option("applyCompactClass"))},_wrapper(){return this._$wrapper},_renderContentImpl(){this._$wrapper=I("<div>").addClass("dx-dateview-wrapper"),this._renderRollers(),this._$wrapper.appendTo(this.$element())},_renderRollers(){this._$rollersContainer||(this._$rollersContainer=I("<div>").addClass("dx-dateview-rollers")),this._$rollersContainer.empty(),this._createRollerConfigs(),this._rollers={};let i=this;ee(i._rollerConfigs,e=>{let t=I("<div>").appendTo(i._$rollersContainer).addClass(`dx-dateviewroller-${i._rollerConfigs[e].type}`);i._rollers[i._rollerConfigs[e].type]=i._createComponent(t,hX,{items:i._rollerConfigs[e].displayItems,selectedIndex:i._rollerConfigs[e].selectedIndex,showScrollbar:"never",scrollByContent:!0,onStart(n){let o=n.component;o._toggleActive(!0),i._setActiveRoller(i._rollerConfigs[e],o.option("selectedIndex"))},onEnd(n){n.component._toggleActive(!1)},onClick(n){let o=n.component;o._toggleActive(!0),i._setActiveRoller(i._rollerConfigs[e],o.option("selectedIndex")),i._setRollerState(i._rollerConfigs[e],o.option("selectedIndex")),o._toggleActive(!1)},onSelectedIndexChanged(n){let o=n.component;i._setRollerState(i._rollerConfigs[e],o.option("selectedIndex"))}})}),i._$rollersContainer.appendTo(i._wrapper())},_createRollerConfigs(i){let e=this;i=i||e.option("type"),e._rollerConfigs={},It.getFormatParts(fn.FORMATS_MAP[i]).forEach(t=>{e._createRollerConfig(t)})},_createRollerConfig(i){let e=fn.DATE_COMPONENTS_INFO[i],t=this._calculateRollerConfigValueRange(i),{startValue:n}=t,{endValue:o}=t,{formatter:r}=e,s=this._getCurrentDate(),a={type:i,setValue:e.setter,valueItems:[],displayItems:[],getIndex:l=>l[e.getter]()-n};for(let l=n;l<=o;l++)a.valueItems.push(l),a.displayItems.push(r(l,s));a.selectedIndex=a.getIndex(s),this._rollerConfigs[i]=a},_setActiveRoller(i){let e=i&&this._rollers[i.type];ee(this._rollers,function(){this.toggleActiveState(this===e)})},_updateRollersPosition(){let i=this;ee(this._rollers,function(e){let t=i._rollerConfigs[e].getIndex(i._getCurrentDate());this.option("selectedIndex",t)})},_setRollerState(i,e){if(e!==i.selectedIndex){let t=i.valueItems[e],{setValue:n}=i,o=new Date(this._getCurrentDate()),r=o.getDate(),s=this.option("minDate"),a=this.option("maxDate");i.type===Bs.month?r=Math.min(r,fn.getMaxMonthDay(o.getFullYear(),t)):i.type===Bs.year&&(r=Math.min(r,fn.getMaxMonthDay(t,o.getMonth()))),o.setDate(r),o[n](t);let l=st.normalizeDate(o,s,a);o=fn.mergeDates(l,o,"time"),o=st.normalizeDate(o,s,a),this.option("value",o),i.selectedIndex=e}i.type===Bs.year&&this._refreshRollers(),i.type===Bs.month&&(this._refreshRoller(Bs.day),this._refreshRoller(Bs.hours))},_refreshRoller(i){let e=this._rollers[i];if(e){this._createRollerConfig(i);let t=this._rollerConfigs[i];(i===Bs.day||t.displayItems.toString()!==e.option("items").toString())&&e.option({items:t.displayItems,selectedIndex:t.selectedIndex})}},_getCurrentDate(){let i=this._valueOption(),e=this.option("minDate"),t=this.option("maxDate");return st.normalizeDate(i,e,t)},_calculateRollerConfigValueRange(i){let e=this._getCurrentDate(),t=this.option("minDate"),n=this.option("maxDate"),o=st.sameYear(e,t),r=o&&e.getMonth()===t.getMonth(),s=st.sameYear(e,n),a=s&&e.getMonth()===n.getMonth(),l=r&&e.getDate()===t.getDate(),d=a&&e.getDate()===n.getDate(),c=fn.DATE_COMPONENTS_INFO[i],{startValue:u}=c,{endValue:h}=c;return i===Bs.year&&(u=t.getFullYear(),h=n.getFullYear()),i===Bs.month&&(o&&(u=t.getMonth()),s&&(h=n.getMonth())),i===Bs.day&&(h=fn.getMaxMonthDay(e.getFullYear(),e.getMonth()),o&&r&&(u=t.getDate()),s&&a&&(h=n.getDate())),i===Bs.hours&&(u=l?t.getHours():u,h=d?n.getHours():h),{startValue:u,endValue:h}},_refreshRollers(){this._refreshRoller(Bs.month),this._refreshRoller(Bs.day),this._refreshRoller(Bs.hours)},_optionChanged(i){switch(i.name){case"minDate":case"maxDate":case"type":this._renderRollers(),this._toggleFormatClasses(i.value,i.previousValue);break;case"visible":this.callBase(i),i.value&&this._renderRollers();break;case"value":this.option("value",this._valueOption()),this._refreshRollers(),this._updateRollersPosition();break;default:this.callBase(i)}},_clean(){this.callBase(),delete this._$rollersContainer}});ut("dxDateView",fX);var mX=fX;var sIe=et(),aIe=Kh.inherit({NAME:"DateView",getDefaultOptions(){return q(this.callBase(),{openOnFieldClick:!0,applyButtonText:de.format("OK"),"dropDownOptions.showTitle":!0})},getDisplayFormat(i){return i||fn.FORMATS_MAP[this.dateBox.option("type")]},popupConfig(i){return{toolbarItems:this.dateBox._popupToolbarItemsConfig(),onInitialized:i.onInitialized,defaultOptionsRules:[{device:{platform:"android"},options:{width:333,height:331}},{device(e){let{platform:t}=e;return t==="generic"||t==="ios"},options:{width:"auto",height:"auto"}},{device(e){let{platform:t}=e,{phone:n}=e;return t==="generic"&&n},options:{width:333,maxWidth:"100%",maxHeight:"100%",height:"auto",position:{collision:"flipfit flip"}}},{device:{platform:"ios",phone:!0},options:{width:"100%",position:{my:"bottom",at:"bottom",of:sIe}}}]}},_renderWidget(){if(Bp(this.dateBox.option("mode"))&&this.dateBox._isNativeType()||this.dateBox.option("readOnly")){this._widget&&(this._widget.$element().remove(),this._widget=null);return}let i=this._getPopup();if(this._widget)this._widget.option(this._getWidgetOptions());else{let e=I("<div>").appendTo(i.$content());this._widget=this._createWidget(e)}this._widget.$element().appendTo(this._getWidgetContainer())},_getWidgetName:()=>mX,renderOpenedState(){this.callBase(),this._widget&&this._widget.option("value",this._widget._getCurrentDate())},_getWidgetOptions(){return{value:this.dateBoxValue()||new Date,type:this.dateBox.option("type"),minDate:this.dateBox.dateOption("min")||new Date(1900,0,1),maxDate:this.dateBox.dateOption("max")||new Date(Date.now()+50*fn.ONE_YEAR),onDisposing:(function(){this._widget=null}).bind(this)}}}),gX=aIe;var lIe=et();var dIe={min:new Date(0,0,0,0,0),max:new Date(0,0,0,23,59)},cIe=Kh.inherit({NAME:"List",supportedKeys:()=>({space:pe,home:pe,end:pe}),getDefaultOptions(){return q(this.callBase(),{applyValueMode:"instantly"})},getDisplayFormat:i=>i||"shorttime",popupConfig:i=>i,getValue(){let i=this._widget.option("selectedIndex");if(i===-1)return this.dateBox.option("value");let e=this._widgetItems[i];return this._getDateByItemData(e)},useCurrentDateByDefault:()=>!0,getDefaultDate:()=>new Date(null),popupShowingHandler(){this.dateBox._dimensionChanged()},_renderWidget(){this.callBase(),this._refreshItems()},_getWidgetName:()=>wd,_getWidgetOptions(){return{itemTemplate:this._timeListItemTemplate.bind(this),onItemClick:this._listItemClickHandler.bind(this),tabIndex:-1,onFocusedItemChanged:this._refreshActiveDescendant.bind(this),selectionMode:"single"}},_refreshActiveDescendant(i){this.dateBox.setAria("activedescendant",""),this.dateBox.setAria("activedescendant",i.actionValue)},_refreshItems(){this._widgetItems=this._getTimeListItems(),this._widget.option("items",this._widgetItems)},renderOpenedState(){this._widget&&(this._widget.option("focusedElement",null),this._setSelectedItemsByValue(),this._widget.option("templatesRenderAsynchronously")?this._asyncScrollTimeout=setTimeout(this._scrollToSelectedItem.bind(this)):this._scrollToSelectedItem())},dispose(){this.callBase(),clearTimeout(this._asyncScrollTimeout)},_updateValue(){this._widget&&(this._refreshItems(),this._setSelectedItemsByValue(),this._scrollToSelectedItem())},_setSelectedItemsByValue(){let i=this.dateBoxValue(),e=this._getDateIndex(i);e===-1?this._widget.option("selectedItems",[]):this._widget.option("selectedIndex",e)},_scrollToSelectedItem(){this._widget.scrollToItem(this._widget.option("selectedIndex"))},_getDateIndex(i){let e=-1;for(let t=0,n=this._widgetItems.length;t<n;t++)if(this._areDatesEqual(i,this._widgetItems[t])){e=t;break}return e},_areDatesEqual:(i,e)=>no(i)&&no(e)&&i.getHours()===e.getHours()&&i.getMinutes()===e.getMinutes(),_getTimeListItems(){let i=this.dateBox.dateOption("min")||this._getBoundaryDate("min"),e=this.dateBox.dateOption("max")||this._getBoundaryDate("max"),t=this.dateBox.dateOption("value")||null,n=e-i,o=i.getMinutes()%this.dateBox.option("interval");return n<0?[]:(n>fn.ONE_DAY&&(n=fn.ONE_DAY),t-i<fn.ONE_DAY?this._getRangeItems(i,new Date(i),n):(i=this._getBoundaryDate("min"),i.setMinutes(o),t&&Math.abs(t-e)<fn.ONE_DAY&&(n=(60*e.getHours()+Math.abs(e.getMinutes()-o))*fn.ONE_MINUTE),this._getRangeItems(i,new Date(i),n)))},_getRangeItems(i,e,t){let n=[],o=this.dateBox.option("interval");for(;e-i<=t;)n.push(new Date(e)),e.setMinutes(e.getMinutes()+o);return n},_getBoundaryDate(i){let e=dIe[i],t=new Date(ji(this.dateBox.dateOption("value"),0));return new Date(t.getFullYear(),t.getMonth(),t.getDate(),e.getHours(),e.getMinutes())},_timeListItemTemplate(i){let e=this.dateBox.option("displayFormat");return It.format(i,this.getDisplayFormat(e))},_listItemClickHandler(i){if(this.dateBox.option("applyValueMode")==="useButtons")return;let e=this._getDateByItemData(i.itemData);this.dateBox.option("opened",!1),this.dateBoxValue(e,i.event)},_getDateByItemData(i){let e=this.dateBox.option("value"),t=i.getHours(),n=i.getMinutes(),o=i.getSeconds(),r=i.getFullYear(),s=i.getMonth(),a=i.getDate();return e?(this.dateBox.option("dateSerializationFormat")?e=kn.deserializeDate(e):e=new Date(e),e.setHours(t),e.setMinutes(n),e.setSeconds(o),e.setFullYear(r),e.setMonth(s),e.setDate(a)):e=new Date(r,s,a,t,n,0,0),e},getKeyboardListener(){return this._widget},_updatePopupHeight(){let i=Mg(this.dateBox.option("dropDownOptions.height"));if(i===void 0||i==="auto"){this.dateBox._setPopupOption("height","auto");let e=Ct(this._widget.$element()),t=.45*ft(lIe);this.dateBox._setPopupOption("height",Math.min(e,t))}this.dateBox._timeList&&this.dateBox._timeList.updateDimensions()},getParsedText(i,e){let t=this.callBase(i,e);return t&&(t=fn.mergeDates(t,new Date(null),"date")),t}}),_X=cIe;var uIe=Kh.inherit({NAME:"Native",popupConfig:i=>q({},i,{width:"auto"}),getParsedText(i){return i?this.dateBox.option("type")==="datetime"?new Date(i.replace(/-/g,"/").replace("T"," ").split(".")[0]):fn.fromStandardDateFormat(i):null},renderPopupContent:pe,_getWidgetName:pe,_getWidgetOptions:pe,_getDateBoxType(){let i=this.dateBox.option("type");return fn.SUPPORTED_FORMATS.includes(i)?i==="datetime"&&!Bp(i)&&(i="datetime-local"):i="date",i},customizeButtons(){let i=this.dateBox.getButton("dropDown");Ve.real().android&&i&&i.on("click",()=>{this.dateBox._input().get(0).click()})},getDefaultOptions(){return{mode:this._getDateBoxType()}},getDisplayFormat(i){let e=this._getDateBoxType();return i||fn.FORMATS_MAP[e]},renderInputMinMax(i){i.attr({min:kn.serializeDate(this.dateBox.dateOption("min"),"yyyy-MM-dd"),max:kn.serializeDate(this.dateBox.dateOption("max"),"yyyy-MM-dd")})}}),bX=uIe;var Xv=et();var hIe="dx-show-invalid-badge",pIe="dx-clear-button-area";var Wa={calendar:"calendar",rollers:"rollers",list:"list",native:"native"},Ua={date:"date",datetime:"datetime",time:"time"},Zv={calendar:"Calendar",dateView:"DateView",native:"Native",calendarWithTime:"CalendarWithTime",list:"List"},fIe={Calendar:TO,DateView:gX,Native:bX,CalendarWithTime:cX,List:_X},mIe=KE.inherit({_supportedKeys(){return q(this.callBase(),this._strategy.supportedKeys())},_renderButtonContainers(){this.callBase.apply(this,arguments),this._strategy.customizeButtons()},_getDefaultOptions(){return q(this.callBase(),{type:"date",showAnalogClock:!0,value:null,dateSerializationFormat:void 0,min:void 0,max:void 0,displayFormat:null,interval:30,disabledDates:null,pickerType:Wa.calendar,invalidDateMessage:de.format("dxDateBox-validation-datetime"),dateOutOfRangeMessage:de.format("validation-range"),applyButtonText:de.format("OK"),adaptivityEnabled:!1,calendarOptions:{},useHiddenSubmitElement:!0,_showValidationIcon:!0})},_defaultOptionsRules(){return this.callBase().concat([{device:{platform:"ios"},options:{"dropDownOptions.showTitle":!0}},{device:{platform:"android"},options:{buttonsLocation:"bottom after"}},{device(){let i=Ve.real(),{platform:e}=i;return e==="ios"||e==="android"},options:{pickerType:Wa.native}},{device:{platform:"generic",deviceType:"desktop"},options:{buttonsLocation:"bottom after"}}])},_initOptions(i){this._userOptions=q({},i),this.callBase(i),this._updatePickerOptions()},_updatePickerOptions(){let i=this.option("pickerType"),e=this.option("type");i===Wa.list&&(e===Ua.datetime||e===Ua.date)&&(i=Wa.calendar),e===Ua.time&&i===Wa.calendar&&(i=Wa.list),this._pickerType=i,this._setShowDropDownButtonOption()},_setShowDropDownButtonOption(){let{platform:i}=Ve.real(),e=i==="android"&&gi.mozilla,t=this._isNativeType(),n=i!=="generic"||!t;t&&e&&(n=!1),this.option({showDropDownButton:n})},_init(){this._initStrategy(),this.option(q({},this._strategy.getDefaultOptions(),this._userOptions)),delete this._userOptions,this.callBase()},_toLowerCaseFirstLetter:i=>i.charAt(0).toLowerCase()+i.substr(1),_initStrategy(){let i=this._getStrategyName(this._getFormatType()),e=fIe[i];this._strategy&&this._strategy.NAME===i||(this._strategy=new e(this))},_getFormatType(){let i=this.option("type"),e=/h|m|s/g.test(i),t=/d|M|Y/g.test(i),n="";return t&&(n+=Ua.date),e&&(n+=Ua.time),n},_getStrategyName(i){let e=this._pickerType;return e===Wa.rollers?Zv.dateView:e===Wa.native?Zv.native:i===Ua.date?Zv.calendar:i===Ua.datetime?Zv.calendarWithTime:Zv.list},_initMarkup(){this.$element().addClass("dx-datebox"),this.callBase(),this._refreshFormatClass(),this._refreshPickerTypeClass(),this._strategy.renderInputMinMax(this._input())},_render(){this.callBase(),this._formatValidationIcon()},_renderDimensions(){this.callBase(),this.$element().toggleClass("dx-auto-width",!this.option("width")),this._updatePopupWidth(),this._updatePopupHeight()},_dimensionChanged(){this.callBase(),this._updatePopupHeight()},_updatePopupHeight(){if(this._popup){var i,e;(i=(e=this._strategy)._updatePopupHeight)===null||i===void 0||i.call(e)}},_refreshFormatClass(){let i=this.$element();ee(Ua,(e,t)=>{i.removeClass(`dx-datebox-${t}`)}),i.addClass(`dx-datebox-${this.option("type")}`)},_refreshPickerTypeClass(){let i=this.$element();ee(Wa,(e,t)=>{i.removeClass(`dx-datebox-${t}`)}),i.addClass(`dx-datebox-${this._pickerType}`)},_formatValidationIcon(){if(!it())return;let i=this._input().get(0),e=this.option("rtlEnabled"),t=this._getClearButtonWidth(),n=this._getLongestElementDimensions(),o=parseFloat(Xv.getComputedStyle(i).width)-t,r=n.width>o,{style:s}=i;this.$element().toggleClass(hIe,!r&&this.option("_showValidationIcon")),r?(this._storedPadding===void 0&&(this._storedPadding=e?n.leftPadding:n.rightPadding),e?s.paddingLeft=0:s.paddingRight=0):e?s.paddingLeft=`${this._storedPadding}px`:s.paddingRight=`${this._storedPadding}px`},_getClearButtonWidth(){let i=0;if(this._isClearButtonVisible()&&this._input().val()===""){let e=this.$element().find(`.${pIe}`).get(0);i=parseFloat(Xv.getComputedStyle(e).width)}return i},_getLongestElementDimensions(){let i=this._strategy.getDisplayFormat(this.option("displayFormat")),e=It.format(fn.getLongestDate(i,It.getMonthNames(),It.getDayNames()),i),t=this._input(),n=t.get(0),o=S9(t,e),s=this._storedPadding!==void 0?this._storedPadding:0;o.appendTo(this.$element());let a=parseFloat(Xv.getComputedStyle(o.get(0)).width),l=parseFloat(Xv.getComputedStyle(n).paddingRight),d=parseFloat(Xv.getComputedStyle(n).paddingLeft),c=a+d+l+s;return o.remove(),{width:c,leftPadding:d,rightPadding:l}},_getKeyboardListeners(){return this.callBase().concat([this._strategy&&this._strategy.getKeyboardListener()])},_renderPopup(){this.callBase(),this._popup.$wrapper().addClass("dx-datebox-wrapper"),this._renderPopupWrapper()},_getPopupToolbarItems(){var i,e;let t=this.callBase();return((i=(e=this._strategy)._getPopupToolbarItems)===null||i===void 0?void 0:i.call(e,t))??t},_popupConfig(){let i=this.callBase();return q(this._strategy.popupConfig(i),{title:this._getPopupTitle(),dragEnabled:!1})},_renderPopupWrapper(){if(!this._popup)return;let i=this.$element(),e=q({},Ua,Wa);ee(e,(t,n)=>{i.removeClass(`dx-datebox-wrapper-${n}`)}),this._popup.$wrapper().addClass(`dx-datebox-wrapper-${this.option("type")}`).addClass(`dx-datebox-wrapper-${this._pickerType}`).addClass("dx-dropdowneditor-overlay")},_renderPopupContent(){this.callBase(),this._strategy.renderPopupContent()},_popupShowingHandler(){this.callBase(),this._strategy.popupShowingHandler()},_popupShownHandler(){this.callBase(),this._strategy.renderOpenedState()},_popupHiddenHandler(){this.callBase(),this._strategy.renderOpenedState(),this._strategy.popupHiddenHandler()},_visibilityChanged(i){i&&this._formatValidationIcon()},_clearValueHandler(i){this.option("text",""),this.callBase(i)},_readOnlyPropValue(){if(this._pickerType===Wa.rollers)return!0;let{platform:i}=Ve.real();return this._isNativeType()&&(i==="ios"||i==="android")?this.option("readOnly"):this.callBase()},_isClearButtonVisible(){return this.callBase()&&!this._isNativeType()},_renderValue(){let i=this.dateOption("value");return this.option("text",this._getDisplayedText(i)),this._strategy.renderValue(),this.callBase()},_setSubmitValue(){let i=this.dateOption("value"),e=this.option("dateSerializationFormat"),t=fn.SUBMIT_FORMATS_MAP[this.option("type")],n=e?kn.serializeDate(i,e):fn.toStandardDateFormat(i,t);this._getSubmitElement().val(n)},_getDisplayedText(i){let e=this.option("mode"),t;if(e==="text"){let n=this._strategy.getDisplayFormat(this.option("displayFormat"));t=It.format(i,n)}else{let n=this._getFormatByMode(e);n?t=It.format(i,n):t=fn.toStandardDateFormat(i,e)}return t},_getFormatByMode:i=>Bp(i)?null:fn.FORMATS_MAP[i],_valueChangeEventHandler(i){let{text:e,type:t,validationError:n}=this.option(),o=this.dateOption("value");if(e===this._getDisplayedText(o)){this._recallInternalValidation(o,n);return}let r=this._getParsedDate(e),s=o??this._getDateByDefault(),a=fn.mergeDates(s,r,t),l=r&&t==="time"?a:r;if(this._applyInternalValidation(l).isValid){let d=this._getDisplayedText(a);s&&a&&s.getTime()===a.getTime()&&d!==e?this._renderValue():this.dateValue(a,i)}},_recallInternalValidation(i,e){(!e||e.editorSpecific)&&(this._applyInternalValidation(i),this._applyCustomValidation(i))},_getDateByDefault(){return this._strategy.useCurrentDateByDefault()&&this._strategy.getDefaultDate()},_getParsedDate(i){let e=this._strategy.getDisplayFormat(this.option("displayFormat"));return this._strategy.getParsedText(i,e)??void 0},_applyInternalValidation(i){let t=!!this.option("text")&&i!==null,n=!!i&&no(i)&&!isNaN(i.getTime()),o=n&&st.dateInRange(i,this.dateOption("min"),this.dateOption("max"),this.option("type")),r=!t&&!i||o,s="";return n?o||(s=this.option("dateOutOfRangeMessage")):s=this.option("invalidDateMessage"),this._updateInternalValidationState(r,s),{isValid:r,isDate:n}},_updateInternalValidationState(i,e){this.option({isValid:i,validationError:i?null:{editorSpecific:!0,message:e}})},_applyCustomValidation(i){this.validationRequest.fire({editor:this,value:this._serializeDate(i)})},_isValueChanged(i){let e=this.dateOption("value"),t=e&&e.getTime(),n=i&&i.getTime();return t!==n},_isTextChanged(i){let e=this.option("text"),t=i&&this._getDisplayedText(i)||"";return e!==t},_renderProps(){this.callBase(),this._input().attr("autocomplete","off")},_renderOpenedState(){this._isNativeType()||this.callBase(),this._strategy.isAdaptivityChanged()&&this._refreshStrategy()},_getPopupTitle(){let i=this.option("placeholder");if(i)return i;let e=this.option("type");return e===Ua.time?de.format("dxDateBox-simulatedDataPickerTitleTime"):e===Ua.date||e===Ua.datetime?de.format("dxDateBox-simulatedDataPickerTitleDate"):""},_refreshStrategy(){this._strategy.dispose(),this._initStrategy(),this.option(this._strategy.getDefaultOptions()),this._refresh()},_applyButtonHandler(i){let e=this._strategy.getValue();this.dateValue(e,i.event),this.callBase()},_dispose(){var i;this.callBase(),(i=this._strategy)===null||i===void 0||i.dispose()},_isNativeType(){return this._pickerType===Wa.native},_updatePopupTitle(){var i;(i=this._popup)===null||i===void 0||i.option("title",this._getPopupTitle())},_optionChanged(i){switch(i.name){case"showClearButton":case"buttons":case"isValid":case"readOnly":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"pickerType":this._updatePickerOptions({pickerType:i.value}),this._refreshStrategy(),this._refreshPickerTypeClass(),this._invalidate();break;case"type":this._updatePickerOptions({format:i.value}),this._refreshStrategy(),this._refreshFormatClass(),this._renderPopupWrapper(),this._formatValidationIcon(),this._updateValue();break;case"placeholder":this.callBase.apply(this,arguments),this._updatePopupTitle();break;case"min":case"max":{let e=this.option("isValid");this._applyInternalValidation(this.dateOption("value")),e||this._applyCustomValidation(this.dateOption("value")),this._invalidate();break}case"dateSerializationFormat":case"interval":case"disabledDates":case"calendarOptions":this._invalidate();break;case"displayFormat":this.option("text",this._getDisplayedText(this.dateOption("value"))),this._renderInputValue();break;case"text":this._strategy.textChangedHandler(i.value),this.callBase.apply(this,arguments);break;case"showDropDownButton":this._formatValidationIcon(),this.callBase.apply(this,arguments);break;case"todayButtonText":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"invalidDateMessage":case"dateOutOfRangeMessage":case"adaptivityEnabled":case"showAnalogClock":case"_showValidationIcon":break;default:this.callBase.apply(this,arguments)}},_getSerializationFormat(){let i=this.option("value");if(this.option("dateSerializationFormat")&&ui().forceIsoDateParsing)return this.option("dateSerializationFormat");if(ai(i))return"number";if(We(i))return kn.getDateSerializationFormat(i)},_updateValue(i){this.callBase(),this._applyInternalValidation(i??this.dateOption("value"))},dateValue(i,e){let t=this._isValueChanged(i);return t&&e&&this._saveValueChangeEvent(e),t||(this._isTextChanged(i)?this._updateValue(i):this.option("text")===""&&this._applyCustomValidation(i)),this.dateOption("value",i)},dateOption(i,e){if(arguments.length===1)return kn.deserializeDate(this.option(i));this.option(i,this._serializeDate(e))},_serializeDate(i){let e=this._getSerializationFormat();return kn.serializeDate(i,e)},_clearValue(){let i=this.option("value");this.callBase(),i===null&&this._applyCustomValidation(null)},clear(){let i=this.option("value");this.callBase(),i===null&&this._applyInternalValidation(null)}}),vX=mIe;var yX=i=>i.getMonth()+1,xX=(i,e)=>{let t=i.getDate(),n=Qv("M",i),o=ho(parseInt(e),n.min,n.max);i.setMonth(o-1,1);let{min:r,max:s}=Qv("dM",i),a=ho(t,r,s);i.setDate(a)},gIe={a:i=>i.getHours()<12?0:1,E:"getDay",y:"getFullYear",M:yX,L:yX,d:"getDate",H:"getHours",h:"getHours",m:"getMinutes",s:"getSeconds",S:"getMilliseconds",x:"getTimezoneOffset"},_Ie=q({},tj(),{a:(i,e)=>{let t=i.getHours();t>=12!==!!parseInt(e)&&i.setHours((t+12)%24)},d:(i,e)=>{let t=Qv("dM",i).max;e>t&&i.setMonth(i.getMonth()+1),i.setDate(e)},h:(i,e)=>{let t=i.getHours()>=12;i.setHours(+e%12+(t?12:0))},M:xX,L:xX,E:(i,e)=>{e<0||i.setDate(i.getDate()-i.getDay()+parseInt(e))},y:(i,e)=>{let t=i.getFullYear(),n=String(e).length,o=String(Qv("y",i).max).length,r=parseInt(String(t).substr(0,o-n)+e);i.setFullYear(r)},x:i=>i}),bIe=i=>gIe[i]||(()=>i),CX=(i,e)=>{let t=e.regexp.exec(i),n=0,o=0,r=[];for(let s=1;s<t.length;s++){n=o,o=n+t[s].length;let a=e.patterns[s-1].replace(/^'|'$/g,""),l=bIe(a[0]);r.push({index:s-1,isStub:a===t[s],caret:{start:n,end:o},pattern:a,text:t[s],limits:function(){for(var d=arguments.length,c=new Array(d),u=0;u<d;u++)c[u]=arguments[u];return Qv(a[0],...c)},setter:_Ie[a[0]]||pe,getter:l})}return r},Qv=(i,e,t)=>{let n={y:{min:0,max:9999},M:{min:1,max:12},L:{min:1,max:12},d:{min:1,max:31},dM:{min:1,max:new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},E:{min:0,max:6},H:{min:0,max:23},h:{min:1,max:12},m:{min:0,max:59},s:{min:0,max:59},S:{min:0,max:999},a:{min:0,max:1},x:{min:0,max:0}};return n[t||i]||n.getAmPm},wX=(i,e)=>{for(let t=0;t<i.length;t++){let n=i[t].caret.end>=e;if(!i[t].isStub&&n)return t}return null};var vIe=vX.inherit({_supportedKeys(i){let e=this.callBase(i),t=o=>{let r=e[Ti(o)];return r&&r.apply(this,[o])},n=(o,r)=>this._shouldUseOriginalHandler(o)?t.apply(this,[o]):r.apply(this,[o]);return q({},e,{del:o=>n(o,r=>{this._revertPart(1),this._isAllSelected()||r.preventDefault()}),backspace:o=>n(o,r=>{this._revertPart(-1),this._isAllSelected()||r.preventDefault()}),home:o=>n(o,r=>{this._selectFirstPart(),r.preventDefault()}),end:o=>n(o,r=>{this._selectLastPart(),r.preventDefault()}),escape:o=>n(o,r=>{this._revertChanges(r)}),enter:o=>n(o,()=>{this._enterHandler()}),leftArrow:o=>n(o,r=>{this._selectNextPart(-1),r.preventDefault()}),rightArrow:o=>n(o,r=>{this._selectNextPart(1),r.preventDefault()}),upArrow:o=>n(o,r=>{this._upDownArrowHandler(1),r.preventDefault()}),downArrow:o=>n(o,r=>{this._upDownArrowHandler(-1),r.preventDefault()})})},_shouldUseOriginalHandler(i){let e=this.option("opened")&&i&&!["backspace","del"].includes(Ti(i));return!this._useMaskBehavior()||e||i&&i.altKey},_upDownArrowHandler(i){this._setNewDateIfEmpty();let e=this._getActivePartValue(this._initialMaskValue),n=this._getActivePartValue()-e;this._loadMaskValue(this._initialMaskValue),this._changePartValue(n+i,!0)},_changePartValue(i,e){let t=this._getActivePartProp("pattern");/^a{1,5}$/.test(t)?this._toggleAmPm():this._partIncrease(i,e)},_toggleAmPm(){let i=this._getActivePartProp("text"),t=1^yc.getPeriodNames().indexOf(i);this._setActivePartValue(t)},_getDefaultOptions(){return q(this.callBase(),{useMaskBehavior:!1,emptyDateValue:new Date(2e3,0,1,0,0,0)})},_isSingleCharKey(i){let{originalEvent:e,alt:t}=i,n=e.data||e.key;return typeof n=="string"&&n.length===1&&!t&&!Dn(e)},_isSingleDigitKey(i){var e;let t=(e=i.originalEvent)===null||e===void 0?void 0:e.data;return t?.length===1&&parseInt(t,10)},_useBeforeInputEvent:()=>Ve.real().android,_keyInputHandler(i,e){let t=this._input().val();this._processInputKey(e),i.preventDefault(),t!==this._input().val()&&X.trigger(this._input(),"input")},_keyboardHandler(i){let{key:e}=i.originalEvent,t=this.callBase(i);return!this._useMaskBehavior()||this._useBeforeInputEvent()||(gi.chrome&&i.key==="Process"&&i.code.indexOf("Digit")===0?(e=i.code.replace("Digit",""),this._processInputKey(e),this._maskInputHandler=()=>{this._renderSelectedPart()}):this._isSingleCharKey(i)&&this._keyInputHandler(i.originalEvent,e)),t},_maskBeforeInputHandler(i){this._maskInputHandler=null;let{inputType:e}=i.originalEvent;e==="insertCompositionText"&&(this._maskInputHandler=()=>{this._renderSelectedPart()});let t=e==="deleteContentBackward";if(t||e==="deleteContentForward"){let r=t?-1:1;this._maskInputHandler=()=>{this._revertPart(),this._selectNextPart(r)}}if(!this._useMaskBehavior()||!this._isSingleCharKey(i))return;let o=i.originalEvent.data;return this._keyInputHandler(i,o),!0},_keyPressHandler(i){let{originalEvent:e}=i;e?.inputType==="insertCompositionText"&&this._isSingleDigitKey(i)&&(this._processInputKey(e.data),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()),this.callBase(i),this._maskInputHandler&&(this._maskInputHandler(),this._maskInputHandler=null)},_processInputKey(i){this._isAllSelected()&&(this._activePartIndex=0),this._setNewDateIfEmpty(),isNaN(parseInt(i))?this._searchString(i):this._searchNumber(i)},_isAllSelected(){let i=this._caret();return i.end-i.start===this.option("text").length},_getFormatPattern(){if(this._formatPattern)return this._formatPattern;let i=this._strategy.getDisplayFormat(this.option("displayFormat"));return We(i)&&!It._getPatternByFormat(i)?this._formatPattern=i:this._formatPattern=Bm(t=>It.format(t,i)),this._formatPattern},_setNewDateIfEmpty(){if(!this._maskValue){let i=this.option("type")==="time"?new Date(null):new Date;this._maskValue=i,this._initialMaskValue=i,this._renderDateParts()}},_partLimitsReached(i){let e=String(i).length,t=this._getActivePartProp("pattern").length,o=t===1?e:Math.min(t,e),r=this._searchValue.length===o,s=parseInt(`${this._searchValue}0`)>i;return r||s},_searchNumber(i){let{max:e}=this._getActivePartLimits(),t=String(e).length;this._searchValue=(this._searchValue+i).substr(-t),isNaN(this._searchValue)&&(this._searchValue=i),this._setActivePartValue(this._searchValue),this._partLimitsReached(e)&&this._selectNextPart(1)},_searchString(i){if(!isNaN(parseInt(this._getActivePartProp("text"))))return;let e=this._getActivePartProp("limits")(this._maskValue),t=this._searchValue+i.toLowerCase(),n=e.max-e.min;for(let o=0;o<=n;o++)if(this._loadMaskValue(this._initialMaskValue),this._changePartValue(o+1),this._getActivePartProp("text").toLowerCase().indexOf(t)===0){this._searchValue=t;return}this._setNewDateIfEmpty(),this._searchValue&&(this._clearSearchValue(),this._searchString(i))},_clearSearchValue(){this._searchValue=""},_revertPart(i){if(!this._isAllSelected()){let e=this._getActivePartValue(this.option("emptyDateValue"));this._setActivePartValue(e),this._selectNextPart(i)}this._clearSearchValue()},_useMaskBehavior(){return this.option("useMaskBehavior")&&this.option("mode")==="text"},_prepareRegExpInfo(){this._regExpInfo=lM(this._getFormatPattern(),It);let{regexp:i}=this._regExpInfo,{source:e}=i,{flags:t}=i,n=new RegExp(/(\{[0-9]+,?[0-9]*\})/),o=e.split(n).map(r=>n.test(r)?r:Ii.convertDigits(r,!1)).join("");this._regExpInfo.regexp=new RegExp(o,t)},_initMaskState(){this._activePartIndex=0,this._formatPattern=null,this._prepareRegExpInfo(),this._loadMaskValue()},_renderMask(){this.callBase(),this._detachMaskEvents(),this._clearMaskState(),this._useMaskBehavior()&&(this._attachMaskEvents(),this._initMaskState(),this._renderDateParts())},_renderDateParts(){if(!this._useMaskBehavior())return;let i=this.option("text")||this._getDisplayedText(this._maskValue);i&&(this._dateParts=CX(i,this._regExpInfo),this._input().is(":hidden")||this._selectNextPart())},_detachMaskEvents(){X.off(this._input(),".dateBoxMask")},_attachMaskEvents(){X.on(this._input(),Se("dxclick","dateBoxMask"),this._maskClickHandler.bind(this)),X.on(this._input(),Se("paste","dateBoxMask"),this._maskPasteHandler.bind(this)),X.on(this._input(),Se("drop","dateBoxMask"),()=>{this._renderSelectedPart()}),X.on(this._input(),Se("compositionend","dateBoxMask"),this._maskCompositionEndHandler.bind(this)),this._useBeforeInputEvent()&&X.on(this._input(),Se("beforeinput","dateBoxMask"),this._maskBeforeInputHandler.bind(this))},_renderSelectedPart(){this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()},_selectLastPart(){this.option("text")&&(this._activePartIndex=this._dateParts.length,this._selectNextPart(-1))},_selectFirstPart(){this.option("text")&&(this._activePartIndex=-1,this._selectNextPart(1))},_onMouseWheel(i){this._useMaskBehavior()&&this._partIncrease(i.delta>0?1:-1,i)},_selectNextPart(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(!this.option("text")||this._disposed)return;i&&(this._initialMaskValue=new Date(this._maskValue));let e=ho(this._activePartIndex+i,0,this._dateParts.length-1);if(this._dateParts[e].isStub){if(!(e===0&&i<0||e===this._dateParts.length-1&&i>0)){this._selectNextPart(i>=0?i+1:i-1);return}e=this._activePartIndex}this._activePartIndex!==e&&this._clearSearchValue(),this._activePartIndex=e,this._caret(this._getActivePartProp("caret"))},_getRealLimitsPattern(){if(this._getActivePartProp("pattern")[0]==="d")return"dM"},_getActivePartLimits(i){return this._getActivePartProp("limits")(this._maskValue,i&&this._getRealLimitsPattern())},_getActivePartValue(i){i=i||this._maskValue;let e=this._getActivePartProp("getter");return Ie(e)?e(i):i[e]()},_addLeadingZeroes(i){let e=this._searchValue.match(/^0+/),t=this._getActivePartLimits(),n=String(t.max).length;return((e&&e[0]||"")+String(i)).substr(-n)},_setActivePartValue(i,e){e=e||this._maskValue;let t=this._getActivePartProp("setter"),n=this._getActivePartLimits();i=Rs(i,n.min,n.max)?i:i%10,i=this._addLeadingZeroes(ho(i,n.min,n.max)),Ie(t)?t(e,i):e[t](i),this._renderDisplayText(this._getDisplayedText(e)),this._renderDateParts()},_getActivePartProp(i){if(!(!this._dateParts||!this._dateParts[this._activePartIndex]))return this._dateParts[this._activePartIndex][i]},_loadMaskValue(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.dateOption("value");this._maskValue=i&&new Date(i),this._initialMaskValue=i&&new Date(i)},_saveMaskValue(){let i=this._maskValue&&new Date(this._maskValue);i&&this.option("type")==="date"&&i.setHours(0,0,0,0),this._initialMaskValue=new Date(i),this.dateOption("value",i)},_revertChanges(){this._loadMaskValue(),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts()},_renderDisplayText(i){this.callBase(i),this._useMaskBehavior()&&this.option("text",i)},_partIncrease(i,e){this._setNewDateIfEmpty();let{max:t,min:n}=this._getActivePartLimits(e),o=i+this._getActivePartValue();o>t?o=this._applyLimits(o,{limitBase:n,limitClosest:t,max:t}):o<n&&(o=this._applyLimits(o,{limitBase:t,limitClosest:n,max:t})),this._setActivePartValue(o)},_applyLimits(i,e){let{limitBase:t,limitClosest:n,max:o}=e,r=(i-n)%o;return r?t+r-1*pl(r):n},_maskClickHandler(){this._loadMaskValue(this._maskValue),this.option("text")&&(this._activePartIndex=wX(this._dateParts,this._caret().start),this._isAllSelected()||(U(this._activePartIndex)?this._caret(this._getActivePartProp("caret")):this._selectLastPart()))},_maskCompositionEndHandler(i){this._input().val(this._getDisplayedText(this._maskValue)),this._selectNextPart(),this._maskInputHandler=()=>{this._renderSelectedPart()}},_maskPasteHandler(i){let e=this._replaceSelectedText(this.option("text"),this._caret(),kb(i)),t=It.parse(e,this._getFormatPattern());t&&this._isDateValid(t)&&(this._maskValue=t,this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts(),this._selectNextPart()),i.preventDefault()},_isDateValid:i=>no(i)&&!isNaN(i),_isValueDirty(){let i=this.dateOption("value");return(this._maskValue&&this._maskValue.getTime())!==(i&&i.getTime())},_fireChangeEvent(){this._clearSearchValue(),this._isValueDirty()&&X.trigger(this._input(),"change")},_enterHandler(){this._fireChangeEvent(),this._selectNextPart(1)},_focusOutHandler(i){this._useMaskBehavior()&&!i.isDefaultPrevented()?(this._fireChangeEvent(),this.callBase(i),this._selectFirstPart(i)):this.callBase(i)},_valueChangeEventHandler(i){let e=this.option("text");this._useMaskBehavior()?(this._saveValueChangeEvent(i),e?this._maskValue===null&&this._loadMaskValue(e):this._maskValue=null,this._saveMaskValue()):this.callBase(i)},_optionChanged(i){switch(i.name){case"useMaskBehavior":this._renderMask();break;case"displayFormat":case"mode":this.callBase(i),this._renderMask();break;case"value":this._loadMaskValue(),this.callBase(i),this._renderDateParts();break;case"emptyDateValue":break;default:this.callBase(i)}},_clearMaskState(){this._clearSearchValue(),delete this._dateParts,delete this._activePartIndex,delete this._maskValue},clear(){this._clearMaskState(),this._activePartIndex=0,this.callBase()},_clean(){this.callBase(),this._detachMaskEvents(),this._clearMaskState()}}),qL=vIe;ut("dxDateBox",qL);var SX=qL;var EX=SX;var{isWrapped:yIe}=bo;var xIe="dx-editor-inline-block",Jv=function(i,e){return q(i,{readOnly:e.readOnly,placeholder:e.placeholder,inputAttr:{id:e.id,"aria-labelledby":e["aria-labelledby"]},tabIndex:e.tabIndex},e.editorOptions)},TX=function(){return gi.mozilla||Ve.real().ios},AX=function(i){let e={},t=TX(),n=i.sharedData||e;return Jv({placeholder:i.placeholder,width:i.width,value:i.value,onValueChanged:function(o){let r=i.parentType==="filterRow"||i.parentType==="searchPanel",s=o.event&&(o.event.type==="input"||o.event.type==="keyup"),a=function(l,d){i&&i.setValue(l.value,d)};clearTimeout(e.valueChangeTimeout),s&&r?n.valueChangeTimeout=e.valueChangeTimeout=setTimeout(function(){a(o,e.valueChangeTimeout!==n.valueChangeTimeout)},U(i.updateValueTimeout)?i.updateValueTimeout:0):a(o)},onKeyDown:function(o){t&&Ti(o.event)==="enter"&&X.trigger(I(o.component._input()),"change")},valueChangeEvent:"change"+(i.parentType==="filterRow"?" keyup input":"")},i)},OX=function(i){i.editorName="dxDateBox",i.editorOptions=Jv({value:i.value,onValueChanged:function(e){i.setValue(e.value)},onKeyDown:function(e){let{component:t,event:n}=e,o=t.option("useMaskBehavior");(TX()||o)&&Ti(n)==="enter"&&(t.blur(),t.focus())},displayFormat:i.format,type:i.dataType,dateSerializationFormat:null,width:i.parentType==="filterBuilder"?void 0:"auto"},i)},IX=function(i){let e=AX(i),t=i.parentType==="searchPanel";i.editorType&&i.editorType!=="dxTextBox"?e.value=i.value:e.value=(n=i.value,U(n)?n.toString():"");var n;e.valueChangeEvent+=t?" keyup input search":"",e.mode=e.mode||(t?"search":"text"),i.editorName="dxTextBox",i.editorOptions=e},DX=function(i){let e=AX(i);e.value=U(i.value)?i.value:null,i.editorName="dxNumberBox",i.editorOptions=e},CIe=function(i){i.parentType==="filterRow"||i.parentType==="filterBuilder"?kX(q(i,{lookup:{displayExpr:function(e){if(e===!0)return i.trueText||"true";if(e===!1)return i.falseText||"false"},dataSource:[!0,!1]}})):MX(i)};function wIe(i){if(i.row&&i.row.watch&&i.parentType==="dataRow"){let e=i.editorOptions||{};i.editorOptions=e;let t,n=e.onInitialized;e.onInitialized=function(s){n&&n.apply(this,arguments),t=s.component,t.on("disposing",r)};let o,r=i.row.watch(()=>(o=i.lookup.dataSource(i.row),o&&o.filter),()=>{t.option("dataSource",o)},s=>{i.row=s})}}function kX(i){let e=i.lookup,t,n,o,r=i.parentType==="filterRow";if(e){t=Qt(e.displayExpr),n=e.dataSource,Ie(n)&&!yIe(n)&&(n=n(i.row||{}),wIe(i)),(Ke(n)||Array.isArray(n))&&(n=qr(n),r&&(o=n.postProcess,n.postProcess=function(a){return this.pageIndex()===0&&(a=a.slice(0),a.unshift(null)),o?o.call(this,a):a}));let s=!!(e.allowClearing&&!r);i.editorName=i.editorType??"dxSelectBox",i.editorOptions=Jv({searchEnabled:!0,value:i.value,valueExpr:i.lookup.valueExpr,searchExpr:i.lookup.searchExpr||i.lookup.displayExpr,allowClearing:s,showClearButton:s,displayExpr:function(a){return a===null?i.showAllText:t(a)},dataSource:n,onValueChanged:function(a){let l=[a.value];!r&&l.push(a.component.option("text")),i.setValue.apply(this,l)}},i)}}function MX(i){i.editorName="dxCheckBox",i.editorOptions=Jv({elementAttr:{id:i.id},value:U(i.value)?i.value:void 0,hoverStateEnabled:!i.readOnly,focusStateEnabled:!i.readOnly,activeStateEnabled:!1,onValueChanged:function(e){i.setValue&&i.setValue(e.value,e)}},i)}var SIe=function(i,e){let t=I(e.editorElement);if(e.editorName&&e.editorOptions&&t[e.editorName]){if((e.editorName==="dxCheckBox"||e.editorName==="dxSwitch")&&(e.isOnForm||(t.addClass(i.addWidgetPrefix("checkbox-size")),t.parent().addClass(xIe))),i._createComponent(t,e.editorName,e.editorOptions),e.editorName==="dxDateBox"){let n=t.dxDateBox("instance"),o=n._supportedKeys().enter;n.registerKeyHandler("enter",r=>(n.option("opened")&&o(r),!0))}e.editorName==="dxTextArea"&&t.dxTextArea("instance").registerKeyHandler("enter",function(n){Ti(n)==="enter"&&!n.ctrlKey&&!n.shiftKey&&n.stopPropagation()})}},EIe=i=>{i.editorName=i.editorType,i.editorOptions=Jv({value:i.value,onValueChanged:function(e){i.setValue(e.value)}},i)},OIe=i=>{let e={dxDateBox:OX,dxCheckBox:MX,dxNumberBox:DX,dxTextBox:IX};if(i.lookup)kX(i);else if(i.editorType)(e[i.editorType]??EIe)(i);else switch(i.dataType){case"date":case"datetime":OX(i);break;case"boolean":CIe(i);break;case"number":DX(i);break;default:IX(i)}},IIe=i=>class extends i{createEditor(e,t){t.cancel=!1,t.editorElement=tt(e),U(t.tabIndex)||(t.tabIndex=this.option("tabIndex")),OIe(t),this.executeAction("onEditorPreparing",t),!t.cancel&&(t.parentType==="dataRow"&&!t.isOnForm&&!U(t.editorOptions.showValidationMark)&&(t.editorOptions.showValidationMark=!1),SIe(this,t),this.executeAction("onEditorPrepared",t))}},kO=IIe;var DIe="dx-editor-inline-block";var FX="dxDataGridEditorFactory",RX=Se([Mt.down,"focusin",Kt].join(" "),FX),YL="dx-hidden",TIe=kO(li.ViewController),XL=class extends TIe{init(){this.createAction("onEditorPreparing",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this.createAction("onEditorPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this._columnsResizerController=this.getController("columnsResizer"),this._editingController=this.getController("editing"),this._keyboardNavigationController=this.getController("keyboardNavigation"),this._columnsController=this.getController("columns"),this._validatingController=this.getController("validating"),this._rowsView=this.getView("rowsView"),this._updateFocusHandler=this._updateFocusHandler||this.createAction(this._updateFocus.bind(this)),this._subscribedContainerRoot=this._getContainerRoot(),X.on(this._subscribedContainerRoot,RX,this._updateFocusHandler),this._attachContainerEventHandlers()}dispose(){clearTimeout(this._focusTimeoutID),clearTimeout(this._updateFocusTimeoutID),X.off(this._subscribedContainerRoot,RX,this._updateFocusHandler)}_getFocusedElement(e){let n=["td[tabindex]:focus",`${this.option("focusedRowEnabled")?"tr[tabindex]:focus":"tr[tabindex]:not(.dx-data-row):focus"}`,"input:focus","button:focus","textarea:focus","div[tabindex]:focus",".dx-lookup-field:focus",".dx-checkbox:focus",".dx-switch:focus",".dx-dropdownbutton .dx-buttongroup:focus",".dx-adaptive-item-text:focus"].join(","),o=e.find(n);return this.elementIsInsideGrid(o)&&o}_getFocusCellSelector(){return".dx-row > td"}_updateFocusCore(){let e=this.component&&this.component.$element();if(e){let t=this._getFocusedElement(e);if(t&&t.length){let n;if(!t.hasClass("dx-cell-focus-disabled")&&!t.hasClass("dx-row")){let o=t.closest(`${this._getFocusCellSelector()}, .dx-cell-focus-disabled`);o.get(0)!==t.get(0)&&(n=this._needHideBorder(o),t=o)}if(t.length&&!t.hasClass("dx-cell-focus-disabled")){this.focus(t,n);return}}}this.loseFocus()}_needHideBorder(e){let t=this._rowsView.element(),n=e.closest(t).length>0,o=this._editingController.isEditing();return e.hasClass(DIe)||n&&!o}_updateFocus(e){let t=this,n=e&&e.event&&I(e.event.target).hasClass(t.addWidgetPrefix("focus-overlay"));t._isFocusOverlay=t._isFocusOverlay||n,clearTimeout(t._updateFocusTimeoutID),t._updateFocusTimeoutID=setTimeout(()=>{delete t._updateFocusTimeoutID,t._isFocusOverlay||t._updateFocusCore(),t._isFocusOverlay=!1})}_updateFocusOverlaySize(e,t){e.hide();let n=lr.calculate(e,q({collision:"fit"},t));n.h.oversize>0&&TM(e,Ft(e)-n.h.oversize),n.v.oversize>0&&AM(e,Ct(e)-n.v.oversize),e.show()}callbackNames(){return["focused"]}focus(e,t){let n=this;if(e===void 0)return n._$focusedElement;e&&(e.is(n._$focusedElement)||n._$focusedElement&&n._$focusedElement.removeClass("dx-focused"),n._$focusedElement=e,clearTimeout(n._focusTimeoutID),n._focusTimeoutID=setTimeout(()=>{delete n._focusTimeoutID,n.renderFocusOverlay(e,t),e.addClass("dx-focused"),n.focused.fire(e)}))}refocus(){let e=this.focus();this.focus(e)}renderFocusOverlay(e,t){let n=this;if(De.isElementInCurrentGrid(this,e)){if(n._$focusOverlay||(n._$focusOverlay=I("<div>").addClass(n.addWidgetPrefix("focus-overlay"))),t)n._$focusOverlay.addClass(YL);else if(e.length){let o=gi.mozilla?"right bottom":"left top",r=e.closest(`.${n.addWidgetPrefix("content")}`),s=un(e.get(0)),a=e.hasClass(this.addWidgetPrefix("invalid")),l=e.hasClass("dx-cell-modified")&&!a;n._$focusOverlay.removeClass(YL).toggleClass("dx-focused-cell-invalid",a).toggleClass("dx-focused-cell-modified",l).appendTo(r),AM(n._$focusOverlay,s.bottom-s.top+1),TM(n._$focusOverlay,s.right-s.left+1);let d={precise:!0,my:o,at:o,of:e,boundary:r.length&&r};n._updateFocusOverlaySize(n._$focusOverlay,d),lr.setup(n._$focusOverlay,d),n._$focusOverlay.css("visibility","visible")}}}resize(){let e=this._$focusedElement;e&&this.focus(e)}loseFocus(e){this._$focusedElement&&this._$focusedElement.removeClass("dx-focused"),this._$focusedElement=null,this._$focusOverlay&&this._$focusOverlay.addClass(YL)}_getContainerRoot(){var e;let t=(e=this.component)===null||e===void 0?void 0:e.$element(),n=be.getRootNode(t?.get(0));return n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!n.host?be.getDocument():n}_attachContainerEventHandlers(){let e=this,t=e.component&&e.component.$element();t&&X.on(t,Se("keydown",FX),n=>{Ti(n)==="tab"&&e._updateFocusHandler(n)})}},PX={defaultOptions:()=>({}),controllers:{editorFactory:XL}};qe.registerModule("editorFactory",PX);var MO=et(),AIe={text:"OK",onClick:()=>!0};var kIe=()=>Zn()?{stylingMode:"contained",type:"default"}:{},MIe=()=>Zn()?{stylingMode:"outlined",type:"default"}:{},LX=function(i){let e=le();i=i||{};let t=I("<div>").addClass("dx-dialog").appendTo(Qs()),n="message"in i,o="messageHtml"in i;n&&bt.log("W1013");let r=String(o?i.messageHtml:i.message),s=i.title?null:new yi,a=I("<div>").addClass("dx-dialog-message").html(r).attr("id",s),l=[],d=new Qr(t,q({title:i.title??"",showTitle:ji(i.showTitle,!0),dragEnabled:ji(i.dragEnabled,!0),height:"auto",width:i.width,showCloseButton:i.showCloseButton||!1,ignoreChildEvents:!1,container:t,visualContainer:MO,dragAndResizeArea:MO,onContentReady(h){h.component.$content().addClass("dx-dialog-content").append(a),s&&h.component.$overlayContent().attr("aria-labelledby",s)},onShowing(h){h.component.bottomToolbar().addClass("dx-dialog-buttons").find(".dx-button").addClass("dx-dialog-button"),ka()},onShown(h){let f=h.component.bottomToolbar().find(".dx-button").first();X.trigger(f,"focus")},onHiding(){e.reject()},onHidden(h){let{element:f}=h;I(f).remove()},animation:{show:{type:"pop",duration:400},hide:{type:"pop",duration:400,to:{opacity:0,scale:0},from:{opacity:1,scale:1}}},rtlEnabled:ui().rtlEnabled,position:{boundaryOffset:{h:10,v:0}}},i.popupOptions));(i.buttons||[AIe]).forEach(h=>{let f=new gl(h.onClick,{context:d});l.push({toolbar:"bottom",location:Ve.current().android?"after":"center",widget:"dxButton",options:ye({},h,{onClick(){let p=f.execute(...arguments);u(p)}})})}),d.option("toolbarItems",l),d.$wrapper().addClass("dx-dialog-wrapper"),i.position&&d.option("position",i.position),d.$wrapper().addClass("dx-dialog-root");function u(h){e.resolve(h),d.hide()}return{show:function(){if(Ve.real().deviceType==="phone"){let f=ft(MO)>Qe(MO)?"90%":"60%";d.option({width:f})}return d.show(),e.promise()},hide:u}};var ZL=function(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=arguments.length>2?arguments[2]:void 0,n=ht(i)?i:{title:e,messageHtml:i,showTitle:t,buttons:[ye({text:de.format("Yes"),onClick:()=>!0},kIe()),ye({text:de.format("No"),onClick:()=>!1},MIe())],dragEnabled:t};return LX(n).show()};var qh="dx-editor-cell",Dl="dx-row",NX="dx-cell-modified",QL="dx-selection",Xg="edit-form",Ga="insert",Tl="remove",Zg="editing.popup",RO="editing.form",Fr="editing.editRowKey",ou="editing.editColumnName",FO="targetComponent",ey="input:not([type='hidden'])",Qg=`[tabindex]:not([disabled]), ${ey}:not([disabled])`,Jg="batch",Yh="row",ty="cell",iy="form",BX="popup",JL="first",ny="last",eN="pageBottom",PO="pageTop",tN="viewportBottom",iN="viewportTop",VX=["batch","row","cell","form","popup"],HX=["row","form","popup"],zX=["batch","cell"],jX=["batch","row","cell"],$X=["row","form"],WX="readonly",UX="dx-link",GX="dx-link-icon",KX="dx-selection",qX="dx-edit-button",YX="dx-command-edit",nN="dx-command-edit-with-icons",ru="__DX_INSERT_INDEX__",XX="dx-row-inserted",ZX="dx-row-modified",oN="dx-cell-modified",QX="dxDataGridEditing",JX="dx-cell-focus-disabled",e_="update",eZ="click",tZ={save:"dx-link-save",cancel:"dx-link-cancel",edit:"dx-link-edit",undelete:"dx-link-undelete",delete:"dx-link-delete",add:"dx-link-add"},iZ={save:"save",cancel:"revert",edit:"edit",undelete:"revert",delete:"trash",add:"add"},nZ={edit:"editRow",delete:"deleteRow",undelete:"undeleteRow",save:"saveEditData",cancel:"cancelEditData",add:"addRowByRowIndex"},oZ={add:"allowAdding",edit:"allowUpdating",delete:"allowDeleting"},rZ=["edit","save","cancel","delete","undelete"],Md="editing.changes",sZ="focus-overlay",aZ="addrow-button",lZ="dx-dropdowneditor-overlay",dZ="dx-data-row",cZ="dx-row-removed",RIe=!!wr.IS_RENOVATED_WIDGET,rN="edit-form-item",uZ="edit-popup",hZ="edit-popup-form",pZ=RIe?"dx-scrollable":"dx-scrollable-container",fZ="dx-button",mZ="form-buttons-container",sN="dx-edit-row";var t_=function(i){return function(e){let t=e instanceof Error?e:new Error(e&&String(e)||"Unknown error");i.reject(t)}},aN=function(i,e){return e.isEditing||i&&e.column.allowEditing},lN=function(i,e){let t=!!e.column.command,n=aN(i,e),o=!t&&(n||e.column.showEditorAlways);return e.rowType==="data"&&o},gZ=i=>{let e=i.component.option("editing.texts")||{};return{save:e.saveRowChanges,cancel:e.cancelRowChanges,edit:e.editRow,undelete:e.undeleteRow,delete:e.deleteRow,add:e.addRowToNode}},_Z=()=>`_DX_KEY_${new yi}`,bZ=i=>typeof i=="string"&&i.startsWith("_DX_KEY_")&&i.length===44,pf=(i,e)=>{let t=-1;return i.some((n,o)=>{if(dN(n)===e)return t=o,!0}),t};function dN(i){return Ke(i)?i.name:i}function vZ(i){return i&&(i.is("input")||i.is("textarea"))}var yZ=i=>{var e;let{column:t}=i;return i.isCustomEditorType?i.editorType:(e=t.formItem)===null||e===void 0?void 0:e.editorType},cN=(i,e)=>{i.forEach(t=>{t.items||t.tabs?cN(t.items||t.tabs,e):e(t)})};var uN=class extends li.ViewController{init(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._adaptiveColumnsController=this.getController("adaptiveColumns"),this._validatingController=this.getController("validating"),this._editorFactoryController=this.getController("editorFactory"),this._focusController=this.getController("focus"),this._keyboardNavigationController=this.getController("keyboardNavigation"),this._columnsResizerController=this.getController("columnsResizer"),this._errorHandlingController=this.getController("errorHandling"),this._rowsView=this.getView("rowsView"),this._headerPanelView=this.getView("headerPanel"),this._lastOperation=null,this._changes=[],this._deferreds&&this._deferreds.forEach(e=>{e.reject("cancel")}),this._deferreds=[],this._dataChangedHandler||(this._dataChangedHandler=this._handleDataChanged.bind(this),this._dataController.changed.add(this._dataChangedHandler)),this._saveEditorHandler||(this.createAction("onInitNewRow",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowInserting",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowInserted",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditingStart",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowUpdating",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowUpdated",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowRemoving",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowRemoved",{excludeValidators:["disabled","readOnly"]}),this.createAction("onSaved",{excludeValidators:["disabled","readOnly"]}),this.createAction("onSaving",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditCanceling",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditCanceled",{excludeValidators:["disabled","readOnly"]})),this._updateEditColumn(),this._updateEditButtons(),this._internalState||(this._internalState=[]),this.component._optionsByReference[Fr]=!0,this.component._optionsByReference[Md]=!0}getEditMode(){let e=this.option("editing.mode")??Yh;return VX.includes(e)?e:Yh}isCellBasedEditMode(){let e=this.getEditMode();return zX.includes(e)}_getDefaultEditorTemplate(){return(e,t)=>{let n=I("<div>").appendTo(e),o=q({},t.column,{value:t.value,setValue:t.setValue,row:t.row,parentType:"dataRow",width:null,readOnly:!t.setValue,isOnForm:t.isOnForm,id:t.id});jX.includes(this.getEditMode())&&(o["aria-labelledby"]=t.column.headerId),this._editorFactoryController.createEditor(n,o)}}_getNewRowPosition(){let e=this.option("editing.newRowPosition");if(this.option("scrolling.mode")==="virtual")switch(e){case PO:return iN;case eN:return tN;default:return e}return e}getChanges(){return this.option(Md)}getInsertRowCount(){return this.option(Md).filter(t=>t.type==="insert").length}resetChanges(){let e=this.getChanges();e?.length&&this._silentOption(Md,[])}_getInternalData(e){return this._internalState.filter(t=>hi(t.key,e))[0]}_addInternalData(e){let t=this._getInternalData(e.key);return t?q(t,e):(this._internalState.push(e),e)}_getOldData(e){var t;return(t=this._getInternalData(e))===null||t===void 0?void 0:t.oldData}getUpdatedData(e){let t=this._dataController.keyOf(e),n=this.getChanges(),o=De.getIndexByKey(t,n);return n[o]?xl(e,n[o].data):e}getInsertedData(){return this.getChanges().filter(e=>e.data&&e.type===Ga).map(e=>e.data)}getRemovedData(){return this.getChanges().filter(e=>this._getOldData(e.key)&&e.type===Tl).map(e=>this._getOldData(e.key))}_fireDataErrorOccurred(e){if(e==="cancel")return;let t=this.getPopupContent();this._dataController.dataErrorOccurred.fire(e,t)}_needToCloseEditableCell(e){}_closeEditItem(e){}_handleDataChanged(e){}_isDefaultButtonVisible(e,t){let n=!0;switch(e.name){case"delete":n=this.allowDeleting(t);break;case"undelete":n=!1}return n}isPopupEditMode(){return this.option("editing.mode")===BX}_isButtonVisible(e,t){let{visible:n}=e;return U(n)?Ie(n)?n.call(e,{component:t.component,row:t.row,column:t.column}):n:this._isDefaultButtonVisible(e,t)}_isButtonDisabled(e,t){let{disabled:n}=e;return Ie(n)?n.call(e,{component:t.component,row:t.row,column:t.column}):!!n}_getButtonConfig(e,t){let n=Ke(e)?e:{},o=dN(e),r=gZ(t),s=nZ[o],a=this.option("editing"),l=oZ[o],d=l?a[l]:!0;return q({name:o,text:r[o],cssClass:tZ[o]},{onClick:s&&(c=>{let{event:u}=c;u.stopPropagation(),u.preventDefault(),setTimeout(()=>{t.row&&d&&this[s]&&this[s](t.row.rowIndex)})})},n)}_getEditingButtons(e){let t,n=!!e.column.buttons,o=(e.column.buttons||[]).slice();return n?(t=pf(o,"edit"),t>=0&&(pf(o,"save")<0&&o.splice(t+1,0,"save"),pf(o,"cancel")<0&&o.splice(pf(o,"save")+1,0,"cancel")),t=pf(o,"delete"),t>=0&&pf(o,"undelete")<0&&o.splice(t+1,0,"undelete")):o=rZ.slice(),o.map(r=>this._getButtonConfig(r,e))}_renderEditingButtons(e,t,n,o){t.forEach(r=>{this._isButtonVisible(r,n)&&this._createButton(e,r,n,o)})}_getEditCommandCellTemplate(){return(e,t,n)=>{let o=I(e);if(t.rowType==="data"){let r=this._getEditingButtons(t);if(this._renderEditingButtons(o,r,t,n),t.watch){let s=t.watch(()=>r.map(a=>({visible:this._isButtonVisible(a,t),disabled:this._isButtonDisabled(a,t)})),()=>{o.empty(),this._renderEditingButtons(o,r,t)});X.on(o,Io,s)}}else De.setEmptyText(o)}}isRowBasedEditMode(){let e=this.getEditMode();return HX.includes(e)}getFirstEditableColumnIndex(){let e,t=this._columnsController.getVisibleColumns();return ee(t,(n,o)=>{if(o.allowEditing)return e=n,!1}),e}getFirstEditableCellInRow(e){var t;let n=this.getFirstEditableColumnIndex();return(t=this._rowsView)===null||t===void 0?void 0:t._getCellElement(e||0,n)}getFocusedCellInRow(e){return this.getFirstEditableCellInRow(e)}getIndexByKey(e,t){return De.getIndexByKey(e,t)}hasChanges(e){let t=this.getChanges(),n=!1;for(let o=0;o<t?.length;o++)if(t[o].type&&(!U(e)||this._dataController.getRowIndexByKey(t[o].key)===e)){n=!0;break}return n}dispose(){super.dispose(),clearTimeout(this._inputFocusTimeoutID),X.off(be.getDocument(),Mt.up,this._pointerUpEditorHandler),X.off(be.getDocument(),Mt.down,this._pointerDownEditorHandler),X.off(be.getDocument(),Kt,this._saveEditorHandler)}_silentOption(e,t){e==="editing.changes"&&(this._changes=Tr([],t)),super._silentOption(e,t)}optionChanged(e){if(e.name==="editing"){let{fullName:t}=e;t===Fr?this._handleEditRowKeyChange(e):t===Md?hi(e.value,this._changes,{maxDepth:4})||(this._changes=Tr([],e.value),this._handleChangesChange(e)):e.handled||(this._columnsController.reinit(),this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey()),e.handled=!0}else super.optionChanged(e)}_handleEditRowKeyChange(e){let t=this._dataController.getRowIndexByKey(e.value),n=this._getEditRowIndexCorrection(),o=this._dataController.getRowIndexByKey(e.previousValue)+n;U(e.value)?e.value!==e.previousValue&&this._editRowFromOptionChanged(t,o):this.cancelEditData()}_handleChangesChange(e){let t=this._dataController,n=e.value;!e.value.length&&!e.previousValue.length||(n.forEach(o=>{if(o.type==="insert")this._addInsertInfo(o);else{var r;let s=t.getCachedStoreData()||((r=t.items())===null||r===void 0?void 0:r.map(l=>l.data)),a=De.getIndexByKey(o.key,s,t.key());this._addInternalData({key:o.key,oldData:s[a]})}}),t.updateItems({repaintChangesOnly:!0,isLiveUpdate:!1,isOptionChanged:!0}))}publicMethods(){return["addRow","deleteRow","undeleteRow","editRow","saveEditData","cancelEditData","hasEditData"]}refresh(){U(this._pageIndex)&&this._refreshCore.apply(this,arguments)}_refreshCore(e){}isEditing(){return U(this.option(Fr))}isEditRow(e){return!1}_setEditRowKey(e,t){t?this._silentOption(Fr,e):this.option(Fr,e),this._refocusEditCell&&(this._refocusEditCell=!1,this._focusEditingCell())}_setEditRowKeyByIndex(e,t){let n=this._dataController.getKeyByRowIndex(e);if(n===void 0){this._dataController.fireError("E1043");return}this._setEditRowKey(n,t)}getEditRowIndex(){return this._getVisibleEditRowIndex()}getEditFormRowIndex(){return-1}isEditRowByIndex(e){let t=this._dataController.getKeyByRowIndex(e),n=U(t)&&hi(this.option(Fr),t);return n&&this._getVisibleEditRowIndex()===e}isEditCell(e,t){return this.isEditRowByIndex(e)&&this._getVisibleEditColumnIndex()===t}getPopupContent(){}_isProcessedItem(e){return!1}_getInsertRowIndex(e,t,n){let o=-1,r=this._dataController,s=this._getInsertAfterOrBeforeKey(t);return!U(s)&&e.length===0?o=0:U(s)&&e.some((a,l)=>{let d=n||this._isProcessedItem(a);if(Ke(a)&&(d||U(a[ru])?hi(a.key,s)&&(o=l):hi(r.keyOf(a),s)&&(o=l)),o>=0){let c=e[o+1];return c&&(c.rowType==="detail"||c.rowType==="detailAdaptive")&&U(t.insertAfterKey)?void 0:(U(t.insertAfterKey)&&(o+=1),!0)}}),o}_generateNewItem(e){var t;let n={key:e},o=(t=this._getInternalData(e))===null||t===void 0?void 0:t.insertInfo;return o!=null&&o[ru]&&(n[ru]=o[ru]),n}_getLoadedRowIndex(e,t,n){let o=this._getInsertRowIndex(e,t,n),r=this._dataController;if(o<0){let s=this._getNewRowPosition(),a=r.pageIndex(),l=this._getInsertAfterOrBeforeKey(t);s!==ny&&a===0&&!U(l)?o=0:s===ny&&r.isLastPageLoaded()&&(o=e.length)}return o}processItems(e,t){let{changeType:n}=t;return this.update(n),this.getChanges().forEach(r=>{var s;if(!(r.type===Ga))return;let{key:l}=r,d=(s=this._getInternalData(l))===null||s===void 0?void 0:s.insertInfo;(!U(l)||!U(d))&&(d=this._addInsertInfo(r),l=d.key);let c=this._getLoadedRowIndex(e,r),u=this._generateNewItem(l);c>=0&&e.splice(c,0,u)}),e}processDataItem(e,t,n){let o=t.visibleColumns,r=e.data[ru]?e.data.key:e.key,s=this.getChanges(),a=De.getIndexByKey(r,s);e.isEditing=!1,a>=0&&this._processDataItemCore(e,s[a],r,o,n)}_processDataItemCore(e,t,n,o,r){let{data:s,type:a}=t;switch(a){case Ga:e.isNewRow=!0,e.key=n,e.data=s;break;case e_:e.modified=!0,e.oldData=e.data,e.data=xl(e.data,s),e.modifiedValues=r(s,o,!0);break;case Tl:e.removed=!0}}_initNewRow(e){if(this.executeAction("onInitNewRow",e),e.promise){let t=new le;return Be(Yn(e.promise)).done(t.resolve).fail(t_(t)).fail(n=>this._fireDataErrorOccurred(n)),t}}_createInsertInfo(){let e={};return e[ru]=this._getInsertIndex(),e}_addInsertInfo(e,t){var n;let o;e.key=this.getChangeKeyValue(e);let{key:r}=e;if(o=(n=this._getInternalData(r))===null||n===void 0?void 0:n.insertInfo,!U(o)){let s=this._getInsertAfterOrBeforeKey(e);o=this._createInsertInfo(),U(s)||this._setInsertAfterOrBeforeKey(e,t)}return this._addInternalData({insertInfo:o,key:r}),{insertInfo:o,key:r}}getChangeKeyValue(e){if(U(e.key))return e.key;let t=this._dataController.key(),n;return e.data&&t&&!Array.isArray(t)&&(n=e.data[t]),U(n)||(n=_Z()),n}_setInsertAfterOrBeforeKey(e,t){let n=this.getView("rowsView"),o=this._dataController,r=o.items(!0),s=this._getNewRowPosition();switch(s){case JL:case ny:break;case PO:case eN:if(r.length){let a=s===PO?0:r.length-1;e[a===0?"insertBeforeKey":"insertAfterKey"]=r[a].key}break;default:{let l=s===tN?n?.getBottomVisibleItemIndex():n?.getTopVisibleItemIndex(),d=o.getVisibleRows()[l];d&&(!d.isEditing&&d.rowType==="detail"||d.rowType==="detailAdaptive")&&l++;let c=o.getKeyByRowIndex(l);U(c)&&(e.insertBeforeKey=c)}}}_getInsertIndex(){let e=0;return this.getChanges().forEach(t=>{var n;let o=(n=this._getInternalData(t.key))===null||n===void 0?void 0:n.insertInfo;U(o)&&t.type===Ga&&o[ru]>e&&(e=o[ru])}),e+1}_getInsertAfterOrBeforeKey(e){return e.insertAfterKey??e.insertBeforeKey}_getPageIndexToInsertRow(){let e=this._getNewRowPosition(),t=this._dataController,n=t.pageIndex(),o=t.pageCount()-1;return e===JL&&n!==0?0:e===ny&&n!==o?o:-1}addRow(e){let t=this._dataController;return t.store()?this._addRow(e):(t.fireError("E1052",this.component.NAME),new le().reject())}_addRow(e){let n=this._dataController.store(),o=n&&n.key(),r={data:{}},s=this._getVisibleEditRowIndex(),a=new le;return this.refresh({allowCancelEditing:!0}),this._allowRowAdding()?(o||(r.data.__KEY__=String(new yi)),Be(this._initNewRow(r,e)).done(()=>{this._allowRowAdding()?Be(this._addRowCore(r.data,e,s)).done(a.resolve).fail(a.reject):a.reject("cancel")}).fail(a.reject),a.promise()):(Be(this._navigateToNewRow(s)).done(a.resolve).fail(a.reject),a.promise())}_allowRowAdding(e){return!(this._getInsertIndex()>1)}_addRowCore(e,t,n){let o={data:e,type:Ga},r=this._getVisibleEditRowIndex(),s=this._addInsertInfo(o,t),{key:a}=s;return this._setEditRowKey(a,!0),this._addChange(o),this._navigateToNewRow(n,o,r)}_navigateToNewRow(e,t,n){let o=new le,r=this._dataController;if(n=n??-1,t=t??this.getChanges().filter(c=>c.type===Ga)[0],!t)return o.reject("cancel").promise();let s=this._getPageIndexToInsertRow(),a=this._getLoadedRowIndex(r.items(),t,!0),l=c=>{var u;Be((u=this._focusController)===null||u===void 0?void 0:u.navigateToRow(c)).done(()=>{a=r.getRowIndexByKey(t.key),o.resolve()})},d=this._getInsertAfterOrBeforeKey(t);return s>=0?r.pageIndex(s).done(()=>{l(t.key)}).fail(o.reject):a<0&&U(d)?l(d):(r.updateItems({changeType:"update",rowIndices:[e,n,a]}),a=r.getRowIndexByKey(t.key),a<0?l(t.key):o.resolve()),o.done(()=>{var c;(c=this._rowsView)===null||c===void 0||c.waitAsyncTemplates(!0).done(()=>{this._showAddedRow(a),this._afterInsertRow(t.key)})}),o.promise()}_showAddedRow(e){this._focusFirstEditableCellInRow(e)}_beforeFocusElementInRow(e){}_focusFirstEditableCellInRow(e){var t;let n=this._dataController,o=n.getKeyByRowIndex(e),r=this.getFirstEditableCellInRow(e);(t=this._keyboardNavigationController)===null||t===void 0||t.focus(r),this.option("focusedRowKey",o),this._editCellInProgress=!0,this._delayedInputFocus(r,()=>{e=n.getRowIndexByKey(o),this._editCellInProgress=!1,this._beforeFocusElementInRow(e)})}_isEditingStart(e){return this.executeAction("onEditingStart",e),e.cancel}_beforeUpdateItems(e,t){}_getVisibleEditColumnIndex(){let e=this.option(ou);return U(e)?this._columnsController.getVisibleColumnIndex(e):-1}_setEditColumnNameByIndex(e,t){var n;let o=this._columnsController.getVisibleColumns();this._setEditColumnName((n=o[e])===null||n===void 0?void 0:n.name,t)}_setEditColumnName(e,t){t?this._silentOption(ou,e):this.option(ou,e)}_resetEditColumnName(){this._setEditColumnName(null,!0)}_getEditColumn(){let e=this.option(ou);return this._getColumnByName(e)}_getColumnByName(e){let t=this._columnsController.getVisibleColumns(),n;return U(e)&&t.some(o=>{if(o.name===e)return n=o,!0}),n}_getVisibleEditRowIndex(e){let t=this._dataController,n=this.option(Fr),o=t.getRowIndexByKey(n);return o===-1?o:o+this._getEditRowIndexCorrection(e)}_getEditRowIndexCorrection(e){let t=e?this._getColumnByName(e):this._getEditColumn();return t?.visibleWidth==="adaptiveHidden"?1:0}_resetEditRowKey(){this._refocusEditCell=!1,this._setEditRowKey(null,!0)}_resetEditIndices(){this._resetEditColumnName(),this._resetEditRowKey()}editRow(e){let t=this._dataController,o=t.items()[e],r={data:o&&o.data,cancel:!1},s=this._getVisibleEditRowIndex();if(o){if(e===s)return!0;if(o.key===void 0){this._dataController.fireError("E1043");return}o.isNewRow||(r.key=o.key),!this._isEditingStart(r)&&(this.resetChanges(),this.init(),this._resetEditColumnName(),this._pageIndex=t.pageIndex(),this._addInternalData({key:o.key,oldData:o.oldData??o.data}),this._setEditRowKey(o.key))}}_editRowFromOptionChanged(e,t){let n=[t,e];this._beforeUpdateItems(n,e,t),this._editRowFromOptionChangedCore(n,e)}_editRowFromOptionChangedCore(e,t,n){this._needFocusEditor=!0,this._dataController.updateItems({changeType:"update",rowIndices:e,cancel:n})}_focusEditorIfNeed(){}_showEditPopup(e,t){}_repaintEditPopup(){}_getEditPopupHiddenHandler(){return e=>{this.isEditing()&&this.cancelEditData()}}_getPopupEditFormTemplate(e){}_getSaveButtonConfig(){let e={text:this.option("editing.texts.saveRowChanges"),onClick:this.saveEditData.bind(this)};return Zn(oo())&&(e.stylingMode="contained",e.type="default"),e}_getCancelButtonConfig(){let e={text:this.option("editing.texts.cancelRowChanges"),onClick:this.cancelEditData.bind(this)};return Zn(oo())&&(e.stylingMode="outlined"),e}_removeInternalData(e){let t=this._getInternalData(e),n=this._internalState.indexOf(t);n>-1&&this._internalState.splice(n,1)}_updateInsertAfterOrBeforeKeys(e,t){let n=e[t];e.forEach(o=>{let r=this._getInsertAfterOrBeforeKey(o);hi(r,n.key)&&(o[U(o.insertAfterKey)?"insertAfterKey":"insertBeforeKey"]=this._getInsertAfterOrBeforeKey(n))})}_removeChange(e){if(e>=0){let t=[...this.getChanges()],{key:n}=t[e];this._removeInternalData(n),this._updateInsertAfterOrBeforeKeys(t,e),t.splice(e,1),this._silentOption(Md,t),hi(this.option(Fr),n)&&this._resetEditIndices()}}executeOperation(e,t){this._lastOperation&&this._lastOperation.reject(),this._lastOperation=e,this.waitForDeferredOperations().done(()=>{e.state()!=="rejected"&&(t(),this._lastOperation=null)}).fail(()=>{e.reject(),this._lastOperation=null})}waitForDeferredOperations(){return Be(...this._deferreds)}_processCanceledEditingCell(){}_repaintEditCell(e,t,n){!e||!e.showEditorAlways||t&&!t.showEditorAlways?(this._editCellInProgress=!0,this._needFocusEditor=!0,this._editorFactoryController.loseFocus(),this._dataController.updateItems({changeType:"update",rowIndices:[n,this._getVisibleEditRowIndex()]})):e!==t&&(this._needFocusEditor=!0,this._dataController.updateItems({changeType:"update",rowIndices:[]}))}_delayedInputFocus(e,t,n){let o=()=>{if(t&&t(),e){let r=e.find(Qg).first();De.focusAndSelectElement(this,r)}this._beforeFocusCallback=null};Ve.real().ios||Ve.real().android?o():(this._beforeFocusCallback&&this._beforeFocusCallback(),clearTimeout(this._inputFocusTimeoutID),n&&(this._beforeFocusCallback=t),this._inputFocusTimeoutID=setTimeout(o))}_focusEditingCell(e,t,n){let o=this._getVisibleEditColumnIndex();t=t||this._rowsView&&this._rowsView._getCellElement(this._getVisibleEditRowIndex(),o),t&&this._delayedInputFocus(t,e,n)}deleteRow(e){this._checkAndDeleteRow(e)}_checkAndDeleteRow(e){let t=this.option("editing"),n=t?.texts,o=t?.confirmDelete,r=n?.confirmDeleteMessage,s=this._dataController.items()[e],a=!this.isEditing()||s.isNewRow;if(s&&a)if(!o||!r)this._deleteRowCore(e);else{let l=n&&n.confirmDeleteTitle,d=U(l)&&l.length>0;ZL(r,l,d).done(c=>{c&&this._deleteRowCore(e)})}}_deleteRowCore(e){let n=this._dataController.items()[e],o=n&&n.key,r=this._getVisibleEditRowIndex();this.refresh();let s=this.getChanges(),a=De.getIndexByKey(o,s);return a>=0?s[a].type===Ga?this._removeChange(a):this._addChange({key:o,type:Tl}):this._addChange({key:o,oldData:n.data,type:Tl}),this._afterDeleteRow(e,r)}_afterDeleteRow(e,t){return this.saveEditData()}undeleteRow(e){let t=this._dataController,n=t.items()[e],o=this._getVisibleEditRowIndex(),r=n&&n.key,s=this.getChanges();if(n){let a=De.getIndexByKey(r,s);if(a>=0){let{data:l}=s[a];Gn(l)?this._removeChange(a):this._addChange({key:r,type:e_}),t.updateItems({changeType:"update",rowIndices:[o,e]})}}}_fireOnSaving(){let e={cancel:!1,promise:null,changes:[...this.getChanges()]};this.executeAction("onSaving",e);let t=new le;return Be(Yn(e.promise)).done(()=>{t.resolve(e)}).fail(n=>{t_(t),this._fireDataErrorOccurred(n),t.resolve({cancel:!0})}),t}_executeEditingAction(e,t,n){if(this.component._disposed)return null;let o=new le;return this.executeAction(e,t),Be(Yn(t.cancel)).done(r=>{r?setTimeout(()=>{o.resolve("cancel")}):n(t).done(o.resolve).fail(t_(o))}).fail(t_(o)),o}_processChanges(e,t,n,o){let r=this._dataController.store();ee(o,(s,a)=>{let l=this._getOldData(a.key),{data:d,type:c}=a,u=ye({},a),h,f;if(!this._beforeSaveEditData(a,s)){switch(c){case Tl:f={data:l,key:a.key,cancel:!1},h=this._executeEditingAction("onRowRemoving",f,()=>r.remove(a.key).done(p=>{n.push({type:"remove",key:p})}));break;case Ga:f={data:d,cancel:!1},h=this._executeEditingAction("onRowInserting",f,()=>r.insert(f.data).done((p,m)=>{U(m)&&(u.key=m),p&&Ke(p)&&p!==f.data&&(u.data=p),n.push({type:"insert",data:p,index:0})}));break;case e_:f={newData:d,oldData:l,key:a.key,cancel:!1},h=this._executeEditingAction("onRowUpdating",f,()=>r.update(a.key,f.newData).done((p,m)=>{p&&Ke(p)&&p!==f.newData&&(u.data=p),n.push({type:"update",key:m,data:p})}))}if(o[s]=u,h){let p=new le;h.always(m=>{t.push({key:a.key,result:m})}).always(p.resolve),e.push(p.promise())}}})}_processRemoveIfError(e,t){let n=e[t];return n?.type===Tl&&t>=0&&e.splice(t,1),!0}_processRemove(e,t,n){let o=e[t];if(!n||!o||o.type===Tl)return this._processRemoveCore(e,t,!n||!o)}_processRemoveCore(e,t,n){return t>=0&&e.splice(t,1),!0}_processSaveEditDataResult(e){let t=!1,n=[...this.getChanges()],o=n.length;for(let r=0;r<e.length;r++){let s=e[r].result,a=s==="cancel",l=De.getIndexByKey(e[r].key,n),d=n[l];if(s&&s instanceof Error){if(d&&this._addInternalData({key:d.key,error:s}),this._fireDataErrorOccurred(s),this._processRemoveIfError(n,l))break}else this._processRemove(n,l,a)&&(t=!a)}return n.length<o&&this._silentOption(Md,n),t}_fireSaveEditDataEvents(e){ee(e,(t,n)=>{let{data:o,key:r,type:s}=n,a=this._addInternalData({key:r}),l={key:r,data:o};switch(a.error&&(l.error=a.error),s){case Tl:this.executeAction("onRowRemoved",q({},l,{data:a.oldData}));break;case Ga:this.executeAction("onRowInserted",l);break;case e_:this.executeAction("onRowUpdated",l)}}),this.executeAction("onSaved",{changes:e})}saveEditData(){let e=new le;return this.waitForDeferredOperations().done(()=>{if(this.isSaving()){this._resolveAfterSave(e);return}Be(this._beforeSaveEditData()).done(t=>{if(t){this._resolveAfterSave(e,{cancel:t});return}this._saving=!0,this._saveEditDataInner().always(()=>{this._saving=!1,this._refocusEditCell&&this._focusEditingCell()}).done(e.resolve).fail(e.reject)}).fail(e.reject)}).fail(e.reject),e.promise()}_resolveAfterSave(e){let{cancel:t,error:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Be(this._afterSaveEditData(t)).done(()=>{e.resolve(n)}).fail(e.reject)}_saveEditDataInner(){let e=new le,t=[],n=[],o=[],r=this._dataController.dataSource();return Be(this._fireOnSaving()).done(s=>{let{cancel:a,changes:l}=s;if(a)return e.resolve().promise();if(this._processChanges(n,t,o,l),n.length)return this._refocusEditCell=!0,r?.beginLoading(),Be(...n).done(()=>{this._processSaveEditDataResult(t)?this._endSaving(o,l,e):(r?.endLoading(),e.resolve())}).fail(d=>{r?.endLoading(),e.resolve(d)}),e.always(()=>{this._refocusEditCell=!0}).promise();this._cancelSaving(e)}).fail(e.reject),e.promise()}_beforeEndSaving(e){this._resetEditIndices()}_endSaving(e,t,n){let o=this._dataController.dataSource();this._beforeEndSaving(t),o?.endLoading(),this._refreshDataAfterSave(e,t,n)}_cancelSaving(e){this.executeAction("onSaved",{changes:[]}),this._resolveAfterSave(e)}_refreshDataAfterSave(e,t,n){let o=this._dataController,r=this.option("editing.refreshMode"),s=r!=="reshape"&&r!=="repaint";s||o.push(e),Be(o.refresh({selection:s,reload:s,load:r==="reshape",changesOnly:this.option("repaintChangesOnly")})).always(()=>{this._fireSaveEditDataEvents(t)}).done(()=>{this._resolveAfterSave(n)}).fail(a=>{this._resolveAfterSave(n,{error:a})})}isSaving(){return this._saving}_updateEditColumn(){let e=this._isEditColumnVisible(),t=this.option("editing.useIcons"),n=YX+(t?` ${nN}`:"");this._columnsController.addCommandColumn({type:"buttons",command:"edit",visible:e,cssClass:n,width:"auto",alignment:"center",cellTemplate:this._getEditCommandCellTemplate(),fixedPosition:"right"}),this._columnsController.columnOption("command:edit",{visible:e,cssClass:n})}_isEditColumnVisible(){return this.option("editing").allowDeleting}_isEditButtonDisabled(){let e=this.hasChanges();return!(U(this.option("editing.editRowKey"))||e)}_updateEditButtons(){let e=this._isEditButtonDisabled();this._headerPanelView&&(this._headerPanelView.setToolbarItemDisabled("saveButton",e),this._headerPanelView.setToolbarItemDisabled("revertButton",e))}_applyModified(e,t){e&&e.addClass(oN)}_beforeCloseEditCellInBatchMode(e){}cancelEditData(){let e=this.getChanges(),t={cancel:!1,changes:e};this.executeAction("onEditCanceling",t),t.cancel||(this._cancelEditDataCore(),this.executeAction("onEditCanceled",{changes:e}))}_cancelEditDataCore(){let e=this._getVisibleEditRowIndex();this._beforeCancelEditData(),this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey(),this._afterCancelEditData(e)}_afterCancelEditData(e){this._dataController.updateItems({repaintChangesOnly:this.option("repaintChangesOnly")})}_hideEditPopup(){}hasEditData(){return this.hasChanges()}update(e){let t=this._dataController;t&&this._pageIndex!==t.pageIndex()&&(e==="refresh"&&this.refresh({isPageChanged:!0}),this._pageIndex=t.pageIndex()),this._updateEditButtons()}_getRowIndicesForCascadeUpdating(e,t){return t?[]:[e.rowIndex]}addDeferred(e){this._deferreds.includes(e)||(this._deferreds.push(e),e.always(()=>{let t=this._deferreds.indexOf(e);t>=0&&this._deferreds.splice(t,1)}))}_prepareChange(e,t,n){var o;let r={},s=(o=e.row)===null||o===void 0?void 0:o.data,a=e.key,l=new le;return a!==void 0&&(e.value=t,Yn(e.column.setCellValue(r,t,q(!0,{},s),n)).done(()=>{l.resolve({data:r,key:a,oldData:s,type:e_})}).fail(t_(l)).fail(c=>this._fireDataErrorOccurred(c)),U(n)&&e.column.displayValueMap&&(e.column.displayValueMap[t]=n),this._updateRowValues(e),this.addDeferred(l)),l}_updateRowValues(e){if(e.values){let t=this._dataController,n=t.getRowIndexByKey(e.key),o=t.getVisibleRows()[n];o&&(e.row.values=o.values,e.values=o.values),e.values[e.columnIndex]=e.value}}updateFieldValue(e,t,n,o){let r=e.key,s=new le;return r===void 0&&this._dataController.fireError("E1043"),e.column.setCellValue?this._prepareChange(e,t,n).done(a=>{Be(this._applyChange(e,a,o)).always(()=>{s.resolve()})}):s.resolve(),s.promise()}_focusPreviousEditingCellIfNeed(e){if(this.hasEditData()&&!this.isEditCell(e.rowIndex,e.columnIndex))return this._focusEditingCell(),this._updateEditRow(e.row,!0),!0}_needUpdateRow(e){let t=this._columnsController.getVisibleColumns();e||(e=this._getEditColumn());let n=e&&e.setCellValue!==e.defaultSetCellValue,o=t.some(r=>r.calculateCellValue!==r.defaultCalculateCellValue);return n||o}_applyChange(e,t,n){let o=ye({},e,{forceUpdateRow:n});return this._addChange(t,o),this._updateEditButtons(),this._applyChangeCore(e,o.forceUpdateRow)}_applyChangeCore(e,t){let n=e.column.setCellValue!==e.column.defaultSetCellValue,{row:o}=e;o&&(t||n?this._updateEditRow(o,t,n):o.update&&o.update())}_updateEditRowCore(e,t,n){this._dataController.updateItems({changeType:"update",rowIndices:this._getRowIndicesForCascadeUpdating(e,t)})}_updateEditRow(e,t,n){t?this._updateRowImmediately(e,t,n):this._updateRowWithDelay(e,n)}_updateRowImmediately(e,t,n){this._updateEditRowCore(e,!t,n),this._validateEditFormAfterUpdate(e,n),t||this._focusEditingCell()}_updateRowWithDelay(e,t){let n=new le;this.addDeferred(n),setTimeout(()=>{var o;let r=((o=this._editForm)===null||o===void 0?void 0:o.element())||this.component.$element().get(0),s=I(be.getActiveElement(r)),a=this._rowsView.getCellIndex(s,e.rowIndex),l=s.get(0),d=De.getSelectionRange(l);if(this._updateEditRowCore(e,!1,t),this._validateEditFormAfterUpdate(e,t),a>=0){let c=this._rowsView._getCellElement(e.rowIndex,a);this._delayedInputFocus(c,()=>{setTimeout(()=>{var u;l=be.getActiveElement((u=this.component.$element())===null||u===void 0?void 0:u.get(0)),d.selectionStart>=0&&De.setSelectionRange(l,d)})})}n.resolve()})}_validateEditFormAfterUpdate(){}_addChange(e,t){var n;let o=t?.row,r=[...this.getChanges()],s=De.getIndexByKey(e.key,r);s<0&&(s=r.length,this._addInternalData({key:e.key,oldData:e.oldData}),delete e.oldData,r.push(e));let a=ye({},r[s]);return a&&(e.data&&(a.data=xl(a.data,e.data)),(!a.type||!e.data)&&e.type&&(a.type=e.type),o&&(o.oldData=this._getOldData(o.key),o.data=xl(o.data,e.data))),r[s]=a,this._silentOption(Md,r),t&&a!==((n=this.getChanges())===null||n===void 0?void 0:n[s])&&(t.forceUpdateRow=!0),a}_getFormEditItemTemplate(e,t){return t.editCellTemplate||this._getDefaultEditorTemplate()}getColumnTemplate(e){let{column:t}=e,n=e.row&&e.row.rowIndex,o,r=this.isRowBasedEditMode(),s=this.isEditRow(n),a=this.isEditCell(n,e.columnIndex),l;return(t.showEditorAlways||t.setCellValue&&(s&&t.allowEditing||a))&&(e.rowType==="data"||e.rowType==="detailAdaptive")&&!t.command?(((this.allowUpdating(e)||s)&&t.allowEditing||a)&&(s||!r)&&(t.showEditorAlways&&!r&&(l={cancel:!1,key:e.row.isNewRow?void 0:e.row.key,data:e.row.data,column:t},this._isEditingStart(l)),(!l||!l.cancel)&&(e.setValue=(c,u)=>{this.updateFieldValue(e,c,u)})),o=t.editCellTemplate||this._getDefaultEditorTemplate()):t.command==="detail"&&e.rowType==="detail"&&s&&(o=this===null||this===void 0?void 0:this.getEditFormTemplate(e)),o}_createButton(e,t,n,o){let r=iZ[t.name],s=this.option("editing.useIcons"),a=this.option("useLegacyColumnButtonTemplate"),l=I("<a>").attr("href","#").addClass(UX).addClass(t.cssClass);if(t.template&&a)this._rowsView.renderTemplate(e,t.template,n,!0);else{if(t.template)l=I("<span>").addClass(t.cssClass);else if(s&&r||t.icon){r=t.icon||r;let d=Fc(r);d==="image"||d==="svg"?l=Xr(r).addClass(t.cssClass):l.addClass(`dx-icon${d==="dxIcon"?"-":" "}${r}`).attr("title",t.text),l.addClass(GX),e.addClass(nN);let c=this.getButtonLocalizationNames()[t.name];c&&l.attr("aria-label",de.format(c))}else l.text(t.text);U(t.hint)&&l.attr("title",t.hint),this._isButtonDisabled(t,n)?l.addClass("dx-state-disabled"):(!t.template||t.onClick)&&X.on(l,Se("click",QX),this.createAction(d=>{var c;(c=t.onClick)===null||c===void 0||c.call(t,q({},d,{row:n.row,column:n.column})),d.event.preventDefault(),d.event.stopPropagation()})),e.append(l),t.template&&(n.renderAsync=!1,this._rowsView.renderTemplate(l,t.template,n,!0,o))}}getButtonLocalizationNames(){return{edit:"dxDataGrid-editingEditRow",save:"dxDataGrid-editingSaveRowChanges",delete:"dxDataGrid-editingDeleteRow",undelete:"dxDataGrid-editingUndeleteRow",cancel:"dxDataGrid-editingCancelRowChanges"}}prepareButtonItem(e,t,n,o){let r=this.option("editing.texts")??{},s={revert:r.cancelAllChanges,save:r.saveAllChanges,addRow:r.addRow},a={revert:"cancel",save:"save",addRow:"addrow"}[t],l=s[t],d=(a==="save"||a==="cancel")&&this._isEditButtonDisabled();return{widget:"dxButton",options:{onInitialized:c=>{I(c.element).addClass(e._getToolbarButtonClass(`${qX} ${this.addWidgetPrefix(a)}-button`))},icon:`edit-button-${a}`,disabled:d,onClick:()=>{setTimeout(()=>{this[n]()})},text:l,hint:l},showText:"inMenu",name:`${t}Button`,location:"after",locateInMenu:"auto",sortIndex:o}}prepareEditButtons(e){let t=this.option("editing")??{},n=[];return t.allowAdding&&n.push(this.prepareButtonItem(e,"addRow","addRow",20)),n}highlightDataCell(e,t){this.shouldHighlightCell(t)&&e.addClass(oN)}_afterInsertRow(e){}_beforeSaveEditData(e){if(e&&!U(e.key)&&U(e.type))return!0}_afterSaveEditData(){}_beforeCancelEditData(){}_allowEditAction(e,t){let n=this.option(`editing.${e}`);return Ie(n)&&(n=n({component:this.component,row:t.row})),n}allowUpdating(e,t){let n=this.option("editing.startEditAction")??eZ;return(arguments.length>1?n===t||t==="down":!0)&&this._allowEditAction("allowUpdating",e)}allowDeleting(e){return this._allowEditAction("allowDeleting",e)}isCellModified(e){var t,n;let{columnIndex:o}=e,r=e==null||(t=e.row)===null||t===void 0||(t=t.modifiedValues)===null||t===void 0?void 0:t[o];return e!=null&&(n=e.row)!==null&&n!==void 0&&n.isNewRow&&(r=e.value),r!==void 0}isNewRowInEditMode(){let e=this._getVisibleEditRowIndex(),t=this._dataController.items();return e>=0?t[e].isNewRow:!1}_isRowDeleteAllowed(){}shouldHighlightCell(e){return this.isCellModified(e)&&e.column.setCellValue&&(this.getEditMode()!==Yh||!e.row.isEditing)}},hN=i=>class extends i{reload(e,t){return!t&&this._editingController.refresh(),super.reload.apply(this,arguments)}repaintRows(){if(!this._editingController.isSaving())return super.repaintRows.apply(this,arguments)}_updateEditRow(e){let t=this.option(Fr),n=De.getIndexByKey(t,e),o=e[n];if(o){var r;o.isEditing=!0,(r=this._updateEditItem)===null||r===void 0||r.call(this,o)}}_updateItemsCore(e){super._updateItemsCore(e),this._updateEditRow(this.items(!0))}_applyChangeUpdate(e){this._updateEditRow(e.items),super._applyChangeUpdate(e)}_applyChangesOnly(e){this._updateEditRow(e.items),super._applyChangesOnly(e)}_processItems(e,t){return e=this._editingController.processItems(e,t),super._processItems(e,t)}_processDataItem(e,t){return this._editingController.processDataItem(e,t,this.generateDataValues),super._processDataItem(e,t)}_processItem(e,t){return e=super._processItem(e,t),e.isNewRow&&(t.dataIndex--,delete e.dataIndex),e}_getChangedColumnIndices(e,t,n,o){if(!(e.isNewRow!==t.isNewRow||e.removed!==t.removed))return super._getChangedColumnIndices.apply(this,arguments)}_isCellChanged(e,t,n,o,r){let s=e.cells&&e.cells[o],a=this._editingController&&this._editingController.isEditCell(n,o);return r&&a?!1:s&&s.column&&!s.column.showEditorAlways&&s.isEditing!==a?!0:super._isCellChanged.apply(this,arguments)}needToRefreshOnDataSourceChange(e){return!(Array.isArray(e.value)&&e.value===e.previousValue&&this._editingController.isSaving())}_handleDataSourceChange(e){let t=super._handleDataSourceChange(e),n=this.option("editing.changes"),o=e.value;if(Array.isArray(o)&&n.length){let r=o.map(d=>this.keyOf(d)),s=n.filter(d=>d.type==="insert"||r.some(c=>hi(d.key,c)));s.length!==n.length&&this.option("editing.changes",s);let a=this.option("editing.editRowKey");!s.some(d=>d.type==="insert"&&hi(a,d.key))&&r.every(d=>!hi(a,d))&&this.option("editing.editRowKey",null)}return t}},FIe=i=>class extends i{getCellIndex(e,t){if(!e.is("td")&&t>=0){let n=this.getCellElements(t),o=-1;return ee(n,(r,s)=>{I(s).find(e).length&&(o=r)}),o}return super.getCellIndex.apply(this,arguments)}publicMethods(){return super.publicMethods().concat(["cellValue"])}_getCellTemplate(e){return this._editingController.getColumnTemplate(e)||super._getCellTemplate(e)}_createRow(e){let t=super._createRow.apply(this,arguments);if(e){let n=!!e.removed,o=!!e.isNewRow,r=!!e.modified;o&&t.addClass(XX),r&&t.addClass(ZX),(o||n)&&t.removeClass(KX)}return t}_getColumnIndexByElement(e){let t=e.closest("table"),n=this.getTableElements();for(;t.length&&!n.filter(t).length;)e=t.closest("td"),t=e.closest("table");return this._getColumnIndexByElementCore(e)}_getColumnIndexByElementCore(e){let t=e.closest(`.${Dl}> td:not(.dx-master-detail-cell)`);return this.getCellIndex(t)}_editCellByClick(e,t){let n=this._editingController,o=I(e.event.target),r=this._getColumnIndexByElement(o),s=this._dataController.items()[e.rowIndex],a=n.allowUpdating({row:s},t)||s&&s.isNewRow,l=this._columnsController.getVisibleColumns()[r],d=n.isEditCell(e.rowIndex,r),c=a&&l&&(l.allowEditing||d),u=this.option("editing.startEditAction")||"click",h=l&&l.showEditorAlways;if(d)return!0;if(t==="down")return(Ve.real().ios||Ve.real().android)&&ka(),h&&c&&n.editCell(e.rowIndex,r);if(t==="click"&&u==="dblClick"&&this._pointerDownTarget===o.get(0)){let p=s?.isNewRow;n.closeEditCell(!1,p)}if(c&&t===u)return n.editCell(e.rowIndex,r)||n.isEditRow(e.rowIndex)}_rowPointerDown(e){this._pointerDownTarget=e.event.target,this._pointerDownTimeout=setTimeout(()=>{this._editCellByClick(e,"down")})}_rowClickTreeListHack(e){super._rowClick.apply(this,arguments)}_rowClick(e){let t=I(e.rowElement).hasClass(this.addWidgetPrefix(Xg));e.event[FO]=this.component,!this._editCellByClick(e,"click")&&!t&&super._rowClick.apply(this,arguments)}_rowDblClickTreeListHack(e){super._rowDblClick.apply(this,arguments)}_rowDblClick(e){this._editCellByClick(e,"dblClick")||super._rowDblClick.apply(this,arguments)}_cellPrepared(e,t){var n;let o=this._editingController,r=!!t.column.command,s=t.setValue,a=o.isEditRow(t.rowIndex),l=aN(a,t);if(lN(a,t)){let{alignment:c}=t.column;e.toggleClass(this.addWidgetPrefix(WX),!s).toggleClass(JX,!s),c&&e.find(ey).first().css("textAlign",c)}l&&this._editCellPrepared(e);let d=!!((n=t.column)!==null&&n!==void 0&&n.cellTemplate);t.column&&!r&&(!d||o.shouldHighlightCell(t))&&o.highlightDataCell(e,t),super._cellPrepared.apply(this,arguments)}_getCellOptions(e){let t=super._getCellOptions(e),{columnIndex:n,row:o}=e;return t.isEditing=this._editingController.isEditCell(t.rowIndex,t.columnIndex),t.removed=o.removed,o.modified&&(t.modified=o.modifiedValues[n]!==void 0),t}_setCellAriaAttributes(e,t){super._setCellAriaAttributes(e,t),t.removed&&this.setAria("roledescription",de.format("dxDataGrid-ariaDeletedCell"),e),t.modified&&this.setAria("roledescription",de.format("dxDataGrid-ariaModifiedCell"),e),t.column.allowEditing&&!t.removed&&!t.modified&&t.rowType==="data"&&t.column.calculateCellValue===t.column.defaultCalculateCellValue&&this._editingController.isCellBasedEditMode()&&this.setAria("roledescription",de.format("dxDataGrid-ariaEditableCell"),e)}_createCell(e){let t=super._createCell(e),n=this._editingController.isEditRow(e.rowIndex);return lN(n,e)&&t.addClass(qh),t}cellValue(e,t,n,o){let r=this.getCellOptions(e,t);if(r){if(n===void 0)return r.value;this._editingController.updateFieldValue(r,n,o,!0)}}dispose(){super.dispose.apply(this,arguments),clearTimeout(this._pointerDownTimeout)}_renderCore(){return super._renderCore.apply(this,arguments),this.waitAsyncTemplates(!0).done(()=>{this._editingController._focusEditorIfNeed()})}_editCellPrepared(){}_formItemPrepared(){}},PIe=i=>class extends i{optionChanged(e){let{fullName:t}=e;switch(e.name){case"editing":{t&&![Zg,Md,ou,Fr].some(r=>r===t)&&this._invalidate(),super.optionChanged(e);break}case"useLegacyColumnButtonTemplate":e.handled=!0;break;default:super.optionChanged(e)}}_getToolbarItems(){let e=super._getToolbarItems();return this._editingController.prepareEditButtons(this).concat(e)}isVisible(){let e=this._editingController.option("editing");return super.isVisible()||e?.allowAdding}},LO={defaultOptions:()=>({editing:{mode:"row",refreshMode:"full",newRowPosition:iN,allowAdding:!1,allowUpdating:!1,allowDeleting:!1,useIcons:!1,selectTextOnEditStart:!1,confirmDelete:!0,texts:{editRow:de.format("dxDataGrid-editingEditRow"),saveAllChanges:de.format("dxDataGrid-editingSaveAllChanges"),saveRowChanges:de.format("dxDataGrid-editingSaveRowChanges"),cancelAllChanges:de.format("dxDataGrid-editingCancelAllChanges"),cancelRowChanges:de.format("dxDataGrid-editingCancelRowChanges"),addRow:de.format("dxDataGrid-editingAddRow"),deleteRow:de.format("dxDataGrid-editingDeleteRow"),undeleteRow:de.format("dxDataGrid-editingUndeleteRow"),confirmDeleteMessage:de.format("dxDataGrid-editingConfirmDeleteMessage"),confirmDeleteTitle:""},form:{colCount:2},popup:{},startEditAction:"click",editRowKey:null,editColumnName:null,changes:[]},useLegacyColumnButtonTemplate:!1}),controllers:{editing:uN},extenders:{controllers:{data:hN},views:{rowsView:FIe,headerPanel:PIe}}};var LIe=i=>class extends hN(i){_changeRowExpandCore(e){let t=this._editingController;return Array.isArray(e)&&t&&t.refresh(),super._changeRowExpandCore.apply(this,arguments)}};qe.registerModule("editing",ye({},LO,{extenders:ye({},LO.extenders,{controllers:ye({},LO.extenders.controllers,{data:LIe})})}));var NIe=i=>class extends i{isRowEditMode(){return this.getEditMode()===Yh}_afterCancelEditData(e){let t=this._dataController;this.isRowBasedEditMode()&&e>=0?t.updateItems({changeType:"update",rowIndices:[e,e+1]}):super._afterCancelEditData(e)}_isDefaultButtonVisible(e,t){let n=this.isRowBasedEditMode(),r=!this.isPopupEditMode()&&t.row&&hi(t.row.key,this.option(Fr));if(n)switch(e.name){case"edit":return!r&&this.allowUpdating(t);case"delete":return super._isDefaultButtonVisible(e,t)&&!r;case"save":case"cancel":return r;default:return super._isDefaultButtonVisible(e,t)}return super._isDefaultButtonVisible(e,t)}isEditRow(e){return this.isRowBasedEditMode()&&this.isEditRowByIndex(e)}_cancelSaving(e){this.isRowBasedEditMode()&&(this.hasChanges()||this._cancelEditDataCore()),super._cancelSaving(e)}_refreshCore(e){let{allowCancelEditing:t}=e??{};if(this.isRowBasedEditMode()){let n=this.getChanges().filter(o=>o.type==="update").length>0;this.init(),t&&n&&this._cancelEditDataCore()}super._refreshCore(e)}_isEditColumnVisible(){let e=super._isEditColumnVisible(),t=this.option("editing"),n=this.isRowEditMode(),o=t.allowUpdating||t.allowAdding;return e||n&&o}_focusEditorIfNeed(){let e=this.getEditMode();if(this._needFocusEditor){if($X.includes(e)){let t=this.getFocusedCellInRow(this._getVisibleEditRowIndex());this._delayedInputFocus(t,()=>{t&&this.component.focus(t)})}this._needFocusEditor=!1}}},BIe=i=>class extends i{_getChangedColumnIndices(e,t,n,o){if(!(this._editingController.isRowBasedEditMode()&&e.isEditing!==t.isEditing))return super._getChangedColumnIndices.apply(this,arguments)}},VIe=i=>class extends i{_createRow(e){let t=super._createRow.apply(this,arguments);return e&&this._editingController.isEditRow(e.rowIndex)&&(t.addClass(sN),t.removeClass(QL),e.rowType==="detail"&&t.addClass(this.addWidgetPrefix(Xg))),t}_update(e){super._update(e),e.changeType==="updateSelection"&&this.getTableElements().children("tbody").children(`.${sN}`).removeClass(QL)}},xZ={extenders:{controllers:{editing:NIe,data:BIe},views:{rowsView:VIe}}};qe.registerModule("editingRowBased",xZ);var CZ="dx-responsivebox-screen-";var wZ=Sl.inherit({_getDefaultOptions(){return q(this.callBase(),{rows:[],cols:[],screenByWidth:null,singleColumnScreen:"",height:"100%",width:"100%",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,onLayoutChanged:null,currentScreenFactor:void 0})},_init(){this.option("screenByWidth")||this._options.silent("screenByWidth",xb),this.callBase(),this._initLayoutChangedAction()},_initLayoutChangedAction(){this._layoutChangedAction=this._createActionByOption("onLayoutChanged",{excludeValidators:["disabled","readonly"]})},_itemClass:()=>"dx-box-item",_itemDataKey:()=>"dxBoxItemData",_initMarkup(){this.callBase(),this.$element().addClass("dx-responsivebox")},_renderItems(){this._setScreenSize(),this._screenItems=this._itemsByScreen(),this._prepareGrid(),this._spreadItems(),this._layoutItems(),this._linkNodeToItem()},_itemOptionChanged(i){let e=this._findItemElementByItem(i);e.length&&(this._refreshItem(e,i),this._clearItemNodeTemplates(),this._update(!0))},_setScreenSize(){let i=this._getCurrentScreen();this._removeScreenSizeClass(),this.$element().addClass(CZ+i),this.option("currentScreenFactor",i)},_removeScreenSizeClass(){let i=this.option("currentScreenFactor");i&&this.$element().removeClass(CZ+i)},_prepareGrid(){let i=this._grid=[];this._prepareRowsAndCols(),ee(this._rows,()=>{let e=[];i.push(e),ee(this._cols,()=>{e.push(this._createEmptyCell())})})},getSingleColumnRows(){let i=this.option("rows"),e=this._screenItems.length;if(i.length){let t=this._filterByScreen(i),n=[];for(let o=0;o<e;o++){let r=this._defaultSizeConfig();o<t.length&&U(t[o].shrink)&&(r.shrink=t[o].shrink),n.push(r)}return n}return this._defaultSizeConfig(e)},_prepareRowsAndCols(){this._isSingleColumnScreen()?(this._prepareSingleColumnScreenItems(),this._rows=this.getSingleColumnRows(),this._cols=this._defaultSizeConfig(1)):(this._rows=this._sizesByScreen(this.option("rows")),this._cols=this._sizesByScreen(this.option("cols")))},_isSingleColumnScreen(){return this._screenRegExp().test(this.option("singleColumnScreen"))||!this.option("rows").length||!this.option("cols").length},_prepareSingleColumnScreenItems(){this._screenItems.sort((i,e)=>i.location.row-e.location.row||i.location.col-e.location.col),ee(this._screenItems,(i,e)=>{q(e.location,{row:i,col:0,rowspan:1,colspan:1})})},_sizesByScreen(i){return tn(this._filterByScreen(i),e=>q(this._defaultSizeConfig(),e))},_createDefaultSizeConfig:()=>({ratio:1,baseSize:0,minSize:0,maxSize:0}),_defaultSizeConfig(i){let e=this._createDefaultSizeConfig();if(!arguments.length)return e;let t=[];for(let n=0;n<i;n++)t.push(e);return t},_filterByScreen(i){let e=this._screenRegExp();return vo(i,t=>!t.screen||e.test(t.screen))},_screenRegExp(){let i=this._getCurrentScreen();return new RegExp(`(^|\\s)${i}($|\\s)`,"i")},_getCurrentScreen(){let i=this._screenWidth();return this.option("screenByWidth")(i)},_screenWidth:()=>it()?Qe(et()):1920,_createEmptyCell:()=>({item:{},location:{colspan:1,rowspan:1}}),_spreadItems(){ee(this._screenItems,(i,e)=>{let t=e.location||{},n=t.col,o=t.row,r=this._grid[o],s=r&&r[n];this._occupyCells(s,e)})},_itemsByScreen(){return this.option("items").reduce((i,e)=>{let t=e.location||{};return t=ht(t)?[t]:t,this._filterByScreen(t).forEach(n=>{i.push({item:e,location:q({rowspan:1,colspan:1},n)})}),i},[])},_occupyCells(i,e){!i||this._isItemCellOccupied(i,e)||(q(i,e),this._markSpanningCell(i))},_isItemCellOccupied(i,e){if(!Gn(i.item))return!0;let t=!1;return this._loopOverSpanning(e.location,n=>{t=t||!Gn(n.item)}),t},_loopOverSpanning(i,e){let t=i.row+i.rowspan-1,n=i.col+i.colspan-1,o=Math.min(t,this._rows.length-1),r=Math.min(n,this._cols.length-1);i.rowspan-=t-o,i.colspan-=n-r;for(let s=i.row;s<=o;s++)for(let a=i.col;a<=r;a++)(s!==i.row||a!==i.col)&&e(this._grid[s][a])},_markSpanningCell(i){this._loopOverSpanning(i.location,e=>{q(e,{item:i.item,spanningCell:i})})},_linkNodeToItem(){ee(this._itemElements(),(i,e)=>{let t=I(e),n=t.data("dxBoxItemData");n.box||(n.node=t.children())})},_layoutItems(){let i=this._grid.length,e=i&&this._grid[0].length;if(!i&&!e)return;let t=this._layoutBlock({direction:"col",row:{start:0,end:i-1},col:{start:0,end:e-1}}),n=this._prepareBoxConfig(t.box||{direction:"row",items:[q(t,{ratio:1})]});q(n,this._rootBoxConfig(n.items)),this._$root=I("<div>").appendTo(this._itemContainer()),this._createComponent(this._$root,af,n)},_rootBoxConfig(i){return{width:"100%",height:"100%",items:ee(i,(t,n)=>{this._needApplyAutoBaseSize(n)&&q(n,{baseSize:"auto"})}),itemTemplate:this._getTemplateByOption("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this._createActionByOption("onItemHold"),onItemClick:this._createActionByOption("onItemClick"),onItemContextMenu:this._createActionByOption("onItemContextMenu"),onItemRendered:this._createActionByOption("onItemRendered")}},_needApplyAutoBaseSize:i=>!i.baseSize&&(!i.minSize||i.minSize==="auto")&&(!i.maxSize||i.maxSize==="auto"),_prepareBoxConfig(i){return q(i||{},{crossAlign:"stretch",onItemStateChanged:this.option("onItemStateChanged")})},_layoutBlock(i){return this._isSingleItem(i)?this._itemByCell(i.row.start,i.col.start):this._layoutDirection(i)},_isSingleItem(i){let e=this._grid[i.row.start][i.col.start].location,t=i.row.end-i.row.start===e.rowspan-1,n=i.col.end-i.col.start===e.colspan-1;return t&&n},_itemByCell(i,e){let t=this._grid[i][e];return t.spanningCell?null:t.item},_layoutDirection(i){let e=[],{direction:t}=i,n=this._crossDirection(t),o;for(;o=this._nextBlock(i);){if(this._isBlockIndivisible(i.prevBlockOptions,o))throw bt.Error("E1025");let r=this._layoutBlock({direction:n,row:o.row,col:o.col,prevBlockOptions:i});r&&(q(r,this._blockSize(o,n)),e.push(r)),i[n].start=o[n].end+1}return{box:this._prepareBoxConfig({direction:t,items:e})}},_isBlockIndivisible:(i,e)=>i&&i.col.start===e.col.start&&i.col.end===e.col.end&&i.row.start===e.row.start&&i.row.end===e.row.end,_crossDirection:i=>i==="col"?"row":"col",_nextBlock(i){let{direction:e}=i,t=this._crossDirection(e),n=i[e].start,o=i[e].end,r=i[t].start;if(r>i[t].end)return null;let s=1;for(let l=r;l<r+s;l++){let d=1;for(let h=n;h<=o;h++){let f=this._cellByDirection(e,h,l);d=Math.max(d,f.location[`${t}span`])}let c=l+d,u=r+s;c>u&&(s+=c-u)}let a={};return a[e]={start:n,end:o},a[t]={start:r,end:r+s-1},a},_cellByDirection(i,e,t){return i==="col"?this._grid[t][e]:this._grid[e][t]},_blockSize(i,e){let t=e==="row"?"auto":0,n=e==="row"?this._rows:this._cols,o=q(this._createDefaultSizeConfig(),{ratio:0});for(let r=i[e].start;r<=i[e].end;r++){let s=n[r];o.ratio+=s.ratio,o.baseSize+=s.baseSize,o.minSize+=s.minSize,o.maxSize+=s.maxSize,U(s.shrink)&&(o.shrink=s.shrink)}return o.minSize=o.minSize?o.minSize:t,o.maxSize=o.maxSize?o.maxSize:"auto",this._isSingleColumnScreen()&&(o.baseSize="auto"),o},_update(i){let e=this._$root;this._renderItems(),e&&(i?e.remove():(e.detach(),this._saveAssistantRoot(e))),this._layoutChangedAction()},_saveAssistantRoot(i){this._assistantRoots=this._assistantRoots||[],this._assistantRoots.push(i)},_dispose(){this._clearItemNodeTemplates(),this._cleanUnusedRoots(),this.callBase.apply(this,arguments)},_cleanUnusedRoots(){this._assistantRoots&&ee(this._assistantRoots,(i,e)=>{I(e).remove()})},_clearItemNodeTemplates(){ee(this.option("items"),function(){delete this.node})},_attachClickEvent:pe,_optionChanged(i){switch(i.name){case"rows":case"cols":case"screenByWidth":case"singleColumnScreen":this._clearItemNodeTemplates(),this._invalidate();break;case"width":case"height":this.callBase(i),this._update();break;case"onLayoutChanged":this._initLayoutChangedAction();break;case"itemTemplate":this._clearItemNodeTemplates(),this.callBase(i);break;case"currentScreenFactor":break;default:this.callBase(i)}},_dimensionChanged(){this._getCurrentScreen()!==this.option("currentScreenFactor")&&this._update()},repaint(){this._update()}});ut("dxResponsiveBox",wZ);var SZ=wZ;var EZ=SZ;function OZ(i){let{item:e,$parent:t,rootElementCssClassList:n,validationGroup:o,createComponentCallback:r}=i,s=I("<div>").appendTo(t).addClass(n.join(" ")).addClass("dx-field-button-item").css("textAlign",HIe(e.horizontalAlignment));t.css("justifyContent",zIe(e.verticalAlignment));let a=I("<div>").appendTo(s);return{$rootElement:s,buttonInstance:r(a,"dxButton",q({validationGroup:o},e.buttonOptions))}}function HIe(i){return U(i)?i:"right"}function zIe(i){switch(i){case"center":return"center";case"bottom":return"flex-end";default:return"flex-start"}}function pN(i){let{$parent:e,rootElementCssClassList:t}=i;return I("<div>").addClass("dx-field-empty-item").html("&nbsp;").addClass(t.join(" ")).appendTo(e)}var jIe=Ut.inherit({ctor(i,e){this.editor=i,this.validator=e,this.validationRequestsCallbacks=[];let t=n=>{this.validationRequestsCallbacks.forEach(o=>o(n))};i.validationRequest.add(t),i.on("disposing",()=>{i.validationRequest.remove(t)})},getValue(){return this.editor.option("value")},getCurrentValidationError(){return this.editor.option("validationError")},bypass(){return this.editor.option("disabled")},applyValidationResults(i){this.editor.option({validationErrors:i.brokenRules,validationStatus:i.status})},reset(){this.editor.clear()},focus(){this.editor.focus()}}),IZ=jIe;var DZ=Gr.inherit({_initOptions(i){this.callBase.apply(this,arguments),this.option(gr.initValidationOptions(i))},_getDefaultOptions(){return q(this.callBase(),{validationRules:[]})},_init(){this.callBase(),this._initGroupRegistration(),this.focused=Gt(),this._initAdapter(),this._validationInfo={result:null,deferred:null,skipValidation:!1}},_initGroupRegistration(){let i=this._findGroup();this._groupWasInit||this.on("disposing",e=>{gr.removeRegisteredValidator(e.component._validationGroup,e.component)}),(!this._groupWasInit||this._validationGroup!==i)&&(gr.removeRegisteredValidator(this._validationGroup,this),this._groupWasInit=!0,this._validationGroup=i,gr.registerValidatorInGroup(i,this))},_setOptionsByReference(){this.callBase(),q(this._optionsByReference,{validationGroup:!0})},_getEditor(){let i=this.$element()[0];return Zi(i,"dx-validation-target")},_initAdapter(){let i=this._getEditor(),e=this.option("adapter");if(!e){if(i){e=new IZ(i,this),e.validationRequestsCallbacks.push(n=>{this._validationInfo.skipValidation||this.validate(n)}),this.option("adapter",e);return}throw bt.Error("E0120")}let t=e.validationRequestsCallbacks;t&&t.push(n=>{this.validate(n)})},_toggleRTLDirection(i){var e;let t=((e=this.option("adapter"))===null||e===void 0||(e=e.editor)===null||e===void 0?void 0:e.option("rtlEnabled"))??i;this.callBase(t)},_initMarkup(){this.$element().addClass("dx-validator"),this.callBase()},_render(){this.callBase(),this._toggleAccessibilityAttributes()},_toggleAccessibilityAttributes(){let i=this._getEditor();if(i){let t=(this.option("validationRules")||[]).some(n=>{let{type:o}=n;return o==="required"})||null;i.isInitialized()&&i.setAria("required",t),i.option("_onMarkupRendered",()=>{i.setAria("required",t)})}},_visibilityChanged(i){i&&this._initGroupRegistration()},_optionChanged(i){switch(i.name){case"validationGroup":this._initGroupRegistration();return;case"validationRules":this._resetValidationRules(),this._toggleAccessibilityAttributes(),this.option("isValid")!==void 0&&this.validate();return;case"adapter":this._initAdapter();break;case"isValid":case"validationStatus":this.option(gr.synchronizeValidationOptions(i,this.option()));break;default:this.callBase(i)}},_getValidationRules(){return this._validationRules||(this._validationRules=tn(this.option("validationRules"),(i,e)=>q({},i,{validator:this,index:e}))),this._validationRules},_findGroup(){let i=this.$element();return this.option("validationGroup")||gr.findGroup(i,this._modelByElement(i))},_resetValidationRules(){delete this._validationRules},validate(i){let e=this.option("adapter"),t=this.option("name"),n=e.bypass&&e.bypass(),o=i&&i.value!==void 0?i.value:e.getValue(),r=e.getCurrentValidationError&&e.getCurrentValidationError(),s=this._getValidationRules(),a=this._validationInfo&&this._validationInfo.result;if(a&&a.status==="pending"&&a.value===o)return q({},a);let l;return n?l={isValid:!0,status:"valid"}:r&&r.editorSpecific?(r.validator=this,l={isValid:!1,status:"invalid",brokenRule:r,brokenRules:[r]}):l=gr.validate(o,s,t),l.id=new yi().toString(),this._applyValidationResult(l,e),l.complete&&l.complete.then(d=>{d.id===this._validationInfo.result.id&&this._applyValidationResult(d,e)}),q({},this._validationInfo.result)},reset(){let i=this.option("adapter"),e={id:null,isValid:!0,brokenRule:null,brokenRules:null,pendingRules:null,status:"valid",complete:null};this._validationInfo.skipValidation=!0,i.reset(),this._validationInfo.skipValidation=!1,this._resetValidationRules(),this._applyValidationResult(e,i)},_updateValidationResult(i){if(!this._validationInfo.result||this._validationInfo.result.id!==i.id){let e=this._validationInfo.deferred&&this._validationInfo.result.complete;this._validationInfo.result=q({},i,{complete:e})}else for(let e in i)e!=="id"&&e!=="complete"&&(this._validationInfo.result[e]=i[e])},_applyValidationResult(i,e){let t=this._createActionByOption("onValidated",{excludeValidators:["readOnly"]});if(i.validator=this,this._updateValidationResult(i),e.applyValidationResults&&e.applyValidationResults(this._validationInfo.result),this.option({validationStatus:this._validationInfo.result.status}),this._validationInfo.result.status==="pending"){this._validationInfo.deferred||(this._validationInfo.deferred=le(),this._validationInfo.result.complete=this._validationInfo.deferred.promise()),this._eventsStrategy.fireEvent("validating",[this._validationInfo.result]);return}this._validationInfo.result.status!=="pending"&&(t(i),this._validationInfo.deferred&&(this._validationInfo.deferred.resolve(i),this._validationInfo.deferred=null))},focus(){let i=this.option("adapter");i&&i.focus&&i.focus()},_useTemplates:()=>!1});ut("dxValidator",DZ);var NO=DZ;var oy=NO;var TZ="dx-form",BO="dx-form-group",AZ="dx-form-group-caption",kZ="dx-form-group-custom-caption",fN="dx-col-",VO="dx-field-item",mN="dx-layout-manager-one-col",gN="dx-field-item-label-content",MZ="dx-layout-manager",_N="dx-field-item-label",ry="dx-field-item-content",RZ="dx-single-column-item-content",HO="dx-root-simple-item",FZ="dx-form-group-content",PZ="dx-field-item-has-group",LZ="dx-field-item-has-tabs",NZ="dx-form-group-with-caption",bN="dx-field-item-tab",vN="dx-group-colcount-",yN="group-col-count",BZ="dx-form-validation-summary",VZ="dx-form-styling-mode-underlined",sy="simple";var $Ie=["dxTagBox","dxRangeSlider","dxDateRangeBox"],WIe=["dxRangeSlider","dxSlider"],UIe=["dxCalendar","dxCheckBox","dxHtmlEditor","dxRadioGroup","dxRangeSlider","dxSlider","dxSwitch"];function HZ(i){let{$parent:e,rootElementCssClassList:t,formOrLayoutManager:n,createComponentCallback:o,item:r,template:s,labelTemplate:a,name:l,formLabelLocation:d,requiredMessageTemplate:c,validationGroup:u,editorValue:h,canAssignUndefinedValueToEditor:f,editorValidationBoundary:p,editorStylingMode:m,showColonAfterLabel:g,managerLabelLocation:b,itemId:x,managerMarkOptions:E,labelMode:D,onLabelTemplateRendered:L}=i,k=U(r.isRequired)?r.isRequired:!!KIe(r.validationRules),R=r.itemType===sy,N=r.helpText?`dx-${new yi}`:null,z=qIe({item:r,id:x,isRequired:k,managerMarkOptions:E,showColonAfterLabel:g,labelLocation:b,formLabelMode:D,labelTemplate:a,onLabelTemplateRendered:L}),V=z.visible&&(z.text||z.labelTemplate&&R),{location:S,labelID:T}=z,B=S!=="top"&&["dxTextArea","dxRadioGroup","dxCalendar","dxHtmlEditor"].includes(r.editorType),_=GIe({editorType:r.editorType,editorValue:h,defaultEditorName:r.dataField,canAssignUndefinedValueToEditor:f,externalEditorOptions:r.editorOptions,editorInputId:x,editorValidationBoundary:p,editorStylingMode:m,formLabelMode:D,labelText:z.textWithoutColon,labelMark:z.markOptions.showRequiredMark?"\xA0"+z.markOptions.requiredMark:""}),C=z.markOptions.showOptionalMark&&!z.visible&&_.labelMode!=="hidden"&&!U(r.helpText)?z.markOptions.optionalMark:r.helpText;return{$parent:e,rootElementCssClassList:t,formOrLayoutManager:n,createComponentCallback:o,labelOptions:z,labelNeedBaselineAlign:B,labelLocation:S,needRenderLabel:V,item:r,isSimpleItem:R,isRequired:k,template:s,helpID:N,labelID:T,name:l,helpText:C,formLabelLocation:d,requiredMessageTemplate:c,validationGroup:u,editorOptions:_}}function zZ(i){let{showRequiredMark:e,requiredMark:t,showOptionalMark:n,optionalMark:o}=i;return!e&&!n?"":"\xA0"+(e?t:o)}function xN(i,e){let{showRequiredMark:t,requiredMark:n,showOptionalMark:o,optionalMark:r}=i;return{showRequiredMark:t&&e,requiredMark:n,showOptionalMark:o&&!e,optionalMark:r}}function GIe(i){let{editorType:e,defaultEditorName:t,editorValue:n,canAssignUndefinedValueToEditor:o,externalEditorOptions:r,editorInputId:s,editorValidationBoundary:a,editorStylingMode:l,formLabelMode:d,labelText:c,labelMark:u}=i,h={};(n!==void 0||o)&&(h.value=n),$Ie.includes(e)&&(h.value=h.value||[]);let f=r?.labelMode;U(f)||(f=d==="outside"?"hidden":d);let p=r?.stylingMode||l,m=WIe.includes(e),g=q(!0,h,r,{inputAttr:{id:s},validationBoundary:a,stylingMode:p,label:m?r?.label:c,labelMode:f,labelMark:u});return r&&(g.dataSource&&(g.dataSource=r.dataSource),g.items&&(g.items=r.items)),t&&!g.name&&(g.name=t),g}function KIe(i){let e;return i&&i.length&&ee(i,(t,n)=>{if(n.type==="required")return e=!0,!1}),e}function qIe(i){let{item:e,id:t,isRequired:n,managerMarkOptions:o,showColonAfterLabel:r,labelLocation:s,labelTemplate:a,formLabelMode:l,onLabelTemplateRendered:d}=i,c=UIe.includes(e.editorType),u=q({showColon:r,location:s,id:t,visible:l==="outside"||c&&l!=="hidden",isRequired:n},e?e.label:{},{markOptions:xN(o,n),labelTemplate:a,onLabelTemplateRendered:d});return["dxRadioGroup","dxCheckBox","dxLookup","dxSlider","dxRangeSlider","dxSwitch","dxHtmlEditor","dxDateRangeBox"].includes(e.editorType)&&(u.labelID=`dx-label-${new yi}`),!u.text&&e.dataField&&(u.text=Ea(e.dataField)),u.text&&(u.textWithoutColon=u.text,u.text+=u.showColon?":":""),u}var YIe="dx-field-item-required-mark";var XIe="dx-field-item-optional-mark";function jZ(i){let{text:e,id:t,location:n,alignment:o,labelID:r=null,markOptions:s={},labelTemplate:a,labelTemplateData:l,onLabelTemplateRendered:d}=i;if((!U(e)||e.length<=0)&&!U(a))return null;let c=I("<label>").addClass(`${_N} dx-field-item-label-location-${n}`).attr("for",t).attr("id",r).css("textAlign",o),u=I("<span>").addClass(gN),h=I("<span>").addClass("dx-field-item-label-text").text(e);return a&&(h=I("<div>").addClass("dx-field-item-custom-label-content"),l.text=e,a.render({container:tt(h),model:l,onRendered(){d?.()}})),c.append(u.append(h,ZIe(s)))}function ZIe(i){let e=zZ(i);return e===""?null:I("<span>").addClass(i.showRequiredMark?YIe:XIe).text(e)}function $Z(i,e,t){let n=`${e} > .${_N}:not(.dx-field-item-label-location-top) > .${gN}`,o=i.find(n),r=o.length,s,a,l=0;for(a=0;a<r;a++)s=QIe(o[a]),s>l&&(l=s);for(a=0;a<r;a++)o[a].style.width=`${l}px`}function QIe(i){let e=0,t=i.children.length;for(let n=0;n<t;n++){let o=i.children[n];e+=o.offsetWidth}return e}var KZ="dx-field-item-content-wrapper";var JIe="dx-template-wrapper",CN="dx-validation-target",eDe="dx-invalid";function qZ(i){let{$parent:e,rootElementCssClassList:t,formOrLayoutManager:n,createComponentCallback:o,labelOptions:r,labelNeedBaselineAlign:s,labelLocation:a,needRenderLabel:l,formLabelLocation:d,item:c,editorOptions:u,isSimpleItem:h,isRequired:f,template:p,helpID:m,labelID:g,name:b,helpText:x,requiredMessageTemplate:E,validationGroup:D}=i,L=I("<div>").addClass(t.join(" ")).appendTo(e);L.addClass(f?"dx-field-item-required":"dx-field-item-optional"),h&&L.addClass("dx-flex-layout"),h&&s&&L.addClass("dx-field-item-label-align");let k=I("<div>");k.data("dx-form-item",c),k.addClass(ry).addClass("dx-field-item-content-location-"+{right:"left",left:"right",top:"bottom"}[d]);let R=null;if(l&&(r.labelTemplate&&(r.labelTemplateData=GZ(c,u,n)),R=jZ(r)),R){let{editorType:S}=c;L.append(R),(a==="top"||a==="left")&&L.append(k),a==="right"&&L.prepend(k),a==="top"?L.addClass("dx-label-v-align"):L.addClass("dx-label-h-align"),(S==="dxCheckBox"||S==="dxSwitch")&&X.on(R,Kt,()=>{X.trigger(k.children(),Kt)});let B=["dxCheckBox","dxSwitch","dxRadioGroup"].includes(S),_=r.alignment;!p&&B&&a==="top"&&(_==="left"||!_)&&k.addClass("dx-toggle-controls-paddings")}else L.append(k);let N;if(p)p.render({container:tt(k),model:GZ(c,u,n),onRendered(){let S=WZ(k),T=tDe(S);UZ(T)}});else{let S=I("<div>").appendTo(k);try{N=o(S,c.editorType,u),N.setAria("describedby",m),g&&N.setAria("labelledby",g),N.setAria("required",f)}catch(T){bt.log("E1035",T.message)}}let z=WZ(k),V=z&&z.data(CN);if(V){let S=c.label&&c.label.text,T=S?null:b,B=S?c.label.text:T&&Ea(T),_;if(h)if(c.validationRules)_=c.validationRules;else{let v=rr(E,B||"");_=c.isRequired?[{type:"required",message:v}]:null}Array.isArray(_)&&_.length&&o(z,oy,{validationRules:_,validationGroup:D,dataGetter:()=>({formItem:c})}),UZ(V)}return x&&h&&k.parent().append(I("<div>").addClass(KZ).append(k).append(I("<div>").addClass("dx-field-item-help-text").attr("id",m).text(x))),{$fieldEditorContainer:k,$rootElement:L,widgetInstance:N}}function WZ(i){let e=i.children().first();return e.hasClass(JIe)?e.children().first():e}function tDe(i){var e;return i?.data(CN)||(i==null||(e=i.parent)===null||e===void 0||(e=e.call(i))===null||e===void 0?void 0:e.data(CN))}function UZ(i){if(i&&xo()){let e=`.${KZ}`,t=n=>{let{element:o,component:r}=n,{isValid:s,validationMessageMode:a}=r.option();I(o).parents(e).toggleClass(eDe,s===!1&&(r._isFocused()||a==="always"))};i.on("optionChanged",n=>{n.name==="isValid"&&t(n)}),i.on("focusIn",t).on("focusOut",t).on("enterKey",t)}}function GZ(i,e,t){return{dataField:i.dataField,editorType:i.editorType,editorOptions:e,component:t,name:i.name}}var i_=class{constructor(){this._map={}}_findWidgetInstance(e){let t;return ee(this._map,(n,o)=>{let{widgetInstance:r,item:s}=o;if(e(s))return t=r,!1}),t}_findFieldByCondition(e,t){let n;return ee(this._map,(o,r)=>{if(e(r))return n=t==="guid"?o:r[t],!1}),n}clear(){this._map={}}removeItemsByItems(e){ee(e.getItems(),t=>this.removeItemByKey(t))}removeItemByKey(e){delete this._map[e]}add(e){let t=e.guid||new yi;return this._map[t]=e,t}addItemsOrExtendFrom(e){e.each((t,n)=>{this._map[t]?(n.widgetInstance&&(this._map[t].widgetInstance=n.widgetInstance),this._map[t].$itemContainer=n.$itemContainer):this.add({item:n.item,widgetInstance:n.widgetInstance,guid:t,$itemContainer:n.$itemContainer})})}extendRunTimeItemInfoByKey(e,t){this._map[e]&&(this._map[e]=q(this._map[e],t))}findWidgetInstanceByItem(e){return this._findWidgetInstance(t=>t===e)}findGroupOrTabLayoutManagerByPath(e){return this._findFieldByCondition(t=>{let{path:n}=t;return n===e},"layoutManager")}findKeyByPath(e){return this._findFieldByCondition(t=>{let{path:n}=t;return n===e},"guid")}findWidgetInstanceByName(e){return this._findWidgetInstance(t=>e===t.name)}findWidgetInstanceByDataField(e){return this._findWidgetInstance(t=>e===(We(t)?t:t.dataField))}findItemContainerByItem(e){for(let t in this._map)if(this._map[t].item===e)return this._map[t].$itemContainer;return null}findItemIndexByItem(e){return this._findFieldByCondition(t=>{let{item:n}=t;return n===e},"itemIndex")}findPreparedItemByItem(e){return this._findFieldByCondition(t=>{let{item:n}=t;return n===e},"preparedItem")}getItems(){return this._map}each(e){ee(this._map,(t,n)=>{e(t,n)})}removeItemsByPathStartWith(e){Object.keys(this._map).filter(o=>this._map[o].path?this._map[o].path.indexOf(e,0)>-1:!1).forEach(o=>this.removeItemByKey(o))}};var iDe=Tn.inherit({_getDefaultOptions(){return q(this.callBase(),{layoutData:{},readOnly:!1,colCount:1,colCountByScreen:void 0,labelLocation:"left",onFieldDataChanged:null,onEditorEnterKey:null,customizeItem:null,alignItemLabels:!0,minColWidth:200,showRequiredMark:!0,screenByWidth:null,showOptionalMark:!1,requiredMark:"*",labelMode:"outside",optionalMark:de.format("dxForm-optionalMark"),requiredMessage:de.getFormatter("dxForm-requiredMessage")})},_setOptionsByReference(){this.callBase(),q(this._optionsByReference,{layoutData:!0,validationGroup:!0})},_init(){let i=this.option("layoutData");this.callBase(),this._itemWatchers=[],this._itemsRunTimeInfo=new i_,this._updateReferencedOptions(i),this._initDataAndItems(i)},_dispose(){this.callBase(),this._cleanItemWatchers()},_initDataAndItems(i){this._syncDataWithItems(),this._updateItems(i)},_syncDataWithItems(){let i=this.option("layoutData"),e=this.option("items");U(e)&&e.forEach(t=>{if(t.dataField&&this._getDataByField(t.dataField)===void 0){let n;t.editorOptions&&(n=t.editorOptions.value),(U(n)||t.dataField in i)&&this._updateFieldValue(t.dataField,n)}})},_getDataByField(i){return i?this.option(`layoutData.${i}`):null},_isCheckboxUndefinedStateEnabled(i){let{allowIndeterminateState:e,editorType:t,dataField:n}=i;if(e===!0&&t==="dxCheckBox"){let o=["layoutData",...n.split(".")],r=o.pop(),s=this.option(o.join("."));return s&&r in s}return!1},_updateFieldValue(i,e){let t=this.option("layoutData"),n=e;!bo.isWrapped(t[i])&&U(i)?this.option(`layoutData.${i}`,n):bo.isWritableWrapped(t[i])&&(n=Ie(n)?n():n,t[i](n)),this._triggerOnFieldDataChanged({dataField:i,value:n})},_triggerOnFieldDataChanged(i){this._createActionByOption("onFieldDataChanged")(i)},_updateItems(i){let e=this,t=this.option("items"),n=U(t),o=e.option("customizeItem"),r=n?t:this._generateItemsByData(i);if(U(r)){let s=[];ee(r,(a,l)=>{e._isAcceptableItem(l)&&(l=e._processItem(l),o&&o(l),Ke(l)&&bo.unwrap(l.visible)!==!1&&s.push(l))}),(!e._itemWatchers.length||!n)&&e._updateItemWatchers(r),this._setItems(s),this._sortItems()}},_cleanItemWatchers(){this._itemWatchers.forEach(i=>{i()}),this._itemWatchers=[]},_updateItemWatchers(i){let e=this,t=e._getWatch();i.forEach(n=>{Ke(n)&&U(n.visible)&&Ie(t)&&e._itemWatchers.push(t(()=>bo.unwrap(n.visible),()=>{e._updateItems(e.option("layoutData")),e.repaint()},{skipImmediate:!0}))})},_generateItemsByData(i){let e=[];return U(i)&&ee(i,t=>{e.push({dataField:t})}),e},_isAcceptableItem(i){let e=i.dataField||i,t=this._getDataByField(e);return!(Ie(t)&&!bo.isWrapped(t))},_processItem(i){if(typeof i=="string"&&(i={dataField:i}),typeof i=="object"&&!i.itemType&&(i.itemType=sy),!U(i.editorType)&&U(i.dataField)){let e=this._getDataByField(i.dataField);i.editorType=U(e)?this._getEditorTypeByDataType(or(e)):"dxTextBox"}return i.editorType==="dxCheckBox"&&(i.allowIndeterminateState=i.allowIndeterminateState??!0),i},_getEditorTypeByDataType(i){switch(i){case"number":return"dxNumberBox";case"date":return"dxDateBox";case"boolean":return"dxCheckBox";default:return"dxTextBox"}},_sortItems(){zp(this._items,"visibleIndex"),this._sortIndexes()},_sortIndexes(){this._items.sort((i,e)=>{let t=i.visibleIndex,n=e.visibleIndex,o;return t>n?o=1:t<n?o=-1:o=0,o})},_initMarkup(){this._itemsRunTimeInfo.clear(),this.$element().addClass(MZ),this.callBase(),this._renderResponsiveBox()},_renderResponsiveBox(){let i=this,e=[];if(i._items&&i._items.length){let t=i._getColCount(),n=I("<div>").appendTo(i.$element());i._prepareItemsWithMerging(t);let o=i._generateLayoutItems();i._responsiveBox=i._createComponent(n,EZ,i._getResponsiveBoxConfig(o,t,e)),it()||i._renderTemplates(e)}},_itemStateChangedHandler(i){this._refresh()},_renderTemplates(i){let e=this,t=0;i.forEach(n=>{var o;let{item:r}=n;r!=null&&(o=r.label)!==null&&o!==void 0&&o.template&&t++}),ee(i,(n,o)=>{switch(o.itemType){case"empty":pN(o);break;case"button":e._renderButtonItem(o);break;default:e._renderFieldItem(o,t)}})},_getResponsiveBoxConfig(i,e,t){let n=this,o=n.option("colCountByScreen"),r=o&&o.xs;return{onItemStateChanged:this._itemStateChangedHandler.bind(this),onLayoutChanged(){let s=n.option("onLayoutChanged"),a=n.isSingleColumnMode();s&&(n.$element().toggleClass(mN,a),s(a))},onContentReady(s){it()&&n._renderTemplates(t),n.option("onLayoutChanged")&&n.$element().toggleClass(mN,n.isSingleColumnMode(s.component))},itemTemplate(s,a,l){if(!s.location)return;let d=I(l),c=s.location.row*e,u=n._items[s.location.col+c];if(!u)return;let h=[u.cssClass];d.toggleClass(RZ,n.isSingleColumnMode(this)),s.location.row===0&&h.push("dx-first-row"),s.location.col===0&&h.push("dx-first-col"),u.itemType===sy&&n.option("isRoot")&&d.addClass(HO);let f=s.location.col===e-1||s.location.col+s.location.colspan===e,p=n._getRowsCount(),m=s.location.row===p-1;f&&h.push("dx-last-col"),m&&h.push("dx-last-row"),u.itemType!=="empty"&&(h.push(VO),h.push(n.option("cssItemClass")),U(u.col)&&h.push(`dx-col-${u.col}`)),t.push({itemType:u.itemType,item:u,$parent:d,rootElementCssClassList:h})},cols:n._generateRatio(e),rows:n._generateRatio(n._getRowsCount(),!0),dataSource:i,screenByWidth:n.option("screenByWidth"),singleColumnScreen:r?!1:"xs"}},_getColCount(){let i=this.option("colCount"),e=this.option("colCountByScreen");if(e){let t=this.option("form").getTargetScreenFactor();t||(t=it()?Nw(this.option("screenByWidth")):"lg"),i=e[t]||i}if(i==="auto"){if(this._cashedColCount)return this._cashedColCount;this._cashedColCount=i=this._getMaxColCount()}return i<1?1:i},_getMaxColCount(){if(!it())return 1;let i=this.option("minColWidth"),e=Qe(this.$element()),t=this._items.length,n=Math.floor(e/i)||1;return t<n?t:n},isCachedColCountObsolete(){return this._cashedColCount&&this._getMaxColCount()!==this._cashedColCount},_prepareItemsWithMerging(i){let e=this._items.slice(0),t,n,o=[],r,s;for(s=0;s<e.length;s++)if(t=e[s],o.push(t),(this.option("alignItemLabels")||t.alignItemLabels||t.colSpan)&&(t.col=this._getColByIndex(o.length-1,i)),t.colSpan>1&&t.col+t.colSpan<=i){for(n=[],r=0;r<t.colSpan-1;r++)n.push({merged:!0});o=o.concat(n)}else delete t.colSpan;this._setItems(o)},_getColByIndex:(i,e)=>i%e,_setItems(i){this._items=i,this._cashedColCount=null},_generateLayoutItems(){let i=this._items,e=this._getColCount(),t=[],n,o;for(o=0;o<i.length;o++)if(n=i[o],!n.merged){let r={location:{row:parseInt(o/e),col:this._getColByIndex(o,e)}};U(n.disabled)&&(r.disabled=n.disabled),U(n.visible)&&(r.visible=n.visible),U(n.colSpan)&&(r.location.colspan=n.colSpan),U(n.rowSpan)&&(r.location.rowspan=n.rowSpan),t.push(r)}return t},_renderEmptyItem(i){pN({$container:i})},_renderButtonItem(i){let{item:e,$parent:t,rootElementCssClassList:n}=i,{$rootElement:o,buttonInstance:r}=OZ({item:e,$parent:t,rootElementCssClassList:n,validationGroup:this.option("validationGroup"),createComponentCallback:this._createComponent.bind(this)});this._itemsRunTimeInfo.add({item:e,widgetInstance:r,guid:e.guid,$itemContainer:o})},_renderFieldItem(i,e){var t,n;let{item:o,$parent:r,rootElementCssClassList:s}=i,a=this._getDataByField(o.dataField),l=!1;if(a===void 0){let{allowIndeterminateState:p,editorType:m,dataField:g}=o;l=this._isCheckboxUndefinedStateEnabled({allowIndeterminateState:p,editorType:m,dataField:g})}let d=o.dataField||o.name,c=this._getFormOrThis(),{$fieldEditorContainer:u,widgetInstance:h,$rootElement:f}=qZ(HZ({$parent:r,rootElementCssClassList:s,item:o,name:d,editorValue:a,canAssignUndefinedValueToEditor:l,formOrLayoutManager:this._getFormOrThis(),createComponentCallback:this._createComponent.bind(this),formLabelLocation:this.option("labelLocation"),requiredMessageTemplate:this.option("requiredMessage"),validationGroup:this.option("validationGroup"),editorValidationBoundary:this.option("validationBoundary"),editorStylingMode:this.option("form")&&this.option("form").option("stylingMode"),showColonAfterLabel:this.option("showColonAfterLabel"),managerLabelLocation:this.option("labelLocation"),template:o.template?this._getTemplate(o.template):null,labelTemplate:(t=o.label)!==null&&t!==void 0&&t.template?this._getTemplate(o.label.template):null,itemId:this.option("form")&&this.option("form").getItemID(d),managerMarkOptions:this._getMarkOptions(),labelMode:this.option("labelMode"),onLabelTemplateRendered:()=>{this._incTemplateRenderedCallCount(),this._shouldAlignLabelsOnTemplateRendered(c,e)&&c._alignLabels(this,this.isSingleColumnMode(c))}}));(n=this.option("onFieldItemRendered"))===null||n===void 0||n(),h&&o.dataField&&this._bindDataField(h,o.dataField,o.editorType,u),this._itemsRunTimeInfo.add({item:o,widgetInstance:h,guid:o.guid,$itemContainer:f})},_incTemplateRenderedCallCount(){this._labelTemplateRenderedCallCount=(this._labelTemplateRenderedCallCount??0)+1},_shouldAlignLabelsOnTemplateRendered(i,e){return i.option("templatesRenderAsynchronously")&&this._labelTemplateRenderedCallCount===e},_getMarkOptions(){return{showRequiredMark:this.option("showRequiredMark"),requiredMark:this.option("requiredMark"),showOptionalMark:this.option("showOptionalMark"),optionalMark:this.option("optionalMark")}},_getFormOrThis(){return this.option("form")||this},_bindDataField(i,e,t,n){let o=this._getFormOrThis();i.on("enterKey",r=>{o._createActionByOption("onEditorEnterKey")(q(r,{dataField:e}))}),this._createWatcher(i,n,e),this.linkEditorToDataField(i,e,t)},_createWatcher(i,e,t){let n=this,o=n._getWatch();if(!Ie(o))return;let r=o(()=>n._getDataByField(t),()=>{let s=n._getDataByField(t);if(i.NAME==="dxTagBox"){let a=i.option("value");if(s!==a&&function(l,d){if(!Array.isArray(l)||!Array.isArray(d)||l.length!==d.length)return!1;for(let c=0;c<l.length;c++)if(l[c]!==d[c])return!1;return!0}(s,a))return}i.option("value",s)},{deep:!0,skipImmediate:!0},{createWatcherDataField:t});X.on(e,Io,r)},_getWatch(){if(!U(this._watch)){let i=this.option("form");this._watch=i&&i.option("integrationOptions.watchMethod")}return this._watch},_createComponent(i,e,t){let n=this.option("readOnly"),o=Object.hasOwn(t,"readOnly"),r=this.callBase(i,e,ye({},t,{readOnly:o?t.readOnly:n})),s=!1;return r.on("optionChanged",a=>{a.name==="readOnly"&&!s&&(o=!0)}),this.on("optionChanged",a=>{a.name==="readOnly"&&!o&&(s=!0,r.option(a.name,a.value),s=!1)}),r},_generateRatio(i,e){let t=[],n,o;for(o=0;o<i;o++)n={ratio:1},e&&(n.baseSize="auto"),t.push(n);return t},_getRowsCount(){return Math.ceil(this._items.length/this._getColCount())},_updateReferencedOptions(i){let e=this.option("layoutData");Ke(e)&&Object.getOwnPropertyNames(e).forEach(t=>delete this._optionsByReference[`layoutData.${t}`]),Ke(i)&&Object.getOwnPropertyNames(i).forEach(t=>this._optionsByReference[`layoutData.${t}`]=!0)},_clearWidget(i){this._disableEditorValueChangedHandler=!0,i.clear(),this._disableEditorValueChangedHandler=!1,i.option("isValid",!0)},_optionChanged(i){if(i.fullName.search("layoutData.")!==0)switch(i.name){case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":this._cashedRequiredConfig=null,this._invalidate();break;case"layoutData":this._updateReferencedOptions(i.value),this.option("items")?Gn(i.value)||this._itemsRunTimeInfo.each((e,t)=>{if(U(t.item)){let{dataField:n}=t.item;if(n&&U(t.widgetInstance)){let r=Qt(n)(i.value),{allowIndeterminateState:s,editorType:a}=t.item;r!==void 0||this._isCheckboxUndefinedStateEnabled({allowIndeterminateState:s,editorType:a,dataField:n})?t.widgetInstance.option("value",r):this._clearWidget(t.widgetInstance)}}}):(this._initDataAndItems(i.value),this._invalidate());break;case"items":this._cleanItemWatchers(),this._initDataAndItems(i.value),this._invalidate();break;case"alignItemLabels":case"labelLocation":case"labelMode":case"requiredMessage":this._invalidate();break;case"customizeItem":this._updateItems(this.option("layoutData")),this._invalidate();break;case"colCount":case"colCountByScreen":this._resetColCount();break;case"minColWidth":this.option("colCount")==="auto"&&this._resetColCount();break;case"readOnly":case"onFieldDataChanged":break;case"width":this.callBase(i),this.option("colCount")==="auto"&&this._resetColCount();break;default:this.callBase(i)}},_resetColCount(){this._cashedColCount=null,this._invalidate()},linkEditorToDataField(i,e){this.on("optionChanged",t=>{t.fullName===`layoutData.${e}`&&i._setOptionWithoutOptionChange("value",t.value)}),i.on("valueChanged",t=>{let n=Ke(t.value)||Array.isArray(t.value);!this._disableEditorValueChangedHandler&&!(n&&t.value===t.previousValue)&&this._updateFieldValue(e,t.value)})},_dimensionChanged(){this.option("colCount")==="auto"&&this.isCachedColCountObsolete()&&this._eventsStrategy.fireEvent("autoColCountChanged")},updateData(i,e){let t=this;Ke(i)?ee(i,(n,o)=>{t._updateFieldValue(n,o)}):typeof i=="string"&&t._updateFieldValue(i,e)},getEditor(i){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(i)||this._itemsRunTimeInfo.findWidgetInstanceByName(i)},isSingleColumnMode(i){let e=this._responsiveBox||i;if(e)return e.option("currentScreenFactor")===e.option("singleColumnScreen")},getItemsRunTimeInfo(){return this._itemsRunTimeInfo}});ut("dxLayoutManager",iDe);var nDe="dx-validationsummary-item",oDe="dx-validationsummary-item-data",YZ=Sl.inherit({_getDefaultOptions(){return q(this.callBase(),{focusStateEnabled:!1,noDataText:null})},_setOptionsByReference(){this.callBase(),q(this._optionsByReference,{validationGroup:!0})},_init(){this.callBase(),this._initGroupRegistration()},_initGroupRegistration(){let i=this.$element(),e=this.option("validationGroup")||gr.findGroup(i,this._modelByElement(i)),t=gr.addGroup(e,!0);this._unsubscribeGroup(),this._groupWasInit=!0,this._validationGroup=e,this.groupSubscription=this._groupValidationHandler.bind(this),t.on("validated",this.groupSubscription)},_unsubscribeGroup(){let i=gr.getGroupConfig(this._validationGroup);i&&i.off("validated",this.groupSubscription)},_getOrderedItems(i,e){let t=[];return ee(i,(n,o)=>{let r=vo(e,s=>{if(s.validator===o)return!0});r.length&&(t=t.concat(r))}),t},_groupValidationHandler(i){let e=this._getOrderedItems(i.validators,tn(i.brokenRules,t=>({text:t.message,validator:t.validator,index:t.index})));this.validators=i.validators,ee(this.validators,(t,n)=>{if(n._validationSummary!==this){let o=this._itemValidationHandler.bind(this),r=function(){n.off("validated",o),n._validationSummary=null,o=null};n.on("validated",o),n.on("disposing",r),n._validationSummary=this}}),this.option("items",e)},_itemValidationHandler(i){let{isValid:e,validator:t,brokenRules:n}=i,o=this.option("items"),r=!1,s=0;for(;s<o.length;){let a=o[s];if(a.validator===t){let l=vo(n||[],d=>d.index===a.index)[0];if(e||!l){o.splice(s,1),r=!0;continue}l.message!==a.text&&(a.text=l.message,r=!0)}s++}ee(n,(a,l)=>{vo(o,c=>c.validator===t&&c.index===l.index)[0]||(o.push({text:l.message,validator:t,index:l.index}),r=!0)}),r&&(o=this._getOrderedItems(this.validators,o),this.option("items",o))},_initMarkup(){this.$element().addClass("dx-validationsummary"),this.callBase()},_optionChanged(i){i.name==="validationGroup"?this._initGroupRegistration():this.callBase(i)},_itemClass:()=>nDe,_itemDataKey:()=>oDe,_postprocessRenderItem(i){X.on(i.itemElement,"click",()=>{i.itemData.validator&&i.itemData.validator.focus&&i.itemData.validator.focus()})},_dispose(){this.callBase(),this._unsubscribeGroup()},refreshValidationGroup(){this._initGroupRegistration()}});ut("dxValidationSummary",YZ);var wN=YZ;var SN=class extends Gr{_getDefaultOptions(){return super._getDefaultOptions()}_init(){super._init(),gr.addGroup(this,!1)}_initMarkup(){let e=this.$element();e.addClass("dx-validationgroup"),e.find(".dx-validator").each((t,n)=>{NO.getInstance(I(n))._initGroupRegistration()}),e.find(".dx-validationsummary").each((t,n)=>{wN.getInstance(I(n)).refreshValidationGroup()}),super._initMarkup()}validate(){return gr.validateGroup(this)}reset(){return gr.resetGroup(this)}_dispose(){gr.removeGroup(this),this.$element().removeClass("dx-validationgroup"),super._dispose()}_useTemplates(){return!1}};ut("dxValidationGroup",SN);var ay={move(i,e){In(i,{left:e})}},zO={moveTo(i,e,t,n){hn.animate(i,{type:"slide",to:{left:e},duration:t,complete:n})},complete(i){hn.stop(i,!0)}};var XZ=i=>+i,rDe=i=>ar(i).left,ZZ=ug.inherit({_activeStateUnit:".dx-multiview-item",_supportedKeys(){return q(this.callBase(),{pageUp:pe,pageDown:pe})},_getDefaultOptions(){return q(this.callBase(),{selectedIndex:0,swipeEnabled:!0,animationEnabled:!0,loop:!1,deferRendering:!0,loopItemFocus:!1,selectOnFocus:!0,selectionMode:"single",selectionRequired:!0,selectByClick:!1})},_defaultOptionsRules(){return this.callBase().concat([{device:()=>Ve.real().deviceType==="desktop"&&!Ve.isSimulator(),options:{focusStateEnabled:!0}}])},_itemClass:()=>"dx-multiview-item",_itemDataKey:()=>"dxMultiViewItemData",_itemContainer(){return this._$itemContainer},_itemElements(){return this._itemContainer().children(this._itemSelector())},_itemWidth(){return this._itemWidthValue||(this._itemWidthValue=Qe(this._$wrapper)),this._itemWidthValue},_clearItemWidthCache(){delete this._itemWidthValue},_itemsCount(){return this.option("items").length},_normalizeIndex(i){let e=this._itemsCount();return i<0&&(i+=e),i>=e&&(i-=e),i},_getRTLSignCorrection(){return this.option("rtlEnabled")?-1:1},_init(){this.callBase.apply(this,arguments);let i=this.$element();i.addClass("dx-multiview"),this._$wrapper=I("<div>").addClass("dx-multiview-wrapper"),this._$wrapper.appendTo(i),this._$itemContainer=I("<div>").addClass("dx-multiview-item-container"),this._$itemContainer.appendTo(this._$wrapper),this.option("loopItemFocus",this.option("loop")),this._findBoundaryIndices(),this._initSwipeable()},_initMarkup(){this._deferredItems=[],this.callBase();let i=this._getSelectedItemIndices();this._updateItemsVisibility(i[0]),this._setElementAria(),this._setItemsAria()},_afterItemElementDeleted(i,e){this.callBase(i,e),this._deferredItems&&this._deferredItems.splice(e.itemIndex,1)},_beforeItemElementInserted(i){this.callBase.apply(this,arguments),this._deferredItems&&this._deferredItems.splice(i.index,0,null)},_executeItemRenderAction(i,e,t){i=(this.option("items")||[]).indexOf(e),this.callBase(i,e,t)},_renderItemContent(i){let e=le(),t=this,{callBase:n}=this,o=le();return o.done(()=>{let r=n.call(t,i);e.resolve(r)}),this._deferredItems[i.index]=o,this.option("deferRendering")||o.resolve(),e.promise()},_render(){this.callBase(),jn(()=>{let i=this._getSelectedItemIndices();this._updateItems(i[0])})},_getElementAria:()=>({role:"group",roledescription:de.format("dxMultiView-elementAriaRoleDescription"),label:de.format("dxMultiView-elementAriaLabel")}),_setElementAria(){let i=this._getElementAria();this.setAria(i,this.$element())},_setItemsAria(){let i=this._itemElements(),e=this._itemsCount();i.each((t,n)=>{let o=this._getItemAria({itemIndex:t,itemsCount:e});this.setAria(o,I(n))})},_getItemAria(i){let{itemIndex:e,itemsCount:t}=i;return{role:"group",roledescription:de.format("dxMultiView-itemAriaRoleDescription"),label:de.format("dxMultiView-itemAriaLabel",e+1,t)}},_updateItems(i,e){this._updateItemsPosition(i,e),this._updateItemsVisibility(i,e)},_modifyByChanges(){this.callBase.apply(this,arguments);let i=this._getSelectedItemIndices();this._updateItemsVisibility(i[0])},_updateItemsPosition(i,e){let t=this._itemElements(),n=U(e)?-this._animationDirection(e,i):void 0,o=t.eq(i);ay.move(o,0),U(e)&&ay.move(t.eq(e),100*n+"%")},_updateItemsVisibility(i,e){this._itemElements().each((n,o)=>{let r=I(o),s=n!==i&&n!==e;s||this._renderSpecificItem(n),r.toggleClass("dx-multiview-item-hidden",s),this.setAria("hidden",s||void 0,r)})},_renderSpecificItem(i){let e=this._itemElements().eq(i),t=e.find(this._itemContentClass()).length>0;U(i)&&!t&&(this._deferredItems[i].resolve(),ls(e))},_refreshItem(i,e){this.callBase(i,e),this._updateItemsVisibility(this.option("selectedIndex"))},_setAriaSelectionAttribute:pe,_updateSelection(i,e){let t=i[0],n=e[0];zO.complete(this._$itemContainer),this._updateItems(n,t);let o=this._animationDirection(t,n);this._animateItemContainer(o*this._itemWidth(),()=>{ay.move(this._$itemContainer,0),this._updateItems(t),Qe(this._$itemContainer)})},_animateItemContainer(i,e){let t=this.option("animationEnabled")?200:0;zO.moveTo(this._$itemContainer,i,t,e)},_animationDirection(i,e){let t=rDe(this._$itemContainer),n=(e-i)*this._getRTLSignCorrection()*this._getItemFocusLoopSignCorrection();return pl(t!==0?t:n)},_getSwipeDisabledState(){return!this.option("swipeEnabled")||this._itemsCount()<=1},_initSwipeable(){this._createComponent(this.$element(),Iv,{disabled:this._getSwipeDisabledState(),elastic:!1,itemSizeFunc:this._itemWidth.bind(this),onStart:i=>this._swipeStartHandler(i.event),onUpdated:i=>this._swipeUpdateHandler(i.event),onEnd:i=>this._swipeEndHandler(i.event)})},_findBoundaryIndices(){let i=this.option("items"),e,t;i.forEach((n,o)=>{!!n?.disabled||(e??(e=o),t=o)}),this._boundaryIndices={firstAvailableIndex:e??0,lastAvailableIndex:t??i.length-1,firstTrueIndex:0,lastTrueIndex:i.length-1}},_swipeStartHandler(i){zO.complete(this._$itemContainer);let e=this.option("selectedIndex"),t=this.option("loop"),{firstAvailableIndex:n,lastAvailableIndex:o}=this._boundaryIndices,r=this.option("rtlEnabled");i.maxLeftOffset=XZ(t||(r?e>n:e<o)),i.maxRightOffset=XZ(t||(r?e<o:e>n)),this._swipeDirection=null},_swipeUpdateHandler(i){let{offset:e}=i,t=pl(e)*this._getRTLSignCorrection();if(ay.move(this._$itemContainer,e*this._itemWidth()),t!==this._swipeDirection){this._swipeDirection=t;let n=this.option("selectedIndex"),o=this._normalizeIndex(n-t);this._updateItems(n,o)}},_findNextAvailableIndex(i,e){let{items:t,loop:n}=this.option(),{firstAvailableIndex:o,lastAvailableIndex:r,firstTrueIndex:s,lastTrueIndex:a}=this._boundaryIndices,l=[s,o].includes(i),d=[a,r].includes(i);if(n){if(l&&e<0)return r;if(d&&e>0)return o}for(let c=i+e;c>=o&&c<=r;c+=e)if(!!!t[c].disabled)return c;return i},_swipeEndHandler(i){let e=i.targetOffset*this._getRTLSignCorrection();if(e){let t=this._findNextAvailableIndex(this.option("selectedIndex"),-e);this.option("selectedIndex",t);let n=this.itemElements().filter(".dx-item-selected");this.option("focusStateEnabled")&&this.option("focusedElement",tt(n))}else this._animateItemContainer(0,pe)},_getItemFocusLoopSignCorrection(){return this._itemFocusLooped?-1:1},_moveFocus(){this.callBase.apply(this,arguments),this._itemFocusLooped=!1},_prevItem(i){let e=this.callBase.apply(this,arguments);return this._itemFocusLooped=e.is(i.last()),e},_nextItem(i){let e=this.callBase.apply(this,arguments);return this._itemFocusLooped=e.is(i.first()),e},_dimensionChanged(){this._clearItemWidthCache()},_visibilityChanged(i){i&&this._dimensionChanged()},_updateSwipeDisabledState(){let i=this._getSwipeDisabledState();Iv.getInstance(this.$element()).option("disabled",i)},_dispose(){delete this._boundaryIndices,this.callBase()},_optionChanged(i){let{value:e}=i;switch(i.name){case"loop":this.option("loopItemFocus",e);break;case"animationEnabled":break;case"swipeEnabled":this._updateSwipeDisabledState();break;case"deferRendering":this._invalidate();break;case"items":this._updateSwipeDisabledState(),this._findBoundaryIndices(),this.callBase(i);break;default:this.callBase(i)}}});ut("dxMultiView",ZZ);var QZ=ZZ;var JZ=QZ;function jO(i){return i.scrollWidth-i.clientWidth}function eQ(i){return i.scrollHeight-i.clientHeight}function tQ(i,e){return Math.round(i)<=e}function iQ(i,e,t){return Math.round(jO(i)-e)<=t}function nQ(i,e){return Math.round(i)<=e}function oQ(i,e,t,n){return Math.round(eQ(i)-e-t)<=n}var EN="dx-tabs-expanded";var sDe=Ha.inherit({_renderWatchers(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this))},_renderBadge(i){if(this._$element.children(".dx-badge").remove(),!i)return;let e=I("<div>").addClass("dx-tabs-item-badge").addClass("dx-badge").text(i);this._$element.append(e)}}),rQ=sDe;var sQ={vertical:"dx-tabs-vertical",horizontal:"dx-tabs-horizontal"},aQ={top:"dx-tab-indicator-position-top",right:"dx-tab-indicator-position-right",bottom:"dx-tab-indicator-position-bottom",left:"dx-tab-indicator-position-left"},ly={top:"dx-tabs-icon-position-top",end:"dx-tabs-icon-position-end",bottom:"dx-tabs-icon-position-bottom",start:"dx-tabs-icon-position-start"},ON={primary:"dx-tabs-styling-mode-primary",secondary:"dx-tabs-styling-mode-secondary"};var IN={horizontal:"horizontal",vertical:"vertical"},$O={top:"top",right:"right",bottom:"bottom",left:"left"},lQ={horizontal:"horizontal",vertical:"vertical"},n_={top:"top",end:"end",bottom:"bottom",start:"start"},dQ={primary:"primary",secondary:"secondary"},DN=ug.inherit({_activeStateUnit:".dx-tab",_getDefaultOptions(){return q(this.callBase(),{hoverStateEnabled:!0,showNavButtons:!0,scrollByContent:!0,scrollingEnabled:!0,selectionMode:"single",orientation:IN.horizontal,iconPosition:n_.start,stylingMode:dQ.primary,activeStateEnabled:!0,selectionRequired:!1,selectOnFocus:!0,loopItemFocus:!1,useInkRipple:!1,badgeExpr:i=>i?i.badge:void 0,_itemAttributes:{role:"tab"},_indicatorPosition:null})},_defaultOptionsRules(){let i=oo();return this.callBase().concat([{device:()=>Ve.real().deviceType!=="desktop",options:{showNavButtons:!1}},{device:{deviceType:"desktop"},options:{scrollByContent:!1}},{device:()=>Ve.real().deviceType==="desktop"&&!Ve.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>Zn(i),options:{iconPosition:n_.top,stylingMode:dQ.secondary}},{device:()=>Kn(i),options:{useInkRipple:!0,selectOnFocus:!1,iconPosition:n_.top}}])},_init(){let{orientation:i,stylingMode:e,scrollingEnabled:t}=this.option(),n=this._getIndicatorPosition();this.callBase(),this.setAria("role","tablist"),this.$element().addClass("dx-tabs"),this._toggleScrollingEnabledClass(t),this._toggleOrientationClass(i),this._toggleIndicatorPositionClass(n),this._toggleIconPositionClass(),this._toggleStylingModeClass(e),this._renderWrapper(),this._renderMultiple(),this._feedbackHideTimeout=100},_prepareDefaultItemTemplate(i,e){let t=ht(i)?i?.text:i;if(U(t)){let n=I("<span>").addClass("dx-tab-text-span");n.text(t);let o=I("<span>").addClass("dx-tab-text-span-pseudo");o.text(t),o.appendTo(n),n.appendTo(e)}U(i.html)&&e.html(i.html)},_initTemplates(){this.callBase(),this._templateManager.addDefaultTemplates({item:new Yr((i,e)=>{this._prepareDefaultItemTemplate(e,i);let t=Xr(e.icon);t&&t.prependTo(i);let n=I("<div>").addClass("dx-tab-text");i.wrapInner(n)},["text","html","icon"],this.option("integrationOptions.watchMethod"))})},_createItemByTemplate:function(i,e){let{itemData:t,container:n,index:o}=e;return this._deferredTemplates[o]=le(),i.render({model:t,container:n,index:o,onRendered:()=>this._deferredTemplates[o].resolve()})},_itemClass:()=>"dx-tab",_selectedItemClass:()=>"dx-tab-selected",_itemDataKey:()=>"dxTabData",_initMarkup(){this._deferredTemplates=[],this.callBase(),this.option("useInkRipple")&&this._renderInkRipple(),this.$element().addClass("dx-overflow-hidden")},_render(){this.callBase(),this._deferRenderScrolling()},_deferRenderScrolling(){Be.apply(this,this._deferredTemplates).done(()=>this._renderScrolling())},_renderScrolling(){let i=["dx-tabs-stretched",EN,"dx-overflow-hidden"];if(this.$element().removeClass(i.join(" ")),this.option("scrollingEnabled")&&this._isItemsSizeExceeded()){this._scrollable||(this._renderScrollable(),this._renderNavButtons());let e=this.getScrollable();if(e.update(),this.option("rtlEnabled")){let t=jO(I(this.getScrollable().container()).get(0));e.scrollTo({left:t})}this._updateNavButtonsState(),this._scrollToItem(this.option("selectedItem"))}this.option("scrollingEnabled")&&this._isItemsSizeExceeded()||(this._cleanScrolling(),this._needStretchItems()&&this.$element().addClass("dx-tabs-stretched"),this.$element().removeClass("dx-tabs-nav-buttons").addClass(EN))},_isVertical(){return this.option("orientation")===IN.vertical},_isItemsSizeExceeded(){return this._isVertical()?this._isItemsHeightExceeded():this._isItemsWidthExceeded()},_isItemsWidthExceeded(){let i=this._getVisibleItems(),e=this._getSummaryItemsSize("width",i,!0),t=Qe(this.$element());return[e,t].includes(0)?!1:e>t-1},_isItemsHeightExceeded(){let i=this._getVisibleItems(),e=this._getSummaryItemsSize("height",i,!0),t=ft(this.$element());return e-1>t},_needStretchItems(){let i=this._getVisibleItems(),e=Qe(this.$element()),t=[];ee(i,(s,a)=>{t.push(Ft(a,!0))});let n=Math.max.apply(null,t),o=e/i.length;return n>o+1},_cleanNavButtons(){!this._leftButton||!this._rightButton||(this._leftButton.$element().remove(),this._rightButton.$element().remove(),this._leftButton=null,this._rightButton=null)},_cleanScrolling(){this._scrollable&&(this._$wrapper.appendTo(this.$element()),this._scrollable.$element().remove(),this._scrollable=null,this._cleanNavButtons())},_renderInkRipple(){this._inkRipple=Cg()},_getPointerEvent:()=>Mt.up,_toggleActiveState(i,e,t){if(this.callBase.apply(this,arguments),!this._inkRipple)return;let n={element:i,event:t};e?this._inkRipple.showWave(n):this._inkRipple.hideWave(n)},_renderMultiple(){this.option("selectionMode")==="multiple"&&this.option("selectOnFocus",!1)},_renderWrapper(){this._$wrapper=I("<div>").addClass("dx-tabs-wrapper"),this.$element().append(this._$wrapper)},_itemContainer(){return this._$wrapper},_getScrollableDirection(){return this._isVertical()?lQ.vertical:lQ.horizontal},_updateScrollable(){this.getScrollable()&&this._cleanScrolling(),this._renderScrolling()},_renderScrollable(){let i=this.$element().wrapInner(I("<div>").addClass("dx-tabs-scrollable")).children();this._scrollable=this._createComponent(i,wr,{direction:this._getScrollableDirection(),showScrollbar:"never",useKeyboard:!1,useNative:!1,scrollByContent:this.option("scrollByContent"),onScroll:()=>{this._updateNavButtonsState()}}),this.$element().append(this._scrollable.$element())},_scrollToItem(i){if(!this._scrollable)return;let e=this._editStrategy.getItemElement(i);this._scrollable.scrollToElement(e)},_renderNavButtons(){let{showNavButtons:i,rtlEnabled:e}=this.option();if(this.$element().toggleClass("dx-tabs-nav-buttons",i),!i)return;this._leftButton=this._createNavButton(-30,e?"chevronnext":"chevronprev");let t=this._leftButton.$element();t.addClass("dx-tabs-nav-button-left"),this.$element().prepend(t),this._rightButton=this._createNavButton(30,e?"chevronprev":"chevronnext");let n=this._rightButton.$element();n.addClass("dx-tabs-nav-button-right"),this.$element().append(n)},_updateNavButtonsAriaDisabled(){[this._leftButton,this._rightButton].forEach(e=>{e?.$element().attr({"aria-disabled":null})})},_updateNavButtonsState(){let i=this._isVertical(),e=this.getScrollable();if(i){var t,n;(t=this._leftButton)===null||t===void 0||t.option("disabled",nQ(e.scrollTop(),1)),(n=this._rightButton)===null||n===void 0||n.option("disabled",oQ(I(e.container()).get(0),e.scrollTop(),0,1))}else{var o,r;(o=this._leftButton)===null||o===void 0||o.option("disabled",tQ(e.scrollLeft(),1)),(r=this._rightButton)===null||r===void 0||r.option("disabled",iQ(I(e.container()).get(0),e.scrollLeft(),1))}this._updateNavButtonsAriaDisabled()},_updateScrollPosition(i,e){this._scrollable.update(),this._scrollable.scrollBy(i/e)},_createNavButton(i,e){let t=this._createAction(()=>{this._holdInterval=setInterval(()=>{this._updateScrollPosition(i,5)},5)}),n=Se(ms.name,"dxNavButton"),o=Se(Mt.up,"dxNavButton"),r=Se(Mt.out,"dxNavButton"),s=this._createComponent(I("<div>").addClass("dx-tabs-nav-button"),Ln,{focusStateEnabled:!1,icon:e,integrationOptions:{},elementAttr:{role:null,"aria-label":null,"aria-disabled":null},onClick:()=>{this._updateScrollPosition(i,1)}}),a=s.$element();return X.on(a,n,{timeout:300},l=>{t({event:l})}),X.on(a,o,()=>{this._clearInterval()}),X.on(a,r,()=>{this._clearInterval()}),s},_clearInterval(){this._holdInterval&&clearInterval(this._holdInterval)},_updateSelection(i){this._scrollable&&this._scrollable.scrollToElement(this.itemElements().eq(i[0]))},_visibilityChanged(i){i&&this._dimensionChanged()},_dimensionChanged(){this._renderScrolling()},_itemSelectHandler(i){this.option("selectionMode")==="single"&&this.isItemSelected(i.currentTarget)||this.callBase(i)},_clean(){this._deferredTemplates=[],this._cleanScrolling(),this.callBase()},_toggleTabsVerticalClass(i){this.$element().toggleClass(sQ.vertical,i)},_toggleTabsHorizontalClass(i){this.$element().toggleClass(sQ.horizontal,i)},_getIndicatorPositionClass:i=>aQ[i],_getIndicatorPosition(){let{_indicatorPosition:i,rtlEnabled:e}=this.option();if(i)return i;let t=this._isVertical();return e?t?$O.left:$O.bottom:t?$O.right:$O.bottom},_toggleIndicatorPositionClass(i){let e=this._getIndicatorPositionClass(i);this._toggleElementClasses(aQ,e)},_toggleScrollingEnabledClass(i){this.$element().toggleClass("dx-tabs-scrolling-enabled",!!i)},_toggleOrientationClass(i){let e=i===IN.vertical;this._toggleTabsVerticalClass(e),this._toggleTabsHorizontalClass(!e)},_getTabsIconPositionClass(){switch(this.option("iconPosition")){case n_.top:return ly.top;case n_.end:return ly.end;case n_.bottom:return ly.bottom;default:return ly.start}},_toggleIconPositionClass(){let i=this._getTabsIconPositionClass();this._toggleElementClasses(ly,i)},_toggleStylingModeClass(i){let e=ON[i]??ON.primary;this._toggleElementClasses(ON,e)},_toggleElementClasses(i,e){for(let t in i)this.$element().removeClass(i[t]);this.$element().addClass(e)},_toggleFocusedDisabledNextClass(i,e){this._itemElements().eq(i).toggleClass("dx-focused-disabled-next-tab",e)},_toggleFocusedDisabledPrevClass(i,e){this._itemElements().eq(i).toggleClass("dx-focused-disabled-prev-tab",e)},_toggleFocusedDisabledClasses(i){let{selectedIndex:e}=this.option();this._itemElements().removeClass("dx-focused-disabled-next-tab").removeClass("dx-focused-disabled-prev-tab");let t=e-1,n=e+1,o=I(i).index(),r=this._itemElements().eq(n).hasClass("dx-state-disabled"),s=this._itemElements().eq(t).hasClass("dx-state-disabled"),a=r&&o===n,l=s&&o===t;this._toggleFocusedDisabledNextClass(e,a),this._toggleFocusedDisabledPrevClass(e,l)},_updateFocusedElement(){let{focusStateEnabled:i,selectedIndex:e}=this.option(),t=this._itemElements();if(i&&t.length){let n=t.get(e);this.option({focusedElement:n})}},_optionChanged(i){switch(i.name){case"useInkRipple":case"scrollingEnabled":this._toggleScrollingEnabledClass(i.value),this._invalidate();break;case"showNavButtons":case"badgeExpr":this._invalidate();break;case"scrollByContent":this._scrollable&&this._scrollable.option(i.name,i.value);break;case"width":case"height":this.callBase(i),this._dimensionChanged();break;case"selectionMode":this._renderMultiple(),this.callBase(i);break;case"focusedElement":this._toggleFocusedDisabledClasses(i.value),this.callBase(i),this._scrollToItem(i.value);break;case"rtlEnabled":{this.callBase(i);let e=this._getIndicatorPosition();this._toggleIndicatorPositionClass(e);break}case"orientation":{this._toggleOrientationClass(i.value);let e=this._getIndicatorPosition();this._toggleIndicatorPositionClass(e),it()&&this._updateScrollable();break}case"iconPosition":this._toggleIconPositionClass(),it()&&this._dimensionChanged();break;case"stylingMode":this._toggleStylingModeClass(i.value),it()&&this._dimensionChanged();break;case"_indicatorPosition":this._toggleIndicatorPositionClass(i.value);break;case"selectedIndex":case"selectedItem":case"selectedItems":this.callBase(i),this._updateFocusedElement();break;default:this.callBase(i)}},_afterItemElementInserted(){this.callBase(),this._deferRenderScrolling()},_afterItemElementDeleted(i,e){this.callBase(i,e),this._renderScrolling()},getScrollable(){return this._scrollable}});DN.ItemClass=rQ;ut("dxTabs",DN);var cQ=DN;var uQ=cQ;var WO=class extends Ha{_renderWatchers(){return this._startWatcher("badge",pe),super._renderWatchers()}};var o_={top:"dx-tabpanel-tabs-position-top",right:"dx-tabpanel-tabs-position-right",bottom:"dx-tabpanel-tabs-position-bottom",left:"dx-tabpanel-tabs-position-left"},ff={top:"top",right:"right",bottom:"bottom",left:"left"},aDe={top:"bottom",right:"left",bottom:"top",left:"right"},hQ={horizontal:"horizontal",vertical:"vertical"},pQ={top:"top",end:"end",bottom:"bottom",start:"start"},fQ={primary:"primary",secondary:"secondary"},TN=JZ.inherit({_getDefaultOptions(){return q(this.callBase(),{itemTitleTemplate:"title",hoverStateEnabled:!0,showNavButtons:!1,scrollByContent:!0,scrollingEnabled:!0,tabsPosition:ff.top,iconPosition:pQ.start,stylingMode:fQ.primary,onTitleClick:null,onTitleHold:null,onTitleRendered:null,badgeExpr:i=>i?i.badge:void 0,_tabsIndicatorPosition:null})},_defaultOptionsRules(){let i=oo();return this.callBase().concat([{device:()=>Ve.real().deviceType==="desktop"&&!Ve.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>!Ta,options:{swipeEnabled:!1}},{device:{platform:"generic"},options:{animationEnabled:!1}},{device:()=>Zn(i),options:{stylingMode:fQ.secondary}},{device:()=>xo(i),options:{iconPosition:pQ.top}}])},_init(){this.callBase(),this.$element().addClass("dx-tabpanel"),this._toggleTabPanelTabsPositionClass()},_getElementAria:()=>({role:"tabpanel"}),_getItemAria:()=>({role:"tabpanel"}),_initMarkup(){this.callBase(),this._createTitleActions(),this._renderLayout()},_prepareTabsItemTemplate(i,e){let t=Xr(i?.icon);t&&e.append(t);let n=ht(i)?i?.title:i;if(U(n)&&!ht(n)){let o=I("<span>").addClass("dx-tab-text-span");o.append(be.createTextNode(n));let r=I("<span>").addClass("dx-tab-text-span-pseudo");r.append(be.createTextNode(n)),r.appendTo(o),o.appendTo(e)}},_initTemplates(){this.callBase(),this._templateManager.addDefaultTemplates({title:new Yr((i,e)=>{this._prepareTabsItemTemplate(e,i);let t=I("<div>").addClass("dx-tab-text");i.wrapInner(t)},["title","icon"],this.option("integrationOptions.watchMethod"))})},_createTitleActions(){this._createTitleClickAction(),this._createTitleHoldAction(),this._createTitleRenderedAction()},_createTitleClickAction(){this._titleClickAction=this._createActionByOption("onTitleClick")},_createTitleHoldAction(){this._titleHoldAction=this._createActionByOption("onTitleHold")},_createTitleRenderedAction(){this._titleRenderedAction=this._createActionByOption("onTitleRendered")},_renderLayout(){if(this._tabs)return;let i=this.$element();this._$tabContainer=I("<div>").addClass("dx-tabpanel-tabs").appendTo(i);let e=I("<div>").appendTo(this._$tabContainer);this._tabs=this._createComponent(e,uQ,this._tabConfig()),this._$container=I("<div>").addClass("dx-tabpanel-container").appendTo(i),this._$container.append(this._$wrapper)},_refreshActiveDescendant(){if(!this._tabs)return;let i=this._tabs,e=i.itemElements(),t=I(e[i.option("selectedIndex")]),n=this.getFocusedItemId();this.setAria("controls",void 0,I(e)),this.setAria("controls",n,t)},_getTabsIndicatorPosition(){let{_tabsIndicatorPosition:i,tabsPosition:e}=this.option();return i??aDe[e]},_tabConfig(){let i=this._getTabsIndicatorPosition();return{selectOnFocus:!0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),repaintChangesOnly:this.option("repaintChangesOnly"),tabIndex:this.option("tabIndex"),selectedIndex:this.option("selectedIndex"),badgeExpr:this.option("badgeExpr"),onItemClick:this._titleClickAction.bind(this),onItemHold:this._titleHoldAction.bind(this),itemHoldTimeout:this.option("itemHoldTimeout"),onSelectionChanged:(function(e){this.option("selectedIndex",e.component.option("selectedIndex")),this._refreshActiveDescendant()}).bind(this),onItemRendered:this._titleRenderedAction.bind(this),itemTemplate:this._getTemplateByOption("itemTitleTemplate"),items:this.option("items"),noDataText:null,scrollingEnabled:this.option("scrollingEnabled"),scrollByContent:this.option("scrollByContent"),showNavButtons:this.option("showNavButtons"),itemTemplateProperty:"tabTemplate",loopItemFocus:this.option("loop"),selectionRequired:!0,onOptionChanged:(function(e){if(e.name==="focusedElement")if(e.value){let t=I(e.value),n=this._itemElements().eq(t.index());this.option("focusedElement",tt(n))}else this.option("focusedElement",e.value)}).bind(this),onFocusIn:(function(e){this._focusInHandler(e.event)}).bind(this),onFocusOut:(function(e){this._isFocusOutHandlerExecuting||this._focusOutHandler(e.event)}).bind(this),orientation:this._getTabsOrientation(),iconPosition:this.option("iconPosition"),stylingMode:this.option("stylingMode"),_itemAttributes:{class:"dx-tabpanel-tab"},_indicatorPosition:i}},_renderFocusTarget(){this._focusTarget().attr("tabIndex",-1)},_getTabsOrientation(){let{tabsPosition:i}=this.option();return[ff.right,ff.left].includes(i)?hQ.vertical:hQ.horizontal},_getTabPanelTabsPositionClass(){switch(this.option("tabsPosition")){case ff.right:return o_.right;case ff.bottom:return o_.bottom;case ff.left:return o_.left;case ff.top:default:return o_.top}},_toggleTabPanelTabsPositionClass(){for(let e in o_)this.$element().removeClass(o_[e]);let i=this._getTabPanelTabsPositionClass();this.$element().addClass(i)},_updateTabsOrientation(){let i=this._getTabsOrientation();this._setTabsOption("orientation",i)},_toggleWrapperFocusedClass(i){this._toggleFocusClass(i,this._$wrapper)},_toggleDisabledFocusedClass(i){this._focusTarget().toggleClass("dx-disabled-focused-tab",i)},_updateFocusState(i,e){this.callBase(i,e);let t=i.target===this._tabs._focusTarget().get(0),n=i.target===this._focusTarget().get(0);if(t&&this._toggleFocusClass(e,this._focusTarget()),t||n){let o=this._isDisabled(this.option("focusedElement"));this._toggleWrapperFocusedClass(e&&!o),this._toggleDisabledFocusedClass(e&&o)}n&&this._toggleFocusClass(e,this._tabs.option("focusedElement"))},_focusOutHandler(i){this._isFocusOutHandlerExecuting=!0,this.callBase.apply(this,arguments),this._tabs._focusOutHandler(i),this._isFocusOutHandlerExecuting=!1},_setTabsOption(i,e){this._tabs&&this._tabs.option(i,e)},_visibilityChanged(i){i&&this._tabs._dimensionChanged()},registerKeyHandler(i,e){this.callBase(i,e),this._tabs&&this._tabs.registerKeyHandler(i,e)},repaint(){this.callBase(),this._tabs.repaint()},_updateTabsIndicatorPosition(){let i=this._getTabsIndicatorPosition();this._setTabsOption("_indicatorPosition",i)},_optionChanged(i){let{name:e,value:t,fullName:n}=i;switch(e){case"dataSource":default:this.callBase(i);break;case"items":this._setTabsOption(e,this.option(e)),this.option("repaintChangesOnly")||this._tabs.repaint(),this.callBase(i);break;case"width":this.callBase(i),this._tabs.repaint();break;case"selectedIndex":case"selectedItem":if(this._setTabsOption(n,t),this.callBase(i),this.option("focusStateEnabled")===!0){let o=this.option("selectedIndex"),r=this._itemElements().eq(o);this.option("focusedElement",tt(r))}break;case"itemHoldTimeout":case"focusStateEnabled":case"hoverStateEnabled":this._setTabsOption(n,t),this.callBase(i);break;case"scrollingEnabled":case"scrollByContent":case"showNavButtons":this._setTabsOption(n,t);break;case"focusedElement":{let o=t&&I(t).index(),r=t&&this._tabs._itemElements().eq(o);if(this._setTabsOption("focusedElement",tt(r)),t){let s=this._isDisabled(t);this._toggleWrapperFocusedClass(!s),this._toggleDisabledFocusedClass(s)}this.callBase(i);break}case"itemTitleTemplate":this._setTabsOption("itemTemplate",this._getTemplateByOption("itemTitleTemplate"));break;case"onTitleClick":this._createTitleClickAction(),this._setTabsOption("onItemClick",this._titleClickAction.bind(this));break;case"onTitleHold":this._createTitleHoldAction(),this._setTabsOption("onItemHold",this._titleHoldAction.bind(this));break;case"onTitleRendered":this._createTitleRenderedAction(),this._setTabsOption("onItemRendered",this._titleRenderedAction.bind(this));break;case"loop":this._setTabsOption("loopItemFocus",t);break;case"badgeExpr":this._invalidate();break;case"tabsPosition":this._toggleTabPanelTabsPositionClass(),this._updateTabsIndicatorPosition(),this._updateTabsOrientation();break;case"iconPosition":this._setTabsOption("iconPosition",t);break;case"stylingMode":this._setTabsOption("stylingMode",t);break;case"_tabsIndicatorPosition":this._setTabsOption("_indicatorPosition",t)}}});TN.ItemClass=WO;ut("dxTabPanel",TN);var mQ=TN;var gQ=mQ;var Rd=class{constructor(e){this._options=e,this._itemsRunTimeInfo=this._options.itemsRunTimeInfo}findInstance(){return this._itemsRunTimeInfo.findWidgetInstanceByItem(this._options.item)}findItemContainer(){return this._itemsRunTimeInfo.findItemContainerByItem(this._options.item)}findPreparedItem(){return this._itemsRunTimeInfo.findPreparedItemByItem(this._options.item)}tryExecute(){Ut.abstract()}};var UO=(i,e)=>`${e?"tabs":"items"}[${i}]`,AN=(i,e)=>U(i)&&U(e)?`${i}.${e}`:i||e,GO=i=>i?i.replace(/\s/g,""):void 0,_Q=(i,e)=>i?i.dataField===e||i.name===e||GO(i.title)===e||i.itemType==="group"&&GO(i.caption)===e:!1,mf=(i,e)=>`${i}.${e}`,kN=i=>{let e=i.split(".");return e[e.length-1].replace(/\[\d+]/,"")},bQ=i=>{let e=i.split("."),t=[...e];for(let n=e.length-1;n>=0;n--){if(MN(e[n]))return t.join(".");t.splice(n,1)}return""},MN=i=>i.indexOf("tabs")>-1,RN=(i,e,t)=>{let n=i.indexOf(e);if(n>-1)return UO(n,t);for(let o=0;o<i.length;o++){let r=i[o],s=r.tabs||r.items;if(s){let a=RN(s,e,r.tabs);if(a)return AN(UO(o,t),a)}}};function vQ(i){let{form:e,$formElement:t,formOptions:n,items:o,validationGroup:r,extendedLayoutManagerOptions:s,onFieldDataChanged:a,onContentReady:l,onDisposing:d,onFieldItemRendered:c}=i,u={form:e,items:o,$formElement:t,validationGroup:r,onFieldDataChanged:a,onContentReady:l,onDisposing:d,onFieldItemRendered:c,validationBoundary:n.scrollingEnabled?t:void 0,scrollingEnabled:n.scrollingEnabled,showRequiredMark:n.showRequiredMark,showOptionalMark:n.showOptionalMark,requiredMark:n.requiredMark,optionalMark:n.optionalMark,requiredMessage:n.requiredMessage,screenByWidth:n.screenByWidth,layoutData:n.formData,labelLocation:n.labelLocation,customizeItem:n.customizeItem,minColWidth:n.minColWidth,showColonAfterLabel:n.showColonAfterLabel,onEditorEnterKey:n.onEditorEnterKey,labelMode:n.labelMode};return q(u,{isRoot:s.isRoot,colCount:s.colCount,alignItemLabels:s.alignItemLabels,cssItemClass:s.cssItemClass,colCountByScreen:s.colCountByScreen,onLayoutChanged:s.onLayoutChanged,width:s.width})}var FN=class extends Rd{tryExecute(){let{value:e}=this._options,t=this.findInstance();return t?(t.option(e),!0):!1}},KO=class extends Rd{tryExecute(){let e=this.findInstance();if(e){let{optionName:t,item:n,value:o}=this._options,r=this._itemsRunTimeInfo.findItemIndexByItem(n);if(r>=0)return e.option(mf(`items[${r}]`,t),o),!0}return!1}},PN=class extends Rd{tryExecute(){return!1}},LN=class extends Rd{tryExecute(){let e=this.findPreparedItem();return e!=null&&e._prepareGroupItemTemplate&&e._renderGroupContentTemplate?(e._prepareGroupItemTemplate(this._options.item.template),e._renderGroupContentTemplate(),!0):!1}},NN=class extends Rd{tryExecute(){let e=this.findInstance();if(e){let{value:t}=this._options;return e.option("dataSource",t),!0}return!1}},BN=class extends Rd{tryExecute(){let{item:e}=this._options,t=this.findInstance(),n=t&&Zi(t.$element()[0],"dxValidator");if(n&&e){let o=a=>a.type==="required",r=(n.option("validationRules")||[]).some(o),s=(e.validationRules||[]).some(o);if(!r&&!s||r&&s)return n.option("validationRules",e.validationRules),!0}return!1}},VN=class extends Rd{tryExecute(){let e=this.findItemContainer(),{previousValue:t,value:n}=this._options;return e?(e.removeClass(t).addClass(n),!0):!1}},lDe=(i,e)=>{switch(i){case"editorOptions":case"buttonOptions":return new FN(e);case"validationRules":return new BN(e);case"cssClass":return new VN(e);case"badge":case"disabled":case"icon":case"tabTemplate":case"title":return new KO(q(e,{optionName:i}));case"tabs":return new NN(e);case"template":{var t,n;let o=(e==null||(t=e.item)===null||t===void 0?void 0:t.itemType)??((n=e.itemsRunTimeInfo.findPreparedItemByItem(e?.item))===null||n===void 0?void 0:n.itemType);return o==="simple"?new PN(e):o==="group"?new LN(e):new KO(q(e,{optionName:i}))}default:return null}},yQ=lDe;var dDe=["items","isRequired","validationRules","visible"],xQ=Tn.inherit({_init(){this.callBase(),this._dirtyFields=new Set,this._cachedColCountOptions=[],this._itemsRunTimeInfo=new i_,this._groupsColCount=[],this._attachSyncSubscriptions()},_getDefaultOptions(){return q(this.callBase(),{formID:`dx-${new yi}`,formData:{},colCount:1,screenByWidth:xb,colCountByScreen:void 0,labelLocation:"left",readOnly:!1,onFieldDataChanged:null,customizeItem:null,onEditorEnterKey:null,minColWidth:200,alignItemLabels:!0,alignItemLabelsInAllGroups:!0,alignRootItemLabels:!0,showColonAfterLabel:!0,showRequiredMark:!0,showOptionalMark:!1,requiredMark:"*",optionalMark:de.format("dxForm-optionalMark"),requiredMessage:de.getFormatter("dxForm-requiredMessage"),showValidationSummary:!1,items:void 0,scrollingEnabled:!1,validationGroup:void 0,stylingMode:ui().editorStylingMode,labelMode:"outside",isDirty:!1})},_defaultOptionsRules(){return this.callBase().concat([{device:()=>xo(),options:{labelLocation:"top"}},{device:()=>Kn(),options:{showColonAfterLabel:!1}}])},_setOptionsByReference(){this.callBase(),q(this._optionsByReference,{formData:!0,validationGroup:!0})},_getGroupColCount:i=>parseInt(i.attr(yN)),_applyLabelsWidthByCol(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,o=t.inOneColumn?VO:fN+e,r=t.excludeTabbed?`:not(.${bN})`:"";$Z(i,`.${o}${r}`,n)},_applyLabelsWidth(i,e,t,n,o){n=t?1:n||this._getGroupColCount(i);let r={excludeTabbed:e,inOneColumn:t},s;for(s=0;s<n;s++)this._applyLabelsWidthByCol(i,s,r,o)},_getGroupElementsInColumn(i,e,t){let n=U(t)?`.${vN}${t}`:"",o=`.${fN}${e} > .${ry} > .${BO}${n}`;return i.find(o)},_applyLabelsWidthWithGroups(i,e,t,n){if(this.option("alignRootItemLabels")===!0){let r=i.find(`.${HO}`);for(let s=0;s<e;s++)this._applyLabelsWidthByCol(r,s,t,n)}if(this.option("alignItemLabelsInAllGroups"))this._applyLabelsWidthWithNestedGroups(i,e,t,n);else{let r=this.$element().find(`.${BO}`),s;for(s=0;s<r.length;s++)this._applyLabelsWidth(r.eq(s),t,void 0,void 0,n)}},_applyLabelsWidthWithNestedGroups(i,e,t,n){let o={excludeTabbed:t},r,s,a,l;for(r=0;r<e;r++)for(l=this._getGroupElementsInColumn(i,r),this._applyLabelsWidthByCol(l,0,o,n),s=0;s<this._groupsColCount.length;s++){l=this._getGroupElementsInColumn(i,r,this._groupsColCount[s]);let d=this._getGroupColCount(l);for(a=1;a<d;a++)this._applyLabelsWidthByCol(l,a,o,n)}},_labelLocation(){return this.option("labelLocation")},_alignLabelsInColumn(i){let{layoutManager:e,inOneColumn:t,$container:n,excludeTabbed:o,items:r}=i;if(!it()||this._labelLocation()==="top")return;let s=xN(e._getMarkOptions());t?this._applyLabelsWidth(n,o,!0,void 0,s):this._checkGrouping(r)?this._applyLabelsWidthWithGroups(n,e._getColCount(),o,s):this._applyLabelsWidth(n,o,!1,e._getColCount(),s)},_prepareFormData(){U(this.option("formData"))||this.option("formData",{})},_setStylingModeClass(){this.option("stylingMode")==="underlined"&&this.$element().addClass(VZ)},_initMarkup(){Bo.addGroup(this._getValidationGroup(),!1),this._clearCachedInstances(),this._prepareFormData(),this.$element().addClass(TZ),this._setStylingModeClass(),this.callBase(),this.setAria("role","form",this.$element()),this.option("scrollingEnabled")&&this._renderScrollable(),this._renderLayout(),this._renderValidationSummary(),this._lastMarkupScreenFactor=this._targetScreenFactor||this._getCurrentScreenFactor(),this._attachResizeObserverSubscription()},_attachResizeObserverSubscription(){if(it()){let i=this.$element().get(0);vd.unobserve(i),vd.observe(i,()=>{this._resizeHandler()})}},_resizeHandler(){this._cachedLayoutManagers.length&&ee(this._cachedLayoutManagers,(i,e)=>{var t;(t=e.option("onLayoutChanged"))===null||t===void 0||t(e.isSingleColumnMode())})},_getCurrentScreenFactor(){return it()?Nw(this.option("screenByWidth")):"lg"},_clearCachedInstances(){this._itemsRunTimeInfo.clear(),this._cachedLayoutManagers=[]},_alignLabels(i,e){this._alignLabelsInColumn({$container:this.$element(),layoutManager:i,excludeTabbed:!0,items:this.option("items"),inOneColumn:e}),ls(this.$element().find(`.${pE}`))},_clean(){this._clearValidationSummary(),this.callBase(),this._groupsColCount=[],this._cachedColCountOptions=[],this._lastMarkupScreenFactor=void 0,vd.unobserve(this.$element().get(0))},_renderScrollable(){let i=this.option("useNativeScrolling");this._scrollable=new wr(this.$element(),{useNative:!!i,useSimulatedScrollbar:!i,useKeyboard:!1,direction:"both",bounceEnabled:!1})},_getContent(){return this.option("scrollingEnabled")?I(this._scrollable.content()):this.$element()},_clearValidationSummary(){var i;(i=this._$validationSummary)===null||i===void 0||i.remove(),this._$validationSummary=void 0,this._validationSummary=void 0},_renderValidationSummary(){this._clearValidationSummary(),this.option("showValidationSummary")&&(this._$validationSummary=I("<div>").addClass(BZ).appendTo(this._getContent()),this._validationSummary=this._$validationSummary.dxValidationSummary({validationGroup:this._getValidationGroup()}).dxValidationSummary("instance"))},_prepareItems(i,e,t,n){if(i){let o=[];for(let r=0;r<i.length;r++){let s=i[r],a=AN(t,UO(r,n)),l={item:s,itemIndex:r,path:a},d=this._itemsRunTimeInfo.add(l);if(We(s)&&(s={dataField:s}),Ke(s)){let c=ye({},s);l.preparedItem=c,c.guid=d,this._tryPrepareGroupItemCaption(c),this._tryPrepareGroupItem(c),this._tryPrepareTabbedItem(c,a),this._tryPrepareItemTemplate(c),e&&(c.cssItemClass=bN),c.items&&(c.items=this._prepareItems(c.items,e,a)),o.push(c)}else o.push(s)}return o}},_tryPrepareGroupItemCaption(i){i.itemType==="group"&&(i._prepareGroupCaptionTemplate=e=>{i.captionTemplate&&(i.groupCaptionTemplate=this._getTemplate(e)),i.captionTemplate=this._itemGroupTemplate.bind(this,i)},i._prepareGroupCaptionTemplate(i.captionTemplate))},_tryPrepareGroupItem(i){i.itemType==="group"&&(i.alignItemLabels=ji(i.alignItemLabels,!0),i._prepareGroupItemTemplate=e=>{i.template&&(i.groupContentTemplate=this._getTemplate(e)),i.template=this._itemGroupTemplate.bind(this,i)},i._prepareGroupItemTemplate(i.template))},_tryPrepareTabbedItem(i,e){i.itemType==="tabbed"&&(i.template=this._itemTabbedTemplate.bind(this,i),i.tabs=this._prepareItems(i.tabs,!0,e,!0))},_tryPrepareItemTemplate(i){i.template&&(i.template=this._getTemplate(i.template))},_checkGrouping(i){if(i){for(let e=0;e<i.length;e++)if(i[e].itemType==="group")return!0}},_renderLayout(){let i=this,e=i.option("items"),t=i._getContent();e=i._prepareItems(e),i._rootLayoutManager=i._renderLayoutManager(t,this._createLayoutManagerOptions(e,{isRoot:!0,colCount:i.option("colCount"),alignItemLabels:i.option("alignItemLabels"),screenByWidth:this.option("screenByWidth"),colCountByScreen:this.option("colCountByScreen"),onLayoutChanged(n){i._alignLabels.bind(i)(i._rootLayoutManager,n)},onContentReady(n){i._alignLabels(n.component,n.component.isSingleColumnMode())}}))},_tryGetItemsForTemplate:i=>i.items||[],_itemTabbedTemplate(i,e,t){let n=I("<div>").appendTo(t),o=q({},i.tabPanelOptions,{dataSource:i.tabs,onItemRendered:a=>{var l,d;(l=i.tabPanelOptions)===null||l===void 0||(d=l.onItemRendered)===null||d===void 0||d.call(l,a),Gm(a.itemElement)},itemTemplate:(a,l,d)=>{let c=I(d),u=ji(a.alignItemLabels,!0),h=this._renderLayoutManager(c,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(a),{colCount:a.colCount,alignItemLabels:u,screenByWidth:this.option("screenByWidth"),colCountByScreen:a.colCountByScreen,cssItemClass:a.cssItemClass,onLayoutChanged:f=>{this._alignLabelsInColumn({$container:c,layoutManager:h,items:a.items,inOneColumn:f})}}));this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(a.guid,{layoutManager:h}),u&&this._alignLabelsInColumn({$container:c,layoutManager:h,items:a.items,inOneColumn:h.isSingleColumnMode()})}}),r=(a,l)=>{Array.isArray(a)&&a.forEach(d=>this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(d.guid,{widgetInstance:l}))},s=this._createComponent(n,gQ,o);I(t).parent().addClass(LZ),s.on("optionChanged",a=>{a.fullName==="dataSource"&&r(a.value,a.component)}),r([{guid:i.guid},...i.tabs??[]],s)},_itemGroupCaptionTemplate(i,e,t){if(i.groupCaptionTemplate){let n=I("<div>").addClass(kZ).attr("id",t).appendTo(e);i._renderGroupCaptionTemplate=()=>{let o={component:this,caption:i.caption,name:i.name};i.groupCaptionTemplate.render({model:o,container:tt(n)})},i._renderGroupCaptionTemplate();return}i.caption&&I("<span>").addClass(AZ).text(i.caption).attr("id",t).appendTo(e)},_itemGroupContentTemplate(i,e){let t=I("<div>").addClass(FZ).appendTo(e);if(i.groupContentTemplate)i._renderGroupContentTemplate=()=>{t.empty();let n={formData:this.option("formData"),component:this};i.groupContentTemplate.render({model:n,container:tt(t)})},i._renderGroupContentTemplate();else{let n=this._renderLayoutManager(t,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(i),{colCount:i.colCount,colCountByScreen:i.colCountByScreen,alignItemLabels:i.alignItemLabels,cssItemClass:i.cssItemClass}));this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(i.guid,{layoutManager:n});let o=n._getColCount();this._groupsColCount.includes(o)||this._groupsColCount.push(o),e.addClass(vN+o),e.attr(yN,o)}},_itemGroupTemplate(i,e,t){let{id:n}=e.editorOptions.inputAttr,o=I("<div>").toggleClass(NZ,U(i.caption)&&i.caption.length).addClass(BO).appendTo(t),r={role:"group",labelledby:n};this.setAria(r,o),I(t).parent().addClass(PZ),this._itemGroupCaptionTemplate(i,o,n),this._itemGroupContentTemplate(i,o)},_createLayoutManagerOptions(i,e){return vQ({form:this,formOptions:this.option(),$formElement:this.$element(),items:i,validationGroup:this._getValidationGroup(),extendedLayoutManagerOptions:e,onFieldDataChanged:t=>{this._isDataUpdating||this._triggerOnFieldDataChanged(t)},onContentReady:t=>{this._itemsRunTimeInfo.addItemsOrExtendFrom(t.component._itemsRunTimeInfo),e.onContentReady&&e.onContentReady(t)},onDisposing:t=>{let{component:n}=t,o=n.getItemsRunTimeInfo();this._itemsRunTimeInfo.removeItemsByItems(o)},onFieldItemRendered:()=>{var t;(t=this._validationSummary)===null||t===void 0||t.refreshValidationGroup()}})},_renderLayoutManager(i,e){let t={lg:e.colCount,md:e.colCount,sm:e.colCount,xs:1};this._cachedColCountOptions.push({colCountByScreen:q(t,e.colCountByScreen)});let n=I("<div>");n.appendTo(i);let o=this._createComponent(n,"dxLayoutManager",e);return o.on("autoColCountChanged",()=>{this._clearAutoColCountChangedTimeout(),this.autoColCountChangedTimeoutId=setTimeout(()=>!this._disposed&&this._refresh(),0)}),this._cachedLayoutManagers.push(o),o},_getValidationGroup(){return this.option("validationGroup")||this},_createComponent(i,e,t){return t=t||{},this._extendConfig(t,{readOnly:this.option("readOnly")}),this.callBase(i,e,t)},_attachSyncSubscriptions(){let i=this;i.on("optionChanged",e=>{let t=e.fullName;t==="formData"&&(U(e.value)||i._options.silent("formData",e.value={}),i._triggerOnFieldDataChangedByDataSet(e.value)),i._cachedLayoutManagers.length&&ee(i._cachedLayoutManagers,(n,o)=>{t==="formData"&&(i._isDataUpdating=!0,o.option("layoutData",e.value),i._isDataUpdating=!1),(e.name==="readOnly"||e.name==="disabled")&&o.option(t,e.value)})})},_optionChanged(i){let e=i.fullName.split(".");e.length>1&&e[0].search("items")!==-1&&this._itemsOptionChangedHandler(i)||e.length>1&&e[0].search("formData")!==-1&&this._formDataOptionChangedHandler(i)||this._defaultOptionChangedHandler(i)},_defaultOptionChangedHandler(i){switch(i.name){case"formData":this.option("items")?Gn(i.value)&&this._clear():this._invalidate();break;case"onFieldDataChanged":case"alignRootItemLabels":case"readOnly":case"isDirty":break;case"items":case"colCount":case"onEditorEnterKey":case"labelLocation":case"labelMode":case"alignItemLabels":case"showColonAfterLabel":case"customizeItem":case"alignItemLabelsInAllGroups":case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":case"requiredMessage":case"scrollingEnabled":case"formID":case"colCountByScreen":case"screenByWidth":case"stylingMode":this._invalidate();break;case"showValidationSummary":this._renderValidationSummary();break;case"minColWidth":this.option("colCount")==="auto"&&this._invalidate();break;case"width":this.callBase(i),this._rootLayoutManager.option(i.name,i.value),this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode());break;case"validationGroup":Bo.removeGroup(i.previousValue||this),this._invalidate();break;default:this.callBase(i)}},_itemsOptionChangedHandler(i){let e=i.fullName.split("."),{value:t}=i,n=this._getItemPath(e),o=this.option(n),r=i.fullName.replace(`${n}.`,""),s=r.split(".")[0].replace(/\[\d+]/,""),a=this._tryCreateItemOptionAction(s,o,o[s],i.previousValue,n),l=this._tryExecuteItemOptionAction(a)||this._tryChangeLayoutManagerItemOption(i.fullName,t);if(!l&&o){this._changeItemOption(o,r,t);let d=this._generateItemsFromData(this.option("items"));this.option("items",d),l=!0}return l},_formDataOptionChangedHandler(i){let e=i.fullName.split("."),{value:t}=i,n=e.slice(1).join("."),o=this.getEditor(n);return o?o.option("value",t):this._triggerOnFieldDataChanged({dataField:n,value:t}),!0},_tryCreateItemOptionAction(i,e,t,n,o){return i==="tabs"&&(this._itemsRunTimeInfo.removeItemsByPathStartWith(`${o}.tabs`),t=this._prepareItems(t,!0,o,!0)),yQ(i,{item:e,value:t,previousValue:n,itemsRunTimeInfo:this._itemsRunTimeInfo})},_tryExecuteItemOptionAction:i=>i&&i.tryExecute(),_updateValidationGroupAndSummaryIfNeeded(i){let e=kN(i);if(dDe.includes(e)&&(Bo.addGroup(this._getValidationGroup(),!1),this.option("showValidationSummary"))){var t;(t=this._validationSummary)===null||t===void 0||t.refreshValidationGroup()}},_setLayoutManagerItemOption(i,e,t,n){if(this._updateLockCount>0){!i._updateLockCount&&i.beginUpdate();let r=this._itemsRunTimeInfo.findKeyByPath(n);this.postponedOperations.add(r,()=>(!i._disposed&&i.endUpdate(),le().resolve()))}let o=r=>{if(r.component.off("contentReady",o),MN(n)){let s=bQ(n),a=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(s);a&&this._alignLabelsInColumn({items:a.option("items"),layoutManager:a,$container:a.$element(),inOneColumn:a.isSingleColumnMode()})}else this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode())};i.on("contentReady",o),i.option(e,t),this._updateValidationGroupAndSummaryIfNeeded(e)},_tryChangeLayoutManagerItemOption(i,e){let t=i.split("."),n=kN(i);if(n==="items"&&t.length>1){let o=this._getItemPath(t),r=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(o);if(r){this._itemsRunTimeInfo.removeItemsByItems(r.getItemsRunTimeInfo());let s=this._prepareItems(e,!1,o);return this._setLayoutManagerItemOption(r,n,s,o),!0}}else if(t.length>2){let o=t.length-2,r=this._getItemPath(t.slice(0,o)),s=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(r);if(s){let a=mf(t[o],n);if(n==="editorType"&&s.option(a)!==e)return!1;if(n==="visible"){let l=this.option(mf(r,"items"));if(l&&l.length){let d=s.option("items");l.forEach((c,u)=>{let h=d[u];h.visibleIndex=c.visibleIndex})}}return this._setLayoutManagerItemOption(s,a,e,r),!0}}return!1},_tryChangeLayoutManagerItemOptions(i,e){let t;return this.beginUpdate(),ee(e,(n,o)=>{if(t=this._tryChangeLayoutManagerItemOption(mf(i,n),o),!t)return!1}),this.endUpdate(),t},_getItemPath(i){let e=i[0],t;for(t=1;t<i.length&&i[t].search(/items\[\d+]|tabs\[\d+]/)!==-1;t++)e+=`.${i[t]}`;return e},_triggerOnFieldDataChanged(i){this._updateIsDirty(i.dataField),this._createActionByOption("onFieldDataChanged")(i)},_triggerOnFieldDataChangedByDataSet(i){i&&Ke(i)&&Object.keys(i).forEach(e=>{this._triggerOnFieldDataChanged({dataField:e,value:i[e]})})},_updateFieldValue(i,e){if(U(this.option("formData"))){let t=this.getEditor(i);this.option(`formData.${i}`,e),t&&t.option("value")!==e&&t.option("value",e)}},_generateItemsFromData(i){let e=this.option("formData"),t=[];return!i&&U(e)&&ee(e,n=>{t.push({dataField:n})}),i&&ee(i,(n,o)=>{Ke(o)?t.push(o):t.push({dataField:o})}),t},_getItemByField(i,e){let t=this,n=Ke(i)?i:t._getFieldParts(i),{fieldName:o}=n,{fieldPath:r}=n,s;return e.length&&ee(e,(a,l)=>{let{itemType:d}=l;if(r.length){let c=r.slice();l=t._getItemByFieldPath(c,o,l)}else if(d==="group"&&!(l.caption||l.name)||d==="tabbed"&&!l.name){let c=t._getSubItemField(d);l.items=t._generateItemsFromData(l.items),l=t._getItemByField({fieldName:o,fieldPath:r},l[c])}if(_Q(l,o))return s=l,!1}),s},_getFieldParts(i){let e=i,t=e.indexOf("."),n=[];for(;t!==-1;)n.push(e.substr(0,t)),e=e.substr(t+1),t=e.indexOf(".");return{fieldName:e,fieldPath:n.reverse()}},_getItemByFieldPath(i,e,t){let n=this,{itemType:o}=t,r=n._getSubItemField(o),s=o==="group"||o==="tabbed"||t.title,a;do if(s){let l=t.name||t.caption||t.title,d=U(l),c=GO(l),u;if(t[r]=n._generateItemsFromData(t[r]),d&&(u=i.pop()),!i.length&&(a=n._getItemByField(e,t[r]),a))break;(!d||d&&c===u)&&i.length&&(a=n._searchItemInEverySubItem(i,e,t[r]))}else break;while(i.length&&!U(a));return a},_getSubItemField:i=>i==="tabbed"?"tabs":"items",_searchItemInEverySubItem(i,e,t){let n=this,o;return ee(t,(r,s)=>{if(o=n._getItemByFieldPath(i.slice(),e,s),o)return!1}),o||(o=!1),o},_changeItemOption(i,e,t){Ke(i)&&(i[e]=t)},_dimensionChanged(){let i=this._getCurrentScreenFactor();this._lastMarkupScreenFactor!==i&&(this._isColCountChanged(this._lastMarkupScreenFactor,i)&&(this._targetScreenFactor=i,this._refresh(),this._targetScreenFactor=void 0),this._lastMarkupScreenFactor=i)},_isColCountChanged(i,e){let t=!1;return ee(this._cachedColCountOptions,(n,o)=>{if(o.colCountByScreen[i]!==o.colCountByScreen[e])return t=!0,!1}),t},_refresh(){X.trigger(this.$element().find(".dx-state-focused > :not(.dx-dropdowneditor-input-wrapper) input, .dx-state-focused textarea"),"change"),this.callBase()},_updateIsDirty(i){let e=this.getEditor(i);e&&(e.option("isDirty")?this._dirtyFields.add(i):this._dirtyFields.delete(i),this.option("isDirty",!!this._dirtyFields.size))},updateRunTimeInfoForEachEditor(i){this._itemsRunTimeInfo.each((e,t)=>{let{widgetInstance:n}=t;U(n)&&Mr.isEditor(n)&&i(n)})},_clear(){this.updateRunTimeInfoForEachEditor(i=>{i.clear(),i.option("isValid",!0)}),Bo.resetGroup(this._getValidationGroup())},_updateData(i,e,t){let n=this,o=t?e:i;Ke(o)?ee(o,(r,s)=>{n._updateData(t?`${i}.${r}`:r,s,Ke(s))}):We(i)&&n._updateFieldValue(i,e)},registerKeyHandler(i,e){this.callBase(i,e),this._itemsRunTimeInfo.each((t,n)=>{U(n.widgetInstance)&&n.widgetInstance.registerKeyHandler(i,e)})},_focusTarget(){return this.$element().find(`.${ry} [tabindex]`).first()},_visibilityChanged(){this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode())},_clearAutoColCountChangedTimeout(){this.autoColCountChangedTimeoutId&&(clearTimeout(this.autoColCountChangedTimeoutId),this.autoColCountChangedTimeoutId=void 0)},_dispose(){this._clearAutoColCountChangedTimeout(),Bo.removeGroup(this._getValidationGroup()),this.callBase()},clear(){this._clear()},resetValues(){this._clear()},reset(i){this.updateRunTimeInfoForEachEditor(e=>{let t=e.option("name");i&&t in i?e.reset(i[t]):e.reset()}),this._renderValidationSummary()},updateData(i,e){this._updateData(i,e)},getEditor(i){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(i)||this._itemsRunTimeInfo.findWidgetInstanceByName(i)},getButton(i){return this._itemsRunTimeInfo.findWidgetInstanceByName(i)},updateDimensions(){let i=this,e=le();return i._scrollable?i._scrollable.update().done(()=>{e.resolveWith(i)}):e.resolveWith(i),e.promise()},itemOption(i,e,t){let n=this._generateItemsFromData(this.option("items")),o=this._getItemByField(i,n),r=RN(n,o);if(o)switch(arguments.length){case 1:return o;case 3:{let s=this._tryCreateItemOptionAction(e,o,t,o[e],r);this._changeItemOption(o,e,t);let a=mf(r,e);!this._tryExecuteItemOptionAction(s)&&!this._tryChangeLayoutManagerItemOption(a,t)&&this.option("items",n);break}default:if(Ke(e)&&!this._tryChangeLayoutManagerItemOptions(r,e)){let s;ee(e,(a,l)=>{let d=this._tryCreateItemOptionAction(a,o,l,o[a],r);this._changeItemOption(o,a,l),!s&&!this._tryExecuteItemOptionAction(d)&&(s=!0)}),s&&this.option("items",n)}}},validate(){return Bo.validateGroup(this._getValidationGroup())},getItemID(i){return`dx_${this.option("formID")}_${i||new yi}`},getTargetScreenFactor(){return this._targetScreenFactor}});ut("dxForm",xQ);var CQ=xQ;var wQ=CQ;var qO=wQ;var cDe=i=>class extends i{init(){this._editForm=null,this._updateEditFormDeferred=null,super.init()}isEditRow(e){return!this.isPopupEditMode()&&super.isEditRow(e)}isFormOrPopupEditMode(){return this.isPopupEditMode()||this.isFormEditMode()}isFormEditMode(){return this.option("editing.mode")===iy}getFirstEditableColumnIndex(){let e=this._firstFormItem;if(this.isFormEditMode()&&e){let t=this.option(Fr),n=this._dataController.getRowIndexByKey(t),o=this._rowsView.getCellElements(n);return this._rowsView._getEditFormEditorVisibleIndex(o,e.column)}return super.getFirstEditableColumnIndex()}getEditFormRowIndex(){return this.isFormOrPopupEditMode()?this._getVisibleEditRowIndex():super.getEditFormRowIndex()}_isEditColumnVisible(){let e=super._isEditColumnVisible(),t=this.option("editing");return this.isFormOrPopupEditMode()&&t.allowUpdating||e}_handleDataChanged(e){if(this.isPopupEditMode()){var t,n;let o=this.option("editing.editRowKey"),r=e==null||(t=e.items)===null||t===void 0?void 0:t.some(a=>hi(a.key,o)),s=((n=e.changeTypes)===null||n===void 0?void 0:n.length)&&e.changeTypes.every(a=>a==="insert");(e.changeType==="refresh"||r&&e.isOptionChanged)&&!s&&this._repaintEditPopup()}super._handleDataChanged(e)}getPopupContent(){var e;let t=(e=this._editPopup)===null||e===void 0?void 0:e.option("visible");if(this.isPopupEditMode()&&t)return this._$popupContent}_showAddedRow(e){this.isPopupEditMode()?this._showEditPopup(e):super._showAddedRow(e)}_cancelEditDataCore(){super._cancelEditDataCore(),this.isPopupEditMode()&&this._hideEditPopup()}_updateEditRowCore(e,t,n){let o=this._editForm;if(this.isPopupEditMode())if(this.option("repaintChangesOnly")){var r;(r=e.update)===null||r===void 0||r.call(e,e),this._rowsView.renderDelayedTemplates()}else o&&(this._updateEditFormDeferred=new le().done(()=>o.repaint()),this._updateLockCount||this._updateEditFormDeferred.resolve());else super._updateEditRowCore(e,t,n)}_showEditPopup(e,t){let n=Ve.current().deviceType!=="desktop",o=this.addWidgetPrefix(uZ),r=q({showTitle:!1,fullScreen:n,wrapperAttr:{class:o},toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:this._getSaveButtonConfig()},{toolbar:"bottom",location:"after",widget:"dxButton",options:this._getCancelButtonConfig()}],contentTemplate:this._getPopupEditFormTemplate(e)},this.option(Zg));if(!this._editPopup){let s=I("<div>").appendTo(this.component.$element()).addClass(o);this._editPopup=this._createComponent(s,Qr),this._editPopup.on("hiding",this._getEditPopupHiddenHandler()),this._editPopup.on("shown",a=>{if(X.trigger(a.component.$content().find(Qg).not(`.${pZ}`).first(),"focus"),t){var l;(l=this._editForm)===null||l===void 0||l.repaint()}})}this._editPopup.option(r),this._editPopup.show(),super._showEditPopup(e,t)}_getPopupEditFormTemplate(e){let t=this.component.getVisibleRows()[e],n={row:t,values:t.values,rowType:t.rowType,key:t.key,rowIndex:e};return this._rowsView._addWatchMethod(n,t),o=>{let r=this.getEditFormTemplate(),s=this._createComponent(I("<div>").appendTo(o),wr);this._$popupContent=I(s.content()),r(this._$popupContent,n,{isPopupForm:!0}),this._rowsView.renderDelayedTemplates(),I(o).parent().attr("aria-label",this.localize("dxDataGrid-ariaEditForm"))}}_repaintEditPopup(){let e=this._getVisibleEditRowIndex();if(e>=0){var t,n;let o=(t=this._editPopup)===null||t===void 0?void 0:t.option("animation");(n=this._editPopup)===null||n===void 0||n.option("animation",null),this._showEditPopup(e,!0),o!==void 0&&this._editPopup.option("animation",o)}}_hideEditPopup(){var e;(e=this._editPopup)===null||e===void 0||e.option("visible",!1)}optionChanged(e){if(e.name==="editing"&&this.isFormOrPopupEditMode()){let{fullName:t}=e;t.indexOf(RO)===0?(this._handleFormOptionChange(e),e.handled=!0):t.indexOf(Zg)===0&&(this._handlePopupOptionChange(e),e.handled=!0)}super.optionChanged(e)}_handleFormOptionChange(e){var t;if(this.isFormEditMode()){let n=this._getVisibleEditRowIndex();n>=0&&this._dataController.updateItems({changeType:"update",rowIndices:[n]})}else(t=this._editPopup)!==null&&t!==void 0&&t.option("visible")&&e.fullName.indexOf(RO)===0&&this._repaintEditPopup()}_handlePopupOptionChange(e){let t=this._editPopup;if(t){let n=e.fullName.slice(Zg.length+1);n?t.option(n,e.value):t.option(e.value)}}renderFormEditorTemplate(e,t,n,o,r){let s=this,a=I(o),{column:l}=t,d=yZ(t),c=e?.row,u=c?.data,h=n.component,f=l.calculateCellValue(u),p=De.getDisplayValue(l,f,u,c?.rowType),{label:m,labelMark:g,labelMode:b}=n.editorOptions||{},x=q({},e,{data:u,cellElement:null,isOnForm:!0,item:t,id:h.getItemID(t.name||t.dataField),column:q({},l,{editorType:d,editorOptions:q({label:m,labelMark:g,labelMode:b},l.editorOptions,t.editorOptions)}),columnIndex:l.index,setValue:!r&&l.allowEditing&&function(D,L){s.updateFieldValue(x,D,L)}});x.value=f,x.displayValue=p,x.text=l.command?"":De.formatValue(p,l);let E=this._getFormEditItemTemplate.bind(this)(x,l);return this._rowsView.renderTemplate(a,E,x,!!ah(a)).done(()=>{this._rowsView._updateCell(a,x)}),x}getFormEditorTemplate(e,t){let n=this.component.columnOption(t.name||t.dataField);return(o,r)=>{let s=I(r),{row:a}=e;if(a!=null&&a.watch){let l=a.watch(()=>n.selector(a.data),()=>{var d;let c=s.find(".dx-widget").first(),u=c.data("dxValidator"),h=(d=u)===null||d===void 0?void 0:d.option();s.contents().remove(),e=this.renderFormEditorTemplate.bind(this)(e,t,o,s),c=s.find(".dx-widget").first(),u=c.data("dxValidator"),h&&!u&&c.dxValidator({validationRules:h.validationRules,validationGroup:h.validationGroup,dataGetter:h.dataGetter})});X.on(s,Io,l)}e=this.renderFormEditorTemplate.bind(this)(e,t,o,s)}}getEditFormOptions(e){var t;let n=(t=this._getValidationGroupsInForm)===null||t===void 0?void 0:t.call(this,e),o=this.option("editing.form.customizeItem"),r=this.addWidgetPrefix(rN),s=this.option("editing.form.items"),a={};if(s)cN(s,l=>{let d=l?.name||l?.dataField;d&&(a[d]=!!l.editorType)});else{let l=this._columnsController.getColumns();s=[],ee(l,(d,c)=>{!c.isBand&&!c.type&&s.push({column:c,name:c.name,dataField:c.dataField})})}return q({},n,{items:s,formID:`dx-${new yi}`,customizeItem:l=>{let d,c=l.name||l.dataField;if((l.column||c)&&(d=l.column||this._columnsController.columnOption(l.name?`name:${l.name}`:`dataField:${l.dataField}`)),d){if(l.label=l.label||{},l.label.text=l.label.text||d.caption,d.dataType==="boolean"&&l.label.visible===void 0){let h=this.option("editing.form.labelMode");(h==="floating"||h==="static")&&(l.label.visible=!0)}l.template=l.template||this.getFormEditorTemplate(e,l),l.column=d,l.isCustomEditorType=a[c],d.formItem&&q(l,d.formItem),l.isRequired===void 0&&d.validationRules&&(l.isRequired=d.validationRules.some(h=>h.type==="required"),l.validationRules=[]);let u=U(l.visible)?l.visible:!0;!this._firstFormItem&&u&&(this._firstFormItem=l)}o?.call(this,l),l.cssClass=We(l.cssClass)?`${l.cssClass} ${r}`:r}})}getEditFormTemplate(){return(e,t,n)=>{let o=this.option(RO),r=this.getEditFormOptions(t),s=I("<div>").appendTo(e),a=n?.isPopupForm;if(this._firstFormItem=void 0,a&&s.addClass(this.addWidgetPrefix(hZ)),this._editForm=this._createComponent(s,qO,q({},o,r)),!a){let l=I("<div>").addClass(this.addWidgetPrefix(mZ)).appendTo(e);this._createComponent(I("<div>").appendTo(l),Ln,this._getSaveButtonConfig()),this._createComponent(I("<div>").appendTo(l),Ln,this._getCancelButtonConfig())}this._editForm.on("contentReady",()=>{var l;this._rowsView.renderDelayedTemplates(),(l=this._editPopup)===null||l===void 0||l.repaint()})}}getEditForm(){return this._editForm}_endUpdateCore(){var e;(e=this._updateEditFormDeferred)===null||e===void 0||e.resolve()}_beforeEndSaving(e){if(super._beforeEndSaving(e),this.isPopupEditMode()){var t;(t=this._editPopup)===null||t===void 0||t.hide()}}_processDataItemCore(e,t,n,o,r){let{type:s}=t;this.isPopupEditMode()&&s===Ga&&(e.visible=!1),super._processDataItemCore(e,t,n,o,r)}_editRowFromOptionChangedCore(e,t){let n=this.isPopupEditMode();super._editRowFromOptionChangedCore(e,t,n),n&&this._showEditPopup(t)}},uDe=i=>class extends i{_updateEditItem(e){this._editingController.isFormEditMode()&&(e.rowType="detail")}_getChangedColumnIndices(e,t,n,o){if(!(o===!1&&t.isEditing&&this._editingController.isFormEditMode()))return super._getChangedColumnIndices.apply(this,arguments)}},hDe=i=>class extends i{_renderCellContent(e,t){t.rowType==="data"&&this._editingController.isPopupEditMode()&&t.row.visible===!1||super._renderCellContent.apply(this,arguments)}getCellElements(e){let t=super.getCellElements(e),n=this._editingController,o=n.getEditForm();return n.getEditFormRowIndex()===e&&t&&o?o.$element().find(`.${this.addWidgetPrefix(rN)}, .${fZ}`):t}_getVisibleColumnIndex(e,t,n){if(this._editingController.getEditFormRowIndex()===t&&We(n)){let r=this._columnsController.columnOption(n);return this._getEditFormEditorVisibleIndex(e,r)}return super._getVisibleColumnIndex.apply(this,arguments)}_getEditFormEditorVisibleIndex(e,t){let n=-1;return ee(e,(o,r)=>{let s=I(r).find(".dx-field-item-content").data("dx-form-item");if(s!=null&&s.column&&t&&s.column.index===t.index)return n=o,!1}),n}_isFormItem(e){let t=e.rowType==="detail"||e.rowType==="detailAdaptive",n=e.rowType==="data"&&this._editingController.isPopupEditMode();return(t||n)&&e.item}_updateCell(e,t){this._isFormItem(t)?this._formItemPrepared(t,e):super._updateCell(e,t)}_updateContent(){let e=this._editingController,t=e.getEditForm(),n=t?.option("validationGroup");return super._updateContent.apply(this,arguments).done(()=>{let r=e.getEditForm();n&&r&&r!==t&&r.option("validationGroup",n)})}},SQ={extenders:{controllers:{editing:cDe,data:uDe},views:{rowsView:hDe}}};qe.registerModule("editingFormBased",SQ);var pDe=i=>class extends i{init(){let e=!this._saveEditorHandler;if(super.init(),e){let t,n;this._pointerUpEditorHandler=()=>{var o;n=(o=this._columnsResizerController)===null||o===void 0?void 0:o.isResizing()},this._pointerDownEditorHandler=o=>t=I(o.target),this._saveEditorHandler=this.createAction(function(o){let{event:r}=o,s=I(r.target),a=r[FO],{component:l}=this;if(vZ(t)&&!t.is(s))return;function d(c){if(!c)return!1;let u=c.closest(`.${lZ}`),h=l.$element();return u.length>0&&h.closest(u).length===0}if(this.isCellOrBatchEditMode()&&!this._editCellInProgress){let c=d(s)||d(a?.$element()),u=a&&!a._disposed&&a!==this.component,h=!!s.closest(`.${this.addWidgetPrefix(aZ)}`).length,f=s.hasClass(this.addWidgetPrefix(sZ)),p=this.isCellEditMode();!n&&!c&&!f&&!(h&&p&&this.isEditing())&&(ah(s)||u)&&this._closeEditItem.bind(this)(s)}}),X.on(be.getDocument(),Mt.up,this._pointerUpEditorHandler),X.on(be.getDocument(),Mt.down,this._pointerDownEditorHandler),X.on(be.getDocument(),Kt,this._saveEditorHandler)}}isCellEditMode(){return this.option("editing.mode")===ty}isBatchEditMode(){return this.option("editing.mode")===Jg}isCellOrBatchEditMode(){return this.isCellEditMode()||this.isBatchEditMode()}_needToCloseEditableCell(e){let t=this.component.$element(),n=this.isEditing();if((!t||!!e.closest(t).length)&&e.closest(`.${dZ}`).length){let a=e.closest(`.${Dl}> td`),l=this._rowsView.getRowIndex(a.parent()),d=this._rowsView.getCellElements(l);if(d!=null&&d.length){var r;let c=d.index(a),h=(r=this._columnsController.getVisibleColumns()[c])===null||r===void 0?void 0:r.allowEditing,f=this.isEditCell(l,c);n=n&&!h&&!f}}return n||super._needToCloseEditableCell(e)}_closeEditItem(e){this._needToCloseEditableCell(e)&&this.closeEditCell()}_focusEditorIfNeed(){if(this._needFocusEditor&&this.isCellOrBatchEditMode()){var e;let t=this._getVisibleEditColumnIndex(),n=(e=this._rowsView)===null||e===void 0?void 0:e._getCellElement(this._getVisibleEditRowIndex(),t);this._refocusEditCell=!1,clearTimeout(this._inputFocusTimeoutID),n&&!n.find(":focus").length?this._focusEditingCell(()=>{this._editCellInProgress=!1},n,!0):this._editCellInProgress=!1,this._needFocusEditor=!1}else super._focusEditorIfNeed()}isEditing(){if(this.isCellOrBatchEditMode()){let e=U(this.option(Fr)),t=U(this.option(ou));return e&&t}return super.isEditing()}_handleEditColumnNameChange(e){let t=this._getVisibleEditRowIndex(e.previousValue);if(this.isCellOrBatchEditMode()&&t!==-1&&U(e.value)&&e.value!==e.previousValue){let n=this._columnsController.getVisibleColumnIndex(e.value),o=this._columnsController.getVisibleColumnIndex(e.previousValue);this._editCellFromOptionChanged(n,o,t)}}_addRow(e){if(this.isCellEditMode()&&this.hasChanges()){let t=new le;return this.saveEditData().done(()=>{this.hasChanges()?t.reject("cancel"):this.addRow(e).done(t.resolve).fail(t.reject)}),t.promise()}return super._addRow(e)}editCell(e,t){return this._editCell({rowIndex:e,columnIndex:t})}_editCell(e){let t=new le,n;return this.executeOperation(t,()=>{n=this._editCellCore(e),Be(n).done(t.resolve).fail(t.reject)}),n!==void 0?n:t.promise()}_editCellCore(e){let t=this._dataController,n=U(e.oldColumnIndex)||U(e.oldRowIndex),{columnIndex:o,rowIndex:r,column:s,item:a}=this._getNormalizedEditCellOptions(e),l={data:a?.data,cancel:!1,column:s};if(a.key===void 0){this._dataController.fireError("E1043");return}if(s&&(a.rowType==="data"||a.rowType==="detailAdaptive")&&!a.removed&&this.isCellOrBatchEditMode()){if(!n&&this.isEditCell(r,o))return!0;let d=r+t.getRowIndexOffset();return Be(this._beforeEditCell(r,o,a)).done(c=>{c||this._prepareEditCell(l,a,o,d)||this._processCanceledEditingCell()})}return!1}_beforeEditCell(e,t,n){if(this.isCellEditMode()&&!n.isNewRow&&this.hasChanges()){let o=new le;return this.saveEditData().always(()=>{o.resolve(this.hasChanges())}),this.addDeferred(o),o}return!1}publicMethods(){return super.publicMethods().concat(["editCell","closeEditCell"])}_getNormalizedEditCellOptions(e){let{oldColumnIndex:t,oldRowIndex:n,columnIndex:o,rowIndex:r}=e,s=this._columnsController,a=s.getVisibleColumns(),d=this._dataController.items()[r],c;U(t)?c=a[t]:c=this._getEditColumn(),U(n)||(n=this._getVisibleEditRowIndex()),We(o)&&(o=s.columnOption(o,"index"),o=s.getVisibleIndex(o));let u=a[o];return{oldColumn:c,columnIndex:o,oldRowIndex:n,rowIndex:r,column:u,item:d}}_prepareEditCell(e,t,n,o){return t.isNewRow||(e.key=t.key),this._isEditingStart(e)?!1:(this._pageIndex=this._dataController.pageIndex(),this._setEditRowKey(t.key),this._setEditColumnNameByIndex(n),e.column.showEditorAlways||this._addInternalData({key:t.key,oldData:t.oldData??t.data}),!0)}closeEditCell(e,t){let n=Be(),o=this._getVisibleEditRowIndex();if(this.isCellOrBatchEditMode()){let r=new le;n=new le,this.executeOperation(r,()=>{this._closeEditCellCore(e,o,t).always(n.resolve)})}return n.promise()}_closeEditCellCore(e,t,n){let o=this._dataController,r=new le,s=r.promise();if(this.isCellEditMode()&&this.hasChanges()){if(!n)return this.saveEditData().done(a=>{if(!this.hasChanges()){this.closeEditCell(!!a).always(r.resolve);return}r.resolve()}),s}else if(this._resetEditRowKey(),this._resetEditColumnName(),t>=0){let a=[t];this._beforeCloseEditCellInBatchMode(a),e||o.updateItems({changeType:"update",rowIndices:a})}return r.resolve(),s}_resetModifiedClassCells(e){if(this.isBatchEditMode()){let t=this._columnsController.getVisibleColumns().length;e.forEach(n=>{let{key:o}=n,r=this._dataController.getRowIndexByKey(o);for(let s=0;s<t;s++){let a=this._rowsView._getCellElement(r,s);a?.removeClass(NX)}})}}_prepareChange(e,t,n){let o=I(e.cellElement);return this.isBatchEditMode()&&e.key!==void 0&&this._applyModified(o,e),super._prepareChange(e,t,n)}_cancelSaving(e){let t=this._dataController;this.isCellOrBatchEditMode()&&(this.isBatchEditMode()&&this._resetEditIndices(),t.updateItems()),super._cancelSaving(e)}optionChanged(e){let{fullName:t}=e;e.name==="editing"&&t===ou?(this._handleEditColumnNameChange(e),e.handled=!0):super.optionChanged(e)}_editCellFromOptionChanged(e,t,n){let o=this._columnsController.getVisibleColumns();e>-1&&jn(()=>{this._repaintEditCell(o[e],o[t],n)})}_handleEditRowKeyChange(e){if(this.isCellOrBatchEditMode()){let n=this._getVisibleEditColumnIndex(),o=this._getEditRowIndexCorrection(),r=this._dataController.getRowIndexByKey(e.previousValue)+o;if(U(e.value)&&e.value!==e.previousValue){var t;(t=this._editCellFromOptionChanged)===null||t===void 0||t.call(this,n,n,r)}}else super._handleEditRowKeyChange(e)}deleteRow(e){if(this.isCellEditMode()&&this.isEditing()){let{isNewRow:t}=this._dataController.items()[e],n=this._dataController.getKeyByRowIndex(e);this.closeEditCell(null,t).always(()=>{e=this._dataController.getRowIndexByKey(n),this._checkAndDeleteRow(e)})}else super.deleteRow(e)}_checkAndDeleteRow(e){this.isBatchEditMode()?this._deleteRowCore(e):super._checkAndDeleteRow(e)}_refreshCore(e){let{isPageChanged:t}=e??{},n=this.isBatchEditMode()||t&&this.option("scrolling.mode")!=="virtual";this.isCellOrBatchEditMode()?n&&(this._resetEditColumnName(),this._resetEditRowKey()):super._refreshCore(e)}_allowRowAdding(e){return this.isBatchEditMode()?!0:super._allowRowAdding(e)}_afterDeleteRow(e,t){let n=this._dataController;return this.isBatchEditMode()?(n.updateItems({changeType:"update",rowIndices:[t,e]}),new le().resolve()):super._afterDeleteRow(e,t)}_updateEditRow(e,t,n){this.isCellOrBatchEditMode()?this._updateRowImmediately(e,t,n):super._updateEditRow(e,t,n)}_isDefaultButtonVisible(e,t){if(this.isCellOrBatchEditMode()){let n=this.isBatchEditMode();switch(e.name){case"save":case"cancel":case"edit":return!1;case"delete":return super._isDefaultButtonVisible(e,t)&&(!n||!t.row.removed);case"undelete":return n&&this.allowDeleting(t)&&t.row.removed;default:return super._isDefaultButtonVisible(e,t)}}return super._isDefaultButtonVisible(e,t)}_isRowDeleteAllowed(){return super._isRowDeleteAllowed()||this.isBatchEditMode()}_beforeEndSaving(e){if(this.isCellEditMode()){var t;((t=e[0])===null||t===void 0?void 0:t.type)!=="update"&&super._beforeEndSaving(e)}else this.isBatchEditMode()&&this._resetModifiedClassCells(e),super._beforeEndSaving(e)}prepareEditButtons(e){let t=this.option("editing")??{},n=super.prepareEditButtons(e);return(t.allowUpdating||t.allowAdding||t.allowDeleting)&&this.isBatchEditMode()&&(n.push(this.prepareButtonItem(e,"save","saveEditData",21)),n.push(this.prepareButtonItem(e,"revert","cancelEditData",22))),n}_saveEditDataInner(){var e;let t=this._dataController.getVisibleRows()[this.getEditRowIndex()],n=this._getEditColumn(),o=n?.showEditorAlways,r=this.isCellEditMode()&&!(t!=null&&t.isNewRow),s;return r&&o&&(s=new le,this.addDeferred(s)),super._saveEditDataInner().always((e=s)===null||e===void 0?void 0:e.resolve)}_applyChange(e,t,n){let o=this.isCellEditMode()&&e.row&&!e.row.isNewRow,{showEditorAlways:r}=e.column,s=e.column.setCellValue!==e.column.defaultSetCellValue;if(r&&!n&&o&&this.hasEditData()&&!this.isEditCell(e.rowIndex,e.columnIndex)){this._focusEditingCell(),this._updateEditRow(e.row,!0,s);return}return super._applyChange(e,t,n)}_applyChangeCore(e,t){let{showEditorAlways:n}=e.column,o=this.isCellEditMode()&&e.row&&!e.row.isNewRow;if(n&&!t){if(o)return this._setEditRowKey(e.row.key,!0),this._setEditColumnNameByIndex(e.columnIndex,!0),this.saveEditData();if(this.isBatchEditMode())return t=this._needUpdateRow(e.column),super._applyChangeCore(e,t)}return super._applyChangeCore(e,t)}_processDataItemCore(e,t,n,o,r){let{data:s,type:a}=t;this.isBatchEditMode()&&a===Tl&&(e.data=xl(e.data,s)),super._processDataItemCore(e,t,n,o,r)}_processRemoveCore(e,t,n){if(!(this.isBatchEditMode()&&!n))return super._processRemoveCore(e,t,n)}_processRemoveIfError(e,t){if(!this.isBatchEditMode())return super._processRemoveIfError(e,t)}_beforeFocusElementInRow(e){super._beforeFocusElementInRow(e);let t=e>=0?e:0,n=this.getFirstEditableColumnIndex();n>=0&&this.editCell(t,n)}},fDe=i=>class extends i{_createTable(){let e=super._createTable.apply(this,arguments),t=this._editingController;return t.isCellOrBatchEditMode()&&this.option("editing.allowUpdating")&&X.on(e,Se(ms.name,"dxDataGridRowsView"),`td:not(.${qh})`,this.createAction(()=>{t.isEditing()&&t.closeEditCell()})),e}_createRow(e){let t=super._createRow.apply(this,arguments);if(e){let n=this._editingController,o=!!e.removed;n.isBatchEditMode()&&o&&t.addClass(cZ)}return t}},mDe=i=>class extends i{isVisible(){let e=this._editingController.option("editing");return super.isVisible()||e&&(e.allowUpdating||e.allowDeleting)&&e.mode===Jg}},EQ={extenders:{controllers:{editing:pDe},views:{rowsView:fDe,headerPanel:mDe}}};qe.registerModule("editingCellBased",EQ);var OQ="__DX_INSERT_INDEX__";var IQ="row";var YO="batch",r_="cell";var DQ=["popup","form"];var Vs={valid:"valid",invalid:"invalid",pending:"pending"};var dy=function(i){return U(i)&&i!=="cancel"},TQ=function(i,e){return i!==void 0||i===void 0&&e&&!e.isNewRow},HN=class extends li.Controller{constructor(){super(...arguments),this._isValidationInProgress=!1,this._disableApplyValidationResults=!1}init(){this._editingController=this.getController("editing"),this._editorFactoryController=this.getController("editorFactory"),this._columnsController=this.getController("columns"),this.createAction("onRowValidating"),this._validationState||this.initValidationState()}initValidationState(){this._validationState=[],this._validationStateCache={}}_rowIsValidated(e){let t=this._getValidationData(e?.key);return!!t&&!!t.validated}_getValidationData(e,t){let n=$r(e),o=Ke(n),r;return o?r=this._validationState.filter(s=>hi(s.key,e))[0]:r=this._validationStateCache[n],!r&&t&&(r={key:e,isValid:!0},this._validationState.push(r),o||(this._validationStateCache[n]=r)),r}_getBrokenRules(e,t){let n;return t?n=t.brokenRules||t.brokenRule&&[t.brokenRule]:n=e.brokenRules||[],n}_rowValidating(e,t){let n=new le,o=this._editingController.getChangeByKey(e?.key),r=this._getBrokenRules(e,t),s=t?t.isValid:e.isValid,a={brokenRules:r,isValid:s,key:o.key,newData:o.data,oldData:this._editingController._getOldData(o.key),promise:null,errorText:this.getHiddenValidatorsErrorText(r)};return this.executeAction("onRowValidating",a),Be(Yn(a.promise)).always(()=>{e.isValid=a.isValid,e.errorText=a.errorText,n.resolve(a)}),n.promise()}getHiddenValidatorsErrorText(e){let t=[];return ee(e,(n,o)=>{let{column:r}=o,s=r&&r.groupIndex!==void 0&&!r.showWhenGrouped,a=r&&r.visible;!o.validator.$element().parent().length&&(!a||s)&&t.push(o.message)}),t.join(", ")}validate(e){let t=!0,n=this._editingController,o=new le,r=[],s=n.getEditMode();if(e=e||s===IQ,this._isValidationInProgress)return o.resolve(!1).promise();if(this._isValidationInProgress=!0,e){n.addDeferred(o);let a=n.getChanges();ee(a,(l,d)=>{let{type:c,key:u}=d;if(c!=="remove"){let h=this._getValidationData(u,!0),f=this.validateGroup(h);r.push(f),f.done(p=>{h.validated=!0,t=t&&p.isValid})}})}else if(this._currentCellValidator){let a=this.validateGroup(this._currentCellValidator._findGroup());r.push(a),a.done(l=>{t=l.isValid})}return Be(...r).done(()=>{this._isValidationInProgress=!1,o.resolve(t)}),o.promise()}validateGroup(e){var t;let n=new le,o=e&&Bo.getGroupConfig(e),r;return o!=null&&o.validators.length&&(this.resetRowValidationResults(e),r=Bo.validateGroup(e)),Be(((t=r)===null||t===void 0?void 0:t.complete)||r).done(s=>{Be(this._rowValidating(e,s)).done(n.resolve)}),n.promise()}isRowDataModified(e){return!Gn(e.data)}updateValidationState(e){let t=this._editingController.getEditMode(),{key:n}=e,o=this._getValidationData(n,!0);if(DQ.includes(t))o.isValid=!0;else{if(e.type==="insert"&&!this.isRowDataModified(e)){o.isValid=!0;return}if(this.setDisableApplyValidationResults(!0),Bo.getGroupConfig(o)){let s=Bo.validateGroup(o);Be(s.complete||s).done(a=>{o.isValid=a.isValid,o.brokenRules=a.brokenRules})}else(!o.brokenRules||!o.brokenRules.length)&&(o.isValid=!0);this.setDisableApplyValidationResults(!1)}}setValidator(e){this._currentCellValidator=e}renderCellPendingIndicator(e){let t=e.find(".dx-pending-indicator");if(!t.length){let n=e;t=I("<div>").appendTo(n).addClass("dx-pending-indicator"),this._createComponent(t,qo),e.addClass("dx-validation-pending")}}disposeCellPendingIndicator(e){let t=e.find(".dx-pending-indicator");if(t.length){let n=qo.getInstance(t);n&&(n.dispose(),n.$element().remove()),e.removeClass("dx-validation-pending")}}validationStatusChanged(e){let{validator:t}=e,n=t.option("validationGroup"),{column:o}=t.option("dataGetter")();this.updateCellValidationResult({rowKey:n.key,columnIndex:o.index,validationResult:e})}validatorInitialized(e){e.component.on("validating",this.validationStatusChanged.bind(this)),e.component.on("validated",this.validationStatusChanged.bind(this))}validatorDisposing(e){let t=e.component,n=t.option("validationGroup"),{column:o}=t.option("dataGetter")(),r=this.getCellValidationResult({rowKey:n?.key,columnIndex:o.index});dy(r)&&r.status===Vs.pending&&this.cancelCellValidationResult({change:n,columnIndex:o.index})}applyValidationResult(e,t){let{validator:n}=t,o=n.option("validationGroup"),{column:r}=n.option("dataGetter")();if(t.brokenRules&&t.brokenRules.forEach(s=>{s.columnIndex=r.index,s.column=r}),e){let s=this.getCellValidationResult({rowKey:o.key,columnIndex:r.index}),a=dy(s)&&s.disabledPendingId===t.id;if(this._disableApplyValidationResults||a)return;if(t.status===Vs.invalid){let d=e.find(":focus");Ps(d)||(X.trigger(d,"focus"),X.trigger(d,Mt.down))}let l=!r.editCellTemplate&&this._editorFactoryController.getEditorInstance(e);t.status===Vs.pending?l?l.option("validationStatus",Vs.pending):this.renderCellPendingIndicator(e):l?l.option("validationStatus",Vs.valid):this.disposeCellPendingIndicator(e),e.toggleClass(this.addWidgetPrefix("invalid"),t.status===Vs.invalid)}}_syncInternalEditingData(e){var t;let n=this._editingController,o=n.getChangeByKey(e.key),r=n._getOldData(e.key),s=(t=e.row)===null||t===void 0?void 0:t.oldData;o&&s&&!r&&n._addInternalData({key:e.key,oldData:s})}createValidator(e,t){let n=this._editingController,{column:o}=e,{showEditorAlways:r}=o;if(U(o.command)||!o.validationRules||!Array.isArray(o.validationRules)||!o.validationRules.length)return;let a=n.getIndexByKey(e.key,n.getChanges())>-1;if(!a){if(!r){var l;r=(((l=this._columnsController)===null||l===void 0?void 0:l.getVisibleColumns())||[]).some(f=>f.showEditorAlways)}let c=hi(this.option("editing.editRowKey"),e.key),u=n.isCellOrBatchEditMode()&&n.allowUpdating({row:e.row});if(a=c||u&&r,u&&r){var d;n._addInternalData({key:e.key,oldData:((d=e.row)===null||d===void 0?void 0:d.oldData)??e.data})}}if(a){if(t&&!t.length){bt.log("E1050");return}this._syncInternalEditingData(e);let c=this._getValidationData(e.key,!0),u=()=>{let p=n.getChangeByKey(c?.key),m=o.calculateCellValue(p?.data||{});return m!==void 0?m:e.value},h=t&&t.hasClass("dx-widget");t&&t.addClass(this.addWidgetPrefix("validator"));let f=new oy(t||I("<div>"),{name:o.caption,validationRules:q(!0,[],o.validationRules),validationGroup:c,adapter:h?null:{getValue:u,applyValidationResults:p=>{this.applyValidationResult(t,p)}},dataGetter(){let p=c?.key,m=n.getChangeByKey(p),g=n._getOldData(p);return{data:xl(g,m?.data),column:o}},onInitialized:this.validatorInitialized.bind(this),onDisposing:this.validatorDisposing.bind(this)});if(h){let p=f.option("adapter");if(p){let m=p.bypass,g=()=>e.row.isNewRow&&!this._isValidationInProgress&&!n.isCellModified(e);p.getValue=u,p.validationRequestsCallbacks=[],p.bypass=()=>m.call(p)||g()}}return f}}setDisableApplyValidationResults(e){this._disableApplyValidationResults=e}getDisableApplyValidationResults(){return this._disableApplyValidationResults}isCurrentValidatorProcessing(e){let{rowKey:t,columnIndex:n}=e;return this._currentCellValidator&&hi(this._currentCellValidator.option("validationGroup").key,t)&&this._currentCellValidator.option("dataGetter")().column.index===n}validateCell(e){let t={rowKey:e.option("validationGroup").key,columnIndex:e.option("dataGetter")().column.index,validationResult:null},n=this.getCellValidationResult(t),o=dy(n),r=e.option("adapter");if(!o)n=e.validate();else{let a=r.getValue();hi(a,n.value)||(n=e.validate())}let s=new le;return o&&n.status===Vs.pending&&(this.updateCellValidationResult(t),r.applyValidationResults(n)),Be(n.complete||n).done(a=>{o&&r.applyValidationResults(a),s.resolve(a)}),s.promise()}updateCellValidationResult(e){let{rowKey:t,columnIndex:n,validationResult:o}=e,r=this._getValidationData(t);if(!r)return;r.validationResults||(r.validationResults={});let s;if(o){if(s=q({},o),r.validationResults[n]=s,o.status===Vs.pending&&(this._editingController.getEditMode()===r_&&(s.deferred=new le,s.complete.always(()=>{s.deferred.resolve()}),this._editingController.addDeferred(s.deferred)),this._disableApplyValidationResults)){s.disabledPendingId=o.id;return}}else s=r.validationResults[n];s&&s.disabledPendingId&&delete s.disabledPendingId}getCellValidationResult(e){var t;let{rowKey:n,columnIndex:o}=e,r=this._getValidationData(n,!0);return r==null||(t=r.validationResults)===null||t===void 0?void 0:t[o]}removeCellValidationResult(e){let{change:t,columnIndex:n}=e,o=this._getValidationData(t?.key);o&&o.validationResults&&(this.cancelCellValidationResult({change:t,columnIndex:n}),delete o.validationResults[n])}cancelCellValidationResult(e){let{change:t,columnIndex:n}=e,o=this._getValidationData(t.key);if(t&&o.validationResults){let r=o.validationResults[n];r&&(r.deferred&&r.deferred.reject("cancel"),o.validationResults[n]="cancel")}}resetRowValidationResults(e){e&&(e.validationResults&&delete e.validationResults,delete e.validated)}isInvalidCell(e){let{rowKey:t,columnIndex:n}=e,o=this.getCellValidationResult({rowKey:t,columnIndex:n});return dy(o)&&o.status===Vs.invalid}getCellValidator(e){let{rowKey:t,columnIndex:n}=e,o=this._getValidationData(t),r=o&&Bo.getGroupConfig(o),s=r&&r.validators;return s&&s.filter(a=>{let{column:l}=a.option("dataGetter")();return l?l.index===n:!1})[0]}setCellValidationStatus(e){let t=this.getCellValidationResult({rowKey:e.key,columnIndex:e.column.index});U(t)?e.validationStatus=t!=="cancel"?t.status:"cancel":delete e.validationStatus}},gDe=i=>class extends i{processDataItemTreeListHack(e){super.processDataItem.apply(this,arguments)}processItemsTreeListHack(e,t){return super.processItems.apply(this,arguments)}_addChange(e){let t=super._addChange.apply(this,arguments);return t&&e.type!=="remove"&&this._validatingController.updateValidationState(t),t}_handleChangesChange(e){super._handleChangesChange.apply(this,arguments),e.value.forEach(t=>{this._validatingController._getValidationData(t.key)===void 0&&this._validatingController.updateValidationState(t)})}_updateRowAndPageIndices(){let e=this,t=e.getView("rowsView").getTopVisibleItemIndex(),n=t;ee(e.getChanges(),(o,r)=>{let{key:s,type:a}=r,l=this._validatingController._getValidationData(s);l&&!l.isValid&&l.pageIndex!==e._pageIndex&&(l.pageIndex=e._pageIndex,a==="insert"?l.rowIndex=t:l.rowIndex=n,n++)})}_getValidationGroupsInForm(e){return{validationGroup:this._validatingController._getValidationData(e.key,!0)}}_validateEditFormAfterUpdate(e,t){t&&this._editForm&&this._editForm.validate(),super._validateEditFormAfterUpdate.apply(this,arguments)}_prepareEditCell(e){let t=super._prepareEditCell.apply(this,arguments);return t&&e.column.showEditorAlways&&this._validatingController.updateValidationState({key:e.key}),t}processItems(e,t){let n=this.getChanges(),o=(s,a)=>{let l=-1,d=s.type==="insert",{key:c}=s;return ee(a,(u,h)=>{if(hi(c,d?h.key:this._dataController.keyOf(h)))return l=u,!1}),l};e=super.processItems(e,t);let r=e.length;return this.getEditMode()===YO&&t!=="prepend"&&t!=="append"&&n.forEach(s=>{let{key:a}=s,l=this._validatingController._getValidationData(a);l&&s.type&&l.pageIndex===this._pageIndex&&s?.pageIndex!==this._pageIndex&&function(d,c){let u={key:d.key};if(o(d,e)>=0)return;c.rowIndex=c.rowIndex>r?c.rowIndex%r:c.rowIndex;let{rowIndex:f}=c;u[OQ]=1,e.splice(f,0,u)}(s,l)}),e}processDataItem(e){let t=e.data[OQ],n=t?e.data.key:e.key;if(this.getEditMode()===YO&&t&&n){let r=this.getChanges(),s=De.getIndexByKey(n,r);if(s>=0){let a=r[s];if(a.type!=="insert"){let l=this._getOldData(a.key);e.data=q(!0,{},l,a.data),e.key=n}}}super.processDataItem.apply(this,arguments)}_createInvisibleColumnValidators(e){let t=this,n=this._columnsController.getColumns(),o=this._columnsController.getInvisibleColumns().filter(l=>!l.isBand),r=this._columnsController.getGroupColumns().filter(l=>!l.showWhenGrouped&&o.indexOf(l)===-1),s=[],a=(l,d)=>this._dataController.getRowIndexByKey(d)>=0&&o.indexOf(l)<0;return o.push(...r),DQ.includes(this.getEditMode())||ee(n,(l,d)=>{e.forEach(c=>{let u;if(!a(d,c.key)){if(c.type==="insert")u=c.data;else if(c.type==="update"){let h=t._getOldData(c.key);if(!U(h))return;u=xl(h,c.data)}if(u){let h=this._validatingController.createValidator({column:d,key:c.key,value:d.calculateCellValue(u)});h&&s.push(h)}}})}),function(){s.forEach(l=>{l.dispose()})}}_beforeSaveEditData(e,t){let n=super._beforeSaveEditData.apply(this,arguments),o=this._validatingController._getValidationData(e?.key);if(e){let r=e.type==="remove"||o.isValid;n=n||!r}else{let r=this._createInvisibleColumnValidators(this.getChanges());n=new le,this.executeOperation(n,()=>{this._validatingController.validate(!0).done(s=>{switch(r(),this._updateRowAndPageIndices(),this.getEditMode()){case r_:s||this._focusEditingCell();break;case YO:s||(this._resetEditRowKey(),this._resetEditColumnName(),this._dataController.updateItems())}n.resolve(!s)})})}return n.promise?n.promise():n}_beforeEditCell(e,t,n){let o=super._beforeEditCell(e,t,n);if(this.getEditMode()===r_){let r=this._rowsView._getCellElement(e,t),s=r&&r.data("dxValidator"),a=r&&r.closest(".dx-row").data("options"),l=s&&s.option("adapter").getValue();if(s&&TQ(l,a)){let d=new le;return Be(this._validatingController.validateCell(s),o).done((c,u)=>{d.resolve(c.status===Vs.valid&&u)}),d.promise()}if(!s)return o}return!1}_afterSaveEditData(e){let t,n=this.getEditMode()===r_;if(ee(this.getChanges(),(o,r)=>{let s=this._showErrorRow(r);t=t||s}),t){let o=this._rowsView.getScrollable();o&&(o.update(),o.scrollToElement(t))}if(e&&n&&this._needUpdateRow()){let o=this.getEditRowIndex();this._dataController.updateItems({changeType:"update",rowIndices:[o]}),this._focusEditingCell()}else if(!e){let o=!0;n&&(o=!(this._columnsController.getColumns().filter(a=>{var l;return a.showEditorAlways&&((l=a.validationRules)===null||l===void 0?void 0:l.length)>0}).length>0)),o&&this._validatingController.initValidationState()}}_handleDataChanged(e){let t=this._validatingController._validationState;this.option("scrolling.mode")==="standard"&&this.resetRowAndPageIndices(),e.changeType==="prepend"&&ee(t,(n,o)=>{o.rowIndex+=e.items.length}),super._handleDataChanged(e)}resetRowAndPageIndices(){let e=this._validatingController._validationState;ee(e,(t,n)=>{n.pageIndex!==this._pageIndex&&(delete n.pageIndex,delete n.rowIndex)})}_beforeCancelEditData(){this._validatingController.initValidationState(),super._beforeCancelEditData()}_showErrorRow(e){let t,n=this._dataController.items(),o=this.getIndexByKey(e.key,n),r=this._validatingController._getValidationData(e.key);if(!(r!=null&&r.isValid)&&r!==null&&r!==void 0&&r.errorText&&o>=0)return t=this.getPopupContent(),this._errorHandlingController&&this._errorHandlingController.renderErrorRow(r?.errorText,o,t)}updateFieldValue(e){let t=new le;return this._validatingController.removeCellValidationResult({change:this.getChangeByKey(e.key),columnIndex:e.column.index}),super.updateFieldValue.apply(this,arguments).done(()=>{let n=this._validatingController.getCellValidator({rowKey:e.key,columnIndex:e.column.index});Be(n&&this._validatingController.validateCell(n)).done(o=>{this._editorFactoryController.refocus(),t.resolve(o)})}),t.promise()}highlightDataCell(e,t){super.highlightDataCell.apply(this,arguments),this._validatingController.setCellValidationStatus(t);let n=!!t.setValue,o=this.isCellModified(t),r=U(t.validationStatus);if(o&&t.column.setCellValue||n&&!o&&!(t.row.isNewRow||!r)){let a=e.data("dxValidator");a&&Be(this._validatingController.validateCell(a)).done(()=>{this._validatingController.setCellValidationStatus(t)})}}getChangeByKey(e){let t=this.getChanges();return t[De.getIndexByKey(e,t)]}isCellModified(e){let t=super.isCellModified(e),n=this.getChangeByKey(e.key),o=!!e.row&&this._validatingController.isInvalidCell({rowKey:e.key,columnIndex:e.column.index});return t||this._validatingController._rowIsValidated(n)&&o}},_De=function(i,e){let t=I(e).closest("tr").index(),n=I(i._rowsView.getRowElement(t)).first().children().filter(":not(.dx-hidden-cell)");return i._rowsView._getWidths(n).reduce((o,r)=>o+r,0)},bDe=function(i){let e,t;return i.some((n,o)=>{if(n.command==="transparent")return e=o===0?-1:o,t=o===i.length-1?-1:o+n.colspan-1,!0}),{startColumnIndex:e,endColumnIndex:t}},vDe=i=>class extends i{_showRevertButton(e){var t,n;let o=(t=this._revertTooltip)===null||t===void 0?void 0:t.$element();if(!e||!e.length){var r;(r=o)===null||r===void 0||r.remove(),this._revertTooltip=void 0;return}if(e.find(o).length)return;let s=e.closest(`.${this.addWidgetPrefix("content")}`).parent(),a=this.addWidgetPrefix("revert-tooltip");(n=o)===null||n===void 0||n.remove(),o=I("<div>").addClass(a).appendTo(e);let l={animation:null,visible:!0,width:"auto",height:"auto",shading:!1,container:s,propagateOutsideClick:!0,hideOnOutsideClick:!1,wrapperAttr:{class:a},contentTemplate:()=>{let d=I("<div>").addClass("dx-revert-button"),c={icon:"revert",hint:this.option("editing.texts.validationCancelChanges"),elementAttr:{id:"dxRevertButton","aria-label":de.format("dxDataGrid-ariaRevertButton")},onClick:()=>{this._editingController.cancelEditData()}};return new Ln(d,c).$element()},position:{my:"left top",at:"right top",offset:"1 0",collision:"flip",boundaryOffset:"0 0",boundary:this._rowsView.element(),of:e},onPositioned:this._positionedHandler.bind(this)};this._revertTooltip=new cs(o,l)}_hideFixedGroupCell(e,t){let n,o,r=this._rowsView.isFixedColumns(),s=this._editingController.isFormOrPopupEditMode();if(r&&!s){let a=e.closest(".dx-row").next().data("options");a&&a.rowType==="group"&&(n=I(this._rowsView.getRowElement(a.rowIndex)).last(),o=n.find(".dx-group-cell"),o.length&&o.get(0).style.visibility!=="hidden"&&(o.css("visibility","hidden"),t.onDisposing=function(){o.css("visibility","")}))}}_positionedHandler(e,t){if(!e.component.__skipPositionProcessing){let n=I(e.element).hasClass(this.addWidgetPrefix("revert-tooltip")),o=!n&&this._rowsView.updateFreeSpaceRowHeight(),r=this._normalizeValidationMessagePositionAndMaxWidth(e,n,t);e.component.__skipPositionProcessing=!!(o||r),r?e.component.option(r):o&&e.component.repaint()}}_showValidationMessage(e,t,n){var o;let r=e.find(".dx-dropdowneditor-overlay").data("dxPopup"),s=r&&r.option("visible"),a=s?"top right":`top ${n}`,l=s?"top left":`bottom ${n}`,c=((o=this._columnsController.getFixedColumns())===null||o===void 0?void 0:o.length)>0?this.getView("rowsView").element():e.closest(`.${this.addWidgetPrefix("content")}`),u="";t&&t.forEach(m=>{u+=(u.length?"<br/>":"")+Sw(m)});let h=this.addWidgetPrefix("invalid-message");this._rowsView.element().find(`.${h}`).remove();let f=I("<div>").addClass("dx-invalid-message").addClass("dx-invalid-message-always").addClass(h).html(u).appendTo(e),p={container:c,shading:!1,width:"auto",height:"auto",visible:!0,animation:!1,propagateOutsideClick:!0,hideOnOutsideClick:!1,wrapperAttr:{id:"dxInvalidMessage",class:`dx-invalid-message dx-invalid-message-always ${h}`},position:{collision:"flip",boundary:this._rowsView.element(),boundaryOffset:"0 0",offset:{x:0,y:!s&&gi.mozilla?-1:0},my:a,at:l,of:e},onPositioned:m=>{this._positionedHandler(m,s),this._shiftValidationMessageIfNeed(m.component.$content(),e)}};this._hideFixedGroupCell(e,p),new cs(f,p)}_hideValidationMessage(){var e;let t=(e=this._rowsView.element())===null||e===void 0?void 0:e.find(this._getValidationMessagesSelector());t?.remove()}_normalizeValidationMessagePositionAndMaxWidth(e,t,n){let o=this._columnsController.getFixedColumns();if(!o||!o.length)return;let r,s=!t&&_De(this,e.element),a=e.component.$content(),l=Ft(a,!0),d=!t&&l>s,c=this._rowsView.getCellIndex(I(e.element).closest("td")),u=bDe(o);return!t&&(c===u.startColumnIndex||d)?r={collision:"none flip",my:"top left",at:n?"top right":"bottom left"}:c===u.endColumnIndex&&(r={collision:"none flip",my:"top right",at:t||n?"top left":"bottom right"},t&&(r.offset="-1 0")),r&&{position:r,maxWidth:d?s-2:void 0}}_shiftValidationMessageIfNeed(e,t){let n=this._revertTooltip&&this._revertTooltip.$content();if(!n)return;let o=e.offset(),r=n.offset();if(o.top===r.top&&o.left+Qe(e)>r.left){let s=Qe(n)+2;e.css("left",r.left<t.offset().left?-s:s)}}_getRevertTooltipsSelector(){return`.dx-editor-cell .${this.addWidgetPrefix("revert-tooltip")}`}_getValidationMessagesSelector(){let e=this.addWidgetPrefix("invalid-message");return`.dx-editor-cell .${e}, .dx-cell-modified .${e}`}loseFocus(e){e||this._validatingController.setValidator(null),super.loseFocus()}updateCellState(e,t,n){var o;let r=e?.closest(this._getFocusCellSelector()),s=r!=null&&r.is("td")?r:null,a=r?.closest(".dx-row").data("options"),l=a?this._editingController.getChangeByKey(a.key):null,d=s&&this._columnsController.getVisibleColumns()[s.index()],c=(l==null||(o=l.data)===null||o===void 0?void 0:o[d?.name])!==void 0&&!this._editingController.isSaving(),u=[];if(this._editingController.getEditMode()===r_&&(t?.status===Vs.invalid||c?(this._showRevertButton(r),u.push("dxRevertButton")):this._revertTooltip&&this._revertTooltip.$element().remove()),t&&t.status===Vs.invalid&&s&&d&&t&&t.brokenRules){let f=[];t.brokenRules.forEach(p=>{p.message&&f.push(p.message)}),f.length&&(this._showValidationMessage(r,f,d.alignment||"left"),u.push("dxInvalidMessage"))}this._updateAriaValidationAttributes(r,u),!n&&this._rowsView.element()&&this._rowsView.updateFreeSpaceRowHeight()}_updateAriaValidationAttributes(e,t){if(t.length===0)return;let n=this._editingController.getEditMode();if([r_,YO,IQ].includes(n)){let r=this._getCurrentFocusElement(e);r.attr("aria-labelledby",t.join(" ")),r.attr("aria-invalid",!0)}}_getCurrentFocusElement(e){return this._editingController.isEditing()?e.find(ey).first():e}focus(e,t){if(!arguments.length)return super.focus();if(this._hideValidationMessage(),e!=null&&e.hasClass("dx-row")||e!=null&&e.hasClass("dx-master-detail-cell"))return super.focus(e,t);let n=e?.closest(this._getFocusCellSelector()),o=n&&(n.data("dxValidator")||e.find(`.${this.addWidgetPrefix("validator")}`).eq(0).data("dxValidator")),r=n&&n.closest(".dx-row").data("options"),s=r?this._editingController.getChangeByKey(r.key):null,a;if(o){this._validatingController.setValidator(o);let l=o.option("adapter").getValue();if(TQ(l,r)||this._validatingController._rowIsValidated(s))return this._editingController.waitForDeferredOperations().done(()=>{this._rowsView.isElementInside(e)&&Be(this._validatingController.validateCell(o)).done(c=>{a=c;let{column:u}=a.validator.option("dataGetter")();s&&u&&!this._validatingController.isCurrentValidatorProcessing({rowKey:s.key,columnIndex:u.index})||(!Zn(oo())&&a.status===Vs.invalid&&(t=!0),this.updateCellState(e,a,t),super.focus.call(this,e,t))})}),super.focus(e,t)}return this.updateCellState(e,a,t),super.focus(e,t)}getEditorInstance(e){let t=e.find(".dx-texteditor").eq(0);return De.getWidgetInstance(t)}},yDe=i=>class extends i{_getValidationStatus(e){return(dy(e)?e.status:e)||Vs.valid}_isCellChanged(e,t,n,o,r){var s,a;let l=(s=e.cells)===null||s===void 0?void 0:s[o],d=this._getValidationStatus({status:l?.validationStatus}),c=this._validatingController.getCellValidationResult({rowKey:e.key,columnIndex:o}),u=this._validatingController._getValidationData(e.key),h=this._getValidationStatus(c),f=JSON.stringify(t.modifiedValues)!==JSON.stringify(e.modifiedValues),p=d!==h&&f,m=I(l?.cellElement).hasClass(this.addWidgetPrefix("invalid")),g=l==null||(a=l.column.validationRules)===null||a===void 0?void 0:a.length,b=e.isEditing!==t.isEditing&&g,x=p||u.isValid&&m;return b||x?!0:super._isCellChanged.apply(this,arguments)}},xDe=i=>class extends i{updateFreeSpaceRowHeight(e){let t=this,n,o,r,s=t.element(),a=s&&s.find(`.${t.addWidgetPrefix("invalid-message")} .dx-overlay-content`);if(super.updateFreeSpaceRowHeight(e),a&&a.length&&(n=t._getRowElements(),r=t._getFreeSpaceRowElements(e),o=r.first(),o&&n.length===1&&(!o.is(":visible")||Ct(a)>Ct(o))))return r.show(),Ia(r,Ct(a)),!0}_formItemPrepared(e,t){super._formItemPrepared.apply(this,arguments),Go(()=>{let n=t.find(".dx-widget").first();n.length&&!n.children().length||this._validatingController.createValidator(e,n)})}_cellPrepared(e,t){this._editingController.isFormOrPopupEditMode()||this._validatingController.createValidator(t,e),super._cellPrepared.apply(this,arguments)}_restoreErrorRow(e){this._editingController&&this._editingController.hasChanges()&&this._getRowElements(e).each((t,n)=>{let o=I(n).data("options");if(o){let r=this._editingController.getChangeByKey(o.key);r&&this._editingController._showErrorRow(r)}})}},AQ={defaultOptions:()=>({editing:{texts:{validationCancelChanges:de.format("dxDataGrid-validationCancelChanges")}}}),controllers:{validating:HN},extenders:{controllers:{editing:gDe,editorFactory:vDe,data:yDe},views:{rowsView:xDe}}};qe.registerModule("validating",AQ);var zN="scrolling.legacyMode",RQ=i=>i.option("scrolling.loadTwoPagesOnStart")||i._controller.isVirtual()||i._controller.getViewportItemIndex()>0,XO=i=>i._cache.length?i._cache[0].pageIndex:-1,jN=i=>i._cache.length?i._cache[i._cache.length-1].pageIndex:-1,QO=(i,e,t)=>{i._isChangedFiring=!0,e(t),i._isChangedFiring=!1},kQ=(i,e,t)=>{if(i._isDelayChanged)return i._isDelayChanged=!1,QO(i,e,t),!0},CDe=i=>{let e=i._dataOptions.pageSize();if(i.option("scrolling.preventPreload"))return 0;let n=i._controller.viewportSize();if(i._controller.isVirtualMode()&&i.option("scrolling.removeInvisiblePages")){n=0;let o=i._controller.viewportSize()*i._controller.viewportItemSize(),r=i._controller.getContentOffset(),s=i._controller.getViewportPosition(),a=i._controller.virtualItemsCount(),l=i._dataOptions.totalItemsCount();for(let d=a.begin;d<l&&!(r>=s+o);d++){let c=i._controller.getItemSizes()[d]||i._controller.viewportItemSize();r+=c,r>=s&&n++}}return e&&n>0?Math.ceil(n/e):1},ZO=(i,e)=>{let t=i.option("scrolling.preloadEnabled"),n=CDe(i),o=i._controller.isAppendMode();return n&&(e?n=t?1:0:(t&&n++,(o||!RQ(i))&&n--)),n},wDe=i=>{let e=-1,t=XO(i),n=i._dataOptions;return t<0?e=i._pageIndex:i._cache[i._pageIndex-t]?t>=0&&i._controller.viewportSize()>=0&&(t>0&&(jN(i)+1===n.pageCount()&&i._cache.length<ZO(i)+1||i._pageIndex===t&&ZO(i,!0))&&(e=t-1),e<0&&t+i._cache.length<=i._pageIndex+ZO(i)&&(e=t+i._cache.length)):e=i._pageIndex,i._loadingPageIndexes[e]&&(e=-1),e},SDe=(i,e)=>{let t=i._dataOptions;if(e===i.pageIndex()||!t.isLoading()&&e<t.pageCount()||!t.hasKnownLastPage()&&e===t.pageCount())return t.pageIndex(e),i._loadingPageIndexes[e]=!0,Be(t.load()).always(()=>{i._loadingPageIndexes[e]=!1})},MQ=(i,e,t,n,o)=>{let r=i._dataOptions,s=r.items().slice(),a=Ke(t)?t:void 0,l=t==="prepend",d=r.viewportItems();t&&We(t)&&!i._isDelayChanged&&(a={changeType:t,items:s},o&&(a.removeCount=o.itemsCount,a.removeCount&&r.correctCount&&(a.removeCount=r.correctCount(d,a.removeCount,l))));let c=o?o.itemsLength:0;c&&r.correctCount&&(c=r.correctCount(d,c,l)),t==="append"?(d.push.apply(d,s),o&&d.splice(0,c)):l?(d.unshift.apply(d,s),o&&d.splice(-c)):i._dataOptions.viewportItems(s),r.updateLoading(),i._lastPageIndex=i.pageIndex(),i._isDelayChanged=n,n||QO(i,e,a)},JO=class{constructor(e,t){this._dataOptions=t,this._controller=e,this._pageIndex=this._lastPageIndex=t.pageIndex(),this._cache=[],this._loadingPageIndexes={}}option(){return this._controller.option.apply(this._controller,arguments)}viewportItemIndexChanged(e){let t=this._dataOptions.pageSize(),n=this._dataOptions.pageCount(),o=this._controller.isVirtualMode(),r=this._controller.isAppendMode(),s=this._dataOptions.totalItemsCount(),a;if(t&&(o||r)&&s>=0){let l=this._controller.viewportSize();if(l&&e+l>=s&&!this._controller.isVirtual())if(this._dataOptions.hasKnownLastPage()){a=n-1;let d=s%t;a>0&&d>0&&d<l&&a--}else a=n;else{a=Math.floor(e/t);let d=n-1;a=Math.max(a,0),a=Math.min(a,d)}return this.pageIndex(a),this.load()}}pageIndex(e){let t=this._controller.isVirtualMode(),n=this._controller.isAppendMode();return this.option(zN)!==!1&&(t||n)?(e!==void 0&&(this._pageIndex=e),this._pageIndex):this._dataOptions.pageIndex(e)}beginPageIndex(e){let t=XO(this);return t<0&&(t=e!==void 0?e:this.pageIndex()),t}endPageIndex(){let e=jN(this);return e>0?e:this._lastPageIndex}pageSize(){return this._dataOptions.pageSize()}load(){let e=this._dataOptions,t,n=this._controller.isVirtualMode(),o=this._controller.isAppendMode();if(this.option(zN)!==!1&&(n||o)){let r=wDe(this);if(r>=0){let s=SDe(this,r);s&&(t=new le,s.done(()=>{let a=this._delayDeferred;a?a.done(t.resolve).fail(t.reject):t.resolve()}).fail(t.reject),e.updateLoading())}}else t=e.load();return!t&&this._lastPageIndex!==this.pageIndex()&&this._dataOptions.onChanged({changeType:"pageIndex"}),t||new le().resolve()}loadIfNeed(){let e=this._controller.isVirtualMode(),t=this._controller.isAppendMode();if((e||t)&&!this._dataOptions.isLoading()&&(!this._isChangedFiring||this._controller.isVirtual())){let n=this._controller.getViewportPosition();n>0?this._controller._setViewportPositionCore(n):this.load()}}handleDataChanged(e,t){let n=this._dataOptions,o=this._cache.length,r,s,a=this._controller.isVirtualMode(),l=this._controller.isAppendMode();if(t&&t.changes)QO(this,e,t);else if(this.option(zN)!==!1&&(a||l)){let d=XO(this);if(d>=0&&(a&&d+this._cache.length!==n.pageIndex()&&d-1!==n.pageIndex()&&(o=0,this._cache=[]),l)){if(n.pageIndex()===0)this._cache=[];else if(n.pageIndex()<jN(this)){QO(this,e,{changeType:"append",items:[]});return}}let c={pageIndex:n.pageIndex(),itemsLength:n.items(!0).length,itemsCount:this.itemsCount(!0)};this.option("scrolling.removeInvisiblePages")&&a?s=this._cache.length>Math.max(ZO(this)+(this.option("scrolling.preloadEnabled")?1:0),2):kQ(this,e,{isDelayed:!0});let u;d===n.pageIndex()+1?(s&&(u=this._cache.pop()),r="prepend",this._cache.unshift(c)):(s&&(u=this._cache.shift()),r="append",this._cache.push(c));let h=a&&o===0&&RQ(this);MQ(this,e,this._cache.length>1?r:void 0,h,u),this._delayDeferred=this.load().done(()=>{kQ(this,e)&&this.load()})}else MQ(this,e,t)}getDelayDeferred(){return this._delayDeferred}itemsCount(e){let t=0,n=this._controller.isVirtualMode();return!e&&n?this._cache.forEach(o=>{t+=o.itemsCount}):t=this._dataOptions.itemsCount(),t}virtualItemsCount(){let e=XO(this);e<0&&(e=this._dataOptions.pageIndex());let t=e*this._dataOptions.pageSize(),n=this._cache.length*this._dataOptions.pageSize(),o=Math.max(0,this._dataOptions.totalItemsCount()-n-t);return{begin:t,end:o}}reset(){this._loadingPageIndexes={},this._cache=[]}};var e1="scrolling.legacyMode",FQ=i=>i.option("scrolling.mode")==="virtual"||i._isVirtual,EDe=i=>i.option("scrolling.mode")==="infinite"&&!i._isVirtual;function $N(i,e,t){let n,o=[],r=[],s=[];t=t||i;function a(u){let h=u.element?u.$element():u,f=lr.offset(h);return f?u.scrollTop()-(f.top-i.offset().top):i.offset().top}let l={on(u,h,f){u.on("scroll",f)},off(u,h,f){u.off("scroll",f)}};function d(u){let h=u.get(0).nodeName==="#document",f=u.get(0).nodeType===et().Node.ELEMENT_NODE,p=u.data("dxScrollable"),m=l;if(!p&&(p=h&&I(et())||f&&u.css("overflowY")==="auto"&&u,m=X,!p))return;let g=function(b){return function(){let x=b.scrollTop()-a(b);x=x>0?x:0,e(x)}}(p);m.on(p,"scroll",g),r.push(b=>{let x=a(p),E=p.scrollTo?"scrollTo":"scrollTop";b-x>=0&&p[E](b+x)}),o.push(p),s.push(()=>{m.off(p,"scroll",g)})}let c=u=>I(u.get(0).parentNode??u.get(0).host);for(n=t.parent();n.length;n=c(n))d(n);return{scrollTo(u){ee(r,(h,f)=>{f(u)})},dispose(){ee(s,(u,h)=>{h()})}}}var cy=class{constructor(e,t,n){this._dataOptions=t,this.component=e,this._viewportSize=e.option(e1)===!1?15:0,this._viewportItemSize=20,this._viewportItemIndex=0,this._position=0,this._isScrollingBack=!1,this._contentSize=0,this._itemSizes={},this._sizeRatio=1,this._isVirtual=n,this.positionChanged=Gt(),this._dataLoader=new JO(this,this._dataOptions)}getItemSizes(){return this._itemSizes}option(e,t){return this.component.option.apply(this.component,arguments)}isVirtual(){return this._isVirtual}virtualItemsCount(){if(FQ(this)){let e=this._dataOptions,t=e.totalItemsCount();if(this.option(e1)===!1&&t!==-1){let n=this.getViewportParams(),o=e.loadedOffset(),r=e.loadedItemCount(),s=Math.max(n.skip,o),a=Math.min(n.take,r),l=Math.max(t-(s+a),0);return{begin:s,end:l}}return this._dataLoader.virtualItemsCount.apply(this._dataLoader,arguments)}}getScrollingTimeout(){let e=this.option("scrolling.renderAsync"),t=0;return U(e)?e&&(t=this.option("scrolling.timeout")??0):(t=Math.min(this.option("scrolling.timeout")||0,this._dataOptions.changingDuration()),t<this.option("scrolling.renderingThreshold")&&(t=this.option("scrolling.minTimeout")||0)),t}setViewportPosition(e){let t=new le,n=this.getScrollingTimeout();return clearTimeout(this._scrollTimeoutID),n>0?this._scrollTimeoutID=setTimeout(()=>{this._setViewportPositionCore(e),t.resolve()},n):(this._setViewportPositionCore(e),t.resolve()),t.promise()}getViewportPosition(){return this._position}getItemIndexByPosition(e,t,n){e=e??this._position;let o=this.getItemSize(),r=0,s=0,a=Object.keys(this._itemSizes).concat(-1);for(let l=0;l<a.length&&r<e;l++){let d=parseInt(a[l]),c=(e-r)/o;if(d<0||s+c<d){s+=c,this._sizeRatio<1&&U(t)&&(s=t+n/this._viewportItemSize);break}else c=d-s,r+=c*o,s+=c;let u=this._itemSizes[d];r+=u,s+=r<e?1:(e-r+u)/u}return Math.round(50*s)/50}isScrollingBack(){return this._isScrollingBack}_setViewportPositionCore(e){let t=this._position||0;this._position=e,t!==this._position&&(this._isScrollingBack=this._position<t);let n=this.getItemIndexByPosition(),o=this.setViewportItemIndex(n);return this.positionChanged.fire(),o}setContentItemSizes(e){let t=this.virtualItemsCount();if(this._contentSize=e.reduce((n,o)=>n+o,0),t){e.forEach((r,s)=>{this._itemSizes[t.begin+s]=r});let n=(t.begin+t.end+this.itemsCount())*this._viewportItemSize,o=De.getContentHeightLimit(gi);n>o?this._sizeRatio=o/n:this._sizeRatio=1}}getItemSize(){return this._viewportItemSize*this._sizeRatio}getItemOffset(e,t){let n=this.virtualItemsCount(),o=e;if(!n)return 0;let r=0,s=this._dataOptions.totalItemsCount();return Object.keys(this._itemSizes).forEach(a=>{o&&(t?a>=s-e:a<e)&&(r+=this._itemSizes[a],o--)}),Math.floor(r+o*this._viewportItemSize*this._sizeRatio)}getContentOffset(e){let t=e==="end",n=this.virtualItemsCount();return n?this.getItemOffset(t?n.end:n.begin,t):0}getVirtualContentSize(){return this.virtualItemsCount()?this.getContentOffset("begin")+this.getContentOffset("end")+this._contentSize:0}getViewportItemIndex(){return this._viewportItemIndex}setViewportItemIndex(e){if(this._viewportItemIndex=e,this.option(e1)!==!1)return this._dataLoader.viewportItemIndexChanged.apply(this._dataLoader,arguments)}viewportItemSize(e){return e!==void 0&&(this._viewportItemSize=e),this._viewportItemSize}viewportSize(e){return e!==void 0&&(this._viewportSize=e),this._viewportSize}viewportHeight(e,t){let n=t??this._position,o=this.getItemIndexByPosition(n),r=this.getItemIndexByPosition(n+e,o,e);this.viewportSize(Math.ceil(r-o)),!U(t)&&this._viewportItemIndex!==o&&this._setViewportPositionCore(n)}reset(e){this._dataLoader.reset(),e||(this._itemSizes={})}subscribeToWindowScrollEvents(e){this._windowScroll=this._windowScroll||$N(e,t=>{this.viewportItemSize()&&this.setViewportPosition(t)})}dispose(){clearTimeout(this._scrollTimeoutID),this._windowScroll&&this._windowScroll.dispose(),this._windowScroll=null}scrollTo(e){this._windowScroll&&this._windowScroll.scrollTo(e)}isVirtualMode(){return FQ(this)}isAppendMode(){return EDe(this)}getViewportParams(){let e=this.option("scrolling.mode")==="virtual",t=this._dataOptions.totalItemsCount(),o=this._dataOptions.hasKnownLastPage()&&this._viewportItemIndex>t?t:this._viewportItemIndex,r=this._viewportSize+o,s=this.option("scrolling.prerenderedRowChunkSize")||1,a=this.isScrollingBack(),l=this.option("scrolling.prerenderedRowCount")??1,d=a?l:0,c=a?0:l,u=Math.floor(Math.max(0,o-d)/s)*s,h=Math.ceil((r+c-u)/s)*s;if(e){let f=Math.max(0,t-u);h=Math.min(h,f)}return{skip:u,take:h}}itemsCount(){let e=0;return this.option(e1)?e=this._dataLoader.itemsCount.apply(this._dataLoader,arguments):e=this._dataOptions.itemsCount(),e}pageIndex(){return this._dataLoader.pageIndex(...arguments)}beginPageIndex(){return this._dataLoader.beginPageIndex(...arguments)}endPageIndex(){return this._dataLoader.endPageIndex(...arguments)}pageSize(){return this._dataLoader.pageSize(...arguments)}load(){return this._dataLoader.load(...arguments)}loadIfNeed(){return this._dataLoader.loadIfNeed(...arguments)}handleDataChanged(){return this._dataLoader.handleDataChanged(...arguments)}getDelayDeferred(){return this._dataLoader.getDelayDeferred()}};var NQ="dx-freespace-row";var ODe="dx-row-inserted";var Di="scrolling.legacyMode";var IDe=["beginPageIndex","endPageIndex","pageIndex"],ts=function(i){return i.option("scrolling.mode")==="virtual"},Fd=function(i){return i.option("scrolling.mode")==="infinite"},Al=function(i){return ts(i)||Fd(i)},PQ=function(i,e,t,n){for(let o=0;o<e+1;o++){let r=i[t?i.length-1-o:o];r&&!n(r,o===e,t)&&e++}return e},t1=function(i,e){return i.rowType==="data"&&!i.isNewRow||i.rowType==="group"&&e.isGroupItemCountable(i.data)},DDe=function(i){return i.forEach((e,t)=>{e.rowIndex=t}),i},WN=function(i){let e=i._virtualScrollController.beginPageIndex(-1);ts(i)&&(e<0||i.viewportSize()>=0&&i.getViewportItemIndex()>=0&&(e*i.pageSize()>i.getViewportItemIndex()||e*i.pageSize()+i.itemsCount()<i.getViewportItemIndex()+i.viewportSize())&&i._dataSource.isLoading()?i._isLoading||(i._isLoading=!0,i.loadingChanged.fire(!0)):i._isLoading&&(i._isLoading=!1,i.loadingChanged.fire(!1)))},es=function(i,e,t){if(i.option(Di)===!1&&IDe.includes(e)){let o=i._dataSource;return o.pageIndex.apply(o,t)}let n=i._virtualScrollController;return n[e].apply(n,t)},LQ=function(i,e){let t=i.toArray().map(o=>I(o).parent(`.${e}`).get(0)).filter(o=>o);t.length&&(i=I(t));let n=e===NQ?i.length-1:i.length;for(let o=0;o<n;o++)i.eq(o).remove()},BQ=i=>class extends i{init(){super.init.apply(this,arguments),this._items=[],this._totalCount=-1,this._isLoaded=!0,this._loadPageCount=1,this._virtualScrollController=new cy(this.component,this._getVirtualScrollDataOptions())}dispose(){this._virtualScrollController.dispose(),super.dispose.apply(this,arguments)}_getVirtualScrollDataOptions(){let e=this;return{pageSize:()=>e.pageSize(),totalItemsCount:()=>e.totalItemsCount(),hasKnownLastPage:()=>e.hasKnownLastPage(),pageIndex:t=>e._dataSource.pageIndex(t),isLoading:()=>e._dataSource.isLoading()&&!e.isCustomLoading(),pageCount:()=>e.pageCount(),load:()=>e._dataSource.load(),updateLoading(){WN(e)},itemsCount:()=>e.itemsCount(!0),items:()=>e._dataSource.items(),viewportItems(t){return t&&(e._items=t),e._items},onChanged(t){e.changed.fire(t)},changingDuration(){return e.isLoading()?300:e._renderTime||0}}}_handleLoadingChanged(e){if(this.option(Di)===!1){super._handleLoadingChanged.apply(this,arguments);return}(!ts(this)||this._isLoadingAll)&&(this._isLoading=e,super._handleLoadingChanged.apply(this,arguments)),e?this._startLoadTime=new Date:this._startLoadTime=void 0}_handleLoadError(){this.option(Di)!==!1&&(this._isLoading=!1,this.loadingChanged.fire(!1)),super._handleLoadError.apply(this,arguments)}_handleDataChanged(e){if(this.option(Di)===!1){this._items=this._dataSource.items().slice(),this._totalCount=this._dataSourceTotalCount(!0),super._handleDataChanged.apply(this,arguments);return}let t=super._handleDataChanged.bind(this);this._virtualScrollController.handleDataChanged(t,e)}_customizeRemoteOperations(e,t){let n=this.option(Di)===!1,o=this.option("scrolling.renderAsync");U(o)||(o=this._renderTime>=this.option("scrolling.renderingThreshold")),(ts(this)||Fd(this)&&n)&&!t.reload&&(t.skip||n)&&!o&&(e.delay=void 0),super._customizeRemoteOperations.apply(this,arguments)}items(){return this._items}_dataSourceTotalCount(e){return this.option(Di)===!1&&ts(this)&&!e?this._totalCount:super._dataSourceTotalCount()}itemsCount(e){return e||this.option(Di)===!1?super.itemsCount():this._virtualScrollController.itemsCount()}load(e){return this.option(Di)===!1||e?super.load(e):this._virtualScrollController.load()}isLoading(){return this.option(Di)===!1?this._dataSource.isLoading():this._isLoading}isLoaded(){return this._dataSource.isLoaded()&&this._isLoaded}resetPagesCache(e){e||this._virtualScrollController.reset(!0),super.resetPagesCache.apply(this,arguments)}_changeRowExpandCore(){let e=super._changeRowExpandCore.apply(this,arguments);return this.option(Di)===!1||(this.resetPagesCache(),WN(this)),e}reload(){this._dataSource.pageIndex(this.pageIndex());let e=this._virtualScrollController;if(this.option(Di)!==!1&&e){let t=new le;return super.reload.apply(this,arguments).done(n=>{let o=e.getDelayDeferred();o?o.done(t.resolve).fail(t.reject):t.resolve(n)}).fail(t.reject),t}return super.reload.apply(this,arguments)}refresh(e,t){if(this.option(Di)!==!1){let{storeLoadOptions:n}=e,o=this._dataSource;t.reload?(this._virtualScrollController.reset(),o.items().length=0,this._isLoaded=!1,WN(this),this._isLoaded=!0,Fd(this)?(this.pageIndex(0),o.pageIndex(0),n.pageIndex=0,e.pageIndex=0,n.skip=0):(o.pageIndex(this.pageIndex()),o.paginate()&&(e.pageIndex=this.pageIndex(),n.skip=this.pageIndex()*this.pageSize()))):Fd(this)&&n.skip&&this._totalCountCorrection<0&&(n.skip+=this._totalCountCorrection)}return super.refresh.apply(this,arguments)}loadPageCount(e){if(!U(e))return this._loadPageCount;this._loadPageCount=e}_handleDataLoading(e){let t=this.loadPageCount(),n=this.pageSize(),o=this.option(Di)===!1,{storeLoadOptions:r}=e,s=U(r.take);e.loadPageCount=t,!e.isCustomLoading&&o&&s&&t>1&&n>0&&(r.take=t*n),super._handleDataLoading.apply(this,arguments)}_loadPageSize(){return super._loadPageSize.apply(this,arguments)*this.loadPageCount()}beginPageIndex(){return es(this,"beginPageIndex",[...arguments])}endPageIndex(){return es(this,"endPageIndex",[...arguments])}pageIndex(e){return es(this,"pageIndex",[...arguments])}virtualItemsCount(){return es(this,"virtualItemsCount",[...arguments])}getContentOffset(){return es(this,"getContentOffset",[...arguments])}getVirtualContentSize(){return es(this,"getVirtualContentSize",[...arguments])}setContentItemSizes(){return es(this,"setContentItemSizes",[...arguments])}setViewportPosition(){return es(this,"setViewportPosition",[...arguments])}getViewportItemIndex(){return es(this,"getViewportItemIndex",[...arguments])}setViewportItemIndex(e){return es(this,"setViewportItemIndex",[...arguments])}getItemIndexByPosition(){return es(this,"getItemIndexByPosition",[...arguments])}viewportSize(){return es(this,"viewportSize",[...arguments])}viewportItemSize(){return es(this,"viewportItemSize",[...arguments])}getItemSize(){return es(this,"getItemSize",[...arguments])}getItemSizes(){return es(this,"getItemSizes",[...arguments])}loadIfNeed(){return es(this,"loadIfNeed",[...arguments])}},TDe=i=>class extends i{dispose(){let e=this._rowsScrollController;e&&e.dispose(),super.dispose.apply(this,arguments)}_refreshDataSource(){let e=super._refreshDataSource.apply(this,arguments)||new le().resolve().promise();return e.done(this.initVirtualRows.bind(this)),e}_loadDataSource(){if(this._rowsScrollController&&Al(this)){var e;let{loadPageCount:t}=U(this._loadViewportParams)?this.getLoadPageParams():{loadPageCount:0};t>=1&&((e=this._dataSource)===null||e===void 0||e.loadPageCount(t))}return super._loadDataSource.apply(this,arguments)}getRowPageSize(){let e=this.option("scrolling.rowPageSize"),t=this.pageSize();return t&&t<e?t:e}reload(){let e=this._rowsScrollController||this._dataSource,t=e&&e.getItemIndexByPosition(),n=super.reload.apply(this,arguments);return n&&n.done(()=>{if(ts(this)||De.isVirtualRowRendering(this)){let r=this.getRowIndexOffset(),s=Math.floor(t)-r,{component:a}=this,l=a.getScrollable&&a.getScrollable(),d=this.dataSource().operationTypes().sorting;if(l&&!d&&s>=0){var o;let c=a.getRowElement(s),u=c&&c[0]&&I(c[0]),h=u&&((o=u.position())===null||o===void 0?void 0:o.top),f=gi.chrome&&Number(gi.version??0)>=91,p=gi.mozilla||f?1:0;h&&h>p&&(h=Math.round(h+Ct(u)*(t%1)),l.scrollTo({y:h}))}}})}initVirtualRows(){let e=De.isVirtualRowRendering(this);if(this._allItems=null,this._loadViewportParams=null,this.option("scrolling.mode")!=="virtual"&&!e||!e||this.option(Di)!==!1&&!this.option("scrolling.rowPageSize")){this._visibleItems=null,this._rowsScrollController=null;return}let t=!ts(this)&&this.pageIndex()>=this.pageCount()?this.pageCount()-1:this.pageIndex();this._rowPageIndex=Math.ceil(t*this.pageSize()/this.getRowPageSize()),this._visibleItems=this.option(Di)===!1?null:[],this._viewportChanging=!1,this._needUpdateViewportAfterLoading=!1,this._rowsScrollController||(this._rowsScrollController=new cy(this.component,this._getRowsScrollDataOptions(),!0),this._rowsScrollController.positionChanged.add(()=>{var n;if(this.option(Di)===!1){this._viewportChanging=!0,this.loadViewport(),this._viewportChanging=!1;return}(n=this._dataSource)===null||n===void 0||n.setViewportItemIndex(this._rowsScrollController.getViewportItemIndex())})),this.option(Di)===!1&&this._updateLoadViewportParams(),this.isLoaded()&&this.option(Di)!==!1&&this._rowsScrollController.load()}isViewportChanging(){return this._viewportChanging}_getRowsScrollDataOptions(){let e=this,t=function(n){return t1(n,e._dataSource)};return{pageSize:()=>e.getRowPageSize(),loadedOffset(){var n;return ts(e)&&((n=e._dataSource)===null||n===void 0?void 0:n.lastLoadOptions().skip)||0},loadedItemCount:()=>e._itemCount,totalItemsCount(){return Al(e)?e.totalItemsCount():e.option(Di)===!1?e._itemCount:e._items.filter(t).length},hasKnownLastPage:()=>e.option(Di)===!1?e.hasKnownLastPage():!0,pageIndex(n){return n!==void 0&&(e._rowPageIndex=n),e._rowPageIndex},isLoading:()=>e.isLoading(),pageCount(){return Math.ceil(this.totalItemsCount()/this.pageSize())||1},load(){e._rowsScrollController.pageIndex()>=this.pageCount()&&(e._rowPageIndex=this.pageCount()-1,e._rowsScrollController.pageIndex(e._rowPageIndex)),!(!this.items().length&&this.totalItemsCount())&&e._rowsScrollController.handleDataChanged(n=>{n=n||{},n.changeType=n.changeType||"refresh",n.items=n.items||e._visibleItems,e._visibleItems.forEach((o,r)=>{o.rowIndex=r}),e._fireChanged(n)})},updateLoading(){},itemsCount(){return this.items(!0).length},correctCount:(n,o,r)=>PQ(n,o,r,(s,a,l)=>s.isNewRow?a&&!l:a&&l?!s.isNewRow:t(s)),items(n){let o=e._items;if(e.option(Di)){let r=e.dataSource(),s=r?.virtualItemsCount(),a=s?s.begin:0,l=e.getRowPageSize(),d=e._rowPageIndex*l-a,c=l;if(d<0)return[];d&&(d=this.correctCount(o,d),o=o.slice(d)),c&&(c=this.correctCount(o,c),o=o.slice(0,c))}return n?o.filter(t):o},viewportItems(n){return n&&e.option(Di)!==!1&&(e._visibleItems=n),e._visibleItems},onChanged(){},changingDuration(){let n=e.dataSource();return n!=null&&n.isLoading()&&e.option(Di)!==!1?300:n?._renderTime||0}}}_updateItemsCore(e){let t=this.getRowIndexDelta();if(super._updateItemsCore.apply(this,arguments),this.option(Di)===!1&&De.isVirtualRowRendering(this)){e.changeType==="update"&&e.rowIndices.length===0&&e.cancelEmptyChanges&&(e.cancel=!0);return}let n=this._rowsScrollController;if(n){let o=this._visibleItems,r=e.changeType==="refresh"||e.isLiveUpdate;if(e.changeType==="append"&&e.items&&!e.items.length)return;r||e.changeType==="append"||e.changeType==="prepend"?(e.cancel=!0,r&&n.reset(!0),n.load()):(e.changeType==="update"?e.rowIndices.forEach((s,a)=>{let l=e.changeTypes[a],d=e.items[a];l==="update"?o[s]=d:l==="insert"?o.splice(s,0,d):l==="remove"&&o.splice(s,1)}):(o.forEach((s,a)=>{o[a]=this._items[a+t]||o[a]}),e.items=o),DDe(o))}}_updateLoadViewportParams(){let e=this._rowsScrollController.getViewportParams(),t=this.pageSize();if(e&&!Al(this)&&t>0){let n=this.pageIndex()*t;e.skip+=n}this._loadViewportParams=e}_processItems(){let e=super._processItems.apply(this,arguments);if(this.option(Di)===!1){let t=this._dataSource,n=t?.lastLoadOptions().skip??0,o,r,s,a=!1,l=[];e.forEach(d=>{let{rowType:c}=d,u=t1(d,t),h=c==="group"&&(o||u||r!=="group"&&n>0),f=c==="data"&&u&&(o||r!=="group");!d.isNewRow&&U(o)&&(h||f)&&!(s&&!a)&&n++,(h||f)&&(a=!0),d.isNewRow?l.push(d):(l.forEach(p=>{p.loadIndex=n}),l=[]),d.loadIndex=n,o=u,r=c,s=d.isNewRow}),l.forEach(d=>{d.loadIndex=n})}return e}_afterProcessItems(e){if(this._itemCount=e.filter(t=>t1(t,this._dataSource)).length,U(this._loadViewportParams)){this._updateLoadViewportParams();let t=e;if(this._allItems=e,e.length){let{skipForCurrentPage:n}=this.getLoadPageParams(!0),o=e[0].loadIndex+n,{take:r}=this._loadViewportParams;t=e.filter(s=>{let a=s.isNewRow&&s.loadIndex===o&&r===0,l=s.loadIndex>=o,d=s.loadIndex<o+r||a;return l&&d})}return t}return super._afterProcessItems.apply(this,arguments)}_applyChange(e){let t=this,{items:n}=e,{changeType:o}=e,{removeCount:r}=e;if(r){let s=o==="prepend";r=PQ(t._items,r,s,(a,l)=>a.rowType==="data"&&!a.isNewRow||a.rowType==="group"&&(t._dataSource.isGroupItemCountable(a.data)||l)),e.removeCount=r}switch(o){case"prepend":t._items.unshift.apply(t._items,n),r&&t._items.splice(-r);break;case"append":t._items.push.apply(t._items,n),r&&t._items.splice(0,r);break;default:super._applyChange(e)}}items(e){return e?this._allItems||this._items:this._visibleItems||this._items}getRowIndexDelta(){let e=0;if(this.option(Di)){let t=this._visibleItems;t&&t[0]&&(e=this._items.indexOf(t[0]))}return e<0?0:e}getRowIndexOffset(e,t){let n=0,o=this.dataSource(),r=this._rowsScrollController,s=this.option(Di)===!1,a=Al(this);if(r&&!e)if(s&&U(this._loadViewportParams)){let{skipForCurrentPage:d,pageIndex:c}=this.getLoadPageParams(!0),u=this.items(!0);if(n=a?c*this.pageSize():0,u.length){let h=u[0].loadIndex;n+=u.filter(f=>f.loadIndex<h+d).length}}else n=r.beginPageIndex()*r.pageSize();else if(a&&s&&o){var l;let d=o.lastLoadOptions();t&&(l=d.skips)!==null&&l!==void 0&&l.length?n=d.skips.reduce((c,u)=>c+u,0):n=d.skip??0}else ts(this)&&o&&(n=o.beginPageIndex()*o.pageSize());return n}getDataIndex(){return this.option(Di)===!1?this.getRowIndexOffset(!0,!0):super.getDataIndex.apply(this,arguments)}viewportSize(){let e=this._rowsScrollController,t=this._dataSource,n=e?.viewportSize.apply(e,arguments);return this.option(Di)===!1?n:t?.viewportSize.apply(t,arguments)}viewportHeight(e,t){var n;(n=this._rowsScrollController)===null||n===void 0||n.viewportHeight(e,t)}viewportItemSize(){let e=this._rowsScrollController,t=this._dataSource,n=e?.viewportItemSize.apply(e,arguments);return this.option(Di)===!1?n:t?.viewportItemSize.apply(t,arguments)}setViewportPosition(){let e=this._rowsScrollController,t=this._dataSource;this._isPaging=!1,e?e.setViewportPosition.apply(e,arguments):t?.setViewportPosition.apply(t,arguments)}setContentItemSizes(e){let t=this._rowsScrollController,n=this._dataSource,o=t?.setContentItemSizes(e);return this.option(Di)===!1?o:n?.setContentItemSizes(e)}getPreloadedRowCount(){let e=this.option("scrolling.preloadedRowCount"),t=this.option("scrolling.preloadEnabled");if(U(e))return e;let n=this.viewportSize();return t?2*n:n}getLoadPageParams(e){var t,n;let o=this.pageSize(),r=this._loadViewportParams,s=(t=this._dataSource)===null||t===void 0?void 0:t.lastLoadOptions(),a=s?.pageIndex||0,l=s?.take||0,d=this._rowsScrollController.isScrollingBack(),c=d?this.getPreloadedRowCount():0,u=d?0:this.getPreloadedRowCount(),h=((n=this._dataSource)===null||n===void 0?void 0:n.totalCountCorrection())||0,f=Math.max(0,r.skip-c),p=e?a:Math.floor(o?f/o:0),m=p*o,g=r.skip-m,b=r.take+g+u-h,E=Math.ceil(o?(e?l:b)/o:0);return{pageIndex:p,loadPageCount:Math.max(1,E),skipForCurrentPage:Math.max(0,g)}}_updateVisiblePageIndex(e){if(!this._rowsScrollController)return;if(U(e)){this._silentOption("paging.pageIndex",e),this.pageChanged.fire();return}let t=this._rowsScrollController.getViewportItemIndex(),n=Math.floor(t/this.pageSize());this.pageIndex()!==n&&(this._silentOption("paging.pageIndex",n),this.updateItems({changeType:"pageIndex"}))}_getChangedLoadParams(){let e=this.getLoadPageParams(!0),{pageIndex:t,loadPageCount:n}=this.getLoadPageParams(),o=this._pageIndexIsValid(t),r=null;return!this._isLoading&&o&&(t!==e.pageIndex||n!==e.loadPageCount)&&(r={pageIndex:t,loadPageCount:n}),r}_pageIndexIsValid(e){let t=!0;return(Fd(this)&&this.hasKnownLastPage()||ts(this))&&(t=e*this.pageSize()<this.totalItemsCount()),t}_loadItems(e,t){let n=Al(this),o=this._dataSource,r=this._getChangedLoadParams(),s=o?.loadPageCount()??0,a=this.pageSize()*s,l=o?.pageIndex()??0,d=r?.pageIndex===l,c=Fd(this)&&this.totalItemsCount()<a,u=this.option("editing.refreshMode")==="repaint",h=r?.pageIndex>l,f=!1;if(!o||n&&e&&(u&&t||h||d&&c))return f;if(n&&this._isLoading&&(this._needUpdateViewportAfterLoading=!0),n&&r){f=!0,o.pageIndex(r.pageIndex),o.loadPageCount(r.loadPageCount),this._repaintChangesOnly=!0,this._needUpdateDimensions=!0;let p=this._viewportChanging;this.load().always(()=>{this._repaintChangesOnly=void 0,this._needUpdateDimensions=void 0}).done(()=>{let m=this.pageCount()>0&&this.pageIndex()===this.pageCount()-1;(p||m)&&this._updateVisiblePageIndex(),this._needUpdateViewportAfterLoading&&(this._needUpdateViewportAfterLoading=!1,this.loadViewport({checkLoadedParamsOnly:!0}))})}return f}loadViewport(e){let{checkLoadedParamsOnly:t,checkLoading:n,viewportIsNotFilled:o}=e??{};if(Al(this)||De.isVirtualRowRendering(this)){var s;this._updateLoadViewportParams();let l=this._loadItems(n,!o),d=(s=this._dataSource)===null||s===void 0?void 0:s.isCustomLoading(),c=n&&!d&&this._isLoading;if(!(l||c||t)){var a;let h=!((a=this._editingController)!==null&&a!==void 0&&(a=a.getChanges())!==null&&a!==void 0&&a.length);this.updateItems({repaintChangesOnly:!0,needUpdateDimensions:!0,useProcessedItemsCache:h,cancelEmptyChanges:!0})}}}updateViewport(){var e;let t=this.viewportSize(),n=this.items().length,o=t>n,r=((e=this._loadViewportParams)===null||e===void 0?void 0:e.take)??0,s=this._rowsScrollController,a=s?.getViewportParams().take;(o||r<a)&&!this._isPaging&&n&&this.loadViewport({checkLoading:!0,viewportIsNotFilled:o})}loadIfNeed(){if(this.option(Di)===!1)return;let e=this._rowsScrollController;e&&e.loadIfNeed();let t=this._dataSource;return t&&t.loadIfNeed()}getItemSize(){let e=this._rowsScrollController;if(e)return e.getItemSize.apply(e,arguments);let t=this._dataSource;return t&&t.getItemSize.apply(t,arguments)}getItemSizes(){let e=this._rowsScrollController;if(e)return e.getItemSizes.apply(e,arguments);let t=this._dataSource;return t&&t.getItemSizes.apply(t,arguments)}getContentOffset(){let e=this._rowsScrollController;if(e)return e.getContentOffset.apply(e,arguments);let t=this._dataSource;return t&&t.getContentOffset.apply(t,arguments)}refresh(e){let t=this._dataSource;return t&&e&&e.load&&Fd(this)&&t.resetCurrentTotalCount(),super.refresh.apply(this,arguments)}topItemIndex(){var e;return(e=this._loadViewportParams)===null||e===void 0?void 0:e.skip}bottomItemIndex(){let e=this._loadViewportParams;return e&&e.skip+e.take}virtualItemsCount(){let e=this._rowsScrollController;if(e)return e.virtualItemsCount.apply(e,arguments);let t=this._dataSource;return t?.virtualItemsCount.apply(t,arguments)}pageIndex(e){let t=Al(this),n=this._rowsScrollController;return this.option(Di)===!1&&t&&n&&e===void 0?this.option("paging.pageIndex")??0:super.pageIndex.apply(this,arguments)}_fireChanged(e){super._fireChanged.apply(this,arguments);let{operationTypes:t}=e;if(this.option(Di)===!1&&Al(this)&&t){let{fullReload:n,pageIndex:o}=t;e.isDataChanged&&!n&&o&&this._updateVisiblePageIndex(this._dataSource.pageIndex())}}_getPagingOptionValue(e){let t=super._getPagingOptionValue.apply(this,arguments);return this.option(Di)===!1&&Al(this)&&(t=this[e]()),t}isEmpty(){return this.option(Di)===!1?!this.items(!0).length:super.isEmpty.apply(this,arguments)}isLastPageLoaded(){let e=!1;if(this.option(Di)===!1&&Al(this)){let{pageIndex:t,loadPageCount:n}=this.getLoadPageParams(!0),o=this.pageCount();e=t+n>=o}else e=super.isLastPageLoaded.apply(this,arguments);return e}reset(){this._itemCount=0,this._allItems=null,super.reset.apply(this,arguments)}_applyFilter(){var e;return(e=this._dataSource)===null||e===void 0||e.loadPageCount(1),super._applyFilter.apply(this,arguments)}getVirtualContentSize(){var e;return(e=this._dataSource)===null||e===void 0?void 0:e.getVirtualContentSize.apply(this._dataSource,arguments)}setViewportItemIndex(){var e;return(e=this._dataSource)===null||e===void 0?void 0:e.setViewportItemIndex.apply(this._dataSource,arguments)}},ADe=i=>class extends i{dispose(){super.dispose.apply(this,arguments),clearTimeout(this._resizeTimeout)}_updateMasterDataGridCore(e){return Be(super._updateMasterDataGridCore.apply(this,arguments)).done(t=>{let n=ts(e)&&e.option(Di)===!1;!t&&n&&e.getScrollable()&&e.updateDimensions()})}hasResizeTimeout(){return!!this._resizeTimeout}resize(){let e;if(ts(this)||De.isVirtualRowRendering(this)){clearTimeout(this._resizeTimeout),this._resizeTimeout=null;let t=new Date-this._lastTime,n=this.option("scrolling.updateTimeout");this._lastTime&&t<n?(e=new le,this._resizeTimeout=setTimeout(()=>{this._resizeTimeout=null,super.resize.apply(this).done(e.resolve).fail(e.reject),this._lastTime=new Date},n),this._lastTime=new Date):(e=super.resize.apply(this),this._dataController.isLoaded()&&(this._lastTime=new Date))}else e=super.resize.apply(this);return e}},kDe=i=>class extends i{init(){var e;super.init(),this._dataController.pageChanged.add(t=>{let n=this._scrollTop;this.scrollToPage(t??this._dataController.pageIndex()),this.option(Di)===!1&&this._scrollTop===n&&this._dataController.updateViewport()}),this._dataController.dataSourceChanged.add(()=>{!this._scrollTop&&this._scrollToCurrentPageOnResize()}),(e=this._dataController.stateLoaded)===null||e===void 0||e.add(()=>{this._scrollToCurrentPageOnResize()}),this._scrollToCurrentPageOnResize()}dispose(){clearTimeout(this._scrollTimeoutID),super.dispose()}_scrollToCurrentPageOnResize(){if(this._dataController.pageIndex()>0){let e=()=>{this.resizeCompleted.remove(e),this.scrollToPage(this._dataController.pageIndex())};this.resizeCompleted.add(e)}}scrollToPage(e){let t=this._dataController?this._dataController.pageSize():0,n;if(ts(this)||Fd(this)){let o=this._dataController.getItemSize(),r=this._dataController.getItemSizes(),s=e*t;n=s*o;for(let a in r)parseInt(a)<s&&(n+=r[a]-o)}else n=0;this.scrollTo({y:n,x:this._scrollLeft})}renderDelayedTemplates(){this.waitAsyncTemplates().done(()=>{this._updateContentPosition(!0)}),super.renderDelayedTemplates.apply(this,arguments)}_renderCore(e){let t=new Date,n=super._renderCore.apply(this,arguments),o=this._dataController._dataSource;if(o&&e){let r=e.items?e.items.length:20,s=this._dataController.viewportSize()||20;De.isVirtualRowRendering(this)&&r>0&&this.option(Di)!==!1?o._renderTime=(new Date-t)*s/r:o._renderTime=new Date-t}return n}_getRowElements(e){let t=super._getRowElements(e);return t&&t.not(".dx-virtual-row")}_removeRowsElements(e,t,n){let o=this._getRowElements(e).toArray();n==="append"?o=o.slice(0,t):o=o.slice(-t),o.map(r=>{let s=I(r);this._errorHandlingController&&this._errorHandlingController.removeErrorRow(s.next()),s.remove()})}_updateContent(e,t){let n,o=this._findContentElement(),r=t&&t.changeType,s=le(),a=o.children().first();return r==="append"||r==="prepend"?this.waitAsyncTemplates().done(()=>{let l=this._getBodies(e);l.length===1?this._getBodies(a)[r==="append"?"append":"prepend"](l.children()):l[r==="append"?"appendTo":"prependTo"](a),e.remove(),n=this._getFreeSpaceRowElements(a),LQ(n,NQ),t.removeCount&&this._removeRowsElements(a,t.removeCount,r),this._restoreErrorRow(a),s.resolve()}).fail(s.reject):super._updateContent.apply(this,arguments).done(()=>{r==="update"&&this._restoreErrorRow(a),s.resolve()}).fail(s.reject),s.promise().done(()=>{this._updateBottomLoading()})}_addVirtualRow(e,t,n,o){if(!o)return;let r=this._createEmptyRow("dx-virtual-row",t,o);r=this._wrapRowIfNeed(e,r),this._appendEmptyRow(e,r,n)}_updateContentItemSizes(){let e=this._getRowHeights(),t=this._correctRowHeights(e);this._dataController.setContentItemSizes(t)}_updateViewportSize(e,t){U(e)||(e=this._hasHeight?Ct(this.element()):Ct(et())),this._dataController.viewportHeight(e,t)}_getRowHeights(){var e,t;let n=(e=this._editingController)===null||e===void 0||(t=e.isPopupEditMode)===null||t===void 0?void 0:t.call(e),o=this._getRowElements(this._tableElement).toArray();return n&&(o=o.filter(r=>!I(r).hasClass(ODe))),o.map(r=>un(r).height)}_correctRowHeights(e){let t=this._dataController,n=t._dataSource,o=[],r=t.getVisibleRows(),s=0,a=!0,l=-1;for(let d=0;d<e.length;d++){let c=r[d];U(c)&&(this.option(Di)===!1?(l>=0&&l!==c.loadIndex&&(o.push(s),s=0),l=c.loadIndex):t1(c,n)&&(a?a=!1:(o.push(s),s=0)),s+=e[d])}return s>0&&o.push(s),o}_updateContentPosition(e){let t=this._rowHeight||20;if(this._dataController.viewportItemSize(t),ts(this)||De.isVirtualRowRendering(this)){e||this._updateContentItemSizes();let n=this._dataController.getContentOffset("begin"),o=this._dataController.getContentOffset("end"),r=this.getTableElements(),s=r.children("tbody").children(".dx-virtual-row");LQ(s,"dx-virtual-row"),r.each((a,l)=>{let d=a>0,c=this._isFixedTableRendering;this._isFixedTableRendering=d,this._addVirtualRow(I(l),d,"top",n),this._addVirtualRow(I(l),d,"bottom",o),this._isFixedTableRendering=c})}}_isTableLinesDisplaysCorrect(e){return e.find(".dx-column-lines").length>0===this.option("showColumnLines")}_isColumnElementsEqual(e,t){let n=e.length===t.length;return n&&ee(e,(o,r)=>{if(r.style.width!==t[o].style.width)return n=!1,n}),n}_getCellClasses(e){let t=[],{cssClass:n}=e,o=e.command==="expand";return n&&t.push(n),o&&t.push(this.addWidgetPrefix("group-space")),t}_findBottomLoadPanel(e){let t=e||this.element(),n=t&&t.find(`.${this.addWidgetPrefix("bottom-load-panel")}`);if(n&&n.length)return n}_updateBottomLoading(){let e=this,t=ts(this),n=Fd(this),o=!e._dataController.hasKnownLastPage()&&e._dataController.isLoaded()&&(t||n),r=e._findContentElement(),s=e._findBottomLoadPanel(r);o?s||I("<div>").addClass(e.addWidgetPrefix("bottom-load-panel")).append(e._createComponent(I("<div>"),qo,{elementAttr:{role:null,"aria-label":null}}).$element()).appendTo(r):s&&s.remove()}_handleScroll(e){let t=this.option(Di)===!0,n=e.scrollOffset.top===0,r=this._scrollTop!==e.scrollOffset.top||e.forceUpdateScrollPosition,s=this._hasHeight||!t&&n;r&&s&&this._rowHeight&&(this._scrollTop=e.scrollOffset.top,(ts(this)||this.option("scrolling.rowRenderingMode")!=="standard")&&this.option(Di)===!1&&(this._updateContentItemSizes(),this._updateViewportSize(null,this._scrollTop)),this._dataController.setViewportPosition(e.scrollOffset.top)),super._handleScroll.apply(this,arguments)}_needUpdateRowHeight(e){return super._needUpdateRowHeight.apply(this,arguments)||e>0&&Fd(this)&&!De.isVirtualRowRendering(this)}_updateRowHeight(){if(super._updateRowHeight.apply(this,arguments),this._rowHeight){this._updateContentPosition();let e=this._hasHeight?Ct(this.element()):Ct(et());this.option(Di)===!1?(this._updateViewportSize(e),this._dataController.updateViewport()):this._dataController.viewportSize(Math.ceil(e/this._rowHeight))}}updateFreeSpaceRowHeight(){let e=super.updateFreeSpaceRowHeight.apply(this,arguments);return e&&this._updateContentPosition(),e}setLoading(e,t){let n=this._dataController,o=n.pageIndex()>0&&n.isLoaded()&&!!this._findBottomLoadPanel();this.option(Di)===!1&&e&&n.isViewportChanging()||(o&&(e=!1),super.setLoading.call(this,e,t))}throwHeightWarningIfNeed(){if(this._hasHeight===void 0)return;!this._hasHeight&&Al(this)&&!this._heightWarningIsThrown&&(this._heightWarningIsThrown=!0,bt.log("W1025"))}_resizeCore(){let e=this,t=e.element();super._resizeCore(),this.throwHeightWarningIfNeed(),e.component.$element()&&!e._windowScroll&&ah(t)&&(e._windowScroll=$N(t,n=>{!e._hasHeight&&e._rowHeight&&e._dataController.setViewportPosition(n)},e.component.$element()),e.on("disposing",()=>{e._windowScroll.dispose()})),this.option(Di)!==!1&&e.loadIfNeed()}loadIfNeed(){var e,t;(e=this._dataController)===null||e===void 0||(t=e.loadIfNeed)===null||t===void 0||t.call(e)}_restoreErrorRow(e){if(this.option(Di)===!1){var t;(t=this._errorHandlingController)===null||t===void 0||t.removeErrorRow()}super._restoreErrorRow.apply(this,arguments)}},VQ={defaultOptions:()=>({scrolling:{timeout:300,updateTimeout:300,minTimeout:0,renderingThreshold:100,removeInvisiblePages:!0,rowPageSize:5,prerenderedRowChunkSize:1,mode:"standard",preloadEnabled:!1,rowRenderingMode:"standard",loadTwoPagesOnStart:!1,legacyMode:!1,prerenderedRowCount:1}}),extenders:{controllers:{data:TDe,resizing:ADe},views:{rowsView:kDe}}};qe.registerModule("virtualScrolling",VQ);Wh.extend(BQ);var i1=(i,e)=>{let t=I(et()),{top:n}=i.offset(),o;if(ai(e)){if(e<n)return n-e;o=Wm(t)-e+t.scrollTop()}else{let r=n-t.scrollTop(),s=Wm(t)-r-Ct(i);o=Math.max(r,s)}return .9*o};var UN=class extends iO{_getDefaultOptions(){return q(super._getDefaultOptions(),{orientation:"horizontal",tabIndex:null,onHoverStart:pe})}_initDataAdapter(){this._dataAdapter=this.option("_dataAdapter"),this._dataAdapter||super._initDataAdapter()}_renderContentImpl(){this._renderContextMenuOverlay(),super._renderContentImpl();let e=this._dataAdapter.getNodeByKey(this.option("_parentKey"));e&&this._renderItems(this._getChildNodes(e)),this._renderDelimiter()}_renderDelimiter(){this.$contentDelimiter=I("<div>").appendTo(this._itemContainer()).addClass("dx-context-menu-content-delimiter")}_getOverlayOptions(){return q(!0,super._getOverlayOptions(),{onPositioned:this._overlayPositionedActionHandler.bind(this),position:{precise:!0}})}_overlayPositionedActionHandler(e){this._showDelimiter(e)}_hoverEndHandler(e){super._hoverEndHandler(e),this._toggleFocusClass(!1,e.currentTarget)}_isMenuHorizontal(){return this.option("orientation")==="horizontal"}_hoverStartHandler(e){this.option("onHoverStart")(e),super._hoverStartHandler(e),this._toggleFocusClass(!0,e.currentTarget)}_drawSubmenu(e){this._actions.onShowing({rootItem:tt(e),submenu:this}),super._drawSubmenu(e),this._actions.onShown({rootItem:tt(e),submenu:this})}_hideSubmenu(e){this._actions.onHiding({cancel:!0,rootItem:tt(e),submenu:this}),super._hideSubmenu(e),this._actions.onHidden({rootItem:tt(e),submenu:this})}_showDelimiter(e){if(!this.$contentDelimiter)return;let t=this._itemContainer().children(".dx-submenu").eq(0),n=this.option("position").of.find(".dx-context-menu-container-border"),o={of:t,precise:!0},r=e.position,s=r.v.location,a=r.h.location,l=n.offset(),d=Math.round(l.left),c=Math.round(l.top),u=Qe(n),h=ft(n),f=Qe(t),p=ft(t);this.$contentDelimiter.css("display","block"),$m(this.$contentDelimiter,this._isMenuHorizontal()?u<f?u:f:3),Ia(this.$contentDelimiter,this._isMenuHorizontal()?3:h<p?h:p),this._isMenuHorizontal()?s>c?Math.round(a)===d?(o.offset="0 -2.5",o.at=o.my="left top"):(o.offset="0 -2.5",o.at=o.my="right top"):(Ia(this.$contentDelimiter,5),Math.round(a)===d?(o.offset="0 5",o.at=o.my="left bottom"):(o.offset="0 5",o.at=o.my="right bottom")):a>d?Math.round(s)===c?(o.offset="-2.5 0",o.at=o.my="left top"):(o.offset="-2.5 0",o.at=o.my="left bottom"):Math.round(s)===c?(o.offset="2.5 0",o.at=o.my="right top"):(o.offset="2.5 0",o.at=o.my="right bottom"),lr.setup(this.$contentDelimiter,o)}_getContextMenuPosition(){return this.option("position")}isOverlayVisible(){return this._overlay.option("visible")}getOverlayContent(){return this._overlay.$content()}},n1=UN;var o1="dx-menu-adaptive-mode";var MDe=`${o1}-overlay-wrapper`;var RDe={show:50,hide:300},HQ=["onSubmenuShowing","onSubmenuShown","onSubmenuHiding","onSubmenuHidden","onItemContextMenu","onItemClick","onSelectionChanged","onItemRendered"],r1=class extends eO{_getDefaultOptions(){return q(super._getDefaultOptions(),{orientation:"horizontal",submenuDirection:"auto",showFirstSubmenuMode:{name:"onClick",delay:{show:50,hide:300}},hideSubmenuOnMouseLeave:!1,onSubmenuShowing:null,onSubmenuShown:null,onSubmenuHiding:null,onSubmenuHidden:null,adaptivityEnabled:!1})}_setOptionsByReference(){super._setOptionsByReference(),q(this._optionsByReference,{animation:!0,selectedItem:!0})}_itemElements(){let e=super._itemElements(),t=this._submenuItemElements();return e.add(t)}_submenuItemElements(){let e=[],t=this._submenus.length&&this._submenus[0];return t&&t.itemsContainer()&&(e=t.itemsContainer().find(".dx-menu-item")),e}_focusTarget(){return this.$element()}_isMenuHorizontal(){return this.option("orientation")==="horizontal"}_moveFocus(e){let t=this._getAvailableItems(),n=this._isMenuHorizontal(),o=this._getActiveItem(!0),r,s,a,l;switch(e){case"up":s=n?"showSubmenu":this._getItemsNavigationOperation("prevItem"),r=n?o:t,a=this._getKeyboardNavigationAction(s,r),l=a();break;case"down":s=n?"showSubmenu":this._getItemsNavigationOperation("nextItem"),r=n?o:t,a=this._getKeyboardNavigationAction(s,r),l=a();break;case"right":s=n?this._getItemsNavigationOperation("nextItem"):"showSubmenu",r=n?t:o,a=this._getKeyboardNavigationAction(s,r),l=a();break;case"left":s=n?this._getItemsNavigationOperation("prevItem"):"showSubmenu",r=n?t:o,a=this._getKeyboardNavigationAction(s,r),l=a();break;default:return super._moveFocus(e)}l&&l.length!==0&&this.option("focusedElement",tt(l))}_getItemsNavigationOperation(e){let t=e;return this.option("rtlEnabled")&&(t=e==="prevItem"?"nextItem":"prevItem"),t}_getKeyboardNavigationAction(e,t){let n=pe;switch(e){case"showSubmenu":t.hasClass("dx-state-disabled")||(n=this._showSubmenu.bind(this,t));break;case"nextItem":n=this._nextItem.bind(this,t);break;case"prevItem":n=this._prevItem.bind(this,t)}return n}_clean(){super._clean(),this.option("templatesRenderAsynchronously")&&clearTimeout(this._resizeEventTimer)}_visibilityChanged(e){e&&(this._menuItemsWidth||this._updateItemsWidthCache(),this._dimensionChanged())}_isAdaptivityEnabled(){return this.option("adaptivityEnabled")&&this.option("orientation")==="horizontal"}_updateItemsWidthCache(){let e=this.$element().find("ul").first().children("li").children(".dx-menu-item");this._menuItemsWidth=this._getSummaryItemsSize("width",e,!0)}_dimensionChanged(){if(!this._isAdaptivityEnabled())return;let e=Ft(this.$element());this._toggleAdaptiveMode(this._menuItemsWidth>e)}_init(){super._init(),this._submenus=[]}_initActions(){this._actions={},ee(HQ,(e,t)=>{this._actions[t]=this._createActionByOption(t)})}_initMarkup(){this._visibleSubmenu=null,this.$element().addClass("dx-menu"),super._initMarkup(),this._addCustomCssClass(this.$element()),this.setAria("role","menubar")}_render(){super._render(),this._initAdaptivity()}_isTargetOutOfComponent(e){let t=I(e).closest(".dx-menu").length!==0,n=I(e).closest(".dx-context-menu").length!==0;return!(t||n)}_focusOutHandler(e){let{relatedTarget:t}=e;t&&this._isTargetOutOfComponent(t)&&this._hideVisibleSubmenu(),super._focusOutHandler(e)}_renderHamburgerButton(){return this._hamburger=new Ln(I("<div>").addClass("dx-menu-hamburger-button"),{icon:"menu",activeStateEnabled:!1,onClick:this._toggleTreeView.bind(this)}),this._hamburger.$element()}_toggleTreeView(e){ht(e)&&(e=!this._overlay.option("visible")),this._overlay.option("visible",e),e&&this._treeView.focus(),this._toggleHamburgerActiveState(e)}_toggleHamburgerActiveState(e){this._hamburger&&this._hamburger.$element().toggleClass("dx-state-active",e)}_toggleAdaptiveMode(e){let t=this.$element().find(".dx-menu-horizontal"),n=this.$element().find(`.${o1}`);e?this._hideVisibleSubmenu():(this._treeView&&this._treeView.collapseAll(),this._overlay&&this._toggleTreeView(e)),t.toggle(!e),n.toggle(e)}_removeAdaptivity(){this._$adaptiveContainer&&(this._toggleAdaptiveMode(!1),this._$adaptiveContainer.remove(),this._$adaptiveContainer=null,this._treeView=null,this._hamburger=null,this._overlay=null)}_treeviewItemClickHandler(e){this._actions.onItemClick(e),e.node.children.length||this._toggleTreeView(!1)}_getAdaptiveOverlayOptions(){let t=this.option("rtlEnabled")?"right":"left";return{_ignoreFunctionValueDeprecation:!0,maxHeight:()=>i1(this.$element()),deferRendering:!1,shading:!1,animation:!1,hideOnParentScroll:!0,onHidden:()=>{this._toggleHamburgerActiveState(!1)},height:"auto",hideOnOutsideClick:n=>!I(n.target).closest(".dx-menu-hamburger-button").length,position:{collision:"flipfit",at:`bottom ${t}`,my:`top ${t}`,of:this._hamburger.$element()}}}_getTreeViewOptions(){let e={};return ee(["rtlEnabled","width","accessKey","activeStateEnabled","animation","dataSource","disabled","displayExpr","displayExpr","focusStateEnabled","hint","hoverStateEnabled","itemsExpr","items","itemTemplate","selectedExpr","selectionMode","tabIndex","visible"],(t,n)=>{e[n]=this.option(n)}),ee(["onItemContextMenu","onSelectionChanged","onItemRendered"],(t,n)=>{e[n]=o=>{this._actions[n](o)}}),q(e,{dataSource:this.getDataSource(),animationEnabled:!!this.option("animation"),onItemClick:this._treeviewItemClickHandler.bind(this),onItemExpanded:t=>{this._overlay.repaint(),this._actions.onSubmenuShown(t)},onItemCollapsed:t=>{this._overlay.repaint(),this._actions.onSubmenuHidden(t)},selectNodesRecursive:!1,selectByClick:this.option("selectByClick"),expandEvent:"click",_supportItemUrl:!0})}_initAdaptivity(){if(!this._isAdaptivityEnabled())return;this._$adaptiveContainer=I("<div>").addClass(o1);let e=this._renderHamburgerButton();this._treeView=this._createComponent(I("<div>"),Gh,this._getTreeViewOptions()),this._overlay=this._createComponent(I("<div>"),cs,this._getAdaptiveOverlayOptions()),this._overlay.$content().append(this._treeView.$element()).addClass(o1).addClass(this.option("cssClass")),this._overlay.$wrapper().addClass(MDe),this._$adaptiveContainer.append(e),this._$adaptiveContainer.append(this._overlay.$element()),this.$element().append(this._$adaptiveContainer),this._updateItemsWidthCache(),this._dimensionChanged()}_getDelay(e){let{delay:t}=this.option("showFirstSubmenuMode");return U(t)?Ke(t)?t[e]:t:RDe[e]}_keyboardHandler(e){return super._keyboardHandler(e,!!this._visibleSubmenu)}_renderContainer(){let e=I("<div>");return e.appendTo(this.$element()).addClass(this._isMenuHorizontal()?"dx-menu-horizontal":"dx-menu-vertical"),super._renderContainer(e)}_renderSubmenuItems(e,t){let n=this._createSubmenu(e,t);return this._submenus.push(n),this._renderBorderElement(t),n}_getKeyboardListeners(){return super._getKeyboardListeners().concat(this._visibleSubmenu)}_createSubmenu(e,t){let n=I("<div>").addClass("dx-context-menu").appendTo(t),o=this._getChildNodes(e),r=this._createComponent(n,n1,q(this._getSubmenuOptions(),{_dataAdapter:this._dataAdapter,_parentKey:e.internalFields.key,items:o,onHoverStart:this._clearTimeouts.bind(this),position:this.getSubmenuPosition(t)}));return this._attachSubmenuHandlers(t,r),r}_getSubmenuOptions(){let e=I("<div>"),t=this._isMenuHorizontal();return{itemTemplate:this.option("itemTemplate"),target:e,orientation:this.option("orientation"),selectionMode:this.option("selectionMode"),cssClass:this.option("cssClass"),selectByClick:this.option("selectByClick"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),showSubmenuMode:this.option("showSubmenuMode"),displayExpr:this.option("displayExpr"),disabledExpr:this.option("disabledExpr"),selectedExpr:this.option("selectedExpr"),itemsExpr:this.option("itemsExpr"),onFocusedItemChanged:n=>{n.component.option("visible")&&this.option("focusedElement",n.component.option("focusedElement"))},onSelectionChanged:this._nestedItemOnSelectionChangedHandler.bind(this),onItemClick:this._nestedItemOnItemClickHandler.bind(this),onItemRendered:this._nestedItemOnItemRenderedHandler.bind(this),onLeftFirstItem:t?null:this._moveMainMenuFocus.bind(this,"prevItem"),onLeftLastItem:t?null:this._moveMainMenuFocus.bind(this,"nextItem"),onCloseRootSubmenu:this._moveMainMenuFocus.bind(this,t?"prevItem":null),onExpandLastSubmenu:t?this._moveMainMenuFocus.bind(this,"nextItem"):null}}_getShowFirstSubmenuMode(){if(!this._isDesktopDevice())return"onClick";let e=this.option("showFirstSubmenuMode");return Ke(e)?e.name:e}_moveMainMenuFocus(e){let t=this._getAvailableItems(),n=t.length,o=t.filter(".dx-menu-item-expanded").eq(0),r=t.index(o);this._hideSubmenu(this._visibleSubmenu),r+=e==="prevItem"?-1:1,r>=n?r=0:r<0&&(r=n-1);let s=t.eq(r);this.option("focusedElement",tt(s))}_nestedItemOnSelectionChangedHandler(e){let t=e.addedItems.length&&e.addedItems[0],n=n1.getInstance(e.element),{onSelectionChanged:o}=this._actions;o(e),t&&this._clearSelectionInSubmenus(t[0],n),this._clearRootSelection(),this._setOptionWithoutOptionChange("selectedItem",t)}_clearSelectionInSubmenus(e,t){let n=!arguments.length;ee(this._submenus,(o,r)=>{let s=r._itemContainer(),a=!s.is(t&&t._itemContainer()),l=s.find(`.${this._selectedItemClass()}`);if(a&&l.length||n){l.removeClass(this._selectedItemClass());let d=this._getItemData(l);d&&(d.selected=!1),r._clearSelectedItems()}})}_clearRootSelection(){let e=this.$element().find(".dx-menu-items-container").first().children().children().filter(`.${this._selectedItemClass()}`);if(e.length){let t=this._getItemData(e);t.selected=!1,e.removeClass(this._selectedItemClass())}}_nestedItemOnItemClickHandler(e){this._actions.onItemClick(e)}_nestedItemOnItemRenderedHandler(e){this._actions.onItemRendered(e)}_attachSubmenuHandlers(e,t){let o=t.getOverlayContent().find(".dx-submenu"),r=Se(fh,`${this.NAME}_submenu`);t.option({onShowing:this._submenuOnShowingHandler.bind(this,e,t),onShown:this._submenuOnShownHandler.bind(this,e,t),onHiding:this._submenuOnHidingHandler.bind(this,e,t),onHidden:this._submenuOnHiddenHandler.bind(this,e,t)}),ee(o,(s,a)=>{X.off(a,r),X.on(a,r,null,this._submenuMouseLeaveHandler.bind(this,e))})}_submenuOnShowingHandler(e,t,n){let{rootItem:o}=n,r=e.children(".dx-context-menu-container-border"),s=this._getVisibilityChangeEventParams(o,t,e);this._actions.onSubmenuShowing(s),r.show(),e.addClass("dx-menu-item-expanded")}_submenuOnShownHandler(e,t,n){let{rootItem:o}=n,r=this._getVisibilityChangeEventParams(o,t,e);this._actions.onSubmenuShown(r)}_submenuOnHidingHandler(e,t,n){let o=e.children(".dx-context-menu-container-border"),r=this._getVisibilityChangeEventParams(n.rootItem,t,e,!0);n.itemData=r.itemData,n.rootItem=r.rootItem,n.submenuContainer=r.submenuContainer,n.submenu=r.submenu,this._actions.onSubmenuHiding(n),n.cancel||(this._visibleSubmenu===t&&(this._visibleSubmenu=null),o.hide(),e.removeClass("dx-menu-item-expanded"))}_submenuOnHiddenHandler(e,t,n){let{rootItem:o}=n,r=this._getVisibilityChangeEventParams(o,t,e,!0);this._actions.onSubmenuHidden(r)}_getVisibilityChangeEventParams(e,t,n,o){let r,s;if(e){let a=o?I(e).closest(".dx-menu-item")[0]:e;r=this._getItemData(a),s=I(a).find(".dx-submenu").first()}else{let a=I(t._overlay.content());r=this._getItemData(n),s=a.find(".dx-submenu").first()}return{itemData:r,rootItem:tt(n),submenuContainer:tt(s),submenu:t}}_submenuMouseLeaveHandler(e,t){let n=I(t.relatedTarget).parents(".dx-context-menu")[0],o=this._getSubmenuByRootElement(e).getOverlayContent()[0];this.option("hideSubmenuOnMouseLeave")&&n!==o&&(this._clearTimeouts(),setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide")))}_hideSubmenuAfterTimeout(){if(!this._visibleSubmenu)return;let e=I(this._visibleSubmenu.$element().context).hasClass("dx-state-hover"),t=this._visibleSubmenu.getOverlayContent().find(".dx-state-hover").length;!this._visibleSubmenu.getOverlayContent().get(0).querySelector(":hover")&&!t&&!e&&this._visibleSubmenu.hide()}_getSubmenuByRootElement(e){if(!e)return!1;let t=e.children(".dx-context-menu");return t.length&&n1.getInstance(t)}getSubmenuPosition(e){let t=this._isMenuHorizontal(),n=this.option("submenuDirection").toLowerCase(),o=this.option("rtlEnabled"),r={collision:"flip",of:e,precise:!0};switch(n){case"leftortop":r.at="left top",r.my=t?"left bottom":"right top";break;case"rightorbottom":r.at=t?"left bottom":"right top",r.my="left top";break;default:t?(r.at=o?"right bottom":"left bottom",r.my=o?"right top":"left top"):(r.at=o?"left top":"right top",r.my=o?"right top":"left top")}return r}_renderBorderElement(e){I("<div>").appendTo(e).addClass("dx-context-menu-container-border").hide()}_itemPointerDownHandler(e){if(I(e.target).closest(this._itemElements()).hasClass("dx-menu-item-has-submenu")){this.option("focusedElement",null);return}super._itemPointerDownHandler(e)}_hoverStartHandler(e){let t=Se(Mt.move,this.NAME),n=this._getItemElementByEventArgs(e),o=this._dataAdapter.getNodeByItem(this._getItemData(n)),r=U(e.buttons)&&e.buttons===1||!U(e.buttons)&&e.which===1;if(!this._isItemDisabled(n)){if(X.off(n,t),!this._hasChildren(o)){this._showSubmenuTimer=setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide"));return}if(this._getShowFirstSubmenuMode()==="onHover"&&!r){let s=this._getSubmenuByElement(n);this._clearTimeouts(),s.isOverlayVisible()||(X.on(n,t,this._itemMouseMoveHandler.bind(this)),this._showSubmenuTimer=this._getDelay("hide"))}}}_hoverEndHandler(e){let t=this._getItemElementByEventArgs(e),n=I(e.relatedTarget);super._hoverEndHandler(e),this._clearTimeouts(),!this._isItemDisabled(t)&&(n.hasClass("dx-context-menu-content-delimiter")||this.option("hideSubmenuOnMouseLeave")&&!n.hasClass("dx-menu-items-container")&&(this._hideSubmenuTimer=setTimeout(()=>{this._hideSubmenuAfterTimeout()},this._getDelay("hide"))))}_hideVisibleSubmenu(){return this._visibleSubmenu?(this._hideSubmenu(this._visibleSubmenu),!0):!1}_showSubmenu(e){let t=this._getSubmenuByElement(e);this._visibleSubmenu!==t&&this._hideVisibleSubmenu(),t&&(this._clearTimeouts(),this.focus(),t.show(),this.option("focusedElement",t.option("focusedElement"))),this._visibleSubmenu=t,this._hoveredRootItem=e}_hideSubmenu(e){e&&e.hide(),this._visibleSubmenu===e&&(this._visibleSubmenu=null),this._hoveredRootItem=null}_itemMouseMoveHandler(e){if(e.pointers&&e.pointers.length)return;let t=I(e.currentTarget);U(this._showSubmenuTimer)&&(this._clearTimeouts(),this._showSubmenuTimer=setTimeout(()=>{let n=this._getSubmenuByElement(t);n&&!n.isOverlayVisible()&&this._showSubmenu(t)},this._getDelay("show")))}_clearTimeouts(){clearTimeout(this._hideSubmenuTimer),clearTimeout(this._showSubmenuTimer)}_getSubmenuByElement(e,t){let n=this._getSubmenuByRootElement(e);if(n)return n;t=t??this._getItemData(e);let o=this._dataAdapter.getNodeByItem(t);return this._hasChildren(o)&&this._renderSubmenuItems(o,e)}_updateSubmenuVisibilityOnClick(e){let t=e.args.length&&e.args[0];if(!t||this._disabledGetter(t.itemData))return;let n=I(t.itemElement),o=this._getSubmenuByElement(n,t.itemData);if(this._updateSelectedItemOnClick(e),this._visibleSubmenu){if(this._visibleSubmenu===o){this.option("showFirstSubmenuMode")==="onClick"&&this._hideSubmenu(this._visibleSubmenu);return}this._hideSubmenu(this._visibleSubmenu)}o&&(o.isOverlayVisible()||this._showSubmenu(n))}_optionChanged(e){if(HQ.includes(e.name)){this._initActions();return}switch(e.name){case"orientation":case"submenuDirection":this._invalidate();break;case"showFirstSubmenuMode":case"hideSubmenuOnMouseLeave":break;case"showSubmenuMode":this._changeSubmenusOption(e.name,e.value);break;case"adaptivityEnabled":e.value?this._initAdaptivity():this._removeAdaptivity();break;case"width":this._isAdaptivityEnabled()&&(this._treeView.option(e.name,e.value),this._overlay.option(e.name,e.value)),super._optionChanged(e),this._dimensionChanged();break;case"animation":this._isAdaptivityEnabled()&&this._treeView.option("animationEnabled",!!e.value),super._optionChanged(e);break;default:this._isAdaptivityEnabled()&&(e.name===e.fullName||e.name==="items")&&this._treeView.option(e.fullName,e.value),super._optionChanged(e)}}_changeSubmenusOption(e,t){ee(this._submenus,(n,o)=>{o.option(e,t)})}selectItem(e){this._hideSubmenu(this._visibleSubmenu),super.selectItem(e)}unselectItem(e){this._hideSubmenu(this._visibleSubmenu),super.selectItem(e)}};ut("dxMenu",r1);var zQ=r1;var GN=zQ;var KN={"=":"filter-operation-equals","<>":"filter-operation-not-equals","<":"filter-operation-less","<=":"filter-operation-less-equal",">":"filter-operation-greater",">=":"filter-operation-greater-equal",default:"filter-operation-default",notcontains:"filter-operation-not-contains",contains:"filter-operation-contains",startswith:"filter-operation-starts-with",endswith:"filter-operation-ends-with",between:"filter-operation-between"},jQ={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",between:"between"};var FDe="dx-filter-menu";var uy="input:not([type='hidden'])",PDe=["date","datetime","number"],LDe=de.format("dxDataGrid-ariaSearchBox");function s_(i){return i.option("filterRow.applyFilter")==="onClick"}var qN=function(i){let e=i&&i.children(),t=e&&e.data("dxComponents"),n=t&&t.length&&e.data(t[0]);return n instanceof Mr?n:null},YN=function(i,e){let t="",n="",o=QN(i,e),r=De.getFormatOptionsByColumn(e,"filterRow");return Array.isArray(o)?(t=De.formatValue(o[0],r),n=De.formatValue(o[1],r),n!==""&&(t+=` - ${n}`)):U(o)&&(t=De.formatValue(o,r)),t};function QN(i,e){if(e)return s_(i)&&e.bufferedFilterValue!==void 0?e.bufferedFilterValue:e.filterValue}var Pd=function(i,e){if(e)return s_(i)&&e.bufferedSelectedFilterOperation!==void 0?e.bufferedSelectedFilterOperation:e.selectedFilterOperation},NDe=function(i,e){return e&&PDe.includes(e.dataType)&&Array.isArray(i)?!1:i!==void 0},XN=function(i,e,t){let n=i._columnsController.columnOption(e),o=QN(i,n),r=t.closest(`.${i.addWidgetPrefix("filter-range-overlay")}`).length,s=t.hasClass(i.addWidgetPrefix("filter-range-start"));return o&&Array.isArray(o)&&Pd(i,n)==="between"?s?o[0]:o[1]:!r&&NDe(o,n)?o:null},BDe=function(i,e,t,n){if(Pd(i,t)==="between"){let o=QN(i,t);return n.hasClass(i.addWidgetPrefix("filter-range-start"))?[e,Array.isArray(o)?o[1]:void 0]:[Array.isArray(o)?o[0]:o,e]}return e},VDe=function(i,e){let t=e.value===""?null:e.value,n=e.container,o=i._columnsController.columnOption(e.column.index),r=XN(i,o.index,n);if(!U(r)&&!U(t))return;i._applyFilterViewController.setHighLight(n,r!==t);let s=s_(i)?"bufferedFilterValue":"filterValue",a=BDe(i,t,o,n),l=Pd(i,o)==="between",d=e.notFireEvent||l&&Array.isArray(a)&&a.includes(void 0);i._columnsController.columnOption(o.index,s,a,d)},HDe=i=>class extends i{init(){super.init(),this._applyFilterViewController=this.getController("applyFilter")}optionChanged(e){switch(e.name){case"filterRow":case"showColumnLines":this._invalidate(!0,!0),e.handled=!0;break;case"syncLookupFilterValues":e.value?this.updateLookupDataSource():this.render(),e.handled=!0;break;default:super.optionChanged(e)}}_updateEditorValue(e,t){let n=qN(t);n&&n.option("value",XN(this,e.index,t))}_columnOptionChanged(e){let t=this,{optionNames:n}=e,o,r,s,a;if(De.checkChanges(n,["filterValue","bufferedFilterValue","selectedFilterOperation","bufferedSelectedFilterOperation","filterValues","filterType"])&&e.columnIndex!==void 0){let l=t._columnsController.getVisibleIndex(e.columnIndex),d=t._columnsController.columnOption(e.columnIndex);if(o=t._getCellElement(t.element().find(`.${t.addWidgetPrefix("filter-row")}`).index(),l)??I(),r=o.find(".dx-editor-container").first(),n.filterValue||n.bufferedFilterValue){t._updateEditorValue(d,r);let c=o.find(`.${t.addWidgetPrefix("filter-range-overlay")}`).data("dxOverlay");c&&(s=c.$content().find(".dx-editor-container"),t._updateEditorValue(d,s.first()),t._updateEditorValue(d,s.last())),(!c||!c.option("visible"))&&t._updateFilterRangeContent(o,YN(t,d))}(n.selectedFilterOperation||n.bufferedSelectedFilterOperation)&&l>=0&&d&&(a=o.find(".dx-menu"),a.length&&(t._updateFilterOperationChooser(a,d,r),Pd(t,d)==="between"?t._renderFilterRangeContent(o,d):r.find(".dx-filter-range-content").length&&(t._renderEditor(r,t._getEditorOptions(r,d)),t._hideFilterRange())));return}super._columnOptionChanged(e)}_renderCore(){return this._filterRangeOverlayInstance=null,super._renderCore.apply(this,arguments)}_resizeCore(){var e;super._resizeCore.apply(this,arguments),(e=this._filterRangeOverlayInstance)===null||e===void 0||e.repaint()}isFilterRowVisible(){return this._isElementVisible(this.option("filterRow"))}isVisible(){return super.isVisible()||this.isFilterRowVisible()}_initFilterRangeOverlay(e,t){let n=this,o={},r=e.find(".dx-editor-container"),s=n.addWidgetPrefix("filter-range-overlay"),a=I("<div>").addClass(s).appendTo(e);return n._createComponent(a,cs,{height:"auto",shading:!1,showTitle:!1,focusStateEnabled:!1,hideOnOutsideClick:!0,wrapperAttr:{class:s},animation:!1,position:{my:"top",at:"top",of:r.length&&r||e,offset:"0 -1"},contentTemplate(l){let d,c=I("<div>").addClass(`dx-editor-container ${n.addWidgetPrefix("filter-range-start")}`).appendTo(l);return t=n._columnsController.columnOption(t.index),d=n._getEditorOptions(c,t),d.sharedData=o,n._renderEditor(c,d),X.on(c.find(uy),"keydown",u=>{let h=e.find("[tabindex]").not(u.target).first();Ti(u)==="tab"&&u.shiftKey&&(u.preventDefault(),n._hideFilterRange(),h.length||(h=e.prev().find("[tabindex]").last()),X.trigger(h,"focus"))}),c=I("<div>").addClass(`dx-editor-container ${n.addWidgetPrefix("filter-range-end")}`).appendTo(l),d=n._getEditorOptions(c,t),d.sharedData=o,n._renderEditor(c,d),X.on(c.find(uy),"keydown",u=>{Ti(u)==="tab"&&!u.shiftKey&&(u.preventDefault(),n._hideFilterRange(),X.trigger(e.next().find("[tabindex]").first(),"focus"))}),I(l).addClass(n.getWidgetContainerClass())},onShown(l){let d=l.component.$content().find(".dx-editor-container").first();X.trigger(d.find(uy),"focus")},onHidden(){t=n._columnsController.columnOption(t.index),e.find(".dx-menu").parent().addClass("dx-editor-with-menu"),Pd(n,t)==="between"&&(n._updateFilterRangeContent(e,YN(n,t)),n.component.updateDimensions())}})}_updateFilterRangeOverlay(e){let t=this._filterRangeOverlayInstance;t&&t.option(e)}_showFilterRange(e,t){let n=this,o=e.children(`.${n.addWidgetPrefix("filter-range-overlay")}`),r=o.length&&o.data("dxOverlay");!r&&t&&(r=n._initFilterRangeOverlay(e,t)),r.option("visible")||(n._filterRangeOverlayInstance&&n._filterRangeOverlayInstance.hide(),n._filterRangeOverlayInstance=r,n._updateFilterRangeOverlay({width:Ft(e,!0)+1}),n._filterRangeOverlayInstance&&n._filterRangeOverlayInstance.show())}_hideFilterRange(){let e=this._filterRangeOverlayInstance;e&&e.hide()}getFilterRangeOverlayInstance(){return this._filterRangeOverlayInstance}_createRow(e){let t=super._createRow(e);return e.rowType==="filter"&&(t.addClass(this.addWidgetPrefix("filter-row")),this.option("useLegacyKeyboardNavigation")||X.on(t,"keydown",n=>Pv("filterRow",this,n))),t}_getRows(){let e=super._getRows();return this.isFilterRowVisible()&&e.push({rowType:"filter"}),e}_renderFilterCell(e,t){let n=this,{column:o}=t,r=I(e);n.component.option("showColumnHeaders")&&n.setAria("describedby",o.headerId,r),n.setAria("label",de.format("dxDataGrid-ariaFilterCell"),r),r.addClass("dx-editor-cell");let s=I("<div>").appendTo(r),a=I("<div>").addClass("dx-editor-container").appendTo(s);if(Pd(n,o)==="between")n._renderFilterRangeContent(r,o);else{let d=n._getEditorOptions(a,o);n._renderEditor(a,d)}let{alignment:l}=o;l&&l!=="center"&&r.find(uy).first().css("textAlign",o.alignment),o.filterOperations&&o.filterOperations.length&&n._renderFilterOperationChooser(s,o,a)}_renderCellContent(e,t){let n=this,{column:o}=t;if(t.rowType==="filter"){if(o.command)e.html("&nbsp;");else if(o.allowFiltering){n.renderTemplate(e,n._renderFilterCell.bind(n),t).done(()=>{n._updateCell(e,t)});return}}super._renderCellContent.apply(this,arguments)}_getEditorOptions(e,t){let n=this,o={editorOptions:{inputAttr:n._getFilterInputAccessibilityAttributes(t)}},r=q(o,t,{value:XN(n,t.index,e),parentType:"filterRow",showAllText:n.option("filterRow.showAllText"),updateValueTimeout:n.option("filterRow.applyFilter")==="onClick"?0:700,width:null,setValue(s,a){VDe(n,{column:t,value:s,container:e,notFireEvent:a})}});return Pd(n,t)==="between"&&(e.hasClass(n.addWidgetPrefix("filter-range-start"))?r.placeholder=n.option("filterRow.betweenStartText"):r.placeholder=n.option("filterRow.betweenEndText")),r}_getFilterInputAccessibilityAttributes(e){let t=de.format("dxDataGrid-ariaFilterCell");return this.component.option("showColumnHeaders")?{"aria-label":t,"aria-describedby":e.headerId}:{"aria-label":t}}_renderEditor(e,t){e.empty();let n=I("<div>").appendTo(e),o=this._dataController.dataSource();if(t.lookup&&this.option("syncLookupFilterValues")){this._applyFilterViewController.setCurrentColumnForFiltering(t);let r=this._dataController.getCombinedFilter();this._applyFilterViewController.setCurrentColumnForFiltering(null);let s=De.getWrappedLookupDataSource(t,o,r),a=ye({},t,{lookup:ye({},t.lookup,{dataSource:s})});return this._editorFactoryController.createEditor(n,a)}return this._editorFactoryController.createEditor(n,t)}_renderFilterRangeContent(e,t){let n=this,o=e.find(".dx-editor-container").first();o.empty();let r=I("<div>").addClass("dx-filter-range-content").attr("tabindex",this.option("tabIndex"));X.on(r,"focusin",()=>{n._showFilterRange(e,t)}),r.appendTo(o),n._updateFilterRangeContent(e,YN(n,t))}_updateFilterRangeContent(e,t){let n=e.find(".dx-filter-range-content");n.length&&(t===""?n.html("&nbsp;"):n.text(t))}_updateFilterOperationChooser(e,t,n){let o=this,r,s=function(){let l=GN.getInstance(e);l&&l.option("focusedElement",null),r&&o._focusEditor(n)},a=this._editorFactoryController;o._createComponent(e,GN,{integrationOptions:{},activeStateEnabled:!1,selectionMode:"single",cssClass:`${o.getWidgetContainerClass()} dx-cell-focus-disabled ${FDe}`,showFirstSubmenuMode:"onHover",hideSubmenuOnMouseLeave:!0,items:[{disabled:!(t.filterOperations&&t.filterOperations.length),icon:KN[Pd(o,t)||"default"],selectable:!1,items:o._getFilterOperationMenuItems(t)}],onItemRendered:l=>{let{itemElement:d}=l;this.setAria("label",LDe,I(d))},onItemClick(l){let d=l.itemData.name,c=Pd(o,t),u=!1,h=s_(o),f={};if(!(l.itemData.items||d&&d===c)){if(d?(f[h?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=d,(d==="between"||c==="between")&&(u=d==="between",f[h?"bufferedFilterValue":"filterValue"]=null)):(f[h?"bufferedFilterValue":"filterValue"]=null,f[h?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=t.defaultSelectedFilterOperation||null),o._columnsController.columnOption(t.index,f),o._applyFilterViewController.setHighLight(n,!0),!d){let p=qN(n);p&&p.NAME==="dxDateBox"&&!p.option("isValid")&&(p.clear(),p.option("isValid",!0))}u?o._showFilterRange(n.closest(".dx-editor-cell"),t):o._focusEditor(n)}},onSubmenuShowing(){r=o._isEditorFocused(n),a.loseFocus()},onSubmenuHiding(){X.trigger(e,"blur"),s()},onContentReady(l){X.on(e,"blur",()=>{l.component._hideSubmenuAfterTimeout(),s()})},rtlEnabled:o.option("rtlEnabled")})}_isEditorFocused(e){return e.hasClass("dx-focused")||e.parents(".dx-focused").length}_focusEditor(e){this._editorFactoryController.focus(e),X.trigger(e.find(uy),"focus")}_renderFilterOperationChooser(e,t,n){let o=this,r;o.option("filterRow.showOperationChooser")&&(e.addClass("dx-editor-with-menu"),r=I("<div>").prependTo(e),o._updateFilterOperationChooser(r,t,n))}_getFilterOperationMenuItems(e){let t=this,n=[{}],o=t.option("filterRow"),r=o&&o.operationDescriptions||{};if(e.filterOperations&&e.filterOperations.length){let s=e.filterOperations.filter(a=>U(jQ[a]));n=tn(s,a=>{let l=jQ[a];return{name:a,selected:(Pd(t,e)||e.defaultFilterOperation)===a,text:r[l],icon:KN[a]}}),n.push({name:null,text:o&&o.resetOperationText,icon:KN.default})}return n}_handleDataChanged(e){var t,n,o,r,s;let a=(t=this._dataController)===null||t===void 0||(n=t.dataSource)===null||n===void 0?void 0:n.call(t),l=a==null||(o=a.lastLoadOptions)===null||o===void 0?void 0:o.call(a);if(super._handleDataChanged.apply(this,arguments),(r=e.operationTypes)!==null&&r!==void 0&&r.filtering||(s=e.operationTypes)!==null&&s!==void 0&&s.fullReload){var d;this.updateLookupDataSource(((d=e.operationTypes)===null||d===void 0?void 0:d.filtering)||l?.filter)}}updateLookupDataSource(e){if(!this.option("syncLookupFilterValues")||!this.element())return;let t=this._columnsController.getVisibleColumns(),n=this._dataController.dataSource(),o=this._applyFilterViewController,r=this.element().find(`.${this.addWidgetPrefix("filter-row")}`).index();r!==-1&&t.forEach((s,a)=>{if(!s.lookup||s.calculateCellValue!==s.defaultCalculateCellValue)return;let l=this._getCellElement(r,a),d=qN(l?.find(".dx-editor-container"));if(d){o.setCurrentColumnForFiltering(s);let c=this._dataController.getCombinedFilter()||null;o.setCurrentColumnForFiltering(null);let u=d.option("dataSource");if(!e||!hi(u.__dataGridSourceFilter||null,c)){let f=De.getWrappedLookupDataSource(s,n,c);d.option("dataSource",f)}}})}},zDe=i=>class extends i{skipCalculateColumnFilters(){return!1}_calculateAdditionalFilter(){if(this.skipCalculateColumnFilters())return super._calculateAdditionalFilter();let e=[super._calculateAdditionalFilter()],t=this._columnsController.getVisibleColumns(null,!0),n=this._applyFilterController;return ee(t,function(){var o;let r=((o=n.getCurrentColumnForFiltering())===null||o===void 0?void 0:o.index)===this.index;if(this.allowFiltering&&this.calculateFilterExpression&&U(this.filterValue)&&!r){let s=this.createFilterExpression(this.filterValue,this.selectedFilterOperation||this.defaultFilterOperation,"filterRow");e.push(s)}}),De.combineFilters(e)}},ZN=class extends li.ViewController{init(){this._columnsController=this.getController("columns")}_getHeaderPanel(){return this._headerPanel||(this._headerPanel=this.getView("headerPanel")),this._headerPanel}setHighLight(e,t){s_(this)&&(e&&e.toggleClass("dx-highlight-outline",t)&&e.closest(".dx-editor-cell").toggleClass("dx-filter-modified",t),this._getHeaderPanel().enableApplyButton(t))}applyFilter(){let e=this._columnsController.getColumns();this._columnsController.beginUpdate();for(let t=0;t<e.length;t++){let n=e[t];n.bufferedFilterValue!==void 0&&(this._columnsController.columnOption(t,"filterValue",n.bufferedFilterValue),n.bufferedFilterValue=void 0),n.bufferedSelectedFilterOperation!==void 0&&(this._columnsController.columnOption(t,"selectedFilterOperation",n.bufferedSelectedFilterOperation),n.bufferedSelectedFilterOperation=void 0)}this._columnsController.endUpdate(),this.removeHighLights()}removeHighLights(){if(s_(this)){let e=this.getView("columnHeadersView").element();e.find(`.${this.addWidgetPrefix("filter-row")} .dx-highlight-outline`).removeClass("dx-highlight-outline"),e.find(`.${this.addWidgetPrefix("filter-row")} .dx-filter-modified`).removeClass("dx-filter-modified"),this._getHeaderPanel().enableApplyButton(!1)}}setCurrentColumnForFiltering(e){this._currentColumn=e}getCurrentColumnForFiltering(){return this._currentColumn}},jDe=i=>class extends i{_startResizing(){let e=this;if(super._startResizing.apply(e,arguments),e.isResizing()){let t=e._columnHeadersView.getFilterRangeOverlayInstance();if(t){let n=t.$element().closest("td").index();(n===e._targetPoint.columnIndex||n===e._targetPoint.columnIndex+1)&&t.$content().hide()}}}_endResizing(){let e=this,t;if(e.isResizing()){let n=e._columnHeadersView.getFilterRangeOverlayInstance();n&&(t=n.$element().closest("td"),e._columnHeadersView._updateFilterRangeOverlay({width:Ft(t,!0)+1}),n.$content().show())}super._endResizing.apply(e,arguments)}},$De=i=>class extends i{updateFieldValue(e){return e.column.lookup&&(this._needUpdateLookupDataSource=!0),super.updateFieldValue.apply(this,arguments)}_afterSaveEditData(e){if(this._needUpdateLookupDataSource&&!e){var t;(t=this.getView("columnHeadersView"))===null||t===void 0||t.updateLookupDataSource()}return this._needUpdateLookupDataSource=!1,super._afterSaveEditData.apply(this,arguments)}_afterCancelEditData(){return this._needUpdateLookupDataSource=!1,super._afterCancelEditData.apply(this,arguments)}},WDe=i=>class extends i{init(){super.init(),this._dataController=this.getController("data"),this._applyFilterViewController=this.getController("applyFilter")}optionChanged(e){e.name==="filterRow"?(this._invalidate(),e.handled=!0):super.optionChanged(e)}_getToolbarItems(){let e=super._getToolbarItems();return this._prepareFilterItem().concat(e)}_prepareFilterItem(){let e=this,t=[];if(e._isShowApplyFilterButton()){let n=e.option("filterRow.applyFilterText"),l={widget:"dxButton",options:{icon:"apply-filter",disabled:!e._columnsController.getColumns().filter(d=>d.bufferedFilterValue!==void 0).length,onClick:function(){e._applyFilterViewController.applyFilter()},hint:n,text:n,onInitialized:function(d){I(d.element).addClass(e._getToolbarButtonClass("dx-apply-button"))}},showText:"inMenu",name:"applyFilterButton",location:"after",locateInMenu:"auto",sortIndex:10};t.push(l)}return t}_isShowApplyFilterButton(){let e=this.option("filterRow");return!!(e!=null&&e.visible)&&e.applyFilter==="onClick"}enableApplyButton(e){this.setToolbarItemDisabled("applyFilterButton",!e)}isVisible(){return super.isVisible()||this._isShowApplyFilterButton()}},$Q={defaultOptions:()=>({syncLookupFilterValues:!0,filterRow:{visible:!1,showOperationChooser:!0,showAllText:de.format("dxDataGrid-filterRowShowAllText"),resetOperationText:de.format("dxDataGrid-filterRowResetOperationText"),applyFilter:"auto",applyFilterText:de.format("dxDataGrid-applyFilterText"),operationDescriptions:{equal:de.format("dxDataGrid-filterRowOperationEquals"),notEqual:de.format("dxDataGrid-filterRowOperationNotEquals"),lessThan:de.format("dxDataGrid-filterRowOperationLess"),lessThanOrEqual:de.format("dxDataGrid-filterRowOperationLessOrEquals"),greaterThan:de.format("dxDataGrid-filterRowOperationGreater"),greaterThanOrEqual:de.format("dxDataGrid-filterRowOperationGreaterOrEquals"),startsWith:de.format("dxDataGrid-filterRowOperationStartsWith"),contains:de.format("dxDataGrid-filterRowOperationContains"),notContains:de.format("dxDataGrid-filterRowOperationNotContains"),endsWith:de.format("dxDataGrid-filterRowOperationEndsWith"),between:de.format("dxDataGrid-filterRowOperationBetween"),isBlank:de.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:de.format("dxFilterBuilder-filterOperationIsNotBlank")},betweenStartText:de.format("dxDataGrid-filterRowOperationBetweenStartText"),betweenEndText:de.format("dxDataGrid-filterRowOperationBetweenEndText")}}),controllers:{applyFilter:ZN},extenders:{controllers:{data:zDe,columnsResizer:jDe,editing:$De},views:{columnHeadersView:HDe,headerPanel:WDe}}};qe.registerModule("filterRow",$Q);El.setEditorClass(Rh);function UQ(i){i=i||[];for(let e=0;e<i.length;e++)i[e].selected=!1,UQ(i[e].items)}function GQ(i){let e=i.NAME==="dxTreeView"?".dx-treeview-select-all-item":".dx-list-select-all-checkbox";return i.$element().find(e).dxCheckBox("instance")}function WQ(i,e){if(i.component.option("searchValue"))return;let t=GQ(i.component);t&&e&&e.length&&t.option("value",void 0)}function KQ(i,e,t){if(e^t){if(i.selected=!0,t&&i.items){for(let n=0;n<i.items.length;n++)if(!i.items[n].selected){i.selected=void 0;break}}}else(t||i.selected)&&(i.selected=!1,UQ(i.items))}var s1=class extends li.View{getPopupContainer(){return this._popupContainer}getListComponent(){return this._listComponent}applyHeaderFilter(e){let t=this.getListComponent(),n=t.option("searchValue"),o=GQ(t),r=!n&&!e.isFilterBuilder&&o?.option("value"),s=[],a=function(l,d,c){ee(d,(u,h)=>{if(h.selected!==void 0&&!!h.selected^c){let f=t._getNode(h),m=t._hasChildren(f)&&h.items&&h.items.some(g=>g.selected);if(!n||!m){l.push(h.value);return}}h.items&&h.items.length&&a(l,h.items,c)})};r?(e.type==="tree"&&(e.filterType="exclude"),Array.isArray(e.filterValues)&&(e.filterValues=[])):e.type==="tree"&&(e.filterType&&(e.filterType="include"),a(s,t.option("items"),!1),e.filterValues=s),e.filterValues&&!e.filterValues.length&&(e.filterValues=null),e.apply(),this.hideHeaderFilterMenu()}showHeaderFilterMenu(e,t){let n=this;if(t){n._initializePopupContainer(t);let o=n.getPopupContainer();n.hideHeaderFilterMenu(),n.updatePopup(e,t),o.show()}}hideHeaderFilterMenu(){let e=this.getPopupContainer();e&&e.hide()}updatePopup(e,t){let n=this,o=this.option("showColumnLines"),r=t.alignment==="right"^!o?"left":"right";n._popupContainer.setAria({role:"dialog",label:de.format("dxDataGrid-headerFilterLabel")}),n._popupContainer&&(n._cleanPopupContent(),n._popupContainer.option("position",{my:`${r} top`,at:`${r} bottom`,of:e,collision:"fit fit"}))}_getSearchExpr(e,t){let{lookup:n}=e,{useDefaultSearchExpr:o}=e,r=t.dataSource,s=t.search.searchExpr;if(s)return s;if(o||U(r)&&!Ie(r))return"text";if(n)return n.displayExpr||"this";if(e.dataSource){let{group:a}=e.dataSource;if(Array.isArray(a)&&a.length>0)return a[0].selector;if(Ie(a)&&!e.remoteFiltering)return a}return e.dataField||e.selector}_cleanPopupContent(){this._popupContainer&&this._popupContainer.$content().empty()}_initializePopupContainer(e){let t=this,n=t.element(),o=this._normalizeHeaderFilterOptions(e),{height:r,width:s}=o,a={width:s,height:r,visible:!1,shading:!1,showTitle:!1,showCloseButton:!1,hideOnParentScroll:!1,dragEnabled:!1,hideOnOutsideClick:!0,wrapperAttr:{class:"dx-header-filter-menu"},focusStateEnabled:!1,toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:o.texts.ok,onClick(){t.applyHeaderFilter(e)}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:o.texts.cancel,onClick(){t.hideHeaderFilterMenu()}}}],resizeEnabled:!0,onShowing(l){l.component.$content().parent().addClass("dx-dropdowneditor-overlay"),t._initializeListContainer(e,o),e.onShowing&&e.onShowing(l)},onShown(){t.getListComponent().focus()},onHidden:e.onHidden,onInitialized(l){let{component:d}=l;d.option("animation",d._getDefaultOptions().animation)}};U(t._popupContainer)?t._popupContainer.option(a):t._popupContainer=t._createComponent(n,Qr,a)}_initializeListContainer(e,t){let n=this,o=n._popupContainer.$content(),r=!e.isFilterBuilder&&t.allowSelectAll,s={searchEnabled:t.search.enabled,searchTimeout:t.search.timeout,searchEditorOptions:t.search.editorOptions,searchMode:t.search.mode||"",dataSource:e.dataSource,onContentReady(){n.renderCompleted.fire()},itemTemplate(l,d,c){let u=I(c);return e.encodeHtml?u.text(l.text):u.html(l.text)}};function a(l){l.fullName==="searchValue"&&r&&n.option("headerFilter.hideSelectAllOnSearch")!==!1&&(e.type==="tree"?l.component.option("showCheckBoxesMode",l.value?"normal":"selectAll"):l.component.option("selectionMode",l.value?"multiple":"all"))}e.type==="tree"?n._listComponent=n._createComponent(I("<div>").appendTo(o),Gh,q(s,{showCheckBoxesMode:r?"selectAll":"normal",onOptionChanged:a,keyExpr:"id"})):n._listComponent=n._createComponent(I("<div>").appendTo(o),wd,q(s,{searchExpr:n._getSearchExpr(e,t),pageLoadMode:"scrollBottom",showSelectionControls:!0,selectionMode:r?"all":"multiple",onOptionChanged:a,onSelectionChanged(l){let d=l.component.option("items"),c=l.component.option("selectedItems");if(!l.component._selectedItemsUpdating&&!l.component.option("searchValue")&&!e.isFilterBuilder){let u=e.filterValues||[],h=e.filterType==="exclude";c.length===0&&d.length&&(u.length<=1||h&&u.length===d.length-1)?(e.filterType="include",e.filterValues=[]):c.length===d.length&&(e.filterType="exclude",e.filterValues=[])}ee(d,(u,h)=>{let f=De.getIndexByKey(h,c,null)>=0;if(!!h.selected!==f){h.selected=f,e.filterValues=e.filterValues||[];let m=De.getIndexByKey(h.value,e.filterValues,null);m>=0&&e.filterValues.splice(m,1);let g=e.filterType==="exclude";f^g&&e.filterValues.push(h.value)}}),WQ(l,e.filterValues)},onContentReady(l){let{component:d}=l,c=d.option("items"),u=[];ee(c,function(){this.selected&&u.push(this)}),d._selectedItemsUpdating=!0,d.option("selectedItems",u),d._selectedItemsUpdating=!1,WQ(l,e.filterValues)}}))}_normalizeHeaderFilterOptions(e){let t=this.option("headerFilter")||{},n=e.headerFilter||{},o={search:{enabled:t.allowSearch,timeout:t.searchTimeout}},r={search:{enabled:n.allowSearch,mode:n.searchMode,timeout:n.searchTimeout}};return q(!0,{},t,o,n,r)}_renderCore(){this.element().addClass("dx-header-filter-menu")}},hy=function(i){return U(i.allowHeaderFiltering)?i.allowHeaderFiltering:i.allowFiltering},JN=i=>class extends i{optionChanged(e){if(e.name==="headerFilter"){let t=this.name==="columnHeadersView";this._invalidate(t,t),e.handled=!0}else super.optionChanged(e)}_applyColumnState(e){let t,{rootElement:n}=e,{column:o}=e;if(e.name==="headerFilter"){if(n.find(".dx-header-filter").remove(),hy(o)){t=super._applyColumnState(e).toggleClass("dx-header-filter-empty",this._isHeaderFilterEmpty(o)),this.option("useLegacyKeyboardNavigation")||t.attr("tabindex",this.option("tabindex")||0);let r=de.format("dxDataGrid-headerFilterIndicatorLabel",o.caption);t.attr("aria-label",r),t.attr("aria-haspopup","dialog"),t.attr("role","button")}return t}return super._applyColumnState(e)}_isHeaderFilterEmpty(e){return!e.filterValues||!e.filterValues.length}_getIndicatorClassName(e){return e==="headerFilter"?"dx-header-filter":super._getIndicatorClassName(e)}_renderIndicator(e){let t=e.container,n=e.indicator;if(e.name==="headerFilter"){let o=this.option("rtlEnabled");if(t.children().length&&(!o&&e.columnAlignment==="right"||o&&e.columnAlignment==="left")){t.prepend(n);return}}super._renderIndicator(e)}};var UDe={month:i=>It.getMonthNames()[i-1],quarter:i=>It.format(new Date(2e3,3*i-1),"quarter")};function qQ(i,e,t){return e=e||[],t=t||[],i.forEach(n=>{if(U(n.key)){let o=e.length===1;if(e.push(o?n.key-1:n.key),n.items)qQ(n.items,e,t);else{let r=new Date(Date.UTC.apply(Date,e));t.push(r)}e.pop()}else t.push(null)}),t}function GDe(i,e){let t=qQ(i),n=ro(t),o=De.getHeaderFilterGroupParameters(ye({},e,{calculateCellValue:r=>r}));return Kr.queryByOptions(n,{group:o}).toArray()}function KDe(i){return i?.slice(-1)==="Z"||i?.slice(-3)==="'Z'"}var qDe=function(i,e,t){let n=Ba.getGroupInterval(e),o=De.getFormatOptionsByColumn(e,"headerFilter");return n&&(o.groupInterval=n[t],De.isDateType(e.dataType)?o.format=UDe[n[t]]:e.dataType==="number"&&(o.getDisplayFormat=function(){let r={format:e.format,target:"headerFilter"},s=De.formatValue(i,r),a=i+n[t],l=De.formatValue(a,r);return s&&l?`${s} - ${l}`:""})),o},eB=class extends li.ViewController{init(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._headerFilterView=this.getView("headerFilterView")}_updateSelectedState(e,t){let n=e.length,o=t.filterType==="exclude";for(;n--;){let r=e[n];"items"in e[n]&&this._updateSelectedState(e[n].items,t),KQ(r,De.getIndexByKey(e[n].value,t.filterValues,null)>-1,o)}}_normalizeGroupItem(e,t,n){let o,r,{path:s}=n,{valueSelector:a}=n,{displaySelector:l}=n,{column:d}=n;return a&&l?(o=a(e),r=l(e)):(o=e.key,r=o),Ke(e)?e=q({},e):e={},s.push(o),s.length===1?e.value=s[0]:e.value=s.join("/"),e.text=this.getHeaderItemText(r,d,t,n.headerFilterOptions),e}getHeaderItemText(e,t,n,o){let r=De.formatValue(e,qDe(e,t,n));return r||(r=o.texts.emptyValue),r}_processGroupItems(e,t,n,o){let r=this,s,a,{column:l}=o,{lookup:d}=l,{level:c}=o;n=n||[],t=t||0,d&&(s=Qt(d.displayExpr),a=Qt(d.valueExpr));for(let u=0;u<e.length;u++)e[u]=r._normalizeGroupItem(e[u],t,{column:o.column,headerFilterOptions:o.headerFilterOptions,displaySelector:s,valueSelector:a,path:n}),"items"in e[u]&&(t===c||!U(e[u].value)?delete e[u].items:r._processGroupItems(e[u].items,t+1,n,o)),n.pop()}getDataSource(e){var t;let n=this._dataController.dataSource(),o=n?.remoteOperations().grouping,r=De.getHeaderFilterGroupParameters(e,o),s=(t=e.headerFilter)===null||t===void 0?void 0:t.dataSource,a=this.option("headerFilter"),l=!1,d={component:this.component};if(!n)return;if(U(s)&&!Ie(s))d.dataSource=qr(s);else if(e.lookup)if(l=!0,this.option("syncLookupFilterValues")){this._currentColumn=e;let h=this._dataController.getCombinedFilter();this._currentColumn=null,d.dataSource=De.getWrappedLookupDataSource(e,n,h)}else d.dataSource=De.normalizeLookupDataSource(e.lookup);else{let h=Array.isArray(r)?r.length-1:0;this._currentColumn=e;let f=this._dataController.getCombinedFilter();this._currentColumn=null,d.dataSource={filter:f,group:r,useDefaultSearch:!0,load:p=>{let m=new le;return p.dataField=e.dataField||e.name,n.load(p).done(g=>{o&&KDe(e.serializationFormat)&&h>3&&(g=GDe(g,e)),u._processGroupItems(g,null,null,{level:h,column:e,headerFilterOptions:a}),m.resolve(g)}).fail(m.reject),m}}}Ie(s)&&s.call(e,d);let c=d.dataSource.postProcess,u=this;return d.dataSource.postProcess=function(h){let f=h;return l&&(f=f.filter(p=>p[e.lookup.valueExpr]!==null),this.pageIndex()===0&&!this.searchValue()&&(f=f.slice(0),f.unshift(null)),u._processGroupItems(f,null,null,{level:0,column:e,headerFilterOptions:a})),f=c&&c.call(this,f)||f,u._updateSelectedState(f,e),f},d.dataSource}getCurrentColumn(){return this._currentColumn}showHeaderFilterMenu(e,t){let n=this._columnsController,o=q(!0,{},this._columnsController.getColumns()[e]);if(o){let r=n.getVisibleIndex(e),a=(t?this.getView("headerPanel"):this.getView("columnHeadersView")).getColumnElements().eq(t?o.groupIndex:r);this.showHeaderFilterMenuBase({columnElement:a,column:o,applyFilter:!0,apply(){n.columnOption(e,{filterValues:this.filterValues,filterType:this.filterType})}})}}showHeaderFilterMenuBase(e){let t=this,{column:n}=e;if(n){let o=Ba.getGroupInterval(n),r=t._dataController.dataSource(),s=r&&r.remoteOperations().filtering,a=e.onHidden;q(e,n,{type:o&&o.length>1?"tree":"list",remoteFiltering:s,onShowing:l=>{let d=l.component.$overlayContent().dxResizable("instance");d&&d.option("onResizeEnd",c=>{let u=this._columnsController.columnOption(e.dataField,"headerFilter");u=u||{},u.width=c.width,u.height=c.height,this._columnsController.columnOption(e.dataField,"headerFilter",u,!0)})},onHidden:()=>{a?.(),$g(this)}}),e.dataSource=t.getDataSource(e),e.isFilterBuilder&&(e.dataSource.filter=null,e.alignment="right"),t._headerFilterView.showHeaderFilterMenu(e.columnElement,e)}}hideHeaderFilterMenu(){this._headerFilterView.hideHeaderFilterMenu()}},YDe=i=>class extends JN(i){_renderCellContent(e,t){let n=this,o,{column:r}=t;!r.command&&hy(r)&&n.option("headerFilter.visible")&&t.rowType==="header"&&(o=n._applyColumnState({name:"headerFilter",rootElement:e,column:r,showColumnLines:n.option("showColumnLines")}),o&&n._subscribeToIndicatorEvent(o,r,"headerFilter")),super._renderCellContent.apply(this,arguments)}_subscribeToIndicatorEvent(e,t,n){n==="headerFilter"&&X.on(e,Kt,this.createAction(o=>{o.event.stopPropagation(),B2(e,this),this._headerFilterController.showHeaderFilterMenu(t.index,!1)}))}_updateIndicator(e,t,n){let o=super._updateIndicator(e,t,n);o&&this._subscribeToIndicatorEvent(o,t,n)}_updateHeaderFilterIndicators(){this.option("headerFilter.visible")&&this._updateIndicators("headerFilter")}_needUpdateFilterIndicators(){return!0}_columnOptionChanged(e){let{optionNames:t}=e,n=De.checkChanges(t,["filterValues","filterValue"]),o=De.checkChanges(t,["filterValues","filterType"]);(n||o)&&this._needUpdateFilterIndicators()&&this._updateHeaderFilterIndicators(),o||super._columnOptionChanged(e)}},XDe=i=>class extends JN(i){_createGroupPanelItem(e,t){let n=this,o=super._createGroupPanelItem.apply(n,arguments),r;return!t.command&&hy(t)&&n.option("headerFilter.visible")&&(r=n._applyColumnState({name:"headerFilter",rootElement:o,column:{alignment:Ar(n.option("rtlEnabled")),filterValues:t.filterValues,allowHeaderFiltering:!0,caption:t.caption},showColumnLines:!0}),r&&X.on(r,Kt,n.createAction(s=>{let{event:a}=s;a.stopPropagation(),this._headerFilterController.showHeaderFilterMenu(t.index,!0)}))),o}};var ZDe=i=>class extends i{skipCalculateColumnFilters(){return!1}_calculateAdditionalFilter(){if(this.skipCalculateColumnFilters())return super._calculateAdditionalFilter();let e=[super._calculateAdditionalFilter()],t=this._columnsController.getVisibleColumns(null,!0),o=this._headerFilterController.getCurrentColumn();return ee(t,(r,s)=>{let a;if(!(o&&o.index===s.index)&&hy(s)&&s.calculateFilterExpression&&Array.isArray(s.filterValues)&&s.filterValues.length){let l=[];ee(s.filterValues,(d,c)=>{Array.isArray(c)?a=c:(s.deserializeValue&&!De.isDateType(s.dataType)&&s.dataType!=="number"&&(c=s.deserializeValue(c)),a=s.createFilterExpression(c,"=","headerFilter")),a&&(a.columnIndex=s.index),l.push(a)}),l=De.combineFilters(l,"or"),e.push(s.filterType==="exclude"?["!",l]:l)}}),De.combineFilters(e)}},YQ={defaultOptions:()=>({syncLookupFilterValues:!0,headerFilter:{visible:!1,width:252,height:325,allowSelectAll:!0,search:{enabled:!1,timeout:500,mode:"contains",editorOptions:{}},texts:{emptyValue:de.format("dxDataGrid-headerFilterEmptyValue"),ok:de.format("dxDataGrid-headerFilterOK"),cancel:de.format("dxDataGrid-headerFilterCancel")}}}),controllers:{headerFilter:eB},views:{headerFilterView:s1},extenders:{controllers:{data:ZDe},views:{columnHeadersView:YDe,headerPanel:XDe}}};qe.registerModule("headerFilter",YQ);var a1="dx-filterbuilder-range",QDe=`${a1}-start`,JDe=`${a1}-end`,eTe=`${a1}-separator`,XQ="\u2013";function tTe(i,e){let t=I("<div>").addClass(QDe),n=I("<div>").addClass(JDe),o=i.value||[],r=function(a){return a&&a.length>0?a[0]:null},s=function(a){return a&&a.length===2?a[1]:null};e.append(t),e.append(I("<span>").addClass(eTe).text(XQ)),e.append(n),e.addClass(a1),this._editorFactory.createEditor.call(this,t,q({},i.field,i,{value:r(o),parentType:"filterBuilder",setValue(a){o=[a,s(o)],i.setValue(o)}})),this._editorFactory.createEditor.call(this,n,q({},i.field,i,{value:s(o),parentType:"filterBuilder",setValue(a){o=[r(o),a],i.setValue(o)}}))}function tB(i,e){return{name:"between",caption:i,icon:"range",valueSeparator:XQ,dataTypes:["number","date","datetime"],editorTemplate:tTe.bind(e),notForLookup:!0}}var iTe={"=":"equal","<>":"notequal","<":"less","<=":"lessorequal",">":"greater",">=":"greaterorequal",notcontains:"doesnotcontain",contains:"contains",startswith:"startswith",endswith:"endswith",isblank:"isblank",isnotblank:"isnotblank"},nTe={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",isblank:"isBlank",isnotblank:"isNotBlank",between:"between"},iB={getIconByFilterOperation:i=>iTe[i],getNameByFilterOperation:i=>nTe[i]};var sB="string";var Xh="and",aB="=",oTe="<>",rTe={number:["=","<>","<",">","<=",">=","isblank","isnotblank"],string:["contains","notcontains","startswith","endswith","=","<>","isblank","isnotblank"],date:["=","<>","<",">","<=",">=","isblank","isnotblank"],datetime:["=","<>","<",">","<=",">=","isblank","isnotblank"],boolean:["=","<>","isblank","isnotblank"],object:["isblank","isnotblank"]},sTe={date:"shortDate",datetime:"shortDateShortTime"},aTe=["=","<>","isblank","isnotblank"],lTe=["caption","customizeText","dataField","dataType","editorTemplate","falseText","editorOptions","filterOperations","format","lookup","trueText","calculateFilterExpression","name"];function dTe(i,e){let t=i.format||sTe[i.dataType];return LS.format(e,t)}function gf(i){return i&&i.length>1&&i[0]==="!"&&!Vo(i)}function au(i){return gf(i)?i[1]:i}function cTe(i,e){return gf(i)?i[1]=e:i=e,i}function uTe(i,e){(function(t){return t.indexOf("!")!==-1})(e)?gf(i)||function(t){let n=t.slice(0);t.length=0,t.push("!",n)}(i):gf(i)&&function(t){let n=au(t);t.length=0,[].push.apply(t,n)}(i)}function eJ(i,e){uTe(i,e);let t=au(i),n;return e=function(o){return o.indexOf("!")===-1?o:o.substring(1)}(e),function(o,r){for(n=0;n<o.length;n++)Array.isArray(o[n])||(o[n]=r)}(t,e),i}function tJ(i,e){let t=lu(i);return e.filter(n=>n.value===t)[0]}function iJ(i){if(Vo(i))return Xh;let e="";for(let t=0;t<i.length;t++){let n=i[t];if(!Array.isArray(n)){if(e&&e!==n)throw new An.Error("E4019");n!=="!"&&(e=n)}}return e}function lu(i){let e=au(i),t=iJ(e);return t||(t=Xh),e!==i&&(t=`!${t}`),t}function hTe(i){return i.lookup&&aTe||rTe[i.dataType||sB]}function pTe(i){return Array.isArray(i)&&i.length}function nJ(i){let e=pTe(i.filterOperations)?i.filterOperations:hTe(i);return q([],e)}function d1(i,e){let t=iB.getNameByFilterOperation(i);return e&&e[t]?e[t]:t}function oJ(i,e){for(let t=0;t<e.length;t++)if(e[t].value===i)return e[t];throw new bt.Error("E1048",i)}function kl(i,e){let t=i.filter(n=>n.name===e);return t.length?t[0]:null}function rJ(i,e,t){let n=nJ(i),o=!!i.lookup;return t.forEach(r=>{if(!i.filterOperations&&n.indexOf(r.name)===-1){let s=r&&r.dataTypes;!(o?!!r.notForLookup:!1)&&s&&s.indexOf(i.dataType||sB)>=0&&n.push(r.name)}}),n.map(r=>{let s=kl(t,r);return s?{icon:s.icon||"icon-none",text:s.caption||Ea(s.name),value:s.name,isCustom:!0}:{icon:iB.getIconByFilterOperation(r)||"icon-none",text:d1(r,e),value:r}})}function fy(i){return i.defaultFilterOperation||nJ(i)[0]}function sJ(i,e){let t=[i.dataField,"",""],n=fy(i);return f1(t,n,e),t}function c1(i,e){let t=au(i),n=t.indexOf(e);return t.splice(n,1),t.length!==1&&t.splice(n,1),i}function lB(i){let e=dB(i),t=e?cB(i):i;return e?["!",[t]]:[t]}function a_(i,e){let t=au(e),n=lu(t);return t.length===1?t.unshift(i):t.push(i,n),e}function l_(i,e){for(let n=0;n<e.length;n++)if(e[n].name===i||e[n].dataField.toLowerCase()===i.toLowerCase())return e[n];let t=uB(e,!0).filter(n=>n.dataField.toLowerCase()===i.toLowerCase());if(t.length>0)return t[0];throw new bt.Error("E1047",i)}function Ml(i){return Array.isArray(i)?i.length<2||Array.isArray(i[0])||Array.isArray(i[1]):!1}function Vo(i){return Array.isArray(i)?i.length>1&&!Array.isArray(i[0])&&!Array.isArray(i[1]):!1}function ZQ(i,e,t){t=t||Xh;let n=iJ(i).toLowerCase()||t,o=[];for(let r=0;r<i.length;r++)Ml(i[r])?(o.push(u1(i[r],e,t)),o=oB(o,n)):Vo(i[r])&&(o.push(l1(i[r],e)),o=oB(o,n));return o.length===0&&(o=oB(o,n)),o}function fTe(i,e){let t=kl(e,i[1]);return t&&t.name===i[1]}function l1(i,e){return fTe(i,e)||i.length<3&&(i[2]=i[1],i[1]=aB),i}function dB(i){return i.indexOf("not")!==-1}function cB(i){return i.substring(3).toLowerCase()}function nB(i,e){let t=dB(e);return e=t?cB(e):e,t?["!",i,e]:[i,e]}function oB(i,e){let t=dB(e);e=t?cB(e):e,i.push(e);let n=i;return t&&(n=["!",n]),n}function u1(i,e,t){return t=t||Xh,i?(i=q(!0,[],i),Vo(i)?nB(l1(i,e),t):gf(i)?["!",Vo(i[1])?nB(l1(i[1],e),t):gf(i[1])?nB(u1(i[1],e),t):ZQ(i[1],e,t)]:ZQ(i,e,t)):lB(t)}function aJ(i){return i.reduce((e,t)=>{if(U(t.dataField)){let n={};for(let o in t)t[o]&&lTe.includes(o)&&(n[o]=t[o]);n.defaultCalculateFilterExpression=Ba.defaultCalculateFilterExpression,U(n.dataType)||(n.dataType=sB),U(n.trueText)||(n.trueText=de.format("dxDataGrid-trueText")),U(n.falseText)||(n.falseText=de.format("dxDataGrid-falseText")),e.push(n)}return e},[])}function QQ(i,e,t,n){let o=l_(i[0],e),r=l1(i,t),s=t.length&&kl(t,r[1]);return s&&s.calculateFilterExpression?s.calculateFilterExpression.apply(s,[r[2],o,e]):o.createFilterExpression?o.createFilterExpression.apply(o,[r[2],r[1],n]):o.calculateFilterExpression?o.calculateFilterExpression.apply(o,[r[2],r[1],n]):o.defaultCalculateFilterExpression.apply(o,[r[2],r[1],n])}function su(i,e,t,n){if(!U(i))return null;if(gf(i))return["!",su(i[1],e,t,n)];let o=au(i);if(Vo(o))return QQ(o,e,t,n)||null;let r=[],s,a=lu(o);for(let l=0;l<o.length;l++)Ml(o[l])?(s=su(o[l],e,t,n),s&&(l&&r.push(a),r.push(s))):Vo(o[l])&&(s=QQ(o[l],e,t,n),s&&(r.length&&r.push(a),r.push(s)));return r.length===1&&(r=r[0]),r.length?r:null}function _f(i){let e=au(i),t;if(e.length===0)return null;let n=[];for(t=0;t<e.length;t++)if(Ml(e[t])){let o=_f(e[t]);o?e[t]=o:n.push(e[t])}else Vo(e[t])&&(gTe(e[t])||n.push(e[t]));for(t=0;t<n.length;t++)c1(e,n[t]);return e.length===1||(e.splice(e.length-1,1),e.length===1&&(i=cTe(i,e[0])),i.length===0)?null:i}function h1(i,e,t){if(e===""){t("");return}let{lookup:n}=i;if(n.items)t(n.calculateCellValue(e)||"");else{let o=Ie(n.dataSource)?n.dataSource({}):n.dataSource;new Lo(o).loadSingle(n.valueExpr,e).done(s=>{let a="";s&&(a=n.displayExpr?Qt(n.displayExpr)(s):s),i.customizeText&&(a=i.customizeText({value:e,valueText:a})),t(a)}).fail(()=>{t("")})}}function lJ(i,e,t,n,o){let r;return e===!0?r=i.trueText||de.format("dxDataGrid-trueText"):e===!1?r=i.falseText||de.format("dxDataGrid-falseText"):r=dTe(i,e),i.customizeText&&(r=i.customizeText.call(i,{value:e,valueText:r,target:n})),t&&t.customizeText&&(r=t.customizeText.call(t,{value:e,valueText:r,field:i,target:n},o)),r}function mTe(i,e,t,n){let o={values:e};return e.map(r=>lJ(i,r,t,n,o))}function rB(i){return i===""||i===null}function p1(i,e,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"filterBuilder";if(rB(e))return"";if(Array.isArray(e)){let o=new le;return Be.apply(this,mTe(i,e,t,n)).done(function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];let l=s.some(d=>!rB(d))?s.map(d=>rB(d)?"?":d):"";o.resolve(l)}),o}return lJ(i,e,t,n)}function JQ(i,e){return i.some(t=>t.dataField===e)}function dJ(i,e,t){let{dataField:n}=t;hB(n)&&(t.parentId=uJ(n),!JQ(e,t.parentId)&&!JQ(i,t.parentId)&&dJ(i,e,{id:t.parentId,dataType:"object",dataField:t.parentId,caption:cJ(t.parentId,!0),filterOperations:["isblank","isnotblank"],defaultCalculateFilterExpression:Ba.defaultCalculateFilterExpression})),e.push(t)}function cJ(i,e){let t="";if(e)i=i.substring(i.lastIndexOf(".")+1);else if(hB(i))return i.split(".").forEach((n,o,r)=>{t+=Ea(n),o!==r.length-1&&(t+=".")}),t;return Ea(i)}function uB(i,e){let t=[];for(let n=0;n<i.length;n++){let o=q(!0,{caption:cJ(i[n].dataField,e)},i[n]);o.id=o.name||o.dataField,e?dJ(i,t,o):t.push(o)}return t}function hB(i){return i.lastIndexOf(".")!==-1}function uJ(i){return i.substring(0,i.lastIndexOf("."))}function pB(i,e){if(hB(i.dataField)){let t=uJ(i.dataField);for(let n=0;n<e.length;n++)if(e[n].dataField===t)return`${pB(e[n],e)}.${i.caption}`}return i.caption}function f1(i,e,t){let n=kl(t,e);return n?(n.hasValue===!1?(i[1]=e,i.length=2):(i[1]=e,i[2]=""),i):(e==="isblank"?(i[1]=aB,i[2]=null):e==="isnotblank"?(i[1]=oTe,i[2]=null):(n=kl(t,i[1]),(n||i.length===2||i[2]===null)&&(i[2]=""),i[1]=e),i)}function fB(i){let e;return i[2]===null?i[1]===aB?e="isblank":e="isnotblank":e=i[1],e}function gTe(i){return i[2]!==""}function hJ(i,e,t){let n=q(!0,[],i),o=-1;return n.some((r,s)=>{if(r.name==="between")return o=s,!0}),o!==-1?n[o]=q(tB(e,t),n[o]):n.unshift(tB(e,t)),n}function py(i,e){return i[0]===e}function m1(i,e){return!i||i.length===0?null:Vo(i)?py(i,e)?null:i:pJ(i,[e],!1)}function pJ(i,e,t){let n=[];return i.forEach(o=>{Vo(o)?py(o,e[0])?t?(n.push(e),t=!1):n.splice(n.length-1,1):n.push(o):(n.length||Ml(o))&&n.push(o)}),n.length===0?null:(t&&(n.push(Xh),n.push(e)),n.length===1?n[0]:n)}function mB(i,e){return i===null||i.length===0?e:Vo(i)?py(i,e[0])?e:[i,Xh,e]:lu(i)!==Xh?[e,"and",i]:pJ(i,e,!0)}function fJ(i,e){return i===null||i.length===0?[]:Vo(i)?py(i,e)?[i]:[]:lu(i)!==Xh?[]:i.filter(o=>Vo(o)&&py(o,e))}function gB(i,e){return i===null||i.length===0?!1:Vo(i)?i[0]===e:i.some(t=>(Vo(t)||Ml(t))&&gB(t,e))}var my=function(i,e,t){if(Array.isArray(e)){let n=e.length-1;i.empty(),e.forEach((o,r)=>{I("<span>").addClass("dx-filterbuilder-text-part").text(o).appendTo(i),r!==n&&I("<span>").addClass("dx-filterbuilder-text-separator").text(t&&t.valueSeparator?t.valueSeparator:"|").addClass("dx-filterbuilder-text-separator-empty").appendTo(i)})}else e?i.text(e):i.text(de.format("dxFilterBuilder-enterValueText"))};function mJ(i){let e=function(o,r){return r?`${r}/${o}`:o},t=function(o,r){let s=[];return o.forEach(a=>{if(a.items){let l=t(a.items,e(a.text,r));s=s.concat(l)}a.selected&&s.push(e(a.text,r))}),s},n=i&&i.getController("headerFilter");return{dataTypes:["string","date","datetime","number","boolean","object"],calculateFilterExpression:function(o,r,s){let a=[],l=o.length-1;return o&&o.forEach((d,c)=>{if(Vo(d)||Ml(d)){let u=su(d,s,[],"headerFilter");a.push(u)}else{let u=su([r.dataField,"=",d],s,[],"headerFilter");a.push(u)}c!==l&&a.push("or")}),a.length===1?a[0]:a},editorTemplate(o,r){let s=I("<div>").addClass("dx-filterbuilder-item-value-text").appendTo(r),a=q(!0,{},i.columnOption(o.field.dataField));return my(s,o.text&&o.text.split("|")),a.filterType="include",a.filterValues=o.value?o.value.slice():[],n.showHeaderFilterMenuBase({columnElement:s,column:a,apply(){l=this.filterValues,o.setValue(l);var l;n.hideHeaderFilterMenu(),o.closeEditor()},onHidden(){o.closeEditor()},isFilterBuilder:!0}),r},customizeText:function(o,r){r=r||{};let{value:s}=o,a=i.columnOption(o.field.dataField),l=a&&a.headerFilter,d=a&&a.lookup,c=r.values||[s];if(l&&l.dataSource||d&&d.dataSource){let h=new le,f=r.items||new le;if(!r.items){a=q({},a,{filterType:"include",filterValues:c});let p=n.getDataSource(a);p.paginate=!1;let m=new Lo(p),g=m.store().key();if(g){let{values:b}=r;if(b&&b.length>1){let x=b.reduce((E,D)=>(E.length&&E.push("or"),E.push([g,"=",D]),E),[]);m.filter(x)}else m.filter([g,"=",o.value])}else o.field.calculateDisplayValue&&bt.log("W1017");r.items=f,m.load().done(f.resolve)}return f.done(p=>{let m=c.indexOf(o.value);h.resolve(t(p,null)[m])}),h}return n.getHeaderItemText(s,a,0,i.option("headerFilter"))}}}function gJ(i){return q(mJ(i),{name:"anyof",icon:"selectall",caption:de.format("dxFilterBuilder-filterOperationAnyOf")})}function _J(i){let e=mJ(i);return q({},e,{calculateFilterExpression(t,n,o){let r=e.calculateFilterExpression(t,n,o);return!r||r.length===0?null:r[0]==="!"?r:["!",r]},name:"noneof",icon:"unselectall",caption:de.format("dxFilterBuilder-filterOperationNoneOf")})}var _Te=["=","<>","<","<=",">",">=","notcontains","contains","startswith","endswith","between"];function Ld(i){return i.name||i.dataField}function bTe(i){i.forEach(e=>{let t=Ld(e);if(!U(t)&&e.allowFiltering)throw new bt.Error("E1049",e.caption)})}var _B=function(){return{filterType:"include",filterValues:void 0}},CJ=function(i){let e=i.filterValues||[];return!Ba.getGroupInterval(i)&&!(i.headerFilter&&i.headerFilter.dataSource)||e.length===1&&e[0]===null},vTe=function(i,e){if(!i)return _B();let t,n=i[1],o=i[2],r=Array.isArray(o);if(!r&&!CJ(e))return _B();switch(n){case"anyof":case"=":t="include";break;case"noneof":case"<>":t="exclude";break;default:return _B()}return{filterType:t,filterValues:r?o:[o]}},bJ=function(i){let e=i.filterValue;if(U(e)){let t=i.selectedFilterOperation||i.defaultFilterOperation||fy(i);return[Ld(i),t,i.filterValue]}return null},vJ=function(i){let e,t,{filterValues:n}=i;return n?(n.length===1&&CJ(i)&&!Array.isArray(n[0])?(i.filterType==="exclude"?e="<>":e="=",t=n[0]):(i.filterType==="exclude"?e="noneof":e="anyof",t=n),[Ld(i),e,t]):null},yJ=function(i,e,t){let n=vTe(t,e);i.columnOption(Ld(e),n)},xJ=function(i,e,t){let n,o=t?.[1],r=t?.[2],s=e.filterOperations||e.defaultFilterOperations;(!s||s.indexOf(o)>=0||o===e.defaultFilterOperation)&&_Te.includes(o)&&r!==null?(o===e.defaultFilterOperation&&!U(e.selectedFilterOperation)&&(o=e.selectedFilterOperation),n={filterValue:r,selectedFilterOperation:o}):n={filterValue:void 0,selectedFilterOperation:void 0},i.columnOption(Ld(e),n)},bB=class extends li.Controller{init(){this._dataController=this.getController("data"),this._columnsController=this.getController("columns"),this._dataController.isFilterSyncActive()&&(this._columnsController.isAllDataTypesDefined()?this._initSync():this._dataController.dataSourceChanged.add(()=>this._initSync()))}publicMethods(){return["getCustomFilterOperations"]}syncFilterValue(){let e=this,t=this._columnsController.getFilteringColumns();this._skipSyncColumnOptions=!0,t.forEach(n=>{let o=fJ(e.option("filterValue"),Ld(n));if(o.length===1){let r=o[0];yJ(this._columnsController,n,r),xJ(this._columnsController,n,r)}else U(n.filterValues)&&yJ(this._columnsController,n,null),U(n.filterValue)&&xJ(this._columnsController,n,null)}),this._skipSyncColumnOptions=!1}_initSync(){let e=this._columnsController.getColumns(),t=this._dataController.pageIndex();if(bTe(e),!this.option("filterValue")){let n=this._columnsController.getFilteringColumns(),o=this.getFilterValueFromColumns(n);this._silentOption("filterValue",o)}this.syncFilterValue(),this._dataController.pageIndex(t)}_getSyncFilterRow(e,t){let n=bJ(t);return U(n)?mB(e,n):m1(e,Ld(t))}_getSyncHeaderFilter(e,t){let n=vJ(t);return n?mB(e,n):m1(e,Ld(t))}getFilterValueFromColumns(e){if(!this._dataController.isFilterSyncActive())return null;let t=["and"];return e&&e.forEach(n=>{let o=vJ(n),r=bJ(n);o&&a_(o,t),r&&a_(r,t)}),_f(t)}syncFilterRow(e,t){this.option("filterValue",this._getSyncFilterRow(this.option("filterValue"),e))}syncHeaderFilter(e){this.option("filterValue",this._getSyncHeaderFilter(this.option("filterValue"),e))}getCustomFilterOperations(){let e=this.option("filterBuilder.customOperations")??[];return[gJ(this.component),_J(this.component)].concat(e)}},yTe=i=>class extends i{optionChanged(e){switch(e.name){case"filterValue":this._applyFilter(),this.isFilterSyncActive()&&this._filterSyncController.syncFilterValue(),e.handled=!0;break;case"filterSyncEnabled":e.handled=!0;break;case"columns":if(this.isFilterSyncActive()){let t=this._columnsController.getColumnByPath(e.fullName);if(t&&!this._filterSyncController._skipSyncColumnOptions){let n=this._parseColumnPropertyName(e.fullName);this._filterSyncController._skipSyncColumnOptions=!0,n==="filterType"?(e.value==="exclude"||e.previousValue==="exclude")&&this._filterSyncController.syncHeaderFilter(t):n==="filterValues"?this._filterSyncController.syncHeaderFilter(t):["filterValue","selectedFilterOperation"].includes(n)&&this._filterSyncController.syncFilterRow(t,t.filterValue),this._filterSyncController._skipSyncColumnOptions=!1}}super.optionChanged(e);break;default:super.optionChanged(e)}}isFilterSyncActive(){let e=this.option("filterSyncEnabled");return e==="auto"?this.option("filterPanel.visible"):e}skipCalculateColumnFilters(){return(U(this.option("filterValue"))||this._filterSyncController._skipSyncColumnOptions)&&this.isFilterSyncActive()}_calculateAdditionalFilter(){if(this.option("filterPanel.filterEnabled")===!1)return super._calculateAdditionalFilter();let e=[super._calculateAdditionalFilter()],t=this._columnsController.getFilteringColumns(),n=this.option("filterValue");if(this.isFilterSyncActive()){let s=this._headerFilterController.getCurrentColumn(),a=this._applyFilterController.getCurrentColumnForFiltering(),l=s||a;(s||U(a?.filterValue))&&n&&(n=m1(n,Ld(l)))}let o=this._filterSyncController.getCustomFilterOperations(),r=su(n,t,o,"filterBuilder");return r&&e.push(r),De.combineFilters(e)}_parseColumnPropertyName(e){let t=e.match(/.*\.(.*)/);return t?t[1]:null}clearFilter(e){this.component.beginUpdate(),arguments.length>0?(e==="filterValue"&&this.option("filterValue",null),super.clearFilter(e)):(this.option("filterValue",null),super.clearFilter()),this.component.endUpdate()}_applyFilter(){return this._filterSyncController._skipSyncColumnOptions?new le().resolve():super._applyFilter.apply(this,arguments)}},xTe=i=>class extends i{optionChanged(e){e.name==="filterValue"?this._updateHeaderFilterIndicators():super.optionChanged(e)}_isHeaderFilterEmpty(e){return this._dataController.isFilterSyncActive()?!gB(this.option("filterValue"),Ld(e)):super._isHeaderFilterEmpty(e)}_needUpdateFilterIndicators(){return!this._dataController.isFilterSyncActive()}},wJ={defaultOptions:()=>({filterValue:null,filterSyncEnabled:"auto"}),controllers:{filterSync:bB},extenders:{controllers:{data:yTe},views:{columnHeadersView:xTe}}};qe.registerModule("filterSync",wJ);var SJ="dx-filterbuilder-action-icon";var g1="dx-state-active";var EJ="filterBuilder";var CTe=[{name:"onEditorPreparing",config:{excludeValidators:["disabled","readOnly"],category:"rendering"}},{name:"onEditorPrepared",config:{excludeValidators:["disabled","readOnly"],category:"rendering"}},{name:"onValueChanged",config:{excludeValidators:["disabled","readOnly"]}}],OJ={and:"and",or:"or",notAnd:"!and",notOr:"!or"},wTe=kO(class{}),_1=class extends Tn{_getDefaultOptions(){return q(super._getDefaultOptions(),{onEditorPreparing:null,onEditorPrepared:null,onValueChanged:null,fields:[],groupOperations:["and","or","notAnd","notOr"],maxGroupLevel:void 0,value:null,allowHierarchicalFields:!1,groupOperationDescriptions:{and:de.format("dxFilterBuilder-and"),or:de.format("dxFilterBuilder-or"),notAnd:de.format("dxFilterBuilder-notAnd"),notOr:de.format("dxFilterBuilder-notOr")},customOperations:[],closePopupOnTargetScroll:!0,filterOperationDescriptions:{between:de.format("dxFilterBuilder-filterOperationBetween"),equal:de.format("dxFilterBuilder-filterOperationEquals"),notEqual:de.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:de.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:de.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:de.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:de.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:de.format("dxFilterBuilder-filterOperationStartsWith"),contains:de.format("dxFilterBuilder-filterOperationContains"),notContains:de.format("dxFilterBuilder-filterOperationNotContains"),endsWith:de.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:de.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:de.format("dxFilterBuilder-filterOperationIsNotBlank")}})}_optionChanged(e){switch(e.name){case"closePopupOnTargetScroll":break;case"onEditorPreparing":case"onEditorPrepared":case"onValueChanged":this._initActions();break;case"customOperations":this._initCustomOperations(),this._invalidate();break;case"fields":case"maxGroupLevel":case"groupOperations":case"allowHierarchicalFields":case"groupOperationDescriptions":case"filterOperationDescriptions":this._invalidate();break;case"value":if(e.value!==e.previousValue){let t=this._disableInvalidateForValue;t||(this._initModel(),this._invalidate()),this._disableInvalidateForValue=!1,this.executeAction("onValueChanged",{value:e.value,previousValue:e.previousValue}),this._disableInvalidateForValue=t}break;default:super._optionChanged(e)}}getFilterExpression(){let e=this._getNormalizedFields(),t=q(!0,[],this._model);return su(_f(t),e,this._customOperations,EJ)}_getNormalizedFields(){return aJ(this.option("fields"))}_updateFilter(){this._disableInvalidateForValue=!0;let e=q(!0,[],this._model),t=_f(e),n=_f(this._getModel(this.option("value")));JSON.stringify(n)!==JSON.stringify(t)&&this.option("value",t),this._disableInvalidateForValue=!1,this._fireContentReadyAction()}_init(){this._initCustomOperations(),this._initModel(),this._initEditorFactory(),this._initActions(),super._init()}_initEditorFactory(){this._editorFactory=new wTe}_initCustomOperations(){this._customOperations=hJ(this.option("customOperations"),this.option("filterOperationDescriptions.between"),this)}_getDefaultGroupOperation(){var e;return((e=this.option("groupOperations"))===null||e===void 0?void 0:e[0])??OJ.and}_getModel(e){return u1(e,this._customOperations,this._getDefaultGroupOperation())}_initModel(){this._model=this._getModel(this.option("value"))}_initActions(){let e=this;e._actions={},CTe.forEach(t=>{let n=q({},t.config);e._actions[t.name]=e._createActionByOption(t.name,n)})}executeAction(e,t){let n=this._actions[e];return n&&n(t)}_initMarkup(){this.$element().addClass("dx-filterbuilder"),super._initMarkup(),this._createGroupElementByCriteria(this._model).appendTo(this.$element())}_createConditionElement(e,t){return I("<div>").addClass("dx-filterbuilder-group").append(this._createConditionItem(e,t))}_createGroupElementByCriteria(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=this._createGroupElement(e,t,n),r=o.find(".dx-filterbuilder-group-content"),s=au(e);for(let a=0;a<s.length;a++){let l=s[a];Ml(l)?this._createGroupElementByCriteria(l,e,n+1).appendTo(r):Vo(l)&&this._createConditionElement(l,e).appendTo(r)}return o}_createGroupElement(e,t,n){let o=I("<div>").addClass("dx-filterbuilder-group-item"),r=I("<div>").addClass("dx-filterbuilder-group-content"),s=I("<div>").addClass("dx-filterbuilder-group").append(o).append(r);return t!=null&&this._createRemoveButton(()=>{c1(t,e),s.remove(),this._updateFilter()}).appendTo(o),this._createGroupOperationButton(e).appendTo(o),this._createAddButton(()=>{let a=lB(this._getDefaultGroupOperation());a_(a,e),this._createGroupElement(a,e,n+1).appendTo(r),this._updateFilter()},()=>{let a=this.option("fields")[0],l=sJ(a,this._customOperations);a_(l,e),this._createConditionElement(l,e).appendTo(r),this._updateFilter()},n).appendTo(o),s}_createButton(e){return I("<div>").text(e)}_createGroupOperationButton(e){let t=this._getGroupOperations(e),n=tJ(e,t),o=n.text,r=t&&t.length<2?this._createButton(o).addClass("dx-state-disabled"):this._createButtonWithMenu({caption:o,menu:{items:t,displayExpr:"text",keyExpr:"value",onItemClick:s=>{n!==s.itemData&&(eJ(e,s.itemData.value),r.text(s.itemData.text),n=s.itemData,this._updateFilter())},onContentReady(s){s.component.selectItem(n)},cssClass:"dx-filterbuilder-group-operations"}});return r.addClass("dx-filterbuilder-text").addClass("dx-filterbuilder-group-operation").attr("tabindex",0)}_createButtonWithMenu(e){let t=this,n=function(){t.$element().find(`.${g1}`).removeClass(g1),t.$element().find(".dx-overlay .dx-treeview").remove(),t.$element().find(".dx-overlay").remove()},o=this.option("rtlEnabled"),r=o?"right":"left",s=this._createButton(e.caption);q(e.menu,{focusStateEnabled:!0,selectionMode:"single",onItemClick:(a=e.menu.onItemClick,function(l){a(l),l.event.type==="dxclick"&&n()}),onHiding(){s.removeClass(g1)},position:{my:`${r} top`,at:`${r} bottom`,offset:"0 1",of:s,collision:"flip"},animation:null,onHidden(){n()},cssClass:`dx-filterbuilder-overlay ${e.menu.cssClass}`,rtlEnabled:o});var a;return e.popup={onShown(l){let d=I(l.component.content()).find(".dx-treeview"),c=d.dxTreeView("instance");X.on(d,"keyup keydown",u=>{let h=Ti(u);(u.type==="keydown"&&h==="tab"||u.type==="keyup"&&(h==="escape"||h==="enter"))&&(l.component.hide(),X.trigger(e.menu.position.of,"focus"))}),c.focus(),c.option("focusedElement",null)}},this._subscribeOnClickAndEnterKey(s,()=>{n(),t._createPopupWithTreeView(e,t.$element()),s.addClass(g1)}),s}_hasValueButton(e){let t=kl(this._customOperations,e[1]);return t?t.hasValue!==!1:e[2]!==null}_createOperationButtonWithMenu(e,t){let n=this,o=rJ(t,this.option("filterOperationDescriptions"),this._customOperations),r=oJ(fB(e),o),s=this._createButtonWithMenu({caption:r.text,menu:{items:o,displayExpr:"text",onItemRendered(a){a.itemData.isCustom&&I(a.itemElement).addClass("dx-filterbuilder-menu-custom-operation")},onContentReady(a){a.component.selectItem(r)},onItemClick:a=>{if(r!==a.itemData){r=a.itemData,f1(e,r.value,n._customOperations);let l=s.siblings().filter(".dx-filterbuilder-item-value");n._hasValueButton(e)?(l.length!==0&&l.remove(),n._createValueButton(e,t).appendTo(s.parent())):l.remove(),s.text(r.text),this._updateFilter()}},cssClass:"dx-filterbuilder-operations"}}).addClass("dx-filterbuilder-text").addClass("dx-filterbuilder-item-operation").attr("tabindex",0);return s}_createOperationAndValueButtons(e,t,n){this._createOperationButtonWithMenu(e,t).appendTo(n),this._hasValueButton(e)&&this._createValueButton(e,t).appendTo(n)}_createFieldButtonWithMenu(e,t,n){let o=this,r=this.option("allowHierarchicalFields"),s=uB(e,r),a=l_(n.name||n.dataField,s),l=function(c,u){return r?pB(c,u):c.caption},d=this._createButtonWithMenu({caption:l(a,s),menu:{items:s,dataStructure:"plain",keyExpr:"id",parentId:"parentId",displayExpr:"caption",onItemClick:c=>{if(a!==c.itemData){a=c.itemData,t[0]=a.name||a.dataField,t[2]=a.dataType==="object"?null:"",f1(t,fy(a),o._customOperations),d.siblings().filter(".dx-filterbuilder-text").remove(),o._createOperationAndValueButtons(t,a,d.parent());let u=l(a,c.component.option("items"));d.text(u),this._updateFilter()}},onContentReady(c){c.component.selectItem(a)},cssClass:"dx-filterbuilder-fields"}}).addClass("dx-filterbuilder-text").addClass("dx-filterbuilder-item-field").attr("tabindex",0);return d}_createConditionItem(e,t){let n=I("<div>").addClass("dx-filterbuilder-group-item"),o=this._getNormalizedFields(),r=l_(e[0],o);return this._createRemoveButton(()=>{c1(t,e),n.parent().children().length===1?n.parent().remove():n.remove(),this._updateFilter()}).appendTo(n),this._createFieldButtonWithMenu(o,e,r).appendTo(n),this._createOperationAndValueButtons(e,r,n),n}_getGroupOperations(e){let t=this.option("groupOperations"),n=this.option("groupOperationDescriptions");return(!t||!t.length)&&(t=[lu(e).replace("!","not")]),t.map(o=>({text:n[o],value:OJ[o]}))}_createRemoveButton(e){let t=I("<div>").addClass(SJ).addClass("dx-icon-remove").addClass("dx-filterbuilder-action").attr("tabindex",0);return this._subscribeOnClickAndEnterKey(t,e),t}_createAddButton(e,t,n){let o,r=this.option("maxGroupLevel");return U(r)&&n>=r?(o=this._createButton(),this._subscribeOnClickAndEnterKey(o,t)):o=this._createButtonWithMenu({menu:{items:[{caption:de.format("dxFilterBuilder-addCondition"),click:t},{caption:de.format("dxFilterBuilder-addGroup"),click:e}],displayExpr:"caption",onItemClick(s){s.itemData.click()},cssClass:"dx-filterbuilder-add-condition"}}),o.addClass(SJ).addClass("dx-icon-plus").addClass("dx-filterbuilder-action").attr("tabindex",0)}_createValueText(e,t,n){let o=this,r=I("<div>").html("&nbsp;").addClass("dx-filterbuilder-item-value-text").attr("tabindex",0).appendTo(n),s=e[2],a=kl(o._customOperations,e[1]);return!a&&t.lookup?h1(t,s,l=>{my(r,l)}):Be(p1(t,s,a)).done(l=>{my(r,l,a)}),o._subscribeOnClickAndEnterKey(r,l=>{l.type==="keyup"&&l.stopPropagation(),o._createValueEditorWithEvents(e,t,n)}),r}_updateConditionValue(e,t,n){e[2]!==t&&(e[2]=t),n(),this._updateFilter()}_addDocumentKeyUp(e,t){let n=!1,o=!1,r=be.getDocument(),s=l=>{if(n||o){o=!1;return}t(l)};X.on(r,"keyup",s);let a=e.find("input");X.on(a,"compositionstart",()=>{n=!0}),X.on(a,"compositionend",()=>{n=!1,o=!0}),X.on(a,"keydown",l=>{l.which!==229&&(o=!1)}),this._documentKeyUpHandler=s}_addDocumentClick(e,t){let n=be.getDocument(),o=r=>{this._isFocusOnEditorParts(e,r.target)||(X.trigger(e.find("input"),"change"),t())};X.on(n,"dxpointerdown",o),this._documentClickHandler=o}_isFocusOnEditorParts(e,t){let n=t||be.getActiveElement();return I(n).closest(e.children()).length||I(n).closest(".dx-dropdowneditor-overlay").length}_removeEvents(){let e=be.getDocument();U(this._documentKeyUpHandler)&&X.off(e,"keyup",this._documentKeyUpHandler),U(this._documentClickHandler)&&X.off(e,"dxpointerdown",this._documentClickHandler)}_dispose(){this._removeEvents(),super._dispose()}_createValueEditorWithEvents(e,t,n){let o=e[2],r=()=>(n.empty(),this._removeEvents(),this._createValueText(e,t,n)),s=()=>{this._updateConditionValue(e,o,()=>{r()})},a={value:o===""?null:o,filterOperation:fB(e),setValue(d){o=d===null?"":d},closeEditor:s,text:n.text()};n.empty();let l=this._createValueEditor(n,t,a);X.trigger(l.find("input").not(":hidden").eq(0),"focus"),this._removeEvents(),this._addDocumentClick(l,s),this._addDocumentKeyUp(l,d=>{let c=Ti(d);if(c==="tab"){if(this._isFocusOnEditorParts(l))return;this._updateConditionValue(e,o,()=>{r(),d.shiftKey&&X.trigger(n.prev(),"focus")})}c==="escape"&&X.trigger(r(),"focus"),c==="enter"&&this._updateConditionValue(e,o,()=>{X.trigger(r(),"focus")})}),this._fireContentReadyAction()}_createValueButton(e,t){let n=I("<div>").addClass("dx-filterbuilder-text").addClass("dx-filterbuilder-item-value");return this._createValueText(e,t,n),n}_createValueEditor(e,t,n){let o=I("<div>").attr("tabindex",0).appendTo(e),r=kl(this._customOperations,n.filterOperation),s=r&&r.editorTemplate?r.editorTemplate:t.editorTemplate;return s?this._getTemplate(s).render({model:q({field:t},n),container:o}):this._editorFactory.createEditor.call(this,o,q({},t,n,{parentType:EJ})),o}_createPopupWithTreeView(e,t){let n=this,o=I("<div>").addClass(e.menu.cssClass).appendTo(t);this._createComponent(o,Qr,{onHiding:e.menu.onHiding,onHidden:e.menu.onHidden,rtlEnabled:e.menu.rtlEnabled,position:e.menu.position,animation:e.menu.animation,contentTemplate(r){let s=I("<div>").appendTo(r);n._createComponent(s,Gh,e.menu),this.repaint()},_ignoreFunctionValueDeprecation:!0,maxHeight:()=>i1(e.menu.position.of),visible:!0,focusStateEnabled:!1,preventScrollEvents:!1,hideOnParentScroll:this.option("closePopupOnTargetScroll"),hideOnOutsideClick:!0,onShown:e.popup.onShown,shading:!1,width:"auto",height:"auto",showTitle:!1,_wrapperClassExternal:e.menu.cssClass})}_subscribeOnClickAndEnterKey(e,t){X.on(e,"dxclick",t),X.on(e,"keyup",n=>{Ti(n)==="enter"&&t(n)})}};ut("dxFilterBuilder",_1);var IJ=_1;var DJ=IJ;var vB=class extends li.View{init(){super.init(),this._columnsController=this.getController("columns"),this._filterSyncController=this.getController("filterSync")}optionChanged(e){switch(e.name){case"filterBuilder":case"filterBuilderPopup":this._invalidate(),e.handled=!0;break;default:super.optionChanged(e)}}_renderCore(){this._updatePopupOptions()}_updatePopupOptions(){this.option("filterBuilderPopup.visible")?this._initPopup():this._filterBuilderPopup&&this._filterBuilderPopup.hide()}_disposePopup(){this._filterBuilderPopup&&(this._filterBuilderPopup.dispose(),this._filterBuilderPopup=void 0),this._filterBuilder&&(this._filterBuilder.dispose(),this._filterBuilder=void 0)}_initPopup(){let e=this;e._disposePopup(),e._filterBuilderPopup=e._createComponent(e.element(),Qr,q({title:de.format("dxDataGrid-filterBuilderPopupTitle"),contentTemplate:t=>e._getPopupContentTemplate(t),onOptionChanged(t){t.name==="visible"&&e.option("filterBuilderPopup.visible",t.value)},toolbarItems:e._getPopupToolbarItems()},e.option("filterBuilderPopup"),{onHidden(){$g(e),e._disposePopup()}}))}_getPopupContentTemplate(e){let t=I(e),n=I("<div>").appendTo(I(e));this._filterBuilder=this._createComponent(n,DJ,q({value:this.option("filterValue"),fields:this._columnsController.getFilteringColumns()},this.option("filterBuilder"),{customOperations:this._filterSyncController.getCustomFilterOperations()})),this._createComponent(t,AE,{direction:"both"})}_getPopupToolbarItems(){let e=this;return[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:de.format("OK"),onClick(){let t=e._filterBuilder.option("value");e.option("filterValue",t),e._filterBuilderPopup.hide()}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:de.format("Cancel"),onClick(){e._filterBuilderPopup.hide()}}}]}},TJ={defaultOptions:()=>({filterBuilder:{groupOperationDescriptions:{and:de.format("dxFilterBuilder-and"),or:de.format("dxFilterBuilder-or"),notAnd:de.format("dxFilterBuilder-notAnd"),notOr:de.format("dxFilterBuilder-notOr")},filterOperationDescriptions:{between:de.format("dxFilterBuilder-filterOperationBetween"),equal:de.format("dxFilterBuilder-filterOperationEquals"),notEqual:de.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:de.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:de.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:de.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:de.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:de.format("dxFilterBuilder-filterOperationStartsWith"),contains:de.format("dxFilterBuilder-filterOperationContains"),notContains:de.format("dxFilterBuilder-filterOperationNotContains"),endsWith:de.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:de.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:de.format("dxFilterBuilder-filterOperationIsNotBlank")}},filterBuilderPopup:{}}),views:{filterBuilderView:vB}};qe.registerModule("filterBuilder",TJ);var yB=class extends li.View{init(){this._dataController=this.getController("data"),this._columnsController=this.getController("columns"),this._filterSyncController=this.getController("filterSync"),this._dataController.dataSourceChanged.add(()=>this.render())}isVisible(){return this.option("filterPanel.visible")&&this._dataController.dataSource()}_renderCore(){let e=this.element();if(e.empty(),!!!this._columnsController.getColumns().length)return;e.addClass(this.addWidgetPrefix("filter-panel"));let n=I("<div>").addClass(this.addWidgetPrefix("filter-panel-left")).appendTo(e);this._renderFilterBuilderText(e,n)}_renderFilterBuilderText(e,t){let n=this._getFilterElement(),o=this._getTextElement();if(this.option("filterValue")||this._filterValueBuffer){let r=this._getCheckElement(),s=this._getRemoveButtonElement();t.append(r).append(n).append(o),e.append(s);return}t.append(n).append(o)}_getCheckElement(){let e=this,t=I("<div>").addClass(this.addWidgetPrefix("filter-panel-checkbox"));return e._createComponent(t,Ph,{value:e.option("filterPanel.filterEnabled"),onValueChanged(n){e.option("filterPanel.filterEnabled",n.value)}}),t.attr("title",this.option("filterPanel.texts.filterEnabledHint")),t}_getFilterElement(){let e=this,t=I("<div>").addClass("dx-icon-filter");return X.on(t,"click",()=>e._showFilterBuilder()),Nh("filterPanel",e,t,void 0,()=>e._showFilterBuilder()),e._addTabIndexToElement(t),t}_getTextElement(){let e=this,t=I("<div>").addClass(e.addWidgetPrefix("filter-panel-text")),n,o=e.option("filterValue");return o?Be(e.getFilterText(o,this._filterSyncController.getCustomFilterOperations())).done(r=>{let s=e.option("filterPanel.customizeText");if(s){let a=s({component:e.component,filterValue:o,text:r});typeof a=="string"&&(r=a)}t.text(r)}):(n=e.option("filterPanel.texts.createFilter"),t.text(n)),X.on(t,"click",()=>e._showFilterBuilder()),Nh("filterPanel",e,t,void 0,()=>e._showFilterBuilder()),e._addTabIndexToElement(t),t}_showFilterBuilder(){this.option("filterBuilderPopup.visible",!0)}_getRemoveButtonElement(){let e=this,t=()=>e.option("filterValue",null),n=I("<div>").addClass(e.addWidgetPrefix("filter-panel-clear-filter")).text(e.option("filterPanel.texts.clearFilter"));return X.on(n,"click",t),Nh("filterPanel",this,n,void 0,t),e._addTabIndexToElement(n),n}_addTabIndexToElement(e){if(!this.option("useLegacyKeyboardNavigation")){let t=this.option("tabindex")||0;e.attr("tabindex",t)}}optionChanged(e){switch(e.name){case"filterValue":this._invalidate(),this.option("filterPanel.filterEnabled",!0),e.handled=!0;break;case"filterPanel":this._invalidate(),e.handled=!0;break;default:super.optionChanged(e)}}_getConditionText(e,t,n){let o=`[${e}] ${t}`;return U(n)&&(o+=n),o}_getValueMaskedText(e){return Array.isArray(e)?`('${e.join("', '")}')`:` '${e}'`}_getValueText(e,t,n){let o=new le,r=t&&t.customizeText;if(U(n)||r)if(!r&&e.lookup)h1(e,n,s=>{o.resolve(this._getValueMaskedText(s))});else{let s=Array.isArray(n)?n:De.getDisplayValue(e,n,null);Be(p1(e,s,t,"filterPanel")).done(a=>{o.resolve(this._getValueMaskedText(a))})}else o.resolve("");return o.promise()}getConditionText(e,t){let n=this,o=e[1],r=new le,s=kl(t.customOperations,o),a,l=l_(e[0],t.columns),d=l.caption||"",c=e[2];return s?a=s.caption||Ea(s.name):c===null?a=d1(o==="="?"isblank":"isnotblank",t.filterOperationDescriptions):a=d1(o,t.filterOperationDescriptions),this._getValueText(l,s,c).done(u=>{r.resolve(n._getConditionText(d,a,u))}),r}getGroupText(e,t,n){let o=this,r=new le,s=[],a=lu(e);return e.forEach(l=>{Vo(l)?s.push(o.getConditionText(l,t)):Ml(l)&&s.push(o.getGroupText(l,t,!0))}),Be.apply(this,s).done(function(){let l;for(var d=arguments.length,c=new Array(d),u=0;u<d;u++)c[u]=arguments[u];a.startsWith("!")?l=`${t.groupOperationDescriptions[`not${a.substring(1,2).toUpperCase()}${a.substring(2)}`].split(" ")[0]} ${c[0]}`:l=c.join(` ${t.groupOperationDescriptions[a]} `),n&&(l=`(${l})`),r.resolve(l)}),r}getFilterText(e,t){let n={customOperations:t,columns:this._columnsController.getFilteringColumns(),filterOperationDescriptions:this.option("filterBuilder.filterOperationDescriptions"),groupOperationDescriptions:this.option("filterBuilder.groupOperationDescriptions")};return Vo(e)?this.getConditionText(e,n):this.getGroupText(e,n)}},STe=i=>class extends i{optionChanged(e){e.name==="filterPanel"?(this._applyFilter(),e.handled=!0):super.optionChanged(e)}},AJ={defaultOptions:()=>({filterPanel:{visible:!1,filterEnabled:!0,texts:{createFilter:de.format("dxDataGrid-filterPanelCreateFilter"),clearFilter:de.format("dxDataGrid-filterPanelClearFilter"),filterEnabledHint:de.format("dxDataGrid-filterPanelFilterEnabledHint")}}}),views:{filterPanelView:yB},extenders:{controllers:{data:STe}}};qe.registerModule("filterPanel",AJ);function kJ(i){return!!(i.allowSearch??i.allowFiltering)}function MJ(i,e){let{lookup:t}=i;return i.parseValue?t?i.parseValue.call(t,e):i.parseValue(e):e}var ETe=i=>class extends i{optionChanged(e){switch(e.fullName){case"searchPanel.text":case"searchPanel":this._applyFilter(),e.handled=!0;break;default:super.optionChanged(e)}}publicMethods(){return super.publicMethods().concat(["searchByText"])}_calculateAdditionalFilter(){let e=super._calculateAdditionalFilter(),t=this.calculateSearchFilter(this.option("searchPanel.text"));return De.combineFilters([e,t])}searchByText(e){this.option("searchPanel.text",e)}calculateSearchFilter(e){let t,n,o=this._columnsController.getColumns(),r=this.option("searchPanel.searchVisibleColumnsOnly"),s,a=[];if(!e)return null;function l(d){let c=Qt(s.valueExpr);for(let u=0;u<d.length;u++){let h=c(d[u]);a.push(n.createFilterExpression(h,null,"search"))}}for(t=0;t<o.length;t++)if(n=o[t],!(r&&!n.visible)&&kJ(n)&&n.calculateFilterExpression){s=n.lookup;let d=MJ(n,e);s&&s.items?ro(s.items).filter(n.createFilterExpression.call({dataField:s.displayExpr,dataType:s.dataType,calculateFilterExpression:n.calculateFilterExpression},d,null,"search")).enumerate().done(l):d!==void 0&&a.push(n.createFilterExpression(d,null,"search"))}return a.length===0?["!"]:De.combineFilters(a,"or")}},OTe=i=>class extends i{optionChanged(e){if(e.name==="searchPanel"){if(e.fullName==="searchPanel.text"){let t=this.getSearchTextEditor();t&&t.option("value",e.value)}else this._invalidate();e.handled=!0}else super.optionChanged(e)}_getToolbarItems(){let e=super._getToolbarItems();return this._prepareSearchItem(e)}_prepareSearchItem(e){let t=this,n=this._dataController,o=this.option("searchPanel");if(o&&o.visible){let r={template(s,a,l){let d=I("<div>").addClass(t.addWidgetPrefix("search-panel")).appendTo(l);t._editorFactoryController.createEditor(d,{width:o.width,placeholder:o.placeholder,parentType:"searchPanel",value:t.option("searchPanel.text"),updateValueTimeout:700,setValue(c){n.searchByText(c)},editorOptions:{inputAttr:{"aria-label":de.format(`${t.component.NAME}-ariaSearchInGrid`)}}}),t.resize()},name:"searchPanel",location:"after",locateInMenu:"never",sortIndex:40};e.push(r)}return e}getSearchTextEditor(){let e=this,t=e.element(),n=t.find(`.${e.addWidgetPrefix("search-panel")}`).filter(function(){return I(this).closest(`.${e.addWidgetPrefix("header-panel")}`).is(t)});return n.length?n.dxTextBox("instance"):null}isVisible(){let e=this.option("searchPanel");return super.isVisible()||!!(e!=null&&e.visible)}},ITe=i=>class extends i{init(){super.init.apply(this,arguments),this._searchParams=[],this._dataController=this.getController("data")}dispose(){clearTimeout(this._highlightTimer),super.dispose()}_getFormattedSearchText(e,t){let n=MJ(e,t),o=De.getFormatOptionsByColumn(e,"search");return De.formatValue(n,o)}_getStringNormalizer(){var e,t,n;let o=this.option("searchPanel.highlightCaseSensitive"),r=(e=this._dataController)===null||e===void 0||(t=e.getDataSource)===null||t===void 0?void 0:t.call(e),s=r==null||(n=r.loadOptions)===null||n===void 0||(n=n.call(r))===null||n===void 0?void 0:n.langParams;return a=>uo(a,o,s)}_findHighlightingTextNodes(e,t,n){var o;let r=this,s=t.parent(),a,l=this._getStringNormalizer(),d=l(n),c=[];if(!s.length)s=I("<div>").append(t);else if(e)if(e.groupIndex>=0&&!e.showWhenGrouped)a=t;else{let u=r._columnsController.getVisibleIndex(e.index);a=s.children("td").eq(u).find("*")}return a=(o=a)!==null&&o!==void 0&&o.length?a:s.find("*"),a.each((u,h)=>{let f=I(h).contents();for(let p=0;p<f.length;p++){let m=f.get(p);m.nodeType===3&&l(m.textContent??m.nodeValue??"").includes(d)&&c.push(m)}}),c}_highlightSearchTextCore(e,t){let n=this,o=I("<span>").addClass(n.addWidgetPrefix("search-text")),r=e.text(),s=e[0],a=this._getStringNormalizer(),l=a(r).indexOf(a(t));if(l>=0)return s.textContent?s.textContent=r.substr(0,l):s.nodeValue=r.substr(0,l),e.after(o.text(r.substr(l,t.length))),e=I(be.createTextNode(r.substr(l+t.length))).insertAfter(o),n._highlightSearchTextCore(e,t)}_highlightSearchText(e,t,n){let o=this,r=this._getStringNormalizer(),s=o.option("searchPanel.text");t&&n&&(s=s&&o._getFormattedSearchText(n,s)),s&&o.option("searchPanel.highlightSearchText")&&o._findHighlightingTextNodes(n,e,s).forEach(l=>{t?r(I(l).text())===r(s??"")&&I(l).replaceWith(I("<span>").addClass(o.addWidgetPrefix("search-text")).text(I(l).text())):o._highlightSearchTextCore(I(l),s)})}_renderCore(){let e=super._renderCore.apply(this,arguments);return(this.option().rowTemplate||this.option("dataRowTemplate"))&&(this.option("templatesRenderAsynchronously")?(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout(()=>{this._highlightSearchText(this.getTableElement())})):this._highlightSearchText(this.getTableElement())),e}_updateCell(e,t){let{column:n}=t,r=(n.lookup&&n.lookup.dataType||n.dataType)!=="string";kJ(n)&&!t.isOnForm&&(this.option("templatesRenderAsynchronously")?(this._searchParams.length||(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout(()=>{this._searchParams.forEach(s=>{this._highlightSearchText.apply(this,s)}),this._searchParams=[]})),this._searchParams.push([e,r,n])):this._highlightSearchText(e,r,n)),super._updateCell(e,t)}},RJ={defaultOptions:()=>({searchPanel:{visible:!1,width:160,placeholder:de.format("dxDataGrid-searchPanelPlaceholder"),highlightSearchText:!0,highlightCaseSensitive:!1,text:"",searchVisibleColumnsOnly:!1}}),extenders:{controllers:{data:ETe},views:{headerPanel:OTe,rowsView:ITe}}};qe.registerModule("search",RJ);var b1=class extends xg{_optionChanged(e){switch(e.name){case"pageIndex":{let t=this.option("pageIndexChanged");t&&t(e.value);break}case"pageSize":{let t=this.option("pageSizeChanged");t&&t(e.value);break}}super._optionChanged(e)}};function xB(i){var e;let t=et();return i?(e=t.getComputedStyle)===null||e===void 0?void 0:e.call(t,i):null}function Nd(i,e){let t=xB(e)??{};return vE(t[i])}function FJ(i){let e=Nd("paddingLeft",i)+Nd("paddingRight",i);return Nd("width",i)-e}function gy(i){let e=Nd("marginLeft",i)+Nd("marginRight",i),t=Nd("width",i);return e+t}function v1(i){return Nd("minWidth",i)}var DTe=["contentTemplate","pagerProps"],TTe=i=>{let{contentAttributes:e,infoTextRef:t,infoTextVisible:n,isLargeDisplayMode:o,pageSizesRef:r,pagesRef:s,parentRef:a,props:{contentTemplate:l}}=i;return l(ye({rootElementRef:a,pageSizesRef:r,infoTextRef:t,pagesRef:s,infoTextVisible:n,isLargeDisplayMode:o},e))};function ATe(i){let{pageSizes:e,pages:t,parent:n}=i;return n-(e+t)>0}function kTe(i){let{info:e,pageSizes:t,pages:n,parent:o}=i,r=t+n+e;return o-r>0}function MTe(i){let{info:e,pageSizes:t,pages:n,parent:o}=i,r=FJ(o),s=gy(t),a=gy(e),l=gy(n);return{parent:r,pageSizes:s,info:a+Nd("marginLeft",e)+Nd("marginRight",e),pages:l}}var RTe={},FTe=i=>i&&(i.defaultProps?e=>ao(xi(2,i,ye({},e))):i),PJ=(()=>{class i extends br{constructor(t){super(t),this.parentRef=Pn(),this.pageSizesRef=Pn(),this.infoTextRef=Pn(),this.pagesRef=Pn(),this.actualIsLargeDisplayMode=!0,this.actualInfoTextVisible=!0,this.state={infoTextVisible:!0,isLargeDisplayMode:!0},this.subscribeToResize=this.subscribeToResize.bind(this),this.effectUpdateChildProps=this.effectUpdateChildProps.bind(this),this.updateAdaptivityProps=this.updateAdaptivityProps.bind(this)}createEffects(){return[new Gi(this.subscribeToResize,[this.state.infoTextVisible,this.state.isLargeDisplayMode]),new Gi(this.effectUpdateChildProps,[this.props,this.state.infoTextVisible,this.state.isLargeDisplayMode,this.props.pagerProps,this.props.contentTemplate])]}updateEffects(){var t,n;(t=this._effects[0])===null||t===void 0||t.update([this.state.infoTextVisible,this.state.isLargeDisplayMode]),(n=this._effects[1])===null||n===void 0||n.update([this.props,this.state.infoTextVisible,this.state.isLargeDisplayMode,this.props.pagerProps,this.props.contentTemplate])}subscribeToResize(){let t=()=>{this.parentWidth>0&&this.updateAdaptivityProps()};return ml.add(t),()=>{ml.remove(t)}}effectUpdateChildProps(){this.parentWidth>0&&this.updateAdaptivityProps()}get contentAttributes(){let{className:t,displayMode:n,gridCompatibility:o,hasKnownLastPage:r,infoText:s,label:a,lightModeEnabled:l,maxPagesCount:d,onKeyDown:c,pageCount:u,pageIndex:h,pageIndexChange:f,pageSize:p,pageSizeChange:m,pageSizes:g,pagesCountText:b,pagesNavigatorVisible:x,rtlEnabled:E,showInfo:D,showNavigationButtons:L,showPageSizes:k,totalCount:R,visible:N}=this.props.pagerProps;return ye({},this.restAttributes,{pageSize:p,pageIndex:h,pageIndexChange:f,pageSizeChange:m,gridCompatibility:o,className:t,showInfo:D,infoText:s,lightModeEnabled:l,displayMode:n,maxPagesCount:d,pageCount:u,pagesCountText:b,visible:N,hasKnownLastPage:r,pagesNavigatorVisible:x,showPageSizes:k,pageSizes:g,rtlEnabled:E,showNavigationButtons:L,totalCount:R,onKeyDown:c,label:a})}get parentWidth(){return this.parentRef.current?gy(this.parentRef.current):0}updateAdaptivityProps(){let t=MTe({parent:this.parentRef.current,pageSizes:this.pageSizesRef.current,info:this.infoTextRef.current,pages:this.pagesRef.current});if(this.actualInfoTextVisible!==this.state.infoTextVisible||this.actualIsLargeDisplayMode!==this.state.isLargeDisplayMode)return;let n=!U(this.elementsWidth);n&&(this.elementsWidth={}),(n||this.state.isLargeDisplayMode)&&(this.elementsWidth.pageSizes=t.pageSizes,this.elementsWidth.pages=t.pages),(n||this.state.infoTextVisible)&&(this.elementsWidth.info=t.info),this.actualIsLargeDisplayMode=ATe(ye({parent:t.parent},{pageSizes:this.elementsWidth.pageSizes,pages:this.elementsWidth.pages})),this.actualInfoTextVisible=kTe(ye({},t,{info:this.elementsWidth.info})),this.setState(o=>({infoTextVisible:this.actualInfoTextVisible})),this.setState(o=>({isLargeDisplayMode:this.actualIsLargeDisplayMode}))}get restAttributes(){let t=this.props;return ri(t,DTe)}render(){let t=this.props;return TTe({props:ye({},t,{contentTemplate:FTe(t.contentTemplate)}),infoTextVisible:this.state.infoTextVisible,isLargeDisplayMode:this.state.isLargeDisplayMode,parentRef:this.parentRef,pageSizesRef:this.pageSizesRef,infoTextRef:this.infoTextRef,pagesRef:this.pagesRef,contentAttributes:this.contentAttributes,parentWidth:this.parentWidth,updateAdaptivityProps:this.updateAdaptivityProps,restAttributes:this.restAttributes})}}return i.defaultProps=RTe,i})();var CB={gridCompatibility:!0,showInfo:!1,displayMode:"adaptive",maxPagesCount:10,pageCount:10,visible:!0,hasKnownLastPage:!0,pagesNavigatorVisible:"auto",showPageSizes:!0,pageSizes:Object.freeze([5,10]),showNavigationButtons:!1,totalCount:0,get label(){return de.format("dxPager-ariaLabel")}};var LJ=Object.create(Object.prototype,Object.assign(Object.getOwnPropertyDescriptors(CB),Object.getOwnPropertyDescriptors({defaultPageSize:5,pageSizeChange:()=>{},defaultPageIndex:1,pageIndexChange:()=>{}}))),Jn=Object.create(Object.prototype,Object.assign(Object.getOwnPropertyDescriptors(CB),Object.getOwnPropertyDescriptors({pageSize:5,pageIndex:1})));var PTe=["infoText","pageCount","pageIndex","rootElementRef","totalCount"],NJ="dx-info",LTe=i=>{let{props:{rootElementRef:e},text:t}=i;return dn(1,"div","dx-info",t,0,null,null,e)};var NTe={get pageIndex(){return Jn.pageIndex},get pageCount(){return Jn.pageCount},get totalCount(){return Jn.totalCount}},BJ=(()=>{class i extends Qn{constructor(t){super(t),this.state={}}get infoText(){return(this.props.infoText??"")||de.getFormatter("dxPager-infoText")()}get text(){let{pageCount:t,pageIndex:n,totalCount:o}=this.props;return rr(this.infoText,(n+1).toString(),t.toString(),o.toString())}get restAttributes(){let t=this.props;return ri(t,PTe)}render(){let t=this.props;return LTe({props:ye({},t),infoText:this.infoText,text:this.text,restAttributes:this.restAttributes})}}return i.defaultProps=NTe,i})();var bf=cE(void 0);var BTe=["children","className","label","onClick","selected","tabIndex"],VTe=i=>{let{props:{children:e,className:t,label:n,selected:o,tabIndex:r},widgetRef:s}=i;return dn(1,"div",t,e,0,{tabIndex:r,role:"button","aria-label":n,"aria-current":o?"page":void 0},null,s)},HTe={className:"",label:"",tabIndex:0,selected:!1},vf=(()=>{class i extends br{get keyboardContext(){return this.context[bf.id]?this.context[bf.id]:bf.defaultValue}constructor(t){super(t),this.state={},this.widgetRef=Pn(),this.keyboardEffect=this.keyboardEffect.bind(this),this.subscribeToClick=this.subscribeToClick.bind(this)}createEffects(){return[new Gi(this.keyboardEffect,[this.keyboardContext,this.props.onClick]),new Gi(this.subscribeToClick,[this.props.onClick])]}updateEffects(){var t,n;(t=this._effects[0])===null||t===void 0||t.update([this.keyboardContext,this.props.onClick]),(n=this._effects[1])===null||n===void 0||n.update([this.props.onClick])}keyboardEffect(){return this.keyboardContext.registerKeyboardAction(this.widgetRef.current,this.props.onClick)}subscribeToClick(){return NU(this.widgetRef.current,this.props.onClick)}get restAttributes(){let t=this.props;return ri(t,BTe)}render(){let t=this.props;return VTe({props:ye({},t),widgetRef:this.widgetRef,keyboardContext:this.keyboardContext,restAttributes:this.restAttributes})}}return i.defaultProps=HTe,i})();var VJ="dx-pager",HJ="dx-light-mode",zJ="dx-pages",jJ="dx-page-indexes",$J="dx-page",WJ="dx-selection",UJ="dx-page-size",GJ="dx-page-sizes",KJ="dx-page-size dx-selection",qJ="dx-first-child";var zTe=["className","index","onClick","selected"],jTe=i=>{let{className:e,label:t,props:{onClick:n,selected:o},value:r}=i;return xi(2,vf,{className:e,label:t,onClick:n,selected:o,children:r})},$Te={index:0,selected:!1,className:$J},y1=(()=>{class i extends Qn{constructor(t){super(t),this.state={}}get label(){return rr(de.getFormatter("dxPager-page"),this.value)}get value(){return this.props.index+1}get className(){let{selected:t}=this.props;return Yo({[`${this.props.className}`]:!!this.props.className,[WJ]:!!t})}get restAttributes(){let t=this.props;return ri(t,zTe)}render(){let t=this.props;return jTe({props:ye({},t),label:this.label,value:this.value,className:this.className,restAttributes:this.restAttributes})}}return i.defaultProps=$Te,i})();var WTe=["pageIndexes"],UTe=["maxPagesCount","pageCount","pageIndex","pageIndexChange"];var GTe=i=>{let{pages:e}=i,t=e.map(n=>{let{key:o,pageProps:r}=n;return r?xi(2,y1,{index:r.index,selected:r.selected,onClick:r.onClick},o):dn(1,"div","dx-separator",". . .",16,null,o)});return Zr(t,0)};function YJ(i,e,t){return i===1?"high":i+e===t-1?"low":"both"}function ZJ(i,e,t){let n=[],o=[];switch(t){case"none":n=[...i];break;case"both":n=[0,"low",...i,"high",e-1],o=i.slice(1,-1);break;case"high":n=[0,...i,"high",e-1],o=i.slice(0,-1);break;case"low":n=[0,"low",...i,e-1],o=i.slice(1)}return{slidingWindowIndexes:i,indexesForReuse:o,pageIndexes:n}}function XJ(i,e,t,n){let o=[];for(let r=0;r<e;r+=1)o.push(r+i);return ZJ(o,t,n)}var KTe={get pageIndex(){return Jn.pageIndex},get maxPagesCount(){return Jn.maxPagesCount},get pageCount(){return Jn.pageCount}},QJ=(()=>{class i extends Qn{get config(){return this.context[To.id]?this.context[To.id]:To.defaultValue}constructor(t){super(t),this.state={},this.canReuseSlidingWindow=this.canReuseSlidingWindow.bind(this),this.generatePageIndexes=this.generatePageIndexes.bind(this),this.isSlidingWindowMode=this.isSlidingWindowMode.bind(this),this.onPageClick=this.onPageClick.bind(this)}get slidingWindowState(){let t=this.slidingWindowStateHolder;return t||{indexesForReuse:[],slidingWindowIndexes:[]}}canReuseSlidingWindow(t,n){let{indexesForReuse:o}=this.slidingWindowState,r=o.slice(-1)[0]<t-1,s=o.includes(n);return r&&s}generatePageIndexes(){let{pageCount:t,pageIndex:n}=this.props,o=0,{slidingWindowIndexes:r}=this.slidingWindowState;n===r[0]?o=n-1:n===r[r.length-1]?o=n+2-4:n<4?o=1:n>=t-4?o=t-4-1:o=n-1;let s=YJ(o,4,t),a=XJ(o,4,t,s),{pageIndexes:l}=a,d=ri(a,WTe);return this.slidingWindowStateHolder=d,l}isSlidingWindowMode(){let{maxPagesCount:t,pageCount:n}=this.props;return n<=4||n<=t}onPageClick(t){this.props.pageIndexChange(t)}get pageIndexes(){let{pageCount:t}=this.props;if(this.isSlidingWindowMode())return XJ(0,t,t,"none").pageIndexes;if(this.canReuseSlidingWindow(t,this.props.pageIndex)){let{slidingWindowIndexes:n}=this.slidingWindowState,o=YJ(n[0],4,t);return ZJ(n,t,o).pageIndexes}return this.generatePageIndexes()}get pages(){var t;let{pageIndex:n}=this.props,o=s=>{let a=s==="low"||s==="high"?null:{index:s,onClick:()=>this.onPageClick(s),selected:n===s};return{key:s.toString(),pageProps:a}};return((t=this.config)!==null&&t!==void 0&&t.rtlEnabled?[...this.pageIndexes].reverse():this.pageIndexes).map(s=>o(s))}get restAttributes(){let t=this.props;return ri(t,UTe)}render(){let t=this.props;return GTe({props:ye({},t),config:this.config,pageIndexes:this.pageIndexes,pages:this.pages,restAttributes:this.restAttributes})}}return i.defaultProps=KTe,i})();var Zh={hoverStateEnabled:!0,activeStateEnabled:!0,get focusStateEnabled(){return Ve.real().deviceType==="desktop"&&!Ve.isSimulator()}};var d_={label:"",get labelMode(){return Kn(oo())?"floating":"static"}};var qTe=["accessKey","activeStateEnabled","className","defaultValue","disabled","focusStateEnabled","height","hint","hoverStateEnabled","inputAttr","invalidValueMessage","isDirty","isValid","label","labelMode","max","min","mode","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","showSpinButtons","step","tabIndex","useLargeSpinButtons","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","visible","width"];var YTe=i=>{let{componentProps:e,restAttributes:t}=i;return ao(xi(2,Bg,ye({componentType:Fv,componentProps:e,templateNames:[]},t)))},vs=Object.create(Object.prototype,Object.assign(Object.getOwnPropertyDescriptors(fo),Object.getOwnPropertyDescriptors({defaultValue:0,isReactComponentWrapper:!0}))),XTe={get defaultValue(){return vs.defaultValue},get readOnly(){return vs.readOnly},get name(){return vs.name},get validationError(){return vs.validationError},get validationErrors(){return vs.validationErrors},get validationMessageMode(){return vs.validationMessageMode},get validationMessagePosition(){return vs.validationMessagePosition},get validationStatus(){return vs.validationStatus},get isValid(){return vs.isValid},get isDirty(){return vs.isDirty},get inputAttr(){return vs.inputAttr},get className(){return vs.className},get activeStateEnabled(){return Zh.activeStateEnabled},get disabled(){return vs.disabled},get focusStateEnabled(){return Zh.focusStateEnabled},get hoverStateEnabled(){return Zh.hoverStateEnabled},get tabIndex(){return vs.tabIndex},get visible(){return vs.visible},get label(){return d_.label},get labelMode(){return d_.labelMode},isReactComponentWrapper:!0},JJ=(()=>{class i extends Qn{constructor(t){super(t),this.state={value:this.props.value!==void 0?this.props.value:this.props.defaultValue}}get componentProps(){return ye({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value})}get restAttributes(){let t=ye({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value});return ri(t,qTe)}render(){let t=this.props;return YTe({props:ye({},t,{value:this.props.value!==void 0?this.props.value:this.state.value}),componentProps:this.componentProps,restAttributes:this.restAttributes})}}return i.defaultProps=XTe,i})();function x1(i,e){return i+10*Math.max(...e).toString().length}var ZTe=["inputAttr","pageCount","pageIndex","pageIndexChange","pagesCountText"],QTe=`${NJ}  dx-info-text`;var JTe=i=>{let{pageIndexRef:e,pagesCountText:t,props:{inputAttr:n,pageCount:o},selectLastPageIndex:r,value:s,valueChange:a,width:l}=i;return dn(1,"div","dx-light-pages",[xi(2,JJ,{className:"dx-page-index",min:1,max:Math.max(o,s),width:l,value:s,valueChange:a,inputAttr:n}),dn(1,"span",QTe,t,0),xi(2,y1,{className:"dx-pages-count",selected:!1,index:o-1,onClick:r})],4,null,null,e)},eAe={inputAttr:Object.freeze({"aria-label":de.format("dxPager-ariaPageNumber")})},tAe={get pageIndex(){return Jn.pageIndex},get pageCount(){return Jn.pageCount},get inputAttr(){return eAe.inputAttr}},eee=(()=>{class i extends br{constructor(t){super(t),this.pageIndexRef=Pn(),this.state={minWidth:10},this.updateWidth=this.updateWidth.bind(this),this.selectLastPageIndex=this.selectLastPageIndex.bind(this),this.valueChange=this.valueChange.bind(this)}createEffects(){return[new Gi(this.updateWidth,[this.state.minWidth])]}updateEffects(){var t;(t=this._effects[0])===null||t===void 0||t.update([this.state.minWidth])}updateWidth(){var t;let n=(t=this.pageIndexRef.current)===null||t===void 0?void 0:t.querySelector(".dx-page-index");this.setState(o=>({minWidth:n&&v1(n)||o.minWidth}))}get value(){return this.props.pageIndex+1}get width(){let{pageCount:t}=this.props;return x1(this.state.minWidth,[t])}get pagesCountText(){return(this.props.pagesCountText??"")||de.getFormatter("dxPager-pagesCountText")()}selectLastPageIndex(){this.props.pageIndexChange(this.props.pageCount-1)}valueChange(t){this.props.pageIndexChange(t-1)}get restAttributes(){let t=this.props;return ri(t,ZTe)}render(){let t=this.props;return JTe({props:ye({},t),pageIndexRef:this.pageIndexRef,value:this.value,width:this.width,pagesCountText:this.pagesCountText,selectLastPageIndex:this.selectLastPageIndex,valueChange:this.valueChange,restAttributes:this.restAttributes})}}return i.defaultProps=tAe,i})();var iAe=["hasKnownLastPage","isLargeDisplayMode","maxPagesCount","pageCount","pageIndex","pageIndexChange","pagesCountText","showNavigationButtons","totalCount"];var nAe=()=>de.getFormatter("dxPager-nextPage")(),oAe=()=>de.getFormatter("dxPager-prevPage")(),rAe={nextEnabledClass:"dx-navigate-button dx-next-button",prevEnabledClass:"dx-navigate-button dx-prev-button",nextDisabledClass:"dx-button-disable dx-navigate-button dx-next-button",prevDisabledClass:"dx-button-disable dx-navigate-button dx-prev-button"},sAe={next:"prev",prev:"next"},aAe=i=>{let{nextButtonProps:e,pageIndexChange:t,prevButtonProps:n,props:{isLargeDisplayMode:o,maxPagesCount:r,pageCount:s,pageIndex:a,pagesCountText:l},renderNextButton:d,renderPrevButton:c}=i;return Zr([c&&xi(2,vf,{label:oAe(),className:n.className,tabIndex:n.tabIndex,onClick:n.navigate}),o&&xi(2,QJ,{maxPagesCount:r,pageCount:s,pageIndex:a,pageIndexChange:t}),!o&&xi(2,eee,{pageCount:s,pageIndex:a,pageIndexChange:t,pagesCountText:l}),d&&xi(2,vf,{label:nAe(),className:e.className,tabIndex:e.tabIndex,onClick:e.navigate})],0)};function lAe(i){return i==="next"?1:-1}var dAe={isLargeDisplayMode:!0},cAe={get pageIndex(){return Jn.pageIndex},get maxPagesCount(){return Jn.maxPagesCount},get pageCount(){return Jn.pageCount},get hasKnownLastPage(){return Jn.hasKnownLastPage},get showNavigationButtons(){return Jn.showNavigationButtons},get totalCount(){return Jn.totalCount},get isLargeDisplayMode(){return dAe.isLargeDisplayMode}},tee=(()=>{class i extends Qn{get config(){return this.context[To.id]?this.context[To.id]:To.defaultValue}constructor(t){super(t),this.state={},this.__getterCache={},this.pageIndexChange=this.pageIndexChange.bind(this),this.getButtonProps=this.getButtonProps.bind(this),this.canNavigateToPage=this.canNavigateToPage.bind(this),this.getNextPageIndex=this.getNextPageIndex.bind(this),this.canNavigateTo=this.canNavigateTo.bind(this),this.navigateToPage=this.navigateToPage.bind(this)}pageIndexChange(t){this.canNavigateToPage(t)&&this.props.pageIndexChange(t)}getButtonProps(t){var n;let o=(n=this.config)!==null&&n!==void 0&&n.rtlEnabled?sAe[t]:t,r=this.canNavigateTo(o);return{className:rAe[`${t}${r?"Enabled":"Disabled"}Class`],tabIndex:r?0:-1,navigate:()=>this.navigateToPage(o)}}canNavigateToPage(t){return this.props.hasKnownLastPage?t>=0&&t<=this.props.pageCount-1:t>=0}getNextPageIndex(t){return this.props.pageIndex+lAe(t)}canNavigateTo(t){return this.canNavigateToPage(this.getNextPageIndex(t))}navigateToPage(t){this.pageIndexChange(this.getNextPageIndex(t))}get renderPrevButton(){let{isLargeDisplayMode:t,showNavigationButtons:n}=this.props;return!t||n}get renderNextButton(){return this.renderPrevButton||!this.props.hasKnownLastPage}get prevButtonProps(){return this.__getterCache.prevButtonProps!==void 0?this.__getterCache.prevButtonProps:this.__getterCache.prevButtonProps=this.getButtonProps("prev")}get nextButtonProps(){return this.__getterCache.nextButtonProps!==void 0?this.__getterCache.nextButtonProps:this.__getterCache.nextButtonProps=this.getButtonProps("next")}get restAttributes(){let t=this.props;return ri(t,iAe)}componentWillUpdate(t,n,o){(this.context[To.id]!==o[To.id]||this.props.hasKnownLastPage!==t.hasKnownLastPage||this.props.pageCount!==t.pageCount||this.props.pageIndex!==t.pageIndex||this.props.pageIndexChange!==t.pageIndexChange)&&(this.__getterCache.prevButtonProps=void 0),(this.context[To.id]!==o[To.id]||this.props.hasKnownLastPage!==t.hasKnownLastPage||this.props.pageCount!==t.pageCount||this.props.pageIndex!==t.pageIndex||this.props.pageIndexChange!==t.pageIndexChange)&&(this.__getterCache.nextButtonProps=void 0)}render(){let t=this.props;return aAe({props:ye({},t),config:this.config,pageIndexChange:this.pageIndexChange,renderPrevButton:this.renderPrevButton,renderNextButton:this.renderNextButton,prevButtonProps:this.prevButtonProps,nextButtonProps:this.nextButtonProps,restAttributes:this.restAttributes})}}return i.defaultProps=cAe,i})();var uAe=["accessKey","activeStateEnabled","className","dataSource","defaultValue","disabled","displayExpr","focusStateEnabled","height","hint","hoverStateEnabled","inputAttr","isDirty","isValid","label","labelMode","name","onClick","onFocusIn","onKeyDown","placeholder","readOnly","rtlEnabled","searchEnabled","tabIndex","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","valueExpr","visible","width"],hAe=i=>{let{componentProps:e,restAttributes:t}=i;return ao(xi(2,Bg,ye({componentType:Yg,componentProps:e,templateNames:["dropDownButtonTemplate","groupTemplate","itemTemplate"]},t)))},Pr=Object.create(Object.prototype,Object.assign(Object.getOwnPropertyDescriptors(fo),Object.getOwnPropertyDescriptors({placeholder:"",hoverStateEnabled:!0,searchEnabled:!1,defaultValue:null,isReactComponentWrapper:!0}))),pAe={get placeholder(){return Pr.placeholder},get hoverStateEnabled(){return Zh.hoverStateEnabled},get searchEnabled(){return Pr.searchEnabled},get defaultValue(){return Pr.defaultValue},get readOnly(){return Pr.readOnly},get name(){return Pr.name},get validationError(){return Pr.validationError},get validationErrors(){return Pr.validationErrors},get validationMessageMode(){return Pr.validationMessageMode},get validationMessagePosition(){return Pr.validationMessagePosition},get validationStatus(){return Pr.validationStatus},get isValid(){return Pr.isValid},get isDirty(){return Pr.isDirty},get inputAttr(){return Pr.inputAttr},get className(){return Pr.className},get activeStateEnabled(){return Zh.activeStateEnabled},get disabled(){return Pr.disabled},get focusStateEnabled(){return Zh.focusStateEnabled},get tabIndex(){return Pr.tabIndex},get visible(){return Pr.visible},get label(){return d_.label},get labelMode(){return d_.labelMode},isReactComponentWrapper:!0},iee=(()=>{class i extends Qn{constructor(t){super(t),this.state={value:this.props.value!==void 0?this.props.value:this.props.defaultValue}}get componentProps(){return ye({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value})}get restAttributes(){let t=ye({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value});return ri(t,uAe)}render(){let t=this.props;return hAe({props:ye({},t,{value:this.props.value!==void 0?this.props.value:this.state.value}),componentProps:this.componentProps,restAttributes:this.restAttributes})}}return i.defaultProps=pAe,i})();var fAe=["inputAttr","pageSize","pageSizeChange","pageSizes","parentRef"],mAe=i=>{let{props:{inputAttr:e,pageSize:t,pageSizeChange:n,pageSizes:o},width:r}=i;return xi(2,iee,{displayExpr:"text",valueExpr:"value",dataSource:o,value:t,valueChange:n,width:r,inputAttr:e})},gAe={inputAttr:Object.freeze({"aria-label":de.format("dxPager-ariaPageSize")})},_Ae={get pageSize(){return Jn.pageSize},get inputAttr(){return gAe.inputAttr}},nee=(()=>{class i extends br{constructor(t){super(t),this.state={minWidth:10},this.updateWidth=this.updateWidth.bind(this)}createEffects(){return[new Gi(this.updateWidth,[this.props,this.state.minWidth,this.props.pageSize,this.props.pageSizeChange,this.props.pageSizes,this.props.inputAttr])]}updateEffects(){var t;(t=this._effects[0])===null||t===void 0||t.update([this.props,this.state.minWidth,this.props.pageSize,this.props.pageSizeChange,this.props.pageSizes,this.props.inputAttr])}updateWidth(){this.setState(t=>({minWidth:v1(this.props.parentRef.current)||t.minWidth}))}get width(){return x1(this.state.minWidth,this.props.pageSizes.map(t=>t.value))}get restAttributes(){let t=this.props;return ri(t,fAe)}render(){let t=this.props;return mAe({props:ye({},t),width:this.width,restAttributes:this.restAttributes})}}return i.defaultProps=_Ae,i})();var bAe=["pageSize","pageSizeChange","pageSizes"],vAe=i=>{let{pageSizesText:e}=i;return Zr(e.map(t=>{let{className:n,click:o,label:r,text:s}=t;return xi(2,vf,{className:n,label:r,onClick:o,children:s},s)}),0)};var yAe={get pageSize(){return Jn.pageSize}},oee=(()=>{class i extends Qn{constructor(t){super(t),this.state={},this.__getterCache={},this.onPageSizeChange=this.onPageSizeChange.bind(this)}get pageSizesText(){return this.__getterCache.pageSizesText!==void 0?this.__getterCache.pageSizesText:this.__getterCache.pageSizesText=(()=>{let{pageSize:t,pageSizes:n}=this.props;return n.map((o,r)=>{let{text:s,value:a}=o;return{className:Yo({[a===t?KJ:UJ]:!0,[qJ]:r===0}),click:this.onPageSizeChange(a),label:rr(de.getFormatter("dxPager-pageSize"),a||de.getFormatter("dxPager-pageSizesAllText")),text:s}})})()}onPageSizeChange(t){return()=>(this.props.pageSizeChange(t),this.props.pageSize)}get restAttributes(){let t=this.props;return ri(t,bAe)}componentWillUpdate(t,n,o){(this.props.pageSize!==t.pageSize||this.props.pageSizes!==t.pageSizes||this.props.pageSizeChange!==t.pageSizeChange)&&(this.__getterCache.pageSizesText=void 0)}render(){let t=this.props;return vAe({props:ye({},t),pageSizesText:this.pageSizesText,restAttributes:this.restAttributes})}}return i.defaultProps=yAe,i})();var xAe=["isLargeDisplayMode","pageSize","pageSizeChange","pageSizes","rootElementRef"],CAe=i=>{let{htmlRef:e,normalizedPageSizes:t,props:{isLargeDisplayMode:n,pageSize:o,pageSizeChange:r}}=i;return dn(1,"div",GJ,[n&&xi(2,oee,{pageSizes:t,pageSize:o,pageSizeChange:r}),!n&&xi(2,nee,{parentRef:e,pageSizes:t,pageSize:o,pageSizeChange:r})],0,null,null,e)};function wAe(){return de.getFormatter("dxPager-pageSizesAllText")()}var SAe={isLargeDisplayMode:!0},EAe={get pageSize(){return Jn.pageSize},get pageSizes(){return Jn.pageSizes},get isLargeDisplayMode(){return SAe.isLargeDisplayMode}},ree=(()=>{class i extends br{constructor(t){super(t),this.state={},this.htmlRef=Pn(),this.__getterCache={},this.setRootElementRef=this.setRootElementRef.bind(this)}createEffects(){return[new Gi(this.setRootElementRef,[])]}setRootElementRef(){let{rootElementRef:t}=this.props;t&&(t.current=this.htmlRef.current)}get normalizedPageSizes(){return this.__getterCache.normalizedPageSizes!==void 0?this.__getterCache.normalizedPageSizes:this.__getterCache.normalizedPageSizes=(()=>{let{pageSizes:t}=this.props;return t.map(n=>n==="all"||n===0?{text:wAe(),value:0}:{text:String(n),value:n})})()}get restAttributes(){let t=this.props;return ri(t,xAe)}componentWillUpdate(t,n,o){super.componentWillUpdate(),this.props.pageSizes!==t.pageSizes&&(this.__getterCache.normalizedPageSizes=void 0)}render(){let t=this.props;return CAe({props:ye({},t),htmlRef:this.htmlRef,normalizedPageSizes:this.normalizedPageSizes,restAttributes:this.restAttributes})}}return i.defaultProps=EAe,i})();var OAe=["className","displayMode","gridCompatibility","hasKnownLastPage","infoText","infoTextRef","infoTextVisible","isLargeDisplayMode","label","lightModeEnabled","maxPagesCount","onKeyDown","pageCount","pageIndex","pageIndexChange","pageSize","pageSizeChange","pageSizes","pageSizesRef","pagesCountText","pagesNavigatorVisible","pagesRef","rootElementRef","rtlEnabled","showInfo","showNavigationButtons","showPageSizes","totalCount","visible"],IAe=i=>{let{aria:e,classes:t,infoVisible:n,isLargeDisplayMode:o,pageIndexSelectorVisible:r,pagesContainerVisibility:s,pagesContainerVisible:a,props:{hasKnownLastPage:l,infoText:d,infoTextRef:c,maxPagesCount:u,pageCount:h,pageIndex:f,pageIndexChange:p,pageSize:m,pageSizeChange:g,pageSizes:b,pageSizesRef:x,pagesCountText:E,pagesRef:D,rtlEnabled:L,showNavigationButtons:k,showPageSizes:R,totalCount:N,visible:z},restAttributes:V,widgetRootElementRef:S}=i;return ao(xi(2,Sg,ye({rootElementRef:S,rtlEnabled:L,classes:t,visible:z,aria:e},V,{children:[R&&xi(2,ree,{rootElementRef:x,isLargeDisplayMode:o,pageSize:m,pageSizeChange:g,pageSizes:b}),a&&dn(1,"div",zJ,[n&&xi(2,BJ,{rootElementRef:c,infoText:d,pageCount:h,pageIndex:f,totalCount:N}),r&&dn(1,"div",jJ,xi(2,tee,{hasKnownLastPage:l,isLargeDisplayMode:o,maxPagesCount:u,pageCount:h,pageIndex:f,pageIndexChange:p,pagesCountText:E,showNavigationButtons:k,totalCount:N}),2,null,null,D)],0,{style:yg({visibility:s})})]})))},DAe=Object.create(Object.prototype,Object.assign(Object.getOwnPropertyDescriptors(Jn),Object.getOwnPropertyDescriptors({infoTextVisible:!0,isLargeDisplayMode:!0}))),see=(()=>{class i extends br{constructor(t){super(t),this.state={},this.widgetRootElementRef=Pn(),this.__getterCache={},this.setRootElementRef=this.setRootElementRef.bind(this),this.createFakeInstance=this.createFakeInstance.bind(this)}createEffects(){return[new Gi(this.setRootElementRef,[])]}getChildContext(){return ye({},this.context,{[bf.id]:this.keyboardAction||bf.defaultValue})}setRootElementRef(){let{rootElementRef:t}=this.props;t&&(t.current=this.widgetRootElementRef.current)}createFakeInstance(){return{option:()=>!1,element:()=>this.widgetRootElementRef.current,_createActionByOption:()=>t=>{var n,o;(n=(o=this.props).onKeyDown)===null||n===void 0||n.call(o,t)}}}get keyboardAction(){return this.__getterCache.keyboardAction!==void 0?this.__getterCache.keyboardAction:this.__getterCache.keyboardAction={registerKeyboardAction:(t,n)=>{let o=this.createFakeInstance();return oO("pager",o,t,void 0,n)}}}get infoVisible(){let{infoTextVisible:t,showInfo:n}=this.props;return n&&t}get pageIndexSelectorVisible(){return this.props.pageSize!==0}get normalizedDisplayMode(){let{displayMode:t,lightModeEnabled:n}=this.props;return t==="adaptive"&&n!==void 0?n?"compact":"full":t}get pagesContainerVisible(){return!!this.props.pagesNavigatorVisible&&this.props.pageCount>0}get pagesContainerVisibility(){if(this.props.pagesNavigatorVisible==="auto"&&this.props.pageCount===1&&this.props.hasKnownLastPage)return"hidden"}get isLargeDisplayMode(){let t=this.normalizedDisplayMode,n=!1;return t==="adaptive"?n=this.props.isLargeDisplayMode:n=t==="full",n}get classes(){let t={[`${this.props.className}`]:!!this.props.className,[VJ]:!0,[HJ]:!this.isLargeDisplayMode};return Yo(t)}get aria(){return{role:"navigation",label:this.props.label}}get restAttributes(){let t=this.props;return ri(t,OAe)}componentWillUpdate(t,n,o){super.componentWillUpdate(),this.props.onKeyDown!==t.onKeyDown&&(this.__getterCache.keyboardAction=void 0)}render(){let t=this.props;return IAe({props:ye({},t),widgetRootElementRef:this.widgetRootElementRef,keyboardAction:this.keyboardAction,infoVisible:this.infoVisible,pageIndexSelectorVisible:this.pageIndexSelectorVisible,pagesContainerVisible:this.pagesContainerVisible,pagesContainerVisibility:this.pagesContainerVisibility,isLargeDisplayMode:this.isLargeDisplayMode,classes:this.classes,aria:this.aria,restAttributes:this.restAttributes})}}return i.defaultProps=DAe,i})();var TAe=["className","defaultPageIndex","defaultPageSize","displayMode","gridCompatibility","hasKnownLastPage","infoText","label","lightModeEnabled","maxPagesCount","onKeyDown","pageCount","pageIndex","pageIndexChange","pageSize","pageSizeChange","pageSizes","pagesCountText","pagesNavigatorVisible","rtlEnabled","showInfo","showNavigationButtons","showPageSizes","totalCount","visible"],AAe=i=>{let{pagerProps:e,restAttributes:t}=i;return ao(xi(2,PJ,ye({contentTemplate:see,pagerProps:e},t)))},aee=(()=>{class i extends za{constructor(t){super(t),this.__getterCache={},this.state={pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.props.defaultPageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.props.defaultPageIndex},this.pageIndexChange=this.pageIndexChange.bind(this),this.pageSizeChange=this.pageSizeChange.bind(this)}createEffects(){return[bd()]}pageIndexChange(t){if(this.props.gridCompatibility){let n;this.setState(o=>(n=t+1,{pageIndex:n})),this.props.pageIndexChange(n)}else{let n;this.setState(o=>(n=t,{pageIndex:n})),this.props.pageIndexChange(n)}}get pageIndex(){return this.props.gridCompatibility?(this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex)-1:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex}pageSizeChange(t){{let n;this.setState(o=>(n=t,{pageSize:n})),this.props.pageSizeChange(n)}}get className(){return this.props.gridCompatibility?Yo({"dx-datagrid-pager":!0,[`${this.props.className}`]:!!this.props.className}):this.props.className}get pagerProps(){return this.__getterCache.pagerProps!==void 0?this.__getterCache.pagerProps:this.__getterCache.pagerProps=ye({},ye({},this.props,{pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.state.pageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex}),{className:this.className,pageIndex:this.pageIndex,pageIndexChange:t=>this.pageIndexChange(t),pageSizeChange:t=>this.pageSizeChange(t)})}get restAttributes(){let t=ye({},this.props,{pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.state.pageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex});return ri(t,TAe)}componentWillUpdate(t,n,o){super.componentWillUpdate(),(this.props!==t||this.props.gridCompatibility!==t.gridCompatibility||this.props.className!==t.className||this.state.pageIndex!==n.pageIndex||this.props.pageIndex!==t.pageIndex||this.props.pageIndexChange!==t.pageIndexChange||this.props.pageSizeChange!==t.pageSizeChange)&&(this.__getterCache.pagerProps=void 0)}render(){let t=this.props;return AAe({props:ye({},t,{pageSize:this.props.pageSize!==void 0?this.props.pageSize:this.state.pageSize,pageIndex:this.props.pageIndex!==void 0?this.props.pageIndex:this.state.pageIndex}),pageIndexChange:this.pageIndexChange,pageIndex:this.pageIndex,pageSizeChange:this.pageSizeChange,className:this.className,pagerProps:this.pagerProps,restAttributes:this.restAttributes})}}return i.defaultProps=LJ,i})();var _y=class extends b1{getProps(){let e=super.getProps();return e.onKeyDown=this._wrapKeyDownHandler(e.onKeyDown),e}get _propsInfo(){return{twoWay:[["pageSize","defaultPageSize","pageSizeChange"],["pageIndex","defaultPageIndex","pageIndexChange"]],allowNull:[],elements:[],templates:[],props:["defaultPageSize","pageSizeChange","defaultPageIndex","pageIndexChange","gridCompatibility","className","showInfo","infoText","lightModeEnabled","displayMode","maxPagesCount","pageCount","pagesCountText","visible","hasKnownLastPage","pagesNavigatorVisible","showPageSizes","pageSizes","rtlEnabled","showNavigationButtons","totalCount","label","onKeyDown","pageSize","pageIndex"]}}get _viewComponent(){return aee}};ut("dxPager",_y);var lee=_y;var dee=function(i){return 1+(parseInt(i.pageIndex())||0)},wB=class extends li.View{init(){let e=this.getController("data");e.changed.add(t=>{if(t&&t.repaintChangesOnly){let n=this._pager;n?n.option({pageIndex:dee(e),pageSize:e.pageSize(),pageCount:e.pageCount(),totalCount:e.totalCount(),hasKnownLastPage:e.hasKnownLastPage()}):this.render()}else(!t||t.changeType!=="update"&&t.changeType!=="updateSelection"&&t.changeType!=="updateFocusedRow")&&(this._pager=null,this.render())})}dispose(){this._pager=null}optionChanged(e){let{name:t}=e,n=t==="pager",o=t==="paging",r=t==="dataSource",s=t==="scrolling",a=this.getController("data");if(n||o||s||r){if(e.handled=!0,a.skipProcessingPagingChange(e.fullName))return;(n||o)&&(this._pageSizes=null),r||(this._pager=null,this._invalidate(),it()&&n&&this.component&&this.component.resize())}}_renderCore(){let e=this,t=e.element().addClass(e.addWidgetPrefix("pager")),n=e.option("pager")??{},o=e.getController("data"),r=e.getController("keyboardNavigation"),s={maxPagesCount:10,pageIndex:dee(o),pageCount:o.pageCount(),pageSize:o.pageSize(),showPageSizes:n.showPageSizeSelector,showInfo:n.showInfo,displayMode:n.displayMode,pagesNavigatorVisible:n.visible,showNavigationButtons:n.showNavigationButtons,label:n.label,pageSizes:e.getPageSizes(),totalCount:o.totalCount(),hasKnownLastPage:o.hasKnownLastPage(),pageIndexChanged(a){o.pageIndex()!==a-1&&o.pageIndex(a-1)},pageSizeChanged(a){o.pageSize(a)},onKeyDown:a=>r&&r.executeAction("onKeyDown",a),useLegacyKeyboardNavigation:this.option("useLegacyKeyboardNavigation"),useKeyboard:this.option("keyboardNavigation.enabled")};if(U(n.infoText)&&(s.infoText=n.infoText),this._pager){this._pager.repaint();return}it()?this._pager=e._createComponent(t,lee,s):t.addClass("dx-pager").html('<div class="dx-pages"><div class="dx-page"></div></div>')}getPager(){return this._pager}getPageSizes(){let e=this,t=e.getController("data"),n=e.option("pager"),o=n&&n.allowedPageSizes,r=t.pageSize();return(!U(e._pageSizes)||!e._pageSizes.includes(r))&&(e._pageSizes=[],n&&(Array.isArray(o)?e._pageSizes=o:o&&r>1&&(e._pageSizes=[Math.floor(r/2),r,2*r]))),e._pageSizes}isVisible(){let e=this.getController("data"),t=this.option("pager"),n=t&&t.visible,o=this.option("scrolling");return n==="auto"&&(o&&(o.mode==="virtual"||o.mode==="infinite")?n=!1:n=e.pageCount()>1||e.isLoaded()&&!e.hasKnownLastPage()),!!n}getHeight(){return this.getElementHeight()}},cee={defaultOptions:()=>({pager:{visible:"auto",showPageSizeSelector:!1,allowedPageSizes:"auto",label:de.format("dxPager-ariaLabel")}}),views:{pagerView:wB}};qe.registerModule("pager",cee);var uee="columns-separator-transparent";var Hs="dxDataGridResizingReordering";var by=function(i){return i.option("allowColumnResizing")||i.getController("columns").isColumnOptionUsed("allowResizing")},hee=function(i){return i.option("allowColumnReordering")||i.getController("columns").isColumnOptionUsed("allowReordering")},EB=class extends li.View{init(){super.init(),this._tablePositionController=this.getController("tablePosition"),this._subscribeToCallback()}dispose(){this._unsubscribeFromCallback(),super.dispose()}optionChanged(e){e.name==="allowColumnResizing"&&(this._unsubscribeFromCallback(),e.value&&(this._subscribeToCallback(),this._invalidate())),super.optionChanged(e)}_renderCore(){let e=super._renderCore();return this.element().addClass(this.addWidgetPrefix("tracker")),this.hide(),e}_unsubscribeFromCallback(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)}_subscribeToCallback(){let e=this;e._positionChanged=function(t){let n=e.element();n&&n.hasClass(e.addWidgetPrefix("tracker"))&&(n.css({top:t.top}),Ia(n,t.height))},this._tablePositionController.positionChanged.add(e._positionChanged)}isVisible(){return by(this)}show(){this.element().show()}hide(){this.element()&&this.element().hide()}setHeight(e){Ia(this.element(),e)}},C1=class extends li.View{_renderSeparator(){}_renderCore(e){let t=super._renderCore(e);return this._isShown=!0,this._renderSeparator(),this.hide(),t}show(){this._isShown=!0}hide(){this._isShown=!1}height(e){let t=this.element();if(t)if(U(e))Ia(t,e);else return ft(t)}width(e){let t=this.element();if(t)if(U(e))$m(t,e);else return Qe(t)}},OB=class extends C1{init(){super.init(),this._tablePositionController=this.getController("tablePosition"),this._init()}dispose(){this._unsubscribeFromCallback(),super.dispose()}optionChanged(e){e.name==="allowColumnResizing"&&(e.value?(this._init(),this._invalidate(),this.hide(!0)):(this._unsubscribeFromCallback(),this._isTransparent=by(this),this.hide(!0))),super.optionChanged(e)}_renderSeparator(){super._renderSeparator(),this.element().addClass(this.addWidgetPrefix("columns-separator"))}_subscribeToCallback(){let e=this,t;e._positionChanged=function(n){t=e.element(),t&&(t.css({top:n.top}),Ia(t,n.height))},e._tablePositionController.positionChanged.add(e._positionChanged)}_unsubscribeFromCallback(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)}_init(){this._isTransparent=by(this),this.isVisible()&&this._subscribeToCallback()}isVisible(){return this.option("showColumnHeaders")&&(hee(this)||by(this))}show(){let e=this,t=this.element();t&&!e._isShown&&(e._isTransparent?t.removeClass(e.addWidgetPrefix(uee)):t.show()),super.show()}hide(e){let t=this.element(),n=this.addWidgetPrefix(uee);t&&(this._isShown||e)&&(this._isTransparent?(t.addClass(n),t.css("left",""),t.show()):(t.hasClass(n)&&t.removeClass(n),t.hide())),super.hide()}moveByX(e){let t=this.element();t&&t.css("left",e===null?0:e-this._parentElement().offset().left)}changeCursor(e){e=U(e)?e:"";let t=this.element();t&&t.css("cursor",e)}},IB=class extends C1{init(){super.init(),this.getController("data").loadingChanged.add(t=>{t||this.hide()})}_renderSeparator(){super._renderSeparator(),this.element().addClass("dx-block-separator").html("&nbsp;")}hide(){let e=this,t=this._parentElement(),n=this.element();n&&this._isShown&&n.css("display","none"),t&&!t.children(".dx-block-separator").length&&t.prepend(e.element()),super.hide()}isVisible(){let e=this.option("groupPanel"),t=this.option("columnChooser");return e&&e.visible||t&&t.enabled}show(e){let t=this.element();if(t&&!this._isShown)switch(e){case"group":this.element().css("display","block");break;case"columnChooser":(function(n){hn.stop(t,!0),hn.animate(t,{type:"slide",from:{width:0,display:n.display},to:n,duration:300,easing:"swing"})})({width:"100%",display:"block"});break;default:t.css("display","")}super.show()}},DB=class extends li.View{init(){super.init();let e=this.getController("data");this._controller=this.getController("draggingHeader"),this._columnsResizerViewController=this.getController("columnsResizer"),this._columnsController=this.getController("columns"),this._isDragging=!1,e.loadingChanged.add(t=>{let n=this.element();!t&&n&&n.hide()})}isDragging(){return this._isDragging}_getDraggingPanelByPos(e){let t;return ee(this._dragOptions.draggingPanels,(n,o)=>{if(o){let r=o.getBoundingRect();if(r&&(r.bottom===void 0||e.y<r.bottom)&&(r.top===void 0||e.y>r.top)&&(r.left===void 0||e.x>r.left)&&(r.right===void 0||e.x<r.right))return t=o,!1}}),t}_renderCore(){this.element().addClass(`${this.addWidgetPrefix("drag-header")} ${this.addWidgetPrefix("text-content")} dx-widget`).hide()}_resetTargetColumnOptions(){let e=this._dropOptions;e.targetColumnIndex=-1,delete e.targetColumnElement,delete e.isLast,delete e.posX,delete e.posY}_getVisibleIndexObject(e,t){return U(e)?{columnIndex:t,rowIndex:e}:t}dispose(){let e=this.element();this._dragOptions=null,e&&e.parent().find(`.${this.addWidgetPrefix("drag-header")}`).remove()}isVisible(){let e=this._columnsController.getCommonSettings();return this.option("showColumnHeaders")&&(hee(this)||e.allowGrouping||e.allowHiding)}dragHeader(e){let{columnElement:t}=e,n=!!e.sourceColumn.type;this._isDragging=!0,this._dragOptions=e,this._dropOptions={sourceIndex:e.index,sourceColumnIndex:this._getVisibleIndexObject(e.rowIndex,e.columnIndex),sourceColumnElement:e.columnElement,sourceLocation:e.sourceLocation};let o=be.getDocument();this._onSelectStart=o.onselectstart,o.onselectstart=function(){return!1},this._controller.drag(this._dropOptions),this.element().css({textAlign:t&&t.css("textAlign"),height:t&&(n&&t.get(0).clientHeight||ft(t)),width:t&&(n&&t.get(0).clientWidth||Qe(t)),whiteSpace:t&&t.css("whiteSpace")}).addClass(this.addWidgetPrefix("drag-action")).toggleClass("dx-drag-command-cell",n).text(n?"":e.sourceColumn.caption),this.element().appendTo(xS.getSwatchContainer(t))}moveHeader(e){let t=e.event,{that:n}=t.data,o=On(t),r=n._columnsResizerViewController?n._columnsResizerViewController.isResizing():!1,s=n._dragOptions;if(n._isDragging&&!r){let a=n.element(),l=Math.abs(o.x-s.columnElement.offset().left-s.deltaX),d=Math.abs(o.y-s.columnElement.offset().top-s.deltaY);if(a.is(":visible")||l>5||d>5){a.show();let c=o.x-s.deltaX,u=o.y-s.deltaY;a.css({left:c,top:u}),n.dockHeader(o)}t.preventDefault()}}dockHeader(e){let t=this,n=t._getDraggingPanelByPos(e),o=t._controller,r=t._dropOptions,s=t._dragOptions;if(n){let a=t.option("rtlEnabled"),l=n.getName()==="columnChooser",d=l?"y":"x",c=n.getName(),u=c==="headers"?s.rowIndex:void 0,{sourceColumn:h}=s,f=n.getColumnElements(u,h?.ownerBand)||[],p=s.pointsByTarget=s.pointsByTarget||{},m=c==="columnChooser"?[]:p[c]||o._generatePointsByColumns(q({},s,{targetDraggingPanel:n,columns:n.getColumns(u),columnElements:f,isVerticalOrientation:l,startColumnIndex:c==="headers"&&I(f[0]).index()}));if(p[c]=m,r.targetLocation=c,m.length>0)for(let g=0;g<m.length;g++){let b=m[g+1]&&(m[g][d]+m[g+1][d])/2;if(b===void 0||(a&&d==="x"?e[d]>b:e[d]<b)){r.targetColumnIndex=t._getVisibleIndexObject(u,m[g].columnIndex),f[g]?(r.targetColumnElement=f.eq(g),r.isLast=!1):(r.targetColumnElement=f.last(),r.isLast=!0),r.posX=m[g].x,r.posY=m[g].y,o.dock(r);break}}else t._resetTargetColumnOptions(),o.dock(r)}}dropHeader(e){let t=e.event,{that:n}=t.data,o=n._controller;n.element().hide(),o&&n._isDragging&&o.drop(n._dropOptions),n.element().appendTo(n._parentElement()),n._dragOptions=null,n._dropOptions=null,n._isDragging=!1,be.getDocument().onselectstart=n._onSelectStart||null}},SB=function(i){return i.option("columnResizingMode")!=="widget"},TB=class extends li.ViewController{init(){this._subscribesToCallbacks=[],by(this)&&this._init()}dispose(){this._unsubscribes(),super.dispose()}optionChanged(e){super.optionChanged(e),e.name==="allowColumnResizing"&&(e.value?(this._init(),this._subscribeToEvents()):this._unsubscribes())}_isHeadersRowArea(e){if(this._columnHeadersView){let t=this._columnHeadersView.element();if(t){let n=t.offset().top,o=this._columnHeadersView.getHeadersRowHeight();return e>=n&&e<=n+o}}return!1}_isRtlParentStyle(){var e;return this.option("rtlEnabled")&&((e=this._$parentContainer)===null||e===void 0?void 0:e.parent().css("direction"))==="rtl"}_pointCreated(e,t,n){let o=SB(this),r=this.option("rtlEnabled"),s=this._isRtlParentStyle(),a=!o&&r&&!s?0:1;if(e.index>=a&&e.index<t+(!o&&(!r||s)?1:0)){e.columnIndex-=a;let l=n[e.columnIndex]||{},d=n[e.columnIndex+1]||{};return!(o?l.allowResizing&&d.allowResizing:l.allowResizing)}return!0}_getTargetPoint(e,t,n){if(e){for(let o=0;o<e.length;o++)if(!(e[o].x===e[0].x&&e[o+1]&&e[o].x===e[o+1].x)&&e[o].x-n<=t&&t<=e[o].x+n)return e[o]}return null}_moveSeparator(e){var t;let n=e.event,o=n.data,r=o._columnsSeparatorView.width(),s=SB(o),a=r/2,l=o._$parentContainer.offset(),d=l.left,c=On(n),u=o.option("rtlEnabled"),h=this._isRtlParentStyle(),f=(t=o._draggingHeaderView)===null||t===void 0?void 0:t.isDragging();if(o._isResizing&&o._resizingInfo){if((d<=c.x||!s&&h)&&(!s||c.x<=d+Qe(o._$parentContainer))&&o._updateColumnsWidthIfNeeded(c.x)){let p=o._columnHeadersView.getColumnElements().eq(o._resizingInfo.currentColumnIndex),m=p[0];if(m){let g=m.getBoundingClientRect().width;o._columnsSeparatorView.moveByX(p.offset().left+((s||h)&&u?0:g)),o._tablePositionController.update(o._targetPoint.y),n.preventDefault()}}}else f||(o._isHeadersRowArea(c.y)?(o._previousParentOffset&&(o._previousParentOffset.left!==l.left||o._previousParentOffset.top!==l.top)&&o.pointsByColumns(null),o._targetPoint=o._getTargetPoint(o.pointsByColumns(),c.x,r),o._previousParentOffset=l,o._isReadyResizing=!1,o._targetPoint?(o._columnsSeparatorView.changeCursor("col-resize"),o._columnsSeparatorView.moveByX(o._targetPoint.x-a),o._tablePositionController.update(o._targetPoint.y),o._isReadyResizing=!0,n.preventDefault()):(o._columnsSeparatorView.changeCursor(),o._columnsSeparatorView.moveByX(null))):(o.pointsByColumns(null),o._isReadyResizing=!1,o._columnsSeparatorView.changeCursor(),o._columnsSeparatorView.moveByX(null)))}_endResizing(e){let n=e.event.data;n._isResizing&&(n.pointsByColumns(null),n._resizingInfo=null,n._columnsSeparatorView.hide(),n._columnsSeparatorView.changeCursor(),n._trackerView.hide(),n._isReadyResizing=!1,n._isResizing=!1)}_getNextColumnIndex(e){return e+1}_setupResizingInfo(e){let t=this._targetPoint.columnIndex,n=this._getNextColumnIndex(t),o=this._columnHeadersView.getHeaderElement(t),r=this._columnHeadersView.getHeaderElement(n);this._resizingInfo={startPosX:e,currentColumnIndex:t,currentColumnWidth:o&&o.length>0?un(o[0]).width:0,nextColumnIndex:n,nextColumnWidth:r&&r.length>0?un(r[0]).width:0}}_startResizing(e){let t=e.event,n=t.data,o=On(t);if(Ec(t)&&(n._isHeadersRowArea(o.y)?(n._targetPoint=n._getTargetPoint(n.pointsByColumns(),o.x,10),n._targetPoint&&(n._columnsSeparatorView.moveByX(n._targetPoint.x-n._columnsSeparatorView.width()/2),n._isReadyResizing=!0)):n._isReadyResizing=!1),n._isReadyResizing){n._setupResizingInfo(o.x),n._isResizing=!0,n._tablePositionController.update(n._targetPoint.y),n._columnsSeparatorView.show(),n._trackerView.show();let r=n.component.getScrollable();r&&n._isRtlParentStyle()&&(n._scrollRight=Qe(r.$content())-Qe(r.container())-r.scrollLeft()),t.preventDefault(),t.stopPropagation()}this.isResizing()&&this._editorFactoryController.loseFocus()}_generatePointsByColumns(){let e=this,t=e._columnsController?e._columnsController.getVisibleColumns():[],n=e._columnHeadersView.getColumnElements(),o=[];n&&n.length>0&&(o=De.getPointsByColumns(n,r=>e._pointCreated(r,n.length,t))),e._pointsByColumns=o}_unsubscribeFromEvents(){this._moveSeparatorHandler&&X.off(be.getDocument(),Se(Mt.move,Hs),this._moveSeparatorHandler),this._startResizingHandler&&X.off(this._$parentContainer,Se(Mt.down,Hs),this._startResizingHandler),this._endResizingHandler&&(X.off(this._columnsSeparatorView.element(),Se(Mt.up,Hs),this._endResizingHandler),X.off(be.getDocument(),Se(Mt.up,Hs),this._endResizingHandler))}_subscribeToEvents(){this._moveSeparatorHandler=this.createAction(this._moveSeparator),this._startResizingHandler=this.createAction(this._startResizing),this._endResizingHandler=this.createAction(this._endResizing),X.on(be.getDocument(),Se(Mt.move,Hs),this,this._moveSeparatorHandler),X.on(this._$parentContainer,Se(Mt.down,Hs),this,this._startResizingHandler),X.on(this._columnsSeparatorView.element(),Se(Mt.up,Hs),this,this._endResizingHandler),X.on(be.getDocument(),Se(Mt.up,Hs),this,this._endResizingHandler)}_updateColumnsWidthIfNeeded(e){let t,n=!1,o=this._rowsView.contentWidth(),r=this._resizingInfo,s=this._columnsController,a=s.getVisibleColumns(),l=this._columnsSeparatorView.width(),d=SB(this),c=d&&this.option("adaptColumnWidthByRatio")&&!this.option("columnAutoWidth"),u=this.option("rtlEnabled"),h=this._isRtlParentStyle(),f=a[r.currentColumnIndex],p=a[r.nextColumnIndex];function m(E){return We(E)&&E.endsWith("%")}function g(E,D,L,k){if(E){let R=E.width;R&&(k=m(R)),k?(s.columnOption(E.index,"visibleWidth",D),s.columnOption(E.index,"width",`${(D/L*100).toFixed(3)}%`)):(s.columnOption(E.index,"visibleWidth",null),s.columnOption(E.index,"width",D))}}t=e-r.startPosX,(d||h)&&u&&(t=-t);let{cellWidth:b,nextCellWidth:x}=function(E){let D,L,k,R=r.currentColumnWidth+E,N=f&&f.minWidth||l,z={};return R>=N?z.cellWidth=R:(z.cellWidth=N,k=!0),d&&(L=r.nextColumnWidth-E,D=p&&p.minWidth||l,L>=D?k?z.nextCellWidth=r.nextColumnWidth-(E+N-R):z.nextCellWidth=L:(z.nextCellWidth=D,z.cellWidth=r.currentColumnWidth+(E-D+L))),z}(t);if(n=f.width!==b,n){if(s.beginUpdate(),b=Math.floor(b),o=function(E,D){if(D.every(k=>k.width)){let k=D.reduce((R,N)=>(m(N.width)&&(R+=parseFloat(N.width)),R),0);k>100&&(E=E/k*100)}return E}(o,a),g(f,b,o,c),d)x=Math.floor(x),g(p,x,o,c);else{let E=this._columnHeadersView.getColumnWidths();if(E[r.currentColumnIndex]=b,!(E.reduce((L,k)=>L+k,0)>this._rowsView.contentWidth())){let L=De.getLastResizableColumnIndex(a);L>=0&&s.columnOption(a[L].index,"visibleWidth","auto")}for(let L=0;L<E.length;L++)a[L]&&a[L]!==f&&a[L].width===void 0&&s.columnOption(a[L].index,"width",E[L])}if(s.endUpdate(),!d){this.component.updateDimensions();let E=this.component.getScrollable();if(E&&h){let D=Qe(E.$content())-Qe(E.container())-this._scrollRight;E.scrollTo({left:D})}}}return n}_subscribeToCallback(e,t){e.add(t),this._subscribesToCallbacks.push({callback:e,handler:t})}_unsubscribeFromCallbacks(){for(let e=0;e<this._subscribesToCallbacks.length;e++){let t=this._subscribesToCallbacks[e];t.callback.remove(t.handler)}this._subscribesToCallbacks=[]}_unsubscribes(){this._unsubscribeFromEvents(),this._unsubscribeFromCallbacks()}_init(){let e=()=>{this._isResizing||this.pointsByColumns(null)},t=r=>{this._scrollLeft!==r.left&&(this._scrollLeft=r.left,this.pointsByColumns(null))};this._columnsSeparatorView=this.getView("columnsSeparatorView"),this._columnHeadersView=this.getView("columnHeadersView"),this._trackerView=this.getView("trackerView"),this._rowsView=this.getView("rowsView"),this._columnsController=this.getController("columns"),this._tablePositionController=this.getController("tablePosition"),this._editorFactoryController=this.getController("editorFactory"),this._draggingHeaderView=this.component.getView("draggingHeaderView"),this._$parentContainer=this.component.$element(),this._subscribeToCallback(this._columnHeadersView.renderCompleted,e),this._subscribeToCallback(this._columnHeadersView.resizeCompleted,e),this._subscribeToCallback(this._columnsSeparatorView.renderCompleted,()=>{this._unsubscribeFromEvents(),this._subscribeToEvents()}),this._subscribeToCallback(this._rowsView.renderCompleted,()=>{this._rowsView.scrollChanged.remove(t),this._rowsView.scrollChanged.add(t)});let n=this._rowsView.getScrollbarWidth()!==0,o=0;this._subscribeToCallback(this._tablePositionController.positionChanged,r=>{if(this._isResizing&&!this._rowsView.isResizing){let s=this._rowsView.getScrollbarWidth()!==0;n!==s||o&&o!==r.height?(n=s,o=r.height,this.component.updateDimensions()):this._rowsView.updateFreeSpaceRowHeight()}o=r.height})}isResizing(){return this._isResizing}pointsByColumns(e){if(e!==void 0)this._pointsByColumns=e;else return this._pointsByColumns||this._generatePointsByColumns(),this._pointsByColumns}},AB=class extends li.ViewController{constructor(e){super(e),this.positionChanged=Gt()}init(){super.init(),this._columnsResizerController=this.getController("columnsResizer"),this._columnHeadersView=this.getView("columnHeadersView"),this._rowsView=this.getView("rowsView"),this._pagerView=this.getView("pagerView"),this._rowsView.resizeCompleted.add(()=>{if(this.option("allowColumnResizing")){let e=this._columnsResizerController._targetPoint;this.update(e?e.y:null)}})}update(e){let t={},n=this._columnHeadersView.element(),o=n&&n.offset(),r=o&&o.top||0,s=U(e)?Math.abs(e-r):0,a=this._columnHeadersView?this._columnHeadersView.getHeight():0,l=this._rowsView.getScrollbarWidth(!0),d=this._rowsView?this._rowsView.height()-l:0,c=this.component.getView("draggingHeaderView");t.height=a,(this._columnsResizerController.isResizing()||c.isDragging())&&(t.height+=d-s),e!==null&&n&&n.length&&(t.top=n[0].offsetTop+s),this.positionChanged.fire(t)}},kB=class extends li.ViewController{init(){super.init(),this._columnsController=this.getController("columns"),this._tablePositionController=this.getController("tablePosition"),this._columnHeadersView=this.getView("columnHeadersView"),this._columnsSeparatorView=this.getView("columnsSeparatorView"),this._draggingHeaderView=this.getView("draggingHeaderView"),this._rowsView=this.getView("rowsView"),this._blockSeparatorView=this.getView("blockSeparatorView"),this._headerPanelView=this.getView("headerPanel"),this._columnChooserView=this.getView("columnChooserView");let e=()=>{if(this._draggingHeaderView){let t=[this._columnChooserView,this._columnHeadersView,this._headerPanelView];this._unsubscribeFromEvents(this._draggingHeaderView,t),this._subscribeToEvents(this._draggingHeaderView,t)}};this._columnHeadersView.renderCompleted.add(e),this._headerPanelView&&this._headerPanelView.renderCompleted.add(e),this._columnChooserView&&this._columnChooserView.renderCompleted.add(e)}dispose(){this._draggingHeaderView&&this._unsubscribeFromEvents(this._draggingHeaderView,[this._columnChooserView,this._columnHeadersView,this._headerPanelView])}_generatePointsByColumns(e){let t=this;return this.isCustomGroupColumnPosition=this.checkIsCustomGroupColumnPosition(e),De.getPointsByColumns(e.columnElements,o=>t._pointCreated(o,e.columns,e.targetDraggingPanel.getName(),e.sourceColumn),e.isVerticalOrientation,e.startColumnIndex)}checkIsCustomGroupColumnPosition(e){let t=!0;for(let n=0;n<e.columns.length;n+=1){let o=e.columns[n];if(o.command==="expand"&&!t)return!0;o.command||(t=!1)}return!1}_pointCreated(e,t,n,o){let r=t[e.columnIndex],s=t[e.columnIndex-1],a=s?.command==="expand",l=r?.command==="expand"&&s?.command!=="expand",d=o&&!o.allowReordering,c=!(r!=null&&r.allowReordering)&&!(s!=null&&s.allowReordering);switch(n){case"columnChooser":return!0;case"headers":if(d)return!0;if(!l)return a||c;if(this.isCustomGroupColumnPosition)return!1;for(;((u=t[e.columnIndex])===null||u===void 0?void 0:u.command)==="expand";){var u;e.columnIndex+=1}return!1;default:return t.length===0}}_subscribeToEvents(e,t){let n=this;ee(t,(o,r)=>{if(r){let s,a=r.getRowCount?r.getRowCount():1,l=r.getName(),d=function(c,u){if(!u)return;let h=I(u),f=s[c];f&&r.allowDragging(f)&&(h.addClass(n.addWidgetPrefix("drag-action")),X.on(h,Se(Dc,Hs),n.createAction(p=>{let m=p.event,g=On(m);e.dragHeader({deltaX:g.x-I(m.currentTarget).offset().left,deltaY:g.y-I(m.currentTarget).offset().top,sourceColumn:f,index:f.index,columnIndex:c,columnElement:h,sourceLocation:l,draggingPanels:t,rowIndex:n._columnsController.getRowIndex(f.index,!0)})})),X.on(h,Se(yl,Hs),{that:e},n.createAction(e.moveHeader)),X.on(h,Se(Tc,Hs),{that:e},n.createAction(e.dropHeader)))};for(let c=0;c<a;c++){let u=r.getColumnElements(c)||[];u.length&&(s=r.getColumns(c)||[],ee(u,d))}}})}_unsubscribeFromEvents(e,t){let n=this;ee(t,(o,r)=>{if(r){let s=r.getColumnElements()||[];ee(s,(a,l)=>{let d=I(l);X.off(d,Se(Dc,Hs)),X.off(d,Se(yl,Hs)),X.off(d,Se(Tc,Hs)),d.removeClass(n.addWidgetPrefix("drag-action"))})}})}_getSeparator(e){return e==="headers"?this._columnsSeparatorView:this._blockSeparatorView}hideSeparators(e){let t=this._blockSeparatorView,n=this._columnsSeparatorView;this._animationColumnIndex=void 0,t&&t.hide(),e!=="block"&&n&&n.hide()}allowDrop(e){return this._columnsController.allowMoveColumn(e.sourceColumnIndex,e.targetColumnIndex,e.sourceLocation,e.targetLocation)}drag(e){let{sourceIndex:t}=e,{sourceLocation:n}=e,{sourceColumnElement:o}=e,r=this._columnHeadersView,s=this._rowsView;o&&(o.css({opacity:.5}),n==="headers"&&(r&&r.setRowsOpacity(t,.5),s&&s.setRowsOpacity(t,.5)))}dock(e){let t=this,n=Ke(e.targetColumnIndex)?e.targetColumnIndex.columnIndex:e.targetColumnIndex,{sourceLocation:o}=e,{targetLocation:r}=e,s=t._getSeparator(r),a=n>=0;t._columnHeadersView.element().find(".dx-header-row").toggleClass(t.addWidgetPrefix("drop-highlight"),o!=="headers"&&r==="headers"&&!a),s&&(t.allowDrop(e)&&a?r==="group"||r==="columnChooser"?function(){t._animationColumnIndex!==n&&(t.hideSeparators(),s.element()[e.isLast?"insertAfter":"insertBefore"](e.targetColumnElement),t._animationColumnIndex=n,s.show(r))}():(t.hideSeparators("block"),t._tablePositionController.update(e.posY),s.moveByX(e.posX-s.width()),s.show()):t.hideSeparators())}drop(e){let{sourceColumnElement:t}=e;if(t&&(t.css({opacity:""}),this._columnHeadersView.setRowsOpacity(e.sourceIndex,""),this._rowsView.setRowsOpacity(e.sourceIndex,""),this._columnHeadersView.element().find(".dx-header-row").removeClass(this.addWidgetPrefix("drop-highlight"))),this.allowDrop(e)){let n=this._getSeparator(e.targetLocation);n&&n.hide(),this._columnsController.moveColumn(e.sourceColumnIndex,e.targetColumnIndex,e.sourceLocation,e.targetLocation)}}},kAe=i=>class extends i{_needUpdateRowHeight(e){let t=this.option("wordWrapEnabled"),n=this._columnsResizerController.isResizing();return super._needUpdateRowHeight.apply(this,arguments)||e>0&&!!t&&!!n}},MAe=i=>class extends i{renderFocusOverlay(){if(!this._columnsResizerController.isResizing())return super.renderFocusOverlay.apply(this,arguments)}},Qh={views:{columnsSeparatorView:OB,blockSeparatorView:IB,draggingHeaderView:DB,trackerView:EB},controllers:{draggingHeader:kB,tablePosition:AB,columnsResizer:TB},extenders:{views:{rowsView:kAe},controllers:{editorFactory:MAe}}};var Pzt=Qh.views.draggingHeaderView,Lzt=Qh.controllers.draggingHeader,Nzt=Qh.views.columnsSeparatorView,Bzt=Qh.controllers.tablePosition,Vzt=Qh.controllers.columnsResizer,Hzt=Qh.views.trackerView;qe.registerModule("columnsResizingReordering",Qh);var RAe=(i,e)=>i.length===e.length&&!Object.keys(i).some(t=>i[t]!==e[t]),FAe=(i,e)=>hi(i,e,{maxDepth:4}),PAe=(i,e,t,n)=>{let o=i,r=e;return function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return n(a,o)||(o=a,r=t(...o)),r}},LAe={compareType:"reference"},MB=function(i){let{compareType:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:LAe,t=null;return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];if(!t){let s=i(...o);return t=PAe(o,s,i,e==="reference"?RAe:FAe),s}return t(...o)}};var w1={ariaColIndex:"aria-colindex",dragCell:"dx-drag-cell"},S1="rowsview",pee="edit-form";var E1="dx-data-row",fee="dx-group-row",mee="dx-header-row",gee="edit-form-item",RB="dx-master-detail-row",O1="dx-freespace-row",_ee="dx-virtual-row",I1="dx-master-detail-cell";var bee="dx-dropdowneditor-overlay",vy="dx-command-expand",vee="dx-command-adaptive",D1="dx-command-select",FB="dx-command-edit",PB="[class^=dx-command]",yy="dx-cell-focus-disabled",yee="dxDateBox",LB="dx-state-focused",xee="dx-widget",Cee="dx-revert-button",NB="dx-focused",T1="delete",c_=`
  input:not([type="hidden"]):not([disabled]),
  textarea:not([disabled]),
  a:not([disabled]),
  select:not([disabled]),
  button:not([disabled]),
  [tabindex]:not([disabled]),
  .dx-checkbox:not([disabled],.dx-state-readonly)
`,BB=`${c_}, .dx-dropdowneditor-icon`;var VB="row",HB="cell",zB="columnHeadersView",wee="rowsView",See=["shift","control","alt"];var NAe=i=>i.attr(w1.dragCell)!==void 0,BAe=i=>[`[${w1.ariaColIndex}="${i+1}"]`,`:not([${w1.dragCell}])`,":not([aria-hidden=true])"].join(""),VAe=(i,e)=>i.filter(BAe(e)).first(),jB={isDragCell:NAe,getCellToFocus:VAe};function u_(i){return i&&i.hasClass(fee)}function Eee(i){return i&&i.hasClass("dx-datagrid-group-footer")}function Oee(i){return i&&i.hasClass(RB)}function Iee(i){return i&&i.hasClass(RB)&&i.hasClass(pee)}function h_(i){return i&&i.hasClass(E1)}function Dee(i){return!i||i.hasClass(O1)||i.hasClass(_ee)}function $B(i,e){return!i._isRowEditMode()&&e&&!e.hasClass(D1)&&e.hasClass(qh)}function ra(i){return U(i)&&i.length>0}function A1(){return Ve.current().deviceType!=="desktop"}function WB(i){return!!i.parent(`.${mee}`).length}function Tee(i,e){return i.option("rtlEnabled")?!(e.fixedPosition==="right"||U(e.command)&&!U(e.fixedPosition)):!(!U(e.fixedPosition)||e.fixedPosition==="left")}function Aee(i){let e=i.getController("keyboardNavigation");return e._isVirtualScrolling()?i.option("focusedRowIndex")===e.getRowIndex():!1}var kee=i=>class extends i{rowsViewFocusHandler(e){let t=I(e.target);this.translateFocusIfNeed(e,t),super.rowsViewFocusHandler(e)}rowsViewFocusOutHandler(){super.rowsViewFocusOutHandler(),this.makeScrollableFocusableIfNeed()}translateFocusIfNeed(e,t){let n=this.isScrollableNeedFocusable(),o=this._isFixedColumn(0);if(!n||!o)return;let r=this._rowsView.getCell({rowIndex:0,columnIndex:0}),s=!!r.attr("tabindex"),a=t.is(this._$firstNotFixedCell);s&&a&&(e.preventDefault(),this._focus(r))}renderCompleted(e){this._$firstNotFixedCell=this.getFirstNotFixedCell(),this.makeScrollableFocusableIfNeed(),super.renderCompleted(e)}_focus(e,t,n){super._focus(e,t,n),this.makeScrollableFocusableIfNeed()}_tabKeyHandler(e,t){let o=!(U(this._focusedCellPosition)&&!Gn(this._focusedCellPosition))||!e.shift&&this._isLastValidCell(this._focusedCellPosition)||e.shift&&this._isFirstValidCell(this._focusedCellPosition),r=this.isScrollableNeedFocusable();if(o&&r){var s;(s=this._$firstNotFixedCell)===null||s===void 0||s.removeAttr("tabIndex")}super._tabKeyHandler(e,t)}getFirstNotFixedCell(){let t=this._columnsController.getVisibleColumns().findIndex(n=>{let{fixed:o}=n;return!o});return t===-1?void 0:this._rowsView._getCellElement(0,t)}isScrollableNeedFocusable(){var e,t;let n=!!this._rowsView.getScrollable(),o=!!((e=this._rowsView._fixedTableElement)!==null&&e!==void 0&&e.length),r=!!((t=this._rowsView.getCellElements(0))!==null&&t!==void 0&&t.length);return n&&o&&r}makeScrollableFocusableIfNeed(){!this.isScrollableNeedFocusable()||!this._$firstNotFixedCell||this._applyTabIndexToElement(this._$firstNotFixedCell)}};var UB=class extends li.ViewController{init(){if(this._dataController=this.getController("data"),this._selectionController=this.getController("selection"),this._editingController=this.getController("editing"),this._headerPanel=this.getView("headerPanel"),this._rowsView=this.getView("rowsView"),this._columnsController=this.getController("columns"),this._editorFactory=this.getController("editorFactory"),this._focusController=this.getController("focus"),this._adaptiveColumnsController=this.getController("adaptiveColumns"),this._columnResizerController=this.getController("columnsResizer"),this._memoFireFocusedCellChanged=MB(this._memoFireFocusedCellChanged.bind(this),{compareType:"value"}),this._memoFireFocusedRowChanged=MB(this._memoFireFocusedRowChanged.bind(this),{compareType:"value"}),this.focusedHandlerWithContext=this.focusedHandlerWithContext||this.focusedHandler.bind(this),this.renderCompletedWithContext=this.renderCompletedWithContext||this.renderCompleted.bind(this),this.rowsViewFocusHandlerContext=this.rowsViewFocusHandlerContext||this.rowsViewFocusHandler.bind(this),this.rowsViewFocusOutHandlerContext=this.rowsViewFocusOutHandlerContext??this.rowsViewFocusOutHandler.bind(this),this._updateFocusTimeout=null,this._fastEditingStarted=!1,this._focusedCellPosition={},this._canceledCellPosition=null,this.isKeyboardEnabled()){var e;Eq(),(e=this._editorFactory)===null||e===void 0||e.focused.add(this.focusedHandlerWithContext),this.createAction("onKeyDown")}else{var t;V2(),(t=this._editorFactory)===null||t===void 0||t.focused.remove(this.focusedHandlerWithContext)}this.initViewHandlers(),this.initDocumentHandlers()}dispose(){super.dispose(),this._resetFocusedView(),Fa.off(this._keyDownListener),X.off(be.getDocument(),Se(Mt.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler),clearTimeout(this._updateFocusTimeout),V2()}focusedHandler(e){this.setupFocusedView(),this._isNeedScroll&&e.is(":visible")&&this._focusedView&&this._focusedView.getScrollable()&&(this._focusedView._scrollToElement(e),this._isNeedScroll=!1)}rowsViewFocusHandler(e){let t=I(e.target),n=I(e.relatedTarget).closest(this._rowsView.element()).length,o=t.is("a");if(e.relatedTarget&&o&&!n&&this._isEventInCurrentGrid(e)){let a=this._getFocusedCell();a=ra(a)?a:this._rowsView.getCellElements(0).filter("[tabindex]").eq(0),t.closest(a).length||(e.preventDefault(),X.trigger(a,"focus"))}let r=t.is("td"),s=(this.option("focusedRowIndex")??-1)<0;r&&s&&this._updateFocusedCellPosition(t)}rowsViewFocusOutHandler(){this._toggleInertAttr(!1)}subscribeToRowsViewFocusEvent(){var e;let t=(e=this._rowsView)===null||e===void 0?void 0:e.element();X.on(t,"focusin",this.rowsViewFocusHandlerContext),X.on(t,"focusout",this.rowsViewFocusOutHandlerContext)}unsubscribeFromRowsViewFocusEvent(){var e;let t=(e=this._rowsView)===null||e===void 0?void 0:e.element();X.off(t,"focusin",this.rowsViewFocusHandlerContext),X.off(t,"focusout",this.rowsViewFocusOutHandlerContext)}renderCompleted(e){let t=this._rowsView.element(),n=!e||e.changeType==="refresh",o=this._focusedView&&this._focusedView.name===this._rowsView.name,r=!1,s=e&&(e.changeType==="append"||e.changeType==="prepend"),l=I(be.getRootNode(t.get&&t.get(0))).find(":focus"),d=!l.length||l.closest(t).length;this.unsubscribeFromRowsViewFocusEvent(),this.subscribeToRowsViewFocusEvent(),this.initPointerEventHandler(),this.initKeyDownHandler(),this._setRowsViewAttributes(),o&&d&&(r=this._isNeedFocus?!s:this._isHiddenFocus&&n&&!(e!=null&&e.virtualColumnsScrolling),r&&this._updateFocus(!0))}initViewHandlers(){var e;this.unsubscribeFromRowsViewFocusEvent(),this.unsubscribeFromPointerEvent(),this.unsubscribeFromKeyDownEvent(),(e=this._rowsView)===null||e===void 0||(e=e.renderCompleted)===null||e===void 0||e.remove(this.renderCompletedWithContext),this.isKeyboardEnabled()&&this._rowsView.renderCompleted.add(this.renderCompletedWithContext)}initDocumentHandlers(){let e=be.getDocument();this._documentClickHandler=this._documentClickHandler||this.createAction(t=>{let n=I(t.event.target),o=this._isEventInCurrentGrid(t.event)&&n.closest(`.${this.addWidgetPrefix(S1)}`).length,r=n.closest(`.${bee}`).length,s=!!this._columnResizerController&&this._columnResizerController.isResizing();!o&&!r&&!s&&(!(this._focusedView&&n.parents().filter(this._focusedView.element()).length>0)&&this._resetFocusedCell(!0),this._resetFocusedView())}),X.off(e,Se(Mt.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler),this.isKeyboardEnabled()&&X.on(e,Se(Mt.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler)}_setRowsViewAttributes(){let e=this._getRowsViewElement();!this._dataController.getVisibleRows().length&&this._applyTabIndexToElement(e)}unsubscribeFromPointerEvent(){let e=A1()?Kt:Mt.down,t=this._getRowsViewElement();this._pointerEventAction&&X.off(t,Se(e,"dxDataGridKeyboardNavigation"),this._pointerEventAction)}subscribeToPointerEvent(){let e=A1()?Kt:Mt.down,t=this._getRowsViewElement(),n=`.${Dl} > td, .${Dl}`;X.on(t,Se(e,"dxDataGridKeyboardNavigation"),n,this._pointerEventAction)}initPointerEventHandler(){this._pointerEventAction=this._pointerEventAction||this.createAction(this._pointerEventHandler),this.unsubscribeFromPointerEvent(),this.subscribeToPointerEvent()}unsubscribeFromKeyDownEvent(){Fa.off(this._keyDownListener)}subscribeToKeyDownEvent(){let e=this._getRowsViewElement();this._keyDownListener=Fa.on(e,null,t=>this._keyDownHandler(t))}initKeyDownHandler(){this._keyDownListener&&this.unsubscribeFromKeyDownEvent(),this.subscribeToKeyDownEvent()}optionChanged(e){switch(e.name){case"keyboardNavigation":e.fullName==="keyboardNavigation.enabled"&&this.init(),e.handled=!0;break;case"useLegacyKeyboardNavigation":this.init(),e.handled=!0;break;default:super.optionChanged(e)}}isRowFocusType(){return this.focusType===VB}isCellFocusType(){return this.focusType===HB}setRowFocusType(){this.option("focusedRowEnabled")&&(this.focusType=VB)}setCellFocusType(){this.focusType=HB}_keyDownHandler(e){var t;let n=!0;this._isNeedFocus=!0,this._isNeedScroll=!0;let o=this._processOnKeyDown(e),r=(t=this._editingController)===null||t===void 0?void 0:t.isEditing(),{originalEvent:s}=e;if(s.isDefaultPrevented()){this._isNeedFocus=!1,this._isNeedScroll=!1;return}if(!See.includes(e.keyName)&&this._updateFocusedCellPositionByTarget(s.target),!o){switch(e.keyName){case"leftArrow":case"rightArrow":this._leftRightKeysHandler(e,r),o=!0;break;case"upArrow":case"downArrow":e.ctrl?Pv("rowsView",this,s):this._upDownKeysHandler(e,r),o=!0;break;case"pageUp":case"pageDown":this._pageUpDownKeyHandler(e),o=!0;break;case"space":o=this._spaceKeyHandler(e,r);break;case"A":Dn(e.originalEvent)?(this._ctrlAKeyHandler(e,r),o=!0):o=this._beginFastEditing(e.originalEvent);break;case"tab":this._tabKeyHandler(e,r),o=!0;break;case"enter":this._enterKeyHandler(e,r),o=!0;break;case"escape":o=this._escapeKeyHandler(e,r);break;case"F":Dn(e.originalEvent)?(this._ctrlFKeyHandler(e),o=!0):o=this._beginFastEditing(e.originalEvent);break;case"F2":this._f2KeyHandler(),o=!0;break;case"del":case"backspace":this._isFastEditingAllowed()&&!this._isFastEditingStarted()&&(o=this._beginFastEditing(s,!0))}!o&&!this._beginFastEditing(s)&&(this._isNeedFocus=!1,this._isNeedScroll=!1,n=!1),n&&s.stopPropagation()}}_processOnKeyDown(e){let{originalEvent:t}=e,n={handled:!1,event:t};return this.executeAction("onKeyDown",n),e.ctrl=t.ctrlKey,e.alt=t.altKey,e.shift=t.shiftKey,!!n.handled}_closeEditCell(){let e=le();return setTimeout(()=>{this._editingController.closeEditCell().always(e.resolve)}),e}_leftRightKeysHandler(e,t){let n=this.getVisibleRowIndex(),o=e.originalEvent,r=this._focusedView&&this._focusedView.getRow(n),s=this._getDirectionCodeByKey(e.keyName),a=this._isFastEditingStarted();if((!t||a)&&h_(r)){this.setCellFocusType(),a&&this._closeEditCell(),this._isVirtualColumnRender()&&this._processVirtualHorizontalPosition(s);let d=this._getNextCell(s);ra(d)&&this._arrowKeysHandlerFocusCell(o,d,s),o&&o.preventDefault()}}isInsideMasterDetail(e){let t=e.closest(`.${I1}`);return!!t.get(0)&&this.elementIsInsideGrid(t)&&!e.is(t)}_upDownKeysHandler(e,t){var n,o;let r=this.getVisibleRowIndex(),s=this._focusedView&&this._focusedView.getRow(r),a=e.originalEvent,l=e.keyName==="upArrow",d=this._dataController.dataSource(),c=(n=this._editingController)===null||n===void 0||(o=n.isEditRowByIndex)===null||o===void 0?void 0:o.call(n,r),u=this._isFastEditingStarted(),h=this.isInsideMasterDetail(I(a?.target));if((!c||!t||u)&&s&&!Iee(s)&&!h){if(u&&this._closeEditCell(),!this._navigateNextCell(a,e.keyName)&&this._isVirtualRowRender()&&l&&d&&!d.isLoading()){let p=Ct(s),m=this._focusedCellPosition.rowIndex-1;this._scrollBy(0,-p,m,a)}a&&a.preventDefault()}}_pageUpDownKeyHandler(e){let t=this._dataController.pageIndex(),n=this._dataController.pageCount(),o=this.option("paging.enabled"),r=e.keyName==="pageUp",s=r?-1:1,a=this._rowsView.getScrollable();o&&!this._isVirtualScrolling()?(r?t>0:t<n-1)&&!this._isVirtualScrolling()&&(this._dataController.pageIndex(t+s),e.originalEvent.preventDefault()):a&&ft(a.container())<ft(a.$content())&&(this._scrollBy(0,ft(a.container())*s),e.originalEvent.preventDefault())}_spaceKeyHandler(e,t){let n=this.getVisibleRowIndex(),o=I(e.originalEvent&&e.originalEvent.target);if(this.option("selection")&&this.option("selection").mode!=="none"&&!t){let r=this._getElementType(o)==="row"&&this.isRowFocusType()&&h_(o);return o.hasClass(D1)&&this.option("selection.showCheckBoxesMode")==="onClick"&&this._selectionController.startSelectionWithCheckboxes(),r||o.parent().hasClass(E1)||o.hasClass(this.addWidgetPrefix(S1))?(this._selectionController.changeItemSelection(n,{shift:e.shift,control:e.ctrl}),e.originalEvent.preventDefault(),!0):!1}return this._beginFastEditing(e.originalEvent)}_ctrlAKeyHandler(e,t){!t&&!e.alt&&this.option("selection.mode")==="multiple"&&this.option("selection.allowSelectAll")&&(this._selectionController.selectAll(),e.originalEvent.preventDefault())}_toggleInertAttr(e){}_tabKeyHandler(e,t){let n=this.option("editing"),o=e.shift?"previous":"next",r=U(this._focusedCellPosition)&&!Gn(this._focusedCellPosition),s=e.shift&&this._isFirstValidCell(this._focusedCellPosition),a=!e.shift&&this._isLastValidCell(this._focusedCellPosition),l=!r||s||a,d=e.originalEvent.target,c=this._focusedView&&this._focusedView.element();if(!this._handleTabKeyOnMasterDetailCell(d,o)){if(I(c).addClass(LB),n&&d&&!l)if(I(d).hasClass(this.addWidgetPrefix(S1))&&this._resetFocusedCell(),this._isVirtualColumnRender()&&this._processVirtualHorizontalPosition(o),t){if(!this._editingCellTabHandler(e,o))return}else this._targetCellTabHandler(e,o)&&(l=!0);l?(a&&this._toggleInertAttr(!0),this._editorFactory.loseFocus(),this._editingController.isEditing()&&!this._isRowEditMode()&&(this._resetFocusedCell(!0),this._resetFocusedView(),this._closeEditCell())):e.originalEvent.preventDefault()}}_getMaxHorizontalOffset(){let e=this.component.getScrollable();return e?e.scrollWidth()-Qe(this._rowsView.element()):0}_isColumnRendered(e){let t=this._columnsController.getVisibleColumns(null,!0),n=this._columnsController.getVisibleColumns(),o=t[e],r=!1;return o&&(r=n.indexOf(o)>=0),r}_isFixedColumn(e){let n=this._columnsController.getVisibleColumns(null,!0)[e];return!!n&&!!n.fixed}_isColumnVirtual(e){let t=e-this._columnsController.getColumnIndexOffset(),o=this._columnsController.getVisibleColumns()[t];return!!o&&o.command==="virtual"}_processVirtualHorizontalPosition(e){let t=this.component.getScrollable(),n=this.getColumnIndex(),o,r=0,s=!1;switch(e){case"next":case"nextInRow":{let a=this._getVisibleColumnCount();o=n+1,r=this.option("rtlEnabled")?this._getMaxHorizontalOffset():0,e==="next"?s=a===o||this._isFixedColumn(n)&&!this._isColumnRendered(o):s=a>o&&this._isFixedColumn(n)&&!this._isColumnRendered(o);break}case"previous":case"previousInRow":if(o=n-1,r=this.option("rtlEnabled")?0:this._getMaxHorizontalOffset(),e==="previous"){let a=this._columnsController.getColumnIndexOffset();s=o<0&&a===0||this._isFixedColumn(n)&&!this._isColumnRendered(o)}else s=o>=0&&this._isFixedColumn(n)&&!this._isColumnRendered(o)}s?t.scrollTo({left:r}):U(o)&&U(e)&&this._isColumnVirtual(o)&&(r=this._getHorizontalScrollPositionOffset(e),r!==0&&t.scrollBy({left:r,top:0}))}_getHorizontalScrollPositionOffset(e){let t=0,n=this._getCell(this._focusedCellPosition),o=n&&Ft(n);if(o>0){let r=this.option("rtlEnabled")?-1:1;t=e==="nextInRow"||e==="next"?o*r:o*r*-1}return t}_editingCellTabHandler(e,t){let n=e.originalEvent.target,o=this._getCellElementFromTarget(n),r,s=e.originalEvent,a=this._getElementType(n);if(o.is(PB))return!this._targetCellTabHandler(e,t);this._updateFocusedCellPosition(o);let l=this._getNextCellByTabKey(s,t,a);if(o=l.$cell,!o||this._handleTabKeyOnMasterDetailCell(o,t))return!1;let d=this._getColumnByCellElement(o),c=o.parent(),u=this._getRowIndex(c),h=this._dataController.items()[u],f=this._editingController;if(d&&d.allowEditing){let p=!h||h.rowType==="data";r=f.allowUpdating({row:h})?p:h&&h.isNewRow}return r||this._closeEditCell(),this._focusCell(o,!l.isHighlighted)&&(!this._isRowEditMode()&&r?this._editFocusedCell():this._focusInteractiveElement(o,e.shift)),!0}_targetCellTabHandler(e,t){let n=e.originalEvent,o=n.target,r=this._getElementType(o),s=this._getCellElementFromTarget(o),a=r==="cell"&&this._getInteractiveElement(s,!e.shift),l=!1;if(!$B(this,s)&&a!==null&&a!==void 0&&a.length&&o!==a.get(0))l=!0;else{this._focusedCellPosition.rowIndex===void 0&&I(o).hasClass(Dl)&&this._updateFocusedCellPosition(s),r=this._getElementType(o),this.isRowFocusType()&&(this.setCellFocusType(),r==="row"&&h_(I(o))&&(o=this.getFirstValidCellInRow(I(o)),r=this._getElementType(o)));let d=this._getNextCellByTabKey(n,t,r);if(s=d.$cell,!s||(s=this._checkNewLineTransition(n,s),!s))return!1;this._focusCell(s,!d.isHighlighted),$B(this,s)||this._focusInteractiveElement(s,e.shift)}return l}_getNextCellByTabKey(e,t,n){let o=this._getNextCell(t,n),r=o&&this._fireFocusedCellChanging(e,o,!0);return!r||r.cancel?{}:(r.$newCellElement&&(o=r.$newCellElement),{$cell:o,isHighlighted:r.isHighlighted})}_checkNewLineTransition(e,t){let n=this.getVisibleRowIndex(),o=t.parent();if(n!==this._getRowIndex(o)){let r=this._getCellPosition(t),s=this._fireFocusedRowChanging(e,o);if(s.cancel)return;s.rowIndexChanged&&r&&(this.setFocusedColumnIndex(r.columnIndex),t=this._getFocusedCell())}return t}_enterKeyHandler(e,t){var n,o;let r=this.getVisibleRowIndex(),s=this._dataController.getKeyByRowIndex(r),a=(n=this._focusedView)===null||n===void 0?void 0:n.getRow(r),l=this._getFocusedCell(),d=this.option("grouping.allowCollapsing")&&u_(a),c=this.option("masterDetail.enabled")&&l?.hasClass(vy),u=l?.hasClass(vee);if(d||c){let h=this._dataController.items()[r],f=h?.data&&!h.data.isContinuation;U(s)&&f&&this._dataController.changeRowExpand(s)}else u?(this._adaptiveColumnsController.toggleExpandAdaptiveDetailRow(s),this._updateFocusedCellPosition(l)):(o=this.getMasterDetailCell(l))!==null&&o!==void 0&&o.is(l)?l.is(":focus")&&this.focusFirstInteractiveElementInside(l):l!=null&&l.hasClass(FB)||this._processEnterKeyForDataCell(e,t)}focusFirstInteractiveElementInside(e){e.find(c_).get(0).focus()}_processEnterKeyForDataCell(e,t){let n=this._getEnterKeyDirection(e),o=this._allowEditingOnEnterKey();t||!o&&n?this._handleEnterKeyEditingCell(e.originalEvent).done(()=>{n==="next"||n==="previous"?this._targetCellTabHandler(e,n):(n==="upArrow"||n==="downArrow")&&this._navigateNextCell(e.originalEvent,n)}):o&&this._startEditing(e)}_getEnterKeyDirection(e){let t=this.option("keyboardNavigation.enterKeyDirection"),n=e.shift;if(t==="column")return n?"upArrow":"downArrow";if(t==="row")return n?"previous":"next"}_handleEnterKeyEditingCell(e){let t=le(),{target:n}=e,o=this._getCellElementFromTarget(n),r=this._isRowEditMode();return this._updateFocusedCellPosition(o),r?(this._focusEditFormCell(o),setTimeout(this._editingController.saveEditData.bind(this._editingController)),t.resolve()):(X.trigger(I(n),"change"),this._closeEditCell().always(t.resolve),e.preventDefault()),t}_escapeKeyHandler(e,t){let n=this._getCellElementFromTarget(e.originalEvent.target);if(t)return this._updateFocusedCellPosition(n),this._isRowEditMode()?(this._focusEditFormCell(n),this._editingController.cancelEditData(),this._dataController.items().length===0&&(this._resetFocusedCell(),this._editorFactory.loseFocus())):this._editingController.getEditMode()==="cell"?this._editingController.cancelEditData():this._closeEditCell(),e.originalEvent.preventDefault(),!0;let o=this.getMasterDetailCell(n);return o?(this._focusCell(o),!0):!1}_ctrlFKeyHandler(e){if(this.option("searchPanel.visible")){let t=this._headerPanel.getSearchTextEditor();t&&(t.focus(),e.originalEvent.preventDefault())}}_f2KeyHandler(){let e=this._editingController.isEditing(),t=this.getVisibleRowIndex(),n=this._focusedView&&this._focusedView.getRow(t);!e&&h_(n)&&this._startEditing()}_navigateNextCell(e,t){let n=this._getNextCell(t),o=this._getDirectionCodeByKey(t);return n&&this._isCellValid(n)?this._arrowKeysHandlerFocusCell(e,n,o):!1}_arrowKeysHandlerFocusCell(e,t,n){let o=n==="prevRow"||n==="nextRow",r=this._fireFocusChangingEvents(e,t,o,!0);return t=r.$newCellElement,!r.cancel&&this._isCellValid(t)?(this._focus(t,!r.isHighlighted),!0):!1}_beginFastEditing(e,t){if(!this._isFastEditingAllowed()||e.altKey||e.ctrlKey||this._editingController.isEditing())return!1;if(t)this._startEditing(e,T1);else{let{key:n}=e,o=e.keyCode||e.which,r=n||o&&String.fromCharCode(o);r&&(r.length===1||r===T1)&&this._startEditing(e,r)}return!0}_pointerEventHandler(e){var t;let n=e.event||e,o=I(n.currentTarget),r=(t=this._rowsView)===null||t===void 0?void 0:t.element(),s=o.parent(),a=I(n.target).is(c_),l=!!I(n.target).closest(`.${Cee}`).length,d=o.hasClass(vy);this._isEventInCurrentGrid(n)&&(!l&&(this._isCellValid(o,!a)||d)?(o=this._isInsideEditForm(o)?I(n.target):o,this._focusView(),I(r).removeClass(LB),s.hasClass(O1)?(this._updateFocusedCellPosition(o),this._applyTabIndexToElement(this._focusedView.element()),this._focusedView.focus(!0)):this.getMasterDetailCell(o)?this._updateFocusedCellPosition(o):this._clickTargetCellHandler(n,o)):o.is("td")&&this._resetFocusedCell())}_clickTargetCellHandler(e,t){let n=this._getColumnByCellElement(t),o=this._isCellEditMode();this.setCellFocusType();let r=this._fireFocusChangingEvents(e,t,!0);if(t=r.$newCellElement,r.cancel)this.setRowFocusType(),this.setFocusedRowIndex(r.prevRowIndex),this._editingController.isEditing()&&o&&this._closeEditCell();else{if(r.resetFocusedRow){this._focusController._resetFocusedRow();return}if(r.rowIndexChanged&&(t=this._getFocusedCell()),!r.isHighlighted&&!o&&this.setRowFocusType(),this._updateFocusedCellPosition(t),this._allowRowUpdating()&&o&&n&&n.allowEditing)this._isNeedFocus=!1,this._isHiddenFocus=!1;else{t=this._getFocusedCell();let s=e&&I(e.target).closest(`${BB}, td`),a=s&&s.not(t).is(BB),d=!(!!n&&!n.command&&t.hasClass(qh))&&(!r.isHighlighted||a);this._focus(t,d,a)}}}_allowRowUpdating(){let e=this.getVisibleRowIndex(),t=this._dataController.items()[e];return this._editingController.allowUpdating({row:t},"click")}focus(e){let t,n=this.option("focusedRowEnabled"),o=this._isCellElement(I(e));e||(t=".dx-datagrid-rowsview .dx-row[tabindex]",n||(t+=", .dx-datagrid-rowsview .dx-row > td[tabindex]"),e=this.component.$element().find(t).first()),e&&this._focusElement(I(e),o)}getFocusedView(){return this._focusedView}setupFocusedView(){this.isKeyboardEnabled()&&!U(this._focusedView)&&this._focusView()}_focusElement(e,t){let n=I(this._getRowsViewElement()),o=e.closest(n),r=this.isRowFocusType(),s={};!o.length||this._isCellElement(e)&&!this._isCellValid(e)||(this._focusView(),this._isNeedFocus=!0,this._isNeedScroll=!0,(this._isCellElement(e)||u_(e))&&(this.setCellFocusType(),s=this._fireFocusChangingEvents(null,e,!0,t),e=s.$newCellElement,r&&!s.isHighlighted&&this.setRowFocusType()),s.cancel||(this._focus(e,!s.isHighlighted),this._focusInteractiveElement(e)))}_getFocusedViewByElement(e){let t=this.getFocusedView(),n=t&&I(t.element());return e&&e.closest(n).length!==0}_focusView(){this._focusedView=this._rowsView}_resetFocusedView(){this.setRowFocusType(),this._focusedView=null}_focusInteractiveElement(e,t){if(!e)return;let n=this._getInteractiveElement(e,t);De.focusAndSelectElement(this,n)}_focus(e,t,n){let o=e&&!e.hasClass(Dl)?e.closest(`.${Dl}`):e;if(o&&Dee(o))return;let r=this._focusedView,s=r&&r.element(),a;this._isHiddenFocus=t;let l=u_(o)||Eee(o)||this.isRowFocusType();l?(a=o,r&&this.setFocusedRowIndex(this._getRowIndex(o))):this._isCellElement(e)&&(a=e,this._updateFocusedCellPosition(e)),a&&(s&&s.find(".dx-row[tabindex], .dx-row > td[tabindex]").filter((d,c)=>De.isElementInCurrentGrid(this,I(c))).not(a).removeClass(yy).removeClass(NB).removeAttr("tabindex"),X.one(a,"blur",d=>{d.relatedTarget&&a.removeClass(yy).removeClass(NB)}),n||(this._applyTabIndexToElement(a),X.trigger(a,"focus")),t?(a.addClass(yy),l&&e.addClass(yy)):this._editorFactory.focus(a))}_updateFocus(e){this._updateFocusTimeout=setTimeout(()=>{if(this._needFocusEditingCell()){this._editingController._focusEditingCell();return}let t=this._getFocusedCell(),n=this._editingController.isEditing();if(!this.getMasterDetailCell(t)||this._isRowEditMode()){if(this._hasSkipRow(t.parent())){let o=this._focusedCellPosition&&this._focusedCellPosition.rowIndex>0?"upArrow":"downArrow";t=this._getNextCell(o)}if(ra(t))if(t.is("td")||t.hasClass(this.addWidgetPrefix(gee))){let o=t.is(PB),r=t.find(":focus"),s=ra(r),a=this._getColumnByCellElement(t);if((e||!o)&&this._editorFactory.focus()){if(o&&s){De.focusAndSelectElement(this,r);return}!s&&this._focus(t)}else!s&&(this._isNeedFocus||this._isHiddenFocus)&&this._focus(t,this._isHiddenFocus);n&&!(a!=null&&a.showEditorAlways)&&this._focusInteractiveElement.bind(this)(t)}else X.trigger(t,"focus")}})}_getColumnByCellElement(e){let n=this._rowsView.getCellIndex(e)+this._columnsController.getColumnIndexOffset();return this._columnsController.getVisibleColumns(null,!0)[n]}_needFocusEditingCell(){let e=this._editingController.getEditMode()===ty,t=this._editingController.getEditMode()===Jg,n=e&&this._editingController.hasChanges(),o=t&&this._editingController.isNewRowInEditMode(),r=this._getFocusedCell();return(r.children().length===0||r.find(Qg).length>0)&&(n||o)}_getFocusedCell(){return I(this._getCell(this._focusedCellPosition))}_updateFocusedCellPositionByTarget(e){var t;if(this._getElementType(e)==="row"&&U((t=this._focusedCellPosition)===null||t===void 0?void 0:t.columnIndex)){let o=I(e);this._focusedView&&u_(o)&&this.setFocusedRowIndex(this._getRowIndex(o))}else this._updateFocusedCellPosition(this._getCellElementFromTarget(e))}_updateFocusedCellPosition(e,t){let n=this._getCellPosition(e,t);return n&&(!e.length||n.rowIndex>=0&&n.columnIndex>=0)&&this.setFocusedCellPosition(n.rowIndex,n.columnIndex),n}_getFocusedColumnIndexOffset(e){let t=0,n=this._columnsController.getVisibleColumns()[e];return n&&n.fixed?t=this._getFixedColumnIndexOffset(n):e>=0&&(t=this._columnsController.getColumnIndexOffset()),t}_getFixedColumnIndexOffset(e){return Tee(this,e)?this._getVisibleColumnCount()-this._columnsController.getVisibleColumns().length:0}_getCellPosition(e,t){let n,o=ra(e)&&e.closest("tr");if(ra(o)){let r=this._getRowIndex(o);return n=this._rowsView.getCellIndex(e,r),n+=this._getFocusedColumnIndexOffset(n),t&&(n=t==="previous"?n-1:n+1,n=this._applyColumnIndexBoundaries(n)),{rowIndex:r,columnIndex:n}}}_focusCell(e,t){if(this._isCellValid(e))return this._focus(e,t),!0}_focusEditFormCell(e){e.hasClass(I1)&&this._editorFactory.focus(e,!0)}_resetFocusedCell(e){var t;let n=this._getFocusedCell();ra(n)&&n.removeAttr("tabindex"),this._isNeedFocus=!1,this._isNeedScroll=!1,this._focusedCellPosition={},clearTimeout(this._updateFocusTimeout),(t=this._focusedView)===null||t===void 0||t.renderFocusState({preventScroll:e})}restoreFocusableElement(e,t){let n=this,o,r,s=U(e),a=this._rowsView.element(),{columnIndex:l}=n._focusedCellPosition,d=n._dataController.getRowIndexOffset();e=s?e:this._rowsView.getTopVisibleItemIndex()+d,s?(r=this._rowsView.getRow(e-d),o=n._fireFocusedRowChanging(t,r),!o.cancel&&o.rowIndexChanged&&(e=o.newRowIndex)):(n._editorFactory.loseFocus(),n._applyTabIndexToElement(a),X.trigger(a,"focus")),(!s||!o.cancel)&&n.setFocusedCellPosition(e,l),s&&n._updateFocus()}_getNewPositionByCode(e,t,n){let{columnIndex:o}=e,{rowIndex:r}=e,s;if(e.rowIndex===void 0&&n==="next")return{columnIndex:0,rowIndex:0};switch(n){case"nextInRow":case"next":s=this._getVisibleColumnCount(),o<s-1&&t!=="row"&&this._hasValidCellAfterPosition({columnIndex:o,rowIndex:r})?o++:!this._isLastRow(r)&&n==="next"&&(o=0,r++);break;case"previousInRow":case"previous":o>0&&t!=="row"&&this._hasValidCellBeforePosition({columnIndex:o,rowIndex:r})?o--:r>0&&n==="previous"&&(r--,s=this._getVisibleColumnCount(),o=s-1);break;case"upArrow":r=r>0?r-1:r;break;case"downArrow":r=this._isLastRow(r)?r:r+1}return{columnIndex:o,rowIndex:r}}setFocusedCellPosition(e,t){this.setFocusedRowIndex(e),this.setFocusedColumnIndex(t)}setFocusedRowIndex(e){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.rowIndex=e}setFocusedColumnIndex(e){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.columnIndex=e}getRowIndex(){return this._focusedCellPosition?this._focusedCellPosition.rowIndex:-1}getColumnIndex(){return this._focusedCellPosition?this._focusedCellPosition.columnIndex:-1}getVisibleRowIndex(){var e;let t=(e=this._focusedCellPosition)===null||e===void 0?void 0:e.rowIndex;return!U(t)||t<0?-1:t-this._dataController.getRowIndexOffset()}getVisibleColumnIndex(){var e;let t=(e=this._focusedCellPosition)===null||e===void 0?void 0:e.columnIndex;return U(t)?t-this._columnsController.getColumnIndexOffset():-1}_applyColumnIndexBoundaries(e){let t=this._getVisibleColumnCount();return e<0?e=0:e>=t&&(e=t-1),e}_isCellByPositionValid(e){let t=I(this._getCell(e));return this._isCellValid(t)}_isLastRow(e){let t=this._dataController;if(this._isVirtualRowRender())return e>=t.getMaxRowIndex();let n=Math.max(...t.items().map((o,r)=>o.visible!==!1?r:-1));return e===n}_isFirstValidCell(e){let t=!1;return e.rowIndex===0&&e.columnIndex>=0&&(t=t||!this._hasValidCellBeforePosition(e)),t}_hasValidCellBeforePosition(e){let{columnIndex:t}=e,n=!1;for(;t>0&&!n;){let o={columnIndex:--t,rowIndex:e.rowIndex};n=this._isCellByPositionValid(o)}return n}_hasValidCellAfterPosition(e){let{columnIndex:t}=e,n=!1,o=this._getVisibleColumnCount();for(;t<o-1&&!n;){let r={columnIndex:++t,rowIndex:e.rowIndex};n=this._isCellByPositionValid(r)}return n}_isLastValidCell(e){let t=e.columnIndex>=0?e.columnIndex+1:0,{rowIndex:n}=e,o={columnIndex:t,rowIndex:n},r=this._dataController.getVisibleRows(),s=r&&r[n];return this._isLastRow(n)?(s?.rowType==="group"||s?.rowType==="groupFooter")&&e.columnIndex>0||e.columnIndex===this._getVisibleColumnCount()-1?!0:this._isCellByPositionValid(o)?!1:this._isLastValidCell(o):!1}_isCellValid(e,t){if(ra(e)){let n=e.parent(),o=this._rowsView.getCellIndex(e)+this._columnsController.getColumnIndexOffset(),r=this._getColumnByCellElement(e),s=this._getVisibleColumnCount(),a=this._editingController,l=Oee(n),d=r&&r.showWhenGrouped,c=r&&!e.hasClass(vy)&&h_(n),u=function(){return!l&&r&&(!U(r.groupIndex)||d&&c)||parseInt(e.attr("colspan"),10)>1};if(jB.isDragCell(e))return!1;if(this.getMasterDetailCell(e))return!0;if(s>o&&u()){let f=this._dataController.items(),p=this._rowsView.getRowIndex(n),m=f[p],g=a&&this._isCellEditMode()&&a.isEditing(),b=a&&a.isEditRow(p),x=b||g;return r.command?this._isLegacyNavigation()?!x&&r.command==="expand":g?!1:b?r.command!=="select":!x:g&&m&&m.rowType!=="data"?!1:!x||r.allowEditing||t}}}getFirstValidCellInRow(e,t){let n=this,o=e.find("> td"),r,s;t=t||0;for(let a=t;a<o.length;++a)if(r=o.eq(a),n._isCellValid(r)){s=r;break}return s}_getNextCell(e,t,n){let o=n||this._focusedCellPosition,r=this.isRowFocusType(),s=r||["next","previous"].includes(e),a,l;if(this._focusedView&&o){let d=this._getNewPositionByCode(o,t,e);a=I(this._getCell(d));let c=e==="previous"?this._isFirstValidCell(d):this._isLastValidCell(d);if(ra(a)&&!this._isCellValid(a)&&this._isCellInRow(d,s)&&!c&&(r?a=this.getFirstValidCellInRow(a.parent(),d.columnIndex):a=this._getNextCell(e,"cell",d)),l=ra(a)&&a.parent(),this._hasSkipRow(l)){let u=this._getRowIndex(l);if(!this._isLastRow(u))a=this._getNextCell(e,"row",{columnIndex:o.columnIndex,rowIndex:u});else return null}return ra(a)?a:null}return null}_startEditing(e,t){let n=this._focusedCellPosition,o=this.getVisibleRowIndex(),r=this.getVisibleColumnIndex(),s=this._dataController.items()[o],a=this._columnsController.getVisibleColumns()[r];this._isAllowEditing(s,a)&&(this._isRowEditMode()?this._editingController.editRow(o):n&&this._startEditCell(e,t))}_isAllowEditing(e,t){return this._editingController.allowUpdating({row:e})&&t&&t.allowEditing}_editFocusedCell(){let e=this.getVisibleRowIndex(),t=this.getVisibleColumnIndex();return this._editingController.editCell(e,t)}_startEditCell(e,t){this._fastEditingStarted=U(t);let n=this._editFocusedCell(),o=km(n);if(!this._isFastEditingStarted()||!o&&!n)return;let s=o&&t===T1?"":t,a=o?n:le().resolve(),l=this._rowsView.waitAsyncTemplates(!0);Be(a,l).done(()=>{this._editingCellHandler(e,s)})}_editingCellHandler(e,t){var n;let o=this._getFocusedCell().find(c_).eq(0),r=o.get(0);if(!r)return;let s=bl(e,{type:"keydown",target:r}),a=bl(e,{type:"keypress",target:r}),l=bl(e,{type:"input",target:r});if(l.originalEvent&&(l.originalEvent=bl(l.originalEvent,{data:t})),(n=r.select)===null||n===void 0||n.call(r),X.trigger(o,s),!s.isDefaultPrevented()&&(X.trigger(o,a),!a.isDefaultPrevented())){let d=gi.mozilla?25:0;setTimeout(()=>{let c=this._getKeyPressInputValue(o,t);o.val(c);let u=o.closest(`.${xee}`);X.off(u,"focusout"),X.one(u,"focusout",()=>{X.trigger(o,"change")}),X.trigger(o,l)},d)}}_getKeyPressInputValue(e,t){let n=e.val();return t==="-"&&n==="-0"?"-0":t}_fireFocusChangingEvents(e,t,n,o){let r={},s=this._getCellPosition(t)??{};return this.isCellFocusType()&&(r=this._fireFocusedCellChanging(e,t,o),r.cancel||(s.columnIndex=r.newColumnIndex,s.rowIndex=r.newRowIndex,o=r.isHighlighted,t=I(this._getCell(s)))),!r.cancel&&n&&t&&(r=this._fireFocusedRowChanging(e,t.parent()),r.cancel||(s.rowIndex=r.newRowIndex,r.isHighlighted=o)),r.$newCellElement=I(this._getCell(s)),r.$newCellElement.length||(r.$newCellElement=t),r}_fireFocusedCellChanging(e,t,n){let o=this.option("focusedColumnIndex"),r=this.option("focusedRowIndex"),s=this._getCellPosition(t),a=s?s.columnIndex:-1,l=s?s.rowIndex:-1,d=this._dataController.getVisibleRows(),c=this._columnsController.getVisibleColumns(),u={cellElement:t,prevColumnIndex:o,prevRowIndex:r,newColumnIndex:a,newRowIndex:l,rows:d,columns:c,event:e,isHighlighted:n||!1,cancel:!1};return this._canceledCellPosition=null,this.executeAction("onFocusedCellChanging",u),(u.newColumnIndex!==a||u.newRowIndex!==l)&&(u.$newCellElement=I(this._getCell({columnIndex:u.newColumnIndex,rowIndex:u.newRowIndex}))),u.cancel&&(this._canceledCellPosition={rowIndex:l,columnIndex:a}),u}_fireFocusedCellChanged(e){let t=this._rowsView.getCellIndex(e),n=e?.parent().data("options"),o=n?.key;this._memoFireFocusedCellChanged(o,t)}_memoFireFocusedCellChanged(e,t){let n=this._getFocusedCell(),o=this._getRowIndex(n?.parent()),r=Math.min(o-this._dataController.getRowIndexOffset(),this._dataController.items().length-1);if(this._editingController.isEditCell(r,t))return;let a=this._dataController.items()[r],l=this._columnsController.getVisibleColumns()[t];this.executeAction("onFocusedCellChanged",{cellElement:n?tt(n):void 0,columnIndex:t,rowIndex:o,row:a,column:l})}_fireFocusedRowChanging(e,t){let n=this._getRowIndex(t),o=this.option("focusedRowIndex"),r=this._dataController.loadingOperationTypes(),s={rowElement:t,prevRowIndex:o,newRowIndex:n,event:e,rows:this._dataController.getVisibleRows(),cancel:!1},a=r.sorting||r.grouping||r.filtering||r.paging;return!this._dataController||this._dataController.isLoading()&&a?(s.cancel=!0,s):(this.option("focusedRowEnabled")&&(this.executeAction("onFocusedRowChanging",s),!s.cancel&&s.newRowIndex!==n&&(s.resetFocusedRow=s.newRowIndex<0,s.resetFocusedRow||this.setFocusedRowIndex(s.newRowIndex),s.rowIndexChanged=!0)),s)}_fireFocusedRowChanged(){var e;let t=this.option("focusedRowEnabled"),n=this.option("focusedRowKey"),o=(e=this._focusController)===null||e===void 0?void 0:e.getFocusedRowIndexByKey(n);!t||U(n)&&o<0||this._memoFireFocusedRowChanged(n,o)}_memoFireFocusedRowChanged(e,t){let n=t-this._dataController.getRowIndexOffset();this.executeAction("onFocusedRowChanged",{rowElement:t<0?void 0:this._rowsView.getRowElement(n),rowIndex:t,row:t<0?void 0:this._dataController.getVisibleRows()[n]})}_isEventInCurrentGrid(e){return De.isElementInCurrentGrid(this,I(e.target))}_isRowEditMode(){let e=this._editingController.getEditMode();return e===Yh||e===iy}_isCellEditMode(){let e=this._editingController.getEditMode();return e===ty||e===Jg}_isFastEditingAllowed(){return this._isCellEditMode()&&this.option("keyboardNavigation.editOnKeyPress")}_getInteractiveElement(e,t){let n=e.find(c_).filter(":visible");return t?n.last():n.first()}_applyTabIndexToElement(e){let t=this.option("tabIndex")??0;e.attr("tabindex",t)}_getCell(e){if(this._focusedView&&e){let t=this._dataController.getRowIndexOffset(),n=this._columnsController.getVisibleColumns(null,!0)[e.columnIndex],o=n&&n.fixed?this._getFixedColumnIndexOffset(n):this._columnsController.getColumnIndexOffset(),r=e.rowIndex>=0?e.rowIndex-t:-1,s=e.columnIndex>=0?e.columnIndex-o:-1;return this._focusedView.getCell({rowIndex:r,columnIndex:s})}}_getRowIndex(e){let t=this._rowsView.getRowIndex(e);return t>=0&&(t+=this._dataController.getRowIndexOffset()),t}_hasSkipRow(e){let t=e&&e.get(0);return t&&t.style.display==="none"}_allowEditingOnEnterKey(){return this.option("keyboardNavigation.enterKeyAction")==="startEdit"}_isLegacyNavigation(){return this.option("useLegacyKeyboardNavigation")}_getDirectionCodeByKey(e){let t;switch(e){case"upArrow":t="prevRow";break;case"downArrow":t="nextRow";break;case"leftArrow":t=this.option("rtlEnabled")?"nextInRow":"previousInRow";break;case"rightArrow":t=this.option("rtlEnabled")?"previousInRow":"nextInRow"}return t}_isVirtualScrolling(){let e=this.option("scrolling.mode");return e==="virtual"||e==="infinite"}_isVirtualRowRender(){return this._isVirtualScrolling()||De.isVirtualRowRendering(this)}_isVirtualColumnRender(){return this.option("scrolling.columnRenderingMode")==="virtual"}_scrollBy(e,t,n,o){let r=this,s=this._rowsView.getScrollable();if(r._focusedCellPosition){let a=function(){s.off("scroll",a),setTimeout(r.restoreFocusableElement.bind(r,n,o))};s.on("scroll",a)}return s.scrollBy({left:e,top:t})}_isInsideEditForm(e){let t=I(e).closest(`.${this.addWidgetPrefix(Xg)}`);return t.length&&this.elementIsInsideGrid(t)}getMasterDetailCell(e){let t=I(e).closest(`.${I1}`);return t.length&&this.elementIsInsideGrid(t)?t:null}_processNextCellInMasterDetail(e,t){!this._isInsideEditForm(e)&&e&&this._applyTabIndexToElement(e)}_handleTabKeyOnMasterDetailCell(e,t){if(this.getMasterDetailCell(e)){this._updateFocusedCellPosition(I(e),t);let n=this._getNextCell(t,"row");return this._processNextCellInMasterDetail(n,I(e)),!0}return!1}_getElementType(e){return I(e).is("tr")?"row":"cell"}_isFastEditingStarted(){return this._isFastEditingAllowed()&&this._fastEditingStarted}_getVisibleColumnCount(){return this._columnsController.getVisibleColumns(null,!0).length}_isCellInRow(e,t){let{columnIndex:n}=e,o=this._getVisibleColumnCount();return t?n>=0&&n<=o-1:n>0&&n<o-1}_isCellElement(e){return e.length&&e[0].tagName==="TD"}_getCellElementFromTarget(e){let t=this._getElementType(e),n=I(e),o;return t==="cell"?o=n.closest(`.${Dl} > td`):o=n.children().not(`.${vy}`).first(),o}_getRowsViewElement(){var e;return(e=this._rowsView)===null||e===void 0?void 0:e.element()}isKeyboardEnabled(){return this.option("keyboardNavigation.enabled")}_processCanceledEditCellPosition(e,t){if(this._canceledCellPosition){let n=this._canceledCellPosition.rowIndex===e&&this._canceledCellPosition.columnIndex===t;return this._canceledCellPosition=null,n}}updateFocusedRowIndex(){let e=this._dataController,t=this.getVisibleRowIndex(),n=e.items(),o=n.length?n.length-1:-1,r=e.getRowIndexOffset();o>=0&&t>o&&this.setFocusedRowIndex(o+r)}},HAe=i=>class extends i{_rowClick(e){let t=this._editingController.getEditRowIndex(),n=this._keyboardNavigationController.isKeyboardEnabled();t===e.rowIndex&&this._keyboardNavigationController.setCellFocusType(),(A1()||!n)&&this.option("focusedRowEnabled")&&this._triggerPointerDownEventHandler(e,!n),super._rowClick.apply(this,arguments)}_triggerPointerDownEventHandler(e,t){let{originalEvent:n}=e.event;if(n){let o=I(n.target),r=this.getCellIndex(o),s=this._columnsController.getVisibleColumns()[r],a=this._dataController.items()[e.rowIndex];if(this._keyboardNavigationController._isAllowEditing(a,s)||t){let l=bl(n,{currentTarget:n.target});this._keyboardNavigationController._pointerEventHandler(l)}}}renderFocusState(e){super.renderFocusState(e);let{preventScroll:t,pageSizeChanged:n}=e??{},o=this.element();o&&!Ps(o)&&o.attr("tabindex",null),n&&this._keyboardNavigationController.updateFocusedRowIndex();let r=this._keyboardNavigationController.getVisibleRowIndex();(!U(r)||r<0)&&(r=0);let s=this.getCellElements(r);this._keyboardNavigationController.isKeyboardEnabled()&&s!==null&&s!==void 0&&s.length&&this.updateFocusElementTabIndex(s,t)}updateFocusElementTabIndex(e,t){let n=e.eq(0).parent();if(u_(n))this._keyboardNavigationController._applyTabIndexToElement(n);else{let o=this._keyboardNavigationController.getColumnIndex();(!U(o)||o<0)&&(o=0),this._updateFocusedCellTabIndex(e,o)}}_updateFocusedCellTabIndex(e,t){let n=this._keyboardNavigationController,o=e?e.length:-1,r=function(a){let l=!!n.getMasterDetailCell(a),d=n._isCellValid(a);if(!l&&d&&n._isCellElement(a))return n._applyTabIndexToElement(a),n.setCellFocusType(),!0},s=jB.getCellToFocus(e,t);if(s.length)r(s);else{o<=t&&(t=o-1);for(let a=t;a<o&&!r(I(e[a]));++a);}}renderDelayedTemplates(e){super.renderDelayedTemplates.apply(this,arguments),this.waitAsyncTemplates().done(()=>{this._renderFocusByChange(e)})}_renderFocusByChange(e){var t;let{operationTypes:n,repaintChangesOnly:o}=e??{},{fullReload:r,pageSize:s}=n??{},a=!!(e!=null&&(t=e.changeTypes)!==null&&t!==void 0&&t.find(l=>l==="insert"||l==="remove"));if(!e||!o||r||s||a){let l=Aee(this);this.renderFocusState({preventScroll:l,pageSizeChanged:s})}}_renderCore(e){let t=super._renderCore.apply(this,arguments);return this._renderFocusByChange(e),t}_editCellPrepared(e){var t;let n=this._getEditorInstance(e),o=(t=this._keyboardNavigationController)===null||t===void 0?void 0:t._isFastEditingStarted();n&&o&&this._handleEditingNavigationMode(n),super._editCellPrepared.apply(this,arguments)}_handleEditingNavigationMode(e){["downArrow","upArrow"].forEach(n=>{let o=e._supportedKeys()[n];e.registerKeyHandler(n,r=>{if(e._input().attr("aria-expanded")==="true")return o&&o.call(e,r)})}),e.registerKeyHandler("leftArrow",pe),e.registerKeyHandler("rightArrow",pe),e.NAME===yee&&e.option("useMaskBehavior")&&e.registerKeyHandler("enter",pe)}_getEditorInstance(e){let t=e.find(".dx-texteditor").eq(0);return De.getWidgetInstance(t)}},zAe=i=>class extends i{editCell(e,t){if(this._keyboardNavigationController._processCanceledEditCellPosition(e,t))return!1;let n=super.editCell(e,t);return n&&this._keyboardNavigationController.setupFocusedView(),n}editRow(e){let t=this._keyboardNavigationController.getVisibleColumnIndex(),n=this._columnsController.getVisibleColumns()[t];(n&&n.type||this.option("editing.mode")===iy)&&this._keyboardNavigationController._resetFocusedCell(),super.editRow(e)}addRow(e){return this._keyboardNavigationController.setupFocusedView(),this._keyboardNavigationController.setCellFocusType(),super.addRow.apply(this,arguments)}getFocusedCellInRow(e){let t=super.getFocusedCellInRow(e),n=this._dataController.getRowIndexOffset(),o=this._keyboardNavigationController._focusedCellPosition.rowIndex-n;if(this._keyboardNavigationController.isKeyboardEnabled()&&o===e){let r=this._keyboardNavigationController._getFocusedCell();ra(r)&&!r.hasClass(FB)&&(t=r)}return t}_processCanceledEditingCell(){this.closeEditCell().done(()=>{this._keyboardNavigationController._updateFocus()})}closeEditCell(){let e=this._keyboardNavigationController;e._fastEditingStarted=!1;let t=super.closeEditCell.apply(this,arguments);return e._updateFocus(),t}_delayedInputFocus(){this._keyboardNavigationController._isNeedScroll=!0,super._delayedInputFocus.apply(this,arguments)}_isEditingStart(){let e=super._isEditingStart.apply(this,arguments);if(e&&!this._keyboardNavigationController._isNeedFocus){let t=this._keyboardNavigationController._getFocusedCell();this._keyboardNavigationController._focus(t,!0)}return e}},jAe=i=>class extends i{_correctRowIndices(e){let t=this._keyboardNavigationController._focusedCellPosition;if(super._correctRowIndices.apply(this,arguments),t&&t.rowIndex>=0){let n=e(t.rowIndex);n&&(t.rowIndex+=n,this._editorFactoryController.refocus())}}getMaxRowIndex(){let e=this.items().length-1,t=this.virtualItemsCount();if(t){let n=this.getRowIndexOffset();e+=n+t.end}return e}},$Ae=i=>class extends i{_showHiddenCellsInView(e){let{viewName:t,$cells:n,isCommandColumn:o}=e;super._showHiddenCellsInView.apply(this,arguments),t===zB&&!o&&n.each((r,s)=>{let a=I(s);WB(a)&&a.attr("tabindex",0)})}_hideVisibleCellInView(e){let{viewName:t,$cell:n,isCommandColumn:o}=e;super._hideVisibleCellInView.apply(this,arguments),t===zB&&!o&&WB(n)&&n.removeAttr("tabindex")}_hideVisibleColumnInView(e){let{view:t,isCommandColumn:n,visibleIndex:o}=e;super._hideVisibleColumnInView({view:t,isCommandColumn:n,visibleIndex:o}),t.name===wee&&this._rowsView.renderFocusState(null)}},Mee={defaultOptions:()=>({useLegacyKeyboardNavigation:!1,keyboardNavigation:{enabled:!0,enterKeyAction:"startEdit",enterKeyDirection:"none",editOnKeyPress:!1}}),controllers:{keyboardNavigation:UB},extenders:{views:{rowsView:HAe},controllers:{editing:zAe,data:jAe,adaptiveColumns:$Ae,keyboardNavigation:kee}}};qe.registerModule("keyboardNavigation",Mee);function GB(i,e,t,n){let o=0;if(i<e)for(;o<t.items.length;o++)GB(i+1,e,t.items[o],n);i===e&&n(t)}function k1(i,e){let t;if("map"in i)return i.map(e);let n=new Array(i.length);for(t in i)n[t]=e(i[t],t);return n}function WAe(i){return i!==i||i===""||i===null||i===void 0}function UAe(i){return i===Kb.count}function Ree(i){let e=Qt(i.selector),t="skipEmptyValues"in i?i.skipEmptyValues:!0,{aggregator:n}=i;if(typeof n=="string"&&(n=Kb[n],!n))throw An.Error("E4001",i.aggregator);return{selector:e,aggregator:n,skipEmptyValues:t}}var M1=class{constructor(e){this._data=e.data,this._groupLevel=e.groupLevel||0,this._totalAggregates=k1(e.totalAggregates||[],Ree),this._groupAggregates=k1(e.groupAggregates||[],Ree),this._totals=[]}calculate(){this._totalAggregates.length&&this._calculateTotals(0,{items:this._data}),this._groupAggregates.length&&this._groupLevel>0&&this._calculateGroups({items:this._data})}totalAggregates(){return this._totals}_aggregate(e,t,n){let o=t.items?t.items.length:0;for(let r=0;r<e.length;r++){if(UAe(e[r].aggregator)){n[r]=(n[r]||0)+o;continue}for(let s=0;s<o;s++)this._accumulate(r,e[r],n,t.items[s])}}_calculateTotals(e,t){if(e===0&&(this._totals=this._seed(this._totalAggregates)),e===this._groupLevel)this._aggregate(this._totalAggregates,t,this._totals);else for(let n=0;n<t.items.length;n++)this._calculateTotals(e+1,t.items[n]);e===0&&(this._totals=this._finalize(this._totalAggregates,this._totals))}_calculateGroups(e){let t=this._groupLevel,n=t+1,o=this._seed.bind(this,this._groupAggregates),r=this._aggregate.bind(this,this._groupAggregates),s=this._finalize.bind(this,this._groupAggregates);function a(l){l.aggregates=o(n-1),n===t?r(l,l.aggregates):GB(n,t,l,d=>{r(d,l.aggregates)}),l.aggregates=s(l.aggregates)}for(;--n>0;)GB(0,n,e,a)}_seed(e,t){return k1(e,n=>{let{aggregator:o}=n;return"seed"in o?Ie(o.seed)?o.seed(t):o.seed:NaN})}_accumulate(e,t,n,o){let r=t.selector(o),{aggregator:s}=t,{skipEmptyValues:a}=t;a&&WAe(r)||(n[e]!==n[e]?n[e]=r:n[e]=s.step(n[e],r))}_finalize(e,t){return k1(e,(n,o)=>{let r=n.aggregator.finalize;return r?r(t[o]):t[o]})}};var GAe="dx-cell-focus-disabled";var Lee=function(i,e){let t=I(i),{column:n}=e,{summaryItems:o}=e,r=[];if(!n.command&&o){for(let s=0;s<o.length;s++){let a=o[s],l=qe.getSummaryText(a,e.summaryTexts);r.push(I("<div>").css("textAlign",a.alignment||n.alignment).addClass("dx-datagrid-summary-item").addClass("dx-datagrid-text-content").addClass(a.cssClass).toggleClass("dx-datagrid-group-text-content",e.rowType==="group").text(l).attr("aria-label",`${n.caption} ${l}`))}t.append(r)}},Nee=function(i,e){let t=i.option("summary.texts")||{};return{totalItem:e.row,summaryItems:e.row.summaryCells[e.columnIndex],summaryTexts:t}},KB=function(i){return i.summary||i.aggregates||[]},YB=function(i){return i.option("summary.recalculateWhileEditing")},Bee=function(i,e,t,n){n=n||[];for(let o=0;o<i.length;o++)n.push(i[o].key),e===1?t(n,i[o].items):Bee(i[o].items,e-1,t,n),n.pop()},Vee=function(i,e,t){return t?Vee(i,e.map(n=>({items:[n]}),t-1)):i.concat(e)},Hee=function(i,e,t){return t?i.map(n=>{let o={},r=Hee(n.items||[],e,t-1);return Object.defineProperty(o,"aggregates",{get:()=>n.aggregates,set:s=>{n.aggregates=s}}),q(o,n,{items:r})}):i.filter(n=>e.indexOf(n)<0)},zee=function(i,e,t){if(!i||!e.length)return i;let n=e[0],o=t[0],r;return n&&o&&o.length&&(r=ro(i),ee(o,function(s){s===0?r=r.sortBy(this.selector,this.desc):r=r.thenBy(this.selector,this.desc)}),r.enumerate().done(s=>{i=s})),e=e.slice(1),t=t.slice(1),e.length&&t.length&&ee(i,function(){this.items=zee(this.items,e,t)}),i},Fee=function(i,e,t){let n=t&&t.sortByGroups&&t.sortByGroups();return n&&n.length?zee(i,e,n):i},Pee=function(i,e,t,n){let o;if(YB(i)){let r=i._editingController;if(r){let s=r.getInsertedData();s.length&&(t=Vee(t,s,n));let a=r.getRemovedData();a.length&&(t=Hee(t,a,n))}}return e&&(o=new M1({totalAggregates:e.totalAggregates,groupAggregates:e.groupAggregates,data:t,groupLevel:n}),o.calculate()),o?o.totalAggregates():[]},qB=class extends $a{_getRows(){return this._dataController.footerItems()}_getCellOptions(e){return q(super._getCellOptions(e),Nee(this,e))}_renderCellContent(e,t){Lee(e,t),super._renderCellContent.apply(this,arguments)}_renderCore(e){let t=!1,n=this._dataController.footerItems()[0];(!e||!e.columnIndices)&&(this.element().empty().addClass("dx-datagrid-total-footer").toggleClass("dx-datagrid-nowrap",!this.option("wordWrapEnabled")),t=!0),n&&n.summaryCells&&n.summaryCells.length&&(this._updateContent(this._renderTable({change:e}),e),t&&this._updateScrollLeftPosition())}_updateContent(e,t){return t&&t.changeType==="update"&&t.columnIndices?this.waitAsyncTemplates().done(()=>{let n=this.getTableElement().find(".dx-row"),o=e.find(".dx-row");this._updateCells(n,o,t.columnIndices[0])}):super._updateContent.apply(this,arguments)}_rowClick(e){let t=this._dataController.footerItems()[e.rowIndex]||{};this.executeAction("onRowClick",q({},e,t))}_columnOptionChanged(e){let{optionNames:t}=e;e.changeTypes.grouping||(t.width||t.visibleWidth)&&super._columnOptionChanged(e)}_handleDataChanged(e){let{changeType:t}=e;e.changeType==="update"&&e.repaintChangesOnly?e.totalColumnIndices?e.totalColumnIndices.length&&this.render(null,{changeType:"update",columnIndices:[e.totalColumnIndices]}):this.render():(t==="refresh"||t==="append"||t==="prepend")&&this.render()}_createRow(e){let t=super._createRow.apply(this,arguments);return e.rowType==="totalFooter"&&(t.addClass("dx-footer-row"),t.addClass(GAe),t.attr("tabindex",0)),t}getHeight(){return this.getElementHeight()}isVisible(){return!!this._dataController.footerItems().length}},KAe=i=>class extends i{init(){super.init.apply(this,arguments),this._editingController=this.getController("editing"),this._totalAggregates=[],this._summaryGetter=pe}summaryGetter(e){if(!arguments.length)return this._summaryGetter;Ie(e)&&(this._summaryGetter=e)}summary(e){if(!arguments.length)return this._summaryGetter();this._summaryGetter=function(){return e}}totalAggregates(){return this._totalAggregates}isLastLevelGroupItemsPagingLocal(){let e=this.summary(),t=e?.sortByGroups();return t?.length}sortLastLevelGroupItems(e,t,n){let o=Kr.multiLevelGroup(ro(e),t).toArray(),r=[];return n.forEach(s=>{Bee(o,t.length,(a,l)=>{s.toString()===a.toString()&&(r=r.concat(l))})}),r}_customizeRemoteOperations(e){let t=this.summary();t&&(e.remoteOperations.summary?(!e.isCustomLoading||e.storeLoadOptions.isLoadingAll)&&(e.storeLoadOptions.group&&(e.remoteOperations.grouping?e.storeLoadOptions.groupSummary=t.groupAggregates:t.groupAggregates.length&&(e.remoteOperations.paging=!1)),e.storeLoadOptions.totalSummary=t.totalAggregates):(t.totalAggregates.length||t.groupAggregates.length&&e.storeLoadOptions.group)&&(e.remoteOperations.paging=!1)),super._customizeRemoteOperations.apply(this,arguments);let n=e.cachedData.extra;n!=null&&n.summary&&!e.isCustomLoading&&(e.storeLoadOptions.totalSummary=void 0)}_handleDataLoadedCore(e){let t=us(e.storeLoadOptions.group||e.loadOptions.group||[]),n=e.remoteOperations||{},o=this.summaryGetter()(n);if(!e.isCustomLoading||e.storeLoadOptions.isLoadingAll){if(n.summary)!n.paging&&t.length&&o&&(n.grouping||Pee(this,{groupAggregates:o.groupAggregates},e.data,t.length),e.data=Fee(e.data,t,o));else if(!n.paging&&o){var r;let s=e.operationTypes||{};if(!Object.keys(s).some(l=>s[l])||!((r=e.cachedData)!==null&&r!==void 0&&(r=r.extra)!==null&&r!==void 0&&r.summary)||t.length&&o.groupAggregates.length){let l=Pee(this,o,e.data,t.length);e.extra=ht(e.extra)?e.extra:{},e.extra.summary=l,e.cachedData&&(e.cachedData.extra=e.extra)}e.data=Fee(e.data,t,o)}}e.isCustomLoading||(this._totalAggregates=e.extra&&e.extra.summary||this._totalAggregates),super._handleDataLoadedCore(e)}};Wh.extend(KAe);var qAe=i=>class extends i{_isDataColumn(e){return e&&(!U(e.groupIndex)||e.showWhenGrouped)}_isGroupFooterVisible(){let e=this.option("summary.groupItems")||[];for(let t=0;t<e.length;t++){let n=e[t],o=this._columnsController.columnOption(n.showInColumn||n.column);if(n.showInGroupFooter&&this._isDataColumn(o))return!0}return!1}_processGroupItems(e,t,n){let o=n&&n.data,r=super._processGroupItems.apply(this,arguments);return n&&(n.isGroupFooterVisible===void 0&&(n.isGroupFooterVisible=this._isGroupFooterVisible()),o&&o.items&&n.isGroupFooterVisible&&(n.collectContinuationItems||!o.isContinuationOnNextPage)&&r.push({rowType:"groupFooter",key:n.path.slice(),data:o,groupIndex:n.path.length-1,values:[]})),r}_processGroupItem(e,t){let n=this;if(t.summaryGroupItems||(t.summaryGroupItems=n.option("summary.groupItems")||[]),e.rowType==="group"){let o=-1,r=-1;ee(t.visibleColumns,function(s){let a=t.visibleColumns[s-1];e.groupIndex===this.groupIndex&&(o=this.index),s>0&&a.command==="expand"&&this.command!=="expand"&&(r=this.index)}),e.summaryCells=this._calculateSummaryCells(t.summaryGroupItems,KB(e.data),t.visibleColumns,(s,a)=>s.showInGroupFooter?-1:s.alignByColumn&&a&&!U(a.groupIndex)&&a.index!==r?a.index:o,!0)}return e.rowType==="groupFooter"&&(e.summaryCells=this._calculateSummaryCells(t.summaryGroupItems,KB(e.data),t.visibleColumns,(o,r)=>o.showInGroupFooter&&n._isDataColumn(r)?r.index:-1)),e}_calculateSummaryCells(e,t,n,o,r){let s=this,a=[],l={};return ee(e,(d,c)=>{let u=s._columnsController.columnOption(c.column),h=c.showInColumn&&s._columnsController.columnOption(c.showInColumn)||u,f=o(c,h);if(f>=0){l[f]||(l[f]=[]);let p=t[d];if(p===p){let m;U(c.valueFormat)?m=c.valueFormat:c.summaryType!=="count"&&(m=qe.getFormatByDataType(u&&u.dataType)),l[f].push(q({},c,{value:We(p)&&u&&u.deserializeValue?u.deserializeValue(p):p,valueFormat:m,columnCaption:u&&u.index!==f?u.caption:void 0}))}}}),Gn(l)||n.forEach((d,c)=>{let u=n[c-1],h=r&&(u?.command==="expand"||d.command==="expand")?u?.index:d.index;a.push(l[h]||[])}),a}_getSummaryCells(e,t){let n=this,o=n._columnsController;return n._calculateSummaryCells(e,t,o.getVisibleColumns(),(r,s)=>n._isDataColumn(s)?s.index:-1)}_updateItemsCore(e){let t=this,n,o=t._dataSource,r=t._footerItems,s=r&&r[0]&&r[0].summaryCells,a=t.option("summary.totalItems");if(t._footerItems=[],o&&a&&a.length){let l=o.totalAggregates();n=t._getSummaryCells(a,l),e&&e.repaintChangesOnly&&s&&(e.totalColumnIndices=n.map((d,c)=>JSON.stringify(d)!==JSON.stringify(s[c])?c:-1).filter(d=>d>=0)),n.length&&t._footerItems.push({rowType:"totalFooter",summaryCells:n})}super._updateItemsCore(e)}_prepareUnsavedDataSelector(e){if(YB(this)){let t=this._editingController;if(t)return function(n){return n=t.getUpdatedData(n),e(n)}}return e}_prepareAggregateSelector(e,t){return e=this._prepareUnsavedDataSelector(e),t==="avg"||t==="sum"?function(n){let o=e(n);return U(o)?Number(o):o}:e}_getAggregates(e,t){let n=this,o=n.option("summary.calculateCustomSummary"),r=n.option("summary.skipEmptyValues");return tn(e||[],s=>{let a=this._columnsController.columnOption(s.column),l=a&&a.calculateCellValue?a.calculateCellValue.bind(a):Qt(a?a.dataField:s.column),d=s.summaryType||"count",c=U(s.skipEmptyValues)?s.skipEmptyValues:r;if(t)return{selector:s.column,summaryType:d};let u=n._prepareAggregateSelector(l,d);if(d==="custom"){o||(bt.log("E1026"),o=function(){});let h={component:n.component,name:s.name};o(h),h.summaryProcess="calculate",d={seed(f){return h.summaryProcess="start",h.totalValue=void 0,h.groupIndex=f,delete h.value,o(h),h.totalValue},step(f,p){return h.summaryProcess="calculate",h.totalValue=f,h.value=p,o(h),h.totalValue},finalize(f){return h.summaryProcess="finalize",h.totalValue=f,delete h.value,o(h),h.totalValue}}}return{selector:u,aggregator:d,skipEmptyValues:c}})}_addSortInfo(e,t,n,o){if(t){let{groupIndex:r}=t;o=o||t.sortOrder,U(r)&&(e[r]=e[r]||[],e[r].push({selector:n,desc:o==="desc"}))}}_findSummaryItem(e,t){let n=-1;return U(t)&&ee(e||[],function(o){if(this.name===t||o===t||this.summaryType===t||this.column===t||function(r){let{summaryType:s}=r,{column:a}=r;return s&&a&&`${s}_${a}`}(this)===t)return n=o,!1}),n}_getSummarySortByGroups(e,t){let n=this,o=n._columnsController,r=o.getGroupColumns(),s=[];if(!(!t||!t.length))return ee(e||[],function(){let{sortOrder:a}=this,{groupColumn:l}=this,d=n._findSummaryItem(t,this.summaryItem);if(d<0)return;let c=function(u){return KB(u)[d]};U(l)?(l=o.columnOption(l),n._addSortInfo(s,l,c,a)):ee(r,(u,h)=>{n._addSortInfo(s,h,c,a)})}),s}_createDataSourceAdapterCore(e,t){let n=this,o=super._createDataSourceAdapterCore(e,t);return o.summaryGetter(r=>n._getSummaryOptions(r||t)),o}_getSummaryOptions(e){let t=this,n=t.option("summary.groupItems"),o=t.option("summary.totalItems"),r=t.option("sortByGroupSummaryInfo"),s=t._getAggregates(n,e&&e.grouping&&e.summary),a=t._getAggregates(o,e&&e.summary),l=function(){return t._getSummarySortByGroups(r,n)};if(s.length||a.length)return{groupAggregates:s,totalAggregates:a,sortByGroups:l}}publicMethods(){let e=super.publicMethods();return e.push("getTotalSummaryValue"),e}getTotalSummaryValue(e){let t=this._findSummaryItem(this.option("summary.totalItems"),e),n=this._dataSource.totalAggregates();if(n.length&&t>-1)return n[t]}optionChanged(e){(e.name==="summary"||e.name==="sortByGroupSummaryInfo")&&(e.name="dataSource"),super.optionChanged(e)}init(){this._footerItems=[],super.init()}footerItems(){return this._footerItems}},YAe=i=>class extends i{_refreshSummary(){YB(this)&&!this.isSaving()&&this._dataController.refresh({load:!0,changesOnly:!0})}_addChange(e){let t=super._addChange.apply(this,arguments);return e.type&&this._refreshSummary(),t}_removeChange(){let e=super._removeChange.apply(this,arguments);return this._refreshSummary(),e}cancelEditData(){let e=super.cancelEditData.apply(this,arguments);return this._refreshSummary(),e}},XAe=i=>class extends i{_createRow(e){let t=super._createRow.apply(this,arguments);return e&&t.addClass(e.rowType==="groupFooter"?"dx-datagrid-group-footer":""),t}_renderCells(e,t){super._renderCells.apply(this,arguments),t.row.rowType==="group"&&t.row.summaryCells&&t.row.summaryCells.length&&this._renderGroupSummaryCells(e,t)}_hasAlignByColumnSummaryItems(e,t){return!U(t.columns[e].groupIndex)&&t.row.summaryCells[e].length}_getAlignByColumnCellCount(e,t){let n=0;for(let o=1;o<e;o++){let r=t.row.summaryCells.length-o;n=this._hasAlignByColumnSummaryItems(r,t)?o:n}return n}_renderGroupSummaryCells(e,t){let n=e.children().last(),o=Number(n.attr("colSpan"))||1,r=this._getAlignByColumnCellCount(o,t);this._renderGroupSummaryCellsCore(n,t,o,r)}_renderGroupSummaryCellsCore(e,t,n,o){if(o>0){e.attr("colSpan",n-o);for(let r=0;r<o;r++){let s=t.columns.length-o+r;this._renderCell(e.parent(),q({column:t.columns[s],columnIndex:this._getSummaryCellIndex(s,t.columns)},t))}}}_getSummaryCellIndex(e,t){return e}_getCellTemplate(e){return!e.column.command&&!U(e.column.groupIndex)&&e.summaryItems&&e.summaryItems.length?Lee:super._getCellTemplate(e)}_getCellOptions(e){let t=this,n=super._getCellOptions(e);return e.row.summaryCells?q(n,Nee(t,e)):n}};qe.registerModule("summary",{defaultOptions:()=>({summary:{groupItems:void 0,totalItems:void 0,calculateCustomSummary:void 0,skipEmptyValues:!0,recalculateWhileEditing:!1,texts:{sum:de.format("dxDataGrid-summarySum"),sumOtherColumn:de.format("dxDataGrid-summarySumOtherColumn"),min:de.format("dxDataGrid-summaryMin"),minOtherColumn:de.format("dxDataGrid-summaryMinOtherColumn"),max:de.format("dxDataGrid-summaryMax"),maxOtherColumn:de.format("dxDataGrid-summaryMaxOtherColumn"),avg:de.format("dxDataGrid-summaryAvg"),avgOtherColumn:de.format("dxDataGrid-summaryAvgOtherColumn"),count:de.format("dxDataGrid-summaryCount")}},sortByGroupSummaryInfo:void 0}),views:{footerView:qB},extenders:{controllers:{data:qAe,editing:YAe},views:{rowsView:XAe}}});var ZAe="dx-master-detail-row",du=function(i){let e=-1;return ee(i,(t,n)=>{if(n.command==="transparent")return e=t,!1}),e},jee=function(i,e,t){let n=0;if(i&&e&&t)for(let o=0;o<i.length;o++)i[o].command==="transparent"?n+=i[o].colspan:(e[n]<t[o]&&(e[n]=t[o]),n++);return e},XB=i=>class extends i{init(){super.init(),this._isFixedTableRendering=!1,this._isFixedColumns=!1}_createCol(e){return super._createCol(e).toggleClass("dx-col-fixed",!!(this._isFixedTableRendering&&(e.fixed||e.command&&e.command!=="transparent")))}isIndicesArray(e){return Array.isArray(e)&&e.length>0}_correctColumnIndicesForFixedColumns(e,t){var n;let o=t?.columnIndices;if(!this.isIndicesArray(o))return;let r=du(e),s=e[r].colspan,a=r+s,l=t==null||(n=t.items)===null||n===void 0?void 0:n.map(d=>{let{rowType:c}=d;return c});t.columnIndices=o.map((d,c)=>this.isIndicesArray(d)?l&&l[c]==="group"?[...d]:d.reduce((h,f)=>{switch(!0){case f<r:h.push(f);break;case f>=a:h.push(f-s+1)}return h},[]):d)}_partialUpdateFixedTable(e,t){let n=this._fixedTableElement,o=this._getRowElementsCore(n);n.children("colgroup").replaceWith(this._createColGroup(e));for(let s=0;s<t.length;s++)this._partialUpdateFixedRow(I(o[s]),e,t[s])}_partialUpdateFixedRow(e,t,n){let o=e.get(0).childNodes,r=du(t),s=t[r],a=this._columnsController.getColumnIndexOffset(),l,d=a+1,{colspan:c}=s;if(e.hasClass(ZAe)){var u;o[0].setAttribute("colspan",(u=this._columnsController.getVisibleColumns())===null||u===void 0?void 0:u.length);return}if(e.hasClass("dx-group-row"))if(l=this._getGroupCellOptions({row:n,columns:this._columnsController.getVisibleColumns()}),n.summaryCells.length>0){let f=this._getAlignByColumnCellCount(l.colspan,{columns:this._columnsController.getVisibleColumns(),row:n,isFixed:!0});c=l.colspan-f}else c=l.colspan-Math.max(0,o.length-(l.columnIndex+2));for(let h=0;h<o.length;h++){let f=l?h===l.columnIndex+1:h===r;o[h].setAttribute("aria-colindex",d),f?(o[h].setAttribute("colspan",c),d+=c):d++}}_renderTable(e){let t,n=this.getFixedColumns();this._isFixedColumns=!!n.length;let o=super._renderTable(e);if(this._isFixedColumns){var r;let a=e?.change,l=this._getRowElements(this._fixedTableElement),d=a?.virtualColumnsScrolling&&l.length===(a==null||(r=a.items)===null||r===void 0?void 0:r.length);if(this._isFixedTableRendering=!0,d&&this.option("scrolling.legacyMode")!==!0){var s;this._partialUpdateFixedTable(n,e==null||(s=e.change)===null||s===void 0?void 0:s.items),this._isFixedTableRendering=!1}else{let c=a?.columnIndices;this._correctColumnIndicesForFixedColumns(n,a),t=this._createTable(n),this._renderRows(t,q({},e,{columns:n})),this._updateContent(t,a,!0),c&&(a.columnIndices=c),this._isFixedTableRendering=!1}}else this._fixedTableElement&&this._fixedTableElement.parent().remove(),this._fixedTableElement=null;return o}_renderRow(e,t){let n,{cells:o}=t.row;if(super._renderRow.apply(this,arguments),this._isFixedTableRendering&&o&&o.length){n=0;let r=t.row.cells||[];o=o.slice(),t.row.cells=o;for(let s=0;s<r.length;s++){if(r[s].column&&r[s].column.command==="transparent"){n=(r[s].column.colspan||1)-1;continue}o[s+n]=r[s]}}}_createCell(e){let t=this,{column:n}=e,o=n&&n.command,{rowType:r}=e,s=super._createCell.apply(t,arguments),a,l,d;(t._isFixedTableRendering||r==="filter")&&(a=t.getFixedColumns(),d=du(a),l=a[d-1]),t._isFixedTableRendering?o==="transparent"&&(s.addClass("dx-pointer-events-none").toggleClass("dx-first-cell",d===0||l&&l.command==="expand").toggleClass("dx-last-cell",a.length&&d===a.length-1),r!=="freeSpace"&&De.setEmptyText(s)):r==="filter"&&s.toggleClass("dx-first-cell",e.columnIndex===d);let c=t.option("rowAlternationEnabled")&&e.isAltRow,u=t.option("selection.mode")==="multiple"&&e.columnIndex===0&&e.rowType==="header";return gi.mozilla&&e.column.fixed&&e.rowType!=="group"&&!c&&!u&&s.addClass("dx-col-fixed"),s}_getContent(e){var t;return e?(t=this._fixedTableElement)===null||t===void 0?void 0:t.parent():super._getContent.apply(this,arguments)}_wrapTableInScrollContainer(e,t){let n=super._wrapTableInScrollContainer.apply(this,arguments);return(this._isFixedTableRendering||t)&&n.addClass(this.addWidgetPrefix("content-fixed")),n}_renderCellContent(e,t){let n,{column:o}=t,r=this._isFixedTableRendering,s=t.rowType==="group"&&U(o.groupIndex);if(r&&s&&!o.command&&!o.groupCellTemplate&&e.css("pointerEvents","none"),!r&&this._isFixedColumns){if(n=o.fixed||o.command&&o.fixed!==!1,s&&(n=!1,t.row.summaryCells&&t.row.summaryCells.length)){var a;let l=this._columnsController.getVisibleColumns(),d=((a=this._getAlignByColumnCellCount)===null||a===void 0?void 0:a.call(this,o.colspan,{columns:l,row:t.row,isFixed:!0}))??0;if(d>0){let c=du(this._columnsController.getFixedColumns());n=l.length-d<c}}if(n){if(o.command&&o.type!=="buttons"||t.rowType==="group"){e.html("&nbsp;").addClass(o.cssClass);return}e.addClass("dx-hidden-cell")}}o.command!=="transparent"&&super._renderCellContent.apply(this,arguments)}_getCellElementsCore(e){let t=super._getCellElementsCore.apply(this,arguments),n=t?.parent().hasClass("dx-group-row"),o=this.name==="columnHeadersView"?e:void 0;if(this._fixedTableElement&&t){let r=this.getFixedColumns(o),s=this._getRowElements(this._fixedTableElement).eq(e).children("td");ee(s,(a,l)=>{if(n)t[a]&&l.style.visibility!=="hidden"&&(t[a]=l);else{let d=r[a];if(d)if(d.command==="transparent")s.eq(a).hasClass("dx-master-detail-cell")&&(t[a]=l||t[a]);else{let c=this._columnsController.getVisibleIndexByColumn(d,o);t[c]=l||t[c]}}})}return t}getColumnWidths(e){let t=super.getColumnWidths(),n=this.getFixedColumns(),o=this._fixedTableElement&&t.length?super.getColumnWidths(this._fixedTableElement):void 0;return jee(n,t,o)}getTableElement(e){return e=this._isFixedTableRendering||e,e?this._fixedTableElement:super.getTableElement()}setTableElement(e,t){this._isFixedTableRendering||t?this._fixedTableElement=e.addClass("dx-pointer-events-none"):super.setTableElement(e)}getColumns(e){let t=this.getTableElement();return this._isFixedTableRendering?this.getFixedColumns(e):super.getColumns(e,t)}getRowIndex(e){let t=this._fixedTableElement;return t&&t.find(e).length?this._getRowElements(t).index(e):super.getRowIndex(e)}getTableElements(){let e=super.getTableElements.apply(this,arguments);return this._fixedTableElement&&(e=I([e.get(0),this._fixedTableElement.get(0)])),e}getFixedColumns(e){return this._columnsController.getFixedColumns(e)}getFixedColumnsOffset(){let e={left:0,right:0},t;if(this._fixedTableElement){t=this.getTransparentColumnElement();let n=t.position();e={left:n.left,right:Ft(this.element(),!0)-(Ft(t,!0)+n.left)}}return e}getTransparentColumnElement(){return this._fixedTableElement&&this._fixedTableElement.find(".dx-pointer-events-none").first()}getFixedTableElement(){return this._fixedTableElement}isFixedColumns(){return this._isFixedColumns}_resizeCore(){super._resizeCore(),this.synchronizeRows()}setColumnWidths(e){var t;let{widths:n}=e,o=this._columnsController.getVisibleColumns(),r=n?.length&&o.some(d=>U(d.visibleWidth)),s=(t=e.optionNames)===null||t===void 0?void 0:t.width;if(super.setColumnWidths(e),this._fixedTableElement){let u=n?.some(h=>h==="auto"||!U(h))&&(!r||!this.isScrollbarVisible(!0))?o:this.getFixedColumns();this.setFixedTableColumnWidths(u,n)}let a=this.option("wordWrapEnabled");(r||s&&a)&&this.synchronizeRows()}setFixedTableColumnWidths(e,t){if(!this._fixedTableElement||!t)return;let n=this._fixedTableElement.children("colgroup").children("col");n.toArray().forEach(r=>r.removeAttribute("style"));let o=0;e.forEach(r=>{if(r.colspan){o+=r.colspan;return}let s=W2(t[o]);U(s)&&Eb(n.eq(o),s),o+=1})}_getClientHeight(e){let t=e.getBoundingClientRect&&un(e);return t&&t.height?t.height:e.clientHeight}synchronizeRows(){let e=[],t=[],n,o,r,s;this.waitAsyncTemplates(!0).done(()=>{if(this._isFixedColumns&&this._tableElement&&this._fixedTableElement){let a=this._getClientHeight(this._tableElement.get(0)),l=this._getClientHeight(this._fixedTableElement.get(0));if(o=this._getRowElements(this._tableElement),r=this._getRowElements(this._fixedTableElement),s=this._findContentElement(),a!==l){for(s&&s.css("height",a),o.css("height",""),r.css("height",""),n=0;n<o.length;n++)e.push(this._getClientHeight(o.get(n))),t.push(this._getClientHeight(r.get(n)));for(n=0;n<o.length;n++){let d=e[n],c=t[n];d>c?r.eq(n).css("height",d):d<c&&o.eq(n).css("height",c)}s&&s.css("height","")}}})}setScrollerSpacing(e,t){let n=this.option("rtlEnabled");super.setScrollerSpacing(e),this.element().children(`.${this.addWidgetPrefix("content-fixed")}`).css({paddingLeft:n?e:"",paddingRight:n?"":e})}},QAe=i=>class extends XB(i){_getRowVisibleColumns(e){return this._isFixedTableRendering?this.getFixedColumns(e):super._getRowVisibleColumns(e)}getContextMenuItems(e){let{column:t}=e,n=this.option("columnFixing"),o=super.getContextMenuItems(e);if(e.row&&e.row.rowType==="header"&&n.enabled===!0&&t&&t.allowFixing){let r=s=>{switch(s.itemData.value){case"none":this._columnsController.columnOption(t.index,"fixed",!1);break;case"left":this._columnsController.columnOption(t.index,{fixed:!0,fixedPosition:"left"});break;case"right":this._columnsController.columnOption(t.index,{fixed:!0,fixedPosition:"right"})}};o=o||[],o.push({text:n.texts.fix,beginGroup:!0,items:[{text:n.texts.leftPosition,value:"left",disabled:t.fixed&&(!t.fixedPosition||t.fixedPosition==="left"),onItemClick:r},{text:n.texts.rightPosition,value:"right",disabled:t.fixed&&t.fixedPosition==="right",onItemClick:r}]},{text:n.texts.unfix,value:"none",disabled:!t.fixed,onItemClick:r})}return o}getFixedColumnElements(e){let t=this;if(U(e))return this._fixedTableElement&&this._getRowElements(this._fixedTableElement).eq(e).children();let n=t.getColumnElements(),o=t.getTransparentColumnElement();if(n&&o&&o.length){let r=du(t.getFixedColumns());n.splice(r,o.get(0).colSpan,o.get(0))}return n}getColumnWidths(){let e=this,t,n=super.getColumnWidths(),o=e.getFixedColumnElements(),r=e.getFixedColumns();return e._fixedTableElement&&(o&&o.length?t=e._getWidths(o):t=super.getColumnWidths(e._fixedTableElement)),jee(r,n,t)}},JAe=i=>class extends XB(i){dispose(){super.dispose.apply(this,arguments),clearTimeout(this._fixedScrollTimeout)}optionChanged(e){super.optionChanged(e),e.name==="hoverStateEnabled"&&this._isFixedColumns&&(e.value?this._attachHoverEvents():this._detachHoverEvents())}_detachHoverEvents(){let e=this.element();this._fixedTableElement&&this._tableElement&&X.off(e,"mouseover mouseout",".dx-data-row")}_attachHoverEvents(){this._fixedTableElement&&this._tableElement&&X.on(this.element(),"mouseover mouseout",".dx-data-row",this.createAction(e=>{let{event:t}=e,n=this.getRowIndex(I(t.target).closest(".dx-row")),o=t.type==="mouseover";n>=0&&(this._tableElement&&this._getRowElements(this._tableElement).eq(n).toggleClass("dx-state-hover",o),this._fixedTableElement&&this._getRowElements(this._fixedTableElement).eq(n).toggleClass("dx-state-hover",o))}))}_getScrollDelay(){var e;return((e=this._resizingController)===null||e===void 0?void 0:e.hasResizeTimeout())?this.option("scrolling.updateTimeout"):gi.mozilla?60:0}_findContentElement(e){let t,n,o=this.addWidgetPrefix("content"),r=this.element();if(e=this._isFixedTableRendering||e,r&&e){t=r.children(`.${o}`);let s=this.getScrollable();return!t.length&&s&&(t=I("<div>").addClass(o),X.on(t,"scroll",a=>{let{target:l}=a,d=this._getScrollDelay();clearTimeout(this._fixedScrollTimeout),this._fixedScrollTimeout=setTimeout(()=>{n=I(l).scrollTop(),s.scrollTo({y:n})},d)}),X.on(t,hh,a=>{let l=I(a.target).closest(".dx-scrollable"),d=!1;if(s&&s.$element().is(l))d=!0;else{let c=l.length&&wr.getInstance(l.get(0)),u=c&&c.scrollHeight()-c.clientHeight()>0;d=c&&!u}if(d){n=s.scrollTop(),s.scrollTo({y:n-a.delta});let c=s.scrollTop()+s.clientHeight(),u=s.scrollHeight()+this.getScrollbarWidth();if(s.scrollTop()>0&&c<u)return!1}}),t.appendTo(r)),t}return super._findContentElement()}_updateScrollable(){super._updateScrollable();let e=this.getScrollable();if(e!=null&&e._disposed)return;let t=e&&e.scrollOffset().top;this._updateFixedTablePosition(t)}_renderContent(e,t,n){return this._isFixedTableRendering||n?e.empty().addClass(`${this.addWidgetPrefix("content")} ${this.addWidgetPrefix("content-fixed")}`).append(t):super._renderContent(e,t)}_getGroupCellOptions(e){return this._isFixedTableRendering?super._getGroupCellOptions(q({},e,{columns:this._columnsController.getVisibleColumns()})):super._getGroupCellOptions(e)}_renderGroupedCells(e,t){return super._renderGroupedCells(e,q({},t,{columns:this._columnsController.getVisibleColumns()}))}_renderGroupSummaryCells(e,t){this._isFixedTableRendering?super._renderGroupSummaryCells(e,q({},t,{columns:this._columnsController.getVisibleColumns()})):super._renderGroupSummaryCells(e,t)}_hasAlignByColumnSummaryItems(e,t){let n=super._hasAlignByColumnSummaryItems.apply(this,arguments),o=t.columns[e];return t.isFixed?o.fixed&&(n||o.fixedPosition==="right"):n&&(!this._isFixedColumns||!o.fixed)}_renderGroupSummaryCellsCore(e,t,n,o){let r;if(this._isFixedTableRendering){t.isFixed=!0,r=this._getAlignByColumnCellCount(n,t),t.isFixed=!1;let s=t.columns.length-r;t=q({},t,{columns:this.getFixedColumns()});let a=du(t.columns);s<a?(r-=t.columns[a].colspan-1||0,n-=t.columns[a].colspan-1||0):o>0&&e.css("visibility","hidden"),o=r}super._renderGroupSummaryCellsCore(e,t,n,o)}_getSummaryCellIndex(e,t){if(this._isFixedTableRendering){let n=du(t);return e>n&&(e+=t[n].colspan-1),e}return super._getSummaryCellIndex.apply(this,arguments)}_renderCore(e){this._detachHoverEvents();let t=super._renderCore(e),n=this._isFixedColumns;return this.element().toggleClass("dx-fixed-columns",n),this.option("hoverStateEnabled")&&n&&this._attachHoverEvents(),t}setAriaOwns(e,t,n){if(n){var o;let r=this.addWidgetPrefix("content-fixed"),s=(o=this.element())===null||o===void 0?void 0:o.children(`.${r}`),a=this.getFixedTableElement();s.length&&a!==null&&a!==void 0&&a.length&&this.setAria("owns",`${e??""} ${a.attr("id")??""} ${t??""}`.trim(),s)}else super.setAriaOwns.apply(this,arguments)}setRowsOpacity(e,t){super.setRowsOpacity(e,t);let n=this._getRowElements(this._fixedTableElement);this._setRowsOpacityCore(n,this.getFixedColumns(),e,t)}getCellIndex(e){let t=this._fixedTableElement,n=0;if(t&&e.is("td")&&e.closest(t).length){let o=this.getFixedColumns();return ee(o,(r,s)=>{if(r===e[0].cellIndex)return!1;if(s.colspan){n+=s.colspan;return}n++}),n}return super.getCellIndex.apply(this,arguments)}_updateFixedTablePosition(e,t){if(this._fixedTableElement&&this._tableElement){let n;this._fixedTableElement.parent().scrollTop(e),t&&this._editorFactoryController&&(n=this._editorFactoryController.focus(),n&&this._editorFactoryController.focus(n))}}setScrollerSpacing(e,t){let n=this,o={marginBottom:0},r=n.element().children(`.${this.addWidgetPrefix("content-fixed")}`);r.length&&n._fixedTableElement&&(r.css(o),n._fixedTableElement.css(o),o[n.option("rtlEnabled")?"marginLeft":"marginRight"]=e,o.marginBottom=t,(n._scrollable&&n._scrollable.option("useNative")?r:n._fixedTableElement).css(o))}_getElasticScrollTop(e){let t=0;if(e.scrollOffset.top<0)t=-e.scrollOffset.top;else if(e.reachedBottom){let n=I(e.component.content()),o=I(e.component.container()),r=Math.max(n.get(0).clientHeight-o.get(0).clientHeight,0);t=Math.min(r-e.scrollOffset.top,0)}return Math.floor(t)}_applyElasticScrolling(e){if(this._fixedTableElement){let t=this._getElasticScrollTop(e);Math.ceil(t)!==0?In(this._fixedTableElement,{top:t}):this._fixedTableElement.css("transform","")}}_handleScroll(e){this._updateFixedTablePosition(e.scrollOffset.top,!0),this._applyElasticScrolling(e),super._handleScroll(e)}_updateContentPosition(e){super._updateContentPosition.apply(this,arguments),e||this._updateFixedTablePosition(this._scrollTop)}_afterRowPrepared(e){this._isFixedTableRendering||super._afterRowPrepared(e)}_scrollToElement(e){super._scrollToElement(e,this.getFixedColumnsOffset())}},eke=i=>class extends XB(i){},tke=function(i,e,t){let n=du(e),o=i.length-e.length;return ee(t,(r,s)=>{s.index>n&&(s.columnIndex+=o,s.index+=o)}),t},ike=i=>class extends i{_generatePointsByColumns(e){let t=e.columns,{targetDraggingPanel:n}=e;if(n&&n.getName()==="headers"&&n.isFixedColumns()&&e.sourceColumn.fixed){e.rowIndex||(e.columnElements=n.getFixedColumnElements(0)),e.columns=n.getFixedColumns(e.rowIndex);let o=super._generatePointsByColumns(e);return tke(t,e.columns,o),o}return super._generatePointsByColumns(e)}_pointCreated(e,t,n,o){let r=super._pointCreated.apply(this,arguments),s=t[e.columnIndex],a=this._columnHeadersView.getTransparentColumnElement();if(!r&&n==="headers"&&a&&a.length){let l=un(a.get(0));return o&&o.fixed?o.fixedPosition==="right"?e.x<l.right:e.x>l.left:s&&s.fixed&&s.fixedPosition!=="right"?!0:e.x<l.left||e.x>l.right}return r}},nke=i=>class extends i{_generatePointsByColumns(){let e=this,t=e._columnsController,n=t&&e._columnsController.getVisibleColumns(),o=t&&e._columnsController.getFixedColumns(),r=du(o),s=n.length-o.length,a=e._columnHeadersView.getFixedColumnElements();super._generatePointsByColumns(),a&&a.length>0&&(e._pointsByFixedColumns=De.getPointsByColumns(a,l=>(l.index>r&&(l.columnIndex+=s,l.index+=s),e._pointCreated(l,n.length,n))))}_getTargetPoint(e,t,n){let o=this._columnHeadersView.getTransparentColumnElement();if(o&&o.length){let r=un(o.get(0));if(t<=r.left||t>=r.right)return super._getTargetPoint(this._pointsByFixedColumns,t,n)}return super._getTargetPoint(e,t,n)}},oke=i=>class extends i{_setAriaOwns(){var e,t,n;super._setAriaOwns.apply(this,arguments);let o=(e=this._columnHeadersView)===null||e===void 0?void 0:e.getFixedTableElement(),r=(t=this._footerView)===null||t===void 0?void 0:t.getFixedTableElement();(n=this._rowsView)===null||n===void 0||n.setAriaOwns(o?.attr("id"),r?.attr("id"),!0)}},rke=i=>class extends i{_toggleInertAttr(e){var t;let n=(t=this._rowsView)===null||t===void 0?void 0:t.getFixedContentElement();e?n?.attr("inert",!0):n?.removeAttr("inert")}},$ee={defaultOptions:()=>({columnFixing:{enabled:!1,texts:{fix:de.format("dxDataGrid-columnFixingFix"),unfix:de.format("dxDataGrid-columnFixingUnfix"),leftPosition:de.format("dxDataGrid-columnFixingLeftPosition"),rightPosition:de.format("dxDataGrid-columnFixingRightPosition")}}}),extenders:{views:{columnHeadersView:QAe,rowsView:JAe,footerView:eke},controllers:{draggingHeader:ike,columnsResizer:nke,resizing:oke,keyboardNavigation:rke}}};qe.registerModule("columnFixing",$ee);var Wee="rowsView",ske="footerView",ZB=["columnHeadersView",Wee,ske],ake="dxDataGridAdaptivity";var Uee="dxDataGrid-ariaAdaptiveExpand",lke="dxDataGrid-ariaAdaptiveCollapse",dke="scrolling.legacyMode";function R1(i,e){return i._columnsController.getColumnId(e)}function cke(i){return i.find("td:not(.dx-datagrid-hidden-column):not([class*='dx-command-'])")}function uke(i,e){let t,n=I(i),o=e.component.getController("adaptiveColumns");e.rowType==="data"?(t=I("<span>").addClass(o.addWidgetPrefix("adaptive-more")),X.on(t,Se(Kt,ake),o.createAction(()=>{o.toggleExpandAdaptiveDetailRow(e.key)})),t.appendTo(n)):De.setEmptyText(n)}function QB(i){var e;let t=(e=i.data)===null||e===void 0?void 0:e.$nextCell;X.off(t,"focus",QB),X.trigger(t,"dxclick")}var JB=class extends li.ViewController{init(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._editingController=this.getController("editing"),this._keyboardNavigationController=this.getController("keyboardNavigation"),this._rowsView=this.getView("rowsView"),this._columnsController.addCommandColumn({type:"adaptive",command:"adaptive",visible:!0,adaptiveHidden:!0,cssClass:"dx-command-adaptive",alignment:"center",width:"auto",cellTemplate:uke,fixedPosition:"right"}),this._columnsController.columnsChanged.add(()=>{let e=!!this.updateHidingQueue(this._columnsController.getColumns()).length;this._columnsController.columnOption("command:adaptive","adaptiveHidden",!e,!0)}),this._hidingColumnsQueue=[],this._hiddenColumns=[],this.createAction("onAdaptiveDetailRowPreparing"),super.init()}optionChanged(e){e.name==="columnHidingEnabled"&&this._columnsController.columnOption("command:adaptive","adaptiveHidden",!e.value),super.optionChanged(e)}publicMethods(){return["isAdaptiveDetailRowExpanded","expandAdaptiveDetailRow","collapseAdaptiveDetailRow"]}_isRowEditMode(){return this._getEditMode()==="row"}_isItemModified(e,t){let n=this._columnsController.getVisibleIndex(e.column.index),o=this._dataController.getRowIndexByKey(t.key),r=this._dataController.items()[o+1];return r&&r.modifiedValues&&U(r.modifiedValues[n])}_renderFormViewTemplate(e,t,n){let o=this,{column:r}=e,s=o.createAction(()=>{o._editingController.isEditing()&&X.trigger(n,Kt)}),a=t.row.data,l=r.calculateCellValue(a),d=De.getDisplayValue(r,l,a,t.rowType),c=De.formatValue(d,r),u=this._editingController.isCellOrBatchEditMode(),h=o._rowsView;if(r.allowEditing&&this._keyboardNavigationController.isKeyboardEnabled()&&(n.attr("tabIndex",o.option("tabIndex")),u&&(X.off(n,"focus",s),X.on(n,"focus",s))),r.cellTemplate){let f=q({},t,{value:l,displayValue:d,text:c,column:r});h.renderTemplate(n,r.cellTemplate,f,ah(n)).done(()=>{h._cellPrepared(n,t)})}else{let f=n.get(0);r.encodeHtml?f.textContent=c:f.innerHTML=c,n.addClass("dx-adaptive-item-text"),(!U(c)||c==="")&&n.html("&nbsp;"),o._isRowEditMode()||o._isItemModified(e,t)&&n.addClass("dx-item-modified"),h._cellPrepared(n,t)}}_getTemplate(e,t,n){let o=this,{column:r}=e,s=this._editingController;return function(a,l){let d=I(l),c=o._columnsController.getVisibleIndex(r.index),u=q({},t),h=function(){let f=o._isItemEdited(e);u.value=t.row.values[c],f||r.showEditorAlways?s.renderFormEditorTemplate(u,e,a,d,!f):(u.column=r,u.columnIndex=c,o._renderFormViewTemplate(e,u,d))};if(h(),u.watch){let f=u.watch(()=>({isItemEdited:o._isItemEdited(e),value:t.row.values[c]}),()=>{d.contents().remove(),d.removeClass("dx-adaptive-item-text"),h()});X.on(d,Io,f)}}}_isVisibleColumnsValid(e){return!(e<2||e.length-function(){let t=0;for(let n=0;n<e.length;n++)e[n].command&&t++;return t}()<=1)}_calculatePercentWidths(e,t){let n=this,o=0;return t.forEach((r,s)=>{e[s]!=="adaptiveHidden"&&(o+=n._getItemPercentWidth(r))}),o}_isPercentWidth(e){return We(e)&&e.endsWith("%")}_isColumnHidden(e){return this._hiddenColumns.filter(t=>t.index===e.index).length>0}_getAverageColumnsWidth(e,t,n){let o=this,r=0,s=0;return t.forEach(a=>{if(!o._isColumnHidden(a)){let{width:l}=a;U(l)&&!isNaN(parseFloat(l))?r+=o._isPercentWidth(l)?o._calculatePercentWidth({visibleIndex:a.visibleIndex,columnsCount:t.length,columnsCanFit:n,bestFitWidth:a.bestFitWidth,columnWidth:l,containerWidth:e}):parseFloat(l):s++}}),(e-r)/s}_calculateColumnWidth(e,t,n,o){let r=R1(this,e),s=this._columnsController.columnOption(r,"width"),a=this._columnsController.columnOption(r,"bestFitWidth"),l=n.length,d;if(s&&s!=="auto")if(this._isPercentWidth(s))d=this._calculatePercentWidth({visibleIndex:e.visibleIndex,columnsCount:l,columnsCanFit:o,bestFitWidth:a,columnWidth:s,containerWidth:t});else return parseFloat(s);else d=this.option("columnAutoWidth")||e.command?a:this._getAverageColumnsWidth(t,n,o);return d}_calculatePercentWidth(e){let t=e.visibleIndex<e.columnsCount-1&&e.columnsCanFit,n=e.containerWidth*parseFloat(e.columnWidth)/100,o=e.columnsCanFit&&n<e.bestFitWidth?e.bestFitWidth:n;return t?e.containerWidth*parseFloat(e.columnWidth)/100:o}_getNotTruncatedColumnWidth(e,t,n,o){let r=R1(this,e),s=this._columnsController.columnOption(r,"width"),a=this._columnsController.columnOption(r,"bestFitWidth");if(s&&s!=="auto"&&!this._isPercentWidth(s))return parseFloat(s);let l=this._calculateColumnWidth(e,t,n,o);return l<a?null:l}_getItemPercentWidth(e){let t=0;return e.width&&this._isPercentWidth(e.width)&&(t=parseFloat(e.width)),t}_getCommandColumnsWidth(){let e=this,t=e._columnsController.getVisibleColumns(),n=0;return ee(t,(o,r)=>{(r.index<0||r.command)&&(n+=e._columnsController.columnOption(R1(e,r),"bestFitWidth")||0)}),n}_isItemEdited(e){if(this.isFormOrPopupEditMode())return!1;if(this._isRowEditMode()){let t=this.option("editing.editRowKey");if(hi(t,this._dataController.adaptiveExpandedKey()))return!0}else{let t=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,n=this._columnsController.getVisibleIndex(e.column.index);return this._editingController.isEditCell(t,n)}}_getFormItemsByHiddenColumns(e){let t=[];return ee(e,(n,o)=>{t.push({column:o,name:o.name,dataField:o.dataField,visibleIndex:o.visibleIndex})}),t}_getAdaptiveColumnVisibleIndex(e){for(let t=0;t<e.length;t++)if(e[t].command==="adaptive")return t}_hideAdaptiveColumn(e,t){let n=this._getAdaptiveColumnVisibleIndex(t);U(n)&&(e[n]="adaptiveHidden",this._hideVisibleColumn({isCommandColumn:!0,visibleIndex:n}))}_showHiddenCellsInView(e){let{$cells:t,isCommandColumn:n}=e,o=this.addWidgetPrefix("hidden-column");n?(o="dx-command-adaptive-hidden",t.attr({tabIndex:0,"aria-hidden":null}).removeClass(o)):t.removeClass(o)}_showHiddenColumns(){for(let e=0;e<ZB.length;e++){let t=this.getView(ZB[e]);if(t&&t.isVisible()&&t.element()){let n=t.name,o=t.element().find(".dx-command-adaptive-hidden");this._showHiddenCellsInView({viewName:n,$cells:o,isCommandColumn:!0});let r=t.element().find(`.${this.addWidgetPrefix("hidden-column")}`);this._showHiddenCellsInView({viewName:n,$cells:r})}}}_isCellValid(e){return e&&e.length&&!e.hasClass("dx-master-detail-cell")&&!e.hasClass("dx-group-cell")}_hideVisibleColumn(e){let{isCommandColumn:t,visibleIndex:n}=e,o=this;ZB.forEach(r=>{let s=o.getView(r);s&&o._hideVisibleColumnInView({view:s,isCommandColumn:t,visibleIndex:n})})}_hideVisibleColumnInView(e){let{view:t,isCommandColumn:n,visibleIndex:o}=e,r=t.name,s,a=this._columnsController.getVisibleColumns()[o],l=this._editingController&&this._editingController.getEditFormRowIndex();if(t&&t.isVisible()&&a){let d=t.getRowsCount(),c=t._getRowElements();for(let u=0;u<d;u++)if(!(u===l&&r===Wee&&this.option("editing.mode")!=="popup")){let f=r==="columnHeadersView"?this._columnsController.getVisibleIndex(a.index,u):o;if(f>=0){let p=c.eq(u);s=this._findCellElementInRow(p,f),this._isCellValid(s)&&this._hideVisibleCellInView({viewName:r,isCommandColumn:n,$cell:s})}}}}_findCellElementInRow(e,t){let n=e.children(),o=t,r=!1;if(e.hasClass("dx-group-row")){let a=e.find(".dx-group-cell"),l=a.attr("colspan");if(a.length&&U(l)){let d=parseInt(l),c=a.index()+d-1;t>c?o=t-d+1:r=!0}}return r?void 0:n.eq(o)}_hideVisibleCellInView(e){let{$cell:t,isCommandColumn:n}=e,o=n?"dx-command-adaptive-hidden":this.addWidgetPrefix("hidden-column");t.attr({tabIndex:-1,"aria-hidden":!0}).addClass(o)}_getEditMode(){return this._editingController.getEditMode()}isFormOrPopupEditMode(){let e=this._getEditMode();return e==="form"||e==="popup"}hideRedundantColumns(e,t,n){let o=this;if(this._hiddenColumns=[],o._isVisibleColumnsValid(t)&&n.length){let r=0,s=o.component.$element(),a=Qe(s)-o._getCommandColumnsWidth(),l=(function(){return t.filter(p=>!p.command&&this._hiddenColumns.filter(m=>m.index===p.index).length===0)}).bind(this),d=l(),c=d.length,u,h,f;do{f=!1,r=0;let p=o._calculatePercentWidths(e,t),m=p<100&&p!==0;for(u=0;u<t.length;u++){let g=t[u],b=o._getNotTruncatedColumnWidth(g,a,d,m),x=R1(o,g),E=o._columnsController.columnOption(x,"width"),D=o._columnsController.columnOption(x,"minWidth"),L=o._columnsController.columnOption(x,"bestFitWidth");if(e[u]==="adaptiveHidden"){h=!0;continue}if(!b&&!g.command&&!g.fixed){f=!0;break}(!E||E==="auto")&&(b=Math.max(L||0,D||0)),(g.command!=="adaptive"||h)&&(r+=b)}if(f=f||r>Qe(s),f){let g=n.pop(),b=o._columnsController.getVisibleIndex(g.index);a+=o._calculateColumnWidth(g,a,d,m),o._hideVisibleColumn({visibleIndex:b}),e[b]="adaptiveHidden",this._hiddenColumns.push(g),d=l()}}while(f&&d.length>1&&n.length);c===d.length&&o._hideAdaptiveColumn(e,t)}else o._hideAdaptiveColumn(e,t)}getAdaptiveDetailItems(){return this._$itemContents}getItemContentByColumnIndex(e){let t;for(let n=0;n<this._$itemContents.length;n++){t=this._$itemContents.eq(n);let o=t.data("dx-form-item");if(o&&o.column&&this._columnsController.getVisibleIndex(o.column.index)===e)return t}}toggleExpandAdaptiveDetailRow(e,t){this.isFormOrPopupEditMode()&&this._editingController.isEditing()||this._dataController.toggleExpandAdaptiveDetailRow(e,t)}createFormByHiddenColumns(e,t){let n=this,o=I(e),r={items:n._getFormItemsByHiddenColumns(n._hiddenColumns),formID:`dx-${new yi}`},s=Kn()?{colCount:2}:{};this.executeAction("onAdaptiveDetailRowPreparing",{formOptions:r}),n._$itemContents=null,n._form=n._createComponent(I("<div>").appendTo(o),qO,q(s,r,{customizeItem(a){let l=a.column||n._columnsController.columnOption(a.name||a.dataField);l&&(a.label=a.label||{},a.label.text=a.label.text||l.caption,a.column=l,a.template=n._getTemplate(a,t,n.updateForm.bind(n))),r.customizeItem&&r.customizeItem.call(this,a)},onContentReady(a){r.onContentReady&&r.onContentReady.call(this,a),n._$itemContents=o.find(".dx-field-item-content")}}))}hasAdaptiveDetailRowExpanded(){return U(this._dataController.adaptiveExpandedKey())}updateForm(e){this.hasAdaptiveDetailRowExpanded()&&this._form&&U(this._form._contentReadyAction)&&(e&&e.length?this._form.option("items",this._getFormItemsByHiddenColumns(e)):this._form.repaint())}updateHidingQueue(e){let t=this,n=e.filter(s=>s.visible&&!s.type&&!s.fixed&&!(U(s.groupIndex)&&s.groupIndex>=0)),o,r;if(t._hidingColumnsQueue=[],t.option("allowColumnResizing")&&t.option("columnResizingMode")==="widget")return t._hidingColumnsQueue;for(r=0;r<n.length;r++)U(n[r].hidingPriority)&&n[r].hidingPriority>=0&&(o=!0,t._hidingColumnsQueue[n[r].hidingPriority]=n[r]);if(o)t._hidingColumnsQueue.reverse();else if(t.option("columnHidingEnabled"))for(r=0;r<n.length;r++){let s=t._columnsController.getVisibleIndex(n[r].index);t._hidingColumnsQueue[s]=n[r]}return t._hidingColumnsQueue=t._hidingColumnsQueue.filter(Object),t._hidingColumnsQueue}getHiddenColumns(){return this._hiddenColumns}hasHiddenColumns(){return this._hiddenColumns.length>0}getHidingColumnsQueue(){return this._hidingColumnsQueue}isAdaptiveDetailRowExpanded(e){let t=this._dataController;return t.adaptiveExpandedKey()&&hi(t.adaptiveExpandedKey(),e)}expandAdaptiveDetailRow(e){this.hasAdaptiveDetailRowExpanded()||this.toggleExpandAdaptiveDetailRow(e)}collapseAdaptiveDetailRow(){this.hasAdaptiveDetailRowExpanded()&&this.toggleExpandAdaptiveDetailRow()}updateCommandAdaptiveAriaLabel(e,t){let n=this._dataController.getRowIndexByKey(e);if(n===-1)return;let o=I(this.component.getRowElement(n));this.setCommandAdaptiveAriaLabel(o,t)}setCommandAdaptiveAriaLabel(e,t){e.find(".dx-command-adaptive").attr("aria-label",de.format(t))}},hke=i=>class extends i{_isCellValid(e,t){return super._isCellValid(e,t)&&!e.hasClass(this.addWidgetPrefix("hidden-column"))&&!e.hasClass("dx-command-adaptive-hidden")}_processNextCellInMasterDetail(e,t){super._processNextCellInMasterDetail(e,t);let n=this._editingController.isCellOrBatchEditMode();this._editingController.isEditing()&&e&&n&&!this._isInsideEditForm(e)&&(X.off(e,"focus",QB),X.on(e,"focus",{$nextCell:e},QB),X.trigger(t,"focus"))}_isCellElement(e){return super._isCellElement(e)||e.hasClass("dx-adaptive-item-text")}},pke=i=>class extends i{_getCellTemplate(e){let t=this,{column:n}=e;return e.rowType==="detailAdaptive"&&n.command==="detail"?function(o,r){t._adaptiveColumnsController.createFormByHiddenColumns(I(o),r)}:super._getCellTemplate(e)}_createRow(e){let t=super._createRow.apply(this,arguments);return e&&e.rowType==="detailAdaptive"&&e.key===this._dataController.adaptiveExpandedKey()&&t.addClass("dx-adaptive-detail-row"),t}_renderCells(e,t){super._renderCells(e,t);let n=this._adaptiveColumnsController,o=n.getHidingColumnsQueue().length,r=n.getHiddenColumns().length;o&&!r&&cke(e).last().addClass("dx-last-data-cell"),t.row.rowType==="data"&&n.setCommandAdaptiveAriaLabel(e,Uee)}_getColumnIndexByElementCore(e){let t=e.closest(".dx-field-item-content");if(t.length&&t.closest(this.component.$element()).length){let n=t.length?t.first().data("dx-form-item"):null;return n&&n.column&&this._columnsController.getVisibleIndex(n.column.index)}return super._getColumnIndexByElementCore(e)}_cellPrepared(e,t){super._cellPrepared.apply(this,arguments),t.row.rowType!=="detailAdaptive"&&t.column.visibleWidth==="adaptiveHidden"&&e.addClass(this.addWidgetPrefix("hidden-column"))}getCell(e,t){let n=this._dataController.items()[e?.rowIndex];if(n?.rowType==="detailAdaptive"){let o=this._adaptiveColumnsController.getAdaptiveDetailItems();return super.getCell(e,t,o)}return super.getCell.apply(this,arguments)}_getCellElement(e,t){let n=this._dataController.items()[e];return n&&n.rowType==="detailAdaptive"?this._adaptiveColumnsController.getItemContentByColumnIndex(t):super._getCellElement.apply(this,arguments)}getContextMenuItems(e){var t;if(e.row&&e.row.rowType==="detailAdaptive"){let n=this._columnHeadersView,o=I(e.targetElement).closest(".dx-field-item-label").next().data("dx-form-item");return e.column=o?o.column:e.column,n.getContextMenuItems&&n.getContextMenuItems(e)}return(t=super.getContextMenuItems)===null||t===void 0?void 0:t.call(this,e)}isClickableElement(e){var t;return(((t=super.isClickableElement)===null||t===void 0?void 0:t.call(this,e))??!1)||!!e.closest(".dx-command-adaptive").length}},fke=i=>class extends i{_updateColumnWidth(e,t){super._updateColumnWidth(e,e.visibleWidth==="adaptiveHidden"?e.bestFitWidth:t)}},mke=i=>class extends i{_pointCreated(e,t,n){let o=super._pointCreated(e,t,n),r=n[e.columnIndex]||{},s=this._getNextColumnIndex(e.columnIndex),a=n[s]||{},l=s!==e.columnIndex+1&&a.command,d=r.visibleWidth==="adaptiveHidden"||l;return o||d}_getNextColumnIndex(e){let t=this._columnsController.getVisibleColumns(),n=super._getNextColumnIndex(e);for(;t[n]&&t[n].visibleWidth==="adaptiveHidden";)n++;return n}},gke=i=>class extends i{_pointCreated(e,t,n,o){let r=super._pointCreated(e,t,n,o),a=(t[e.columnIndex-1]||{}).visibleWidth==="adaptiveHidden";return r||a}},_ke=i=>class extends i{_isRowEditMode(){return this.getEditMode()==="row"}_getFormEditItemTemplate(e,t){return this.getEditMode()!=="row"&&e.rowType==="detailAdaptive"?(e.columnIndex=this._columnsController.getVisibleIndex(t.index),this.getColumnTemplate(e)):super._getFormEditItemTemplate(e,t)}_closeEditItem(e){let t=e.closest(".dx-field-item-content"),n=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,o=t.length?t.first().data("dx-form-item"):null,r=o&&o.column&&this._columnsController.getVisibleIndex(o.column.index);this.isEditCell(n,r)||super._closeEditItem(e)}_beforeUpdateItems(e,t){if(!this._adaptiveColumnsController.isFormOrPopupEditMode()&&this._adaptiveColumnsController.hasHiddenColumns()){let n=this._dataController.items(),o=n[t],r=De.getIndexByKey(this._dataController.adaptiveExpandedKey(),n);this._isForceRowAdaptiveExpand=!this._adaptiveColumnsController.hasAdaptiveDetailRowExpanded(),r>=0&&e.push(r+1),e.push(t+1),this._dataController.adaptiveExpandedKey(o.key)}}_afterInsertRow(e){super._afterInsertRow.apply(this,arguments),this._adaptiveColumnsController.hasHiddenColumns()&&(this._adaptiveColumnsController.toggleExpandAdaptiveDetailRow(e,this.isRowEditMode()),this._isForceRowAdaptiveExpand=!0)}_collapseAdaptiveDetailRow(){this._isRowEditMode()&&this._isForceRowAdaptiveExpand&&(this._adaptiveColumnsController.collapseAdaptiveDetailRow(),this._isForceRowAdaptiveExpand=!1)}_cancelEditAdaptiveDetailRow(){this._adaptiveColumnsController.hasHiddenColumns()&&this._collapseAdaptiveDetailRow()}_afterSaveEditData(){super._afterSaveEditData.apply(this,arguments);let e=new le;return this._isRowEditMode()&&this._adaptiveColumnsController.hasHiddenColumns()?Be(this._validatingController.validate(!0)).done(t=>{t&&this._cancelEditAdaptiveDetailRow(),e.resolve()}):e.resolve(),e.promise()}_beforeCancelEditData(){super._beforeCancelEditData(),this._cancelEditAdaptiveDetailRow()}_getRowIndicesForCascadeUpdating(e){let t=super._getRowIndicesForCascadeUpdating.apply(this,arguments);return this._adaptiveColumnsController.isAdaptiveDetailRowExpanded(e.key)&&t.push(e.rowType==="detailAdaptive"?e.rowIndex-1:e.rowIndex+1),t}_beforeCloseEditCellInBatchMode(e){let t=this._dataController._adaptiveExpandedKey;if(t){let n=De.getIndexByKey(t,this._dataController.items());n>-1&&e.unshift(n)}}editRow(e){return this._adaptiveColumnsController.isFormOrPopupEditMode()&&this._adaptiveColumnsController.collapseAdaptiveDetailRow(),super.editRow(e)}deleteRow(e){let t=this._dataController.getKeyByRowIndex(e);this.getEditMode()==="batch"&&this._adaptiveColumnsController.isAdaptiveDetailRowExpanded(t)&&this._adaptiveColumnsController.collapseAdaptiveDetailRow(),super.deleteRow(e)}},bke=i=>class extends i{init(){super.init(),this._adaptiveExpandedKey=void 0}_processItems(e,t){let{changeType:n}=t;if(e=super._processItems.apply(this,arguments),n==="loadingAll"||!U(this._adaptiveExpandedKey))return e;let o=De.getIndexByKey(this._adaptiveExpandedKey,e),r=this.option(dke)===!1;if(o>=0){let s=e[o];e.splice(o+1,0,{visible:!0,rowType:"detailAdaptive",key:s.key,data:s.data,node:s.node,modifiedValues:s.modifiedValues,isNewRow:s.isNewRow,values:s.values})}else n==="refresh"&&!(r&&t.repaintChangesOnly)&&(this._adaptiveExpandedKey=void 0);return e}_getRowIndicesForExpand(e){let t=super._getRowIndicesForExpand.apply(this,arguments);if(this._adaptiveColumnsController.isAdaptiveDetailRowExpanded(e)){let n=t[t.length-1];t.push(n+1)}return t}adaptiveExpandedKey(e){if(U(e))this._adaptiveExpandedKey=e;else return this._adaptiveExpandedKey}toggleExpandAdaptiveDetailRow(e,t){let n=De.getIndexByKey(this._adaptiveExpandedKey,this._items),o=De.getIndexByKey(e,this._items);n>=0&&n===o&&!t&&(e=void 0,o=-1);let r=this._adaptiveExpandedKey;this._adaptiveExpandedKey=e,n>=0&&n++,o>=0&&o++;let s=this.getRowIndexDelta();this.updateItems({allowInvisibleRowIndices:!0,changeType:"update",rowIndices:[n-s,o-s]}),this._adaptiveColumnsController.updateCommandAdaptiveAriaLabel(e,lke),this._adaptiveColumnsController.updateCommandAdaptiveAriaLabel(r,Uee)}},vke=i=>class extends i{_needHideBorder(e){return super._needHideBorder(e)||e?.hasClass("dx-field-item-content")&&e?.find(".dx-checkbox").length}_getFocusCellSelector(){return`${super._getFocusCellSelector()}, .dx-adaptive-detail-row .dx-field-item > .dx-field-item-content`}_getRevertTooltipsSelector(){return`${super._getRevertTooltipsSelector()}, .dx-field-item-content .${this.addWidgetPrefix("revert-tooltip")}`}},yke=i=>class extends i{_isColumnVisible(e){return super._isColumnVisible(e)&&!e.adaptiveHidden}},xke=i=>class extends i{dispose(){super.dispose.apply(this,arguments),clearTimeout(this._updateScrollableTimeoutID)}_needBestFit(){return super._needBestFit()||!!this._adaptiveColumnsController.getHidingColumnsQueue().length}_correctColumnWidths(e,t){let n=this._adaptiveColumnsController,o=n.getHiddenColumns(),r=n.updateHidingQueue(this._columnsController.getColumns());n.hideRedundantColumns(e,t,r);let s=n.getHiddenColumns();return n.hasAdaptiveDetailRowExpanded()&&o.length!==s.length&&n.updateForm(s),!s.length&&n.collapseAdaptiveDetailRow(),super._correctColumnWidths.apply(this,arguments)}_toggleBestFitMode(e){e&&this._adaptiveColumnsController._showHiddenColumns(),super._toggleBestFitMode(e)}_needStretch(){let e=this._adaptiveColumnsController;return super._needStretch.apply(this,arguments)||e.getHidingColumnsQueue().length||e.hasHiddenColumns()}},Gee={defaultOptions:()=>({columnHidingEnabled:!1,onAdaptiveDetailRowPreparing:null}),controllers:{adaptiveColumns:JB},extenders:{views:{rowsView:pke},controllers:{export:fke,columnsResizer:mke,draggingHeader:gke,editing:_ke,resizing:xke,data:bke,editorFactory:vke,columns:yke,keyboardNavigation:hke}}};qe.registerModule("adaptivity",Gee);function Kee(i,e,t,n,o,r){t=t||0,n=n||[],r=r||[],n[t]=n[t]||0;let s=i[t],a=r[t]+1||0,l=0,d;if(s){for(d=a;d<s.length;d++){let c=s[d],u=d+n[t],h=c.colspan||1;if(Kee(i,e,t+(c.rowspan||1),n,h,r),n[t]+=h-1,l+=h,c.rowspan)for(let f=t+1;f<t+c.rowspan;f++)n[f]=n[f]||0,n[f]+=c.colspan||1;if(e(c,u,t,d)===!1||o!==void 0&&l>=o)break}r[t]=d}}function F1(i,e,t){let n=[];Kee(i,(o,r,s)=>{let a=o,l,d=a.colspan||1,c=r+d-1>=e&&r<t;if(n[s]=n[s]||[],c)r<e?(l=d-(e-r),r=e):l=d,r+l>t&&(l=t-r),l!==d&&(a=q({},a,{colspan:l})),n[s].push(a);else if(r>t)return!1});for(let o=0;o<n.length;o++)n[o]=n[o]||[];return n}var qee=i=>class extends i{_needToSetCellWidths(){let e=super._needToSetCellWidths();return!e&&this._columnsController.isVirtualMode()&&(e=this._columnsController.getColumns().some(n=>n.width==="auto")),e}},Cke=i=>class extends qee(i){_resizeCore(){super._resizeCore.apply(this,arguments),this._columnsController.resize()}_handleScroll(e){let t=this.getScrollable(),{left:n}=e.scrollOffset;super._handleScroll.apply(this,arguments),this.option("rtlEnabled")&&t&&(n=Qe(t.$content())-Qe(t.$element())-n),this._columnsController.setScrollPosition(n)}_renderCore(e){if(e!=null&&e.virtualColumnsScrolling){var t,n;let o=this._findContentElement(),r=(t=this._columnsController)===null||t===void 0?void 0:t.getFixedColumns(),s=(n=this._scrollable)===null||n===void 0?void 0:n.option("useNative");if(r!=null&&r.length){o.css({minHeight:s?ft(o):De.getContentHeightLimit(gi)});let a=()=>{this.resizeCompleted.remove(a),o.css({minHeight:""})};this.resizeCompleted.add(a)}}return super._renderCore.apply(this,arguments)}},wke=i=>class extends qee(i){_renderCore(){let e=super._renderCore.apply(this,arguments);return this._columnsController.isVirtualMode()&&this._updateScrollLeftPosition(),e}},P1=function(i){return i.map(e=>e.visibleWidth||parseFloat(e.width)||50)},Ske=i=>class extends i{init(){super.init.apply(this,arguments),this._resizingController=this.getController("resizing"),this._beginPageIndex=null,this._endPageIndex=null,this._position??(this._position=0),this._virtualVisibleColumns={}}dispose(){clearTimeout(this._changedTimeout),super.dispose.apply(this,arguments)}resetColumnsCache(){super.resetColumnsCache(),this._virtualVisibleColumns={}}getBeginPageIndex(e){let t=this.getVisibleColumns(void 0,!0),n=P1(t),o=0;for(let r=0;r<n.length;r++){if(o>=e)return Math.floor(r/this.getColumnPageSize());o+=n[r]}return 0}getTotalWidth(){let e=this.option("width");return typeof e=="number"?e:this._resizingController._lastWidth||Ft(this.component.$element())}getEndPageIndex(e){let t=this.getVisibleColumns(void 0,!0),n=P1(t),o=0;e+=this.getTotalWidth();for(let r=0;r<n.length;r++){if(o>=e)return Math.ceil(r/this.getColumnPageSize());o+=n[r]}return Math.ceil(n.length/this.getColumnPageSize())}getColumnPageSize(){return this.option("scrolling.columnPageSize")}_fireColumnsChanged(){let e=new Date;this.columnsChanged.fire({optionNames:{all:!0,length:1},changeTypes:{columns:!0,virtualColumnsScrolling:!0,length:2}}),this._renderTime=new Date-e}getScrollingTimeout(){let e=this.option("scrolling.columnRenderingThreshold"),t=this.option("scrolling.renderAsync"),n=0;return(!U(t)&&this._renderTime>e||t)&&(n=this.option("scrolling.timeout")),n}setScrollPosition(e){let t=this.getScrollingTimeout();t>0?(clearTimeout(this._changedTimeout),this._changedTimeout=setTimeout(()=>{this._setScrollPositionCore(e)},t)):this._setScrollPositionCore(e)}isVirtualMode(){return it()&&this.option("scrolling.columnRenderingMode")==="virtual"}resize(){this._setScrollPositionCore(this._position)}_setScrollPositionCore(e){let t=this;if(t.isVirtualMode()){let n=t.getBeginPageIndex(e),o=t.getEndPageIndex(e),r=e<t._position?t._beginPageIndex>n:t._endPageIndex<o;t._position=e,r&&(t._beginPageIndex=n,t._endPageIndex=o,t._fireColumnsChanged())}}getFixedColumns(e,t){let n=super.getFixedColumns(e);if(this.isVirtualMode()&&!t&&n.length){let o=n.map(r=>r.command).indexOf("transparent");return n[o].colspan=this.getVisibleColumns().length-super.getFixedColumns().length+1,n}return n}_compileVisibleColumns(e,t){var n;if(t||!this.isVirtualMode()||!this._shouldReturnVisibleColumns())return super._compileVisibleColumns(e);(n=this._columns)!==null&&n!==void 0&&n.length&&!U(this._beginPageIndex)&&!U(this._endPageIndex)&&(this._beginPageIndex=this.getBeginPageIndex(this._position),this._endPageIndex=this.getEndPageIndex(this._position));let o=this._beginPageIndex,r=this._endPageIndex,s=`${e}-${o}-${r}`;if(this._virtualVisibleColumns[s])return this._virtualVisibleColumns[s];let a=super._compileVisibleColumns(),l=this.getRowCount(),d=this.getColumnPageSize(),c=o*d,u=r*d,h=this.getFixedColumns(void 0,!0),f=h.map(k=>k.command).indexOf("transparent"),p=h.length?f:0,m=a.slice(0,p),g=a.slice(p,c),b=P1(g).reduce((k,R)=>k+R,0);b||(c=0);let x=h.length?h.length-f-1:0,E=a.slice(a.length-x),D=a.slice(u,a.length-x),L=P1(D).reduce((k,R)=>k+R,0);if(L||(u=a.length),l>1&&typeof e=="number"){let k=[];for(let R=0;R<=l;R++)k.push(super._compileVisibleColumns(R));m=F1(k,0,m.length)[e]||[],E=F1(k,a.length-E.length,a.length)[e]||[],a=F1(k,c,u)[e]||[]}else a=a.slice(c,u);return b&&(a.unshift({command:"virtual",type:"virtual",width:b}),a=m.concat(a)),L&&(a.push({command:"virtual",type:"virtual",width:L}),a=a.concat(E)),this._virtualVisibleColumns[s]=a,a}getColumnIndexOffset(){let e=0;if(this._beginPageIndex>0){let n=this.getFixedColumns().map(r=>r.command).indexOf("transparent"),o=n>=0?n:0;e=this._beginPageIndex*this.getColumnPageSize()-o-1}return e>0?e:0}},Yee={defaultOptions:()=>({scrolling:{columnRenderingMode:"standard",columnPageSize:5,columnRenderingThreshold:300}}),extenders:{controllers:{columns:Ske},views:{columnHeadersView:wke,rowsView:Cke}}};qe.registerModule("virtualColumns",Yee);var eV=class{constructor(e,t){let{key:n}=t;this._isSharedDataSource=!1,this._keyExpr=n,this.updateDataSource(e)}_updateDataSource(e){if(e)if(e instanceof Lo)this._isSharedDataSource=!0,this._dataSource=e;else{let t=qr(e);this._dataSource=new Lo(q(!0,{},{},t))}}_updateDataSourceByItems(e){this._dataSource=new Lo({store:new pd({key:this.key(),data:e}),pageSize:0})}_disposeDataSource(){this._dataSource&&(this._isSharedDataSource?this._isSharedDataSource=!1:this._dataSource.dispose(),delete this._dataSource)}load(){return this._dataSource.load()}loadSingle(e,t){if(!this._dataSource)return new le().reject();let n=e,o=t;return arguments.length<2&&(o=e,n=this.key()),this._dataSource.loadSingle(n,o)}loadFromStore(e){return this.store().load(e)}loadNextPage(){return this.pageIndex(1+this.pageIndex()),this.load()}loadOptions(){return this._dataSource.loadOptions()}userData(){return this._dataSource._userData}cancel(e){this._dataSource.cancel(e)}cancelAll(){this._dataSource.cancelAll()}filter(e){return this._dataSource.filter(e)}addSearchFilter(e){this._dataSource._addSearchFilter(e)}group(e){return this._dataSource.group(e)}paginate(){return this._dataSource.paginate()}pageSize(){return this._dataSource._pageSize}pageIndex(e){return e===void 0?this._dataSource.pageIndex(void 0):this._dataSource.pageIndex(e)}resetDataSource(){this._disposeDataSource()}resetDataSourcePageIndex(){this.pageIndex()&&(this.pageIndex(0),this.load())}updateDataSource(e,t){let n=e??this.items();t&&(this._keyExpr=t),this._disposeDataSource(),Array.isArray(n)?this._updateDataSourceByItems(n):this._updateDataSource(n)}totalCount(){return this._dataSource.totalCount()}isLastPage(){return this._dataSource.isLastPage()||!this._dataSource._pageSize}isLoading(){return this._dataSource.isLoading()}isLoaded(){return this._dataSource.isLoaded()}searchValue(e){return this._dataSource.searchValue(e)}searchOperation(e){return this._dataSource.searchOperation(e)}searchExpr(e){return this._dataSource.searchExpr(e)}select(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._dataSource.select(t)}key(){var e;let t=(e=this._dataSource)===null||e===void 0?void 0:e.key();return U(t)&&this._keyExpr==="this"?t:this._keyExpr}keyOf(e){return this.store().keyOf(e)}store(){return this._dataSource.store()}items(){var e;return(e=this._dataSource)===null||e===void 0?void 0:e.items()}applyMapFunction(e){return this._dataSource._applyMapFunction(e)}getDataSource(){return this._dataSource??null}reload(){return this._dataSource.reload()}on(e,t){this._dataSource.on(e,t)}off(e,t){this._dataSource.off(e,t)}},Xee=eV;var Zee=Xee;var Eke="dx-dropdownbutton-content";var Oke=Tn.inherit({_getDefaultOptions(){return q(this.callBase(),{itemTemplate:"item",keyExpr:"this",displayExpr:void 0,selectedItem:null,selectedItemKey:null,stylingMode:"outlined",deferRendering:!0,noDataText:de.format("dxCollectionWidget-noDataText"),useSelectMode:!1,splitButton:!1,showArrowIcon:!0,template:null,text:"",type:"normal",icon:void 0,onButtonClick:null,onSelectionChanged:null,onItemClick:null,opened:!1,items:null,dataSource:null,focusStateEnabled:!0,hoverStateEnabled:!0,dropDownOptions:{},dropDownContentTemplate:"content",wrapItemText:!1,useItemTextAsTitle:!0,grouped:!1,groupTemplate:"group",buttonGroupOptions:{}})},_setOptionsByReference(){this.callBase(),q(this._optionsByReference,{selectedItem:!0})},_init(){this.callBase(),this._createItemClickAction(),this._createActionClickAction(),this._createSelectionChangedAction(),this._initDataController(),this._compileKeyGetter(),this._compileDisplayGetter(),this._options.cache("buttonGroupOptions",this.option("buttonGroupOptions")),this._options.cache("dropDownOptions",this.option("dropDownOptions"))},_initDataController(){let i=this.option("dataSource");this._dataController=new Zee(i??this.option("items"),{key:this.option("keyExpr")})},_initTemplates(){this._templateManager.addDefaultTemplates({content:new Ma(i=>{let e=I(i.container),t=I("<div>").appendTo(e);this._list=this._createComponent(t,wd,this._listOptions()),this._list.registerKeyHandler("escape",this._escHandler.bind(this)),this._list.registerKeyHandler("tab",this._escHandler.bind(this)),this._list.registerKeyHandler("leftArrow",this._escHandler.bind(this)),this._list.registerKeyHandler("rightArrow",this._escHandler.bind(this))})}),this.callBase()},_compileKeyGetter(){this._keyGetter=Qt(this._dataController.key())},_compileDisplayGetter(){this._displayGetter=Qt(this.option("displayExpr"))},_initMarkup(){this.callBase(),this.$element().addClass("dx-dropdownbutton"),this._renderButtonGroup(),this._updateArrowClass(),U(this.option("selectedItemKey"))&&this._loadSelectedItem().done(this._updateActionButton.bind(this))},_renderFocusTarget:pe,_render(){(!this.option("deferRendering")||this.option("opened"))&&this._renderPopup(),this.callBase()},_renderContentImpl(){return this._popup&&this._renderPopupContent(),this.callBase()},_loadSelectedItem(){var i;(i=this._loadSingleDeferred)===null||i===void 0||i.reject();let e=le();if(this._list&&this._lastSelectedItemData!==void 0){let n=this.option("useSelectMode")?this._list.option("selectedItem"):this._lastSelectedItemData;return e.resolve(n)}this._lastSelectedItemData=void 0;let t=this.option("selectedItemKey");return this._dataController.loadSingle(t).done(e.resolve).fail(()=>{e.reject(null)}),this._loadSingleDeferred=e,e.promise()},_createActionClickAction(){this._actionClickAction=this._createActionByOption("onButtonClick")},_createSelectionChangedAction(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged")},_createItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")},_fireSelectionChangedAction(i){let{previousValue:e,value:t}=i;this._selectionChangedAction({item:t,previousItem:e})},_fireItemClickAction(i){let{event:e,itemElement:t,itemData:n}=i;return this._itemClickAction({event:e,itemElement:t,itemData:this._actionItem||n})},_getButtonTemplate(){let{template:i,splitButton:e,showArrowIcon:t}=this.option();return i||(e||!t?"content":(n,o)=>{let{text:r,icon:s}=n,a=Xr(s),l=r?I("<span>").text(r).addClass("dx-button-text"):void 0,d=Xr("spindown").addClass("dx-icon-right");I(o).append(a,l,d)})},_getActionButtonConfig(){let{icon:i,text:e,type:t,splitButton:n}=this.option(),o={text:e,icon:i,type:t,template:this._getButtonTemplate(),elementAttr:{class:"dx-dropdownbutton-action"}};return n&&(o.elementAttr.role="menuitem"),o},_getSpinButtonConfig(){let{type:i}=this.option();return{type:i,icon:"spindown",elementAttr:{class:"dx-dropdownbutton-toggle",role:"menuitem"}}},_getButtonGroupItems(){let{splitButton:i}=this.option(),e=[this._getActionButtonConfig()];return i&&e.push(this._getSpinButtonConfig()),e},_buttonGroupItemClick(i){let{event:e,itemData:t}=i,n=t.elementAttr.class==="dx-dropdownbutton-action";t.elementAttr.class==="dx-dropdownbutton-toggle"?this.toggle():n&&(this._actionClickAction({event:e,selectedItem:this.option("selectedItem")}),this.option("splitButton")||this.toggle())},_getButtonGroupOptions(){let{accessKey:i,focusStateEnabled:e,hoverStateEnabled:t,splitButton:n,stylingMode:o,tabIndex:r}=this.option();return q({items:this._getButtonGroupItems(),width:"100%",height:"100%",selectionMode:"none",focusStateEnabled:e,hoverStateEnabled:t,stylingMode:o,accessKey:i,tabIndex:r,elementAttr:{role:n?"menu":"group"},onItemClick:this._buttonGroupItemClick.bind(this),onKeyboardHandled:a=>this._keyboardHandler(a)},this._options.cache("buttonGroupOptions"))},_renderPopupContent(){let i=this._popup.$content(),e=this._getTemplateByOption("dropDownContentTemplate");return i.empty(),this._popupContentId=`dx-${new yi}`,this.setAria("id",this._popupContentId,i),e.render({container:tt(i),model:this.option("items")||this._dataController.getDataSource()})},_popupOptions(){let i=this.option("rtlEnabled")?"right":"left";return q({dragEnabled:!1,focusStateEnabled:!1,deferRendering:this.option("deferRendering"),hideOnOutsideClick:e=>{let t=this.$element();return!I(e.target).closest(".dx-dropdownbutton").is(t)},showTitle:!1,animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},_ignoreFunctionValueDeprecation:!0,width:()=>kg(this.$element()),height:"auto",shading:!1,position:{of:this.$element(),collision:"flipfit",my:`${i} top`,at:`${i} bottom`},_wrapperClassExternal:"dx-dropdowneditor-overlay"},this._options.cache("dropDownOptions"),{visible:this.option("opened")})},_listOptions(){let i=this.option("selectedItemKey"),e=this.option("useSelectMode");return{selectionMode:e?"single":"none",wrapItemText:this.option("wrapItemText"),focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),useItemTextAsTitle:this.option("useItemTextAsTitle"),onContentReady:()=>this._fireContentReadyAction(),selectedItemKeys:U(i)&&e?[i]:[],grouped:this.option("grouped"),groupTemplate:this.option("groupTemplate"),keyExpr:this._dataController.key(),noDataText:this.option("noDataText"),displayExpr:this.option("displayExpr"),itemTemplate:this.option("itemTemplate"),items:this.option("items"),dataSource:this._dataController.getDataSource(),onItemClick:t=>{this.option("useSelectMode")||(this._lastSelectedItemData=t.itemData),this.option("selectedItemKey",this._keyGetter(t.itemData)),this._fireItemClickAction(t)!==!1&&(this.toggle(!1),this._buttonGroup.focus())}}},_upDownKeyHandler(){return this._popup&&this._popup.option("visible")&&this._list?this._list.focus():this.open(),!0},_escHandler(){return this.close(),this._buttonGroup.focus(),!0},_tabHandler(){return this.close(),!0},_renderPopup(){let i=I("<div>");this.$element().append(i),this._popup=this._createComponent(i,Qr,this._popupOptions()),this._popup.$content().addClass(Eke),this._popup.$wrapper().addClass("dx-dropdownbutton-popup-wrapper"),this._popup.$overlayContent().attr("aria-label","Dropdown"),this._popup.on("hiding",this._popupHidingHandler.bind(this)),this._popup.on("showing",this._popupShowingHandler.bind(this)),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")},_popupHidingHandler(){this.option("opened",!1),this._updateAriaAttributes(!1)},_popupOptionChanged(i){let e=Tn.getOptionsFromContainer(i);this._setPopupOption(e);let t=Object.keys(e);(t.includes("width")||t.includes("height"))&&this._dimensionChanged()},_dimensionChanged(){Mg(this.option("dropDownOptions.width"))===void 0&&this._setPopupOption("width",()=>kg(this.$element()))},_setPopupOption(i,e){this._setWidgetOption("_popup",arguments)},_popupShowingHandler(){this.option("opened",!0),this._updateAriaAttributes(!0)},_setElementAria(i){let e={owns:i?this._popupContentId:void 0};this.setAria(e,this.$element())},_setButtonsAria(i){let e={expanded:i,haspopup:"listbox"},t={};this.option("text")||(t.label="dropdownbutton"),this._getButtons().each((n,o)=>{n===0?this.setAria(ye({},t,e),I(o)):this.setAria(e,I(o))})},_updateAriaAttributes(i){this._setElementAria(i),this._setButtonsAria(i)},_getButtons(){return this._buttonGroup.$element().find(".dx-button")},_renderButtonGroup(){let i=this._buttonGroup&&this._buttonGroup.$element()||I("<div>");this._buttonGroup||this.$element().append(i),this._buttonGroup=this._createComponent(i,_K,this._getButtonGroupOptions()),this._buttonGroup.registerKeyHandler("downArrow",this._upDownKeyHandler.bind(this)),this._buttonGroup.registerKeyHandler("tab",this._tabHandler.bind(this)),this._buttonGroup.registerKeyHandler("upArrow",this._upDownKeyHandler.bind(this)),this._buttonGroup.registerKeyHandler("escape",this._escHandler.bind(this)),this._bindInnerWidgetOptions(this._buttonGroup,"buttonGroupOptions"),this._updateAriaAttributes(this.option("opened"))},_updateArrowClass(){let i=this.option("splitButton")||this.option("showArrowIcon");this.$element().toggleClass("dx-dropdownbutton-has-arrow",i)},toggle(i){return this._popup||(this._renderPopup(),this._renderContent()),this._popup.toggle(i)},open(){return this.toggle(!0)},close(){return this.toggle(!1)},_setListOption(i,e){this._list&&this._list.option(i,e)},_getDisplayValue(i){let t=!Ke(i)?i:this._displayGetter(i);return Ke(t)?"":String(ji(t,""))},_updateActionButton(i){this.option("useSelectMode")&&this.option({text:this._getDisplayValue(i),icon:ht(i)?i.icon:void 0}),this._setOptionWithoutOptionChange("selectedItem",i),this._setOptionWithoutOptionChange("selectedItemKey",this._keyGetter(i))},_clean(){this._list&&this._list.$element().remove(),this._popup&&this._popup.$element().remove()},_selectedItemKeyChanged(i){this._setListOption("selectedItemKeys",this.option("useSelectMode")&&U(i)?[i]:[]);let e=this.option("selectedItem");this._loadSelectedItem().always(t=>{this._updateActionButton(t),this._displayGetter(e)!==this._displayGetter(t)&&this._fireSelectionChangedAction({previousValue:e,value:t})})},_updateButtonGroup(i,e){this._buttonGroup.option(i,e),this._updateAriaAttributes(this.option("opened"))},_actionButtonOptionChanged(i){let{name:e,value:t}=i,n={};n[e]=t,this._updateButtonGroup("items[0]",q({},this._getActionButtonConfig(),n)),this._popup&&this._popup.repaint()},_selectModeChanged(i){if(i){this._setListOption("selectionMode","single");let e=this.option("selectedItemKey");this._setListOption("selectedItemKeys",U(e)?[e]:[]),this._selectedItemKeyChanged(this.option("selectedItemKey"))}else this._setListOption("selectionMode","none"),this.option({selectedItemKey:void 0,selectedItem:void 0}),this._actionButtonOptionChanged({text:this.option("text")})},_updateItemCollection(i){let e=this.option("selectedItemKey");this._setListOption("selectedItem",null),this._setWidgetOption("_list",[i]),U(e)&&this._loadSelectedItem().done(t=>{this._setListOption("selectedItemKeys",[e]),this._setListOption("selectedItem",t)}).fail(t=>{this._setListOption("selectedItemKeys",[])}).always(this._updateActionButton.bind(this))},_updateDataController(i){this._dataController.updateDataSource(i,this.option("keyExpr")),this._updateKeyExpr()},_updateKeyExpr(){this._compileKeyGetter(),this._setListOption("keyExpr",this._dataController.key())},focus(){this._buttonGroup.focus()},_optionChanged(i){var e;let{name:t,value:n}=i;switch(t){case"useSelectMode":this._selectModeChanged(n);break;case"splitButton":this._updateArrowClass(),this._renderButtonGroup();break;case"displayExpr":this._compileDisplayGetter(),this._setListOption(t,n),this._updateActionButton(this.option("selectedItem"));break;case"keyExpr":this._updateDataController();break;case"buttonGroupOptions":this._innerWidgetOptionChanged(this._buttonGroup,i);break;case"dropDownOptions":if(i.fullName==="dropDownOptions.visible")break;i.value.visible!==void 0&&delete i.value.visible,this._popupOptionChanged(i),this._innerWidgetOptionChanged(this._popup,i);break;case"opened":this.toggle(n);break;case"focusStateEnabled":case"hoverStateEnabled":this._setListOption(t,n),this._updateButtonGroup(t,n),this.callBase(i);break;case"items":this._updateDataController(this.option("items")),this._updateItemCollection(t);break;case"dataSource":this._dataController.updateDataSource(n),this._updateKeyExpr(),this._updateItemCollection(t);break;case"icon":case"text":this._actionButtonOptionChanged(i);break;case"showArrowIcon":this._updateArrowClass(),this._renderButtonGroup(),this._popup&&this._popup.repaint();break;case"width":case"height":this.callBase(i),(e=this._popup)===null||e===void 0||e.repaint();break;case"stylingMode":case"tabIndex":this._updateButtonGroup(t,n);break;case"type":this._updateButtonGroup("items",this._getButtonGroupItems());break;case"itemTemplate":case"grouped":case"noDataText":case"groupTemplate":case"wrapItemText":case"useItemTextAsTitle":this._setListOption(t,n);break;case"dropDownContentTemplate":this._renderContent();break;case"selectedItemKey":this._selectedItemKeyChanged(n);break;case"selectedItem":break;case"onItemClick":this._createItemClickAction();break;case"onButtonClick":this._createActionClickAction();break;case"onSelectionChanged":this._createSelectionChangedAction();break;case"deferRendering":this.toggle(this.option("opened"));break;case"template":this._renderButtonGroup();break;default:this.callBase(i)}},getDataSource(){return this._dataController.getDataSource()}});ut("dxDropDownButton",Oke);function Qee(i,e){let t=d=>d||1,n=[],o=(i[0]||[]).reduce((d,c)=>d+t(c.colspan),0),r=(d=>{let c=0,u=0;return()=>{let h=d[c]||[],f=h[u++];return u>=h.length&&(c++,u=0),f&&(f.colspan=t(f.colspan),f.rowspan=t(f.rowspan)),f}})(i),s=(d,c,u)=>{let h=n[d]=n[d]||[];if(h[c]=u,u.colspan>1||u.rowspan>1){let f=(p=>q({},p,e))(u);for(let p=1;p<u.colspan;p++)s(d,c+p,f);for(let p=1;p<u.rowspan;p++)for(let m=0;m<u.colspan;m++)s(d+p,c+m,f)}},a=r(),l=0;for(;a;){for(let d=0;d<o&&a;d++)n[l]&&n[l][d]||(s(l,d,a),d+=a.colspan-1,a=r());l++}return n}var tV=class{constructor(e,t,n){this._exportController=e,this._initialColumnWidthsByColumnIndex=t,this._selectedRowsOnly=n}_getGroupValue(e){let{key:t,data:n,rowType:o,groupIndex:r,summaryCells:s}=e,a=this._options.groupColumns[r],l=qe.getDisplayValue(a,a.deserializeValue?a.deserializeValue(t[r]):t[r],n,o),d=`${a.caption}: ${qe.formatValue(l,a)}`;return s&&s[0]&&s[0].length&&(d+=` ${qe.getGroupRowSummaryText(s[0],this._options.summaryTexts)}`),d}_correctCellIndex(e){return e}_initOptions(){let e=this._exportController,t=e._columnsController.getGroupColumns();this._options={columns:e._getColumns(this._initialColumnWidthsByColumnIndex),groupColumns:t,items:this._selectedRowsOnly||e._selectionOnly?e._getSelectedItems():e._getAllItems(),isHeadersVisible:e.option("showColumnHeaders"),summaryTexts:e.option("summary.texts"),rtlEnabled:e.option("rtlEnabled")}}getHeaderStyles(){return[{bold:!0,alignment:"center"},{bold:!0,alignment:"left"},{bold:!0,alignment:"right"}]}getGroupRowStyle(){return{bold:!0,alignment:Ar(this._options.rtlEnabled)}}getColumnStyles(){let e=[];return this.getColumns().forEach(t=>{e.push({alignment:t.alignment||"left",format:t.format,dataType:t.dataType})}),e}getStyles(){return[...this.getHeaderStyles(),...this.getColumnStyles(),this.getGroupRowStyle()]}_getTotalCellStyleId(e){var t;let n=((t=this.getColumns()[e])===null||t===void 0?void 0:t.alignment)||"right";return this.getHeaderStyles().map(o=>o.alignment).indexOf(n)}getStyleId(e,t){return e<this.getHeaderRowCount()?0:this.isTotalCell(e-this.getHeaderRowCount(),t)?this._getTotalCellStyleId(t):this.isGroupRow(e-this.getHeaderRowCount())?this.getHeaderStyles().length+this.getColumns().length:t+this.getHeaderStyles().length}getColumns(e){let{columns:t}=this._options;return e?t:t[t.length-1]}getColumnsWidths(){let e=this.getColumns();return U(e)?e.map(t=>t.width):void 0}getRowsCount(){return this._options.items.length+this.getHeaderRowCount()}getHeaderRowCount(){return this.isHeadersVisible()?this._options.columns.length-1:0}isGroupRow(e){return e<this._options.items.length&&this._options.items[e].rowType==="group"}getGroupLevel(e){let t=this._options.items[e-this.getHeaderRowCount()],n=t&&t.groupIndex;return t&&t.rowType==="totalFooter"?0:U(n)?n:this._options.groupColumns.length}getCellType(e,t){let n=this.getColumns();if(e<this.getHeaderRowCount())return"string";if(e-=this.getHeaderRowCount(),t<n.length){let o=this._options.items.length&&this._options.items[e],r=n[t];return o&&o.rowType==="data"&&isFinite(o.values[this._correctCellIndex(t)])&&!U(r.customizeText)?U(r.lookup)?r.lookup.dataType:r.dataType:"string"}}ready(){this._initOptions();let e=this._options;return Be(e.items).done(t=>{e.items=t}).fail(()=>{e.items=[]})}_convertFromGridGroupSummaryItems(e){if(U(e)&&e.length>0)return e.map(t=>({value:t.value,name:t.name}))}getCellData(e,t,n){let o,r,s={cellSourceData:{},value:o},a=this.getColumns(),l=this._correctCellIndex(t);if(e<this.getHeaderRowCount())r=this.getColumns(!0)[e][t],s.cellSourceData.rowType="header",s.cellSourceData.column=r&&r.gridColumn,s.value=r&&r.caption;else{e-=this.getHeaderRowCount();let d=this._options.items.length&&this._options.items[e];if(d){let c=d.values;switch(s.cellSourceData.rowType=d.rowType,s.cellSourceData.column=a[t]&&a[t].gridColumn,d.rowType){case"groupFooter":case"totalFooter":l<c.length&&(o=c[l],U(o)?(s.cellSourceData.value=o.value,s.cellSourceData.totalSummaryItemName=o.name,s.value=qe.getSummaryText(o,this._options.summaryTexts)):s.cellSourceData.value=void 0);break;case"group":if(s.cellSourceData.groupIndex=d.groupIndex,t<1)s.cellSourceData.column=this._options.groupColumns[d.groupIndex],s.cellSourceData.value=d.key[d.groupIndex],s.cellSourceData.groupSummaryItems=this._convertFromGridGroupSummaryItems(d.summaryCells[0]),s.value=this._getGroupValue(d);else{let u=d.values[l];if(Array.isArray(u)){s.cellSourceData.groupSummaryItems=this._convertFromGridGroupSummaryItems(u),o="";for(let h=0;h<u.length;h++)o+=(h>0?n?`
`:` 
 `:"")+qe.getSummaryText(u[h],this._options.summaryTexts);s.value=o}else s.cellSourceData.value=void 0}break;default:if(r=a[t],r){let u=c[l],h=qe.getDisplayValue(r,u,d.data,d.rowType);!isFinite(h)||U(r.customizeText)?n&&U(r.customizeText)&&r.customizeText===this._exportController._columnsController.getCustomizeTextByDataType("boolean")?s.value=h:s.value=qe.formatValue(h,r):s.value=h,s.cellSourceData.value=u}s.cellSourceData.data=d.data}}}return s}isHeadersVisible(){return this._options.isHeadersVisible}isTotalCell(e,t){let{items:n}=this._options,o=n[e],r=this._correctCellIndex(t),s=o.summaryCells&&o.summaryCells[r]&&o.summaryCells[r].length>0&&o.summaryCells[r][0].alignByColumn;return o&&o.rowType==="groupFooter"||o.rowType==="totalFooter"||s}getCellMerging(e,t){let{columns:n}=this._options,o=n[e]&&n[e][t];return o?{colspan:(o.exportColspan||1)-1,rowspan:(o.rowspan||1)-1}:{colspan:0,rowspan:0}}getFrozenArea(){return{x:0,y:this.getHeaderRowCount()}}},iV=class extends qe.ViewController{init(){this.throwWarningIfNoOnExportingEvent(),this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._selectionController=this.getController("selection"),this._rowsView=this.getView("rowsView"),this._headersView=this.getView("columnHeadersView"),this.createAction("onExporting",{excludeValidators:["disabled","readOnly"]})}_getEmptyCell(){return{caption:"",colspan:1,rowspan:1}}_updateColumnWidth(e,t){e.width=t}_getColumns(e){let t=[],n,o,r=this._columnsController,s=r.getRowCount();for(n=0;n<=s;n++){let a=[];o=r.getVisibleColumns(n,!0);let l;if(n===s)if(this._updateLockCount)l=e;else{let d=this._getColumnWidths(this._headersView,this._rowsView);if(d&&d.length){l={};for(let c=0;c<o.length;c++)l[o[c].index]=d[c]}}for(let d=0;d<o.length;d++){let c=q({},o[d],{dataType:o[d].dataType==="datetime"?"date":o[d].dataType,gridColumn:o[d]});if(this._needColumnExporting(c)){let u=this._calculateExportColspan(c);U(u)&&(c.exportColspan=u),l&&this._updateColumnWidth(c,l[c.index]),a.push(c)}}t.push(a)}return o=t[s],t=Qee(t.slice(0,-1),this._getEmptyCell()),t.push(o),t}_calculateExportColspan(e){if(!e.isBand)return;let t=this._columnsController.getChildrenByBandColumn(e.index,!0);if(U(t))return t.reduce((n,o)=>this._needColumnExporting(o)?n+(this._calculateExportColspan(o)||1):n,0)}_needColumnExporting(e){return!e.command&&(e.allowExporting||e.allowExporting===void 0)}_getFooterSummaryItems(e,t){let n=[],o=1,r=0;do{let s=[];for(let a=0;a<e.length;a++){let l=e[a],d=l.length;o<d&&(o=d),s.push(l[r])}n.push({values:s,rowType:t?"totalFooter":"groupFooter"})}while(r++<o-1);return n}_hasSummaryGroupFooters(){let e=this.option("summary.groupItems");if(U(e)){for(let t=0;t<e.length;t++)if(e[t].showInGroupFooter)return!0}return!1}_getItemsWithSummaryGroupFooters(e){let t=[],n=[],o=[];for(let r=0;r<e.length;r++){let s=e[r];s.rowType==="groupFooter"?(o=this._getFooterSummaryItems(s.summaryCells),t=t.concat(n,o),n=[]):n.push(s)}return t.length?t:n}_updateGroupValuesWithSummaryByColumn(e){let t=[];for(let n=0;n<e.length;n++){let o=e[n],{summaryCells:r}=o;if(o.rowType==="group"&&r&&r.length>1){let s=o.values.length;for(let a=1;a<r.length;a++)for(let l=0;l<r[a].length;l++){let d=r[a][l];d&&d.alignByColumn&&(Array.isArray(t[a-s])||(t[a-s]=[]),t[a-s].push(d))}t.length>0&&(o.values.push(...t),t=[])}}}_processUnExportedItems(e){let t=this._columnsController.getVisibleColumns(null,!0),n=this._columnsController.getGroupColumns(),o,r;for(let s=0;s<e.length;s++){let a=e[s],l=!1;o=[],r=[];for(let d=0;d<t.length;d++){let c=t[d];if(l||(l=["detailExpand","buttons"].includes(c.type)),this._needColumnExporting(c)&&(a.values&&(a.rowType==="group"&&!o.length?o.push(a.key[a.groupIndex]):o.push(a.values[d])),a.summaryCells))if(a.rowType==="group"&&!r.length){let u=d-n.length+a.groupIndex;r.push(a.summaryCells[l?u:u+1])}else r.push(a.summaryCells[d])}o.length&&(a.values=o),r.length&&(a.summaryCells=r)}}_getAllItems(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this,o=new le,r=this._dataController.footerItems(),s=r.length&&r[0],a=n.option("summary.totalItems"),l;return Be(e).done(d=>{this._dataController.loadAll(d,t).done((c,u)=>{n._updateGroupValuesWithSummaryByColumn(c),n._hasSummaryGroupFooters()&&(c=n._getItemsWithSummaryGroupFooters(c)),l=s&&s.summaryCells,U(u)&&a&&(l=n._getSummaryCells(a,u));let h=s&&n._getFooterSummaryItems(l,!0);h&&(c=c.concat(h)),n._processUnExportedItems(c),o.resolve(c)}).fail(o.reject)}).fail(o.reject),o}_getSummaryCells(e,t){return this._dataController._calculateSummaryCells(e,t,this._columnsController.getVisibleColumns(null,!0),(n,o)=>this._dataController._isDataColumn(o)?o.index:-1)}_getSelectedItems(){return this.needLoadItemsOnExportingSelectedItems()?this._getAllItems(this._selectionController.loadSelectedItemsWithFilter(),!0):this._getAllItems(this._selectionController.getSelectedRowsData())}_getColumnWidths(e,t){return e&&e.isVisible()?e.getColumnWidths():t.getColumnWidths()}throwWarningIfNoOnExportingEvent(){var e,t;let n=(e=(t=this.component).hasActionSubscription)===null||e===void 0?void 0:e.call(t,"onExporting");this.option("export.enabled")&&!n&&bt.log("W1024")}callbackNames(){return["selectionOnlyChanged"]}getDataProvider(e){let t=this._getColumnWidths(this._headersView,this._rowsView),n;if(t&&t.length){n={};let o=this._columnsController.getVisibleColumns(this._columnsController.getRowCount(),!0);for(let r=0;r<o.length;r++)n[o[r].index]=t[r]}return new tV(this,n,e)}exportTo(e,t){this._selectionOnly=e;let n=this.getAction("onExporting"),o={rtlEnabled:this.option("rtlEnabled"),selectedRowsOnly:!!e,format:t,fileName:"DataGrid",cancel:!1};Ie(n)&&n(o)}publicMethods(){return["getDataProvider"]}selectionOnly(e){if(U(e))this._isSelectedRows=e,this.selectionOnlyChanged.fire();else return this._isSelectedRows}optionChanged(e){super.optionChanged(e),e.name==="export"&&this.throwWarningIfNoOnExportingEvent()}needLoadItemsOnExportingSelectedItems(){return this.option("loadItemsOnExportingSelectedItems")??this._dataController._dataSource.remoteOperations().filtering}},Ike=i=>class extends i{callbackNames(){let e=super.callbackNames();return U(e)?e.push("editingButtonsUpdated"):["editingButtonsUpdated"]}_updateEditButtons(){super._updateEditButtons(),this.editingButtonsUpdated.fire()}},Dke=i=>class extends i{_getToolbarItems(){let e=super._getToolbarItems(),t=this._getExportToolbarButton();return t&&(e.push(t),this._correctItemsPosition(e)),e}_getExportToolbarButton(){let e=this._getExportToolbarItems();if(e.length===0)return null;let t=this._needDisableExportButton(),n={name:"exportButton",location:"after",locateInMenu:"auto",sortIndex:30,options:{items:e},disabled:t};if(e.length===1){let o=ye({},e[0],{hint:e[0].text,elementAttr:{class:"dx-datagrid-export-button"}});n.widget="dxButton",n.showText="inMenu",n.options=o}else{let o={icon:"export",displayExpr:"text",items:e,hint:this.option("export.texts.exportTo"),elementAttr:{class:"dx-datagrid-export-button"},dropDownOptions:{width:"auto",_wrapperClassExternal:"dx-datagrid-export-menu"}};n.options=o,n.widget="dxDropDownButton",n.menuItemTemplate=(r,s,a)=>{this._createComponent(I(a),wd,{items:e})}}return n}_getExportToolbarItems(){let e=this.option("export"),t=this.option("export.texts"),n=this.option("export.formats")??[];if(!e.enabled)return[];let o=[];return n.forEach(r=>{let s=r.toUpperCase(),a="export";r==="xlsx"&&(s="Excel",a="xlsxfile"),r==="pdf"&&(a="pdffile"),o.push({text:rr(t.exportAll,s),icon:a,onClick:()=>{this._exportController.exportTo(!1,r)}}),e.allowExportSelectedData&&o.push({text:rr(t.exportSelectedRows,s),icon:"exportselected",onClick:()=>{this._exportController.exportTo(!0,r)}})}),o}_correctItemsPosition(e){e.sort((t,n)=>t.sortIndex-n.sortIndex)}_isExportButtonVisible(){return this.option("export.enabled")}optionChanged(e){super.optionChanged(e),e.name==="export"&&(e.handled=!0,this._invalidate())}_needDisableExportButton(){let e=!this._columnsController.hasVisibleDataColumns(),t=this._editingController.hasChanges();return e||t}_columnOptionChanged(e){if(super._columnOptionChanged(e),qe.checkChanges(e.optionNames,["groupIndex","visible","all"])){let n=this._needDisableExportButton();this.setToolbarItemDisabled("exportButton",n)}}init(){super.init(),this._exportController=this.getController("export"),this._editingController.editingButtonsUpdated.add(()=>{let e=this._needDisableExportButton();this.setToolbarItemDisabled("exportButton",e)})}isVisible(){return super.isVisible()||this._isExportButtonVisible()}};qe.registerModule("export",{defaultOptions:()=>({export:{enabled:!1,fileName:"DataGrid",formats:["xlsx"],allowExportSelectedData:!1,texts:{exportTo:de.format("dxDataGrid-exportTo"),exportAll:de.format("dxDataGrid-exportAll"),exportSelectedRows:de.format("dxDataGrid-exportSelectedRows")}}}),controllers:{export:iV},extenders:{controllers:{editing:Ike},views:{headerPanel:Dke}}});var Tke=(i,e,t)=>{let{isRemoteFiltering:n,dateSerializationFormat:o,getSelector:r}=t,{selector:s}=i,a=Ie(s)?s:r(s),l=a?a(e):e[s],d=n&&no(l)?kn.serializeDate(l,o):l;return{getter:a,rawValue:l,safeValue:d}},Jee={getSortFilterValue:Tke};var Ake=".dx-row.dx-row-focused";var nV=class extends li.ViewController{getKeyboardController(){return this.getController("keyboardNavigation")}getDataController(){return this.getController("data")}init(){this.component._optionsByReference.focusedRowKey=!0}optionChanged(e){let{name:t,value:n,previousValue:o}=e;switch(t){case"focusedRowIndex":this._focusRowByIndex(n),this.getKeyboardController()._fireFocusedRowChanged(),e.handled=!0;break;case"focusedRowKey":if(Array.isArray(n)&&JSON.stringify(n)===JSON.stringify(o))return;this._focusRowByKey(n),this.getKeyboardController()._fireFocusedRowChanged(),e.handled=!0;break;case"focusedColumnIndex":case"focusedRowEnabled":case"autoNavigateToFocusedRow":e.handled=!0;break;default:super.optionChanged(e)}}publicMethods(){return["navigateToRow","isRowFocused"]}isAutoNavigateToFocusedRow(){return this.option("scrolling.mode")!=="infinite"&&this.option("autoNavigateToFocusedRow")}_focusRowByIndex(e,t){this.option("focusedRowEnabled")&&(e=e!==void 0?e:this.option("focusedRowIndex"),e<0?this.isAutoNavigateToFocusedRow()&&this._resetFocusedRow():this._focusRowByIndexCore(e,t))}_focusRowByIndexCore(e,t){let n=this.getDataController().pageSize(),o=()=>{if(this._isValidFocusedRowIndex(e)){let r=e-this.getDataController().getRowIndexOffset(!0);if(!t||t.paging&&!t.filtering){let a=this.getDataController()._getLastItemIndex();r=Math.min(r,a)}let s=this.getDataController().getKeyByRowIndex(r,!0);U(s)&&!this.isRowFocused(s)&&this.option("focusedRowKey",s)}};if(n>=0)if(this._isLocalRowIndex(e))o();else{let r=Math.floor(e/this.getDataController().pageSize());Be(this.getDataController().pageIndex(r),this.getDataController().waitReady()).done(()=>{o()})}}_isLocalRowIndex(e){if(this.getKeyboardController()._isVirtualScrolling()){let n=Math.floor(e/this.getDataController().pageSize()),o=this.getDataController().virtualItemsCount(),r=o?o.begin:-1,s=this.getDataController().getVisibleRows().length+this.getDataController().getRowIndexOffset(),a=Math.ceil(s/this.getDataController().pageSize());return r<=e&&a>n}return!0}_setFocusedRowKeyByIndex(e){if(this._isValidFocusedRowIndex(e)){let t=Math.min(e-this.getDataController().getRowIndexOffset(),this.getDataController().items().length-1),n=this.getDataController().getKeyByRowIndex(t);U(n)&&!this.isRowFocused(n)&&this.option("focusedRowKey",n)}}_focusRowByKey(e){U(e)?this._navigateToRow(e,!0):this._resetFocusedRow()}_resetFocusedRow(){let e=this.option("focusedRowKey"),t=U(e);!t&&this.option("focusedRowIndex")<0||(t&&this.option("focusedRowKey",null),this.getKeyboardController().setFocusedRowIndex(-1),this.option("focusedRowIndex",-1),this.getDataController().updateItems({changeType:"updateFocusedRow",focusedRowKey:null}),this.getKeyboardController()._fireFocusedRowChanged())}_isValidFocusedRowIndex(e){let t=this.getDataController().getVisibleRows()[e];return!t||t.rowType==="data"||t.rowType==="group"}navigateToRow(e){return this.isAutoNavigateToFocusedRow()||this.option("focusedRowIndex",-1),this._navigateToRow(e)}_navigateToRow(e,t){let n=this,o=n.isAutoNavigateToFocusedRow(),r=new le;if(e===void 0||!this.getDataController().dataSource())return r.reject().promise();let s=n.getFocusedRowIndexByKey(e);return!o&&t||s>=0?n._navigateTo(e,r,t):this.getDataController().getPageIndexByKey(e).done(a=>{if(a<0){r.resolve(-1);return}a===this.getDataController().pageIndex()?this.getDataController().reload().done(()=>{n.isRowFocused(e)&&this.getDataController().getRowIndexByKey(e)>=0?r.resolve(n.getFocusedRowIndexByKey(e)):n._navigateTo(e,r,t)}).fail(r.reject):this.getDataController().pageIndex(a).done(()=>{n._navigateTo(e,r,t)}).fail(r.reject)}).fail(r.reject),r.promise()}_navigateTo(e,t,n){let o=this.getDataController().getRowIndexByKey(e),r=De.isVirtualRowRendering(this);this.isAutoNavigateToFocusedRow()&&r&&o<0?this._navigateToVirtualRow(e,t,n):this._navigateToVisibleRow(e,t,n)}_navigateToVisibleRow(e,t,n){if(n)this._triggerUpdateFocusedRow(e,t);else{let o=this.getFocusedRowIndexByKey(e);this.getView("rowsView").scrollToRowElement(e,t).done(()=>{t.resolve(o)})}}_navigateToVirtualRow(e,t,n){let o=this.getDataController()._rowsScrollController,r=De.getIndexByKey(e,this.getDataController().items(!0)),s=this.getView("rowsView").getScrollable();if(o&&s&&r>=0){let a=r+this.getDataController().getRowIndexOffset(!0),l=o.getItemOffset(a),d=()=>{this.getDataController().totalCount()&&!this.getDataController().items().length||(this.component.off("contentReady",d),n?this._triggerUpdateFocusedRow(e,t):t.resolve(a))};this.component.on("contentReady",d),this.getView("rowsView").scrollTopPosition(l)}else t.resolve(-1)}_triggerUpdateFocusedRow(e,t){let n=this.getFocusedRowIndexByKey(e);if(this._isValidFocusedRowIndex(n)){let o;this.option("focusedRowEnabled")?this.getDataController().updateItems({changeType:"updateFocusedRow",focusedRowKey:e}):o=this.getView("rowsView").scrollToRowElement(e),Be(o).done(()=>{this.getKeyboardController().setFocusedRowIndex(n),t&&t.resolve(n)})}else t&&t.resolve(-1)}getFocusedRowIndexByKey(e){let t=this.getDataController().getRowIndexByKey(e,!0);return t>=0?t+this.getDataController().getRowIndexOffset(!0):-1}_focusRowByKeyOrIndex(){let e=this.option("focusedRowKey"),t=this.option("focusedRowIndex");if(U(e)){let n=this.getDataController().getRowIndexByKey(e);n>=0?(this.getKeyboardController()._isVirtualScrolling()&&(t=n+this.getDataController().getRowIndexOffset()),this.getKeyboardController().setFocusedRowIndex(t),this._triggerUpdateFocusedRow(e)):this._navigateToRow(e,!0).done(o=>{t>=0&&o<0?this._focusRowByIndex():t<0&&o>=0&&this.getKeyboardController().setFocusedRowIndex(o)})}else t>=0&&this._focusRowByIndex(t)}isRowFocused(e){let t=this.option("focusedRowKey");if(U(t))return hi(e,this.option("focusedRowKey"))}updateFocusedRow(e){let t=this,n=e.focusedRowIndex??t.getDataController().getRowIndexByKey(e.focusedRowKey),o=t.getView("rowsView"),r,s;ee(o.getTableElements(),(a,l)=>{let d=a===0;r=I(l),t._clearPreviousFocusedRow(r,n);let c=t._prepareFocusedRow({changedItem:t.getDataController().getVisibleRows()[n],$tableElement:r,focusedRowIndex:n});d&&(s=c)}),!e.preventScroll&&s&&o.scrollToElementVertically(s)}_clearPreviousFocusedRow(e,t){let n=e.find(Ake).filter((o,r)=>{let s=I(r).closest(`.${this.addWidgetPrefix("table")}`);return e.is(s)});n.removeClass("dx-row-focused").removeClass("dx-cell-focus-disabled").removeAttr("tabindex"),n.children("td").removeAttr("tabindex"),t!==0&&I(this.getView("rowsView").getRowElement(0)).removeClass("dx-cell-focus-disabled").removeAttr("tabIndex")}_prepareFocusedRow(e){let t,{changedItem:n}=e;if(n&&(n.rowType==="data"||n.rowType==="group")){let{focusedRowIndex:o}=e,{$tableElement:r}=e,s=this.option("tabindex")||0,a=this.getView("rowsView");t=I(a._getRowElements(r).eq(o)),t.addClass("dx-row-focused").attr("tabindex",s)}return t}},kke=i=>class extends i{init(){let e=this.option("focusedRowIndex"),t=this.option("focusedColumnIndex");this.createAction("onFocusedRowChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedRowChanged",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanged",{excludeValidators:["disabled","readOnly"]}),super.init(),this.setRowFocusType(),this._focusedCellPosition={},U(e)&&e>=0&&(this._focusedCellPosition.rowIndex=e),U(t)&&t>=0&&(this._focusedCellPosition.columnIndex=t)}setFocusedRowIndex(e){super.setFocusedRowIndex(e),this.option("focusedRowIndex",e)}setFocusedColumnIndex(e){super.setFocusedColumnIndex(e),this.option("focusedColumnIndex",e)}_escapeKeyHandler(e,t){return t||!this.option("focusedRowEnabled")?super._escapeKeyHandler(e,t):this.isCellFocusType()?(this.setRowFocusType(),this._focus(this._getCellElementFromTarget(e.originalEvent.target),!0),!0):!1}_updateFocusedCellPosition(e,t){let n=super._updateFocusedCellPosition(e,t);return n&&n.columnIndex>=0&&this._fireFocusedCellChanged(e),n}},Mke=i=>class extends i{renderFocusOverlay(e,t){var n;let o=this.option("focusedRowEnabled"),r;!o||!((n=this._keyboardNavigationController)!==null&&n!==void 0&&n.isRowFocusType())||this._editingController.isEditing()?super.renderFocusOverlay(e,t):o&&this._keyboardNavigationController._getElementType(e)==="row"&&!e.hasClass("dx-row-focused")&&(r=this._keyboardNavigationController.getFirstValidCellInRow(e),this._keyboardNavigationController.focus(r))}},Rke=i=>class extends i{getSortDataSourceParameters(e,t){let n=super.getSortDataSourceParameters.apply(this,arguments),o=this._dataController._dataSource,r=this._dataController.store(),s=r&&r.key(),a=o&&o.remoteOperations()||{},l=Object.keys(a).every(d=>!a[d]);if(s&&(this.option("focusedRowEnabled")&&this._focusController.isAutoNavigateToFocusedRow()!==!1||t)){s=Array.isArray(s)?s:[s];let d=s.filter(c=>!this.columnOption(c,"sortOrder"));d.length&&(n=n||[],l?n.push({selector:o.getDataIndexGetter(),desc:!1}):d.forEach(c=>n.push({selector:c,desc:!1})))}return n}},Fke=i=>class extends i{constructor(){super(...arguments),this._needToUpdateFocusedRowByIndex=!1}_applyChange(e){if(!(e&&e.changeType==="updateFocusedRow"))return super._applyChange.apply(this,arguments)}_fireChanged(e){if(super._fireChanged(e),this.option("focusedRowEnabled")&&this._dataSource){let n=e.changeType==="update"&&e.repaintChangesOnly&&e.changeTypes&&e.changeTypes.indexOf("remove")>=0;this._needToUpdateFocusedRowByIndex?(this._needToUpdateFocusedRowByIndex=!1,this._focusController._focusRowByIndex()):e.changeType==="refresh"&&e.items.length||n?(this._updatePageIndexes(),this._updateFocusedRow(e)):e.changeType==="append"||e.changeType==="prepend"?this._updatePageIndexes():e.changeType==="update"&&e.repaintChangesOnly&&this._updateFocusedRow(e)}}_handleDataPushed(e){super._handleDataPushed(e);let t=this.option("focusedRowKey");this._needToUpdateFocusedRowByIndex=e?.some(n=>n.type==="remove"&&hi(n.key,t))}_updatePageIndexes(){let e=this._lastRenderingPageIndex||0,t=this._rowsScrollController?this._rowsScrollController.pageIndex():0;this._lastRenderingPageIndex=t,this._isPagingByRendering=t!==e}isPagingByRendering(){return this._isPagingByRendering}_updateFocusedRow(e){let t=e.operationTypes||{},{reload:n,fullReload:o,pageIndex:r,paging:s}=t,a=this._keyboardNavigationController._isVirtualScrolling(),l=s&&!a,d=this.option("focusedRowKey"),c=this._focusController.isAutoNavigateToFocusedRow();if(n&&r===!1&&!o&&U(d))this._focusController._navigateToRow(d,!0).done(h=>{h<0&&this._focusController._focusRowByIndex(void 0,t)});else if(l&&c){let h=this.getRowIndexByKey(d),f=this.option("focusedRowIndex"),p=h>=0;f>=0&&(f===h||!p)&&this._focusController._focusRowByIndex(f,t)}else l&&!c&&this.getRowIndexByKey(d)<0?this.option("focusedRowIndex",-1):t.fullReload&&this._focusController._focusRowByKeyOrIndex()}getPageIndexByKey(e){let t=this,n=new le;return t.getGlobalRowIndexByKey(e).done(o=>{n.resolve(o>=0?Math.floor(o/t.pageSize()):-1)}).fail(n.reject),n.promise()}getGlobalRowIndexByKey(e){return this._dataSource.group()?this._calculateGlobalRowIndexByGroupedData(e):this._calculateGlobalRowIndexByFlatData(e)}_calculateGlobalRowIndexByFlatData(e,t,n){let o=this,r=new le,s=o._dataSource;if(Array.isArray(e)||bZ(e))return r.resolve(-1).promise();let a=o._generateFilterByKey(e);return s.load({filter:o._concatWithCombinedFilter(a),skip:0,take:1}).done(l=>{l.length>0?(a=o._generateOperationFilterByKey(e,l[0],n),s.load({filter:o._concatWithCombinedFilter(a,t),skip:0,take:1,requireTotalCount:!0}).done((d,c)=>{r.resolve(c.totalCount)})):r.resolve(-1)}),r.promise()}_concatWithCombinedFilter(e,t){let n=this.getCombinedFilter();return De.combineFilters([e,n,t])}_generateBooleanFilter(e,t,n){let{desc:o}=n;switch(!0){case(t===!1&&o):return[e,"=",!0];case(t===!1&&!o):return[e,"=",null];case(t===!0&&!o):case(!Xu(t)&&o):return[e,"<>",t];default:return}}_generateOperationFilterByKey(e,t,n){let o=this,r=o.option("dateSerializationFormat"),s=o._dataSource.remoteOperations().filtering,a=o._dataSource.remoteOperations().sorting,l=o._generateFilterByKey(e,"<"),d=o._columnsController.getSortDataSourceParameters(!s,!0);if(n){let c=o._columnsController.getGroupDataSourceParameters(!s);c&&(d=d?c.concat(d):c)}return d&&d.slice().reverse().forEach(c=>{let{selector:u,desc:h,compare:f}=c,{getter:p,rawValue:m,safeValue:g}=Jee.getSortFilterValue(c,t,{isRemoteFiltering:s,dateSerializationFormat:r,getSelector:b=>o._columnsController.columnOption(b,"selector")});if(l=[[u,"=",g],"and",l],m===null||Xu(m)){let b=o._generateBooleanFilter(u,g,h);b&&(l=[b,"or",l])}else{let b=h?">":"<",x;f&&!a?x=E=>b==="<"?f(m,p(E))>=1:f(m,p(E))<=-1:(x=[u,b,g],h||(x=[x,"or",[u,"=",null]])),l=[x,"or",l]}}),l}_generateFilterByKey(e,t){let n=this._dataSource.key(),o=[];if(t||(t="="),Array.isArray(n))for(let r=0;r<n.length;++r){let s=e[n[r]];s&&(o.length>0&&o.push("and"),o.push([n[r],t,s]))}else o=[n,t,e];return o}_getLastItemIndex(){return this.items(!0).length-1}},Pke=i=>class extends i{_deleteRowCore(e){let t=super._deleteRowCore.apply(this,arguments),n=this._dataController.getKeyByRowIndex(e);t.done(()=>{let o=this._dataController.getRowIndexByKey(n),r=this._dataController.getVisibleRows();o===-1&&!r.length&&this._focusController._resetFocusedRow()})}},Lke=i=>class extends i{_createRow(e){let t=super._createRow.apply(this,arguments);return this.option("focusedRowEnabled")&&e&&this._focusController.isRowFocused(e.key)&&t.addClass("dx-row-focused"),t}_checkRowKeys(e){if(super._checkRowKeys.apply(this,arguments),this.option("focusedRowEnabled")&&this.option("dataSource")){let t=this._dataController.store();t&&!t.key()&&this._dataController.fireError("E1042","Row focusing")}}_update(e){e.changeType==="updateFocusedRow"?this.option("focusedRowEnabled")&&this._focusController.updateFocusedRow(e):super._update(e)}updateFocusElementTabIndex(e,t){this.option("focusedRowEnabled")?this._setFocusedRowElementTabIndex(t):super.updateFocusElementTabIndex(e)}_setFocusedRowElementTabIndex(e){let t=this.option("focusedRowKey"),n=this.option("tabIndex")??0,o=this._columnsController,r=this._dataController.getRowIndexByKey(t),s=this.option("focusedColumnIndex"),a=this._findRowElementForTabIndex(),l=this._dataController.dataSource(),d=l?.operationTypes(),c=!d||d.paging;U(this._scrollToFocusOnResize)||(this._scrollToFocusOnResize=()=>{this.scrollToElementVertically(this._findRowElementForTabIndex()),this.resizeCompleted.remove(this._scrollToFocusOnResize)}),a.attr("tabIndex",n);let u=this.option("focusedRowIndex")-this._dataController.getRowIndexOffset(!0);!c&&r<0&&u>=0&&this._focusController.updateFocusedRow({focusedRowIndex:u,preventScroll:e}),r>=0&&!e&&(s<0&&(s=0),r+=this._dataController.getRowIndexOffset(),s+=o.getColumnIndexOffset(),this._keyboardNavigationController.setFocusedCellPosition(r,s),this._focusController.isAutoNavigateToFocusedRow()&&!c&&!this._dataController.isPagingByRendering()&&(this.resizeCompleted.remove(this._scrollToFocusOnResize),this.resizeCompleted.add(this._scrollToFocusOnResize)))}_findRowElementForTabIndex(){let e=this.option("focusedRowKey"),t=this._dataController.getRowIndexByKey(e);return I(this.getRowElement(t>=0?t:0))}scrollToRowElement(e){let t=this._dataController.getRowIndexByKey(e),n=I(this.getRow(t));return this.scrollToElementVertically(n)}scrollToElementVertically(e){let t=this.getScrollable();if(t&&e.length){let n=t.getScrollElementPosition(e,"vertical");return this.scrollTopPosition(n)}return new le().resolve()}scrollTopPosition(e){let t=new le,n=this.getScrollable();if(n){let o=n.scrollTop(),r=()=>{n.off("scroll",r),t.resolve()};if(e!==o)return n.on("scroll",r),this._dataController.resetFilterApplying(),n.scrollTo({top:e}),t.promise()}return t.resolve()}},xy={defaultOptions:()=>({focusedRowEnabled:!1,autoNavigateToFocusedRow:!0,focusedRowKey:null,focusedRowIndex:-1,focusedColumnIndex:-1}),controllers:{focus:nV},extenders:{controllers:{keyboardNavigation:kke,editorFactory:Mke,columns:Rke,data:Fke,editing:Pke},views:{rowsView:Lke}}};var Nke=Number.MAX_SAFE_INTEGER||9007199254740991,Bke=i=>class extends xy.extenders.controllers.data(i){changeRowExpand(e,t){return this.option("focusedRowEnabled")&&Array.isArray(e)&&this.isRowExpanded(e)&&(!t||!this._keyboardNavigationController.isKeyboardEnabled())&&this._isFocusedRowInsideGroup(e)&&this.option("focusedRowKey",e),super.changeRowExpand(e,t)}_isFocusedRowInsideGroup(e){let t=this.option("focusedRowKey"),n=this.getRowIndexByKey(t),o=n>=0&&this.getVisibleRows()[n],r=this._columnsController.getGroupDataSourceParameters(!0);if(o){for(let s=0;s<e.length;++s)if(Qt(r[s]&&r[s].selector)(o.data)!==e[s])return!1}return!0}_getGroupPath(e,t){let n=[],o=[e];for(;o&&o[0]&&t;){let r=o[0];r.key!==void 0&&n.push(r.key),o=r.items,t--}return n}_expandGroupByPath(e,t,n){let o=new le;return n++,e.expandRow(t.slice(0,n)).done(()=>{n===t.length?o.resolve():e._expandGroupByPath(e,t,n).done(o.resolve).fail(o.reject)}).fail(o.reject),o.promise()}_calculateGlobalRowIndexByGroupedData(e){let t=this,n=t._dataSource,o=t._generateFilterByKey(e),r=new le,s=Array.isArray(e),a=n.group();return s?r.resolve(-1).promise():n._grouping._updatePagingOptions?(n.load({filter:t._concatWithCombinedFilter(o),group:a}).done(l=>{if(!l||l.length===0||!U(l[0].key)||l[0].key===-1)return r.resolve(-1).promise();let d=t._getGroupPath(l[0],a.length);t._expandGroupByPath(t,d,0).done(()=>{t._calculateExpandedRowGlobalIndex(r,e,d,a)}).fail(r.reject)}).fail(r.reject),r.promise()):(t._calculateGlobalRowIndexByFlatData(e,null,!0).done(r.resolve).fail(r.reject),r)}_calculateExpandedRowGlobalIndex(e,t,n,o){let r=Ad(n,{group:o}),s=this._dataSource,a=this.option("scrolling.mode"),l=a==="virtual"||a==="infinite",d=s.pageSize(),c;s._grouping._updatePagingOptions({skip:0,take:Nke},(u,h)=>{hi(u.path,n)&&(c=h)}),this._calculateGlobalRowIndexByFlatData(t,r).done(u=>{let h,f;if(u<0){e.resolve(-1);return}h=(c%d||d)+u-n.length,l?f=0:f=Math.floor(h/(d-n.length))*n.length,h=c+u+f,e.resolve(h)}).fail(e.reject)}};qe.registerModule("focus",ye({},xy,{extenders:ye({},xy.extenders,{controllers:ye({},xy.extenders.controllers,{data:Bke})})}));var ete=et(),Vke="dxSortable";var tte=i=>I(i).is(":visible"),Hke=(i,e)=>{var t,n;if(!i)return;let o=((t=e.to)===null||t===void 0?void 0:t.left)||0,r=((n=e.to)===null||n===void 0?void 0:n.top)||0;i.style.transform=`translate(${o}px,${r}px)`,i.style.transition=hn.off?"":`transform ${e.duration}ms ${e.easing}`},zke=i=>{i&&(i.style.transform="",i.style.transition="")};function jke(i){let e=i.offset(),{style:t}=i[0],n=parseFloat(t.paddingLeft)||0,o=parseFloat(t.paddingRight)||0,r=parseFloat(t.paddingTop)||0,s=i[0].clientWidth-(n+o),a=ft(i),l=e.left+n,d=e.top+r;return{left:l,right:l+s,top:d,bottom:d+a}}var ite=UK.inherit({_init(){this.callBase(),this._sourceScrollHandler=this._handleSourceScroll.bind(this),this._sourceScrollableInfo=null},_getDefaultOptions(){return q(this.callBase(),{clone:!0,filter:"> *",itemOrientation:"vertical",dropFeedbackMode:"push",allowDropInsideItem:!1,allowReordering:!0,moveItemOnDrop:!1,onDragChange:null,onAdd:null,onRemove:null,onReorder:null,onPlaceholderPrepared:null,animation:{type:"slide",duration:300,easing:"ease"},fromIndex:null,toIndex:null,dropInsideItem:!1,itemPoints:null,fromIndexOffset:0,offset:0,autoUpdate:!1,draggableElementSize:0})},reset(){this.option({dropInsideItem:!1,toIndex:null,fromIndex:null,itemPoints:null,fromIndexOffset:0,draggableElementSize:0}),this._$placeholderElement&&this._$placeholderElement.remove(),this._$placeholderElement=null,!this._isIndicateMode()&&this._$modifiedItem&&(this._$modifiedItem.css("marginBottom",this._modifiedItemMargin),this._$modifiedItem=null)},_getPrevVisibleItem:(i,e)=>i.slice(0,e).reverse().filter(tte)[0],_dragStartHandler(i){if(this.callBase.apply(this,arguments),i.cancel===!0)return;let e=this._getSourceElement();this._updateItemPoints(),this._subscribeToSourceScroll(i),this.option("fromIndex",this._getElementIndex(e)),this.option("fromIndexOffset",this.option("offset"))},_subscribeToSourceScroll(i){let e=this._getScrollable(I(i.target));e&&(this._sourceScrollableInfo={element:e,scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop()},X.off(e,"scroll",this._sourceScrollHandler),X.on(e,"scroll",this._sourceScrollHandler))},_unsubscribeFromSourceScroll(){this._sourceScrollableInfo&&(X.off(this._sourceScrollableInfo.element,"scroll",this._sourceScrollHandler),this._sourceScrollableInfo=null)},_handleSourceScroll(i){let e=this._sourceScrollableInfo;e&&["scrollLeft","scrollTop"].forEach(t=>{if(i.target[t]!==e[t]){let n=i.target[t]-e[t];this._correctItemPoints(n),this._movePlaceholder(),e[t]=i.target[t]}})},_dragEnterHandler(i){if(this.callBase.apply(this,arguments),this!==this._getSourceDraggable()&&(this._subscribeToSourceScroll(i),this._updateItemPoints(),this.option("fromIndex",-1),!this._isIndicateMode())){let e=this.option("itemPoints"),t=e[e.length-1];if(t){let n=this.$element(),o=this._getSourceElement(),r=this._isVerticalOrientation(),s=r?Ct(o,!0):Ft(o,!0),a=n.get(0)[r?"scrollHeight":"scrollWidth"],l=n.get(0)[r?"scrollTop":"scrollLeft"],d=r?"top":"left",c=t[d],h=n.offset()[d]+a-l-c;if(h<s&&r){let f=this._getItems(),p=I(this._getPrevVisibleItem(f));this._$modifiedItem=p,this._modifiedItemMargin=p.get(0).style.marginBottom,p.css("marginBottom",s-h);let m=p.closest(".dx-sortable"),g=m.data("dxScrollable")||m.data("dxScrollView");g&&g.update()}}}},_dragLeaveHandler(){this.callBase.apply(this,arguments),this!==this._getSourceDraggable()&&this._unsubscribeFromSourceScroll()},dragEnter(){this!==this._getTargetDraggable()&&this.option("toIndex",-1)},dragLeave(){this!==this._getTargetDraggable()&&this.option("toIndex",this.option("fromIndex"))},_allowDrop(i){let t=this._getTargetDraggable().$element(),n=this._getScrollable(t);if(n){let{left:o,right:r,top:s,bottom:a}=jke(n),l=this.option("toIndex"),d=this.option("itemPoints"),c=d?.filter(u=>u.index===l)[0];if(c&&c.top!==void 0)return this._isVerticalOrientation()?s<=Math.ceil(c.top)&&Math.floor(c.top)<=a:o<=Math.ceil(c.left)&&Math.floor(c.left)<=r}return!0},dragEnd(i){this._unsubscribeFromSourceScroll();let e=this._getSourceElement(),t=this._getSourceDraggable(),n=t.NAME!==this.NAME,o=this.option("toIndex"),{event:r}=i,s=this._allowDrop(r);if(o!==null&&o>=0&&s){let a,l;if(t!==this&&(a=this._fireAddEvent(r),a||(l=this._fireRemoveEvent(r))),n&&hd(e),this.option("moveItemOnDrop")&&!a&&this._moveItem(e,o,l),t===this)return this._fireReorderEvent(r)}return le().resolve()},dragMove(i){let e=this.option("itemPoints");if(!e)return;let t=this._isVerticalOrientation(),n=t?"top":"left",o=t?i.pageY:i.pageX,r=this.option("rtlEnabled"),s;for(let a=e.length-1;a>=0;a--){let l=e[a+1]&&(e[a][n]+e[a+1][n])/2;if((!t&&r?o>l:l>o)||l===void 0)s=e[a];else break}s&&(this._updatePlaceholderPosition(i,s),this._verticalScrollHelper.isScrolling()&&this._isIndicateMode()&&this._movePlaceholder())},_isIndicateMode(){return this.option("dropFeedbackMode")==="indicate"||this.option("allowDropInsideItem")},_createPlaceholder(){let i;return this._isIndicateMode()&&(i=I("<div>").addClass(this._addWidgetPrefix("placeholder")).insertBefore(this._getSourceDraggable()._$dragElement)),this._$placeholderElement=i,i},_getItems(){let i=this._getItemsSelector();return this._$content().find(i).not(`.${this._addWidgetPrefix("placeholder")}`).not(`.${this._addWidgetPrefix("clone")}`).toArray()},_allowReordering(){let i=this._getSourceDraggable(),e=this._getTargetDraggable();return i!==e||this.option("allowReordering")},_isValidPoint(i,e,t){let n=this.option("allowDropInsideItem");return!(t||this._allowReordering())&&(i!==0||!n)?!1:this._isIndicateMode()?e===-1||i!==e&&(t||i!==e+1):!0},_getItemPoints(){let i=this,e=[],t,n,o,r=i.option("rtlEnabled"),s=i._isVerticalOrientation(),a=i._getItems(),l=a.filter(tte),d=l.length,c=this._getDraggableElement(),u=l.indexOf(c.get(0));if(d){for(let h=0;h<=d;h++){let f=!s&&r^h===d,p=s&&h===d;h<d&&(t=I(l[h]),n=t.offset(),o=Ft(t)),e.push({dropInsideItem:!1,left:n.left+(f?o:0),top:n.top+(p?e[h-1].height:0),index:h===d?a.length:a.indexOf(t.get(0)),$item:t,width:Ft(t),height:Ct(t),isValid:i._isValidPoint(h,u)})}if(this.option("allowDropInsideItem")){let h=e;e=[];for(let f=0;f<h.length;f++)e.push(h[f]),h[f+1]&&e.push(q({},h[f],{dropInsideItem:!0,top:Math.floor((h[f].top+h[f+1].top)/2),left:Math.floor((h[f].left+h[f+1].left)/2),isValid:this._isValidPoint(f,u,!0)}))}}else e.push({dropInsideItem:!1,index:0,isValid:!0});return e},_updateItemPoints(i){(i||this.option("autoUpdate")||!this.option("itemPoints"))&&this.option("itemPoints",this._getItemPoints())},_correctItemPoints(i){let e=this.option("itemPoints");if(i&&e&&!this.option("autoUpdate")){let n=this._isVerticalOrientation()?"top":"left";e.forEach(o=>{o[n]-=i})}},_getElementIndex(i){return this._getItems().indexOf(i.get(0))},_getDragTemplateArgs(i){let e=this.callBase.apply(this,arguments);return e.model.fromIndex=this._getElementIndex(i),e},_togglePlaceholder(i){this._$placeholderElement&&this._$placeholderElement.toggle(i)},_isVerticalOrientation(){return this.option("itemOrientation")==="vertical"},_normalizeToIndex(i,e){let t=this._getSourceDraggable()!==this._getTargetDraggable(),n=this._getActualFromIndex();return i===null?n:Math.max(t||n>=i||e?i:i-1,0)},_updatePlaceholderPosition(i,e){let t=this._getSourceDraggable(),n=this._normalizeToIndex(e.index,e.dropInsideItem),o=q(this._getEventArgs(i),{toIndex:n,dropInsideItem:e.dropInsideItem});if(e.isValid&&this._getAction("onDragChange")(o),o.cancel||!e.isValid){e.isValid||this.option({dropInsideItem:!1,toIndex:null});return}this.option({dropInsideItem:e.dropInsideItem,toIndex:e.index}),this._getAction("onPlaceholderPrepared")(q(this._getEventArgs(i),{placeholderElement:tt(this._$placeholderElement),dragElement:tt(t._$dragElement)})),this._updateItemPoints()},_makeWidthCorrection(i,e){if(this._$scrollable=this._getScrollable(i),this._$scrollable){let t=Qe(this._$scrollable),n=this._$scrollable.offset().left-i.offset().left,o=Ft(i)-n-t;n>0&&(e-=n),o>0&&(e-=o)}return e},_updatePlaceholderSizes(i,e){let t=this.option("dropInsideItem"),n=I(e),o=this._isVerticalOrientation(),r="",s="";i.toggleClass(this._addWidgetPrefix("placeholder-inside"),t),(o||t)&&(r=Ft(n)),(!o||t)&&(s=Ct(n)),r=this._makeWidthCorrection(n,r),i.css({width:r,height:s})},_moveItem(i,e,t){let n,o=this._getItems(),r=o[e],s=this._getSourceDraggable();t&&(i=i.clone(),s._toggleDragSourceClass(!1,i)),r||(n=o[e-1]),this._moveItemCore(i,r,n)},_moveItemCore(i,e,t){!e&&!t?i.appendTo(this.$element()):t?i.insertAfter(I(t)):i.insertBefore(I(e))},_getDragStartArgs(i,e){return q(this.callBase.apply(this,arguments),{fromIndex:this._getElementIndex(e)})},_getEventArgs(i){let e=this._getSourceDraggable(),t=this._getTargetDraggable(),n=t.option("dropInsideItem");return q(this.callBase.apply(this,arguments),{fromIndex:e.option("fromIndex"),toIndex:this._normalizeToIndex(t.option("toIndex"),n),dropInsideItem:n})},_optionChanged(i){let{name:e}=i;switch(e){case"onDragChange":case"onPlaceholderPrepared":case"onAdd":case"onRemove":case"onReorder":this[`_${e}Action`]=this._createActionByOption(e);break;case"itemOrientation":case"allowDropInsideItem":case"moveItemOnDrop":case"dropFeedbackMode":case"itemPoints":case"animation":case"allowReordering":case"fromIndexOffset":case"offset":case"draggableElementSize":case"autoUpdate":break;case"fromIndex":[!1,!0].forEach(t=>{let n=t?i.value:i.previousValue;if(n!==null){let o=I(this._getItems()[n]);this._toggleDragSourceClass(t,o)}});break;case"dropInsideItem":this._optionChangedDropInsideItem(i);break;case"toIndex":this._optionChangedToIndex(i);break;default:this.callBase(i)}},_optionChangedDropInsideItem(){this._isIndicateMode()&&this._$placeholderElement&&this._movePlaceholder()},_isPositionVisible(i){let e=this.$element(),t;if(e.css("overflow")!=="hidden"?t=e.get(0):e.parents().each(function(){if(I(this).css("overflow")!=="visible")return t=this,!1}),t){let n=un(t),o=this._isVerticalOrientation(),r=o?"top":"left",s=o?"bottom":"right",a=o?ete.pageYOffset:ete.pageXOffset;if(i[r]<n[r]+a||i[r]>n[s]+a)return!1}return!0},_optionChangedToIndex(i){let e=i.value;if(this._isIndicateMode()){let t=e!==null&&e>=0;this._togglePlaceholder(t),t&&this._movePlaceholder()}else this._moveItems(i.previousValue,i.value,i.fullUpdate)},update(){if(this.option("fromIndex")===null&&this.option("toIndex")===null)return;this._updateItemPoints(!0),this._updateDragSourceClass();let i=this.option("toIndex");this._optionChangedToIndex({value:i,fullUpdate:!0})},_updateDragSourceClass(){let i=this._getActualFromIndex(),e=I(this._getItems()[i]);e.length&&(this._$sourceElement=e,this._toggleDragSourceClass(!0,e))},_makeLeftCorrection(i){let e=this._$scrollable;if(e&&this._isVerticalOrientation()){let t=e.offset().left-i;t>0&&(i+=t)}return i},_movePlaceholder(){let i=this,e=i._$placeholderElement||i._createPlaceholder();if(!e)return;let t=i._getItems(),n=i.option("toIndex"),o=i._isVerticalOrientation(),r=this.option("rtlEnabled"),s=i.option("dropInsideItem"),a=null,l=t[n];if(l){let d=I(l);a=d.offset(),!o&&r&&!s&&(a.left+=Ft(d,!0))}else{let d=l=this._getPrevVisibleItem(t,n);d&&(a=I(d).offset(),o?a.top+=Ct(d,!0):r||(a.left+=Ft(d,!0)))}if(i._updatePlaceholderSizes(e,l),a&&!i._isPositionVisible(a)&&(a=null),a){let d=o&&n===t.length,c=Ct(e);a.left=i._makeLeftCorrection(a.left),a.top=d&&a.top>=c?a.top-c:a.top,i._move(a,e)}e.toggle(!!a)},_getPositions(i,e,t,n){let o=[];for(let r=0;r<i.length;r++){let s=0;if(n===null||t===null){o.push(s);continue}t===-1?r>=n&&(s=e):n===-1?r>t&&(s=-e):t<n?r>t&&r<n&&(s=-e):t>n&&r>=n&&r<t&&(s=e),o.push(s)}return o},_getDraggableElementSize(i){let e=this._getDraggableElement(),t=this.option("draggableElementSize");return t||(t=i?(Ct(e)+Ct(e,!0))/2:(Ft(e)+Ft(e,!0))/2,this.option("autoUpdate")||this.option("draggableElementSize",t)),t},_getActualFromIndex(){let{fromIndex:i,fromIndexOffset:e,offset:t}=this.option();return i==null?null:i+e-t},_moveItems(i,e,t){let n=this._getActualFromIndex(),o=this._isVerticalOrientation(),r=o?"top":"left",s=this._getDraggableElementSize(o),a=this._getItems(),l=this._getPositions(a,s,n,i),d=this._getPositions(a,s,n,e),c=this.option("animation"),u=this.option("rtlEnabled");for(let h=0;h<a.length;h++){let f=a[h],p=l[h],m=d[h];e===null||n===null?zke(f):(p!==m||t&&U(m))&&Hke(f,q({},c,{to:{[r]:!o&&u?-m:m}}))}},_toggleDragSourceClass(i,e){let t=e||this._$sourceElement;this.callBase.apply(this,arguments),this._isIndicateMode()||t&&t.toggleClass(this._addWidgetPrefix("source-hidden"),i)},_dispose(){this.reset(),this.callBase()},_fireAddEvent(i){let e=this._getEventArgs(i);return this._getAction("onAdd")(e),e.cancel},_fireRemoveEvent(i){let e=this._getSourceDraggable(),t=this._getEventArgs(i);return e._getAction("onRemove")(t),t.cancel},_fireReorderEvent(i){let e=this._getEventArgs(i);return this._getAction("onReorder")(e),e.promise||le().resolve()}});ut(Vke,ite);var nte=ite;var ote=nte;var rte={dragCell:"dx-drag-cell"},cu={cellFocusDisabled:"dx-cell-focus-disabled",handleIcon:"drag-icon",commandDrag:"dx-command-drag",sortableWithoutHandle:"dx-sortable-without-handle",rowsView:"rowsview",dragView:"dragview"};var $ke=i=>(e,t)=>{let n=I(e);if(t.rowType==="data")return n.addClass(cu.cellFocusDisabled),I("<span>").addClass(i(cu.handleIcon));De.setEmptyText(n)},ste={createHandleTemplateFunc:$ke};var Wke=i=>class extends i{init(){super.init.apply(this,arguments),this._updateHandleColumn()}optionChanged(e){e.name==="rowDragging"&&(this._updateHandleColumn(),this._invalidate(!0,!0),e.handled=!0),super.optionChanged.apply(this,arguments)}_allowReordering(){let e=this.option("rowDragging");return!!(e&&(e.allowReordering||e.allowDropInsideItem||e.group))}_updateHandleColumn(){let e=this.option("rowDragging"),t=this._allowReordering(),n=this._columnsController,o=t&&e.showDragIcons;n?.addCommandColumn({type:"drag",command:"drag",visibleIndex:-2,alignment:"center",elementAttr:[{name:rte.dragCell,value:""}],cssClass:cu.commandDrag,width:"auto",cellTemplate:this._getHandleTemplate(),visible:o}),n?.columnOption("type:drag","visible",o)}_renderContent(){let e=this.option("rowDragging"),t=this._allowReordering(),n=super._renderContent.apply(this,arguments),o=this._isFixedTableRendering,r=o?"_sortableFixed":"_sortable",s=o?"_sortable":"_sortableFixed",a=c=>{var u;(u=this._sortableFixed)===null||u===void 0||u.$element().css("pointerEvents",c?"auto":"")},l=".dx-row:not(.dx-freespace-row):not(.dx-virtual-row):not(.dx-header-row):not(.dx-footer-row)",d=this.option("dataRowTemplate")?`> table > tbody${l}`:`> table > tbody > ${l}`;return(t||this[r])&&n.length&&(this[r]=this._createComponent(n,ote,q({component:this.component,contentTemplate:null,filter:d,cursorOffset:c=>{let{event:u}=c,h=I(this.element()).offset();return{x:u.pageX-h.left}},onDraggableElementShown:c=>{if(e.dragTemplate)return;let h=I(c.dragElement).children(".dx-widget").data(this.component.NAME);this._synchronizeScrollLeftPosition(h)},dragTemplate:this._getDraggableRowTemplate(),handle:e.showDragIcons&&`.${cu.commandDrag}`,dropFeedbackMode:"indicate"},e,{onDragStart:c=>{var u,h;(u=this.getController("keyboardNavigation"))===null||u===void 0||u._resetFocusedCell();let f=c.component.getVisibleRows()[c.fromIndex];c.itemData=f&&f.data;let p=f&&f.rowType==="data";c.cancel=!t||!p,(h=e.onDragStart)===null||h===void 0||h.call(e,c)},onDragEnter:c=>{c.fromComponent!==c.toComponent&&a(!0)},onDragLeave:()=>{a(!1)},onDragEnd:c=>{var u;a(!1),(u=e.onDragEnd)===null||u===void 0||u.call(e,c)},onAdd:c=>{var u;a(!1),(u=e.onAdd)===null||u===void 0||u.call(e,c)},dropFeedbackMode:e.dropFeedbackMode,onOptionChanged:c=>{this._sortableFixed&&(c.name==="fromIndex"||c.name==="toIndex")&&this[s].option(c.name,c.value)}})),n.toggleClass("dx-scrollable-container",o),n.toggleClass(cu.sortableWithoutHandle,t&&!e.showDragIcons)),n}_renderCore(e){super._renderCore.apply(this,arguments),e&&e.changeType==="update"&&e.repaintChangesOnly&&De.isVirtualRowRendering(this)&&Go(()=>{this._updateSortable()})}_updateSortable(){let e=this._dataController.getRowIndexOffset(),t=e-this._previousOffset;[this._sortable,this._sortableFixed].forEach(n=>{let o=n?.option("toIndex");U(o)&&U(this._previousOffset)&&n?.option("toIndex",o-t),n?.option("offset",e),n?.update()}),this._previousOffset=e}_resizeCore(){super._resizeCore.apply(this,arguments),this._updateSortable()}_getDraggableGridOptions(e){let t=this.option(),n=this.getColumns(),o=I(this.getRowElement(e.rowIndex));return{dataSource:[{id:1,parentId:0}],showBorders:!0,showColumnHeaders:!1,scrolling:{useNative:!1,showScrollbar:"never"},pager:{visible:!1},loadingTimeout:null,columnFixing:t.columnFixing,columnAutoWidth:t.columnAutoWidth,showColumnLines:t.showColumnLines,columns:n.map(r=>({width:r.width||r.visibleWidth,fixed:r.fixed,fixedPosition:r.fixedPosition})),onRowPrepared:r=>{let s=r.component.getView("rowsView");I(r.rowElement).replaceWith(o.eq(s._isFixedTableRendering?1:0).clone())}}}_synchronizeScrollLeftPosition(e){let t=e?.getScrollable();t?.scrollTo({x:this._scrollLeft})}_getDraggableRowTemplate(){return e=>{let t=this.component.$element(),n=I("<div>");$m(n,Qe(t));let o=this._dataController.items(),r=o&&o[e.fromIndex],s=this._getDraggableGridOptions(r);return this._createComponent(n,this.component.NAME,s),n.find(".dx-gridbase-container").children(`:not(.${this.addWidgetPrefix(cu.rowsView)})`).hide(),n.addClass(this.addWidgetPrefix(cu.dragView)),n}}_getHandleTemplate(){return ste.createHandleTemplateFunc(e=>this.addWidgetPrefix(e))}},ate={defaultOptions:()=>({rowDragging:{showDragIcons:!0,dropFeedbackMode:"indicate",allowReordering:!1,allowDropInsideItem:!1}}),extenders:{views:{rowsView:Wke}}};qe.registerModule("rowDragging",ate);var lte=EY;var dte=lte;var uu=(()=>{class i extends qp{_watcherHelper;_idh;instance=null;get accessKey(){return this._getOption("accessKey")}set accessKey(t){this._setOption("accessKey",t)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(t){this._setOption("activeStateEnabled",t)}get allowColumnReordering(){return this._getOption("allowColumnReordering")}set allowColumnReordering(t){this._setOption("allowColumnReordering",t)}get allowColumnResizing(){return this._getOption("allowColumnResizing")}set allowColumnResizing(t){this._setOption("allowColumnResizing",t)}get autoNavigateToFocusedRow(){return this._getOption("autoNavigateToFocusedRow")}set autoNavigateToFocusedRow(t){this._setOption("autoNavigateToFocusedRow",t)}get cacheEnabled(){return this._getOption("cacheEnabled")}set cacheEnabled(t){this._setOption("cacheEnabled",t)}get cellHintEnabled(){return this._getOption("cellHintEnabled")}set cellHintEnabled(t){this._setOption("cellHintEnabled",t)}get columnAutoWidth(){return this._getOption("columnAutoWidth")}set columnAutoWidth(t){this._setOption("columnAutoWidth",t)}get columnChooser(){return this._getOption("columnChooser")}set columnChooser(t){this._setOption("columnChooser",t)}get columnFixing(){return this._getOption("columnFixing")}set columnFixing(t){this._setOption("columnFixing",t)}get columnHidingEnabled(){return this._getOption("columnHidingEnabled")}set columnHidingEnabled(t){this._setOption("columnHidingEnabled",t)}get columnMinWidth(){return this._getOption("columnMinWidth")}set columnMinWidth(t){this._setOption("columnMinWidth",t)}get columnResizingMode(){return this._getOption("columnResizingMode")}set columnResizingMode(t){this._setOption("columnResizingMode",t)}get columns(){return this._getOption("columns")}set columns(t){this._setOption("columns",t)}get columnWidth(){return this._getOption("columnWidth")}set columnWidth(t){this._setOption("columnWidth",t)}get customizeColumns(){return this._getOption("customizeColumns")}set customizeColumns(t){this._setOption("customizeColumns",t)}get dataRowTemplate(){return this._getOption("dataRowTemplate")}set dataRowTemplate(t){this._setOption("dataRowTemplate",t)}get dataSource(){return this._getOption("dataSource")}set dataSource(t){this._setOption("dataSource",t)}get dateSerializationFormat(){return this._getOption("dateSerializationFormat")}set dateSerializationFormat(t){this._setOption("dateSerializationFormat",t)}get disabled(){return this._getOption("disabled")}set disabled(t){this._setOption("disabled",t)}get editing(){return this._getOption("editing")}set editing(t){this._setOption("editing",t)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(t){this._setOption("elementAttr",t)}get errorRowEnabled(){return this._getOption("errorRowEnabled")}set errorRowEnabled(t){this._setOption("errorRowEnabled",t)}get export(){return this._getOption("export")}set export(t){this._setOption("export",t)}get filterBuilder(){return this._getOption("filterBuilder")}set filterBuilder(t){this._setOption("filterBuilder",t)}get filterBuilderPopup(){return this._getOption("filterBuilderPopup")}set filterBuilderPopup(t){this._setOption("filterBuilderPopup",t)}get filterPanel(){return this._getOption("filterPanel")}set filterPanel(t){this._setOption("filterPanel",t)}get filterRow(){return this._getOption("filterRow")}set filterRow(t){this._setOption("filterRow",t)}get filterSyncEnabled(){return this._getOption("filterSyncEnabled")}set filterSyncEnabled(t){this._setOption("filterSyncEnabled",t)}get filterValue(){return this._getOption("filterValue")}set filterValue(t){this._setOption("filterValue",t)}get focusedColumnIndex(){return this._getOption("focusedColumnIndex")}set focusedColumnIndex(t){this._setOption("focusedColumnIndex",t)}get focusedRowEnabled(){return this._getOption("focusedRowEnabled")}set focusedRowEnabled(t){this._setOption("focusedRowEnabled",t)}get focusedRowIndex(){return this._getOption("focusedRowIndex")}set focusedRowIndex(t){this._setOption("focusedRowIndex",t)}get focusedRowKey(){return this._getOption("focusedRowKey")}set focusedRowKey(t){this._setOption("focusedRowKey",t)}get grouping(){return this._getOption("grouping")}set grouping(t){this._setOption("grouping",t)}get groupPanel(){return this._getOption("groupPanel")}set groupPanel(t){this._setOption("groupPanel",t)}get headerFilter(){return this._getOption("headerFilter")}set headerFilter(t){this._setOption("headerFilter",t)}get height(){return this._getOption("height")}set height(t){this._setOption("height",t)}get highlightChanges(){return this._getOption("highlightChanges")}set highlightChanges(t){this._setOption("highlightChanges",t)}get hint(){return this._getOption("hint")}set hint(t){this._setOption("hint",t)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(t){this._setOption("hoverStateEnabled",t)}get keyboardNavigation(){return this._getOption("keyboardNavigation")}set keyboardNavigation(t){this._setOption("keyboardNavigation",t)}get keyExpr(){return this._getOption("keyExpr")}set keyExpr(t){this._setOption("keyExpr",t)}get loadPanel(){return this._getOption("loadPanel")}set loadPanel(t){this._setOption("loadPanel",t)}get masterDetail(){return this._getOption("masterDetail")}set masterDetail(t){this._setOption("masterDetail",t)}get noDataText(){return this._getOption("noDataText")}set noDataText(t){this._setOption("noDataText",t)}get pager(){return this._getOption("pager")}set pager(t){this._setOption("pager",t)}get paging(){return this._getOption("paging")}set paging(t){this._setOption("paging",t)}get remoteOperations(){return this._getOption("remoteOperations")}set remoteOperations(t){this._setOption("remoteOperations",t)}get renderAsync(){return this._getOption("renderAsync")}set renderAsync(t){this._setOption("renderAsync",t)}get repaintChangesOnly(){return this._getOption("repaintChangesOnly")}set repaintChangesOnly(t){this._setOption("repaintChangesOnly",t)}get rowAlternationEnabled(){return this._getOption("rowAlternationEnabled")}set rowAlternationEnabled(t){this._setOption("rowAlternationEnabled",t)}get rowDragging(){return this._getOption("rowDragging")}set rowDragging(t){this._setOption("rowDragging",t)}get rowTemplate(){return this._getOption("rowTemplate")}set rowTemplate(t){this._setOption("rowTemplate",t)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(t){this._setOption("rtlEnabled",t)}get scrolling(){return this._getOption("scrolling")}set scrolling(t){this._setOption("scrolling",t)}get searchPanel(){return this._getOption("searchPanel")}set searchPanel(t){this._setOption("searchPanel",t)}get selectedRowKeys(){return this._getOption("selectedRowKeys")}set selectedRowKeys(t){this._setOption("selectedRowKeys",t)}get selection(){return this._getOption("selection")}set selection(t){this._setOption("selection",t)}get selectionFilter(){return this._getOption("selectionFilter")}set selectionFilter(t){this._setOption("selectionFilter",t)}get showBorders(){return this._getOption("showBorders")}set showBorders(t){this._setOption("showBorders",t)}get showColumnHeaders(){return this._getOption("showColumnHeaders")}set showColumnHeaders(t){this._setOption("showColumnHeaders",t)}get showColumnLines(){return this._getOption("showColumnLines")}set showColumnLines(t){this._setOption("showColumnLines",t)}get showRowLines(){return this._getOption("showRowLines")}set showRowLines(t){this._setOption("showRowLines",t)}get sortByGroupSummaryInfo(){return this._getOption("sortByGroupSummaryInfo")}set sortByGroupSummaryInfo(t){this._setOption("sortByGroupSummaryInfo",t)}get sorting(){return this._getOption("sorting")}set sorting(t){this._setOption("sorting",t)}get stateStoring(){return this._getOption("stateStoring")}set stateStoring(t){this._setOption("stateStoring",t)}get summary(){return this._getOption("summary")}set summary(t){this._setOption("summary",t)}get syncLookupFilterValues(){return this._getOption("syncLookupFilterValues")}set syncLookupFilterValues(t){this._setOption("syncLookupFilterValues",t)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(t){this._setOption("tabIndex",t)}get toolbar(){return this._getOption("toolbar")}set toolbar(t){this._setOption("toolbar",t)}get twoWayBindingEnabled(){return this._getOption("twoWayBindingEnabled")}set twoWayBindingEnabled(t){this._setOption("twoWayBindingEnabled",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get width(){return this._getOption("width")}set width(t){this._setOption("width",t)}get wordWrapEnabled(){return this._getOption("wordWrapEnabled")}set wordWrapEnabled(t){this._setOption("wordWrapEnabled",t)}onAdaptiveDetailRowPreparing;onCellClick;onCellDblClick;onCellHoverChanged;onCellPrepared;onContentReady;onContextMenuPreparing;onDataErrorOccurred;onDisposing;onEditCanceled;onEditCanceling;onEditingStart;onEditorPrepared;onEditorPreparing;onExporting;onFocusedCellChanged;onFocusedCellChanging;onFocusedRowChanged;onFocusedRowChanging;onInitialized;onInitNewRow;onKeyDown;onOptionChanged;onRowClick;onRowCollapsed;onRowCollapsing;onRowDblClick;onRowExpanded;onRowExpanding;onRowInserted;onRowInserting;onRowPrepared;onRowRemoved;onRowRemoving;onRowUpdated;onRowUpdating;onRowValidating;onSaved;onSaving;onSelectionChanged;onToolbarPreparing;accessKeyChange;activeStateEnabledChange;allowColumnReorderingChange;allowColumnResizingChange;autoNavigateToFocusedRowChange;cacheEnabledChange;cellHintEnabledChange;columnAutoWidthChange;columnChooserChange;columnFixingChange;columnHidingEnabledChange;columnMinWidthChange;columnResizingModeChange;columnsChange;columnWidthChange;customizeColumnsChange;dataRowTemplateChange;dataSourceChange;dateSerializationFormatChange;disabledChange;editingChange;elementAttrChange;errorRowEnabledChange;exportChange;filterBuilderChange;filterBuilderPopupChange;filterPanelChange;filterRowChange;filterSyncEnabledChange;filterValueChange;focusedColumnIndexChange;focusedRowEnabledChange;focusedRowIndexChange;focusedRowKeyChange;groupingChange;groupPanelChange;headerFilterChange;heightChange;highlightChangesChange;hintChange;hoverStateEnabledChange;keyboardNavigationChange;keyExprChange;loadPanelChange;masterDetailChange;noDataTextChange;pagerChange;pagingChange;remoteOperationsChange;renderAsyncChange;repaintChangesOnlyChange;rowAlternationEnabledChange;rowDraggingChange;rowTemplateChange;rtlEnabledChange;scrollingChange;searchPanelChange;selectedRowKeysChange;selectionChange;selectionFilterChange;showBordersChange;showColumnHeadersChange;showColumnLinesChange;showRowLinesChange;sortByGroupSummaryInfoChange;sortingChange;stateStoringChange;summaryChange;syncLookupFilterValuesChange;tabIndexChange;toolbarChange;twoWayBindingEnabledChange;visibleChange;widthChange;wordWrapEnabledChange;get columnsChildren(){return this._getOption("columns")}set columnsChildren(t){this.setChildren("columns",t)}get sortByGroupSummaryInfoChildren(){return this._getOption("sortByGroupSummaryInfo")}set sortByGroupSummaryInfoChildren(t){this.setChildren("sortByGroupSummaryInfo",t)}constructor(t,n,o,r,s,a,l,d){super(t,n,o,r,l,d),this._watcherHelper=r,this._idh=s,this._createEventEmitters([{subscribe:"adaptiveDetailRowPreparing",emit:"onAdaptiveDetailRowPreparing"},{subscribe:"cellClick",emit:"onCellClick"},{subscribe:"cellDblClick",emit:"onCellDblClick"},{subscribe:"cellHoverChanged",emit:"onCellHoverChanged"},{subscribe:"cellPrepared",emit:"onCellPrepared"},{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"contextMenuPreparing",emit:"onContextMenuPreparing"},{subscribe:"dataErrorOccurred",emit:"onDataErrorOccurred"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"editCanceled",emit:"onEditCanceled"},{subscribe:"editCanceling",emit:"onEditCanceling"},{subscribe:"editingStart",emit:"onEditingStart"},{subscribe:"editorPrepared",emit:"onEditorPrepared"},{subscribe:"editorPreparing",emit:"onEditorPreparing"},{subscribe:"exporting",emit:"onExporting"},{subscribe:"focusedCellChanged",emit:"onFocusedCellChanged"},{subscribe:"focusedCellChanging",emit:"onFocusedCellChanging"},{subscribe:"focusedRowChanged",emit:"onFocusedRowChanged"},{subscribe:"focusedRowChanging",emit:"onFocusedRowChanging"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"initNewRow",emit:"onInitNewRow"},{subscribe:"keyDown",emit:"onKeyDown"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"rowClick",emit:"onRowClick"},{subscribe:"rowCollapsed",emit:"onRowCollapsed"},{subscribe:"rowCollapsing",emit:"onRowCollapsing"},{subscribe:"rowDblClick",emit:"onRowDblClick"},{subscribe:"rowExpanded",emit:"onRowExpanded"},{subscribe:"rowExpanding",emit:"onRowExpanding"},{subscribe:"rowInserted",emit:"onRowInserted"},{subscribe:"rowInserting",emit:"onRowInserting"},{subscribe:"rowPrepared",emit:"onRowPrepared"},{subscribe:"rowRemoved",emit:"onRowRemoved"},{subscribe:"rowRemoving",emit:"onRowRemoving"},{subscribe:"rowUpdated",emit:"onRowUpdated"},{subscribe:"rowUpdating",emit:"onRowUpdating"},{subscribe:"rowValidating",emit:"onRowValidating"},{subscribe:"saved",emit:"onSaved"},{subscribe:"saving",emit:"onSaving"},{subscribe:"selectionChanged",emit:"onSelectionChanged"},{subscribe:"toolbarPreparing",emit:"onToolbarPreparing"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"allowColumnReorderingChange"},{emit:"allowColumnResizingChange"},{emit:"autoNavigateToFocusedRowChange"},{emit:"cacheEnabledChange"},{emit:"cellHintEnabledChange"},{emit:"columnAutoWidthChange"},{emit:"columnChooserChange"},{emit:"columnFixingChange"},{emit:"columnHidingEnabledChange"},{emit:"columnMinWidthChange"},{emit:"columnResizingModeChange"},{emit:"columnsChange"},{emit:"columnWidthChange"},{emit:"customizeColumnsChange"},{emit:"dataRowTemplateChange"},{emit:"dataSourceChange"},{emit:"dateSerializationFormatChange"},{emit:"disabledChange"},{emit:"editingChange"},{emit:"elementAttrChange"},{emit:"errorRowEnabledChange"},{emit:"exportChange"},{emit:"filterBuilderChange"},{emit:"filterBuilderPopupChange"},{emit:"filterPanelChange"},{emit:"filterRowChange"},{emit:"filterSyncEnabledChange"},{emit:"filterValueChange"},{emit:"focusedColumnIndexChange"},{emit:"focusedRowEnabledChange"},{emit:"focusedRowIndexChange"},{emit:"focusedRowKeyChange"},{emit:"groupingChange"},{emit:"groupPanelChange"},{emit:"headerFilterChange"},{emit:"heightChange"},{emit:"highlightChangesChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"keyboardNavigationChange"},{emit:"keyExprChange"},{emit:"loadPanelChange"},{emit:"masterDetailChange"},{emit:"noDataTextChange"},{emit:"pagerChange"},{emit:"pagingChange"},{emit:"remoteOperationsChange"},{emit:"renderAsyncChange"},{emit:"repaintChangesOnlyChange"},{emit:"rowAlternationEnabledChange"},{emit:"rowDraggingChange"},{emit:"rowTemplateChange"},{emit:"rtlEnabledChange"},{emit:"scrollingChange"},{emit:"searchPanelChange"},{emit:"selectedRowKeysChange"},{emit:"selectionChange"},{emit:"selectionFilterChange"},{emit:"showBordersChange"},{emit:"showColumnHeadersChange"},{emit:"showColumnLinesChange"},{emit:"showRowLinesChange"},{emit:"sortByGroupSummaryInfoChange"},{emit:"sortingChange"},{emit:"stateStoringChange"},{emit:"summaryChange"},{emit:"syncLookupFilterValuesChange"},{emit:"tabIndexChange"},{emit:"toolbarChange"},{emit:"twoWayBindingEnabledChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"wordWrapEnabledChange"}]),this._idh.setHost(this),a.setHost(this)}_createInstance(t,n){return new dte(t,n)}ngOnDestroy(){this._destroyWidget()}ngOnChanges(t){super.ngOnChanges(t),this.setupChanges("columns",t),this.setupChanges("dataSource",t),this.setupChanges("keyExpr",t),this.setupChanges("selectedRowKeys",t),this.setupChanges("sortByGroupSummaryInfo",t)}setupChanges(t,n){t in this._optionsToUpdate||this._idh.setup(t,n)}ngDoCheck(){this._idh.doCheck("columns"),this._idh.doCheck("dataSource"),this._idh.doCheck("keyExpr"),this._idh.doCheck("selectedRowKeys"),this._idh.doCheck("sortByGroupSummaryInfo"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(t,n){let o=this._idh.setupSingle(t,n),r=this._idh.getChanges(t,n)!==null;(o||r)&&super._setOption(t,n)}static \u0275fac=function(n){return new(n||i)(oe(At),oe(_t),oe(po),oe(hs),oe(na),oe(lt),oe($s),oe(tr))};static \u0275cmp=$e({type:i,selectors:[["dx-data-grid"]],contentQueries:function(n,o,r){if(n&1&&(cn(r,md,4),cn(r,PW,4)),n&2){let s;Lt(s=Nt())&&(o.columnsChildren=s),Lt(s=Nt())&&(o.sortByGroupSummaryInfoChildren=s)}},inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",allowColumnReordering:"allowColumnReordering",allowColumnResizing:"allowColumnResizing",autoNavigateToFocusedRow:"autoNavigateToFocusedRow",cacheEnabled:"cacheEnabled",cellHintEnabled:"cellHintEnabled",columnAutoWidth:"columnAutoWidth",columnChooser:"columnChooser",columnFixing:"columnFixing",columnHidingEnabled:"columnHidingEnabled",columnMinWidth:"columnMinWidth",columnResizingMode:"columnResizingMode",columns:"columns",columnWidth:"columnWidth",customizeColumns:"customizeColumns",dataRowTemplate:"dataRowTemplate",dataSource:"dataSource",dateSerializationFormat:"dateSerializationFormat",disabled:"disabled",editing:"editing",elementAttr:"elementAttr",errorRowEnabled:"errorRowEnabled",export:"export",filterBuilder:"filterBuilder",filterBuilderPopup:"filterBuilderPopup",filterPanel:"filterPanel",filterRow:"filterRow",filterSyncEnabled:"filterSyncEnabled",filterValue:"filterValue",focusedColumnIndex:"focusedColumnIndex",focusedRowEnabled:"focusedRowEnabled",focusedRowIndex:"focusedRowIndex",focusedRowKey:"focusedRowKey",grouping:"grouping",groupPanel:"groupPanel",headerFilter:"headerFilter",height:"height",highlightChanges:"highlightChanges",hint:"hint",hoverStateEnabled:"hoverStateEnabled",keyboardNavigation:"keyboardNavigation",keyExpr:"keyExpr",loadPanel:"loadPanel",masterDetail:"masterDetail",noDataText:"noDataText",pager:"pager",paging:"paging",remoteOperations:"remoteOperations",renderAsync:"renderAsync",repaintChangesOnly:"repaintChangesOnly",rowAlternationEnabled:"rowAlternationEnabled",rowDragging:"rowDragging",rowTemplate:"rowTemplate",rtlEnabled:"rtlEnabled",scrolling:"scrolling",searchPanel:"searchPanel",selectedRowKeys:"selectedRowKeys",selection:"selection",selectionFilter:"selectionFilter",showBorders:"showBorders",showColumnHeaders:"showColumnHeaders",showColumnLines:"showColumnLines",showRowLines:"showRowLines",sortByGroupSummaryInfo:"sortByGroupSummaryInfo",sorting:"sorting",stateStoring:"stateStoring",summary:"summary",syncLookupFilterValues:"syncLookupFilterValues",tabIndex:"tabIndex",toolbar:"toolbar",twoWayBindingEnabled:"twoWayBindingEnabled",visible:"visible",width:"width",wordWrapEnabled:"wordWrapEnabled"},outputs:{onAdaptiveDetailRowPreparing:"onAdaptiveDetailRowPreparing",onCellClick:"onCellClick",onCellDblClick:"onCellDblClick",onCellHoverChanged:"onCellHoverChanged",onCellPrepared:"onCellPrepared",onContentReady:"onContentReady",onContextMenuPreparing:"onContextMenuPreparing",onDataErrorOccurred:"onDataErrorOccurred",onDisposing:"onDisposing",onEditCanceled:"onEditCanceled",onEditCanceling:"onEditCanceling",onEditingStart:"onEditingStart",onEditorPrepared:"onEditorPrepared",onEditorPreparing:"onEditorPreparing",onExporting:"onExporting",onFocusedCellChanged:"onFocusedCellChanged",onFocusedCellChanging:"onFocusedCellChanging",onFocusedRowChanged:"onFocusedRowChanged",onFocusedRowChanging:"onFocusedRowChanging",onInitialized:"onInitialized",onInitNewRow:"onInitNewRow",onKeyDown:"onKeyDown",onOptionChanged:"onOptionChanged",onRowClick:"onRowClick",onRowCollapsed:"onRowCollapsed",onRowCollapsing:"onRowCollapsing",onRowDblClick:"onRowDblClick",onRowExpanded:"onRowExpanded",onRowExpanding:"onRowExpanding",onRowInserted:"onRowInserted",onRowInserting:"onRowInserting",onRowPrepared:"onRowPrepared",onRowRemoved:"onRowRemoved",onRowRemoving:"onRowRemoving",onRowUpdated:"onRowUpdated",onRowUpdating:"onRowUpdating",onRowValidating:"onRowValidating",onSaved:"onSaved",onSaving:"onSaving",onSelectionChanged:"onSelectionChanged",onToolbarPreparing:"onToolbarPreparing",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",allowColumnReorderingChange:"allowColumnReorderingChange",allowColumnResizingChange:"allowColumnResizingChange",autoNavigateToFocusedRowChange:"autoNavigateToFocusedRowChange",cacheEnabledChange:"cacheEnabledChange",cellHintEnabledChange:"cellHintEnabledChange",columnAutoWidthChange:"columnAutoWidthChange",columnChooserChange:"columnChooserChange",columnFixingChange:"columnFixingChange",columnHidingEnabledChange:"columnHidingEnabledChange",columnMinWidthChange:"columnMinWidthChange",columnResizingModeChange:"columnResizingModeChange",columnsChange:"columnsChange",columnWidthChange:"columnWidthChange",customizeColumnsChange:"customizeColumnsChange",dataRowTemplateChange:"dataRowTemplateChange",dataSourceChange:"dataSourceChange",dateSerializationFormatChange:"dateSerializationFormatChange",disabledChange:"disabledChange",editingChange:"editingChange",elementAttrChange:"elementAttrChange",errorRowEnabledChange:"errorRowEnabledChange",exportChange:"exportChange",filterBuilderChange:"filterBuilderChange",filterBuilderPopupChange:"filterBuilderPopupChange",filterPanelChange:"filterPanelChange",filterRowChange:"filterRowChange",filterSyncEnabledChange:"filterSyncEnabledChange",filterValueChange:"filterValueChange",focusedColumnIndexChange:"focusedColumnIndexChange",focusedRowEnabledChange:"focusedRowEnabledChange",focusedRowIndexChange:"focusedRowIndexChange",focusedRowKeyChange:"focusedRowKeyChange",groupingChange:"groupingChange",groupPanelChange:"groupPanelChange",headerFilterChange:"headerFilterChange",heightChange:"heightChange",highlightChangesChange:"highlightChangesChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",keyboardNavigationChange:"keyboardNavigationChange",keyExprChange:"keyExprChange",loadPanelChange:"loadPanelChange",masterDetailChange:"masterDetailChange",noDataTextChange:"noDataTextChange",pagerChange:"pagerChange",pagingChange:"pagingChange",remoteOperationsChange:"remoteOperationsChange",renderAsyncChange:"renderAsyncChange",repaintChangesOnlyChange:"repaintChangesOnlyChange",rowAlternationEnabledChange:"rowAlternationEnabledChange",rowDraggingChange:"rowDraggingChange",rowTemplateChange:"rowTemplateChange",rtlEnabledChange:"rtlEnabledChange",scrollingChange:"scrollingChange",searchPanelChange:"searchPanelChange",selectedRowKeysChange:"selectedRowKeysChange",selectionChange:"selectionChange",selectionFilterChange:"selectionFilterChange",showBordersChange:"showBordersChange",showColumnHeadersChange:"showColumnHeadersChange",showColumnLinesChange:"showColumnLinesChange",showRowLinesChange:"showRowLinesChange",sortByGroupSummaryInfoChange:"sortByGroupSummaryInfoChange",sortingChange:"sortingChange",stateStoringChange:"stateStoringChange",summaryChange:"summaryChange",syncLookupFilterValuesChange:"syncLookupFilterValuesChange",tabIndexChange:"tabIndexChange",toolbarChange:"toolbarChange",twoWayBindingEnabledChange:"twoWayBindingEnabledChange",visibleChange:"visibleChange",widthChange:"widthChange",wordWrapEnabledChange:"wordWrapEnabledChange"},features:[Wt([po,hs,lt,na]),yt,on],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return i})(),oV=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({imports:[FF,Uc,Lc,Nc,Vc,$c,Wc,mP,gP,LF,wP,PF,Bc,tP,rP,XF,qF,nP,hg,zF,MF,YF,RF,pg,CP,TF,AF,cP,Pc,jc,zc,Kc,Gc,Hc,jF,WF,BF,VF,UF,QF,$F,GF,KF,aP,eP,JF,iP,oP,sP,lP,dP,uP,hP,NF,pP,fP,_P,bP,vP,xP,ZF,EP,yP,SP,fd,ps,FF,Uc,Lc,Nc,Vc,$c,Wc,mP,gP,LF,wP,PF,Bc,tP,rP,XF,qF,nP,hg,zF,MF,YF,RF,pg,CP,TF,AF,cP,Pc,jc,zc,Kc,Gc,Hc,jF,WF,BF,VF,UF,QF,$F,GF,KF,aP,eP,JF,iP,oP,sP,lP,dP,uP,hP,NF,pP,fP,_P,bP,vP,xP,ZF,EP,yP,SP,ps]})}return i})();var Uke={provide:ua,useExisting:er(()=>cte),multi:!0},cte=(()=>{class i extends qp{_watcherHelper;_idh;instance=null;get acceptCustomValue(){return this._getOption("acceptCustomValue")}set acceptCustomValue(t){this._setOption("acceptCustomValue",t)}get accessKey(){return this._getOption("accessKey")}set accessKey(t){this._setOption("accessKey",t)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(t){this._setOption("activeStateEnabled",t)}get adaptivityEnabled(){return this._getOption("adaptivityEnabled")}set adaptivityEnabled(t){this._setOption("adaptivityEnabled",t)}get applyButtonText(){return this._getOption("applyButtonText")}set applyButtonText(t){this._setOption("applyButtonText",t)}get applyValueMode(){return this._getOption("applyValueMode")}set applyValueMode(t){this._setOption("applyValueMode",t)}get buttons(){return this._getOption("buttons")}set buttons(t){this._setOption("buttons",t)}get calendarOptions(){return this._getOption("calendarOptions")}set calendarOptions(t){this._setOption("calendarOptions",t)}get cancelButtonText(){return this._getOption("cancelButtonText")}set cancelButtonText(t){this._setOption("cancelButtonText",t)}get dateOutOfRangeMessage(){return this._getOption("dateOutOfRangeMessage")}set dateOutOfRangeMessage(t){this._setOption("dateOutOfRangeMessage",t)}get dateSerializationFormat(){return this._getOption("dateSerializationFormat")}set dateSerializationFormat(t){this._setOption("dateSerializationFormat",t)}get deferRendering(){return this._getOption("deferRendering")}set deferRendering(t){this._setOption("deferRendering",t)}get disabled(){return this._getOption("disabled")}set disabled(t){this._setOption("disabled",t)}get disabledDates(){return this._getOption("disabledDates")}set disabledDates(t){this._setOption("disabledDates",t)}get displayFormat(){return this._getOption("displayFormat")}set displayFormat(t){this._setOption("displayFormat",t)}get dropDownButtonTemplate(){return this._getOption("dropDownButtonTemplate")}set dropDownButtonTemplate(t){this._setOption("dropDownButtonTemplate",t)}get dropDownOptions(){return this._getOption("dropDownOptions")}set dropDownOptions(t){this._setOption("dropDownOptions",t)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(t){this._setOption("elementAttr",t)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(t){this._setOption("focusStateEnabled",t)}get height(){return this._getOption("height")}set height(t){this._setOption("height",t)}get hint(){return this._getOption("hint")}set hint(t){this._setOption("hint",t)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(t){this._setOption("hoverStateEnabled",t)}get inputAttr(){return this._getOption("inputAttr")}set inputAttr(t){this._setOption("inputAttr",t)}get interval(){return this._getOption("interval")}set interval(t){this._setOption("interval",t)}get invalidDateMessage(){return this._getOption("invalidDateMessage")}set invalidDateMessage(t){this._setOption("invalidDateMessage",t)}get isDirty(){return this._getOption("isDirty")}set isDirty(t){this._setOption("isDirty",t)}get isValid(){return this._getOption("isValid")}set isValid(t){this._setOption("isValid",t)}get label(){return this._getOption("label")}set label(t){this._setOption("label",t)}get labelMode(){return this._getOption("labelMode")}set labelMode(t){this._setOption("labelMode",t)}get max(){return this._getOption("max")}set max(t){this._setOption("max",t)}get maxLength(){return this._getOption("maxLength")}set maxLength(t){this._setOption("maxLength",t)}get min(){return this._getOption("min")}set min(t){this._setOption("min",t)}get name(){return this._getOption("name")}set name(t){this._setOption("name",t)}get opened(){return this._getOption("opened")}set opened(t){this._setOption("opened",t)}get openOnFieldClick(){return this._getOption("openOnFieldClick")}set openOnFieldClick(t){this._setOption("openOnFieldClick",t)}get pickerType(){return this._getOption("pickerType")}set pickerType(t){this._setOption("pickerType",t)}get placeholder(){return this._getOption("placeholder")}set placeholder(t){this._setOption("placeholder",t)}get readOnly(){return this._getOption("readOnly")}set readOnly(t){this._setOption("readOnly",t)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(t){this._setOption("rtlEnabled",t)}get showAnalogClock(){return this._getOption("showAnalogClock")}set showAnalogClock(t){this._setOption("showAnalogClock",t)}get showClearButton(){return this._getOption("showClearButton")}set showClearButton(t){this._setOption("showClearButton",t)}get showDropDownButton(){return this._getOption("showDropDownButton")}set showDropDownButton(t){this._setOption("showDropDownButton",t)}get spellcheck(){return this._getOption("spellcheck")}set spellcheck(t){this._setOption("spellcheck",t)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(t){this._setOption("stylingMode",t)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(t){this._setOption("tabIndex",t)}get text(){return this._getOption("text")}set text(t){this._setOption("text",t)}get todayButtonText(){return this._getOption("todayButtonText")}set todayButtonText(t){this._setOption("todayButtonText",t)}get type(){return this._getOption("type")}set type(t){this._setOption("type",t)}get useMaskBehavior(){return this._getOption("useMaskBehavior")}set useMaskBehavior(t){this._setOption("useMaskBehavior",t)}get validationError(){return this._getOption("validationError")}set validationError(t){this._setOption("validationError",t)}get validationErrors(){return this._getOption("validationErrors")}set validationErrors(t){this._setOption("validationErrors",t)}get validationMessageMode(){return this._getOption("validationMessageMode")}set validationMessageMode(t){this._setOption("validationMessageMode",t)}get validationMessagePosition(){return this._getOption("validationMessagePosition")}set validationMessagePosition(t){this._setOption("validationMessagePosition",t)}get validationStatus(){return this._getOption("validationStatus")}set validationStatus(t){this._setOption("validationStatus",t)}get value(){return this._getOption("value")}set value(t){this._setOption("value",t)}get valueChangeEvent(){return this._getOption("valueChangeEvent")}set valueChangeEvent(t){this._setOption("valueChangeEvent",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get width(){return this._getOption("width")}set width(t){this._setOption("width",t)}onChange;onClosed;onContentReady;onCopy;onCut;onDisposing;onEnterKey;onFocusIn;onFocusOut;onInitialized;onInput;onKeyDown;onKeyUp;onOpened;onOptionChanged;onPaste;onValueChanged;acceptCustomValueChange;accessKeyChange;activeStateEnabledChange;adaptivityEnabledChange;applyButtonTextChange;applyValueModeChange;buttonsChange;calendarOptionsChange;cancelButtonTextChange;dateOutOfRangeMessageChange;dateSerializationFormatChange;deferRenderingChange;disabledChange;disabledDatesChange;displayFormatChange;dropDownButtonTemplateChange;dropDownOptionsChange;elementAttrChange;focusStateEnabledChange;heightChange;hintChange;hoverStateEnabledChange;inputAttrChange;intervalChange;invalidDateMessageChange;isDirtyChange;isValidChange;labelChange;labelModeChange;maxChange;maxLengthChange;minChange;nameChange;openedChange;openOnFieldClickChange;pickerTypeChange;placeholderChange;readOnlyChange;rtlEnabledChange;showAnalogClockChange;showClearButtonChange;showDropDownButtonChange;spellcheckChange;stylingModeChange;tabIndexChange;textChange;todayButtonTextChange;typeChange;useMaskBehaviorChange;validationErrorChange;validationErrorsChange;validationMessageModeChange;validationMessagePositionChange;validationStatusChange;valueChange;valueChangeEventChange;visibleChange;widthChange;onBlur;change(t){}touched=t=>{};get buttonsChildren(){return this._getOption("buttons")}set buttonsChildren(t){this.setChildren("buttons",t)}constructor(t,n,o,r,s,a,l,d){super(t,n,o,r,l,d),this._watcherHelper=r,this._idh=s,this._createEventEmitters([{subscribe:"change",emit:"onChange"},{subscribe:"closed",emit:"onClosed"},{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"copy",emit:"onCopy"},{subscribe:"cut",emit:"onCut"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"enterKey",emit:"onEnterKey"},{subscribe:"focusIn",emit:"onFocusIn"},{subscribe:"focusOut",emit:"onFocusOut"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"input",emit:"onInput"},{subscribe:"keyDown",emit:"onKeyDown"},{subscribe:"keyUp",emit:"onKeyUp"},{subscribe:"opened",emit:"onOpened"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"paste",emit:"onPaste"},{subscribe:"valueChanged",emit:"onValueChanged"},{emit:"acceptCustomValueChange"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"adaptivityEnabledChange"},{emit:"applyButtonTextChange"},{emit:"applyValueModeChange"},{emit:"buttonsChange"},{emit:"calendarOptionsChange"},{emit:"cancelButtonTextChange"},{emit:"dateOutOfRangeMessageChange"},{emit:"dateSerializationFormatChange"},{emit:"deferRenderingChange"},{emit:"disabledChange"},{emit:"disabledDatesChange"},{emit:"displayFormatChange"},{emit:"dropDownButtonTemplateChange"},{emit:"dropDownOptionsChange"},{emit:"elementAttrChange"},{emit:"focusStateEnabledChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"inputAttrChange"},{emit:"intervalChange"},{emit:"invalidDateMessageChange"},{emit:"isDirtyChange"},{emit:"isValidChange"},{emit:"labelChange"},{emit:"labelModeChange"},{emit:"maxChange"},{emit:"maxLengthChange"},{emit:"minChange"},{emit:"nameChange"},{emit:"openedChange"},{emit:"openOnFieldClickChange"},{emit:"pickerTypeChange"},{emit:"placeholderChange"},{emit:"readOnlyChange"},{emit:"rtlEnabledChange"},{emit:"showAnalogClockChange"},{emit:"showClearButtonChange"},{emit:"showDropDownButtonChange"},{emit:"spellcheckChange"},{emit:"stylingModeChange"},{emit:"tabIndexChange"},{emit:"textChange"},{emit:"todayButtonTextChange"},{emit:"typeChange"},{emit:"useMaskBehaviorChange"},{emit:"validationErrorChange"},{emit:"validationErrorsChange"},{emit:"validationMessageModeChange"},{emit:"validationMessagePositionChange"},{emit:"validationStatusChange"},{emit:"valueChange"},{emit:"valueChangeEventChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"onBlur"}]),this._idh.setHost(this),a.setHost(this)}_createInstance(t,n){return new EX(t,n)}writeValue(t){this.eventHelper.lockedValueChangeEvent=!0,this.value=t,this.eventHelper.lockedValueChangeEvent=!1}setDisabledState(t){this.disabled=t}registerOnChange(t){this.change=t}registerOnTouched(t){this.touched=t}_createWidget(t){super._createWidget(t),this.instance.on("focusOut",n=>{this.eventHelper.fireNgEvent("onBlur",[n])})}ngOnDestroy(){this._destroyWidget()}ngOnChanges(t){super.ngOnChanges(t),this.setupChanges("buttons",t),this.setupChanges("disabledDates",t),this.setupChanges("validationErrors",t)}setupChanges(t,n){t in this._optionsToUpdate||this._idh.setup(t,n)}ngDoCheck(){this._idh.doCheck("buttons"),this._idh.doCheck("disabledDates"),this._idh.doCheck("validationErrors"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(t,n){let o=this._idh.setupSingle(t,n),r=this._idh.getChanges(t,n)!==null;(o||r)&&super._setOption(t,n)}static \u0275fac=function(n){return new(n||i)(oe(At),oe(_t),oe(po),oe(hs),oe(na),oe(lt),oe($s),oe(tr))};static \u0275cmp=$e({type:i,selectors:[["dx-date-box"]],contentQueries:function(n,o,r){if(n&1&&cn(r,av,4),n&2){let s;Lt(s=Nt())&&(o.buttonsChildren=s)}},hostBindings:function(n,o){n&1&&Et("valueChange",function(s){return o.change(s)})("onBlur",function(s){return o.touched(s)})},inputs:{acceptCustomValue:"acceptCustomValue",accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",adaptivityEnabled:"adaptivityEnabled",applyButtonText:"applyButtonText",applyValueMode:"applyValueMode",buttons:"buttons",calendarOptions:"calendarOptions",cancelButtonText:"cancelButtonText",dateOutOfRangeMessage:"dateOutOfRangeMessage",dateSerializationFormat:"dateSerializationFormat",deferRendering:"deferRendering",disabled:"disabled",disabledDates:"disabledDates",displayFormat:"displayFormat",dropDownButtonTemplate:"dropDownButtonTemplate",dropDownOptions:"dropDownOptions",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",inputAttr:"inputAttr",interval:"interval",invalidDateMessage:"invalidDateMessage",isDirty:"isDirty",isValid:"isValid",label:"label",labelMode:"labelMode",max:"max",maxLength:"maxLength",min:"min",name:"name",opened:"opened",openOnFieldClick:"openOnFieldClick",pickerType:"pickerType",placeholder:"placeholder",readOnly:"readOnly",rtlEnabled:"rtlEnabled",showAnalogClock:"showAnalogClock",showClearButton:"showClearButton",showDropDownButton:"showDropDownButton",spellcheck:"spellcheck",stylingMode:"stylingMode",tabIndex:"tabIndex",text:"text",todayButtonText:"todayButtonText",type:"type",useMaskBehavior:"useMaskBehavior",validationError:"validationError",validationErrors:"validationErrors",validationMessageMode:"validationMessageMode",validationMessagePosition:"validationMessagePosition",validationStatus:"validationStatus",value:"value",valueChangeEvent:"valueChangeEvent",visible:"visible",width:"width"},outputs:{onChange:"onChange",onClosed:"onClosed",onContentReady:"onContentReady",onCopy:"onCopy",onCut:"onCut",onDisposing:"onDisposing",onEnterKey:"onEnterKey",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onInitialized:"onInitialized",onInput:"onInput",onKeyDown:"onKeyDown",onKeyUp:"onKeyUp",onOpened:"onOpened",onOptionChanged:"onOptionChanged",onPaste:"onPaste",onValueChanged:"onValueChanged",acceptCustomValueChange:"acceptCustomValueChange",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",adaptivityEnabledChange:"adaptivityEnabledChange",applyButtonTextChange:"applyButtonTextChange",applyValueModeChange:"applyValueModeChange",buttonsChange:"buttonsChange",calendarOptionsChange:"calendarOptionsChange",cancelButtonTextChange:"cancelButtonTextChange",dateOutOfRangeMessageChange:"dateOutOfRangeMessageChange",dateSerializationFormatChange:"dateSerializationFormatChange",deferRenderingChange:"deferRenderingChange",disabledChange:"disabledChange",disabledDatesChange:"disabledDatesChange",displayFormatChange:"displayFormatChange",dropDownButtonTemplateChange:"dropDownButtonTemplateChange",dropDownOptionsChange:"dropDownOptionsChange",elementAttrChange:"elementAttrChange",focusStateEnabledChange:"focusStateEnabledChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",inputAttrChange:"inputAttrChange",intervalChange:"intervalChange",invalidDateMessageChange:"invalidDateMessageChange",isDirtyChange:"isDirtyChange",isValidChange:"isValidChange",labelChange:"labelChange",labelModeChange:"labelModeChange",maxChange:"maxChange",maxLengthChange:"maxLengthChange",minChange:"minChange",nameChange:"nameChange",openedChange:"openedChange",openOnFieldClickChange:"openOnFieldClickChange",pickerTypeChange:"pickerTypeChange",placeholderChange:"placeholderChange",readOnlyChange:"readOnlyChange",rtlEnabledChange:"rtlEnabledChange",showAnalogClockChange:"showAnalogClockChange",showClearButtonChange:"showClearButtonChange",showDropDownButtonChange:"showDropDownButtonChange",spellcheckChange:"spellcheckChange",stylingModeChange:"stylingModeChange",tabIndexChange:"tabIndexChange",textChange:"textChange",todayButtonTextChange:"todayButtonTextChange",typeChange:"typeChange",useMaskBehaviorChange:"useMaskBehaviorChange",validationErrorChange:"validationErrorChange",validationErrorsChange:"validationErrorsChange",validationMessageModeChange:"validationMessageModeChange",validationMessagePositionChange:"validationMessagePositionChange",validationStatusChange:"validationStatusChange",valueChange:"valueChange",valueChangeEventChange:"valueChangeEventChange",visibleChange:"visibleChange",widthChange:"widthChange",onBlur:"onBlur"},features:[Wt([po,hs,Uke,lt,na]),yt,on],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return i})(),rV=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({imports:[Bc,mg,kF,HF,fg,Pc,jc,zc,Uc,Lc,Nc,Vc,$c,Wc,Kc,Gc,Hc,fd,ps,Bc,mg,kF,HF,fg,Pc,jc,zc,Uc,Lc,Nc,Vc,$c,Wc,Kc,Gc,Hc,ps]})}return i})();var Gke={provide:ua,useExisting:er(()=>Jh),multi:!0},Jh=(()=>{class i extends qp{_watcherHelper;_idh;instance=null;get acceptCustomValue(){return this._getOption("acceptCustomValue")}set acceptCustomValue(t){this._setOption("acceptCustomValue",t)}get accessKey(){return this._getOption("accessKey")}set accessKey(t){this._setOption("accessKey",t)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(t){this._setOption("activeStateEnabled",t)}get buttons(){return this._getOption("buttons")}set buttons(t){this._setOption("buttons",t)}get customItemCreateEvent(){return this._getOption("customItemCreateEvent")}set customItemCreateEvent(t){this._setOption("customItemCreateEvent",t)}get dataSource(){return this._getOption("dataSource")}set dataSource(t){this._setOption("dataSource",t)}get deferRendering(){return this._getOption("deferRendering")}set deferRendering(t){this._setOption("deferRendering",t)}get disabled(){return this._getOption("disabled")}set disabled(t){this._setOption("disabled",t)}get displayExpr(){return this._getOption("displayExpr")}set displayExpr(t){this._setOption("displayExpr",t)}get displayValue(){return this._getOption("displayValue")}set displayValue(t){this._setOption("displayValue",t)}get dropDownButtonTemplate(){return this._getOption("dropDownButtonTemplate")}set dropDownButtonTemplate(t){this._setOption("dropDownButtonTemplate",t)}get dropDownOptions(){return this._getOption("dropDownOptions")}set dropDownOptions(t){this._setOption("dropDownOptions",t)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(t){this._setOption("elementAttr",t)}get fieldTemplate(){return this._getOption("fieldTemplate")}set fieldTemplate(t){this._setOption("fieldTemplate",t)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(t){this._setOption("focusStateEnabled",t)}get grouped(){return this._getOption("grouped")}set grouped(t){this._setOption("grouped",t)}get groupTemplate(){return this._getOption("groupTemplate")}set groupTemplate(t){this._setOption("groupTemplate",t)}get height(){return this._getOption("height")}set height(t){this._setOption("height",t)}get hint(){return this._getOption("hint")}set hint(t){this._setOption("hint",t)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(t){this._setOption("hoverStateEnabled",t)}get inputAttr(){return this._getOption("inputAttr")}set inputAttr(t){this._setOption("inputAttr",t)}get isDirty(){return this._getOption("isDirty")}set isDirty(t){this._setOption("isDirty",t)}get isValid(){return this._getOption("isValid")}set isValid(t){this._setOption("isValid",t)}get items(){return this._getOption("items")}set items(t){this._setOption("items",t)}get itemTemplate(){return this._getOption("itemTemplate")}set itemTemplate(t){this._setOption("itemTemplate",t)}get label(){return this._getOption("label")}set label(t){this._setOption("label",t)}get labelMode(){return this._getOption("labelMode")}set labelMode(t){this._setOption("labelMode",t)}get maxLength(){return this._getOption("maxLength")}set maxLength(t){this._setOption("maxLength",t)}get minSearchLength(){return this._getOption("minSearchLength")}set minSearchLength(t){this._setOption("minSearchLength",t)}get name(){return this._getOption("name")}set name(t){this._setOption("name",t)}get noDataText(){return this._getOption("noDataText")}set noDataText(t){this._setOption("noDataText",t)}get opened(){return this._getOption("opened")}set opened(t){this._setOption("opened",t)}get openOnFieldClick(){return this._getOption("openOnFieldClick")}set openOnFieldClick(t){this._setOption("openOnFieldClick",t)}get placeholder(){return this._getOption("placeholder")}set placeholder(t){this._setOption("placeholder",t)}get readOnly(){return this._getOption("readOnly")}set readOnly(t){this._setOption("readOnly",t)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(t){this._setOption("rtlEnabled",t)}get searchEnabled(){return this._getOption("searchEnabled")}set searchEnabled(t){this._setOption("searchEnabled",t)}get searchExpr(){return this._getOption("searchExpr")}set searchExpr(t){this._setOption("searchExpr",t)}get searchMode(){return this._getOption("searchMode")}set searchMode(t){this._setOption("searchMode",t)}get searchTimeout(){return this._getOption("searchTimeout")}set searchTimeout(t){this._setOption("searchTimeout",t)}get selectedItem(){return this._getOption("selectedItem")}set selectedItem(t){this._setOption("selectedItem",t)}get showClearButton(){return this._getOption("showClearButton")}set showClearButton(t){this._setOption("showClearButton",t)}get showDataBeforeSearch(){return this._getOption("showDataBeforeSearch")}set showDataBeforeSearch(t){this._setOption("showDataBeforeSearch",t)}get showDropDownButton(){return this._getOption("showDropDownButton")}set showDropDownButton(t){this._setOption("showDropDownButton",t)}get showSelectionControls(){return this._getOption("showSelectionControls")}set showSelectionControls(t){this._setOption("showSelectionControls",t)}get spellcheck(){return this._getOption("spellcheck")}set spellcheck(t){this._setOption("spellcheck",t)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(t){this._setOption("stylingMode",t)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(t){this._setOption("tabIndex",t)}get text(){return this._getOption("text")}set text(t){this._setOption("text",t)}get useItemTextAsTitle(){return this._getOption("useItemTextAsTitle")}set useItemTextAsTitle(t){this._setOption("useItemTextAsTitle",t)}get validationError(){return this._getOption("validationError")}set validationError(t){this._setOption("validationError",t)}get validationErrors(){return this._getOption("validationErrors")}set validationErrors(t){this._setOption("validationErrors",t)}get validationMessageMode(){return this._getOption("validationMessageMode")}set validationMessageMode(t){this._setOption("validationMessageMode",t)}get validationMessagePosition(){return this._getOption("validationMessagePosition")}set validationMessagePosition(t){this._setOption("validationMessagePosition",t)}get validationStatus(){return this._getOption("validationStatus")}set validationStatus(t){this._setOption("validationStatus",t)}get value(){return this._getOption("value")}set value(t){this._setOption("value",t)}get valueChangeEvent(){return this._getOption("valueChangeEvent")}set valueChangeEvent(t){this._setOption("valueChangeEvent",t)}get valueExpr(){return this._getOption("valueExpr")}set valueExpr(t){this._setOption("valueExpr",t)}get visible(){return this._getOption("visible")}set visible(t){this._setOption("visible",t)}get width(){return this._getOption("width")}set width(t){this._setOption("width",t)}get wrapItemText(){return this._getOption("wrapItemText")}set wrapItemText(t){this._setOption("wrapItemText",t)}onChange;onClosed;onContentReady;onCopy;onCustomItemCreating;onCut;onDisposing;onEnterKey;onFocusIn;onFocusOut;onInitialized;onInput;onItemClick;onKeyDown;onKeyUp;onOpened;onOptionChanged;onPaste;onSelectionChanged;onValueChanged;acceptCustomValueChange;accessKeyChange;activeStateEnabledChange;buttonsChange;customItemCreateEventChange;dataSourceChange;deferRenderingChange;disabledChange;displayExprChange;displayValueChange;dropDownButtonTemplateChange;dropDownOptionsChange;elementAttrChange;fieldTemplateChange;focusStateEnabledChange;groupedChange;groupTemplateChange;heightChange;hintChange;hoverStateEnabledChange;inputAttrChange;isDirtyChange;isValidChange;itemsChange;itemTemplateChange;labelChange;labelModeChange;maxLengthChange;minSearchLengthChange;nameChange;noDataTextChange;openedChange;openOnFieldClickChange;placeholderChange;readOnlyChange;rtlEnabledChange;searchEnabledChange;searchExprChange;searchModeChange;searchTimeoutChange;selectedItemChange;showClearButtonChange;showDataBeforeSearchChange;showDropDownButtonChange;showSelectionControlsChange;spellcheckChange;stylingModeChange;tabIndexChange;textChange;useItemTextAsTitleChange;validationErrorChange;validationErrorsChange;validationMessageModeChange;validationMessagePositionChange;validationStatusChange;valueChange;valueChangeEventChange;valueExprChange;visibleChange;widthChange;wrapItemTextChange;onBlur;change(t){}touched=t=>{};get buttonsChildren(){return this._getOption("buttons")}set buttonsChildren(t){this.setChildren("buttons",t)}get itemsChildren(){return this._getOption("items")}set itemsChildren(t){this.setChildren("items",t)}constructor(t,n,o,r,s,a,l,d){super(t,n,o,r,l,d),this._watcherHelper=r,this._idh=s,this._createEventEmitters([{subscribe:"change",emit:"onChange"},{subscribe:"closed",emit:"onClosed"},{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"copy",emit:"onCopy"},{subscribe:"customItemCreating",emit:"onCustomItemCreating"},{subscribe:"cut",emit:"onCut"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"enterKey",emit:"onEnterKey"},{subscribe:"focusIn",emit:"onFocusIn"},{subscribe:"focusOut",emit:"onFocusOut"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"input",emit:"onInput"},{subscribe:"itemClick",emit:"onItemClick"},{subscribe:"keyDown",emit:"onKeyDown"},{subscribe:"keyUp",emit:"onKeyUp"},{subscribe:"opened",emit:"onOpened"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"paste",emit:"onPaste"},{subscribe:"selectionChanged",emit:"onSelectionChanged"},{subscribe:"valueChanged",emit:"onValueChanged"},{emit:"acceptCustomValueChange"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"buttonsChange"},{emit:"customItemCreateEventChange"},{emit:"dataSourceChange"},{emit:"deferRenderingChange"},{emit:"disabledChange"},{emit:"displayExprChange"},{emit:"displayValueChange"},{emit:"dropDownButtonTemplateChange"},{emit:"dropDownOptionsChange"},{emit:"elementAttrChange"},{emit:"fieldTemplateChange"},{emit:"focusStateEnabledChange"},{emit:"groupedChange"},{emit:"groupTemplateChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"inputAttrChange"},{emit:"isDirtyChange"},{emit:"isValidChange"},{emit:"itemsChange"},{emit:"itemTemplateChange"},{emit:"labelChange"},{emit:"labelModeChange"},{emit:"maxLengthChange"},{emit:"minSearchLengthChange"},{emit:"nameChange"},{emit:"noDataTextChange"},{emit:"openedChange"},{emit:"openOnFieldClickChange"},{emit:"placeholderChange"},{emit:"readOnlyChange"},{emit:"rtlEnabledChange"},{emit:"searchEnabledChange"},{emit:"searchExprChange"},{emit:"searchModeChange"},{emit:"searchTimeoutChange"},{emit:"selectedItemChange"},{emit:"showClearButtonChange"},{emit:"showDataBeforeSearchChange"},{emit:"showDropDownButtonChange"},{emit:"showSelectionControlsChange"},{emit:"spellcheckChange"},{emit:"stylingModeChange"},{emit:"tabIndexChange"},{emit:"textChange"},{emit:"useItemTextAsTitleChange"},{emit:"validationErrorChange"},{emit:"validationErrorsChange"},{emit:"validationMessageModeChange"},{emit:"validationMessagePositionChange"},{emit:"validationStatusChange"},{emit:"valueChange"},{emit:"valueChangeEventChange"},{emit:"valueExprChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"wrapItemTextChange"},{emit:"onBlur"}]),this._idh.setHost(this),a.setHost(this)}_createInstance(t,n){return new Yg(t,n)}writeValue(t){this.eventHelper.lockedValueChangeEvent=!0,this.value=t,this.eventHelper.lockedValueChangeEvent=!1}setDisabledState(t){this.disabled=t}registerOnChange(t){this.change=t}registerOnTouched(t){this.touched=t}_createWidget(t){super._createWidget(t),this.instance.on("focusOut",n=>{this.eventHelper.fireNgEvent("onBlur",[n])})}ngOnDestroy(){this._destroyWidget()}ngOnChanges(t){super.ngOnChanges(t),this.setupChanges("buttons",t),this.setupChanges("dataSource",t),this.setupChanges("items",t),this.setupChanges("searchExpr",t),this.setupChanges("validationErrors",t)}setupChanges(t,n){t in this._optionsToUpdate||this._idh.setup(t,n)}ngDoCheck(){this._idh.doCheck("buttons"),this._idh.doCheck("dataSource"),this._idh.doCheck("items"),this._idh.doCheck("searchExpr"),this._idh.doCheck("validationErrors"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(t,n){let o=this._idh.setupSingle(t,n),r=this._idh.getChanges(t,n)!==null;(o||r)&&super._setOption(t,n)}static \u0275fac=function(n){return new(n||i)(oe(At),oe(_t),oe(po),oe(hs),oe(na),oe(lt),oe($s),oe(tr))};static \u0275cmp=$e({type:i,selectors:[["dx-select-box"]],contentQueries:function(n,o,r){if(n&1&&(cn(r,av,4),cn(r,ZS,4)),n&2){let s;Lt(s=Nt())&&(o.buttonsChildren=s),Lt(s=Nt())&&(o.itemsChildren=s)}},hostBindings:function(n,o){n&1&&Et("valueChange",function(s){return o.change(s)})("onBlur",function(s){return o.touched(s)})},inputs:{acceptCustomValue:"acceptCustomValue",accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",buttons:"buttons",customItemCreateEvent:"customItemCreateEvent",dataSource:"dataSource",deferRendering:"deferRendering",disabled:"disabled",displayExpr:"displayExpr",displayValue:"displayValue",dropDownButtonTemplate:"dropDownButtonTemplate",dropDownOptions:"dropDownOptions",elementAttr:"elementAttr",fieldTemplate:"fieldTemplate",focusStateEnabled:"focusStateEnabled",grouped:"grouped",groupTemplate:"groupTemplate",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",inputAttr:"inputAttr",isDirty:"isDirty",isValid:"isValid",items:"items",itemTemplate:"itemTemplate",label:"label",labelMode:"labelMode",maxLength:"maxLength",minSearchLength:"minSearchLength",name:"name",noDataText:"noDataText",opened:"opened",openOnFieldClick:"openOnFieldClick",placeholder:"placeholder",readOnly:"readOnly",rtlEnabled:"rtlEnabled",searchEnabled:"searchEnabled",searchExpr:"searchExpr",searchMode:"searchMode",searchTimeout:"searchTimeout",selectedItem:"selectedItem",showClearButton:"showClearButton",showDataBeforeSearch:"showDataBeforeSearch",showDropDownButton:"showDropDownButton",showSelectionControls:"showSelectionControls",spellcheck:"spellcheck",stylingMode:"stylingMode",tabIndex:"tabIndex",text:"text",useItemTextAsTitle:"useItemTextAsTitle",validationError:"validationError",validationErrors:"validationErrors",validationMessageMode:"validationMessageMode",validationMessagePosition:"validationMessagePosition",validationStatus:"validationStatus",value:"value",valueChangeEvent:"valueChangeEvent",valueExpr:"valueExpr",visible:"visible",width:"width",wrapItemText:"wrapItemText"},outputs:{onChange:"onChange",onClosed:"onClosed",onContentReady:"onContentReady",onCopy:"onCopy",onCustomItemCreating:"onCustomItemCreating",onCut:"onCut",onDisposing:"onDisposing",onEnterKey:"onEnterKey",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onInitialized:"onInitialized",onInput:"onInput",onItemClick:"onItemClick",onKeyDown:"onKeyDown",onKeyUp:"onKeyUp",onOpened:"onOpened",onOptionChanged:"onOptionChanged",onPaste:"onPaste",onSelectionChanged:"onSelectionChanged",onValueChanged:"onValueChanged",acceptCustomValueChange:"acceptCustomValueChange",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",buttonsChange:"buttonsChange",customItemCreateEventChange:"customItemCreateEventChange",dataSourceChange:"dataSourceChange",deferRenderingChange:"deferRenderingChange",disabledChange:"disabledChange",displayExprChange:"displayExprChange",displayValueChange:"displayValueChange",dropDownButtonTemplateChange:"dropDownButtonTemplateChange",dropDownOptionsChange:"dropDownOptionsChange",elementAttrChange:"elementAttrChange",fieldTemplateChange:"fieldTemplateChange",focusStateEnabledChange:"focusStateEnabledChange",groupedChange:"groupedChange",groupTemplateChange:"groupTemplateChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",inputAttrChange:"inputAttrChange",isDirtyChange:"isDirtyChange",isValidChange:"isValidChange",itemsChange:"itemsChange",itemTemplateChange:"itemTemplateChange",labelChange:"labelChange",labelModeChange:"labelModeChange",maxLengthChange:"maxLengthChange",minSearchLengthChange:"minSearchLengthChange",nameChange:"nameChange",noDataTextChange:"noDataTextChange",openedChange:"openedChange",openOnFieldClickChange:"openOnFieldClickChange",placeholderChange:"placeholderChange",readOnlyChange:"readOnlyChange",rtlEnabledChange:"rtlEnabledChange",searchEnabledChange:"searchEnabledChange",searchExprChange:"searchExprChange",searchModeChange:"searchModeChange",searchTimeoutChange:"searchTimeoutChange",selectedItemChange:"selectedItemChange",showClearButtonChange:"showClearButtonChange",showDataBeforeSearchChange:"showDataBeforeSearchChange",showDropDownButtonChange:"showDropDownButtonChange",showSelectionControlsChange:"showSelectionControlsChange",spellcheckChange:"spellcheckChange",stylingModeChange:"stylingModeChange",tabIndexChange:"tabIndexChange",textChange:"textChange",useItemTextAsTitleChange:"useItemTextAsTitleChange",validationErrorChange:"validationErrorChange",validationErrorsChange:"validationErrorsChange",validationMessageModeChange:"validationMessageModeChange",validationMessagePositionChange:"validationMessagePositionChange",validationStatusChange:"validationStatusChange",valueChange:"valueChange",valueChangeEventChange:"valueChangeEventChange",valueExprChange:"valueExprChange",visibleChange:"visibleChange",widthChange:"widthChange",wrapItemTextChange:"wrapItemTextChange",onBlur:"onBlur"},features:[Wt([po,hs,Gke,lt,na]),yt,on],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return i})(),sV=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({imports:[Bc,mg,fg,Pc,jc,zc,Uc,Lc,Nc,Vc,$c,Wc,Kc,Gc,Hc,pg,fd,ps,Bc,mg,fg,Pc,jc,zc,Uc,Lc,Nc,Vc,$c,Wc,Kc,Gc,Hc,pg,ps]})}return i})();var aV=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Pe({type:i});static \u0275inj=Fe({imports:[DF,hg,fd,ps,DF,hg,ps]})}return i})();var Kke=()=>[uu,bh,Oh,Dh,Th,vh,md,wh,yh,Eh,xh,Ch,gg,Sh,Ih],qke=()=>({placeholder:"S\xFCt\xFCn Ara..."}),Bd=()=>({type:"required",message:"Bu alan zorunludur."}),Vd=i=>[i];function Yke(i,e){if(i&1){let t=gn();se(0,"div",5)(1,"dx-data-grid",6),Et("onRowInserting",function(o){Xt(t);let r=xt();return Zt(r.onInserting(o))})("onRowRemoving",function(o){Xt(t);let r=xt();return Zt(r.onRemove(o))})("onRowUpdating",function(o){Xt(t);let r=xt();return Zt(r.onUpdating(o))})("onExporting",function(o){Xt(t);let r=xt();return Zt(r.onExporting(o))}),je(2,"dxo-selection",7)(3,"dxo-scrolling",8)(4,"dxo-pager",9),se(5,"dxo-column-chooser",10,0),je(7,"dxo-position",11)(8,"dxo-search",12)(9,"dxo-selection",13),ne(),je(10,"dxo-column-fixing",14)(11,"dxo-export",15)(12,"dxo-filter-row",16)(13,"dxo-header-filter",16)(14,"dxo-paging",14),se(15,"dxo-editing",17),je(16,"dxo-popup",18),ne(),je(17,"dxi-column",19)(18,"dxi-column",20)(19,"dxi-column",21)(20,"dxi-column",22)(21,"dxi-column",23)(22,"dxi-column",24)(23,"dxi-column",25)(24,"dxi-column",26)(25,"dxi-column",27)(26,"dxi-column",28)(27,"dxi-column",29)(28,"dxi-column",30)(29,"dxi-column",31)(30,"dxi-column",32)(31,"dxi-column",33)(32,"dxi-column",34)(33,"dxi-column",35)(34,"dxi-column",36)(35,"dxi-column",37)(36,"dxi-column",38)(37,"dxi-column",39)(38,"dxi-column",40)(39,"dxi-column",41)(40,"dxi-column",42)(41,"dxi-column",43)(42,"dxi-column",44)(43,"dxi-column",45)(44,"dxi-column",46)(45,"dxi-column",47)(46,"dxi-column",48)(47,"dxi-column",49)(48,"dxi-column",50)(49,"dxi-column",51)(50,"dxi-column",52)(51,"dxi-column",53)(52,"dxi-column",54)(53,"dxi-column",55)(54,"dxi-column",56)(55,"dxi-column",57)(56,"dxi-column",58)(57,"dxi-column",59)(58,"dxi-column",60)(59,"dxi-column",61)(60,"dxi-column",62)(61,"dxi-column",63)(62,"dxi-column",64)(63,"dxi-column",65)(64,"dxi-column",66)(65,"dxi-column",67)(66,"dxi-column",68)(67,"dxi-column",69)(68,"dxi-column",70)(69,"dxi-column",71)(70,"dxi-column",72)(71,"dxi-column",73)(72,"dxi-column",74)(73,"dxi-column",75)(74,"dxi-column",76)(75,"dxi-column",77)(76,"dxi-column",78)(77,"dxi-column",79)(78,"dxi-column",80)(79,"dxi-column",81)(80,"dxi-column",82)(81,"dxi-column",83)(82,"dxi-column",84)(83,"dxi-column",85)(84,"dxi-column",86)(85,"dxi-column",87)(86,"dxi-column",88)(87,"dxi-column",89)(88,"dxi-column",90)(89,"dxi-column",91)(90,"dxi-column",92)(91,"dxi-column",93)(92,"dxi-column",94)(93,"dxi-column",95)(94,"dxi-column",96),ne()()}if(i&2){let t=xt();_e(),Ee("dataSource",t.dataSource)("showBorders",!0)("columnAutoWidth",!0)("columnResizingMode","nextColumn")("allowColumnResizing",!0)("allowColumnReordering",!0),_e(3),Ee("visible",!0)("showInfo",!0),_e(),Ee("enabled",!0),_e(3),Ee("enabled",!0)("editorOptions",zi(35,qke)),_e(),Ee("selectByClick",!0)("recursive",!0),_e(),Ee("enabled",!0),_e(),Ee("enabled",!0)("allowExportSelectedData",!0),_e(),Ee("visible",!0),_e(),Ee("visible",!0),_e(),Ee("enabled",!0),_e(),Ee("allowUpdating",!0)("allowAdding",!0)("allowDeleting",!0)("useIcons",!0),_e(),Ee("showTitle",!0),_e(),Ee("validationRules",en(37,Vd,zi(36,Bd))),_e(),Ee("validationRules",en(40,Vd,zi(39,Bd))),_e(),Ee("validationRules",en(43,Vd,zi(42,Bd))),_e(),Ee("allowEditing",!1),_e(),Ee("validationRules",en(46,Vd,zi(45,Bd))),_e(),Ee("validationRules",en(49,Vd,zi(48,Bd))),_e(),Ee("validationRules",en(52,Vd,zi(51,Bd))),_e(67),Ee("validationRules",en(55,Vd,zi(54,Bd))),_e(),Ee("validationRules",en(58,Vd,zi(57,Bd))),_e(),Ee("validationRules",en(61,Vd,zi(60,Bd))),_e(),Ee("validationRules",en(64,Vd,zi(63,Bd)))}}function Xke(i,e){}var pte=(()=>{let e=class e{constructor(n,o){this.backend=n,this.DcToastService=o,this.dataSource=null,this.months=["Ocak","\u015Eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011Fustos","Eyl\xFCl","Ekim","Kas\u0131m","Aral\u0131k"],this.years=Array.from({length:10},(s,a)=>new Date().getFullYear()-a);let r=new Date;this.selectedMonth=this.months[r.getMonth()],this.selectedMonthIndex=this.months.indexOf(this.selectedMonth)+1,this.selectedYear=r.getFullYear(),this.updateDate()}ngAfterViewInit(){document.getElementById("Layer_1")?.parentElement?.click()}getData(){this.backend.getDataSource("elevator-maintenance",this.selectedMonthIndex,this.selectedYear).subscribe({next:n=>{this.dataSource=n},error:()=>{this.DcToastService.create({allowTimeBar:!0,closeButtonPosition:"right",closeWithHover:!0,content:"Veri al\u0131rken bir hata olu\u015Ftu!",position:"bottom-center",time:5,showCloseButton:!0,type:"error"})}})}onInserting(n){this.backend.addDataBlob("elevator-maintenance",n.data).subscribe({next:()=>{this.DcToastService.create({allowTimeBar:!0,closeButtonPosition:"right",closeWithHover:!0,content:"Form ba\u015Far\u0131yla g\xF6nderildi!",position:"bottom-center",time:3,showCloseButton:!0,type:"success"}),this.getData()},error:()=>{this.getData()}})}onRemove(n){this.backend.removeData("elevator-maintenance",n.key).subscribe({next:()=>{this.DcToastService.create({allowTimeBar:!0,closeButtonPosition:"right",closeWithHover:!0,content:"Veri ba\u015Far\u0131yla silindi",position:"bottom-center",time:3,showCloseButton:!0,type:"success"}),this.getData()},error:()=>{this.getData()}})}onUpdating(n){this.backend.updateData("elevator-maintenance",n.key,n.newData).subscribe({next:()=>{this.DcToastService.create({allowTimeBar:!0,closeButtonPosition:"right",closeWithHover:!0,content:"Veri ba\u015Far\u0131yla g\xFCncellendi.",position:"bottom-center",time:3,showCloseButton:!0,type:"success"}),this.getData()},error:()=>{this.getData()}})}onMonthChange(n){this.selectedMonthIndex=this.months.indexOf(n)+1,this.selectedMonth=n,this.updateDate()}onYearChange(n){this.selectedYear=n,this.updateDate()}updateDate(){this.selectedMonth&&this.selectedYear&&this.getData()}onExporting(n){let o=new ute.Workbook,r=o.addWorksheet("Employees");Rc({component:n.component,worksheet:r,autoFilterEnabled:!0}).then(()=>{o.xlsx.writeBuffer().then(s=>{(0,hte.saveAs)(new Blob([s],{type:"application/octet-stream"}),`Asans\xF6r Bak\u0131mlar\u0131 - ${this.selectedMonth}.${this.selectedYear} .xlsx`)})})}};e.\u0275fac=function(o){return new(o||e)(oe(nr),oe(hl))},e.\u0275cmp=$e({type:e,selectors:[["app-admin-asansor-bakim"]],decls:8,vars:5,consts:[["columnChooser",""],[1,"page-wrapper"],[1,"custom-toolbar"],["placeholder","Ay Se\xE7in",3,"valueChange","dataSource","value"],["placeholder","Y\u0131l Se\xE7in",3,"valueChange","dataSource","value"],["id","data-grid-demo",2,"max-width","100%"],["id","gridContainer","keyExpr","_id","height","80vh","width","90vw",3,"onRowInserting","onRowRemoving","onRowUpdating","onExporting","dataSource","showBorders","columnAutoWidth","columnResizingMode","allowColumnResizing","allowColumnReordering"],["mode","single"],["rowRenderingMode","virtual"],["displayMode","full",3,"visible","showInfo"],["height","340px","mode","select",3,"enabled"],["my","right top","at","right bottom","of",".dx-datagrid-column-chooser-button"],[3,"enabled","editorOptions"],[3,"selectByClick","recursive"],[3,"enabled"],[3,"enabled","allowExportSelectedData"],[3,"visible"],["mode","popup",3,"allowUpdating","allowAdding","allowDeleting","useIcons"],["title","Asans\xF6r Bak\u0131m Formu",3,"showTitle"],["dataField","user.name","caption","Ad",3,"validationRules"],["dataField","user.surname","caption","Soyad",3,"validationRules"],["dataField","user.phone","caption","Telefon",3,"validationRules"],["dataField","createdAt","dataType","date","caption","Olu\u015Fturulma tarihi",3,"allowEditing"],["dataField","genelBilgiler.tarih","dataType","date","caption","Tarih",3,"validationRules"],["dataField","genelBilgiler.musteriAdi","caption","M\xFC\u015Fteri Ad\u0131",3,"validationRules"],["dataField","genelBilgiler.musteriAdresi","caption","M\xFC\u015Fteri Adresi",3,"validationRules"],["dataField","kabinBakimi.kapiMekanizmasi","caption","Kap\u0131 Mekanizmas\u0131","dataType","boolean"],["dataField","kabinBakimi.kapiPatenleri","caption","Kap\u0131 Patenleri","dataType","boolean"],["dataField","kabinBakimi.makaralar","caption","Makaralar","dataType","boolean"],["dataField","kabinBakimi.kabinButonyeri","caption","Kabin Butonyeri","dataType","boolean"],["dataField","kabinBakimi.dijitalGostergeler","caption","Dijital G\xF6stergeler","dataType","boolean"],["dataField","kabinBakimi.halatAskisi","caption","Hal\u0131 Ask\u0131s\u0131","dataType","boolean"],["dataField","kabinBakimi.patenler","caption","Patenler","dataType","boolean"],["dataField","kabinBakimi.yagdanliklar","caption","Ya\u011Fdanl\u0131klar","dataType","boolean"],["dataField","kabinBakimi.klemensKutulari","caption","Klemens Kutular\u0131","dataType","boolean"],["dataField","kabinBakimi.kontaklar","caption","Kontaklar","dataType","boolean"],["dataField","kabinBakimi.durusKalitesi","caption","Duru\u015F Kalitesi","dataType","boolean"],["dataField","kabinBakimi.halatGevsemeKontagi","caption","Hal\u0131 Gev\u015Feme Konta\u011F\u0131","dataType","boolean"],["dataField","kabinBakimi.revizyonButonu","caption","Revizyon Butonu","dataType","boolean"],["dataField","emniyetBakimlari.frenler","caption","Frenler","dataType","boolean"],["dataField","emniyetBakimlari.kapiCamlar","caption","Kap\u0131 Camlar\u0131","dataType","boolean"],["dataField","emniyetBakimlari.sogutmaFani","caption","So\u011Futma Fan\u0131","dataType","boolean"],["dataField","emniyetBakimlari.kapiKilitleri","caption","Kap\u0131 Kilitleri","dataType","boolean"],["dataField","emniyetBakimlari.kapiFisKontaklari","caption","Kap\u0131 Fi\u015F Kontaklar\u0131","dataType","boolean"],["dataField","emniyetBakimlari.sinyalLambalari","caption","Sinyal Lambalar\u0131","dataType","boolean"],["dataField","emniyetBakimlari.fotoseller","caption","Fotoseller","dataType","boolean"],["dataField","emniyetBakimlari.stopDugmesi","caption","Stop D\xFC\u011Fmesi","dataType","boolean"],["dataField","emniyetBakimlari.alarm","caption","Alarm","dataType","boolean"],["dataField","emniyetBakimlari.tesisatinGenelDurumu","caption","Tesisat\u0131n Genel Durumu","dataType","boolean"],["dataField","emniyetBakimlari.temizlik","caption","Temizlik","dataType","boolean"],["dataField","makinaDairesiKontrolleri.hidrolikKazan","caption","Hidrolik Kazan","dataType","boolean"],["dataField","makinaDairesiKontrolleri.takometre","caption","Takometre","dataType","boolean"],["dataField","makinaDairesiKontrolleri.tahrikKasnagi","caption","Tahrik Kasna\u011F\u0131","dataType","boolean"],["dataField","makinaDairesiKontrolleri.akuplamaDisliBoglugu","caption","Akuplama Di\u015Fli Bo\u011Flugu","dataType","boolean"],["dataField","makinaDairesiKontrolleri.yatakKontrolu","caption","Yatak Kontrol\xFC","dataType","boolean"],["dataField","makinaDairesiKontrolleri.yag","caption","Ya\u011F","dataType","boolean"],["dataField","makinaDairesiKontrolleri.kontaktorRolu","caption","Kontaktor R\xF6lesi","dataType","boolean"],["dataField","makinaDairesiKontrolleri.baglantiKlemensler","caption","Ba\u011Flant\u0131 Klemensleri","dataType","boolean"],["dataField","makinaDairesiKontrolleri.motorKabloFani","caption","Motor Kablo Fan\u0131","dataType","boolean"],["dataField","makinaDairesiKontrolleri.kumandaGerilimOlcumu","caption","Kumanda Gerilim \xD6l\xE7\xFCm\xFC","dataType","boolean"],["dataField","makinaDairesiKontrolleri.anaSalter","caption","Ana Salter","dataType","boolean"],["dataField","makinaDairesiKontrolleri.frenManyetik","caption","Fren Manyetik","dataType","boolean"],["dataField","makinaDairesiKontrolleri.saptrmaKasnagi","caption","Sapt\u0131rma Kasna\u011F\u0131","dataType","boolean"],["dataField","makinaDairesiKontrolleri.kumandaTablosu","caption","Kumanda Tablosu","dataType","boolean"],["dataField","makinaDairesiKontrolleri.makinaMotorTemizligi","caption","Makina Motor Temizli\u011Fi","dataType","boolean"],["dataField","makinaDairesiKontrolleri.makinaDairesiTemizligi","caption","Makina Dairesi Temizli\u011Fi","dataType","boolean"],["dataField","kuyuVeKabinBaglantilari.kapiKontaklari","caption","Kap\u0131 Kontaklar\u0131","dataType","boolean"],["dataField","kuyuVeKabinBaglantilari.kapiYayiVeZinciri","caption","Kap\u0131 Yay ve Zinciri","dataType","boolean"],["dataField","kuyuVeKabinBaglantilari.kapiAcmaManyetigi","caption","Kap\u0131 A\xE7ma Manyeti\u011Fi","dataType","boolean"],["dataField","kuyuVeKabinBaglantilari.kapiDiktatoru","caption","Kap\u0131 Diktat\xF6r\xFC","dataType","boolean"],["dataField","kuyuVeKabinBaglantilari.otomatikKapisiKayislari","caption","Otomatik Kap\u0131 Kay\u0131\u015Flar\u0131","dataType","boolean"],["dataField","kuyuVeKabinBaglantilari.makaralarMekanizmalar","caption","Makaralar ve Mekanizmalar","dataType","boolean"],["dataField","kuyuVeKabinBaglantilari.svicler","caption","Svi\xE7ler","dataType","boolean"],["dataField","kuyuVeKabinBaglantilari.kapiMotorFren","caption","Kap\u0131 Motor Fren","dataType","boolean"],["dataField","kuyuVeKabinBaglantilari.otomatikKapiPanelVeKablosu","caption","Otomatik Kap\u0131 Paneli ve Kablosu","dataType","boolean"],["dataField","kuyuVeKabinBaglantilari.butonyerler","caption","Butonyerler","dataType","boolean"],["dataField","kuyuVeKabinBaglantilari.kuyuBilgiSetleri","caption","Kuyu Bilgi Setleri","dataType","boolean"],["dataField","kuyuVeKabinBaglantilari.fleksibilKabloKontrolu","caption","Fleksibil Kablo Kontrol\xFC","dataType","boolean"],["dataField","kuyuVeKabinBaglantilari.saptirmaMakaralari","caption","Sapt\u0131rma Makaralar\u0131","dataType","boolean"],["dataField","kuyuVeKabinBaglantilari.katKapilari","caption","Kat Kap\u0131lar\u0131","dataType","boolean"],["dataField","kuyuVeKabinBaglantilari.kilitKollariAyarlar","caption","Kilit Kollar\u0131 ve Ayarlar\u0131","dataType","boolean"],["dataField","kuyuVeKabinBaglantilari.halatGevsemeKontagi","caption","Hal\u0131 Gev\u015Feme Konta\u011F\u0131","dataType","boolean"],["dataField","kuyuVeKabinBaglantilari.limitSalterleri","caption","Limit Salterleri","dataType","boolean"],["dataField","kuyuVeKabinBaglantilari.kabinVeAgirlikRayTijleri","caption","Kabin ve A\u011F\u0131rl\u0131k Ray Tijleri","dataType","boolean"],["dataField","kuyuVeKabinBaglantilari.regulatorKarsiAgirlikSvic","caption","Reg\xFClat\xF6r Kar\u015F\u0131 A\u011F\u0131rl\u0131k Svi\xE7i","dataType","boolean"],["dataField","kuyuVeKabinBaglantilari.takometre","caption","Takometre","dataType","boolean"],["dataField","kuyuVeKabinBaglantilari.dengeZinciri","caption","Denge Zinciri","dataType","boolean"],["dataField","kuyuVeKabinBaglantilari.tamponVeSvicler","caption","Tampon ve Svi\xE7ler","dataType","boolean"],["dataField","kuyuVeKabinBaglantilari.kabinHalatlari","caption","Kabin Halatlar\u0131","dataType","boolean"],["dataField","kuyuVeKabinBaglantilari.hidrolikPiston","caption","Hidrolik Piston","dataType","boolean"],["dataField","kuyuVeKabinBaglantilari.kutuVeKuyuDibiTemizligi","caption","Kutu ve Kuyu Dibi Temizli\u011Fi","dataType","boolean"],["dataField","yedekParcaAciklama","caption","Yedek Par\xE7a A\xE7\u0131klama"],["dataField","bakimEkibi","caption","Bak\u0131m Ekibi",3,"validationRules"],["dataField","yetkili","caption","Yetkili",3,"validationRules"],["dataField","baslangicSaati","caption","Ba\u015Flang\u0131\xE7 Saati","dataType","datetime","format","shortTime",3,"validationRules"],["dataField","bitisSaati","caption","Biti\u015F Saati","dataType","datetime","format","shortTime",3,"validationRules"],["dataField","istekVeDusunceler"]],template:function(o,r){o&1&&(se(0,"div",1)(1,"div",2)(2,"dx-select-box",3),Et("valueChange",function(a){return r.onMonthChange(a)}),ne(),se(3,"dx-select-box",4),Et("valueChange",function(a){return r.onYearChange(a)}),ne()(),ii(4,Yke,95,66)(5,Xke,0,0),yu(6,4,Kke,null,5),ne()),o&2&&(_e(2),Ee("dataSource",r.months)("value",r.selectedMonth),_e(),Ee("dataSource",r.years)("value",r.selectedYear),_e(3),xu(r.dataSource&&r.dataSource.length>0))},dependencies:[Jh],styles:[".custom-toolbar[_ngcontent-%COMP%]{display:flex}.page-wrapper[_ngcontent-%COMP%]{margin-top:2rem;position:absolute;left:50%;transform:translate(-50%)}"]});let i=e;return i})();var fte=is(pb());var mte=is(om());var Zke=()=>[uu,bh,Oh,Dh,Th,vh,md,wh,FW,sv,yh,Eh,xh,Ch,Sh,Ih],Qke=()=>({placeholder:"S\xFCt\xFCn Ara..."}),N1=()=>({type:"required",message:"Bu alan zorunludur."}),B1=i=>[i];function Jke(i,e){if(i&1){let t=gn();se(0,"div",1)(1,"dx-data-grid",2),Et("onRowInserting",function(o){Xt(t);let r=xt();return Zt(r.onInserting(o))})("onRowRemoving",function(o){Xt(t);let r=xt();return Zt(r.onRemove(o))})("onRowUpdating",function(o){Xt(t);let r=xt();return Zt(r.onUpdating(o))})("onExporting",function(o){Xt(t);let r=xt();return Zt(r.onExporting(o))}),je(2,"dxo-selection",3)(3,"dxo-scrolling",4),se(4,"dxo-column-chooser",5,0),je(6,"dxo-position",6)(7,"dxo-search",7)(8,"dxo-selection",8),ne(),je(9,"dxo-column-fixing",9)(10,"dxo-filter-row",10)(11,"dxo-header-filter",10)(12,"dxo-paging",9),se(13,"dxo-editing",11),je(14,"dxo-popup",12),ne(),je(15,"dxo-export",13)(16,"dxi-column",14)(17,"dxi-column",15)(18,"dxi-column",16),se(19,"dxi-column",17),je(20,"dxi-validation-rule",18)(21,"dxi-validation-rule",19),ne(),se(22,"dxi-column",20),je(23,"dxo-lookup",21),ne()()()}if(i&2){let t=xt();_e(),Ee("dataSource",t.dataSource)("showBorders",!0)("columnAutoWidth",!0)("columnResizingMode","nextColumn")("allowColumnResizing",!0)("allowColumnReordering",!0),_e(3),Ee("enabled",!0),_e(3),Ee("enabled",!0)("editorOptions",zi(28,Qke)),_e(),Ee("selectByClick",!0)("recursive",!0),_e(),Ee("enabled",!0),_e(),Ee("visible",!0),_e(),Ee("visible",!0),_e(),Ee("enabled",!0),_e(),Ee("allowUpdating",!0)("allowAdding",!0)("allowDeleting",!0)("useIcons",!0),_e(),Ee("showTitle",!0),_e(),Ee("enabled",!0)("allowExportSelectedData",!0),_e(),Ee("validationRules",en(30,B1,zi(29,N1))),_e(),Ee("validationRules",en(33,B1,zi(32,N1))),_e(),Ee("validationRules",en(36,B1,zi(35,N1))),_e(3),Ee("min",6),_e(),Ee("validationRules",en(39,B1,zi(38,N1))),_e(),Ee("dataSource",t.roleOptions)}}function eMe(i,e){}var gte=(()=>{let e=class e{constructor(n,o){this.backend=n,this.DcToastService=o,this.dataSource=null,this.roleOptions=[{name:"User",value:"user"},{name:"Admin",value:"admin"}],this.getData()}ngAfterViewInit(){document.getElementById("Layer_1")?.parentElement?.click()}getData(){this.backend.getDataSource("user").pipe(jo(()=>(this.dataSource=null,Cs(()=>new Error("Veri y\xFCkleme hatas\u0131"))))).subscribe(n=>{this.dataSource=n})}onInserting(n){this.backend.addDataJson("user",n.data).pipe(jo(()=>(this.getData(),Cs(()=>new Error("Veri ekleme hatas\u0131"))))).subscribe(()=>{this.DcToastService.create({allowTimeBar:!0,closeButtonPosition:"right",closeWithHover:!0,content:"Form ba\u015Far\u0131yla g\xF6nderildi!",position:"bottom-center",time:3,showCloseButton:!0,type:"success"}),this.getData()})}onRemove(n){this.backend.removeData("user",n.key).pipe(jo(()=>(this.getData(),Cs(()=>new Error("Veri silme hatas\u0131"))))).subscribe(()=>{this.DcToastService.create({allowTimeBar:!0,closeButtonPosition:"right",closeWithHover:!0,content:"Veri ba\u015Far\u0131yla silindi.",position:"bottom-center",time:3,showCloseButton:!0,type:"success"}),this.getData()})}onUpdating(n){this.backend.updateData("user",n.key,n.newData).pipe(jo(()=>(this.getData(),Cs(()=>new Error("Veri g\xFCncelleme hatas\u0131"))))).subscribe(()=>{this.DcToastService.create({allowTimeBar:!0,closeButtonPosition:"right",closeWithHover:!0,content:"Veri ba\u015Far\u0131yla g\xFCncellendi.",position:"bottom-center",time:3,showCloseButton:!0,type:"success"}),this.getData()})}onExporting(n){let o=new fte.Workbook,r=o.addWorksheet("Employees");Rc({component:n.component,worksheet:r,autoFilterEnabled:!0}).then(()=>{o.xlsx.writeBuffer().then(s=>{(0,mte.default)(new Blob([s],{type:"application/octet-stream"}),"Kullan\u0131c\u0131lar.xlsx")})})}};e.\u0275fac=function(o){return new(o||e)(oe(nr),oe(hl))},e.\u0275cmp=$e({type:e,selectors:[["app-user"]],decls:4,vars:1,consts:[["columnChooser",""],["id","data-grid-demo",1,"grid-wrapper",2,"max-width","100%"],["id","gridContainer","keyExpr","_id","height","80vh","width","90vw",3,"onRowInserting","onRowRemoving","onRowUpdating","onExporting","dataSource","showBorders","columnAutoWidth","columnResizingMode","allowColumnResizing","allowColumnReordering"],["mode","single"],["mode","infinite"],["height","340px","mode","select",3,"enabled"],["my","right top","at","right bottom","of",".dx-datagrid-column-chooser-button"],[3,"enabled","editorOptions"],[3,"selectByClick","recursive"],[3,"enabled"],[3,"visible"],["mode","popup",3,"allowUpdating","allowAdding","allowDeleting","useIcons"],["title","Kullan\u0131c\u0131",3,"showTitle"],[3,"enabled","allowExportSelectedData"],["dataField","name","caption","Ad",3,"validationRules"],["dataField","surname","caption","Soyad\u0131",3,"validationRules"],["dataField","phone","caption","Telefon",3,"validationRules"],["dataField","password","caption","\u015Eifre"],["type","required","message","Bu alan zorunludur."],["type","stringLength","message","\u015Eifre en az 6 karakter i\xE7ermelidir",3,"min"],["dataField","role","caption","Rol",3,"validationRules"],["displayExpr","name","valueExpr","value",3,"dataSource"]],template:function(o,r){o&1&&(ii(0,Jke,24,41)(1,eMe,0,0),yu(2,0,Zke,null,1)),o&2&&(_e(2),xu(r.dataSource&&r.dataSource.length>0))},styles:[".grid-wrapper[_ngcontent-%COMP%]{margin-top:2rem;position:absolute;left:50%;transform:translate(-50%)}"]});let i=e;return i})();function tMe(i,e){i&1&&(se(0,"mat-error"),me(1," Telefon numaras\u0131 zorunludur. "),ne())}function iMe(i,e){i&1&&(se(0,"mat-error"),me(1," Telefon numaras\u0131 format\u0131 ge\xE7ersiz. "),ne())}var _te=(()=>{let e=class e{constructor(n,o,r){this.fb=n,this.backend=o,this.router=r,this.isSubmitActive=!0,this.form=this.fb.group({phone:["",[Ri.required,Ri.pattern("[- +()0-9]{10,12}")]],password:["",[Ri.required,Ri.minLength(6)]]})}ngOnInit(){!!localStorage.getItem("userData")&&this.router.navigate(["/menu"])}submit(){this.isSubmitActive=!1,this.backend.addDataJson("user/login",this.form.value).subscribe({next:n=>{localStorage.setItem("userData",JSON.stringify(n)),this.router.navigate(["/menu"])},error:n=>{this.isSubmitActive=!0}})}};e.\u0275fac=function(o){return new(o||e)(oe(Yl),oe(nr),oe(Os))},e.\u0275cmp=$e({type:e,selectors:[["app-login"]],decls:22,vars:4,consts:[[1,"login-card"],[3,"ngSubmit","formGroup"],["appearance","fill"],["matPrefix",""],["type","tel","matInput","","formControlName","phone","placeholder","555-555-1234"],["matSuffix",""],[4,"ngIf"],["type","password","matInput","","formControlName","password","placeholder","\u015Eifre"],[1,"button-container"],["type","submit","mat-raised-button","","color","primary",1,"submit-button",3,"disabled"]],template:function(o,r){if(o&1&&(se(0,"mat-card",0)(1,"mat-card-title"),me(2,"Giri\u015F Yap"),ne(),se(3,"mat-card-content")(4,"form",1),Et("ngSubmit",function(){return r.submit()}),se(5,"mat-form-field",2)(6,"mat-label"),me(7,"Telefon No"),ne(),se(8,"span",3),me(9,"\xA0 +90 \xA0"),ne(),je(10,"input",4),se(11,"mat-icon",5),me(12,"mode_edit"),ne(),ii(13,tMe,2,0,"mat-error",6)(14,iMe,2,0,"mat-error",6),ne(),se(15,"mat-form-field",2)(16,"mat-label"),me(17,"\u015Eifre"),ne(),je(18,"input",7),ne(),se(19,"div",8)(20,"button",9),me(21," Login "),ne()()()()()),o&2){let s,a;_e(4),Ee("formGroup",r.form),_e(9),Ee("ngIf",(s=r.form.get("phone"))==null?null:s.hasError("required")),_e(),Ee("ngIf",(a=r.form.get("phone"))==null?null:a.hasError("pattern")),_e(6),Ee("disabled",!r.form.valid||!r.isSubmitActive)}},dependencies:[wu,nd,id,ya,bw,O8,td,Dr,ql,ha,Gl,Kl,Ds,el,Dm,xw,lz,Cw],styles:['@charset "UTF-8";mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:16px;padding-left:8px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:16px}.error[_ngcontent-%COMP%]{color:red;margin-bottom:16px}.login-card[_ngcontent-%COMP%]{max-width:600px;margin:auto;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.login-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{padding:16px}.login-card[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{margin:auto}']});let i=e;return i})();var Hd=(()=>{let e=class e{constructor(n){this.router=n}canActivate(n,o){let r=localStorage.getItem("userData"),s=!!r,a=r?JSON.parse(r):null;return o.url.startsWith("/admin")&&(!s||a.role!=="admin")?(this.router.navigate(["/menu"]),!1):s?!0:(this.router.navigate(["/login"]),!1)}};e.\u0275fac=function(o){return new(o||e)(ke(Os))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var bte=is(pb()),vte=is(om());var nMe=()=>[uu,bh,Oh,Dh,Th,vh,md,wh,yh,Eh,xh,Ch,gg,Sh,Ih],oMe=()=>({placeholder:"S\xFCt\xFCn Ara..."}),Rl=()=>({type:"required",message:"Bu alan zorunludur."}),Fl=i=>[i];function rMe(i,e){if(i&1){let t=gn();se(0,"div",5)(1,"dx-data-grid",6),Et("onRowInserting",function(o){Xt(t);let r=xt();return Zt(r.onInserting(o))})("onRowRemoving",function(o){Xt(t);let r=xt();return Zt(r.onRemove(o))})("onRowUpdating",function(o){Xt(t);let r=xt();return Zt(r.onUpdating(o))})("onExporting",function(o){Xt(t);let r=xt();return Zt(r.onExporting(o))}),je(2,"dxo-selection",7)(3,"dxo-scrolling",8)(4,"dxo-pager",9),se(5,"dxo-column-chooser",10,0),je(7,"dxo-position",11)(8,"dxo-search",12)(9,"dxo-selection",13),ne(),je(10,"dxo-column-fixing",14)(11,"dxo-export",15)(12,"dxo-filter-row",16)(13,"dxo-header-filter",16)(14,"dxo-paging",14),se(15,"dxo-editing",17),je(16,"dxo-popup",18),ne(),je(17,"dxi-column",19)(18,"dxi-column",20)(19,"dxi-column",21)(20,"dxi-column",22)(21,"dxi-column",23)(22,"dxi-column",24)(23,"dxi-column",25)(24,"dxi-column",26)(25,"dxi-column",27)(26,"dxi-column",28)(27,"dxi-column",29)(28,"dxi-column",30)(29,"dxi-column",31)(30,"dxi-column",32)(31,"dxi-column",33)(32,"dxi-column",34)(33,"dxi-column",35)(34,"dxi-column",36)(35,"dxi-column",37)(36,"dxi-column",38)(37,"dxi-column",39)(38,"dxi-column",40)(39,"dxi-column",41)(40,"dxi-column",42)(41,"dxi-column",43)(42,"dxi-column",44),ne()()}if(i&2){let t=xt();_e(),Ee("dataSource",t.dataSource)("showBorders",!0)("columnAutoWidth",!0)("columnResizingMode","nextColumn")("allowColumnResizing",!0)("allowColumnReordering",!0),_e(3),Ee("visible",!0)("showInfo",!0),_e(),Ee("enabled",!0),_e(3),Ee("enabled",!0)("editorOptions",zi(36,oMe)),_e(),Ee("selectByClick",!0)("recursive",!0),_e(),Ee("enabled",!0),_e(),Ee("enabled",!0)("allowExportSelectedData",!0),_e(),Ee("visible",!0),_e(),Ee("visible",!0),_e(),Ee("enabled",!0),_e(),Ee("allowUpdating",!0)("allowAdding",!0)("allowDeleting",!0)("useIcons",!0),_e(),Ee("showTitle",!0),_e(),Ee("validationRules",en(38,Fl,zi(37,Rl))),_e(),Ee("validationRules",en(41,Fl,zi(40,Rl))),_e(),Ee("validationRules",en(44,Fl,zi(43,Rl))),_e(),Ee("allowEditing",!1),_e(),Ee("validationRules",en(47,Fl,zi(46,Rl))),_e(),Ee("validationRules",en(50,Fl,zi(49,Rl))),_e(),Ee("validationRules",en(53,Fl,zi(52,Rl))),_e(),Ee("validationRules",en(56,Fl,zi(55,Rl))),_e(15),Ee("validationRules",en(59,Fl,zi(58,Rl))),_e(),Ee("validationRules",en(62,Fl,zi(61,Rl))),_e(),Ee("validationRules",en(65,Fl,zi(64,Rl))),_e(),Ee("validationRules",en(68,Fl,zi(67,Rl)))}}function sMe(i,e){}var yte=(()=>{let e=class e{constructor(n,o){this.backend=n,this.DcToastService=o,this.dataSource=null,this.months=["Ocak","\u015Eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011Fustos","Eyl\xFCl","Ekim","Kas\u0131m","Aral\u0131k"],this.years=Array.from({length:10},(s,a)=>new Date().getFullYear()-a);let r=new Date;this.selectedMonth=this.months[r.getMonth()],this.selectedMonthIndex=this.months.indexOf(this.selectedMonth)+1,this.selectedYear=r.getFullYear(),this.updateDate()}ngAfterViewInit(){document.getElementById("Layer_1")?.parentElement?.click()}getData(){this.backend.getDataSource("general-failure",this.selectedMonthIndex,this.selectedYear).subscribe({next:n=>{this.dataSource=n},error:()=>{this.DcToastService.create({allowTimeBar:!0,closeButtonPosition:"right",closeWithHover:!0,content:"Veri al\u0131rken bir hata olu\u015Ftu!",position:"bottom-center",time:5,showCloseButton:!0,type:"error"})}})}onInserting(n){this.backend.addDataBlob("general-failure",n.data).subscribe({next:()=>{this.DcToastService.create({allowTimeBar:!0,closeButtonPosition:"right",closeWithHover:!0,content:"Form ba\u015Far\u0131yla g\xF6nderildi!",position:"bottom-center",time:3,showCloseButton:!0,type:"success"}),this.getData()},error:()=>{this.getData()}})}onRemove(n){this.backend.removeData("general-failure",n.key).subscribe({next:()=>{this.DcToastService.create({allowTimeBar:!0,closeButtonPosition:"right",closeWithHover:!0,content:"Veri ba\u015Far\u0131yla silindi",position:"bottom-center",time:3,showCloseButton:!0,type:"success"}),this.getData()},error:()=>{this.getData()}})}onUpdating(n){this.backend.updateData("general-failure",n.key,n.newData).subscribe({next:()=>{this.DcToastService.create({allowTimeBar:!0,closeButtonPosition:"right",closeWithHover:!0,content:"Veri ba\u015Far\u0131yla g\xFCncellendi.",position:"bottom-center",time:3,showCloseButton:!0,type:"success"}),this.getData()},error:()=>{this.getData()}})}onMonthChange(n){this.selectedMonthIndex=this.months.indexOf(n)+1,this.selectedMonth=n,this.updateDate()}onYearChange(n){this.selectedYear=n,this.updateDate()}updateDate(){this.selectedMonth&&this.selectedYear&&this.getData()}onExporting(n){let o=new bte.Workbook,r=o.addWorksheet("Genel Ar\u0131za Formlar\u0131");Rc({component:n.component,worksheet:r,autoFilterEnabled:!0}).then(()=>{o.xlsx.writeBuffer().then(s=>{(0,vte.saveAs)(new Blob([s],{type:"application/octet-stream"}),`Asans\xF6r Bak\u0131mlar\u0131 - ${this.selectedMonth}.${this.selectedYear} .xlsx`)})})}};e.\u0275fac=function(o){return new(o||e)(oe(nr),oe(hl))},e.\u0275cmp=$e({type:e,selectors:[["app-admin-genel-ariza"]],decls:8,vars:5,consts:[["columnChooser",""],[1,"page-wrapper"],[1,"custom-toolbar"],["placeholder","Ay Se\xE7in",3,"valueChange","dataSource","value"],["placeholder","Y\u0131l Se\xE7in",3,"valueChange","dataSource","value"],["id","data-grid-demo",2,"max-width","100%"],["id","gridContainer","keyExpr","_id","height","80vh","width","90vw",3,"onRowInserting","onRowRemoving","onRowUpdating","onExporting","dataSource","showBorders","columnAutoWidth","columnResizingMode","allowColumnResizing","allowColumnReordering"],["mode","single"],["rowRenderingMode","virtual"],["displayMode","full",3,"visible","showInfo"],["height","340px","mode","select",3,"enabled"],["my","right top","at","right bottom","of",".dx-datagrid-column-chooser-button"],[3,"enabled","editorOptions"],[3,"selectByClick","recursive"],[3,"enabled"],[3,"enabled","allowExportSelectedData"],[3,"visible"],["mode","popup",3,"allowUpdating","allowAdding","allowDeleting","useIcons"],["title","Genel Ar\u0131za Formu",3,"showTitle"],["dataField","user.name","caption","Ad",3,"validationRules"],["dataField","user.surname","caption","Soyad",3,"validationRules"],["dataField","user.phone","caption","Telefon",3,"validationRules"],["dataField","createdAt","dataType","date","caption","Olu\u015Fturulma tarihi",3,"allowEditing"],["dataField","genelBilgiler.tarih","caption","Tarih","dataType","date",3,"validationRules"],["dataField","genelBilgiler.musterininAdiUnvani","caption","M\xFC\u015Fterinin Ad\u0131/\xDCnvan\u0131",3,"validationRules"],["dataField","genelBilgiler.musteriAdresi","caption","M\xFC\u015Fteri Adresi",3,"validationRules"],["dataField","genelBilgiler.seriNo","caption","Seri No",3,"validationRules"],["dataField","mudaheleNedeni.ariza","caption","Ar\u0131za","dataType","boolean"],["dataField","mudaheleNedeni.tamirat","caption","Tamirat","dataType","boolean"],["dataField","mudaheleNedeni.revizyon","caption","Revizyon","dataType","boolean"],["dataField","uniteTuru.yuruyenMerdiven","caption","Y\xFCr\xFCyen Merdiven","dataType","boolean"],["dataField","uniteTuru.engelliPlatform","caption","Engelli Platform","dataType","boolean"],["dataField","uniteTuru.servisPlatform","caption","Servis Platform","dataType","boolean"],["dataField","binayaGelindigindeUnite.calisiyordu","caption","\xC7al\u0131\u015F\u0131yordu (Binaya Gelindi\u011Finde)","dataType","boolean"],["dataField","binayaGelindigindeUnite.calismiyordu","caption","\xC7al\u0131\u015Fm\u0131yordu (Binaya Gelindi\u011Finde)","dataType","boolean"],["dataField","binayaGelindigindeUnite.ulasalamadi","caption","Ula\u015F\u0131lamad\u0131 (Binaya Gelindi\u011Finde)","dataType","boolean"],["dataField","genelAciklamalar.yapilanIsVeAciklamalar","caption","Yap\u0131lan \u0130\u015F ve A\xE7\u0131klamalar"],["dataField","genelAciklamalar.kullanilanDegisenYedekParcalar","caption","Kullan\u0131lan De\u011Fi\u015Fen Yedek Par\xE7alar"],["dataField","genelAciklamalar.yapilmasiGerekenIsVeAciklamalar","caption","Yap\u0131lmas\u0131 Gereken \u0130\u015F ve A\xE7\u0131klamalar"],["dataField","binadanAyrilirkenUnite.calisiyordu","caption","\xC7al\u0131\u015F\u0131yordu (Binadan Ayr\u0131l\u0131rken)","dataType","boolean"],["dataField","binadanAyrilirkenUnite.calismiyordu","caption","\xC7al\u0131\u015Fm\u0131yordu (Binadan Ayr\u0131l\u0131rken)","dataType","boolean"],["dataField","binayaGirisSaati","caption","Binaya Giri\u015F Saati","dataType","datetime","format","shortTime",3,"validationRules"],["dataField","binadanCikisSaati","caption","Binadan \xC7\u0131k\u0131\u015F Saati","dataType","datetime","format","shortTime",3,"validationRules"],["dataField","binaYetkilisiAdSoyad","caption","Bina Yetkilisi Ad Soyad",3,"validationRules"],["dataField","teknisyenAdSoyad","caption","Teknisyen Ad Soyad",3,"validationRules"]],template:function(o,r){o&1&&(se(0,"div",1)(1,"div",2)(2,"dx-select-box",3),Et("valueChange",function(a){return r.onMonthChange(a)}),ne(),se(3,"dx-select-box",4),Et("valueChange",function(a){return r.onYearChange(a)}),ne()(),ii(4,rMe,43,70)(5,sMe,0,0),yu(6,4,nMe,null,5),ne()),o&2&&(_e(2),Ee("dataSource",r.months)("value",r.selectedMonth),_e(),Ee("dataSource",r.years)("value",r.selectedYear),_e(3),xu(r.dataSource&&r.dataSource.length>0))},dependencies:[Jh],styles:[".custom-toolbar[_ngcontent-%COMP%]{display:flex}.page-wrapper[_ngcontent-%COMP%]{margin-top:2rem;position:absolute;left:50%;transform:translate(-50%)}"]});let i=e;return i})();var xte=is(pb()),Cte=is(om());var aMe=()=>[uu,bh,Oh,Dh,Th,vh,md,wh,yh,Eh,xh,Ch,gg,Sh,Ih],lMe=()=>({placeholder:"S\xFCt\xFCn Ara..."}),zd=()=>({type:"required",message:"Bu alan zorunludur."}),jd=i=>[i];function dMe(i,e){if(i&1){let t=gn();se(0,"div",5)(1,"dx-data-grid",6),Et("onRowInserting",function(o){Xt(t);let r=xt();return Zt(r.onInserting(o))})("onRowRemoving",function(o){Xt(t);let r=xt();return Zt(r.onRemove(o))})("onRowUpdating",function(o){Xt(t);let r=xt();return Zt(r.onUpdating(o))})("onExporting",function(o){Xt(t);let r=xt();return Zt(r.onExporting(o))}),je(2,"dxo-selection",7)(3,"dxo-scrolling",8)(4,"dxo-pager",9),se(5,"dxo-column-chooser",10,0),je(7,"dxo-position",11)(8,"dxo-search",12)(9,"dxo-selection",13),ne(),je(10,"dxo-column-fixing",14)(11,"dxo-export",15)(12,"dxo-filter-row",16)(13,"dxo-header-filter",16)(14,"dxo-paging",14),se(15,"dxo-editing",17),je(16,"dxo-popup",18),ne(),je(17,"dxi-column",19)(18,"dxi-column",20)(19,"dxi-column",21)(20,"dxi-column",22)(21,"dxi-column",23)(22,"dxi-column",24)(23,"dxi-column",25)(24,"dxi-column",26)(25,"dxi-column",27)(26,"dxi-column",28)(27,"dxi-column",29)(28,"dxi-column",30)(29,"dxi-column",31)(30,"dxi-column",32)(31,"dxi-column",33)(32,"dxi-column",34)(33,"dxi-column",35)(34,"dxi-column",36)(35,"dxi-column",37)(36,"dxi-column",38)(37,"dxi-column",39)(38,"dxi-column",40)(39,"dxi-column",41)(40,"dxi-column",42)(41,"dxi-column",43)(42,"dxi-column",44)(43,"dxi-column",45)(44,"dxi-column",46)(45,"dxi-column",47)(46,"dxi-column",48)(47,"dxi-column",49)(48,"dxi-column",50)(49,"dxi-column",51)(50,"dxi-column",52)(51,"dxi-column",53)(52,"dxi-column",54)(53,"dxi-column",55)(54,"dxi-column",56)(55,"dxi-column",57)(56,"dxi-column",58)(57,"dxi-column",59)(58,"dxi-column",60)(59,"dxi-column",61)(60,"dxi-column",62)(61,"dxi-column",63)(62,"dxi-column",64),ne()()}if(i&2){let t=xt();_e(),Ee("dataSource",t.dataSource)("showBorders",!0)("columnAutoWidth",!0)("columnResizingMode","nextColumn")("allowColumnResizing",!0)("allowColumnReordering",!0),_e(3),Ee("visible",!0)("showInfo",!0),_e(),Ee("enabled",!0),_e(3),Ee("enabled",!0)("editorOptions",zi(35,lMe)),_e(),Ee("selectByClick",!0)("recursive",!0),_e(),Ee("enabled",!0),_e(),Ee("enabled",!0)("allowExportSelectedData",!0),_e(),Ee("visible",!0),_e(),Ee("visible",!0),_e(),Ee("enabled",!0),_e(),Ee("allowUpdating",!0)("allowAdding",!0)("allowDeleting",!0)("useIcons",!0),_e(),Ee("showTitle",!0),_e(),Ee("validationRules",en(37,jd,zi(36,zd))),_e(),Ee("validationRules",en(40,jd,zi(39,zd))),_e(),Ee("validationRules",en(43,jd,zi(42,zd))),_e(),Ee("allowEditing",!1),_e(),Ee("validationRules",en(46,jd,zi(45,zd))),_e(),Ee("validationRules",en(49,jd,zi(48,zd))),_e(),Ee("validationRules",en(52,jd,zi(51,zd))),_e(),Ee("validationRules",en(55,jd,zi(54,zd))),_e(),Ee("validationRules",en(58,jd,zi(57,zd))),_e(36),Ee("validationRules",en(61,jd,zi(60,zd))),_e(),Ee("validationRules",en(64,jd,zi(63,zd)))}}function cMe(i,e){}var wte=(()=>{let e=class e{constructor(n,o){this.backend=n,this.DcToastService=o,this.dataSource=null,this.months=["Ocak","\u015Eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011Fustos","Eyl\xFCl","Ekim","Kas\u0131m","Aral\u0131k"],this.years=Array.from({length:10},(s,a)=>new Date().getFullYear()-a);let r=new Date;this.selectedMonth=this.months[r.getMonth()],this.selectedMonthIndex=this.months.indexOf(this.selectedMonth)+1,this.selectedYear=r.getFullYear(),this.updateDate()}ngAfterViewInit(){document.getElementById("Layer_1")?.parentElement?.click()}getData(){this.backend.getDataSource("escalator-maintenance",this.selectedMonthIndex,this.selectedYear).subscribe({next:n=>{this.dataSource=n},error:()=>{this.DcToastService.create({allowTimeBar:!0,closeButtonPosition:"right",closeWithHover:!0,content:"Veri al\u0131rken bir hata olu\u015Ftu!",position:"bottom-center",time:5,showCloseButton:!0,type:"error"})}})}onInserting(n){this.backend.addDataBlob("escalator-maintenance",n.data).subscribe({next:()=>{this.DcToastService.create({allowTimeBar:!0,closeButtonPosition:"right",closeWithHover:!0,content:"Form ba\u015Far\u0131yla g\xF6nderildi!",position:"bottom-center",time:3,showCloseButton:!0,type:"success"}),this.getData()},error:()=>{this.getData()}})}onRemove(n){this.backend.removeData("escalator-maintenance",n.key).subscribe({next:()=>{this.DcToastService.create({allowTimeBar:!0,closeButtonPosition:"right",closeWithHover:!0,content:"Veri ba\u015Far\u0131yla silindi",position:"bottom-center",time:3,showCloseButton:!0,type:"success"}),this.getData()},error:()=>{this.getData()}})}onUpdating(n){this.backend.updateData("escalator-maintenance",n.key,n.newData).subscribe({next:()=>{this.DcToastService.create({allowTimeBar:!0,closeButtonPosition:"right",closeWithHover:!0,content:"Veri ba\u015Far\u0131yla g\xFCncellendi.",position:"bottom-center",time:3,showCloseButton:!0,type:"success"}),this.getData()},error:()=>{this.getData()}})}onMonthChange(n){this.selectedMonthIndex=this.months.indexOf(n)+1,this.selectedMonth=n,this.updateDate()}onYearChange(n){this.selectedYear=n,this.updateDate()}updateDate(){this.selectedMonth&&this.selectedYear&&this.getData()}onExporting(n){let o=new xte.Workbook,r=o.addWorksheet("Y\xFCr\xFCyen Merdiven Bak\u0131m Formlar\u0131");Rc({component:n.component,worksheet:r,autoFilterEnabled:!0}).then(()=>{o.xlsx.writeBuffer().then(s=>{(0,Cte.saveAs)(new Blob([s],{type:"application/octet-stream"}),`Y\xFCr\xFCyen Merdiven Bak\u0131mlar\u0131 - ${this.selectedMonth}.${this.selectedYear} .xlsx`)})})}};e.\u0275fac=function(o){return new(o||e)(oe(nr),oe(hl))},e.\u0275cmp=$e({type:e,selectors:[["app-admin-ym-bakim"]],decls:8,vars:5,consts:[["columnChooser",""],[1,"page-wrapper"],[1,"custom-toolbar"],["placeholder","Ay Se\xE7in",3,"valueChange","dataSource","value"],["placeholder","Y\u0131l Se\xE7in",3,"valueChange","dataSource","value"],["id","data-grid-demo",2,"max-width","100%"],["id","gridContainer","keyExpr","_id","height","80vh","width","90vw",3,"onRowInserting","onRowRemoving","onRowUpdating","onExporting","dataSource","showBorders","columnAutoWidth","columnResizingMode","allowColumnResizing","allowColumnReordering"],["mode","single"],["rowRenderingMode","virtual"],["displayMode","full",3,"visible","showInfo"],["height","340px","mode","select",3,"enabled"],["my","right top","at","right bottom","of",".dx-datagrid-column-chooser-button"],[3,"enabled","editorOptions"],[3,"selectByClick","recursive"],[3,"enabled"],[3,"enabled","allowExportSelectedData"],[3,"visible"],["mode","popup",3,"allowUpdating","allowAdding","allowDeleting","useIcons"],["title","Genel Ar\u0131za Formu",3,"showTitle"],["dataField","user.name","caption","Kullan\u0131c\u0131 Ad\u0131",3,"validationRules"],["dataField","user.surname","caption","Kullan\u0131c\u0131 Soyad\u0131",3,"validationRules"],["dataField","user.phone","caption","Kullan\u0131c\u0131 Telefonu",3,"validationRules"],["dataField","createdAt","dataType","date","caption","Olu\u015Fturulma Tarihi",3,"allowEditing"],["dataField","genelBilgiler.tarih","caption","Tarih","dataType","date",3,"validationRules"],["dataField","genelBilgiler.musteriAdi","caption","M\xFC\u015Fteri Ad\u0131/\xDCnvan\u0131",3,"validationRules"],["dataField","genelBilgiler.musteriAdresi","caption","M\xFC\u015Fteri Adresi",3,"validationRules"],["dataField","genelBilgiler.mudahaleSaati","caption","M\xFCdahale Saati",3,"validationRules"],["dataField","genelBilgiler.bitisSaati","caption","Biti\u015F Saati",3,"validationRules"],["dataField","genelBilgiler.kullanilanMalzemeVeOzellikleri","caption","Kullan\u0131lan Malzemeler ve \xD6zellikleri"],["dataField","mudaheleNedeni.ariza","caption","Ar\u0131za","dataType","boolean"],["dataField","mudaheleNedeni.tamirat","caption","Tamirat","dataType","boolean"],["dataField","mudaheleNedeni.revizyon","caption","Revizyon","dataType","boolean"],["dataField","herAyYapilmasiGerekenler.ustVeAltMakinaDairesiTemizligi","caption","\xDCst ve Alt Makine Dairesi Temizli\u011Fi","dataType","boolean"],["dataField","herAyYapilmasiGerekenler.basamakRaylariTemizligi","caption","Basamak Raylar\u0131 Temizli\u011Fi","dataType","boolean"],["dataField","herAyYapilmasiGerekenler.basamakZinciriGergiKontroluYaglama","caption","Basamak Zinciri Gergi Kontrol\xFC ve Ya\u011Flama","dataType","boolean"],["dataField","herAyYapilmasiGerekenler.emniyetDevresiZincirKontakKontrolu","caption","Emniyet Devresi Zincir Kontak Kontrol\xFC","dataType","boolean"],["dataField","herAyYapilmasiGerekenler.basamakEteklikMesafeKontrolu","caption","Basamak Eteklik Mesafe Kontrol\xFC","dataType","boolean"],["dataField","herAyYapilmasiGerekenler.emniyetDevresiEtekSaciKontakKontrolu","caption","Emniyet Devresi Etek Sa\xE7\u0131 Kontak Kontrol\xFC","dataType","boolean"],["dataField","herAyYapilmasiGerekenler.basamakYuzeyKontrolu","caption","Basamak Y\xFCzey Kontrol\xFC","dataType","boolean"],["dataField","herAyYapilmasiGerekenler.basamakKilavuzPapuclarGreslenmesi","caption","Basamak K\u0131lavuz Papu\xE7lar\u0131n Greslenmesi","dataType","boolean"],["dataField","herAyYapilmasiGerekenler.emniyetDevresiBasamakSarkmaKontakKontrolu","caption","Emniyet Devresi Basamak Sarkma Kontak Kontrol\xFC","dataType","boolean"],["dataField","herAyYapilmasiGerekenler.tarakElemanlariKontrolu","caption","Tarak Elemanlar\u0131 Kontrol\xFC","dataType","boolean"],["dataField","herAyYapilmasiGerekenler.emniyetDevresiTarakKontakKontrolu","caption","Emniyet Devresi Tarak Kontak Kontrol\xFC","dataType","boolean"],["dataField","herAyYapilmasiGerekenler.kupesteBandiTahrikZincirKontrolu","caption","K\xFCpe\u015Fte Band\u0131 Tahrik Zincir Kontrol\xFC","dataType","boolean"],["dataField","herAyYapilmasiGerekenler.dublexTahrikZincirGergiKontrolu","caption","Dublex Tahrik Zincir Gergi Kontrol\xFC","dataType","boolean"],["dataField","herAyYapilmasiGerekenler.emniyetDevresiTahrikZincirKopmaKontrolu","caption","Emniyet Devresi Tahrik Zincir Kopma Kontrol\xFC","dataType","boolean"],["dataField","herAyYapilmasiGerekenler.otomatikYaglamaUnitesiYagSeviyeKontrolu","caption","Otomatik Ya\u011Flama \xDCnitesi Ya\u011F Seviye Kontrol\xFC","dataType","boolean"],["dataField","herAyYapilmasiGerekenler.kupesteBandiGerginlikKontrolu","caption","K\xFCpe\u015Fte Band\u0131 Gerginlik Kontrol\xFC","dataType","boolean"],["dataField","herAyYapilmasiGerekenler.kupesteBandiRulmanKontrolu","caption","K\xFCpe\u015Fte Band\u0131 Rulman Kontrol\xFC","dataType","boolean"],["dataField","herAyYapilmasiGerekenler.emniyetDevresiKupesteBandiKontrolu","caption","Emniyet Devresi K\xFCpe\u015Fte Band\u0131 Kontrol\xFC","dataType","boolean"],["dataField","herAyYapilmasiGerekenler.istikametAnahtariAcilStopKontrolu","caption","\u0130stikamet Anahtar\u0131 Acil Stop Kontrol\xFC","dataType","boolean"],["dataField","herAyYapilmasiGerekenler.frenMagnetKontrolu","caption","Fren Magnet Kontrol\xFC","dataType","boolean"],["dataField","herAyYapilmasiGerekenler.sonsuzDisliYagSeviyeKontrolu","caption","Sonsuz Di\u015Fli Ya\u011F Seviye Kontrol\xFC","dataType","boolean"],["dataField","altiAydaBirYapilmasiGerekenler.tarakVidalarGreslenmesi","caption","Tarak Vidalar Greslenmesi","dataType","boolean"],["dataField","altiAydaBirYapilmasiGerekenler.motorBakimi","caption","Motor Bak\u0131m\u0131","dataType","boolean"],["dataField","altiAydaBirYapilmasiGerekenler.frenPapuclarDurmaKontrolu","caption","Fren Papu\xE7lar\u0131 Durma Kontrol\xFC","dataType","boolean"],["dataField","altiAydaBirYapilmasiGerekenler.otomatikZincirYaglamaKontrolu","caption","Otomatik Zincir Ya\u011Flama Kontrol\xFC","dataType","boolean"],["dataField","yildaBirYapilmasiGerekenler.basamakMakaralariKontrolu","caption","Basamak Makaralar\u0131 Kontrol\xFC","dataType","boolean"],["dataField","yildaBirYapilmasiGerekenler.tahrikZincirTemizligi","caption","Tahrik Zincir Temizli\u011Fi","dataType","boolean"],["dataField","yildaBirYapilmasiGerekenler.merdivenAnaTahrikSaftKontrolu","caption","Merdiven Ana Tahrik \u015Eaft Kontrol\xFC","dataType","boolean"],["dataField","yildaBirYapilmasiGerekenler.kupesteBandiTahrikSaftKontrolu","caption","K\xFCpe\u015Fte Band\u0131 Tahrik \u015Eaft Kontrol\xFC","dataType","boolean"],["dataField","sikayet","caption","\u015Eikayet"],["dataField","netice","caption","Netice"],["dataField","binaYoneticisiAdiSoyadi","caption","Bina Y\xF6neticisi Ad\u0131 Soyad\u0131",3,"validationRules"],["dataField","arizaBakimMontorAdiSoyadi","caption","Ar\u0131za Bak\u0131m Mont\xF6r\xFC Ad\u0131 Soyad\u0131",3,"validationRules"]],template:function(o,r){o&1&&(se(0,"div",1)(1,"div",2)(2,"dx-select-box",3),Et("valueChange",function(a){return r.onMonthChange(a)}),ne(),se(3,"dx-select-box",4),Et("valueChange",function(a){return r.onYearChange(a)}),ne()(),ii(4,dMe,63,66)(5,cMe,0,0),yu(6,4,aMe,null,5),ne()),o&2&&(_e(2),Ee("dataSource",r.months)("value",r.selectedMonth),_e(),Ee("dataSource",r.years)("value",r.selectedYear),_e(3),xu(r.dataSource&&r.dataSource.length>0))},dependencies:[Jh],styles:[".custom-toolbar[_ngcontent-%COMP%]{display:flex}.page-wrapper[_ngcontent-%COMP%]{margin-top:2rem;position:absolute;left:50%;transform:translate(-50%)}"]});let i=e;return i})();var uMe=[{path:"form",component:Q8,canActivate:[Hd]},{path:"elevator-maintenance",component:nz,canActivate:[Hd]},{path:"escalator-maintenance",component:rz,canActivate:[Hd]},{path:"menu",component:pz,canActivate:[Hd]},{path:"user",component:gte,canActivate:[Hd]},{path:"general-failure",component:az,canActivate:[Hd]},{path:"login",component:_te},{path:"admin-elevator-maintenance",component:pte,canActivate:[Hd]},{path:"admin-escalator-maintenance",component:wte,canActivate:[Hd]},{path:"admin-general-failure",component:yte,canActivate:[Hd]},{path:"",redirectTo:"/menu",pathMatch:"full"},{path:"**",redirectTo:"/menu"}],Ste=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({imports:[aD.forRoot(uMe),aD]});let i=e;return i})();var lV={};ky(lV,{default:()=>pMe,tr:()=>hMe});var hMe={Yes:"Evet",No:"Hay\u0131r",Cancel:"\u0130ptal",Close:"Kapat",Clear:"Temizle",Done:"Tamam",Loading:"Y\xFCkleniyor...",Select:"Se\xE7...",Search:"Ara",Back:"Geri",OK:"Tamam","dxCollectionWidget-noDataText":"G\xF6sterilecek bilgi yok","dxDropDownEditor-selectLabel":"Select","validation-required":"Zorunlu","validation-required-formatted":"{0} gerekli","validation-numeric":"De\u011Fer bir say\u0131 olmal\u0131","validation-numeric-formatted":"{0} bir say\u0131 olmal\u0131","validation-range":"De\u011Fer aral\u0131k d\u0131\u015F\u0131nda","validation-range-formatted":"{0} aral\u0131k d\u0131\u015F\u0131nda","validation-stringLength":"De\u011Ferin uzunlu\u011Fu do\u011Fru de\u011Fil","validation-stringLength-formatted":"{0} uzunlu\u011Fu do\u011Fru de\u011Fil","validation-custom":"De\u011Fer ge\xE7ersiz","validation-custom-formatted":"{0} ge\xE7ersiz","validation-async":"Value is invalid","validation-async-formatted":"{0} is invalid","validation-compare":"De\u011Ferler e\u015Fle\u015Fmiyor","validation-compare-formatted":"{0} e\u015Fle\u015Fmiyor","validation-pattern":"De\u011Fer kal\u0131pla e\u015Fle\u015Fmiyor","validation-pattern-formatted":"{0} kal\u0131pla e\u015Fle\u015Fmiyor","validation-email":"E-posta ge\xE7ersiz","validation-email-formatted":"{0} ge\xE7ersiz","validation-mask":"De\u011Fer ge\xE7ersiz","dxLookup-searchPlaceholder":"Minimum karakter say\u0131s\u0131: {0}","dxList-pullingDownText":"Yenilemek i\xE7in a\u015Fa\u011F\u0131ya \xE7ekin...","dxList-pulledDownText":"Yenilemek i\xE7in b\u0131rak\u0131n...","dxList-refreshingText":"Yenileniyor...","dxList-pageLoadingText":"Y\xFCkleniyor...","dxList-nextButtonText":"Daha","dxList-selectAll":"T\xFCm\xFCn\xFC Se\xE7","dxList-listAriaLabel":"Items","dxList-listAriaLabel-deletable":"Deletable items","dxListEditDecorator-delete":"Sil","dxListEditDecorator-more":"Daha","dxScrollView-pullingDownText":"Yenilemek i\xE7in a\u015Fa\u011F\u0131ya \xE7ekin...","dxScrollView-pulledDownText":"Yenilemek i\xE7in b\u0131rak\u0131n...","dxScrollView-refreshingText":"Yenileniyor...","dxScrollView-reachBottomText":"Y\xFCkleniyor...","dxDateBox-simulatedDataPickerTitleTime":"Saat se\xE7","dxDateBox-simulatedDataPickerTitleDate":"Tarih se\xE7","dxDateBox-simulatedDataPickerTitleDateTime":"Tarih ve saati se\xE7in","dxDateBox-validation-datetime":"De\u011Fer bir tarih veya saat olmal\u0131d\u0131r","dxDateRangeBox-invalidStartDateMessage":"Start value must be a date","dxDateRangeBox-invalidEndDateMessage":"End value must be a date","dxDateRangeBox-startDateOutOfRangeMessage":"Start date is out of range","dxDateRangeBox-endDateOutOfRangeMessage":"End date is out of range","dxDateRangeBox-startDateLabel":"Ba\u015Flang\u0131\xE7 Tarihi","dxDateRangeBox-endDateLabel":"Biti\u015F Tarihi","dxFileUploader-selectFile":"Dosya se\xE7","dxFileUploader-dropFile":"veya Dosyay\u0131 buraya b\u0131rak\u0131n","dxFileUploader-bytes":"bytes","dxFileUploader-kb":"KB","dxFileUploader-Mb":"MB","dxFileUploader-Gb":"GB","dxFileUploader-upload":"Y\xFCkleme","dxFileUploader-uploaded":"Y\xFCklenen","dxFileUploader-readyToUpload":"Y\xFCklemeye haz\u0131r","dxFileUploader-uploadAbortedMessage":"Upload cancelled","dxFileUploader-uploadFailedMessage":"Y\xFCkleme ba\u015Far\u0131s\u0131z","dxFileUploader-invalidFileExtension":"Dosya t\xFCr\xFCne izin verilmiyor","dxFileUploader-invalidMaxFileSize":"Dosya \xE7ok b\xFCy\xFCk","dxFileUploader-invalidMinFileSize":"Dosya \xE7ok k\xFC\xE7\xFCk","dxRangeSlider-ariaFrom":"\u0130tibaren","dxRangeSlider-ariaTill":"Kadar","dxSwitch-switchedOnText":"A\xE7\u0131k","dxSwitch-switchedOffText":"Kapal\u0131","dxForm-optionalMark":"iste\u011Fe ba\u011Fl\u0131","dxForm-requiredMessage":"{0} gerekli","dxNumberBox-invalidValueMessage":"De\u011Fer bir say\u0131 olmal\u0131","dxNumberBox-noDataText":"Veri yok","dxDataGrid-emptyHeaderWithColumnChooserText":"Use {0} to display columns","dxDataGrid-emptyHeaderWithGroupPanelText":"Drag a column from the group panel here","dxDataGrid-emptyHeaderWithColumnChooserAndGroupPanelText":"Use {0} or drag a column from the group panel","dxDataGrid-emptyHeaderColumnChooserText":"column chooser","dxDataGrid-columnChooserTitle":"S\xFCtun Se\xE7ici","dxDataGrid-columnChooserEmptyText":"S\xFCtunu gizlemek i\xE7in buraya s\xFCr\xFCkleyin","dxDataGrid-groupContinuesMessage":"Bir sonraki sayfada devam ediyor","dxDataGrid-groupContinuedMessage":"\xD6nceki sayfadan devam","dxDataGrid-groupHeaderText":"Bu S\xFCtuna G\xF6re Grupla","dxDataGrid-ungroupHeaderText":"Grubu Kald\u0131r","dxDataGrid-ungroupAllText":"T\xFCm Gruplar\u0131 Kald\u0131r","dxDataGrid-editingEditRow":"D\xFCzenle","dxDataGrid-editingSaveRowChanges":"Kaydet","dxDataGrid-editingCancelRowChanges":"\u0130ptal","dxDataGrid-editingDeleteRow":"Sil","dxDataGrid-editingUndeleteRow":"Silme","dxDataGrid-editingConfirmDeleteMessage":"Bu kayd\u0131 silmek istedi\u011Finize emin misiniz?","dxDataGrid-validationCancelChanges":"De\u011Fi\u015Fiklikleri iptal et","dxDataGrid-groupPanelEmptyText":"Bu s\xFCtuna g\xF6re gruplamak i\xE7in bir s\xFCtun ba\u015Fl\u0131\u011F\u0131n\u0131 buraya s\xFCr\xFCkleyin","dxDataGrid-noDataText":"Veri yok","dxDataGrid-searchPanelPlaceholder":"Arama...","dxDataGrid-filterRowShowAllText":"(T\xFCm\xFC)","dxDataGrid-filterRowResetOperationText":"S\u0131f\u0131rla","dxDataGrid-filterRowOperationEquals":"E\u015Fittir","dxDataGrid-filterRowOperationNotEquals":"E\u015Fit de\u011Fil","dxDataGrid-filterRowOperationLess":"Daha k\xFC\xE7\xFCk","dxDataGrid-filterRowOperationLessOrEquals":"Daha k\xFC\xE7\xFCk veya e\u015Fit","dxDataGrid-filterRowOperationGreater":"Daha b\xFCy\xFCk","dxDataGrid-filterRowOperationGreaterOrEquals":"Daha b\xFCy\xFCk veya e\u015Fit","dxDataGrid-filterRowOperationStartsWith":"\u0130le ba\u015Flar","dxDataGrid-filterRowOperationContains":"\u0130\xE7eren","dxDataGrid-filterRowOperationNotContains":"\u0130\xE7ermeyen","dxDataGrid-filterRowOperationEndsWith":"\u0130le biten","dxDataGrid-filterRowOperationBetween":"Aras\u0131nda","dxDataGrid-filterRowOperationBetweenStartText":"Ba\u015Fla","dxDataGrid-filterRowOperationBetweenEndText":"Biti\u015F","dxDataGrid-ariaSearchBox":"Search box","dxDataGrid-applyFilterText":"Filtre uygula","dxDataGrid-trueText":"evet","dxDataGrid-falseText":"hay\u0131r","dxDataGrid-sortingAscendingText":"Artan S\u0131ralama","dxDataGrid-sortingDescendingText":"Azalan S\u0131ralama","dxDataGrid-sortingClearText":"S\u0131ralamay\u0131 Temizle","dxDataGrid-ariaNotSortedColumn":"Not sorted column","dxDataGrid-ariaSortedAscendingColumn":"Column sorted in ascending order","dxDataGrid-ariaSortedDescendingColumn":"Column sorted in descending order","dxDataGrid-ariaSortIndex":"Sort index {0}","dxDataGrid-editingSaveAllChanges":"De\u011Fi\u015Fiklikleri Kaydet","dxDataGrid-editingCancelAllChanges":"De\u011Fi\u015Fiklikleri iptal et","dxDataGrid-editingAddRow":"Sat\u0131r ekle","dxDataGrid-summaryMin":"Min: {0}","dxDataGrid-summaryMinOtherColumn":"{1} min: {0}","dxDataGrid-summaryMax":"Max: {0}","dxDataGrid-summaryMaxOtherColumn":"{1} max: {0}","dxDataGrid-summaryAvg":"Ort: {0}","dxDataGrid-summaryAvgOtherColumn":"{1} ortalamas\u0131: {0}","dxDataGrid-summarySum":"Top: {0}","dxDataGrid-summarySumOtherColumn":"{1} toplam\u0131: {0}","dxDataGrid-summaryCount":"Toplam: {0}","dxDataGrid-columnFixingFix":"Sabitle","dxDataGrid-columnFixingUnfix":"\xC7\xF6z","dxDataGrid-columnFixingLeftPosition":"Sola","dxDataGrid-columnFixingRightPosition":"Sa\u011Fa","dxDataGrid-exportTo":"D\u0131\u015Fa aktar","dxDataGrid-exportToExcel":"Excel dosyas\u0131na aktar","dxDataGrid-exporting":"D\u0131\u015Fa Aktar...","dxDataGrid-excelFormat":"Excel dosyas\u0131","dxDataGrid-selectedRows":"Se\xE7ili sat\u0131rlar","dxDataGrid-exportSelectedRows":"Se\xE7ili sat\u0131rlar\u0131 aktar","dxDataGrid-exportAll":"T\xFCm verileri d\u0131\u015Fa aktar","dxDataGrid-headerFilterLabel":"Filter options","dxDataGrid-headerFilterIndicatorLabel":"Show filter options for column '{0}'","dxDataGrid-headerFilterEmptyValue":"(Blanks)","dxDataGrid-headerFilterOK":"Tamam","dxDataGrid-headerFilterCancel":"\u0130ptal","dxDataGrid-ariaAdaptiveCollapse":"Hide additional data","dxDataGrid-ariaAdaptiveExpand":"Display additional data","dxDataGrid-ariaColumn":"S\xFCtun","dxDataGrid-ariaColumnHeader":"Column header","dxDataGrid-ariaValue":"Veri","dxDataGrid-ariaError":"Error","dxDataGrid-ariaRevertButton":"Press Escape to discard the changes","dxDataGrid-ariaFilterCell":"Filtre h\xFCcresi","dxDataGrid-ariaCollapse":"Daralt","dxDataGrid-ariaModifiedCell":"Modified","dxDataGrid-ariaDeletedCell":"Deleted","dxDataGrid-ariaEditableCell":"Editable","dxDataGrid-ariaExpand":"Geni\u015Flet","dxDataGrid-ariaCollapsedRow":"Collapsed row","dxDataGrid-ariaExpandedRow":"Expanded row","dxDataGrid-ariaDataGrid":"Tablo","dxDataGrid-ariaSearchInGrid":"Tabloda ara","dxDataGrid-ariaSelectAll":"Hepsini se\xE7","dxDataGrid-ariaSelectRow":"Sat\u0131r\u0131 se\xE7","dxDataGrid-ariaToolbar":"Data grid toolbar","dxDataGrid-ariaEditForm":"Edit form","dxDataGrid-filterBuilderPopupTitle":"Filtre Olu\u015Fturucu","dxDataGrid-filterPanelCreateFilter":"Filtre Olu\u015Ftur","dxDataGrid-filterPanelClearFilter":"Temizle","dxDataGrid-filterPanelFilterEnabledHint":"Filtreyi etkinle\u015Ftir","dxDataGrid-masterDetail":"Cell with details","dxTreeList-ariaTreeList":"Tree list with {0} rows and {1} columns","dxTreeList-ariaSearchInGrid":"Search in the tree list","dxTreeList-ariaToolbar":"Tree list toolbar","dxTreeList-editingAddRowToNode":"Ekle","dxPager-infoText":"Sayfa {0} / {1} ({2} veri)","dxPager-pagesCountText":"aras\u0131nda","dxPager-pageSize":"Items per page: {0}","dxPager-pageSizesAllText":"T\xFCm\xFC","dxPager-page":"Page {0}","dxPager-prevPage":"Previous Page","dxPager-nextPage":"Next Page","dxPager-ariaLabel":"Page Navigation","dxPager-ariaPageSize":"Page size","dxPager-ariaPageNumber":"Page number","dxPivotGrid-grandTotal":"Genel Toplam","dxPivotGrid-total":"{0} Toplam","dxPivotGrid-fieldChooserTitle":"Alan Se\xE7ici","dxPivotGrid-showFieldChooser":"Alan Se\xE7iciyi G\xF6ster","dxPivotGrid-expandAll":"T\xFCm\xFCn\xFC Geni\u015Flet","dxPivotGrid-collapseAll":"T\xFCm\xFCn\xFC Daralt","dxPivotGrid-sortColumnBySummary":'"{0}" Bu S\xFCtuna G\xF6re S\u0131rala',"dxPivotGrid-sortRowBySummary":'"{0}" Bu Sat\u0131ra G\xF6re S\u0131rala',"dxPivotGrid-removeAllSorting":"T\xFCm S\u0131ralamalar\u0131 Kald\u0131r","dxPivotGrid-dataNotAvailable":"N/A","dxPivotGrid-rowFields":"Sat\u0131r Alanlar\u0131","dxPivotGrid-columnFields":"S\xFCtun Alanlar\u0131","dxPivotGrid-dataFields":"Veri Alanlar\u0131","dxPivotGrid-filterFields":"Filtre Alanlar\u0131","dxPivotGrid-allFields":"T\xFCm Alanlar","dxPivotGrid-columnFieldArea":"S\xFCtun Alanlar\u0131n\u0131 Buraya B\u0131rak","dxPivotGrid-dataFieldArea":"Veri Alanlar\u0131n\u0131 Buraya B\u0131rak","dxPivotGrid-rowFieldArea":"Sat\u0131r Alanlar\u0131n\u0131 Buraya B\u0131rak","dxPivotGrid-filterFieldArea":"Filtre Alanlar\u0131n\u0131 Buraya B\u0131rak","dxScheduler-editorLabelTitle":"Konu","dxScheduler-editorLabelStartDate":"Ba\u015Flang\u0131\xE7 Tarihi","dxScheduler-editorLabelEndDate":"Biti\u015F Tarihi","dxScheduler-editorLabelDescription":"A\xE7\u0131klama","dxScheduler-editorLabelRecurrence":"Tekrar","dxScheduler-openAppointment":"Randevu A\xE7","dxScheduler-recurrenceNever":"Asla","dxScheduler-recurrenceMinutely":"Minutely","dxScheduler-recurrenceHourly":"Hourly","dxScheduler-recurrenceDaily":"G\xFCnl\xFCk","dxScheduler-recurrenceWeekly":"Haftal\u0131k","dxScheduler-recurrenceMonthly":"Ayl\u0131k","dxScheduler-recurrenceYearly":"Y\u0131ll\u0131k","dxScheduler-recurrenceRepeatEvery":"Her tekrarla","dxScheduler-recurrenceRepeatOn":"Tekrarla","dxScheduler-recurrenceEnd":"Tekrar\u0131 bitir","dxScheduler-recurrenceAfter":"Sonra","dxScheduler-recurrenceOn":"\u0130le","dxScheduler-recurrenceRepeatMinutely":"minute(s)","dxScheduler-recurrenceRepeatHourly":"hour(s)","dxScheduler-recurrenceRepeatDaily":"g\xFCnler","dxScheduler-recurrenceRepeatWeekly":"haftalar","dxScheduler-recurrenceRepeatMonthly":"aylar","dxScheduler-recurrenceRepeatYearly":"y\u0131llar","dxScheduler-switcherDay":"G\xFCn","dxScheduler-switcherWeek":"Hafta","dxScheduler-switcherWorkWeek":"\xC7al\u0131\u015Fma Haftas\u0131","dxScheduler-switcherMonth":"Ay","dxScheduler-switcherAgenda":"Ajanda","dxScheduler-switcherTimelineDay":"Zaman \xC7izelgesi G\xFCn\xFC","dxScheduler-switcherTimelineWeek":"Zaman \xC7izelgesi Haftas\u0131","dxScheduler-switcherTimelineWorkWeek":"Zaman \xC7izelgesi \xC7al\u0131\u015Fma Haftas\u0131","dxScheduler-switcherTimelineMonth":"TZaman \xC7izelgesi \xC7al\u0131\u015Fma Ay\u0131","dxScheduler-recurrenceRepeatOnDate":"tarihinde","dxScheduler-recurrenceRepeatCount":"olaylar","dxScheduler-allDay":"T\xFCm g\xFCn","dxScheduler-confirmRecurrenceEditTitle":"Edit Recurring Appointment","dxScheduler-confirmRecurrenceDeleteTitle":"Delete Recurring Appointment","dxScheduler-confirmRecurrenceEditMessage":"Yaln\u0131zca bu randevuyu veya t\xFCm diziyi d\xFCzenlemek ister misiniz?","dxScheduler-confirmRecurrenceDeleteMessage":"Yaln\u0131zca bu randevuyu veya t\xFCm diziyi silmek istiyor musunuz?","dxScheduler-confirmRecurrenceEditSeries":"Serileri d\xFCzenle","dxScheduler-confirmRecurrenceDeleteSeries":"Serileri sil","dxScheduler-confirmRecurrenceEditOccurrence":"Randevuyu d\xFCzenle","dxScheduler-confirmRecurrenceDeleteOccurrence":"Randevuyu sil","dxScheduler-noTimezoneTitle":"Saat dilimi yok","dxScheduler-moreAppointments":"{0} daha","dxCalendar-currentDay":"Today","dxCalendar-currentMonth":"Current month","dxCalendar-currentYear":"Current year","dxCalendar-currentYearRange":"Current year range","dxCalendar-todayButtonText":"Bug\xFCn","dxCalendar-ariaWidgetName":"Takvim","dxCalendar-previousMonthButtonLabel":"Previous month","dxCalendar-previousYearButtonLabel":"Previous year","dxCalendar-previousDecadeButtonLabel":"Previous decade","dxCalendar-previousCenturyButtonLabel":"Previous century","dxCalendar-nextMonthButtonLabel":"Next month","dxCalendar-nextYearButtonLabel":"Next year","dxCalendar-nextDecadeButtonLabel":"Next decade","dxCalendar-nextCenturyButtonLabel":"Next century","dxCalendar-captionMonthLabel":"Month selection","dxCalendar-captionYearLabel":"Year selection","dxCalendar-captionDecadeLabel":"Decade selection","dxCalendar-captionCenturyLabel":"Century selection","dxCalendar-selectedDate":"The selected date is {0}","dxCalendar-selectedDateRange":"The selected date range is from {0} to {1}","dxColorView-ariaRed":"K\u0131rm\u0131z\u0131","dxColorView-ariaGreen":"Ye\u015Fil","dxColorView-ariaBlue":"Mavi","dxColorView-ariaAlpha":"\u015Eeffafl\u0131k","dxColorView-ariaHex":"Renk kodu","dxTagBox-selected":"{0} se\xE7ili","dxTagBox-allSelected":"T\xFCm\xFC se\xE7ildi ({0})","dxTagBox-moreSelected":"{0} daha","dxTagBox-tagRoleDescription":"Tag. Press the delete button to remove this tag","vizExport-printingButtonText":"Yazd\u0131r","vizExport-titleMenuText":"D\u0131\u015Fa Aktar/Yazd\u0131r","vizExport-exportButtonText":"{0} dosya","dxFilterBuilder-and":"Ve","dxFilterBuilder-or":"Veya","dxFilterBuilder-notAnd":"De\u011Fil Ve","dxFilterBuilder-notOr":"De\u011Fil Veya","dxFilterBuilder-addCondition":"Ko\u015Ful Ekle","dxFilterBuilder-addGroup":"Grup Ekle","dxFilterBuilder-enterValueText":"<de\u011Fer gir>","dxFilterBuilder-filterOperationEquals":"E\u015Fit","dxFilterBuilder-filterOperationNotEquals":"E\u015Fit de\u011Fil","dxFilterBuilder-filterOperationLess":"Daha k\xFC\xE7\xFCk","dxFilterBuilder-filterOperationLessOrEquals":"Daha k\xFC\xE7\xFCk veya e\u015Fit","dxFilterBuilder-filterOperationGreater":"Daha b\xFCy\xFCk","dxFilterBuilder-filterOperationGreaterOrEquals":"Daha b\xFCy\xFCk veya e\u015Fit","dxFilterBuilder-filterOperationStartsWith":"\u0130le ba\u015Flar","dxFilterBuilder-filterOperationContains":"\u0130\xE7erir","dxFilterBuilder-filterOperationNotContains":"\u0130\xE7ermez","dxFilterBuilder-filterOperationEndsWith":"\u0130le biter","dxFilterBuilder-filterOperationIsBlank":"Bo\u015F","dxFilterBuilder-filterOperationIsNotBlank":"Bo\u015F de\u011Fil","dxFilterBuilder-filterOperationBetween":"Aras\u0131nda","dxFilterBuilder-filterOperationAnyOf":"Herhangi biri","dxFilterBuilder-filterOperationNoneOf":"Hi\xE7biri","dxHtmlEditor-dialogColorCaption":"Yaz\u0131 Tipi Rengini De\u011Fi\u015Ftir","dxHtmlEditor-dialogBackgroundCaption":"Arka Plan Rengini De\u011Fi\u015Ftir","dxHtmlEditor-dialogLinkCaption":"Link Ekle","dxHtmlEditor-dialogLinkUrlField":"URL","dxHtmlEditor-dialogLinkTextField":"Metin","dxHtmlEditor-dialogLinkTargetField":"Linki yeni pencerede a\xE7","dxHtmlEditor-dialogImageCaption":"Resim Ekle","dxHtmlEditor-dialogImageUrlField":"URL","dxHtmlEditor-dialogImageAltField":"Alternatif metin","dxHtmlEditor-dialogImageWidthField":"Geni\u015Flik (px)","dxHtmlEditor-dialogImageHeightField":"Y\xFCkseklik (px)","dxHtmlEditor-dialogInsertTableRowsField":"Sat\u0131r","dxHtmlEditor-dialogInsertTableColumnsField":"S\xFCtun","dxHtmlEditor-dialogInsertTableCaption":"Tablo Ekle","dxHtmlEditor-dialogUpdateImageCaption":"Update Image","dxHtmlEditor-dialogImageUpdateButton":"Update","dxHtmlEditor-dialogImageAddButton":"Add","dxHtmlEditor-dialogImageSpecifyUrl":"From the Web","dxHtmlEditor-dialogImageSelectFile":"From This Device","dxHtmlEditor-dialogImageKeepAspectRatio":"Keep Aspect Ratio","dxHtmlEditor-dialogImageEncodeToBase64":"Encode to Base64","dxHtmlEditor-heading":"Ba\u015Fl\u0131k","dxHtmlEditor-normalText":"Normal metin","dxHtmlEditor-background":"Arka Plan Rengi","dxHtmlEditor-bold":"Kal\u0131n","dxHtmlEditor-color":"Yaz\u0131 Tipi Rengi","dxHtmlEditor-font":"Yaz\u0131 Tipi","dxHtmlEditor-italic":"Yat\u0131k","dxHtmlEditor-link":"Ba\u011Flant\u0131 Ekle","dxHtmlEditor-image":"Resim Ekle","dxHtmlEditor-size":"Boyut","dxHtmlEditor-strike":"\xDCst\xFC \xC7izili","dxHtmlEditor-subscript":"Alt Simge","dxHtmlEditor-superscript":"\xDCst Simge","dxHtmlEditor-underline":"At\u0131 \xC7izili","dxHtmlEditor-blockquote":"\xD6bek","dxHtmlEditor-header":"\xDCst Bilgi","dxHtmlEditor-increaseIndent":"Girintiyi Art\u0131r","dxHtmlEditor-decreaseIndent":"Girintiyi Azalt","dxHtmlEditor-orderedList":"S\u0131ral\u0131 Liste","dxHtmlEditor-bulletList":"Bullet List","dxHtmlEditor-alignLeft":"Align Left","dxHtmlEditor-alignCenter":"Align Center","dxHtmlEditor-alignRight":"Align Right","dxHtmlEditor-alignJustify":"Align Justify","dxHtmlEditor-codeBlock":"Code Block","dxHtmlEditor-variable":"Add Variable","dxHtmlEditor-undo":"Undo","dxHtmlEditor-redo":"Redo","dxHtmlEditor-clear":"Clear Formatting","dxHtmlEditor-insertTable":"Insert Table","dxHtmlEditor-insertHeaderRow":"Insert Header Row","dxHtmlEditor-insertRowAbove":"Insert Row Above","dxHtmlEditor-insertRowBelow":"Insert Row Below","dxHtmlEditor-insertColumnLeft":"Insert Column Left","dxHtmlEditor-insertColumnRight":"Insert Column Right","dxHtmlEditor-deleteColumn":"Delete Column","dxHtmlEditor-deleteRow":"Delete Row","dxHtmlEditor-deleteTable":"Delete Table","dxHtmlEditor-cellProperties":"Cell Properties","dxHtmlEditor-tableProperties":"Table Properties","dxHtmlEditor-insert":"Insert","dxHtmlEditor-delete":"Delete","dxHtmlEditor-border":"Border","dxHtmlEditor-style":"Style","dxHtmlEditor-width":"Width","dxHtmlEditor-height":"Height","dxHtmlEditor-borderColor":"Color","dxHtmlEditor-tableBackground":"Background","dxHtmlEditor-dimensions":"Dimensions","dxHtmlEditor-alignment":"Alignment","dxHtmlEditor-horizontal":"Horizontal","dxHtmlEditor-vertical":"Vertical","dxHtmlEditor-paddingVertical":"Vertical Padding","dxHtmlEditor-paddingHorizontal":"Horizontal Padding","dxHtmlEditor-pixels":"Pixels","dxHtmlEditor-list":"List","dxHtmlEditor-ordered":"Ordered","dxHtmlEditor-bullet":"Bullet","dxHtmlEditor-align":"Align","dxHtmlEditor-center":"Center","dxHtmlEditor-left":"Left","dxHtmlEditor-right":"Right","dxHtmlEditor-indent":"Indent","dxHtmlEditor-justify":"Justify","dxHtmlEditor-borderStyleNone":"none","dxHtmlEditor-borderStyleHidden":"hidden","dxHtmlEditor-borderStyleDotted":"dotted","dxHtmlEditor-borderStyleDashed":"dashed","dxHtmlEditor-borderStyleSolid":"solid","dxHtmlEditor-borderStyleDouble":"double","dxHtmlEditor-borderStyleGroove":"groove","dxHtmlEditor-borderStyleRidge":"ridge","dxHtmlEditor-borderStyleInset":"inset","dxHtmlEditor-borderStyleOutset":"outset","dxFileManager-newDirectoryName":"Untitled directory","dxFileManager-rootDirectoryName":"Files","dxFileManager-errorNoAccess":"Eri\u015Fim reddedildi. \u0130\u015Flem tamamlanam\u0131yor.","dxFileManager-errorDirectoryExistsFormat":"Klas\xF6r '{0}' zaten var.","dxFileManager-errorFileExistsFormat":"Dosya '{0}' zaten var.","dxFileManager-errorFileNotFoundFormat":"Dosya '{0}' bulunamad\u0131","dxFileManager-errorDirectoryNotFoundFormat":"Directory '{0}' not found.","dxFileManager-errorWrongFileExtension":"File extension is not allowed.","dxFileManager-errorMaxFileSizeExceeded":"File size exceeds the maximum allowed size.","dxFileManager-errorInvalidSymbols":"This name contains invalid characters.","dxFileManager-errorDefault":"Belirtilmemi\u015F hata.","dxFileManager-errorDirectoryOpenFailed":"The directory cannot be opened","dxFileManager-commandCreate":"New directory","dxFileManager-commandRename":"Rename","dxFileManager-commandMove":"Move to","dxFileManager-commandCopy":"Copy to","dxFileManager-commandDelete":"Delete","dxFileManager-commandDownload":"Download","dxFileManager-commandUpload":"Upload files","dxFileManager-commandRefresh":"Refresh","dxFileManager-commandThumbnails":"Thumbnails View","dxFileManager-commandDetails":"Details View","dxFileManager-commandClearSelection":"Clear selection","dxFileManager-commandShowNavPane":"Toggle navigation pane","dxFileManager-dialogDirectoryChooserMoveTitle":"Move to","dxFileManager-dialogDirectoryChooserMoveButtonText":"Move","dxFileManager-dialogDirectoryChooserCopyTitle":"Copy to","dxFileManager-dialogDirectoryChooserCopyButtonText":"Copy","dxFileManager-dialogRenameItemTitle":"Rename","dxFileManager-dialogRenameItemButtonText":"Save","dxFileManager-dialogCreateDirectoryTitle":"New directory","dxFileManager-dialogCreateDirectoryButtonText":"Create","dxFileManager-dialogDeleteItemTitle":"Delete","dxFileManager-dialogDeleteItemButtonText":"Delete","dxFileManager-dialogDeleteItemSingleItemConfirmation":"Are you sure you want to delete {0}?","dxFileManager-dialogDeleteItemMultipleItemsConfirmation":"Are you sure you want to delete {0} items?","dxFileManager-dialogButtonCancel":"Cancel","dxFileManager-editingCreateSingleItemProcessingMessage":"Creating a directory inside {0}","dxFileManager-editingCreateSingleItemSuccessMessage":"Created a directory inside {0}","dxFileManager-editingCreateSingleItemErrorMessage":"Directory was not created","dxFileManager-editingCreateCommonErrorMessage":"Directory was not created","dxFileManager-editingRenameSingleItemProcessingMessage":"Renaming an item inside {0}","dxFileManager-editingRenameSingleItemSuccessMessage":"Renamed an item inside {0}","dxFileManager-editingRenameSingleItemErrorMessage":"Item was not renamed","dxFileManager-editingRenameCommonErrorMessage":"Item was not renamed","dxFileManager-editingDeleteSingleItemProcessingMessage":"Deleting an item from {0}","dxFileManager-editingDeleteMultipleItemsProcessingMessage":"Deleting {0} items from {1}","dxFileManager-editingDeleteSingleItemSuccessMessage":"Deleted an item from {0}","dxFileManager-editingDeleteMultipleItemsSuccessMessage":"Deleted {0} items from {1}","dxFileManager-editingDeleteSingleItemErrorMessage":"Item was not deleted","dxFileManager-editingDeleteMultipleItemsErrorMessage":"{0} items were not deleted","dxFileManager-editingDeleteCommonErrorMessage":"Some items were not deleted","dxFileManager-editingMoveSingleItemProcessingMessage":"Moving an item to {0}","dxFileManager-editingMoveMultipleItemsProcessingMessage":"Moving {0} items to {1}","dxFileManager-editingMoveSingleItemSuccessMessage":"Moved an item to {0}","dxFileManager-editingMoveMultipleItemsSuccessMessage":"Moved {0} items to {1}","dxFileManager-editingMoveSingleItemErrorMessage":"Item was not moved","dxFileManager-editingMoveMultipleItemsErrorMessage":"{0} items were not moved","dxFileManager-editingMoveCommonErrorMessage":"Some items were not moved","dxFileManager-editingCopySingleItemProcessingMessage":"Copying an item to {0}","dxFileManager-editingCopyMultipleItemsProcessingMessage":"Copying {0} items to {1}","dxFileManager-editingCopySingleItemSuccessMessage":"Copied an item to {0}","dxFileManager-editingCopyMultipleItemsSuccessMessage":"Copied {0} items to {1}","dxFileManager-editingCopySingleItemErrorMessage":"Item was not copied","dxFileManager-editingCopyMultipleItemsErrorMessage":"{0} items were not copied","dxFileManager-editingCopyCommonErrorMessage":"Some items were not copied","dxFileManager-editingUploadSingleItemProcessingMessage":"Uploading an item to {0}","dxFileManager-editingUploadMultipleItemsProcessingMessage":"Uploading {0} items to {1}","dxFileManager-editingUploadSingleItemSuccessMessage":"Uploaded an item to {0}","dxFileManager-editingUploadMultipleItemsSuccessMessage":"Uploaded {0} items to {1}","dxFileManager-editingUploadSingleItemErrorMessage":"Item was not uploaded","dxFileManager-editingUploadMultipleItemsErrorMessage":"{0} items were not uploaded","dxFileManager-editingUploadCanceledMessage":"Canceled","dxFileManager-editingDownloadSingleItemErrorMessage":"Item was not downloaded","dxFileManager-editingDownloadMultipleItemsErrorMessage":"{0} items were not downloaded","dxFileManager-listDetailsColumnCaptionName":"Name","dxFileManager-listDetailsColumnCaptionDateModified":"Date Modified","dxFileManager-listDetailsColumnCaptionFileSize":"File Size","dxFileManager-listThumbnailsTooltipTextSize":"Size","dxFileManager-listThumbnailsTooltipTextDateModified":"Date Modified","dxFileManager-notificationProgressPanelTitle":"Progress","dxFileManager-notificationProgressPanelEmptyListText":"No operations","dxFileManager-notificationProgressPanelOperationCanceled":"Canceled","dxDiagram-categoryGeneral":"General","dxDiagram-categoryFlowchart":"Flowchart","dxDiagram-categoryOrgChart":"Org Chart","dxDiagram-categoryContainers":"Containers","dxDiagram-categoryCustom":"Custom","dxDiagram-commandExportToSvg":"Export to SVG","dxDiagram-commandExportToPng":"Export to PNG","dxDiagram-commandExportToJpg":"Export to JPEG","dxDiagram-commandUndo":"Undo","dxDiagram-commandRedo":"Redo","dxDiagram-commandFontName":"Font Name","dxDiagram-commandFontSize":"Font Size","dxDiagram-commandBold":"Bold","dxDiagram-commandItalic":"Italic","dxDiagram-commandUnderline":"Underline","dxDiagram-commandTextColor":"Font Color","dxDiagram-commandLineColor":"Line Color","dxDiagram-commandLineWidth":"Line Width","dxDiagram-commandLineStyle":"Line Style","dxDiagram-commandLineStyleSolid":"Solid","dxDiagram-commandLineStyleDotted":"Dotted","dxDiagram-commandLineStyleDashed":"Dashed","dxDiagram-commandFillColor":"Fill Color","dxDiagram-commandAlignLeft":"Align Left","dxDiagram-commandAlignCenter":"Align Center","dxDiagram-commandAlignRight":"Align Right","dxDiagram-commandConnectorLineType":"Connector Line Type","dxDiagram-commandConnectorLineStraight":"Straight","dxDiagram-commandConnectorLineOrthogonal":"Orthogonal","dxDiagram-commandConnectorLineStart":"Connector Line Start","dxDiagram-commandConnectorLineEnd":"Connector Line End","dxDiagram-commandConnectorLineNone":"None","dxDiagram-commandConnectorLineArrow":"Arrow","dxDiagram-commandFullscreen":"Full Screen","dxDiagram-commandUnits":"Units","dxDiagram-commandPageSize":"Page Size","dxDiagram-commandPageOrientation":"Page Orientation","dxDiagram-commandPageOrientationLandscape":"Landscape","dxDiagram-commandPageOrientationPortrait":"Portrait","dxDiagram-commandPageColor":"Page Color","dxDiagram-commandShowGrid":"Show Grid","dxDiagram-commandSnapToGrid":"Snap to Grid","dxDiagram-commandGridSize":"Grid Size","dxDiagram-commandZoomLevel":"Zoom Level","dxDiagram-commandAutoZoom":"Auto Zoom","dxDiagram-commandFitToContent":"Fit to Content","dxDiagram-commandFitToWidth":"Fit to Width","dxDiagram-commandAutoZoomByContent":"Auto Zoom by Content","dxDiagram-commandAutoZoomByWidth":"Auto Zoom by Width","dxDiagram-commandSimpleView":"Simple View","dxDiagram-commandCut":"Cut","dxDiagram-commandCopy":"Copy","dxDiagram-commandPaste":"Paste","dxDiagram-commandSelectAll":"Select All","dxDiagram-commandDelete":"Delete","dxDiagram-commandBringToFront":"Bring to Front","dxDiagram-commandSendToBack":"Send to Back","dxDiagram-commandLock":"Lock","dxDiagram-commandUnlock":"Unlock","dxDiagram-commandInsertShapeImage":"Insert Image...","dxDiagram-commandEditShapeImage":"Change Image...","dxDiagram-commandDeleteShapeImage":"Delete Image","dxDiagram-commandLayoutLeftToRight":"Left-to-right","dxDiagram-commandLayoutRightToLeft":"Right-to-left","dxDiagram-commandLayoutTopToBottom":"Top-to-bottom","dxDiagram-commandLayoutBottomToTop":"Bottom-to-top","dxDiagram-unitIn":"in","dxDiagram-unitCm":"cm","dxDiagram-unitPx":"px","dxDiagram-dialogButtonOK":"OK","dxDiagram-dialogButtonCancel":"Cancel","dxDiagram-dialogInsertShapeImageTitle":"Insert Image","dxDiagram-dialogEditShapeImageTitle":"Change Image","dxDiagram-dialogEditShapeImageSelectButton":"Select image","dxDiagram-dialogEditShapeImageLabelText":"or drop a file here","dxDiagram-uiExport":"Export","dxDiagram-uiProperties":"Properties","dxDiagram-uiSettings":"Settings","dxDiagram-uiShowToolbox":"Show Toolbox","dxDiagram-uiSearch":"Search","dxDiagram-uiStyle":"Style","dxDiagram-uiLayout":"Layout","dxDiagram-uiLayoutTree":"Tree","dxDiagram-uiLayoutLayered":"Layered","dxDiagram-uiDiagram":"Diagram","dxDiagram-uiText":"Text","dxDiagram-uiObject":"Object","dxDiagram-uiConnector":"Connector","dxDiagram-uiPage":"Page","dxDiagram-shapeText":"Text","dxDiagram-shapeRectangle":"Rectangle","dxDiagram-shapeEllipse":"Ellipse","dxDiagram-shapeCross":"Cross","dxDiagram-shapeTriangle":"Triangle","dxDiagram-shapeDiamond":"Diamond","dxDiagram-shapeHeart":"Heart","dxDiagram-shapePentagon":"Pentagon","dxDiagram-shapeHexagon":"Hexagon","dxDiagram-shapeOctagon":"Octagon","dxDiagram-shapeStar":"Star","dxDiagram-shapeArrowLeft":"Left Arrow","dxDiagram-shapeArrowUp":"Up Arrow","dxDiagram-shapeArrowRight":"Right Arrow","dxDiagram-shapeArrowDown":"Down Arrow","dxDiagram-shapeArrowUpDown":"Up Down Arrow","dxDiagram-shapeArrowLeftRight":"Left Right Arrow","dxDiagram-shapeProcess":"Process","dxDiagram-shapeDecision":"Decision","dxDiagram-shapeTerminator":"Terminator","dxDiagram-shapePredefinedProcess":"Predefined Process","dxDiagram-shapeDocument":"Document","dxDiagram-shapeMultipleDocuments":"Multiple Documents","dxDiagram-shapeManualInput":"Manual Input","dxDiagram-shapePreparation":"Preparation","dxDiagram-shapeData":"Data","dxDiagram-shapeDatabase":"Database","dxDiagram-shapeHardDisk":"Hard Disk","dxDiagram-shapeInternalStorage":"Internal Storage","dxDiagram-shapePaperTape":"Paper Tape","dxDiagram-shapeManualOperation":"Manual Operation","dxDiagram-shapeDelay":"Delay","dxDiagram-shapeStoredData":"Stored Data","dxDiagram-shapeDisplay":"Display","dxDiagram-shapeMerge":"Merge","dxDiagram-shapeConnector":"Connector","dxDiagram-shapeOr":"Or","dxDiagram-shapeSummingJunction":"Summing Junction","dxDiagram-shapeContainerDefaultText":"Container","dxDiagram-shapeVerticalContainer":"Vertical Container","dxDiagram-shapeHorizontalContainer":"Horizontal Container","dxDiagram-shapeCardDefaultText":"Person's Name","dxDiagram-shapeCardWithImageOnLeft":"Card with Image on the Left","dxDiagram-shapeCardWithImageOnTop":"Card with Image on the Top","dxDiagram-shapeCardWithImageOnRight":"Card with Image on the Right","dxGantt-dialogTitle":"Title","dxGantt-dialogStartTitle":"Start","dxGantt-dialogEndTitle":"End","dxGantt-dialogProgressTitle":"Progress","dxGantt-dialogResourcesTitle":"Resources","dxGantt-dialogResourceManagerTitle":"Resource Manager","dxGantt-dialogTaskDetailsTitle":"Task Details","dxGantt-dialogEditResourceListHint":"Edit Resource List","dxGantt-dialogEditNoResources":"No resources","dxGantt-dialogButtonAdd":"Add","dxGantt-contextMenuNewTask":"New Task","dxGantt-contextMenuNewSubtask":"New Subtask","dxGantt-contextMenuDeleteTask":"Delete Task","dxGantt-contextMenuDeleteDependency":"Delete Dependency","dxGantt-dialogTaskDeleteConfirmation":"Deleting a task also deletes all its dependencies and subtasks. Are you sure you want to delete this task?","dxGantt-dialogDependencyDeleteConfirmation":"Are you sure you want to delete the dependency from the task?","dxGantt-dialogResourcesDeleteConfirmation":"Deleting a resource also deletes it from tasks to which this resource is assigned. Are you sure you want to delete these resources? Resources: {0}","dxGantt-dialogConstraintCriticalViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. How would you like to proceed?","dxGantt-dialogCancelOperationMessage":"Cancel the operation","dxGantt-dialogDeleteDependencyMessage":"Delete the dependency","dxGantt-dialogMoveTaskAndKeepDependencyMessage":"Move the task and keep the dependency","dxGantt-dialogConstraintCriticalViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. How would you like to proceed?","dxGantt-dialogDeleteDependenciesMessage":"Delete the dependency relations","dxGantt-dialogMoveTaskAndKeepDependenciesMessage":"Move the task and keep the dependencies","dxGantt-undo":"Undo","dxGantt-redo":"Redo","dxGantt-expandAll":"Expand All","dxGantt-collapseAll":"Collapse All","dxGantt-addNewTask":"Add New Task","dxGantt-deleteSelectedTask":"Delete Selected Task","dxGantt-zoomIn":"Zoom In","dxGantt-zoomOut":"Zoom Out","dxGantt-fullScreen":"Full Screen","dxGantt-quarter":"Q{0}","dxGantt-sortingAscendingText":"Artan S\u0131ralama","dxGantt-sortingDescendingText":"Azalan S\u0131ralama","dxGantt-sortingClearText":"S\u0131ralamay\u0131 Temizle","dxGantt-showResources":"Show Resources","dxGantt-showDependencies":"Show Dependencies","dxGantt-dialogStartDateValidation":"Start date must be after {0}","dxGantt-dialogEndDateValidation":"End date must be after {0}","dxGallery-itemName":"Gallery item","dxMultiView-elementAriaRoleDescription":"MultiView","dxMultiView-elementAriaLabel":"Use the arrow keys or swipe to navigate between views","dxMultiView-itemAriaRoleDescription":"View","dxMultiView-itemAriaLabel":"{0} of {1}","dxSplitter-resizeHandleAriaLabel":"Split bar"},pMe={tr:hMe};var Ote=is(mp());function fMe(i,e){if(i&1){let t=gn();se(0,"button",4),Et("click",function(){Xt(t);let o=xt();return Zt(o.logout())}),se(1,"div",5)(2,"mat-icon"),me(3,"exit_to_app"),ne(),se(4,"div",6),me(5,"\xC7\u0131k\u0131\u015F"),ne()()()}}var Ite=(()=>{let e=class e{constructor(n){this.router=n,this.title="frontend",this.isLoggedIn=!1}ngOnInit(){this.routerSubscription=this.router.events.subscribe(n=>{n instanceof ca&&(this.isLoggedIn=!!localStorage.getItem("userData"))}),dK(lV),lK("tr")}ngOnDestroy(){this.routerSubscription&&this.routerSubscription.unsubscribe()}logout(){Ote.default.fire({title:"Emin misiniz?",text:"\xC7\u0131k\u0131\u015F yapacaks\u0131n\u0131z.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Evet, \xE7\u0131k\u0131\u015F yap",cancelButtonText:"Hay\u0131r, iptal et"}).then(n=>{n.isConfirmed&&(localStorage.removeItem("userData"),this.router.navigate(["/login"]))})}};e.\u0275fac=function(o){return new(o||e)(oe(Os))},e.\u0275cmp=$e({type:e,selectors:[["app-root"]],decls:5,vars:1,consts:[[1,"nav"],["src","assets/savasNavLogo.jpg","routerLink","/menu"],[1,"logout-btn"],[1,"content"],[1,"logout-btn",3,"click"],[1,"exit-button-container"],[1,"exit-text"]],template:function(o,r){o&1&&(se(0,"nav",0),je(1,"img",1),ii(2,fMe,6,0,"button",2),ne(),se(3,"div",3),je(4,"router-outlet"),ne()),o&2&&(_e(2),Wn(r.isLoggedIn?2:-1))},dependencies:[tD,Mx,Dm],styles:['@charset "UTF-8";.nav[_ngcontent-%COMP%]{position:sticky;z-index:9;width:100%;background-color:#fff;top:0;left:0;display:flex;justify-content:space-between;align-items:center;-webkit-box-shadow:0px 2px 8px 0px #072777;-moz-box-shadow:0px 2px 8px 0px #072777;box-shadow:0 2px 8px #072777}.nav[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:10vh}.logout-btn[_ngcontent-%COMP%]{background-color:#f44336;border:none;color:#fff;padding:.5rem 1rem;text-align:center;text-decoration:none;display:inline-block;font-size:1rem;margin-right:1rem;cursor:pointer;border-radius:var(--mdc-outlined-card-container-shape, var(--mat-app-corner-medium))}.exit-button-container[_ngcontent-%COMP%]{display:flex;align-items:center}.exit-button-container[_ngcontent-%COMP%]   .exit-text[_ngcontent-%COMP%]{margin-left:1rem}@media only screen and (max-width: 600px){.exit-text[_ngcontent-%COMP%]{display:none}}']});let i=e;return i})();var mMe="@",gMe=(()=>{let e=class e{constructor(n,o,r,s,a){this.doc=n,this.delegate=o,this.zone=r,this.animationType=s,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=Ge(m3,{optional:!0}),this.loadingSchedulerFn=Ge(_Me,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let n=()=>this.moduleImpl??import("./chunk-ITZCHLAQ.js").then(r=>r),o;return this.loadingSchedulerFn?o=this.loadingSchedulerFn(n):o=n(),o.catch(r=>{throw new Rn(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:s})=>{this._engine=r(this.animationType,this.doc);let a=new s(this.delegate,this._engine,this.zone);return this.delegate=a,a})}createRenderer(n,o){let r=this.delegate.createRenderer(n,o);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let s=new dV(r);return o?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let l=a.createRenderer(n,o);s.use(l),this.scheduler?.notify(10)}).catch(a=>{s.use(r)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(o){bu()},e.\u0275prov=rt({token:e,factory:e.\u0275fac});let i=e;return i})(),dV=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,n,o){this.delegate.insertBefore(e,t,n,o)}removeChild(e,t,n){this.delegate.removeChild(e,t,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,o){this.delegate.setAttribute(e,t,n,o)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,o){this.delegate.setStyle(e,t,n,o)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){this.shouldReplay(t)&&this.replay.push(o=>o.setProperty(e,t,n)),this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.shouldReplay(t)&&this.replay.push(o=>o.listen(e,t,n)),this.delegate.listen(e,t,n)}shouldReplay(e){return this.replay!==null&&e.startsWith(mMe)}},_Me=new ct("");function Dte(i="animations"){return E_("NgAsyncAnimations"),rp([{provide:Bf,useFactory:(e,t,n)=>new gMe(e,t,n,i),deps:[jt,Hf,_t]},{provide:$o,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var bMe=new ct("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let i=Ge(io);return()=>i.scrollStrategies.reposition()}});function vMe(i){return()=>i.scrollStrategies.reposition()}var yMe={provide:bMe,deps:[io],useFactory:vMe};var Tte=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({providers:[yMe],imports:[Es,ga,_m,sn,Pu,sb,_m,sn]});let i=e;return i})();function xMe(i,e){if(i&1){let t=gn();se(0,"div",1)(1,"button",2),Et("click",function(){Xt(t);let o=xt();return Zt(o.action())}),me(2),ne()()}if(i&2){let t=xt();_e(2),Ss(" ",t.data.action," ")}}var CMe=["label"];function wMe(i,e){}var SMe=Math.pow(2,31)-1,Cy=class{constructor(e,t){this._overlayRef=t,this._afterDismissed=new Tt,this._afterOpened=new Tt,this._onAction=new Tt,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,SMe))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},Ate=new ct("MatSnackBarData"),p_=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},EMe=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=Pt({type:e,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0});let i=e;return i})(),OMe=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=Pt({type:e,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0});let i=e;return i})(),IMe=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=Pt({type:e,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0});let i=e;return i})(),kte=(()=>{let e=class e{constructor(n,o){this.snackBarRef=n,this.data=o}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}};e.\u0275fac=function(o){return new(o||e)(oe(Cy),oe(Ate))},e.\u0275cmp=$e({type:e,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[Wi],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(o,r){o&1&&(se(0,"div",0),me(1),ne(),ii(2,xMe,3,1,"div",1)),o&2&&(_e(),Ss(" ",r.data.message,`
`),_e(),Wn(r.hasAction?2:-1))},dependencies:[Dr,EMe,OMe,IMe],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0});let i=e;return i})(),DMe={snackBarState:la("state",[zl("void, hidden",co({transform:"scale(0.8)",opacity:0})),zl("visible",co({transform:"scale(1)",opacity:1})),Lr("* => visible",Or("150ms cubic-bezier(0, 0, 0.2, 1)")),Lr("* => void, * => hidden",Or("75ms cubic-bezier(0.4, 0.0, 1, 1)",co({opacity:0})))])},TMe=0,AMe=(()=>{let e=class e extends Lu{constructor(n,o,r,s,a){super(),this._ngZone=n,this._elementRef=o,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=a,this._document=Ge(jt),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Tt,this._onExit=new Tt,this._onEnter=new Tt,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${TMe++}`,this.attachDomPortal=l=>{this._assertNotAttached();let d=this._portalOutlet.attachDomPortal(l);return this._afterPortalAttached(),d},a.politeness==="assertive"&&!a.announcementMessage?this._live="assertive":a.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(n){this._assertNotAttached();let o=this._portalOutlet.attachComponentPortal(n);return this._afterPortalAttached(),o}attachTemplatePortal(n){this._assertNotAttached();let o=this._portalOutlet.attachTemplatePortal(n);return this._afterPortalAttached(),o}onAnimationEnd(n){let{fromState:o,toState:r}=n;if((r==="void"&&o!=="void"||r==="hidden")&&this._completeExit(),r==="visible"){let s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let n=this._elementRef.nativeElement,o=this.snackBarConfig.panelClass;o&&(Array.isArray(o)?o.forEach(a=>n.classList.add(a)):n.classList.add(o)),this._exposeToModals();let r=this._label.nativeElement,s="mdc-snackbar__label";r.classList.toggle(s,!r.querySelector(`.${s}`))}_exposeToModals(){let n=this._liveElementId,o=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<o.length;r++){let s=o[r],a=s.getAttribute("aria-owns");this._trackedModals.add(s),a?a.indexOf(n)===-1&&s.setAttribute("aria-owns",a+" "+n):s.setAttribute("aria-owns",n)}}_clearFromModals(){this._trackedModals.forEach(n=>{let o=n.getAttribute("aria-owns");if(o){let r=o.replace(this._liveElementId,"").trim();r.length>0?n.setAttribute("aria-owns",r):n.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let n=this._elementRef.nativeElement.querySelector("[aria-hidden]"),o=this._elementRef.nativeElement.querySelector("[aria-live]");if(n&&o){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&n.contains(document.activeElement)&&(r=document.activeElement),n.removeAttribute("aria-hidden"),o.appendChild(n),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}};e.\u0275fac=function(o){return new(o||e)(oe(_t),oe(At),oe(Vn),oe(rn),oe(p_))},e.\u0275cmp=$e({type:e,selectors:[["mat-snack-bar-container"]],viewQuery:function(o,r){if(o&1&&(_n(ol,7),_n(CMe,7)),o&2){let s;Lt(s=Nt())&&(r._portalOutlet=s.first),Lt(s=Nt())&&(r._label=s.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(o,r){o&1&&zy("@state.done",function(a){return r.onAnimationEnd(a)}),o&2&&Hy("@state",r._animationState)},standalone:!0,features:[yt,Wi],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(o,r){o&1&&(se(0,"div",1)(1,"div",2,0)(3,"div",3),ii(4,wMe,0,0,"ng-template",4),ne(),je(5,"div"),ne()()),o&2&&(_e(5),ki("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[ol],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-app-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-app-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-app-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-app-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color, var(--mat-app-inverse-primary));--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[DMe.snackBarState]}});let i=e;return i})();function kMe(){return new p_}var MMe=new ct("mat-snack-bar-default-options",{providedIn:"root",factory:kMe}),RMe=(()=>{let e=class e{get _openedSnackBarRef(){let n=this._parentSnackBar;return n?n._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(n){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=n:this._snackBarRefAtThisLevel=n}constructor(n,o,r,s,a,l){this._overlay=n,this._live=o,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=a,this._defaultConfig=l,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=kte,this.snackBarContainerComponent=AMe,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(n,o){return this._attach(n,o)}openFromTemplate(n,o){return this._attach(n,o)}open(n,o="",r){let s=Le(Le({},this._defaultConfig),r);return s.data={message:n,action:o},s.announcementMessage===n&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(n,o){let r=o&&o.viewContainerRef&&o.viewContainerRef.injector,s=En.create({parent:r||this._injector,providers:[{provide:p_,useValue:o}]}),a=new ma(this.snackBarContainerComponent,o.viewContainerRef,s),l=n.attach(a);return l.instance.snackBarConfig=o,l.instance}_attach(n,o){let r=Le(Le(Le({},new p_),this._defaultConfig),o),s=this._createOverlay(r),a=this._attachSnackBarContainer(s,r),l=new Cy(a,s);if(n instanceof Ya){let d=new nl(n,null,{$implicit:r.data,snackBarRef:l});l.instance=a.attachTemplatePortal(d)}else{let d=this._createInjector(r,l),c=new ma(n,void 0,d),u=a.attachComponentPortal(c);l.instance=u.instance}return this._breakpointObserver.observe(qx.HandsetPortrait).pipe(Xi(s.detachments())).subscribe(d=>{s.overlayElement.classList.toggle(this.handsetCssClass,d.matches)}),r.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(l,r),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(n,o){n.afterDismissed().subscribe(()=>{this._openedSnackBarRef==n&&(this._openedSnackBarRef=null),o.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{n.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):n.containerInstance.enter(),o.duration&&o.duration>0&&n.afterOpened().subscribe(()=>n._dismissAfter(o.duration))}_createOverlay(n){let o=new sl;o.direction=n.direction;let r=this._overlay.position().global(),s=n.direction==="rtl",a=n.horizontalPosition==="left"||n.horizontalPosition==="start"&&!s||n.horizontalPosition==="end"&&s,l=!a&&n.horizontalPosition!=="center";return a?r.left("0"):l?r.right("0"):r.centerHorizontally(),n.verticalPosition==="top"?r.top("0"):r.bottom("0"),o.positionStrategy=r,this._overlay.create(o)}_createInjector(n,o){let r=n&&n.viewContainerRef&&n.viewContainerRef.injector;return En.create({parent:r||this._injector,providers:[{provide:Cy,useValue:o},{provide:Ate,useValue:n.data}]})}};e.\u0275fac=function(o){return new(o||e)(ke(io),ke(p6),ke(En),ke(cm),ke(e,12),ke(MMe))},e.\u0275prov=rt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Mte=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({providers:[RMe],imports:[ga,rl,bm,sn,kte,sn]});let i=e;return i})();var Rte=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e}),e.\u0275inj=Fe({imports:[sn]});let i=e;return i})();var Fte=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Pe({type:e,bootstrap:[Ite]}),e.\u0275inj=Fe({providers:[E4(),Dte(),nr],imports:[cx,Ste,T8,Tte,bm,U8,E6,$5,Mte,ax,Y8,u8,JH,z6,r8,uz,Rte,tz,S2,oV,sV,rV,aV]});let i=e;return i})();w4().bootstrapModule(Fte,{ngZoneEventCoalescing:!0}).catch(i=>console.error(i));
